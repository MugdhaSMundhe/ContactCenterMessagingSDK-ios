var __BUNDLE_START_TIME__=this.nativePerformanceNow?nativePerformanceNow():Date.now(),__DEV__=false,process=this.process||{},__METRO_GLOBAL_PREFIX__='';process.env=process.env||{};process.env.NODE_ENV=process.env.NODE_ENV||"production";
!(function(r){"use strict";r.__r=i,r[__METRO_GLOBAL_PREFIX__+"__d"]=function(r,n,o){if(null!=e[n])return;var i={dependencyMap:o,factory:r,hasError:!1,importedAll:t,importedDefault:t,isInitialized:!1,publicModule:{exports:{}}};e[n]=i},r.__c=o,r.__registerSegment=function(r,t,n){s[r]=t,n&&n.forEach(function(t){e[t]||v.has(t)||v.set(t,r)})};var e=o(),t={},n={}.hasOwnProperty;function o(){return e=Object.create(null)}function i(r){var t=r,n=e[t];return n&&n.isInitialized?n.publicModule.exports:d(t,n)}function l(r){var n=r;if(e[n]&&e[n].importedDefault!==t)return e[n].importedDefault;var o=i(n),l=o&&o.__esModule?o.default:o;return e[n].importedDefault=l}function u(r){var o=r;if(e[o]&&e[o].importedAll!==t)return e[o].importedAll;var l,u=i(o);if(u&&u.__esModule)l=u;else{if(l={},u)for(var a in u)n.call(u,a)&&(l[a]=u[a]);l.default=u}return e[o].importedAll=l}i.importDefault=l,i.importAll=u,i.context=function(){throw new Error("The experimental Metro feature `require.context` is not enabled in your project.")};var a=!1;function d(e,t){if(!a&&r.ErrorUtils){var n;a=!0;try{n=h(e,t)}catch(e){r.ErrorUtils.reportFatalError(e)}return a=!1,n}return h(e,t)}var c=16,f=65535;function p(r){return{segmentId:r>>>c,localId:r&f}}i.unpackModuleId=p,i.packModuleId=function(r){return(r.segmentId<<c)+r.localId};var s=[],v=new Map;function h(t,n){if(!n&&s.length>0){var o,a=null!==(o=v.get(t))&&void 0!==o?o:0,d=s[a];null!=d&&(d(t),n=e[t],v.delete(t))}var c=r.nativeRequire;if(!n&&c){var f=p(t),h=f.segmentId;c(f.localId,h),n=e[t]}if(!n)throw Error('Requiring unknown module "'+t+'".');if(n.hasError)throw _(t,n.error);n.isInitialized=!0;var m=n,w=m.factory,M=m.dependencyMap;try{var g=n.publicModule;return g.id=t,w(r,i,l,u,g,g.exports,M),n.factory=void 0,n.dependencyMap=void 0,g.exports}catch(r){throw n.hasError=!0,n.error=r,n.isInitialized=!1,n.publicModule.exports=void 0,r}}function _(r,e){return Error('Requiring module "'+r+'", which threw an exception: '+e)}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
!(function(n){var e=(function(){function n(n,e){return n}function e(n){var e={};return n.forEach(function(n,r){e[n]=!0}),e}function r(n,r,u){if(n.formatValueCalls++,n.formatValueCalls>200)return"[TOO BIG formatValueCalls "+n.formatValueCalls+" exceeded limit of 200]";var f=t(n,r);if(f)return f;var c=Object.keys(r),s=e(c);if(d(r)&&(c.indexOf('message')>=0||c.indexOf('description')>=0))return o(r);if(0===c.length){if(v(r)){var g=r.name?': '+r.name:'';return n.stylize('[Function'+g+']','special')}if(p(r))return n.stylize(RegExp.prototype.toString.call(r),'regexp');if(y(r))return n.stylize(Date.prototype.toString.call(r),'date');if(d(r))return o(r)}var h,b,m='',j=!1,O=['{','}'];(h=r,Array.isArray(h)&&(j=!0,O=['[',']']),v(r))&&(m=' [Function'+(r.name?': '+r.name:'')+']');return p(r)&&(m=' '+RegExp.prototype.toString.call(r)),y(r)&&(m=' '+Date.prototype.toUTCString.call(r)),d(r)&&(m=' '+o(r)),0!==c.length||j&&0!=r.length?u<0?p(r)?n.stylize(RegExp.prototype.toString.call(r),'regexp'):n.stylize('[Object]','special'):(n.seen.push(r),b=j?i(n,r,u,s,c):c.map(function(e){return l(n,r,u,s,e,j)}),n.seen.pop(),a(b,m,O)):O[0]+m+O[1]}function t(n,e){if(s(e))return n.stylize('undefined','undefined');if('string'==typeof e){var r="'"+JSON.stringify(e).replace(/^"|"$/g,'').replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(r,'string')}return c(e)?n.stylize(''+e,'number'):u(e)?n.stylize(''+e,'boolean'):f(e)?n.stylize('null','null'):void 0}function o(n){return'['+Error.prototype.toString.call(n)+']'}function i(n,e,r,t,o){for(var i=[],a=0,u=e.length;a<u;++a)b(e,String(a))?i.push(l(n,e,r,t,String(a),!0)):i.push('');return o.forEach(function(o){o.match(/^\d+$/)||i.push(l(n,e,r,t,o,!0))}),i}function l(n,e,t,o,i,l){var a,u,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?u=c.set?n.stylize('[Getter/Setter]','special'):n.stylize('[Getter]','special'):c.set&&(u=n.stylize('[Setter]','special')),b(o,i)||(a='['+i+']'),u||(n.seen.indexOf(c.value)<0?(u=f(t)?r(n,c.value,null):r(n,c.value,t-1)).indexOf('\n')>-1&&(u=l?u.split('\n').map(function(n){return'  '+n}).join('\n').substr(2):'\n'+u.split('\n').map(function(n){return'   '+n}).join('\n')):u=n.stylize('[Circular]','special')),s(a)){if(l&&i.match(/^\d+$/))return u;(a=JSON.stringify(''+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=n.stylize(a,'name')):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=n.stylize(a,'string'))}return a+': '+u}function a(n,e,r){return n.reduce(function(n,e){return 0,e.indexOf('\n')>=0&&0,n+e.replace(/\u001b\[\d\d?m/g,'').length+1},0)>60?r[0]+(''===e?'':e+'\n ')+' '+n.join(',\n  ')+' '+r[1]:r[0]+e+' '+n.join(', ')+' '+r[1]}function u(n){return'boolean'==typeof n}function f(n){return null===n}function c(n){return'number'==typeof n}function s(n){return void 0===n}function p(n){return g(n)&&'[object RegExp]'===h(n)}function g(n){return'object'==typeof n&&null!==n}function y(n){return g(n)&&'[object Date]'===h(n)}function d(n){return g(n)&&('[object Error]'===h(n)||n instanceof Error)}function v(n){return'function'==typeof n}function h(n){return Object.prototype.toString.call(n)}function b(n,e){return Object.prototype.hasOwnProperty.call(n,e)}return function(e,t){return r({seen:[],formatValueCalls:0,stylize:n},e,t.depth)}})(),r='(index)',t={trace:0,info:1,warn:2,error:3},o=[];o[t.trace]='debug',o[t.info]='log',o[t.warn]='warning',o[t.error]='error';var i=1;function l(r){return function(){var l;l=1===arguments.length&&'string'==typeof arguments[0]?arguments[0]:Array.prototype.map.call(arguments,function(n){return e(n,{depth:10})}).join(', ');var a=arguments[0],u=r;'string'==typeof a&&'Warning: '===a.slice(0,9)&&u>=t.error&&(u=t.warn),n.__inspectorLog&&n.__inspectorLog(o[u],l,[].slice.call(arguments),i),s.length&&(l=p('',l)),n.nativeLoggingHook(l,u)}}function a(n,e){return Array.apply(null,Array(e)).map(function(){return n})}var u="\u2502",f="\u2510",c="\u2518",s=[];function p(n,e){return s.join('')+n+' '+(e||'')}if(n.nativeLoggingHook){n.console;n.console={error:l(t.error),info:l(t.info),log:l(t.info),warn:l(t.warn),trace:l(t.trace),debug:l(t.trace),table:function(e){if(!Array.isArray(e)){var o=e;for(var i in e=[],o)if(o.hasOwnProperty(i)){var l=o[i];l[r]=i,e.push(l)}}if(0!==e.length){var u=Object.keys(e[0]).sort(),f=[],c=[];u.forEach(function(n,r){c[r]=n.length;for(var t=0;t<e.length;t++){var o=(e[t][n]||'?').toString();f[t]=f[t]||[],f[t][r]=o,c[r]=Math.max(c[r],o.length)}});for(var s=y(c.map(function(n){return a('-',n).join('')}),'-'),p=[y(u),s],g=0;g<e.length;g++)p.push(y(f[g]));n.nativeLoggingHook('\n'+p.join('\n'),t.info)}else n.nativeLoggingHook('',t.info);function y(n,e){return e=e||' ',n.map(function(n,e){return n+a(' ',c[e]-n.length).join('')}).join(e+'|'+e)}},group:function(e){n.nativeLoggingHook(p(f,e),t.info),s.push(u)},groupEnd:function(){s.pop(),n.nativeLoggingHook(p(c),t.info)},groupCollapsed:function(e){n.nativeLoggingHook(p(c,e),t.info),s.push(u)},assert:function(e,r){e||n.nativeLoggingHook('Assertion failed: '+r,t.error)}},Object.defineProperty(console,'_isPolyfilled',{value:!0,enumerable:!1})}else if(!n.console){var g=function(){},y=n.print||g;n.console={debug:y,error:y,info:y,log:y,trace:y,warn:y,assert:function(n,e){n||y('Assertion failed: '+e)},clear:g,dir:g,dirxml:g,group:g,groupCollapsed:g,groupEnd:g,profile:g,profileEnd:g,table:g},Object.defineProperty(console,'_isPolyfilled',{value:!0,enumerable:!1})}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
!(function(n){var r=0,t=function(n,r){throw n},l={setGlobalHandler:function(n){t=n},getGlobalHandler:function(){return t},reportError:function(n){t&&t(n,!1)},reportFatalError:function(n){t&&t(n,!0)},applyWithGuard:function(n,t,u,o,e){try{return r++,n.apply(t,u)}catch(n){l.reportError(n)}finally{r--}return null},applyWithGuardIfNeeded:function(n,r,t){return l.inGuard()?n.apply(r,t):(l.applyWithGuard(n,r,t),null)},inGuard:function(){return!!r},guard:function(n,r,t){var u;if('function'!=typeof n)return console.warn('A function must be passed to ErrorUtils.guard, got ',n),null;var o=null!=(u=null!=r?r:n.name)?u:'<generated guard>';return function(){for(var r=arguments.length,u=new Array(r),e=0;e<r;e++)u[e]=arguments[e];return l.applyWithGuard(n,null!=t?t:this,u,null,o)}}};n.ErrorUtils=l})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
'undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window&&window,(function(){'use strict';var e=Object.prototype.hasOwnProperty;'function'!=typeof Object.entries&&(Object.entries=function(n){if(null==n)throw new TypeError('Object.entries called on non-object');var o=[];for(var t in n)e.call(n,t)&&o.push([t,n[t]]);return o}),'function'!=typeof Object.values&&(Object.values=function(n){if(null==n)throw new TypeError('Object.values called on non-object');var o=[];for(var t in n)e.call(n,t)&&o.push(n[t]);return o})})();
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);r(d[1]),r(d[2]),r(d[3]),r(d[4]);var t=r(d[5])(r(d[6]));r(d[7]),n.AppRegistry.registerComponent(r(d[8]).name,function(){return t.default})},0,[1,379,380,385,387,3,406,407,946]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={get AccessibilityInfo(){return r(d[0]).default},get ActivityIndicator(){return r(d[1])},get Button(){return r(d[2])},get DatePickerIOS(){return r(d[3])('DatePickerIOS-merged',"DatePickerIOS has been merged with DatePickerAndroid and will be removed in a future release. It can now be installed and imported from '@react-native-community/datetimepicker' instead of 'react-native'. See https://github.com/react-native-datetimepicker/datetimepicker"),r(d[4])},get DrawerLayoutAndroid(){return r(d[5])},get FlatList(){return r(d[6])},get Image(){return r(d[7])},get ImageBackground(){return r(d[8])},get InputAccessoryView(){return r(d[9])},get KeyboardAvoidingView(){return r(d[10]).default},get MaskedViewIOS(){return r(d[3])('maskedviewios-moved',"MaskedViewIOS has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-masked-view/masked-view' instead of 'react-native'. See https://github.com/react-native-masked-view/masked-view"),r(d[11])},get Modal(){return r(d[12])},get Pressable(){return r(d[13]).default},get ProgressBarAndroid(){return r(d[3])('progress-bar-android-moved',"ProgressBarAndroid has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/progress-bar-android' instead of 'react-native'. See https://github.com/react-native-progress-view/progress-bar-android"),r(d[14])},get ProgressViewIOS(){return r(d[3])('progress-view-ios-moved',"ProgressViewIOS has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/progress-view' instead of 'react-native'. See https://github.com/react-native-progress-view/progress-view"),r(d[15])},get RefreshControl(){return r(d[16])},get SafeAreaView(){return r(d[17]).default},get ScrollView(){return r(d[18])},get SectionList(){return r(d[19]).default},get Slider(){return r(d[3])('slider-moved',"Slider has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/slider' instead of 'react-native'. See https://github.com/callstack/react-native-slider"),r(d[20])},get StatusBar(){return r(d[21])},get Switch(){return r(d[22]).default},get Text(){return r(d[23])},get TextInput(){return r(d[24])},get Touchable(){return r(d[25])},get TouchableHighlight(){return r(d[26])},get TouchableNativeFeedback(){return r(d[27])},get TouchableOpacity(){return r(d[28])},get TouchableWithoutFeedback(){return r(d[29])},get View(){return r(d[30])},get VirtualizedList(){return r(d[31])},get VirtualizedSectionList(){return r(d[32])},get ActionSheetIOS(){return r(d[33])},get Alert(){return r(d[34])},get Animated(){return r(d[35])},get Appearance(){return r(d[36])},get AppRegistry(){return r(d[37])},get AppState(){return r(d[38])},get AsyncStorage(){return r(d[3])('async-storage-moved',"AsyncStorage has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-async-storage/async-storage' instead of 'react-native'. See https://github.com/react-native-async-storage/async-storage"),r(d[39])},get BackHandler(){return r(d[40])},get Clipboard(){return r(d[3])('clipboard-moved',"Clipboard has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-clipboard/clipboard' instead of 'react-native'. See https://github.com/react-native-clipboard/clipboard"),r(d[41])},get DeviceInfo(){return r(d[42])},get DevSettings(){return r(d[43])},get Dimensions(){return r(d[44])},get Easing(){return r(d[45])},get findNodeHandle(){return r(d[46]).findNodeHandle},get I18nManager(){return r(d[47])},get ImagePickerIOS(){return r(d[3])('imagePickerIOS-moved',"ImagePickerIOS has been extracted from react-native core and will be removed in a future release. Please upgrade to use either '@react-native-community/react-native-image-picker' or 'expo-image-picker'. If you cannot upgrade to a different library, please install the deprecated '@react-native-community/image-picker-ios' package. See https://github.com/rnc-archive/react-native-image-picker-ios"),r(d[48])},get InteractionManager(){return r(d[49])},get Keyboard(){return r(d[50])},get LayoutAnimation(){return r(d[51])},get Linking(){return r(d[52])},get LogBox(){return r(d[53])},get NativeDialogManagerAndroid(){return r(d[54]).default},get NativeEventEmitter(){return r(d[55]).default},get Networking(){return r(d[56])},get PanResponder(){return r(d[57])},get PermissionsAndroid(){return r(d[58])},get PixelRatio(){return r(d[59])},get PushNotificationIOS(){return r(d[3])('pushNotificationIOS-moved',"PushNotificationIOS has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/push-notification-ios' instead of 'react-native'. See https://github.com/react-native-push-notification-ios/push-notification-ios"),r(d[60])},get Settings(){return r(d[61])},get Share(){return r(d[62])},get StyleSheet(){return r(d[63])},get Systrace(){return r(d[64])},get ToastAndroid(){return r(d[65])},get TurboModuleRegistry(){return r(d[66])},get UIManager(){return r(d[67])},get unstable_batchedUpdates(){return r(d[46]).unstable_batchedUpdates},get useColorScheme(){return r(d[68]).default},get useWindowDimensions(){return r(d[69]).default},get UTFSequence(){return r(d[70])},get Vibration(){return r(d[71])},get YellowBox(){return r(d[72])},get DeviceEventEmitter(){return r(d[73]).default},get DynamicColorIOS(){return r(d[74]).DynamicColorIOS},get NativeAppEventEmitter(){return r(d[75])},get NativeModules(){return r(d[76])},get Platform(){return r(d[77])},get PlatformColor(){return r(d[78]).PlatformColor},get processColor(){return r(d[79])},get requireNativeComponent(){return r(d[80])},get RootTagContext(){return r(d[81]).RootTagContext},get unstable_enableLogBox(){return function(){return console.warn('LogBox is enabled by default so there is no need to call unstable_enableLogBox() anymore. This is a no op and will be removed in the next version.')}},get ColorPropType(){r(d[82])(!1,"ColorPropType has been removed from React Native. Migrate to ColorPropType exported from 'deprecated-react-native-prop-types'.")},get EdgeInsetsPropType(){r(d[82])(!1,"EdgeInsetsPropType has been removed from React Native. Migrate to EdgeInsetsPropType exported from 'deprecated-react-native-prop-types'.")},get PointPropType(){r(d[82])(!1,"PointPropType has been removed from React Native. Migrate to PointPropType exported from 'deprecated-react-native-prop-types'.")},get ViewPropTypes(){r(d[82])(!1,"ViewPropTypes has been removed from React Native. Migrate to ViewPropTypes exported from 'deprecated-react-native-prop-types'.")}}},1,[2,174,187,282,283,285,239,269,286,287,289,290,292,299,181,301,260,303,244,278,305,307,310,188,314,318,322,200,201,323,176,243,279,324,102,202,326,328,342,345,334,348,350,351,160,228,35,297,353,212,246,247,355,358,105,93,83,359,361,159,363,365,367,175,28,369,19,140,370,373,374,375,377,4,378,113,21,17,136,133,185,296,20]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(d[0])(r(d[1])),t=r(d[0])(r(d[2])),l=r(d[0])(r(d[3])),u=r(d[0])(r(d[4])),o=r(d[0])(r(d[5])),s='android'===t.default.OS?new Map([['change','touchExplorationDidChange'],['reduceMotionChanged','reduceMotionDidChange'],['screenReaderChanged','touchExplorationDidChange'],['accessibilityServiceChanged','accessibilityServiceDidChange']]):new Map([['announcementFinished','announcementFinished'],['boldTextChanged','boldTextChanged'],['change','screenReaderChanged'],['grayscaleChanged','grayscaleChanged'],['invertColorsChanged','invertColorsChanged'],['reduceMotionChanged','reduceMotionChanged'],['reduceTransparencyChanged','reduceTransparencyChanged'],['screenReaderChanged','screenReaderChanged']]),c={isBoldTextEnabled:function(){return'android'===t.default.OS?Promise.resolve(!1):new Promise(function(n,t){null!=u.default?u.default.getCurrentBoldTextState(n,t):t(null)})},isGrayscaleEnabled:function(){return'android'===t.default.OS?Promise.resolve(!1):new Promise(function(n,t){null!=u.default?u.default.getCurrentGrayscaleState(n,t):t(null)})},isInvertColorsEnabled:function(){return'android'===t.default.OS?Promise.resolve(!1):new Promise(function(n,t){null!=u.default?u.default.getCurrentInvertColorsState(n,t):t(null)})},isReduceMotionEnabled:function(){return new Promise(function(n,o){'android'===t.default.OS?null!=l.default?l.default.isReduceMotionEnabled(n):o(null):null!=u.default?u.default.getCurrentReduceMotionState(n,o):o(null)})},prefersCrossFadeTransitions:function(){return new Promise(function(n,l){if('android'===t.default.OS)return Promise.resolve(!1);null!=(null==u.default?void 0:u.default.getCurrentPrefersCrossFadeTransitionsState)?u.default.getCurrentPrefersCrossFadeTransitionsState(n,l):l(null)})},isReduceTransparencyEnabled:function(){return'android'===t.default.OS?Promise.resolve(!1):new Promise(function(n,t){null!=u.default?u.default.getCurrentReduceTransparencyState(n,t):t(null)})},isScreenReaderEnabled:function(){return new Promise(function(n,o){'android'===t.default.OS?null!=l.default?l.default.isTouchExplorationEnabled(n):o(null):null!=u.default?u.default.getCurrentVoiceOverState(n,o):o(null)})},isAccessibilityServiceEnabled:function(){return new Promise(function(n,u){'android'===t.default.OS&&null!=l.default&&null!=l.default.isAccessibilityServiceEnabled?l.default.isAccessibilityServiceEnabled(n):u(null)})},addEventListener:function(t,l){var u=s.get(t);return null==u?{remove:function(){}}:n.default.addListener(u,l)},setAccessibilityFocus:function(n){(0,o.default)(n,'focus')},sendAccessibilityEvent:function(n,l){'ios'===t.default.OS&&'click'===l||(0,r(d[6]).sendAccessibilityEvent)(n,l)},announceForAccessibility:function(n){'android'===t.default.OS?null==l.default||l.default.announceForAccessibility(n):null==u.default||u.default.announceForAccessibility(n)},announceForAccessibilityWithOptions:function(n,o){'android'===t.default.OS?null==l.default||l.default.announceForAccessibility(n):null!=u.default&&u.default.announceForAccessibilityWithOptions?null==u.default||u.default.announceForAccessibilityWithOptions(n,o):null==u.default||u.default.announceForAccessibility(n)},getRecommendedTimeoutMillis:function(n){return'android'===t.default.OS?new Promise(function(t,u){null!=l.default&&l.default.getRecommendedTimeoutMillis?l.default.getRecommendedTimeoutMillis(n,t):t(n)}):Promise.resolve(n)}};e.default=c},2,[3,4,17,32,33,34,35]);
__d(function(g,r,i,a,m,_e,d){m.exports=function(e){return e&&e.__esModule?e:{default:e}},m.exports.__esModule=!0,m.exports.default=m.exports},3,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1]));e.default=new t.default},4,[3,5]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),u=r(d[0])(r(d[3]));e.default=(function(){return(0,u.default)(function t(){(0,n.default)(this,t),this._registry={}},[{key:"addListener",value:function(t,n,u){var s=l(this._registry,t),o={context:u,listener:n,remove:function(){s.delete(o)}};return s.add(o),o}},{key:"emit",value:function(n){var u=this._registry[n];if(null!=u){for(var l=arguments.length,s=new Array(l>1?l-1:0),o=1;o<l;o++)s[o-1]=arguments[o];for(var f of(0,t.default)(u))f.listener.apply(f.context,s)}}},{key:"removeAllListeners",value:function(t){null==t?this._registry={}:delete this._registry[t]}},{key:"listenerCount",value:function(t){var n=this._registry[t];return null==n?0:n.size}}])})();function l(t,n){var u=t[n];return null==u&&(u=new Set,t[n]=u),u}},5,[3,6,12,13]);
__d(function(g,_r,i,a,m,e,d){m.exports=function(t){return _r(d[0])(t)||_r(d[1])(t)||_r(d[2])(t)||_r(d[3])()},m.exports.__esModule=!0,m.exports.default=m.exports},6,[7,9,10,11]);
__d(function(g,_r,i,a,m,e,d){m.exports=function(r){if(Array.isArray(r))return _r(d[0])(r)},m.exports.__esModule=!0,m.exports.default=m.exports},7,[8]);
__d(function(g,_r,i,_a,m,_e,d){m.exports=function(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n},m.exports.__esModule=!0,m.exports.default=m.exports},8,[]);
__d(function(g,_r,i,a,m,e,d){m.exports=function(o){if("undefined"!=typeof Symbol&&null!=o[Symbol.iterator]||null!=o["@@iterator"])return Array.from(o)},m.exports.__esModule=!0,m.exports.default=m.exports},9,[]);
__d(function(g,_r,i,_a,m,e,d){m.exports=function(t,r){if(t){if("string"==typeof t)return _r(d[0])(t,r);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_r(d[0])(t,r):void 0}},m.exports.__esModule=!0,m.exports.default=m.exports},10,[8]);
__d(function(g,r,i,a,m,e,d){m.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},m.exports.__esModule=!0,m.exports.default=m.exports},11,[]);
__d(function(g,r,i,_a,m,e,d){m.exports=function(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")},m.exports.__esModule=!0,m.exports.default=m.exports},12,[]);
__d(function(g,_r,i,a,m,_e,d){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_r(d[0])(o.key),o)}}m.exports=function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r},m.exports.__esModule=!0,m.exports.default=m.exports},13,[14]);
__d(function(g,r,_i,a,m,e,d){m.exports=function(t){var o=r(d[0])(t,"string");return"symbol"==r(d[1]).default(o)?o:o+""},m.exports.__esModule=!0,m.exports.default=m.exports},14,[15,16]);
__d(function(g,_r,_i,a,m,_e,d){m.exports=function(t,r){if("object"!=_r(d[0]).default(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_r(d[0]).default(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)},m.exports.__esModule=!0,m.exports.default=m.exports},15,[16]);
__d(function(g,r,i,a,m,e,d){function o(t){"@babel/helpers - typeof";return m.exports=o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},m.exports.__esModule=!0,m.exports.default=m.exports,o(t)}m.exports=o,m.exports.__esModule=!0,m.exports.default=m.exports},16,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),n={__constants:null,OS:'ios',get Version(){return this.constants.osVersion},get constants(){return null==this.__constants&&(this.__constants=t.default.getConstants()),this.__constants},get isPad(){return'pad'===this.constants.interfaceIdiom},get isTV(){return'tv'===this.constants.interfaceIdiom},get isTesting(){return!1},select:function(t){return'ios'in t?t.ios:'native'in t?t.native:t.default}};m.exports=n},17,[3,18]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var a=f?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(o,u,a):o[u]=e[u]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.getEnforcing('PlatformConstants')},18,[19]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.get=function(n){return u(n)},e.getEnforcing=function(t){var o=u(t);return(0,n.default)(null!=o,"TurboModuleRegistry.getEnforcing(...): '"+t+"' could not be found. Verify that a module by this name is registered in the native binary."),o};var n=r(d[0])(r(d[1])),t=g.__turboModuleProxy;function u(n){if(!0!==g.RN$Bridgeless){var u=r(d[2])[n];if(null!=u)return u}return null!=t?t(n):null}},19,[3,20,21]);
__d(function(g,r,i,_a,m,_e,_d){'use strict';m.exports=function(e,n,o,t,a,f,s,d){if(!e){var u;if(void 0===n)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[o,t,a,f,s,d],l=0;(u=new Error(n.replace(/%s/g,function(){return c[l++]}))).name='Invariant Violation'}throw u.framesToPop=1,u}}},20,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function n(n,t){if(!n)return null;var l=r(d[0])(n,5),f=l[0],s=l[1],c=l[2],v=l[3],h=l[4];if(r(d[1])(!f.startsWith('RCT')&&!f.startsWith('RK'),"Module name prefixes should've been stripped by the native side but wasn't for "+f),!s&&!c)return{name:f};var y={};return c&&c.forEach(function(n,l){var f=v&&u(v,l)||!1,s=h&&u(h,l)||!1;r(d[1])(!f||!s,'Cannot have a method that is both async and a sync hook');var c=f?'promise':s?'sync':'async';y[n]=o(t,l,c)}),Object.assign(y,s),null==y.getConstants?y.getConstants=function(){return s||Object.freeze({})}:console.warn("Unable to define method 'getConstants()' on NativeModule '"+f+"'. NativeModule '"+f+"' already has a constant or method called 'getConstants'. Please remove it."),{name:f,module:y}}function t(t,o){r(d[1])(g.nativeRequireModuleConfig,"Can't lazily create module without nativeRequireModuleConfig");var u=n(g.nativeRequireModuleConfig(t),o);return u&&u.module}function o(n,t,o){var u=null;return(u='promise'===o?function(){for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];var s=new Error;return new Promise(function(o,f){r(d[2]).enqueueNativeCall(n,t,u,function(n){return o(n)},function(n){return f(l(n,s))})})}:function(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];var s=l.length>0?l[l.length-1]:null,c=l.length>1?l[l.length-2]:null,v='function'==typeof s,h='function'==typeof c;h&&r(d[1])(v,'Cannot have a non-function arg after a function arg.');var y=v?s:null,C=h?c:null,b=v+h,M=l.slice(0,l.length-b);if('sync'===o)return r(d[2]).callNativeSyncHook(n,t,M,C,y);r(d[2]).enqueueNativeCall(n,t,M,C,y)}).type=o,u}function u(n,t){return-1!==n.indexOf(t)}function l(n,t){return Object.assign(t,n||{})}g.__fbGenNativeModule=n;var f={};if(g.nativeModuleProxy)f=g.nativeModuleProxy;else if(!g.nativeExtensions){var s=g.__fbBatchedBridgeConfig;r(d[1])(s,'__fbBatchedBridgeConfig is not set, cannot invoke native modules');var c=r(d[3]);(s.remoteModuleConfig||[]).forEach(function(o,u){var l=n(o,u);l&&(l.module?f[l.name]=l.module:c(f,l.name,{get:function(){return t(l.name,u)}}))})}m.exports=f},21,[22,20,26,31]);
__d(function(g,_r,i,a,m,_e,d){m.exports=function(e,t){return _r(d[0])(e)||_r(d[1])(e,t)||_r(d[2])(e,t)||_r(d[3])()},m.exports.__esModule=!0,m.exports.default=m.exports},22,[23,24,10,25]);
__d(function(g,_r,i,a,m,e,d){m.exports=function(r){if(Array.isArray(r))return r},m.exports.__esModule=!0,m.exports.default=m.exports},23,[]);
__d(function(g,_r,_i,_a,m,_e,d){m.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var l,n,u,o,f=[],i=!0,a=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(l=u.call(r)).done)&&(f.push(l.value),f.length!==t);i=!0);}catch(e){a=!0,n=e}finally{try{if(!i&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(a)throw n}}return f}},m.exports.__esModule=!0,m.exports.default=m.exports},24,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},m.exports.__esModule=!0,m.exports.default=m.exports},25,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=new(r(d[0]));Object.defineProperty(g,'__fbBatchedBridge',{configurable:!0,value:t}),m.exports=t},26,[27]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=(function(){function t(){r(d[0])(this,t),this._lazyCallableModules={},this._queue=[[],[],[],0],this._successCallbacks=new Map,this._failureCallbacks=new Map,this._callID=0,this._lastFlush=0,this._eventLoopStartTime=Date.now(),this._reactNativeMicrotasksCallback=null,this.callFunctionReturnFlushedQueue=this.callFunctionReturnFlushedQueue.bind(this),this.flushedQueue=this.flushedQueue.bind(this),this.invokeCallbackAndReturnFlushedQueue=this.invokeCallbackAndReturnFlushedQueue.bind(this)}return r(d[1])(t,[{key:"callFunctionReturnFlushedQueue",value:function(t,l,s){var u=this;return this.__guard(function(){u.__callFunction(t,l,s)}),this.flushedQueue()}},{key:"invokeCallbackAndReturnFlushedQueue",value:function(t,l){var s=this;return this.__guard(function(){s.__invokeCallback(t,l)}),this.flushedQueue()}},{key:"flushedQueue",value:function(){var t=this;this.__guard(function(){t.__callReactNativeMicrotasks()});var l=this._queue;return this._queue=[[],[],[],this._callID],l[0].length?l:null}},{key:"getEventLoopRunningTime",value:function(){return Date.now()-this._eventLoopStartTime}},{key:"registerCallableModule",value:function(t,l){this._lazyCallableModules[t]=function(){return l}}},{key:"registerLazyCallableModule",value:function(t,l){var s,u=l;this._lazyCallableModules[t]=function(){return u&&(s=u(),u=null),s}}},{key:"getCallableModule",value:function(t){var l=this._lazyCallableModules[t];return l?l():null}},{key:"callNativeSyncHook",value:function(t,l,s,u,n){return this.processCallbacks(t,l,s,u,n),g.nativeCallSyncHook(t,l,s)}},{key:"processCallbacks",value:function(t,l,s,u,n){(u||n)&&(u&&s.push(this._callID<<1),n&&s.push(this._callID<<1|1),this._successCallbacks.set(this._callID,n),this._failureCallbacks.set(this._callID,u)),this._callID++}},{key:"enqueueNativeCall",value:function(t,l,s,u,n){this.processCallbacks(t,l,s,u,n),this._queue[0].push(t),this._queue[1].push(l),this._queue[2].push(s);var o=Date.now();if(g.nativeFlushQueueImmediate&&o-this._lastFlush>=5){var h=this._queue;this._queue=[[],[],[],this._callID],this._lastFlush=o,g.nativeFlushQueueImmediate(h)}r(d[2]).counterEvent('pending_js_to_native_queue',this._queue[0].length),this.__spy&&this.__spy({type:1,module:t+'',method:l,args:s})}},{key:"createDebugLookup",value:function(t,l,s){}},{key:"setReactNativeMicrotasksCallback",value:function(t){this._reactNativeMicrotasksCallback=t}},{key:"__guard",value:function(t){if(this.__shouldPauseOnThrow())t();else try{t()}catch(t){r(d[3]).reportFatalError(t)}}},{key:"__shouldPauseOnThrow",value:function(){return'undefined'!=typeof DebuggerInternal&&!0===DebuggerInternal.shouldPauseOnThrow}},{key:"__callReactNativeMicrotasks",value:function(){r(d[2]).beginEvent('JSTimers.callReactNativeMicrotasks()'),null!=this._reactNativeMicrotasksCallback&&this._reactNativeMicrotasksCallback(),r(d[2]).endEvent()}},{key:"__callFunction",value:function(t,l,s){this._lastFlush=Date.now(),this._eventLoopStartTime=this._lastFlush,this.__spy?r(d[2]).beginEvent(t+"."+l+"("+r(d[4]).default(s)+")"):r(d[2]).beginEvent(t+"."+l+"(...)"),this.__spy&&this.__spy({type:0,module:t,method:l,args:s});var u=this.getCallableModule(t);if(!u){var n=Object.keys(this._lazyCallableModules),o=n.length,h=n.join(', ');r(d[5])(!1,"Failed to call into JavaScript module method "+t+"."+l+"(). Module has not been registered as callable. Registered callable JavaScript modules (n = "+o+"): "+h+".\n        A frequent cause of the error is that the application entry file path is incorrect. This can also happen when the JS bundle is corrupt or there is an early initialization error when loading React Native.")}u[l]||r(d[5])(!1,"Failed to call into JavaScript module method "+t+"."+l+"(). Module exists, but the method is undefined."),u[l].apply(u,s),r(d[2]).endEvent()}},{key:"__invokeCallback",value:function(t,l){this._lastFlush=Date.now(),this._eventLoopStartTime=this._lastFlush;var s=t>>>1,u=1&t?this._successCallbacks.get(s):this._failureCallbacks.get(s);u&&(this._successCallbacks.delete(s),this._failureCallbacks.delete(s),u.apply(void 0,r(d[6])(l)))}}],[{key:"spy",value:function(l){t.prototype.__spy=!0===l?function(t){console.log((0===t.type?'N->JS':'JS->N')+" : "+(null!=t.module?t.module+'.':'')+t.method+"("+JSON.stringify(t.args)+")")}:!1===l?null:l}}])})();m.exports=t},27,[12,13,28,29,30,20,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=!1,t=0,c={installReactHook:function(){!0},setEnabled:function(t){n!==t&&(n=t)},isEnabled:function(){return n},beginEvent:function(t,c){if(n){var o='function'==typeof t?t():t;g.nativeTraceBeginSection(131072,o,c)}},endEvent:function(){n&&g.nativeTraceEndSection(131072)},beginAsyncEvent:function(c){var o=t;if(n){t++;var f='function'==typeof c?c():c;g.nativeTraceBeginAsyncSection(131072,f,o)}return o},endAsyncEvent:function(t,c){if(n){var o='function'==typeof t?t():t;g.nativeTraceEndAsyncSection(131072,o,c)}},counterEvent:function(t,c){if(n){var o='function'==typeof t?t():t;g.nativeTraceCounter&&g.nativeTraceCounter(131072,o,c)}}};m.exports=c},28,[]);
__d(function(g,r,i,a,m,e,d){m.exports=g.ErrorUtils},29,[]);
__d(function(g,r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.createStringifySafeWithLimits=e,_e.default=void 0;var t=r(d[0])(r(d[1]));function e(e){var n=e.maxDepth,f=void 0===n?Number.POSITIVE_INFINITY:n,u=e.maxStringLimit,o=void 0===u?Number.POSITIVE_INFINITY:u,l=e.maxArrayLimit,c=void 0===l?Number.POSITIVE_INFINITY:l,s=e.maxObjectKeysLimit,y=void 0===s?Number.POSITIVE_INFINITY:s,h=[];function I(e,n){for(;h.length&&this!==h[0];)h.shift();if('string'==typeof n){return n.length>o+"...(truncated)...".length?n.substring(0,o)+"...(truncated)...":n}if('object'!=typeof n||null===n)return n;var u=n;if(Array.isArray(n))h.length>=f?u="[ ... array with "+n.length+" values ... ]":n.length>c&&(u=n.slice(0,c).concat(["... extra "+(n.length-c)+" values truncated ..."]));else{(0,t.default)('object'==typeof n,'This was already found earlier');var l=Object.keys(n);if(h.length>=f)u="{ ... object with "+l.length+" keys ... }";else if(l.length>y){for(var s of(u={},l.slice(0,y)))u[s]=n[s];u['...(truncated keys)...']=l.length-y}}return h.unshift(u),u}return function(t){if(void 0===t)return'undefined';if(null===t)return'null';if('function'==typeof t)try{return t.toString()}catch(t){return'[function unknown]'}else{if(t instanceof Error)return t.name+': '+t.message;try{var e=JSON.stringify(t,I);return void 0===e?'["'+typeof t+'" failed to stringify]':e}catch(e){if('function'==typeof t.toString)try{return t.toString()}catch(t){}}}return'["'+typeof t+'" failed to stringify]'}}var n=e({maxDepth:10,maxStringLimit:100,maxArrayLimit:50,maxObjectKeysLimit:50});_e.default=n},30,[3,20]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n,u){var b,c=u.get,o=!1!==u.enumerable,f=!1!==u.writable,l=!1;function s(u){b=u,l=!0,Object.defineProperty(t,n,{value:u,configurable:!0,enumerable:o,writable:f})}Object.defineProperty(t,n,{get:function(){return l||(l=!0,s(c())),b},set:s,configurable:!0,enumerable:o})}},31,[]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=e[f]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('AccessibilityInfo')},32,[19]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=o?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(u,a,f):u[a]=e[a]}return u.default=e,n&&n.set(e,u),u})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('AccessibilityManager')},33,[19]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1]));m.exports=function(c,s){'focus'===s&&t.default&&t.default.setAccessibilityFocus(c)}},34,[3,33]);
__d(function(g,r,i,a,m,e,d){'use strict';var t;t=r(d[0]),m.exports=t},35,[36]);
__d(function(e,n,t,r,l,a,i){"use strict";n(i[0]);var u=n(i[1]);function o(e,n,t,r,l,a,i,u,o){var s=Array.prototype.slice.call(arguments,3);try{n.apply(t,s)}catch(e){this.onError(e)}}var s=!1,c=null,f=!1,d=null,p={onError:function(e){s=!0,c=e}};function h(e,n,t,r,l,a,i,u,f){s=!1,c=null,o.apply(p,arguments)}function g(e,n,t,r,l,a,i,u,o){if(h.apply(this,arguments),s){if(!s)throw Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.");var p=c;s=!1,c=null,f||(f=!0,d=p)}}var m=Array.isArray,v=null,b=null,y=null;function S(e,n,t){var r=e.type||"unknown-event";e.currentTarget=y(t),g(r,n,void 0,e),e.currentTarget=null}function k(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(m(n))throw Error("executeDirectDispatch(...): Invalid `event`.");return e.currentTarget=n?y(t):null,n=n?n(e):null,e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,n}var w=Object.assign;function _(){return!0}function T(){return!1}function x(e,n,t,r){for(var l in this.dispatchConfig=e,this._targetInst=n,this.nativeEvent=t,this._dispatchInstances=this._dispatchListeners=null,e=this.constructor.Interface)e.hasOwnProperty(l)&&((n=e[l])?this[l]=n(t):"target"===l?this.target=r:this[l]=t[l]);return this.isDefaultPrevented=(null!=t.defaultPrevented?t.defaultPrevented:!1===t.returnValue)?_:T,this.isPropagationStopped=T,this}function E(e,n,t,r){if(this.eventPool.length){var l=this.eventPool.pop();return this.call(l,e,n,t,r),l}return new this(e,n,t,r)}function P(e){if(!(e instanceof this))throw Error("Trying to release an event instance into a pool of a different type.");e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function R(e){e.getPooled=E,e.eventPool=[],e.release=P}w(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=_)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=_)},persist:function(){this.isPersistent=_},isPersistent:T,destructor:function(){var e,n=this.constructor.Interface;for(e in n)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=T,this._dispatchInstances=this._dispatchListeners=null}}),x.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},x.extend=function(e){function n(){}function t(){return r.apply(this,arguments)}var r=this;n.prototype=r.prototype;var l=new n;return w(l,t.prototype),t.prototype=l,t.prototype.constructor=t,t.Interface=w({},r.Interface,e),t.extend=r.extend,R(t),t},R(x);var C=x.extend({touchHistory:function(){return null}});function z(e){return"topTouchStart"===e}function N(e){return"topTouchMove"===e}var I=["topTouchStart"],L=["topTouchMove"],U=["topTouchCancel","topTouchEnd"],M=[],F={touchBank:M,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0};function D(e){return e.timeStamp||e.timestamp}function A(e){if(null==(e=e.identifier))throw Error("Touch object is missing identifier.");return e}function Q(e){var n=A(e),t=M[n];t?(t.touchActive=!0,t.startPageX=e.pageX,t.startPageY=e.pageY,t.startTimeStamp=D(e),t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=D(e),t.previousPageX=e.pageX,t.previousPageY=e.pageY,t.previousTimeStamp=D(e)):(t={touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:D(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:D(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:D(e)},M[n]=t),F.mostRecentTimeStamp=D(e)}function j(e){var n=M[A(e)];n&&(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=D(e),F.mostRecentTimeStamp=D(e))}function B(e){var n=M[A(e)];n&&(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=D(e),F.mostRecentTimeStamp=D(e))}var H,O={instrument:function(e){H=e},recordTouchTrack:function(e,n){if(null!=H&&H(e,n),N(e))n.changedTouches.forEach(j);else if(z(e))n.changedTouches.forEach(Q),F.numberActiveTouches=n.touches.length,1===F.numberActiveTouches&&(F.indexOfSingleActiveTouch=n.touches[0].identifier);else if(("topTouchEnd"===e||"topTouchCancel"===e)&&(n.changedTouches.forEach(B),F.numberActiveTouches=n.touches.length,1===F.numberActiveTouches))for(e=0;e<M.length;e++)if(null!=(n=M[e])&&n.touchActive){F.indexOfSingleActiveTouch=e;break}},touchHistory:F};function W(e,n){if(null==n)throw Error("accumulate(...): Accumulated items must not be null or undefined.");return null==e?n:m(e)?e.concat(n):m(n)?[e].concat(n):[e,n]}function V(e,n){if(null==n)throw Error("accumulateInto(...): Accumulated items must not be null or undefined.");return null==e?n:m(e)?m(n)?(e.push.apply(e,n),e):(e.push(n),e):m(n)?[e].concat(n):[e,n]}function Y(e,n,t){Array.isArray(e)?e.forEach(n,t):e&&n.call(t,e)}var q=null,$=0;function X(e,n){var t=q;q=e,null!==le.GlobalResponderHandler&&le.GlobalResponderHandler.onChange(t,e,n)}var G={startShouldSetResponder:{phasedRegistrationNames:{bubbled:"onStartShouldSetResponder",captured:"onStartShouldSetResponderCapture"},dependencies:I},scrollShouldSetResponder:{phasedRegistrationNames:{bubbled:"onScrollShouldSetResponder",captured:"onScrollShouldSetResponderCapture"},dependencies:["topScroll"]},selectionChangeShouldSetResponder:{phasedRegistrationNames:{bubbled:"onSelectionChangeShouldSetResponder",captured:"onSelectionChangeShouldSetResponderCapture"},dependencies:["topSelectionChange"]},moveShouldSetResponder:{phasedRegistrationNames:{bubbled:"onMoveShouldSetResponder",captured:"onMoveShouldSetResponderCapture"},dependencies:L},responderStart:{registrationName:"onResponderStart",dependencies:I},responderMove:{registrationName:"onResponderMove",dependencies:L},responderEnd:{registrationName:"onResponderEnd",dependencies:U},responderRelease:{registrationName:"onResponderRelease",dependencies:U},responderTerminationRequest:{registrationName:"onResponderTerminationRequest",dependencies:[]},responderGrant:{registrationName:"onResponderGrant",dependencies:[]},responderReject:{registrationName:"onResponderReject",dependencies:[]},responderTerminate:{registrationName:"onResponderTerminate",dependencies:[]}};function K(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function J(e,n,t){for(var r=[];e;)r.push(e),e=K(e);for(e=r.length;0<e--;)n(r[e],"captured",t);for(e=0;e<r.length;e++)n(r[e],"bubbled",t)}function Z(e,n){if(null===(e=e.stateNode))return null;if(null===(e=v(e)))return null;if((e=e[n])&&"function"!=typeof e)throw Error("Expected `"+n+"` listener to be a function, instead got a value of `"+typeof e+"` type.");return e}function ee(e,n,t){(n=Z(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=V(t._dispatchListeners,n),t._dispatchInstances=V(t._dispatchInstances,e))}function ne(e){if(e&&e.dispatchConfig.registrationName){var n=e._targetInst;if(n&&e&&e.dispatchConfig.registrationName){var t=Z(n,e.dispatchConfig.registrationName);t&&(e._dispatchListeners=V(e._dispatchListeners,t),e._dispatchInstances=V(e._dispatchInstances,n))}}}function te(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var n=e._targetInst;J(n=n?K(n):null,ee,e)}}function re(e){e&&e.dispatchConfig.phasedRegistrationNames&&J(e._targetInst,ee,e)}var le={_getResponder:function(){return q},eventTypes:G,extractEvents:function(e,n,t,r){if(z(e))$+=1;else if("topTouchEnd"===e||"topTouchCancel"===e){if(!(0<=$))return null;--$}if(O.recordTouchTrack(e,t),n&&("topScroll"===e&&!t.responderIgnoreScroll||0<$&&"topSelectionChange"===e||z(e)||N(e))){var l=z(e)?G.startShouldSetResponder:N(e)?G.moveShouldSetResponder:"topSelectionChange"===e?G.selectionChangeShouldSetResponder:G.scrollShouldSetResponder;if(q)e:{for(var a=q,i=0,u=a;u;u=K(u))i++;u=0;for(var o=n;o;o=K(o))u++;for(;0<i-u;)a=K(a),i--;for(;0<u-i;)n=K(n),u--;for(;i--;){if(a===n||a===n.alternate)break e;a=K(a),n=K(n)}a=null}else a=n;a=(n=a)===q,(l=C.getPooled(l,n,t,r)).touchHistory=O.touchHistory,Y(l,a?te:re);e:{if(a=l._dispatchListeners,n=l._dispatchInstances,m(a)){for(i=0;i<a.length&&!l.isPropagationStopped();i++)if(a[i](l,n[i])){a=n[i];break e}}else if(a&&a(l,n)){a=n;break e}a=null}if(l._dispatchInstances=null,l._dispatchListeners=null,l.isPersistent()||l.constructor.release(l),a&&a!==q)if((l=C.getPooled(G.responderGrant,a,t,r)).touchHistory=O.touchHistory,Y(l,ne),n=!0===k(l),q)if((i=C.getPooled(G.responderTerminationRequest,q,t,r)).touchHistory=O.touchHistory,Y(i,ne),u=!i._dispatchListeners||k(i),i.isPersistent()||i.constructor.release(i),u){(i=C.getPooled(G.responderTerminate,q,t,r)).touchHistory=O.touchHistory,Y(i,ne);var s=W(s,[l,i]);X(a,n)}else(l=C.getPooled(G.responderReject,a,t,r)).touchHistory=O.touchHistory,Y(l,ne),s=W(s,l);else s=W(s,l),X(a,n);else s=null}else s=null;if(l=q&&z(e),a=q&&N(e),n=q&&("topTouchEnd"===e||"topTouchCancel"===e),(l=l?G.responderStart:a?G.responderMove:n?G.responderEnd:null)&&((l=C.getPooled(l,q,t,r)).touchHistory=O.touchHistory,Y(l,ne),s=W(s,l)),l=q&&"topTouchCancel"===e,e=q&&!l&&("topTouchEnd"===e||"topTouchCancel"===e))e:{if((e=t.touches)&&0!==e.length)for(a=0;a<e.length;a++)if(null!=(n=e[a].target)&&0!==n){i=b(n);n:{for(n=q;i;){if(n===i||n===i.alternate){n=!0;break n}i=K(i)}n=!1}if(n){e=!1;break e}}e=!0}return(e=l?G.responderTerminate:e?G.responderRelease:null)&&((t=C.getPooled(e,q,t,r)).touchHistory=O.touchHistory,Y(t,ne),s=W(s,t),X(null)),s},GlobalResponderHandler:null,injection:{injectGlobalResponderHandler:function(e){le.GlobalResponderHandler=e}}},ae=null,ie={};function ue(){if(ae)for(var e in ie){var n=ie[e],t=ae.indexOf(e);if(-1>=t)throw Error("EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `"+e+"`.");if(!se[t]){if(!n.extractEvents)throw Error("EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `"+e+"` does not.");for(var r in se[t]=n,t=n.eventTypes){var l=void 0,a=t[r],i=r;if(ce.hasOwnProperty(i))throw Error("EventPluginRegistry: More than one plugin attempted to publish the same event name, `"+i+"`.");ce[i]=a;var u=a.phasedRegistrationNames;if(u){for(l in u)u.hasOwnProperty(l)&&oe(u[l],n);l=!0}else a.registrationName?(oe(a.registrationName,n),l=!0):l=!1;if(!l)throw Error("EventPluginRegistry: Failed to publish event `"+r+"` for plugin `"+e+"`.")}}}}function oe(e,n){if(fe[e])throw Error("EventPluginRegistry: More than one plugin attempted to publish the same registration name, `"+e+"`.");fe[e]=n}var se=[],ce={},fe={};function de(e,t,r,l){var a=e.stateNode;if(null===a)return null;if(null===(e=v(a)))return null;if((e=e[t])&&"function"!=typeof e)throw Error("Expected `"+t+"` listener to be a function, instead got a value of `"+typeof e+"` type.");if(!(l&&a.canonical&&a.canonical._eventListeners))return e;var u=[];e&&u.push(e);var o="captured"===r,s=o?"rn:"+t.replace(/Capture$/,""):"rn:"+t;return a.canonical._eventListeners[s]&&0<a.canonical._eventListeners[s].length&&a.canonical._eventListeners[s].forEach(function(e){if((null!=e.options.capture&&e.options.capture)===o){e.options.once?u.push(function(){a.canonical.removeEventListener_unstable(s,e.listener,e.capture),e.invalidated||(e.invalidated=!0,e.listener.apply(e,arguments))}):u.push(function(t){var r=new(n(i[2]).CustomEvent)(s,{detail:t.nativeEvent});r.isTrusted=!0,r.setSyntheticEvent(t);for(var l=arguments.length,a=Array(1<l?l-1:0),u=1;u<l;u++)a[u-1]=arguments[u];e.listener.apply(e,[r].concat(a))})}}),0===u.length?null:1===u.length?u[0]:u}var pe=n(i[2]).ReactNativeViewConfigRegistry.customBubblingEventTypes,he=n(i[2]).ReactNativeViewConfigRegistry.customDirectEventTypes;function ge(e,n,t){var r=t?m(t)?t.length:1:0;if(0<r)if(n._dispatchListeners=V(n._dispatchListeners,t),null==n._dispatchInstances&&1===r)n._dispatchInstances=e;else for(n._dispatchInstances=n._dispatchInstances||[],m(n._dispatchInstances)||(n._dispatchInstances=[n._dispatchInstances]),t=0;t<r;t++)n._dispatchInstances.push(e)}function me(e,n,t){ge(e,t,n=de(e,t.dispatchConfig.phasedRegistrationNames[n],n,!0))}function ve(e,n,t,r){for(var l=[];e;){l.push(e);do{e=e.return}while(e&&5!==e.tag);e=e||null}for(e=l.length;0<e--;)n(l[e],"captured",t);if(r)n(l[0],"bubbled",t);else for(e=0;e<l.length;e++)n(l[e],"bubbled",t)}function be(e){e&&e.dispatchConfig.phasedRegistrationNames&&ve(e._targetInst,me,e,!1)}function ye(e){if(e&&e.dispatchConfig.registrationName){var n=e._targetInst;if(n&&e&&e.dispatchConfig.registrationName)ge(n,e,de(n,e.dispatchConfig.registrationName,"bubbled",!1))}}if(ae)throw Error("EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React.");ae=Array.prototype.slice.call(["ResponderEventPlugin","ReactNativeBridgeEventPlugin"]),ue();var Se,ke={ResponderEventPlugin:le,ReactNativeBridgeEventPlugin:{eventTypes:{},extractEvents:function(e,n,t,r){if(null==n)return null;var l=pe[e],a=he[e];if(!l&&!a)throw Error('Unsupported top level event type "'+e+'" dispatched');if(e=x.getPooled(l||a,n,t,r),l)null!=e&&null!=e.dispatchConfig.phasedRegistrationNames&&e.dispatchConfig.phasedRegistrationNames.skipBubbling?e&&e.dispatchConfig.phasedRegistrationNames&&ve(e._targetInst,me,e,!0):Y(e,be);else{if(!a)return null;Y(e,ye)}return e}}},we=!1;for(Se in ke)if(ke.hasOwnProperty(Se)){var _e=ke[Se];if(!ie.hasOwnProperty(Se)||ie[Se]!==_e){if(ie[Se])throw Error("EventPluginRegistry: Cannot inject two different event plugins using the same name, `"+Se+"`.");ie[Se]=_e,we=!0}}we&&ue();var Te=new Map,xe=new Map;function Ee(e){return Te.get(e)||null}function Pe(e,n){return e(n)}var Re=!1;function Ce(e,n){if(Re)return e(n);Re=!0;try{return Pe(e,n)}finally{Re=!1}}var ze=null;function Ne(e){if(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(m(n))for(var r=0;r<n.length&&!e.isPropagationStopped();r++)S(e,n[r],t[r]);else n&&S(e,n,t);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var Ie={};function Le(e,n,t){var r=t||Ie,l=Ee(e),a=null;null!=l&&(a=l.stateNode),Ce(function(){for(var e=a,t=null,i=se,u=0;u<i.length;u++){var o=i[u];o&&(o=o.extractEvents(n,l,r,e))&&(t=V(t,o))}if(null!==(e=t)&&(ze=V(ze,e)),e=ze,ze=null,e){if(Y(e,Ne),ze)throw Error("processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.");if(f)throw e=d,f=!1,d=null,e}})}n(i[2]).RCTEventEmitter.register({receiveEvent:function(e,n,t){Le(e,n,t)},receiveTouches:function(e,n,t){if("topTouchEnd"===e||"topTouchCancel"===e){for(var r=[],l=0;l<t.length;l++){var a=t[l];r.push(n[a]),n[a]=null}for(l=t=0;l<n.length;l++)null!==(a=n[l])&&(n[t++]=a);n.length=t}else for(r=[],l=0;l<t.length;l++)r.push(n[t[l]]);for(t=0;t<r.length;t++){(l=r[t]).changedTouches=r,l.touches=n,a=null;var i=l.target;null==i||1>i||(a=i),Le(a,e,l)}}}),v=function(e){return xe.get(e._nativeTag)||null},b=Ee,y=function(e){var n=(e=e.stateNode)._nativeTag;if(void 0===n&&(n=(e=e.canonical)._nativeTag),!n)throw Error("All native instances should have a tag.");return e},le.injection.injectGlobalResponderHandler({onChange:function(e,t,r){null!==t?n(i[2]).UIManager.setJSResponder(t.stateNode._nativeTag,r):n(i[2]).UIManager.clearJSResponder()}});var Ue=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Me=Symbol.for("react.element"),Fe=Symbol.for("react.portal"),De=Symbol.for("react.fragment"),Ae=Symbol.for("react.strict_mode"),Qe=Symbol.for("react.profiler"),je=Symbol.for("react.provider"),Be=Symbol.for("react.context"),He=Symbol.for("react.forward_ref"),Oe=Symbol.for("react.suspense"),We=Symbol.for("react.suspense_list"),Ve=Symbol.for("react.memo"),Ye=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var qe=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var $e=Symbol.iterator;function Xe(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=$e&&e[$e]||e["@@iterator"])?e:null}function Ge(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case De:return"Fragment";case Fe:return"Portal";case Qe:return"Profiler";case Ae:return"StrictMode";case Oe:return"Suspense";case We:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Be:return(e.displayName||"Context")+".Consumer";case je:return(e._context.displayName||"Context")+".Provider";case He:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Ve:return null!==(n=e.displayName||null)?n:Ge(e.type)||"Memo";case Ye:n=e._payload,e=e._init;try{return Ge(e(n))}catch(e){}}return null}function Ke(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=n.render).displayName||e.name||"",n.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ge(n);case 8:return n===Ae?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n}return null}function Je(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{0!=(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function Ze(e){if(Je(e)!==e)throw Error("Unable to find node on an unmounted component.")}function en(e){var n=e.alternate;if(!n){if(null===(n=Je(e)))throw Error("Unable to find node on an unmounted component.");return n!==e?null:e}for(var t=e,r=n;;){var l=t.return;if(null===l)break;var a=l.alternate;if(null===a){if(null!==(r=l.return)){t=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===t)return Ze(l),e;if(a===r)return Ze(l),n;a=a.sibling}throw Error("Unable to find node on an unmounted component.")}if(t.return!==r.return)t=l,r=a;else{for(var i=!1,u=l.child;u;){if(u===t){i=!0,t=l,r=a;break}if(u===r){i=!0,r=l,t=a;break}u=u.sibling}if(!i){for(u=a.child;u;){if(u===t){i=!0,t=a,r=l;break}if(u===r){i=!0,r=a,t=l;break}u=u.sibling}if(!i)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(t.alternate!==r)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==t.tag)throw Error("Unable to find node on an unmounted component.");return t.stateNode.current===t?e:n}function nn(e){return null!==(e=en(e))?tn(e):null}function tn(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var n=tn(e);if(null!==n)return n;e=e.sibling}return null}var rn={},ln=null,an=0,un={unsafelyIgnoreFunctions:!0};function on(e,t){return"object"!=typeof t||null===t||n(i[2]).deepDiffer(e,t,un)}function sn(e,n,t){if(m(n))for(var r=n.length;r--&&0<an;)sn(e,n[r],t);else if(n&&0<an)for(r in ln)if(ln[r]){var l=n[r];if(void 0!==l){var a=t[r];a&&("function"==typeof l&&(l=!0),void 0===l&&(l=null),"object"!=typeof a?e[r]=l:"function"!=typeof a.diff&&"function"!=typeof a.process||(l="function"==typeof a.process?a.process(l):l,e[r]=l),ln[r]=!1,an--)}}}function cn(e,t,r,l){if(!e&&t===r)return e;if(!t||!r)return r?fn(e,r,l):t?dn(e,t,l):e;if(!m(t)&&!m(r))return pn(e,t,r,l);if(m(t)&&m(r)){var a,u=t.length<r.length?t.length:r.length;for(a=0;a<u;a++)e=cn(e,t[a],r[a],l);for(;a<t.length;a++)e=dn(e,t[a],l);for(;a<r.length;a++)e=fn(e,r[a],l);return e}return m(t)?pn(e,n(i[2]).flattenStyle(t),r,l):pn(e,t,n(i[2]).flattenStyle(r),l)}function fn(e,n,t){if(!n)return e;if(!m(n))return pn(e,rn,n,t);for(var r=0;r<n.length;r++)e=fn(e,n[r],t);return e}function dn(e,n,t){if(!n)return e;if(!m(n))return pn(e,n,rn,t);for(var r=0;r<n.length;r++)e=dn(e,n[r],t);return e}function pn(e,n,t,r){var l,a;for(a in t)if(l=r[a]){var i=n[a],u=t[a];"function"==typeof u&&(u=!0,"function"==typeof i&&(i=!0)),void 0===u&&(u=null,void 0===i&&(i=null)),ln&&(ln[a]=!1),e&&void 0!==e[a]?"object"!=typeof l?e[a]=u:"function"!=typeof l.diff&&"function"!=typeof l.process||(l="function"==typeof l.process?l.process(u):u,e[a]=l):i!==u&&("object"!=typeof l?on(i,u)&&((e||(e={}))[a]=u):"function"==typeof l.diff||"function"==typeof l.process?(void 0===i||("function"==typeof l.diff?l.diff(i,u):on(i,u)))&&(l="function"==typeof l.process?l.process(u):u,(e||(e={}))[a]=l):(ln=null,an=0,e=cn(e,i,u,l),0<an&&e&&(sn(e,u,l),ln=null)))}for(var o in n)void 0===t[o]&&(!(l=r[o])||e&&void 0!==e[o]||void 0!==(i=n[o])&&("object"!=typeof l||"function"==typeof l.diff||"function"==typeof l.process?((e||(e={}))[o]=null,ln||(ln={}),ln[o]||(ln[o]=!0,an++)):e=dn(e,i,l)));return e}function hn(e,n){return function(){if(n&&("boolean"!=typeof e.__isMounted||e.__isMounted))return n.apply(e,arguments)}}var gn=(function(){function e(e,n){this._nativeTag=e,this._children=[],this.viewConfig=n}var t=e.prototype;return t.blur=function(){n(i[2]).TextInputState.blurTextInput(this)},t.focus=function(){n(i[2]).TextInputState.focusTextInput(this)},t.measure=function(e){n(i[2]).UIManager.measure(this._nativeTag,hn(this,e))},t.measureInWindow=function(e){n(i[2]).UIManager.measureInWindow(this._nativeTag,hn(this,e))},t.measureLayout=function(e,t,r){if("number"==typeof e)var l=e;else e._nativeTag&&(l=e._nativeTag);null!=l&&n(i[2]).UIManager.measureLayout(this._nativeTag,l,hn(this,r),hn(this,t))},t.setNativeProps=function(e){null!=(e=pn(null,rn,e,this.viewConfig.validAttributes))&&n(i[2]).UIManager.updateView(this._nativeTag,this.viewConfig.uiViewClassName,e)},e})(),mn=null,vn=null;function bn(e){if(vn&&"function"==typeof vn.onCommitFiberRoot)try{vn.onCommitFiberRoot(mn,e,void 0,128==(128&e.current.flags))}catch(e){}}var yn=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(Sn(e)/kn|0)|0},Sn=Math.log,kn=Math.LN2;var wn=64,_n=4194304;function Tn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xn(e,n){var t=e.pendingLanes;if(0===t)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,i=268435455&t;if(0!==i){var u=i&~l;0!==u?r=Tn(u):0!==(a&=i)&&(r=Tn(a))}else 0!==(i=t&~l)?r=Tn(i):0!==a&&(r=Tn(a));if(0===r)return 0;if(0!==n&&n!==r&&0==(n&l)&&((l=r&-r)>=(a=n&-n)||16===l&&0!=(4194240&a)))return n;if(0!=(4&r)&&(r|=16&t),0!==(n=e.entangledLanes))for(e=e.entanglements,n&=r;0<n;)l=1<<(t=31-yn(n)),r|=e[t],n&=~l;return r}function En(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:default:return-1}}function Pn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Rn(){var e=wn;return 0==(4194240&(wn<<=1))&&(wn=64),e}function Cn(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function zn(e,n,t){e.pendingLanes|=n,536870912!==n&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[n=31-yn(n)]=t}function Nn(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var l=31-yn(t),a=1<<l;n[l]=0,r[l]=-1,e[l]=-1,t&=~a}}function In(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-yn(t),l=1<<r;l&n|e[r]&n&&(e[r]|=n),t&=~l}}var Ln=0;function Un(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}function Mn(){throw Error("The current renderer does not support hydration. This error is likely caused by a bug in React. Please file an issue.")}var Fn=n(i[2]).ReactNativeViewConfigRegistry.get,Dn={},An=3;function Qn(){var e=An;return 1==e%10&&(e+=2),An=e+2,e}function jn(e){if("number"==typeof e)Te.delete(e),xe.delete(e);else{var n=e._nativeTag;Te.delete(n),xe.delete(n),e._children.forEach(jn)}}function Bn(e){if(0===e._children.length)return!1;var t=e._children.map(function(e){return"number"==typeof e?e:e._nativeTag});return n(i[2]).UIManager.setChildren(e._nativeTag,t),!1}var Hn=setTimeout,On=clearTimeout;function Wn(e,n,t){return n="",t&&(n=" (created by "+t+")"),"\n    in "+(e||"Unknown")+n}function Vn(e,n){return e?Wn(e.displayName||e.name||null,n,null):""}var Yn=Object.prototype.hasOwnProperty,qn=[],$n=-1;function Xn(e){return{current:e}}function Gn(e){0>$n||(e.current=qn[$n],qn[$n]=null,$n--)}function Kn(e,n){qn[++$n]=e.current,e.current=n}var Jn={},Zn=Xn(Jn),et=Xn(!1),nt=Jn;function tt(e,n){var t=e.type.contextTypes;if(!t)return Jn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var l,a={};for(l in t)a[l]=n[l];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function rt(e){return null!=(e=e.childContextTypes)}function lt(){Gn(et),Gn(Zn)}function at(e,n,t){if(Zn.current!==Jn)throw Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");Kn(Zn,n),Kn(et,t)}function it(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,"function"!=typeof r.getChildContext)return t;for(var l in r=r.getChildContext())if(!(l in n))throw Error((Ke(e)||"Unknown")+'.getChildContext(): key "'+l+'" is not defined in childContextTypes.');return w({},t,r)}function ut(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jn,nt=Zn.current,Kn(Zn,e),Kn(et,et.current),!0}function ot(e,n,t){var r=e.stateNode;if(!r)throw Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");t?(e=it(e,n,nt),r.__reactInternalMemoizedMergedChildContext=e,Gn(et),Gn(Zn),Kn(Zn,e)):Gn(et),Kn(et,t)}var st="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},ct=null,ft=!1,dt=!1;function pt(){if(!dt&&null!==ct){dt=!0;var e=0,t=Ln;try{var r=ct;for(Ln=1;e<r.length;e++){var l=r[e];do{l=l(!0)}while(null!==l)}ct=null,ft=!1}catch(t){throw null!==ct&&(ct=ct.slice(e+1)),n(i[3]).unstable_scheduleCallback(n(i[3]).unstable_ImmediatePriority,pt),t}finally{Ln=t,dt=!1}}return null}var ht=[],gt=0,mt=null,vt=[],bt=0,yt=null;function St(e){for(;e===mt;)mt=ht[--gt],ht[gt]=null,ht[--gt]=null;for(;e===yt;)yt=vt[--bt],vt[bt]=null,vt[--bt]=null,vt[--bt]=null}var kt=null,wt=Ue.ReactCurrentBatchConfig;function _t(e,n){if(st(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var l=t[r];if(!Yn.call(n,l)||!st(e[l],n[l]))return!1}return!0}function Tt(e){switch(e.tag){case 5:return Wn(e.type,null,null);case 16:return Wn("Lazy",null,null);case 13:return Wn("Suspense",null,null);case 19:return Wn("SuspenseList",null,null);case 0:case 2:case 15:return Vn(e.type,null);case 11:return Vn(e.type.render,null);case 1:return e=Vn(e.type,null);default:return""}}function xt(e){try{var n="";do{n+=Tt(e),e=e.return}while(e);return n}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function Et(e,n){if(e&&e.defaultProps){for(var t in n=w({},n),e=e.defaultProps)void 0===n[t]&&(n[t]=e[t]);return n}return n}var Pt=Xn(null),Rt=null,Ct=null,zt=null;function Nt(){zt=Ct=Rt=null}function It(e){var n=Pt.current;Gn(Pt),e._currentValue=n}function Lt(e,n,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==r&&(r.childLanes|=n)):null!==r&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function Ut(e,n){Rt=e,zt=Ct=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&n)&&(kl=!0),e.firstContext=null)}function Mt(e){var n=e._currentValue;if(zt!==e)if(e={context:e,memoizedValue:n,next:null},null===Ct){if(null===Rt)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Ct=e,Rt.dependencies={lanes:0,firstContext:e}}else Ct=Ct.next=e;return n}var Ft=null,Dt=!1;function At(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qt(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jt(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Bt(e,n){var t=e.updateQueue;null!==t&&(t=t.shared,ni(e)?(null===(e=t.interleaved)?(n.next=n,null===Ft?Ft=[t]:Ft.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n))}function Ht(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,0!=(4194240&t))){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,In(e,t)}}function Ot(e,n){var t=e.updateQueue,r=e.alternate;if(null!==r&&t===(r=r.updateQueue)){var l=null,a=null;if(null!==(t=t.firstBaseUpdate)){do{var i={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};null===a?l=a=i:a=a.next=i,t=t.next}while(null!==t);null===a?l=a=n:a=a.next=n}else l=a=n;return t={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function Wt(e,n,t,r){var l=e.updateQueue;Dt=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,u=l.shared.pending;if(null!==u){l.shared.pending=null;var o=u,s=o.next;o.next=null,null===i?a=s:i.next=s,i=o;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===u?c.firstBaseUpdate=s:u.next=s,c.lastBaseUpdate=o))}if(null!==a){var f=l.baseState;for(i=0,c=s=o=null,u=a;;){var d=u.lane,p=u.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:p,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var h=e,g=u;switch(d=n,p=t,g.tag){case 1:if("function"==typeof(h=g.payload)){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(d="function"==typeof(h=g.payload)?h.call(p,f,d):h))break e;f=w({},f,d);break e;case 2:Dt=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=l.effects)?l.effects=[u]:d.push(u))}else p={eventTime:p,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(s=c=p,o=f):c=c.next=p,i|=d;if(null===(u=u.next)){if(null===(u=l.shared.pending))break;u=(d=u).next,d.next=null,l.lastBaseUpdate=d,l.shared.pending=null}}if(null===c&&(o=f),l.baseState=o,l.firstBaseUpdate=s,l.lastBaseUpdate=c,null!==(n=l.shared.interleaved)){l=n;do{i|=l.lane,l=l.next}while(l!==n)}else null===a&&(l.shared.lanes=0);La|=i,e.lanes=i,e.memoizedState=f}}function Vt(e,n,t){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var r=e[n],l=r.callback;if(null!==l){if(r.callback=null,"function"!=typeof l)throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+l);l.call(t)}}}var Yt=(new u.Component).refs;function qt(e,n,t,r){t=null==(t=t(r,n=e.memoizedState))?n:w({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}var $t={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=Ka(),l=Ja(e),a=jt(r,l);a.payload=n,null!=t&&(a.callback=t),Bt(e,a),null!==(n=Za(e,l,r))&&Ht(n,e,l)},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=Ka(),l=Ja(e),a=jt(r,l);a.tag=1,a.payload=n,null!=t&&(a.callback=t),Bt(e,a),null!==(n=Za(e,l,r))&&Ht(n,e,l)},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=Ka(),r=Ja(e),l=jt(t,r);l.tag=2,null!=n&&(l.callback=n),Bt(e,l),null!==(n=Za(e,r,t))&&Ht(n,e,r)}};function Xt(e,n,t,r,l,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!n.prototype||!n.prototype.isPureReactComponent||(!_t(t,r)||!_t(l,a))}function Gt(e,n,t){var r=!1,l=Jn,a=n.contextType;return"object"==typeof a&&null!==a?a=Mt(a):(l=rt(n)?nt:Zn.current,a=(r=null!=(r=n.contextTypes))?tt(e,l):Jn),n=new n(t,a),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=$t,e.stateNode=n,n._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),n}function Kt(e,n,t,r){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&$t.enqueueReplaceState(n,n.state,null)}function Jt(e,n,t,r){var l=e.stateNode;l.props=t,l.state=e.memoizedState,l.refs=Yt,At(e);var a=n.contextType;"object"==typeof a&&null!==a?l.context=Mt(a):(a=rt(n)?nt:Zn.current,l.context=tt(e,a)),l.state=e.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(qt(e,n,a,t),l.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof l.getSnapshotBeforeUpdate||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||(n=l.state,"function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),n!==l.state&&$t.enqueueReplaceState(l,l.state,null),Wt(e,t,l,r),l.state=e.memoizedState),"function"==typeof l.componentDidMount&&(e.flags|=4)}function Zt(e,n,t){if(null!==(e=t.ref)&&"function"!=typeof e&&"object"!=typeof e){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");var r=t.stateNode}if(!r)throw Error("Missing owner for string ref "+e+". This error is likely caused by a bug in React. Please file an issue.");var l=r,a=""+e;return null!==n&&null!==n.ref&&"function"==typeof n.ref&&n.ref._stringRef===a?n.ref:((n=function(e){var n=l.refs;n===Yt&&(n=l.refs={}),null===e?delete n[a]:n[a]=e})._stringRef=a,n)}if("string"!=typeof e)throw Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!t._owner)throw Error("Element ref was specified as a string ("+e+") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://reactjs.org/link/refs-must-have-owner for more information.")}return e}function er(e,n){throw e=Object.prototype.toString.call(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}function nr(e){return(0,e._init)(e._payload)}function tr(e){function n(n,t){if(e){var r=n.deletions;null===r?(n.deletions=[t],n.flags|=16):r.push(t)}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function l(e,n){return(e=Li(e,n)).index=0,e.sibling=null,e}function a(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.flags|=2,t):r:(n.flags|=2,t):(n.flags|=1048576,t)}function i(n){return e&&null===n.alternate&&(n.flags|=2),n}function u(e,n,t,r){return null===n||6!==n.tag?((n=Di(t,e.mode,r)).return=e,n):((n=l(n,t)).return=e,n)}function o(e,n,t,r){var a=t.type;return a===De?c(e,n,t.props.children,r,t.key):null!==n&&(n.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===Ye&&nr(a)===n.type)?((r=l(n,t.props)).ref=Zt(e,n,t),r.return=e,r):((r=Ui(t.type,t.key,t.props,null,e.mode,r)).ref=Zt(e,n,t),r.return=e,r)}function s(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=Ai(t,e.mode,r)).return=e,n):((n=l(n,t.children||[])).return=e,n)}function c(e,n,t,r,a){return null===n||7!==n.tag?((n=Mi(t,e.mode,r,a)).return=e,n):((n=l(n,t)).return=e,n)}function f(e,n,t){if("string"==typeof n&&""!==n||"number"==typeof n)return(n=Di(""+n,e.mode,t)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case Me:return(t=Ui(n.type,n.key,n.props,null,e.mode,t)).ref=Zt(e,null,n),t.return=e,t;case Fe:return(n=Ai(n,e.mode,t)).return=e,n;case Ye:return f(e,(0,n._init)(n._payload),t)}if(m(n)||Xe(n))return(n=Mi(n,e.mode,t,null)).return=e,n;er(e,n)}return null}function d(e,n,t,r){var l=null!==n?n.key:null;if("string"==typeof t&&""!==t||"number"==typeof t)return null!==l?null:u(e,n,""+t,r);if("object"==typeof t&&null!==t){switch(t.$$typeof){case Me:return t.key===l?o(e,n,t,r):null;case Fe:return t.key===l?s(e,n,t,r):null;case Ye:return d(e,n,(l=t._init)(t._payload),r)}if(m(t)||Xe(t))return null!==l?null:c(e,n,t,r,null);er(e,t)}return null}function p(e,n,t,r,l){if("string"==typeof r&&""!==r||"number"==typeof r)return u(n,e=e.get(t)||null,""+r,l);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Me:return o(n,e=e.get(null===r.key?t:r.key)||null,r,l);case Fe:return s(n,e=e.get(null===r.key?t:r.key)||null,r,l);case Ye:return p(e,n,t,(0,r._init)(r._payload),l)}if(m(r)||Xe(r))return c(n,e=e.get(t)||null,r,l,null);er(n,r)}return null}function h(l,i,u,o){for(var s=null,c=null,h=i,g=i=0,m=null;null!==h&&g<u.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=d(l,h,u[g],o);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&n(l,h),i=a(v,i,g),null===c?s=v:c.sibling=v,c=v,h=m}if(g===u.length)return t(l,h),s;if(null===h){for(;g<u.length;g++)null!==(h=f(l,u[g],o))&&(i=a(h,i,g),null===c?s=h:c.sibling=h,c=h);return s}for(h=r(l,h);g<u.length;g++)null!==(m=p(h,l,g,u[g],o))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),i=a(m,i,g),null===c?s=m:c.sibling=m,c=m);return e&&h.forEach(function(e){return n(l,e)}),s}function g(l,i,u,o){var s=Xe(u);if("function"!=typeof s)throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");if(null==(u=s.call(u)))throw Error("An iterable object provided no iterator.");for(var c=s=null,h=i,g=i=0,m=null,v=u.next();null!==h&&!v.done;g++,v=u.next()){h.index>g?(m=h,h=null):m=h.sibling;var b=d(l,h,v.value,o);if(null===b){null===h&&(h=m);break}e&&h&&null===b.alternate&&n(l,h),i=a(b,i,g),null===c?s=b:c.sibling=b,c=b,h=m}if(v.done)return t(l,h),s;if(null===h){for(;!v.done;g++,v=u.next())null!==(v=f(l,v.value,o))&&(i=a(v,i,g),null===c?s=v:c.sibling=v,c=v);return s}for(h=r(l,h);!v.done;g++,v=u.next())null!==(v=p(h,l,g,v.value,o))&&(e&&null!==v.alternate&&h.delete(null===v.key?g:v.key),i=a(v,i,g),null===c?s=v:c.sibling=v,c=v);return e&&h.forEach(function(e){return n(l,e)}),s}return function e(r,a,u,o){if("object"==typeof u&&null!==u&&u.type===De&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case Me:e:{for(var s=u.key,c=a;null!==c;){if(c.key===s){if((s=u.type)===De){if(7===c.tag){t(r,c.sibling),(a=l(c,u.props.children)).return=r,r=a;break e}}else if(c.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===Ye&&nr(s)===c.type){t(r,c.sibling),(a=l(c,u.props)).ref=Zt(r,c,u),a.return=r,r=a;break e}t(r,c);break}n(r,c),c=c.sibling}u.type===De?((a=Mi(u.props.children,r.mode,o,u.key)).return=r,r=a):((o=Ui(u.type,u.key,u.props,null,r.mode,o)).ref=Zt(r,a,u),o.return=r,r=o)}return i(r);case Fe:e:{for(c=u.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===u.containerInfo&&a.stateNode.implementation===u.implementation){t(r,a.sibling),(a=l(a,u.children||[])).return=r,r=a;break e}t(r,a);break}n(r,a),a=a.sibling}(a=Ai(u,r.mode,o)).return=r,r=a}return i(r);case Ye:return e(r,a,(c=u._init)(u._payload),o)}if(m(u))return h(r,a,u,o);if(Xe(u))return g(r,a,u,o);er(r,u)}return"string"==typeof u&&""!==u||"number"==typeof u?(u=""+u,null!==a&&6===a.tag?(t(r,a.sibling),(a=l(a,u)).return=r,r=a):(t(r,a),(a=Di(u,r.mode,o)).return=r,r=a),i(r)):t(r,a)}}var rr=tr(!0),lr=tr(!1),ar={},ir=Xn(ar),ur=Xn(ar),or=Xn(ar);function sr(e){if(e===ar)throw Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return e}function cr(e,n){Kn(or,n),Kn(ur,e),Kn(ir,ar),Gn(ir),Kn(ir,{isInAParentText:!1})}function fr(){Gn(ir),Gn(ur),Gn(or)}function dr(e){sr(or.current);var n=sr(ir.current),t=e.type;t="AndroidTextInput"===t||"RCTMultilineTextInputView"===t||"RCTSinglelineTextInputView"===t||"RCTText"===t||"RCTVirtualText"===t,n!==(t=n.isInAParentText!==t?{isInAParentText:t}:n)&&(Kn(ur,e),Kn(ir,t))}function pr(e){ur.current===e&&(Gn(ir),Gn(ur))}var hr=Xn(0);function gr(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===t.dehydrated||Mn()||Mn()))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!=(128&n.flags))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var mr=[];function vr(){for(var e=0;e<mr.length;e++)mr[e]._workInProgressVersionPrimary=null;mr.length=0}var br=Ue.ReactCurrentDispatcher,yr=Ue.ReactCurrentBatchConfig,Sr=0,kr=null,wr=null,_r=null,Tr=!1,xr=!1,Er=0;function Pr(){throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.")}function Rr(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!st(e[t],n[t]))return!1;return!0}function Cr(e,n,t,r,l,a){if(Sr=a,kr=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,br.current=null===e||null===e.memoizedState?fl:dl,e=t(r,l),xr){a=0;do{if(xr=!1,25<=a)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");a+=1,_r=wr=null,n.updateQueue=null,br.current=pl,e=t(r,l)}while(xr)}if(br.current=cl,n=null!==wr&&null!==wr.next,Sr=0,_r=wr=kr=null,Tr=!1,n)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return e}function zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_r?kr.memoizedState=_r=e:_r=_r.next=e,_r}function Nr(){if(null===wr){var e=kr.alternate;e=null!==e?e.memoizedState:null}else e=wr.next;var n=null===_r?kr.memoizedState:_r.next;if(null!==n)_r=n,wr=e;else{if(null===e)throw Error("Rendered more hooks than during the previous render.");e={memoizedState:(wr=e).memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},null===_r?kr.memoizedState=_r=e:_r=_r.next=e}return _r}function Ir(e,n){return"function"==typeof n?n(e):n}function Lr(e){var n=Nr(),t=n.queue;if(null===t)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");t.lastRenderedReducer=e;var r=wr,l=r.baseQueue,a=t.pending;if(null!==a){if(null!==l){var i=l.next;l.next=a.next,a.next=i}r.baseQueue=l=a,t.pending=null}if(null!==l){a=l.next,r=r.baseState;var u=i=null,o=null,s=a;do{var c=s.lane;if((Sr&c)===c)null!==o&&(o=o.next={lane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),r=s.hasEagerState?s.eagerState:e(r,s.action);else{var f={lane:c,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null};null===o?(u=o=f,i=r):o=o.next=f,kr.lanes|=c,La|=c}s=s.next}while(null!==s&&s!==a);null===o?i=r:o.next=u,st(r,n.memoizedState)||(kl=!0),n.memoizedState=r,n.baseState=i,n.baseQueue=o,t.lastRenderedState=r}if(null!==(e=t.interleaved)){l=e;do{a=l.lane,kr.lanes|=a,La|=a,l=l.next}while(l!==e)}else null===l&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function Ur(e){var n=Nr(),t=n.queue;if(null===t)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");t.lastRenderedReducer=e;var r=t.dispatch,l=t.pending,a=n.memoizedState;if(null!==l){t.pending=null;var i=l=l.next;do{a=e(a,i.action),i=i.next}while(i!==l);st(a,n.memoizedState)||(kl=!0),n.memoizedState=a,null===n.baseQueue&&(n.baseState=a),t.lastRenderedState=a}return[a,r]}function Mr(){}function Fr(e,n){var t=kr,r=Nr(),l=n(),a=!st(r.memoizedState,l);if(a&&(r.memoizedState=l,kl=!0),r=r.queue,qr(Qr.bind(null,t,r,e),[e]),r.getSnapshot!==n||a||null!==_r&&1&_r.memoizedState.tag){if(t.flags|=2048,Hr(9,Ar.bind(null,t,r,l,n),void 0,null),null===Ea)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");0!=(30&Sr)||Dr(t,n,l)}return l}function Dr(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=kr.updateQueue)?(n={lastEffect:null,stores:null},kr.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function Ar(e,n,t,r){n.value=t,n.getSnapshot=r,jr(n)&&Za(e,1,-1)}function Qr(e,n,t){return t(function(){jr(n)&&Za(e,1,-1)})}function jr(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!st(e,t)}catch(e){return!0}}function Br(e){var n=zr();return"function"==typeof e&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:e},n.queue=e,e=e.dispatch=al.bind(null,kr,e),[n.memoizedState,e]}function Hr(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},null===(n=kr.updateQueue)?(n={lastEffect:null,stores:null},kr.updateQueue=n,n.lastEffect=e.next=e):null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function Or(){return Nr().memoizedState}function Wr(e,n,t,r){var l=zr();kr.flags|=e,l.memoizedState=Hr(1|n,t,void 0,void 0===r?null:r)}function Vr(e,n,t,r){var l=Nr();r=void 0===r?null:r;var a=void 0;if(null!==wr){var i=wr.memoizedState;if(a=i.destroy,null!==r&&Rr(r,i.deps))return void(l.memoizedState=Hr(n,t,a,r))}kr.flags|=e,l.memoizedState=Hr(1|n,t,a,r)}function Yr(e,n){return Wr(8390656,8,e,n)}function qr(e,n){return Vr(2048,8,e,n)}function $r(e,n){return Vr(4,2,e,n)}function Xr(e,n){return Vr(4,4,e,n)}function Gr(e,n){return"function"==typeof n?(e=e(),n(e),function(){n(null)}):null!=n?(e=e(),n.current=e,function(){n.current=null}):void 0}function Kr(e,n,t){return t=null!=t?t.concat([e]):null,Vr(4,4,Gr.bind(null,n,e),t)}function Jr(){}function Zr(e,n){var t=Nr();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Rr(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function el(e,n){var t=Nr();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Rr(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function nl(e,n,t){return 0==(21&Sr)?(e.baseState&&(e.baseState=!1,kl=!0),e.memoizedState=t):(st(t,n)||(t=Rn(),kr.lanes|=t,La|=t,e.baseState=!0),n)}function tl(e,n){var t=Ln;Ln=0!==t&&4>t?t:4,e(!0);var r=yr.transition;yr.transition={};try{e(!1),n()}finally{Ln=t,yr.transition=r}}function rl(){return Nr().memoizedState}function ll(e,n,t){var r=Ja(e);t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},il(e)?ul(n,t):(ol(e,n,t),null!==(e=Za(e,r,t=Ka()))&&sl(e,n,r))}function al(e,n,t){var r=Ja(e),l={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(il(e))ul(n,l);else{ol(e,n,l);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=n.lastRenderedReducer))try{var i=n.lastRenderedState,u=a(i,t);if(l.hasEagerState=!0,l.eagerState=u,st(u,i))return}catch(e){}null!==(e=Za(e,r,t=Ka()))&&sl(e,n,r)}}function il(e){var n=e.alternate;return e===kr||null!==n&&n===kr}function ul(e,n){xr=Tr=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function ol(e,n,t){ni(e)?(null===(e=n.interleaved)?(t.next=t,null===Ft?Ft=[n]:Ft.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t)}function sl(e,n,t){if(0!=(4194240&t)){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,In(e,t)}}var cl={readContext:Mt,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useInsertionEffect:Pr,useLayoutEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useMutableSource:Pr,useSyncExternalStore:Pr,useId:Pr,unstable_isNewReconciler:!1},fl={readContext:Mt,useCallback:function(e,n){return zr().memoizedState=[e,void 0===n?null:n],e},useContext:Mt,useEffect:Yr,useImperativeHandle:function(e,n,t){return t=null!=t?t.concat([e]):null,Wr(4,4,Gr.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Wr(4,4,e,n)},useInsertionEffect:function(e,n){return Wr(4,2,e,n)},useMemo:function(e,n){var t=zr();return n=void 0===n?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=zr();return n=void 0!==t?t(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=ll.bind(null,kr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},zr().memoizedState=e},useState:Br,useDebugValue:Jr,useDeferredValue:function(e){return zr().memoizedState=e},useTransition:function(){var e=Br(!1),n=e[0];return e=tl.bind(null,e[1]),zr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n){var t=kr,r=zr(),l=n();if(null===Ea)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");0!=(30&Sr)||Dr(t,n,l),r.memoizedState=l;var a={value:l,getSnapshot:n};return r.queue=a,Yr(Qr.bind(null,t,a,e),[e]),t.flags|=2048,Hr(9,Ar.bind(null,t,a,l,n),void 0,null),l},useId:function(){var e=zr(),n=Ea.identifierPrefix;return n=":"+n+"r"+(Er++).toString(32)+":",e.memoizedState=n},unstable_isNewReconciler:!1},dl={readContext:Mt,useCallback:Zr,useContext:Mt,useEffect:qr,useImperativeHandle:Kr,useInsertionEffect:$r,useLayoutEffect:Xr,useMemo:el,useReducer:Lr,useRef:Or,useState:function(){return Lr(Ir)},useDebugValue:Jr,useDeferredValue:function(e){return nl(Nr(),wr.memoizedState,e)},useTransition:function(){return[Lr(Ir)[0],Nr().memoizedState]},useMutableSource:Mr,useSyncExternalStore:Fr,useId:rl,unstable_isNewReconciler:!1},pl={readContext:Mt,useCallback:Zr,useContext:Mt,useEffect:qr,useImperativeHandle:Kr,useInsertionEffect:$r,useLayoutEffect:Xr,useMemo:el,useReducer:Ur,useRef:Or,useState:function(){return Ur(Ir)},useDebugValue:Jr,useDeferredValue:function(e){var n=Nr();return null===wr?n.memoizedState=e:nl(n,wr.memoizedState,e)},useTransition:function(){return[Ur(Ir)[0],Nr().memoizedState]},useMutableSource:Mr,useSyncExternalStore:Fr,useId:rl,unstable_isNewReconciler:!1};function hl(e,n){return{value:e,source:n,stack:xt(n)}}if("function"!=typeof n(i[2]).ReactFiberErrorDialog.showErrorDialog)throw Error("Expected ReactFiberErrorDialog.showErrorDialog to be a function.");function gl(e,t){try{!1!==n(i[2]).ReactFiberErrorDialog.showErrorDialog({componentStack:null!==t.stack?t.stack:"",error:t.value,errorBoundary:null!==e&&1===e.tag?e.stateNode:null})&&console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var ml="function"==typeof WeakMap?WeakMap:Map;function vl(e,n,t){(t=jt(-1,t)).tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){Ba||(Ba=!0,Ha=r),gl(e,n)},t}function bl(e,n,t){(t=jt(-1,t)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var l=n.value;t.payload=function(){return r(l)},t.callback=function(){gl(e,n)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(t.callback=function(){gl(e,n),"function"!=typeof r&&(null===Oa?Oa=new Set([this]):Oa.add(this));var t=n.stack;this.componentDidCatch(n.value,{componentStack:null!==t?t:""})}),t}function yl(e,n,t){var r=e.pingCache;if(null===r){r=e.pingCache=new ml;var l=new Set;r.set(n,l)}else void 0===(l=r.get(n))&&(l=new Set,r.set(n,l));l.has(t)||(l.add(t),e=Ti.bind(null,e,n,t),n.then(e,e))}var Sl=Ue.ReactCurrentOwner,kl=!1;function wl(e,n,t,r){n.child=null===e?lr(n,null,t,r):rr(n,e.child,t,r)}function _l(e,n,t,r,l){t=t.render;var a=n.ref;return Ut(n,l),r=Cr(e,n,t,r,a,l),null===e||kl?(n.flags|=1,wl(e,n,r,l),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l,Yl(e,n,l))}function Tl(e,n,t,r,l){if(null===e){var a=t.type;return"function"!=typeof a||Ni(a)||void 0!==a.defaultProps||null!==t.compare||void 0!==t.defaultProps?((e=Ui(t.type,null,r,n,n.mode,l)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=a,xl(e,n,a,r,l))}if(a=e.child,0==(e.lanes&l)){var i=a.memoizedProps;if((t=null!==(t=t.compare)?t:_t)(i,r)&&e.ref===n.ref)return Yl(e,n,l)}return n.flags|=1,(e=Li(a,r)).ref=n.ref,e.return=n,n.child=e}function xl(e,n,t,r,l){if(null!==e){var a=e.memoizedProps;if(_t(a,r)&&e.ref===n.ref){if(kl=!1,n.pendingProps=r=a,0==(e.lanes&l))return n.lanes=e.lanes,Yl(e,n,l);0!=(131072&e.flags)&&(kl=!0)}}return Rl(e,n,t,r,l)}function El(e,n,t){var r=n.pendingProps,l=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&n.mode))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kn(za,Ca),Ca|=t;else{if(0==(1073741824&t))return e=null!==a?a.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Kn(za,Ca),Ca|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:t,Kn(za,Ca),Ca|=r}else null!==a?(r=a.baseLanes|t,n.memoizedState=null):r=t,Kn(za,Ca),Ca|=r;return wl(e,n,l,t),n.child}function Pl(e,n){var t=n.ref;(null===e&&null!==t||null!==e&&e.ref!==t)&&(n.flags|=512)}function Rl(e,n,t,r,l){var a=rt(t)?nt:Zn.current;return a=tt(n,a),Ut(n,l),t=Cr(e,n,t,r,a,l),null===e||kl?(n.flags|=1,wl(e,n,t,l),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l,Yl(e,n,l))}function Cl(e,n,t,r,l){if(rt(t)){var a=!0;ut(n)}else a=!1;if(Ut(n,l),null===n.stateNode)Vl(e,n),Gt(n,t,r),Jt(n,t,r,l),r=!0;else if(null===e){var i=n.stateNode,u=n.memoizedProps;i.props=u;var o=i.context,s=t.contextType;"object"==typeof s&&null!==s?s=Mt(s):s=tt(n,s=rt(t)?nt:Zn.current);var c=t.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof i.getSnapshotBeforeUpdate;f||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(u!==r||o!==s)&&Kt(n,i,r,s),Dt=!1;var d=n.memoizedState;i.state=d,Wt(n,r,i,l),o=n.memoizedState,u!==r||d!==o||et.current||Dt?("function"==typeof c&&(qt(n,t,c,r),o=n.memoizedState),(u=Dt||Xt(n,t,u,r,d,o,s))?(f||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(n.flags|=4)):("function"==typeof i.componentDidMount&&(n.flags|=4),n.memoizedProps=r,n.memoizedState=o),i.props=r,i.state=o,i.context=s,r=u):("function"==typeof i.componentDidMount&&(n.flags|=4),r=!1)}else{i=n.stateNode,Qt(e,n),u=n.memoizedProps,s=n.type===n.elementType?u:Et(n.type,u),i.props=s,f=n.pendingProps,d=i.context,"object"==typeof(o=t.contextType)&&null!==o?o=Mt(o):o=tt(n,o=rt(t)?nt:Zn.current);var p=t.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(u!==f||d!==o)&&Kt(n,i,r,o),Dt=!1,d=n.memoizedState,i.state=d,Wt(n,r,i,l);var h=n.memoizedState;u!==f||d!==h||et.current||Dt?("function"==typeof p&&(qt(n,t,p,r),h=n.memoizedState),(s=Dt||Xt(n,t,s,r,d,h,o)||!1)?(c||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,o),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,o)),"function"==typeof i.componentDidUpdate&&(n.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!=typeof i.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=h),i.props=r,i.state=h,i.context=o,r=s):("function"!=typeof i.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(n.flags|=1024),r=!1)}return zl(e,n,t,r,a,l)}function zl(e,n,t,r,l,a){Pl(e,n);var i=0!=(128&n.flags);if(!r&&!i)return l&&ot(n,t,!1),Yl(e,n,a);r=n.stateNode,Sl.current=n;var u=i&&"function"!=typeof t.getDerivedStateFromError?null:r.render();return n.flags|=1,null!==e&&i?(n.child=rr(n,e.child,null,a),n.child=rr(n,null,u,a)):wl(e,n,u,a),n.memoizedState=r.state,l&&ot(n,t,!0),n.child}function Nl(e){var n=e.stateNode;n.pendingContext?at(0,n.pendingContext,n.pendingContext!==n.context):n.context&&at(0,n.context,!1),cr(e,n.containerInfo)}var Il,Ll,Ul,Ml,Fl={dehydrated:null,treeContext:null,retryLane:0};function Dl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Al(e,n,t){var r,l=n.pendingProps,a=hr.current,i=!1,u=0!=(128&n.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(i=!0,n.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Kn(hr,1&a),null===e)return null!==(e=n.memoizedState)&&null!==e.dehydrated?(0==(1&n.mode)?n.lanes=1:Mn()?n.lanes=8:n.lanes=1073741824,null):(u=l.children,e=l.fallback,i?(l=n.mode,i=n.child,u={mode:"hidden",children:u},0==(1&l)&&null!==i?(i.childLanes=0,i.pendingProps=u):i=Fi(u,l,0,null),e=Mi(e,l,t,null),i.return=n,e.return=n,i.sibling=e,n.child=i,n.child.memoizedState=Dl(t),n.memoizedState=Fl,e):Ql(n,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return Bl(e,n,u,l,r,a,t);if(i){i=l.fallback,u=n.mode,r=(a=e.child).sibling;var o={mode:"hidden",children:l.children};return 0==(1&u)&&n.child!==a?((l=n.child).childLanes=0,l.pendingProps=o,n.deletions=null):(l=Li(a,o)).subtreeFlags=14680064&a.subtreeFlags,null!==r?i=Li(r,i):(i=Mi(i,u,t,null)).flags|=2,i.return=n,l.return=n,l.sibling=i,n.child=l,l=i,i=n.child,u=null===(u=e.child.memoizedState)?Dl(t):{baseLanes:u.baseLanes|t,cachePool:null,transitions:u.transitions},i.memoizedState=u,i.childLanes=e.childLanes&~t,n.memoizedState=Fl,l}return e=(i=e.child).sibling,l=Li(i,{mode:"visible",children:l.children}),0==(1&n.mode)&&(l.lanes=t),l.return=n,l.sibling=null,null!==e&&(null===(t=n.deletions)?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=l,n.memoizedState=null,l}function Ql(e,n){return(n=Fi({mode:"visible",children:n},e.mode,0,null)).return=e,e.child=n}function jl(e,n,t,r){return null!==r&&(null===kt?kt=[r]:kt.push(r)),rr(n,e.child,null,t),(e=Ql(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function Bl(e,n,t,r,l,a,i){if(t)return 256&n.flags?(n.flags&=-257,jl(e,n,i,Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."))):null!==n.memoizedState?(n.child=e.child,n.flags|=128,null):(a=r.fallback,t=n.mode,r=Fi({mode:"visible",children:r.children},t,0,null),(a=Mi(a,t,i,null)).flags|=2,r.return=n,a.return=n,r.sibling=a,n.child=r,0!=(1&n.mode)&&rr(n,e.child,null,i),n.child.memoizedState=Dl(i),n.memoizedState=Fl,a);if(0==(1&n.mode))return jl(e,n,i,null);if(Mn())return jl(e,n,i,(a=Mn().errorMessage)?Error(a):Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."));if(t=0!=(i&e.childLanes),kl||t){if(null!==(r=Ea)){switch(i&-i){case 4:t=2;break;case 16:t=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:t=32;break;case 536870912:t=268435456;break;default:t=0}0!==(r=0!=(t&(r.suspendedLanes|i))?0:t)&&r!==a.retryLane&&(a.retryLane=r,Za(e,r,-1))}return pi(),jl(e,n,i,Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."))}return Mn()?(n.flags|=128,n.child=e.child,Ei.bind(null,e),Mn(),null):((e=Ql(n,r.children)).flags|=4096,e)}function Hl(e,n,t){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n),Lt(e.return,n,t)}function Ol(e,n,t,r,l){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:l}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=t,a.tailMode=l)}function Wl(e,n,t){var r=n.pendingProps,l=r.revealOrder,a=r.tail;if(wl(e,n,r.children,t),0!=(2&(r=hr.current)))r=1&r|2,n.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Hl(e,t,n);else if(19===e.tag)Hl(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Kn(hr,r),0==(1&n.mode))n.memoizedState=null;else switch(l){case"forwards":for(t=n.child,l=null;null!==t;)null!==(e=t.alternate)&&null===gr(e)&&(l=t),t=t.sibling;null===(t=l)?(l=n.child,n.child=null):(l=t.sibling,t.sibling=null),Ol(n,!1,l,t,a);break;case"backwards":for(t=null,l=n.child,n.child=null;null!==l;){if(null!==(e=l.alternate)&&null===gr(e)){n.child=l;break}e=l.sibling,l.sibling=t,t=l,l=e}Ol(n,!0,t,null,a);break;case"together":Ol(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Vl(e,n){0==(1&n.mode)&&null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Yl(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),La|=n.lanes,0==(t&n.childLanes))return null;if(null!==e&&n.child!==e.child)throw Error("Resuming work not yet implemented.");if(null!==n.child){for(t=Li(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=Li(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function ql(e,n,t){switch(n.tag){case 3:Nl(n);break;case 5:dr(n);break;case 1:rt(n.type)&&ut(n);break;case 4:cr(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,l=n.memoizedProps.value;Kn(Pt,r._currentValue),r._currentValue=l;break;case 13:if(null!==(r=n.memoizedState))return null!==r.dehydrated?(Kn(hr,1&hr.current),n.flags|=128,null):0!=(t&n.child.childLanes)?Al(e,n,t):(Kn(hr,1&hr.current),null!==(e=Yl(e,n,t))?e.sibling:null);Kn(hr,1&hr.current);break;case 19:if(r=0!=(t&n.childLanes),0!=(128&e.flags)){if(r)return Wl(e,n,t);n.flags|=128}if(null!==(l=n.memoizedState)&&(l.rendering=null,l.tail=null,l.lastEffect=null),Kn(hr,hr.current),r)break;return null;case 22:case 23:return n.lanes=0,El(e,n,t)}return Yl(e,n,t)}function $l(e,n){switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xl(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,r=0;if(n)for(var l=e.child;null!==l;)t|=l.lanes|l.childLanes,r|=14680064&l.subtreeFlags,r|=14680064&l.flags,l.return=e,l=l.sibling;else for(l=e.child;null!==l;)t|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function Gl(e,t,r){var l=t.pendingProps;switch(St(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xl(t),null;case 1:return rt(t.type)&&lt(),Xl(t),null;case 3:return r=t.stateNode,fr(),Gn(et),Gn(Zn),vr(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==kt&&(ai(kt),kt=null)),Ll(e,t),Xl(t),null;case 5:pr(t),r=sr(or.current);var a=t.type;if(null!==e&&null!=t.stateNode)Ul(e,t,a,l,r),e.ref!==t.ref&&(t.flags|=512);else{if(!l){if(null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return Xl(t),null}sr(ir.current),e=Qn(),a=Fn(a);var u=pn(null,rn,l,a.validAttributes);n(i[2]).UIManager.createView(e,a.uiViewClassName,r,u),r=new gn(e,a,t),Te.set(e,t),xe.set(e,l),Il(r,t,!1,!1),t.stateNode=r,Bn(r)&&(t.flags|=4),null!==t.ref&&(t.flags|=512)}return Xl(t),null;case 6:if(e&&null!=t.stateNode)Ml(e,t,e.memoizedProps,l);else{if("string"!=typeof l&&null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");if(e=sr(or.current),!sr(ir.current).isInAParentText)throw Error("Text strings must be rendered within a <Text> component.");r=Qn(),n(i[2]).UIManager.createView(r,"RCTRawText",e,{text:l}),Te.set(r,t),t.stateNode=r}return Xl(t),null;case 13:if(Gn(hr),l=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(null!==l&&null!==l.dehydrated){if(null===e)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4,Xl(t),a=!1}else null!==kt&&(ai(kt),kt=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=r,t):((r=null!==l)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&hr.current)?0===Na&&(Na=3):pi())),null!==t.updateQueue&&(t.flags|=4),Xl(t),null);case 4:return fr(),Ll(e,t),Xl(t),null;case 10:return It(t.type._context),Xl(t),null;case 17:return rt(t.type)&&lt(),Xl(t),null;case 19:if(Gn(hr),null===(a=t.memoizedState))return Xl(t),null;if(l=0!=(128&t.flags),null===(u=a.rendering))if(l)$l(a,!1);else{if(0!==Na||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=gr(e))){for(t.flags|=128,$l(a,!1),null!==(e=u.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=r,r=t.child;null!==r;)a=e,(l=r).flags&=14680066,null===(u=l.alternate)?(l.childLanes=0,l.lanes=a,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=u.childLanes,l.lanes=u.lanes,l.child=u.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=u.memoizedProps,l.memoizedState=u.memoizedState,l.updateQueue=u.updateQueue,l.type=u.type,a=u.dependencies,l.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),r=r.sibling;return Kn(hr,1&hr.current|2),t.child}e=e.sibling}null!==a.tail&&n(i[3]).unstable_now()>Qa&&(t.flags|=128,l=!0,$l(a,!1),t.lanes=4194304)}else{if(!l)if(null!==(e=gr(u))){if(t.flags|=128,l=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),$l(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate)return Xl(t),null}else 2*n(i[3]).unstable_now()-a.renderingStartTime>Qa&&1073741824!==r&&(t.flags|=128,l=!0,$l(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(e=a.last)?e.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=n(i[3]).unstable_now(),t.sibling=null,e=hr.current,Kn(hr,l?1&e|2:1&e),t):(Xl(t),null);case 22:case 23:return si(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Ca)&&(Xl(t),6&t.subtreeFlags&&(t.flags|=8192)):Xl(t),null;case 24:case 25:return null}throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Kl(e,n){switch(St(n),n.tag){case 1:return rt(n.type)&&lt(),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return fr(),Gn(et),Gn(Zn),vr(),0!=(65536&(e=n.flags))&&0==(128&e)?(n.flags=-65537&e|128,n):null;case 5:return pr(n),null;case 13:if(Gn(hr),null!==(e=n.memoizedState)&&null!==e.dehydrated&&null===n.alternate)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return Gn(hr),null;case 4:return fr(),null;case 10:return It(n.type._context),null;case 22:case 23:return si(),null;case 24:default:return null}}Il=function(e,n){for(var t=n.child;null!==t;){if(5===t.tag||6===t.tag)e._children.push(t.stateNode);else if(4!==t.tag&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}},Ll=function(){},Ul=function(e,n,t,r){e.memoizedProps!==r&&(sr(ir.current),n.updateQueue=Dn)&&(n.flags|=4)},Ml=function(e,n,t,r){t!==r&&(n.flags|=4)};var Jl="function"==typeof WeakSet?WeakSet:Set,Zl=null;function ea(e,n){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){_i(e,n,t)}else t.current=null}function na(e,n,t){try{t()}catch(t){_i(e,n,t)}}var ta=!1;function ra(e,n){for(Zl=n;null!==Zl;)if(n=(e=Zl).child,0!=(1028&e.subtreeFlags)&&null!==n)n.return=e,Zl=n;else for(;null!==Zl;){e=Zl;try{var t=e.alternate;if(0!=(1024&e.flags))switch(e.tag){case 0:case 11:case 15:break;case 1:if(null!==t){var r=t.memoizedProps,l=t.memoizedState,a=e.stateNode,i=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:Et(e.type,r),l);a.__reactInternalSnapshotBeforeUpdate=i}break;case 3:break;case 5:case 6:case 4:case 17:break;default:throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}catch(n){_i(e,e.return,n)}if(null!==(n=e.sibling)){n.return=e.return,Zl=n;break}Zl=e.return}return t=ta,ta=!1,t}function la(e,n,t){var r=n.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,void 0!==a&&na(n,t,a)}l=l.next}while(l!==r)}}function aa(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function ia(e){var n=e.alternate;null!==n&&(e.alternate=null,ia(n)),e.child=null,e.deletions=null,e.sibling=null,e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ua(e){return 5===e.tag||3===e.tag||4===e.tag}function oa(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ua(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function sa(e,t,r){var l=e.tag;if(5===l||6===l)if(e=e.stateNode,t){if("number"==typeof r)throw Error("Container does not support insertBefore operation")}else n(i[2]).UIManager.setChildren(r,["number"==typeof e?e:e._nativeTag]);else if(4!==l&&null!==(e=e.child))for(sa(e,t,r),e=e.sibling;null!==e;)sa(e,t,r),e=e.sibling}function ca(e,t,r){var l=e.tag;if(5===l||6===l)if(e=e.stateNode,t){var a=(l=r._children).indexOf(e);0<=a?(l.splice(a,1),t=l.indexOf(t),l.splice(t,0,e),n(i[2]).UIManager.manageChildren(r._nativeTag,[a],[t],[],[],[])):(t=l.indexOf(t),l.splice(t,0,e),n(i[2]).UIManager.manageChildren(r._nativeTag,[],[],["number"==typeof e?e:e._nativeTag],[t],[]))}else t="number"==typeof e?e:e._nativeTag,0<=(a=(l=r._children).indexOf(e))?(l.splice(a,1),l.push(e),n(i[2]).UIManager.manageChildren(r._nativeTag,[a],[l.length-1],[],[],[])):(l.push(e),n(i[2]).UIManager.manageChildren(r._nativeTag,[],[],[t],[l.length-1],[]));else if(4!==l&&null!==(e=e.child))for(ca(e,t,r),e=e.sibling;null!==e;)ca(e,t,r),e=e.sibling}var fa=null,da=!1;function pa(e,n,t){for(t=t.child;null!==t;)ha(e,n,t),t=t.sibling}function ha(e,t,r){if(vn&&"function"==typeof vn.onCommitFiberUnmount)try{vn.onCommitFiberUnmount(mn,r)}catch(e){}switch(r.tag){case 5:ea(r,t);case 6:var l=fa,a=da;fa=null,pa(e,t,r),da=a,null!==(fa=l)&&(da?(e=fa,jn(r.stateNode),n(i[2]).UIManager.manageChildren(e,[],[],[],[],[0])):(e=fa,jn(t=r.stateNode),t=(r=e._children).indexOf(t),r.splice(t,1),n(i[2]).UIManager.manageChildren(e._nativeTag,[],[],[],[],[t])));break;case 18:null!==fa&&Mn(r.stateNode);break;case 4:l=fa,a=da,fa=r.stateNode.containerInfo,da=!0,pa(e,t,r),fa=l,da=a;break;case 0:case 11:case 14:case 15:if(null!==(l=r.updateQueue)&&null!==(l=l.lastEffect)){a=l=l.next;do{var u=a,o=u.destroy;u=u.tag,void 0!==o&&(0!=(2&u)?na(r,t,o):0!=(4&u)&&na(r,t,o)),a=a.next}while(a!==l)}pa(e,t,r);break;case 1:if(ea(r,t),"function"==typeof(l=r.stateNode).componentWillUnmount)try{l.props=r.memoizedProps,l.state=r.memoizedState,l.componentWillUnmount()}catch(e){_i(r,t,e)}pa(e,t,r);break;case 21:case 22:pa(e,t,r);break;default:pa(e,t,r)}}function ga(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var t=e.stateNode;null===t&&(t=e.stateNode=new Jl),n.forEach(function(n){var r=Pi.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))})}}function ma(e,n){var t=n.deletions;if(null!==t)for(var r=0;r<t.length;r++){var l=t[r];try{var a=e,i=n,u=i;e:for(;null!==u;){switch(u.tag){case 5:fa=u.stateNode,da=!1;break e;case 3:case 4:fa=u.stateNode.containerInfo,da=!0;break e}u=u.return}if(null===fa)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");ha(a,i,l),fa=null,da=!1;var o=l.alternate;null!==o&&(o.return=null),l.return=null}catch(e){_i(l,n,e)}}if(12854&n.subtreeFlags)for(n=n.child;null!==n;)va(n,e),n=n.sibling}function va(e,t){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ma(t,e),ba(e),4&l){try{la(3,e,e.return),aa(3,e)}catch(n){_i(e,e.return,n)}try{la(5,e,e.return)}catch(n){_i(e,e.return,n)}}break;case 1:ma(t,e),ba(e),512&l&&null!==r&&ea(r,r.return);break;case 5:if(ma(t,e),ba(e),512&l&&null!==r&&ea(r,r.return),4&l){var a=e.stateNode;if(null!=a){var u=e.memoizedProps,o=null!==r?r.memoizedProps:u,s=e.updateQueue;if(e.updateQueue=null,null!==s)try{var c=a.viewConfig;xe.set(a._nativeTag,u);var f=pn(null,o,u,c.validAttributes);null!=f&&n(i[2]).UIManager.updateView(a._nativeTag,c.uiViewClassName,f)}catch(n){_i(e,e.return,n)}}}break;case 6:if(ma(t,e),ba(e),4&l){if(null===e.stateNode)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");c=e.stateNode,f=e.memoizedProps;try{n(i[2]).UIManager.updateView(c,"RCTRawText",{text:f})}catch(n){_i(e,e.return,n)}}break;case 3:case 4:ma(t,e),ba(e);break;case 13:ma(t,e),ba(e),8192&(c=e.child).flags&&null!==c.memoizedState&&(null===c.alternate||null===c.alternate.memoizedState)&&(Aa=n(i[3]).unstable_now()),4&l&&ga(e);break;case 22:if(ma(t,e),ba(e),8192&l)e:for(c=null!==e.memoizedState,f=null,r=e;;){if(5===r.tag){if(null===f){f=r;try{if(a=r.stateNode,c)u=a.viewConfig,o=pn(null,rn,{style:{display:"none"}},u.validAttributes),n(i[2]).UIManager.updateView(a._nativeTag,u.uiViewClassName,o);else{s=r.stateNode;var d=r.memoizedProps,p=s.viewConfig,h=pn(null,w({},d,{style:[d.style,{display:"none"}]}),d,p.validAttributes);n(i[2]).UIManager.updateView(s._nativeTag,p.uiViewClassName,h)}}catch(n){_i(e,e.return,n)}}}else if(6===r.tag){if(null===f)try{throw Error("Not yet implemented.")}catch(n){_i(e,e.return,n)}}else if((22!==r.tag&&23!==r.tag||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;null===r.sibling;){if(null===r.return||r.return===e)break e;f===r&&(f=null),r=r.return}f===r&&(f=null),r.sibling.return=r.return,r=r.sibling}break;case 19:ma(t,e),ba(e),4&l&&ga(e);break;case 21:break;default:ma(t,e),ba(e)}}function ba(e){var n=e.flags;if(2&n){try{e:{for(var t=e.return;null!==t;){if(ua(t)){var r=t;break e}t=t.return}throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}switch(r.tag){case 5:var l=r.stateNode;32&r.flags&&(r.flags&=-33),ca(e,oa(e),l);break;case 3:case 4:var a=r.stateNode.containerInfo;sa(e,oa(e),a);break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}catch(n){_i(e,e.return,n)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function ya(e){for(Zl=e;null!==Zl;){var n=Zl,t=n.child;if(0!=(8772&n.subtreeFlags)&&null!==t)t.return=n,Zl=t;else for(n=e;null!==Zl;){if(0!=(8772&(t=Zl).flags)){var r=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:aa(5,t);break;case 1:var l=t.stateNode;if(4&t.flags)if(null===r)l.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Et(t.type,r.memoizedProps);l.componentDidUpdate(a,r.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Vt(t,i,l);break;case 3:var u=t.updateQueue;if(null!==u){if(r=null,null!==t.child)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Vt(t,u,r)}break;case 5:case 6:case 4:case 12:case 13:break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(512&t.flags){r=void 0;var o=t.ref;if(null!==o){var s=t.stateNode;switch(t.tag){case 5:r=s;break;default:r=s}"function"==typeof o?o(r):o.current=r}}}catch(e){_i(t,t.return,e)}}if(t===n){Zl=null;break}if(null!==(r=t.sibling)){r.return=t.return,Zl=r;break}Zl=t.return}}}var Sa,ka=Math.ceil,wa=Ue.ReactCurrentDispatcher,_a=Ue.ReactCurrentOwner,Ta=Ue.ReactCurrentBatchConfig,xa=0,Ea=null,Pa=null,Ra=0,Ca=0,za=Xn(0),Na=0,Ia=null,La=0,Ua=0,Ma=0,Fa=null,Da=null,Aa=0,Qa=1/0,ja=null,Ba=!1,Ha=null,Oa=null,Wa=!1,Va=null,Ya=0,qa=0,$a=null,Xa=-1,Ga=0;function Ka(){return 0!=(6&xa)?n(i[3]).unstable_now():-1!==Xa?Xa:Xa=n(i[3]).unstable_now()}function Ja(e){return 0==(1&e.mode)?1:0!=(2&xa)&&0!==Ra?Ra&-Ra:null!==wt.transition?(0===Ga&&(Ga=Rn()),Ga):0!==(e=Ln)?e:16}function Za(e,t,r){if(50<qa)throw qa=0,$a=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");var l=ei(e,t);return null===l?null:(zn(l,t,r),0!=(2&xa)&&l===Ea||(l===Ea&&(0==(2&xa)&&(Ua|=t),4===Na&&ui(l,Ra)),ti(l,r),1===t&&0===xa&&0==(1&e.mode)&&(Qa=n(i[3]).unstable_now()+500,ft&&pt())),l)}function ei(e,n){e.lanes|=n;var t=e.alternate;for(null!==t&&(t.lanes|=n),t=e,e=e.return;null!==e;)e.childLanes|=n,null!==(t=e.alternate)&&(t.childLanes|=n),t=e,e=e.return;return 3===t.tag?t.stateNode:null}function ni(e){return(null!==Ea||null!==Ft)&&0!=(1&e.mode)&&0==(2&xa)}function ti(e,t){for(var r=e.callbackNode,l=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-yn(o),c=1<<s,f=u[s];-1===f?0!=(c&l)&&0==(c&a)||(u[s]=En(c,t)):f<=t&&(e.expiredLanes|=c),o&=~c}if(0===(l=xn(e,e===Ea?Ra:0)))null!==r&&n(i[3]).unstable_cancelCallback(r),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(null!=r&&n(i[3]).unstable_cancelCallback(r),1===t)0===e.tag?(r=oi.bind(null,e),ft=!0,null===ct?ct=[r]:ct.push(r)):(r=oi.bind(null,e),null===ct?ct=[r]:ct.push(r)),n(i[3]).unstable_scheduleCallback(n(i[3]).unstable_ImmediatePriority,pt),r=null;else{switch(Un(l)){case 1:r=n(i[3]).unstable_ImmediatePriority;break;case 4:r=n(i[3]).unstable_UserBlockingPriority;break;case 16:r=n(i[3]).unstable_NormalPriority;break;case 536870912:r=n(i[3]).unstable_IdlePriority;break;default:r=n(i[3]).unstable_NormalPriority}r=Ri(r,ri.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ri(e,t){if(Xa=-1,Ga=0,0!=(6&xa))throw Error("Should not already be working.");var r=e.callbackNode;if(ki()&&e.callbackNode!==r)return null;var l=xn(e,e===Ea?Ra:0);if(0===l)return null;if(0!=(30&l)||0!=(l&e.expiredLanes)||t)t=hi(e,l);else{t=l;var a=xa;xa|=2;var u=di();for(Ea===e&&Ra===t||(ja=null,Qa=n(i[3]).unstable_now()+500,ci(e,t));;)try{mi();break}catch(n){fi(e,n)}Nt(),wa.current=u,xa=a,null!==Pa?t=0:(Ea=null,Ra=0,t=Na)}if(0!==t){if(2===t&&(0!==(a=Pn(e))&&(l=a,t=li(e,a))),1===t)throw r=Ia,ci(e,0),ui(e,l),ti(e,n(i[3]).unstable_now()),r;if(6===t)ui(e,l);else{if(a=e.current.alternate,0==(30&l)&&!ii(a)&&(2===(t=hi(e,l))&&(0!==(u=Pn(e))&&(l=u,t=li(e,u))),1===t))throw r=Ia,ci(e,0),ui(e,l),ti(e,n(i[3]).unstable_now()),r;switch(e.finishedWork=a,e.finishedLanes=l,t){case 0:case 1:throw Error("Root did not complete. This is a bug in React.");case 2:yi(e,Da,ja);break;case 3:if(ui(e,l),(130023424&l)===l&&10<(t=Aa+500-n(i[3]).unstable_now())){if(0!==xn(e,0))break;if(((a=e.suspendedLanes)&l)!==l){Ka(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Hn(yi.bind(null,e,Da,ja),t);break}yi(e,Da,ja);break;case 4:if(ui(e,l),(4194240&l)===l)break;for(t=e.eventTimes,a=-1;0<l;){var o=31-yn(l);u=1<<o,(o=t[o])>a&&(a=o),l&=~u}if(l=a,10<(l=(120>(l=n(i[3]).unstable_now()-l)?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*ka(l/1960))-l)){e.timeoutHandle=Hn(yi.bind(null,e,Da,ja),l);break}yi(e,Da,ja);break;case 5:yi(e,Da,ja);break;default:throw Error("Unknown root exit status.")}}}return ti(e,n(i[3]).unstable_now()),e.callbackNode===r?ri.bind(null,e):null}function li(e,n){var t=Fa;return e.current.memoizedState.isDehydrated&&(ci(e,n).flags|=256),2!==(e=hi(e,n))&&(n=Da,Da=t,null!==n&&ai(n)),e}function ai(e){null===Da?Da=e:Da.push.apply(Da,e)}function ii(e){for(var n=e;;){if(16384&n.flags){var t=n.updateQueue;if(null!==t&&null!==(t=t.stores))for(var r=0;r<t.length;r++){var l=t[r],a=l.getSnapshot;l=l.value;try{if(!st(a(),l))return!1}catch(e){return!1}}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ui(e,n){for(n&=~Ma,n&=~Ua,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-yn(n),r=1<<t;e[t]=-1,n&=~r}}function oi(e){if(0!=(6&xa))throw Error("Should not already be working.");ki();var t=xn(e,0);if(0==(1&t))return ti(e,n(i[3]).unstable_now()),null;var r=hi(e,t);if(0!==e.tag&&2===r){var l=Pn(e);0!==l&&(t=l,r=li(e,l))}if(1===r)throw r=Ia,ci(e,0),ui(e,t),ti(e,n(i[3]).unstable_now()),r;if(6===r)throw Error("Root did not complete. This is a bug in React.");return e.finishedWork=e.current.alternate,e.finishedLanes=t,yi(e,Da,ja),ti(e,n(i[3]).unstable_now()),null}function si(){Ca=za.current,Gn(za)}function ci(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(-1!==t&&(e.timeoutHandle=-1,On(t)),null!==Pa)for(t=Pa.return;null!==t;){var r=t;switch(St(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&lt();break;case 3:fr(),Gn(et),Gn(Zn),vr();break;case 5:pr(r);break;case 4:fr();break;case 13:case 19:Gn(hr);break;case 10:It(r.type._context);break;case 22:case 23:si()}t=t.return}if(Ea=e,Pa=e=Li(e.current,null),Ra=Ca=n,Na=0,Ia=null,Ma=Ua=La=0,Da=Fa=null,null!==Ft){for(n=0;n<Ft.length;n++)if(null!==(r=(t=Ft[n]).interleaved)){t.interleaved=null;var l=r.next,a=t.pending;if(null!==a){var i=a.next;a.next=l,r.next=i}t.pending=r}Ft=null}return e}function fi(e,n){for(;;){var t=Pa;try{if(Nt(),br.current=cl,Tr){for(var r=kr.memoizedState;null!==r;){var l=r.queue;null!==l&&(l.pending=null),r=r.next}Tr=!1}if(Sr=0,_r=wr=kr=null,xr=!1,_a.current=null,null===t||null===t.return){Na=1,Ia=n,Pa=null;break}e:{var a=e,i=t.return,u=t,o=n;if(n=Ra,u.flags|=32768,null!==o&&"object"==typeof o&&"function"==typeof o.then){var s=o,c=u,f=c.tag;if(0==(1&c.mode)&&(0===f||11===f||15===f)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}n:{c=i;do{var p;if(p=13===c.tag){var h=c.memoizedState;p=null===h||null!==h.dehydrated}if(p){var g=c;break n}c=c.return}while(null!==c);g=null}if(null!==g){if(g.flags&=-257,c=n,0==(1&(o=g).mode))if(o===i)o.flags|=65536;else{if(o.flags|=128,u.flags|=131072,u.flags&=-52805,1===u.tag)if(null===u.alternate)u.tag=17;else{var m=jt(-1,1);m.tag=2,Bt(u,m)}u.lanes|=1}else o.flags|=65536,o.lanes=c;1&g.mode&&yl(a,s,n),a=s;var v=(n=g).updateQueue;if(null===v){var b=new Set;b.add(a),n.updateQueue=b}else v.add(a);break e}if(0==(1&n)){yl(a,s,n),pi();break e}o=Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.")}a=o,4!==Na&&(Na=2),null===Fa?Fa=[a]:Fa.push(a),o=hl(o,u),a=i;do{switch(a.tag){case 3:s=o,a.flags|=65536,n&=-n,a.lanes|=n,Ot(a,vl(a,s,n));break e;case 1:s=o;var y=a.type,S=a.stateNode;if(0==(128&a.flags)&&("function"==typeof y.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===Oa||!Oa.has(S)))){a.flags|=65536,n&=-n,a.lanes|=n,Ot(a,bl(a,s,n));break e}}a=a.return}while(null!==a)}bi(t)}catch(e){n=e,Pa===t&&null!==t&&(Pa=t=t.return);continue}break}}function di(){var e=wa.current;return wa.current=cl,null===e?cl:e}function pi(){0!==Na&&3!==Na&&2!==Na||(Na=4),null===Ea||0==(268435455&La)&&0==(268435455&Ua)||ui(Ea,Ra)}function hi(e,n){var t=xa;xa|=2;var r=di();for(Ea===e&&Ra===n||(ja=null,ci(e,n));;)try{gi();break}catch(n){fi(e,n)}if(Nt(),xa=t,wa.current=r,null!==Pa)throw Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return Ea=null,Ra=0,Na}function gi(){for(;null!==Pa;)vi(Pa)}function mi(){for(;null!==Pa&&!n(i[3]).unstable_shouldYield();)vi(Pa)}function vi(e){var n=Sa(e.alternate,e,Ca);e.memoizedProps=e.pendingProps,null===n?bi(e):Pa=n,_a.current=null}function bi(e){var n=e;do{var t=n.alternate;if(e=n.return,0==(32768&n.flags)){if(null!==(t=Gl(t,n,Ca)))return void(Pa=t)}else{if(null!==(t=Kl(t,n)))return t.flags&=32767,void(Pa=t);if(null===e)return Na=6,void(Pa=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(n=n.sibling))return void(Pa=n);Pa=n=e}while(null!==n);0===Na&&(Na=5)}function yi(e,n,t){var r=Ln,l=Ta.transition;try{Ta.transition=null,Ln=1,Si(e,n,t,r)}finally{Ta.transition=l,Ln=r}return null}function Si(e,t,r,l){do{ki()}while(null!==Va);if(0!=(6&xa))throw Error("Should not already be working.");r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");e.callbackNode=null,e.callbackPriority=0;var u=r.lanes|r.childLanes;if(Nn(e,u),e===Ea&&(Pa=Ea=null,Ra=0),0==(2064&r.subtreeFlags)&&0==(2064&r.flags)||Wa||(Wa=!0,Ri(n(i[3]).unstable_NormalPriority,function(){return ki(),null})),u=0!=(15990&r.flags),0!=(15990&r.subtreeFlags)||u){u=Ta.transition,Ta.transition=null;var o=Ln;Ln=1;var s=xa;xa|=4,_a.current=null,ra(e,r),va(r,e),e.current=r,ya(r),n(i[3]).unstable_requestPaint(),xa=s,Ln=o,Ta.transition=u}else e.current=r;if(Wa&&(Wa=!1,Va=e,Ya=a),0===(u=e.pendingLanes)&&(Oa=null),bn(r.stateNode),ti(e,n(i[3]).unstable_now()),null!==t)for(l=e.onRecoverableError,r=0;r<t.length;r++)l(t[r]);if(Ba)throw Ba=!1,e=Ha,Ha=null,e;return 0!=(1&Ya)&&0!==e.tag&&ki(),0!=(1&(u=e.pendingLanes))?e===$a?qa++:(qa=0,$a=e):qa=0,pt(),null}function ki(){if(null!==Va){var e=Un(Ya),n=Ta.transition,t=Ln;try{if(Ta.transition=null,Ln=16>e?16:e,null===Va)var r=!1;else{if(e=Va,Va=null,Ya=0,0!=(6&xa))throw Error("Cannot flush passive effects while already rendering.");var l=xa;for(xa|=4,Zl=e.current;null!==Zl;){var a=Zl,i=a.child;if(0!=(16&Zl.flags)){var u=a.deletions;if(null!==u){for(var o=0;o<u.length;o++){var s=u[o];for(Zl=s;null!==Zl;){var c=Zl;switch(c.tag){case 0:case 11:case 15:la(8,c,a)}var f=c.child;if(null!==f)f.return=c,Zl=f;else for(;null!==Zl;){var d=(c=Zl).sibling,p=c.return;if(ia(c),c===s){Zl=null;break}if(null!==d){d.return=p,Zl=d;break}Zl=p}}}var h=a.alternate;if(null!==h){var g=h.child;if(null!==g){h.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Zl=a}}if(0!=(2064&a.subtreeFlags)&&null!==i)i.return=a,Zl=i;else e:for(;null!==Zl;){if(0!=(2048&(a=Zl).flags))switch(a.tag){case 0:case 11:case 15:la(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Zl=v;break e}Zl=a.return}}var b=e.current;for(Zl=b;null!==Zl;){var y=(i=Zl).child;if(0!=(2064&i.subtreeFlags)&&null!==y)y.return=i,Zl=y;else e:for(i=b;null!==Zl;){if(0!=(2048&(u=Zl).flags))try{switch(u.tag){case 0:case 11:case 15:aa(9,u)}}catch(e){_i(u,u.return,e)}if(u===i){Zl=null;break e}var S=u.sibling;if(null!==S){S.return=u.return,Zl=S;break e}Zl=u.return}}if(xa=l,pt(),vn&&"function"==typeof vn.onPostCommitFiberRoot)try{vn.onPostCommitFiberRoot(mn,e)}catch(e){}r=!0}return r}finally{Ln=t,Ta.transition=n}}return!1}function wi(e,n,t){Bt(e,n=vl(e,n=hl(t,n),1)),n=Ka(),null!==(e=ei(e,1))&&(zn(e,1,n),ti(e,n))}function _i(e,n,t){if(3===e.tag)wi(e,e,t);else for(n=e.return;null!==n;){if(3===n.tag){wi(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Oa||!Oa.has(r))){Bt(n,e=bl(n,e=hl(t,e),1)),e=Ka(),null!==(n=ei(n,1))&&(zn(n,1,e),ti(n,e));break}}n=n.return}}function Ti(e,t,r){var l=e.pingCache;null!==l&&l.delete(t),t=Ka(),e.pingedLanes|=e.suspendedLanes&r,Ea===e&&(Ra&r)===r&&(4===Na||3===Na&&(130023424&Ra)===Ra&&500>n(i[3]).unstable_now()-Aa?ci(e,0):Ma|=r),ti(e,t)}function xi(e,n){0===n&&(0==(1&e.mode)?n=1:(n=_n,0==(130023424&(_n<<=1))&&(_n=4194304)));var t=Ka();null!==(e=ei(e,n))&&(zn(e,n,t),ti(e,t))}function Ei(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),xi(e,t)}function Pi(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;null!==l&&(t=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}null!==r&&r.delete(n),xi(e,t)}function Ri(e,t){return n(i[3]).unstable_scheduleCallback(e,t)}function Ci(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zi(e,n,t,r){return new Ci(e,n,t,r)}function Ni(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ii(e){if("function"==typeof e)return Ni(e)?1:0;if(null!=e){if((e=e.$$typeof)===He)return 11;if(e===Ve)return 14}return 2}function Li(e,n){var t=e.alternate;return null===t?((t=zi(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=14680064&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function Ui(e,n,t,r,l,a){var i=2;if(r=e,"function"==typeof e)Ni(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case De:return Mi(t.children,l,a,n);case Ae:i=8,l|=8;break;case Qe:return(e=zi(12,t,n,2|l)).elementType=Qe,e.lanes=a,e;case Oe:return(e=zi(13,t,n,l)).elementType=Oe,e.lanes=a,e;case We:return(e=zi(19,t,n,l)).elementType=We,e.lanes=a,e;case qe:return Fi(t,l,a,n);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case je:i=10;break e;case Be:i=9;break e;case He:i=11;break e;case Ve:i=14;break e;case Ye:i=16,r=null;break e}throw Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==e?e:typeof e)+".")}return(n=zi(i,t,n,l)).elementType=e,n.type=r,n.lanes=a,n}function Mi(e,n,t,r){return(e=zi(7,e,r,n)).lanes=t,e}function Fi(e,n,t,r){return(e=zi(22,e,r,n)).elementType=qe,e.lanes=t,e.stateNode={},e}function Di(e,n,t){return(e=zi(6,e,null,n)).lanes=t,e}function Ai(e,n,t){return(n=zi(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Qi(e,n,t,r,l){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cn(0),this.expirationTimes=Cn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cn(0),this.identifierPrefix=r,this.onRecoverableError=l}function ji(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Fe,key:null==r?null:""+r,children:e,containerInfo:n,implementation:t}}function Bi(e){var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error("Unable to find node on an unmounted component.");throw e=Object.keys(e).join(","),Error("Argument appears to not be a ReactComponent. Keys: "+e)}return null===(e=nn(n))?null:e.stateNode}function Hi(e,n,t,r){var l=n.current,a=Ka(),i=Ja(l);e:if(t){n:{if(Je(t=t._reactInternals)!==t||1!==t.tag)throw Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var u=t;do{switch(u.tag){case 3:u=u.stateNode.context;break n;case 1:if(rt(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break n}}u=u.return}while(null!==u);throw Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}if(1===t.tag){var o=t.type;if(rt(o)){t=it(t,o,u);break e}}t=u}else t=Jn;return null===n.context?n.context=t:n.pendingContext=t,(n=jt(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(n.callback=r),Bt(l,n),null!==(e=Za(l,i,a))&&Ht(e,l,i),i}function Oi(e){return null==e?null:"number"==typeof e?e:e._nativeTag?e._nativeTag:e.canonical&&e.canonical._nativeTag?e.canonical._nativeTag:null==(e=Bi(e))?e:e.canonical?e.canonical._nativeTag:e._nativeTag}function Wi(e){console.error(e)}function Vi(e){var n=Yi.get(e);n&&Hi(null,n,null,function(){Yi.delete(e)})}Sa=function(e,n,t){if(null!==e)if(e.memoizedProps!==n.pendingProps||et.current)kl=!0;else{if(0==(e.lanes&t)&&0==(128&n.flags))return kl=!1,ql(e,n,t);kl=0!=(131072&e.flags)}else kl=!1;switch(n.lanes=0,n.tag){case 2:var r=n.type;Vl(e,n),e=n.pendingProps;var l=tt(n,Zn.current);if(Ut(n,t),l=Cr(null,n,r,e,l,t),n.flags|=1,"object"==typeof l&&null!==l&&"function"==typeof l.render&&void 0===l.$$typeof){if(n.tag=1,n.memoizedState=null,n.updateQueue=null,rt(r)){var a=!0;ut(n)}else a=!1;n.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,At(n),l.updater=$t,n.stateNode=l,l._reactInternals=n,Jt(n,r,e,t),n=zl(null,n,r,!0,a,t)}else n.tag=0,wl(null,n,l,t),n=n.child;return n;case 16:r=n.elementType;e:{switch(Vl(e,n),e=n.pendingProps,r=(l=r._init)(r._payload),n.type=r,l=n.tag=Ii(r),e=Et(r,e),l){case 0:n=Rl(null,n,r,e,t);break e;case 1:n=Cl(null,n,r,e,t);break e;case 11:n=_l(null,n,r,e,t);break e;case 14:n=Tl(null,n,r,Et(r.type,e),t);break e}throw Error("Element type is invalid. Received a promise that resolves to: "+r+". Lazy element type must resolve to a class or function.")}return n;case 0:return r=n.type,l=n.pendingProps,Rl(e,n,r,l=n.elementType===r?l:Et(r,l),t);case 1:return r=n.type,l=n.pendingProps,Cl(e,n,r,l=n.elementType===r?l:Et(r,l),t);case 3:if(Nl(n),null===e)throw Error("Should have a current fiber. This is a bug in React.");return l=n.pendingProps,r=n.memoizedState.element,Qt(e,n),Wt(n,l,null,t),(l=n.memoizedState.element)===r?n=Yl(e,n,t):(wl(e,n,l,t),n=n.child),n;case 5:return dr(n),r=n.pendingProps.children,Pl(e,n),wl(e,n,r,t),n.child;case 6:return null;case 13:return Al(e,n,t);case 4:return cr(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=rr(n,null,r,t):wl(e,n,r,t),n.child;case 11:return r=n.type,l=n.pendingProps,_l(e,n,r,l=n.elementType===r?l:Et(r,l),t);case 7:return wl(e,n,n.pendingProps,t),n.child;case 8:case 12:return wl(e,n,n.pendingProps.children,t),n.child;case 10:e:{r=n.type._context,l=n.pendingProps,a=n.memoizedProps;var i=l.value;if(Kn(Pt,r._currentValue),r._currentValue=i,null!==a)if(st(a.value,i)){if(a.children===l.children&&!et.current){n=Yl(e,n,t);break e}}else for(null!==(a=n.child)&&(a.return=n);null!==a;){var u=a.dependencies;if(null!==u){i=a.child;for(var o=u.firstContext;null!==o;){if(o.context===r){if(1===a.tag){(o=jt(-1,t&-t)).tag=2;var s=a.updateQueue;if(null!==s){var c=(s=s.shared).pending;null===c?o.next=o:(o.next=c.next,c.next=o),s.pending=o}}a.lanes|=t,null!==(o=a.alternate)&&(o.lanes|=t),Lt(a.return,t,n),u.lanes|=t;break}o=o.next}}else if(10===a.tag)i=a.type===n.type?null:a.child;else if(18===a.tag){if(null===(i=a.return))throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");i.lanes|=t,null!==(u=i.alternate)&&(u.lanes|=t),Lt(i,t,n),i=a.sibling}else i=a.child;if(null!==i)i.return=a;else for(i=a;null!==i;){if(i===n){i=null;break}if(null!==(a=i.sibling)){a.return=i.return,i=a;break}i=i.return}a=i}wl(e,n,l.children,t),n=n.child}return n;case 9:return l=n.type,r=n.pendingProps.children,Ut(n,t),r=r(l=Mt(l)),n.flags|=1,wl(e,n,r,t),n.child;case 14:return l=Et(r=n.type,n.pendingProps),Tl(e,n,r,l=Et(r.type,l),t);case 15:return xl(e,n,n.type,n.pendingProps,t);case 17:return r=n.type,l=n.pendingProps,l=n.elementType===r?l:Et(r,l),Vl(e,n),n.tag=1,rt(r)?(e=!0,ut(n)):e=!1,Ut(n,t),Gt(n,r,l),Jt(n,r,l,t),zl(null,n,r,!0,e,t);case 19:return Wl(e,n,t);case 22:return El(e,n,t)}throw Error("Unknown unit of work tag ("+n.tag+"). This error is likely caused by a bug in React. Please file an issue.")},Pe=function(e,t){var r=xa;xa|=1;try{return e(t)}finally{0===(xa=r)&&(Qa=n(i[3]).unstable_now()+500,ft&&pt())}};var Yi=new Map,qi={findFiberByHostInstance:Ee,bundleType:0,version:"18.2.0-next-d300cebde-20220601",rendererPackageName:"react-native-renderer",rendererConfig:{getInspectorDataForViewTag:function(){throw Error("getInspectorDataForViewTag() is not available in production")},getInspectorDataForViewAtPoint:function(){throw Error("getInspectorDataForViewAtPoint() is not available in production.")}.bind(null,Oi)}},$i={bundleType:qi.bundleType,version:qi.version,rendererPackageName:qi.rendererPackageName,rendererConfig:qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ue.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nn(e))?null:e.stateNode},findFiberByHostInstance:qi.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-d300cebde-20220601"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Xi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xi.isDisabled&&Xi.supportsFiber)try{mn=Xi.inject($i),vn=Xi}catch(e){}}a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={computeComponentStackForErrorReporting:function(e){return(e=Ee(e))?xt(e):""}},a.createPortal=function(e,n){return ji(e,n,null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},a.dispatchCommand=function(e,t,r){null!=e._nativeTag&&(null!=e._internalInstanceHandle?null!=(e=e._internalInstanceHandle.stateNode)&&nativeFabricUIManager.dispatchCommand(e.node,t,r):n(i[2]).UIManager.dispatchViewManagerCommand(e._nativeTag,t,r))},a.findHostInstance_DEPRECATED=function(e){return null==e?null:e._nativeTag?e:e.canonical&&e.canonical._nativeTag?e.canonical:null==(e=Bi(e))?e:e.canonical?e.canonical:e},a.findNodeHandle=Oi,a.getInspectorDataForInstance=void 0,a.render=function(e,n,t){var r=Yi.get(n);if(!r){r=new Qi(n,0,!1,"",Wi);var l=zi(3,null,null,0);r.current=l,l.stateNode=r,l.memoizedState={element:null,isDehydrated:!1,cache:null,transitions:null,pendingSuspenseBoundaries:null},At(l),Yi.set(n,r)}Hi(e,r,null,t);e:if(e=r.current,e.child)switch(e.child.tag){case 5:e=e.child.stateNode;break e;default:e=e.child.stateNode}else e=null;return e},a.sendAccessibilityEvent=function(e,t){null!=e._nativeTag&&(null!=e._internalInstanceHandle?null!=(e=e._internalInstanceHandle.stateNode)&&nativeFabricUIManager.sendAccessibilityEvent(e.node,t):n(i[2]).legacySendAccessibilityEvent(e._nativeTag,t))},a.unmountComponentAtNode=Vi,a.unmountComponentAtNodeAndRemoveContainer=function(e){Vi(e),n(i[2]).UIManager.removeRootView(e)},a.unstable_batchedUpdates=Ce},36,[37,119,121,129]);
__d(function(g,r,i,a,m,e,d){r(d[0])},37,[38]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Date.now();r(d[0]),r(d[1]),r(d[2]),r(d[3]),r(d[4]),r(d[5]),r(d[6]),r(d[7]),r(d[8]),r(d[9]),r(d[10]),r(d[11]),r(d[12]).markPoint('initializeCore_start',r(d[12]).currentTimestamp()-(Date.now()-t)),r(d[12]).markPoint('initializeCore_end')},38,[39,40,41,42,57,63,66,71,101,106,107,117,80]);
__d(function(g,r,i,a,m,e,d){'use strict';void 0===g.window&&(g.window=g),void 0===g.self&&(g.self=g),g.process=g.process||{},g.process.env=g.process.env||{},g.process.env.NODE_ENV||(g.process.env.NODE_ENV='production')},39,[]);
__d(function(g,r,i,a,m,e,d){'use strict';g.performance||(g.performance={}),'function'!=typeof g.performance.now&&(g.performance.now=function(){return(g.nativePerformanceNow||Date.now)()})},40,[]);
__d(function(g,r,i,a,m,e,d){'use strict';if(g.__RCTProfileIsProfiling){var t=r(d[0]);t.installReactHook(),t.setEnabled(!0)}},41,[28]);
__d(function(g,r,i,a,m,_e,d){'use strict';if(r(d[0]).installConsoleErrorReporter(),!g.__fbDisableExceptionsManager){r(d[1]).setGlobalHandler(function(e,o){try{r(d[0]).handleException(e,o)}catch(o){throw console.log('Failed to print error: ',o.message),e}})}},42,[43,29]);
__d(function(g,r,i,a,m,_e,d){'use strict';function n(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(n=function(){return!!e})()}var e,o=(function(e){function o(){var e,t,c,s;r(d[2])(this,o);for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];return t=this,c=o,s=[].concat(u),c=r(d[0])(c),(e=r(d[1])(t,n()?Reflect.construct(c,s||[],r(d[0])(t).constructor):c.apply(t,s))).name='',e}return r(d[3])(o,e),r(d[4])(o)})(r(d[5])(Error)),t=!1;function c(n){if(e&&!t){t=!0;try{return e(n)}catch(n){}finally{t=!1}}return n}var s=0;function l(n,e,o){var t=r(d[6])(null==n?void 0:n.stack),l=++s,u=n.message||'',f=u;null!=n.componentStack&&(f+="\n\nThis error is located at:"+n.componentStack);var p=null==n.name||''===n.name?'':n.name+": ";f.startsWith(p)||(f=p+f);var v=c({message:f=null==n.jsEngine?f:f+", js engine: "+n.jsEngine,originalMessage:f===u?null:u,name:null==n.name||''===n.name?null:n.name,componentStack:'string'==typeof n.componentStack?n.componentStack:null,stack:t,id:l,isFatal:e,extraData:{jsEngine:n.jsEngine,rawStack:n.stack}});if(o&&console.error(v.message),e||'warn'!==n.type){var E=r(d[7]).default;E&&E.reportException(v)}}var u=!1;function f(){for(var n,e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];if((n=console)._errorOriginal.apply(n,t),console.reportErrorsAsExceptions&&!u){var s,f=t[0];if(null!=f&&f.stack)s=f;else{var p=r(d[8]).default;if('string'==typeof f&&f.startsWith('Warning: '))return;var v=t.map(function(n){return'string'==typeof n?n:p(n)}).join(' ');(s=new o(v)).name='console.error'}l(s,!1,!1)}}m.exports={handleException:function(n,e){var t;t=n instanceof Error?n:new o(n);try{u=!0,l(t,e,!0)}finally{u=!1}},installConsoleErrorReporter:function(){console._errorOriginal||(console._errorOriginal=console.error.bind(console),console.error=f,void 0===console.reportErrorsAsExceptions&&(console.reportErrorsAsExceptions=!0))},SyntheticError:o,unstable_setExceptionDecorator:function(n){e=n}}},43,[44,45,12,47,13,49,53,56,30]);
__d(function(g,r,i,a,m,e,d){function t(o){return m.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m.exports.__esModule=!0,m.exports.default=m.exports,t(o)}m.exports=t,m.exports.__esModule=!0,m.exports.default=m.exports},44,[]);
__d(function(g,r,i,a,m,_e,d){m.exports=function(e,o){if(o&&("object"==r(d[0]).default(o)||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return r(d[1])(e)},m.exports.__esModule=!0,m.exports.default=m.exports},45,[16,46]);
__d(function(g,r,i,a,m,_e,d){m.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},m.exports.__esModule=!0,m.exports.default=m.exports},46,[]);
__d(function(g,r,i,a,m,_e,d){m.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(d[0])(e,t)},m.exports.__esModule=!0,m.exports.default=m.exports},47,[48]);
__d(function(g,r,i,a,m,_e,d){function t(e,o){return m.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m.exports.__esModule=!0,m.exports.default=m.exports,t(e,o)}m.exports=t,m.exports.__esModule=!0,m.exports.default=m.exports},48,[]);
__d(function(g,_r,i,a,m,e,d){function t(r){var o="function"==typeof Map?new Map:void 0;return m.exports=t=function(t){if(null===t||!_r(d[0])(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==o){if(o.has(t))return o.get(t);o.set(t,r)}function r(){return _r(d[1])(t,arguments,_r(d[2])(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_r(d[3])(r,t)},m.exports.__esModule=!0,m.exports.default=m.exports,t(r)}m.exports=t,m.exports.__esModule=!0,m.exports.default=m.exports},49,[50,51,44,48]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(n){return"function"==typeof t}},m.exports.__esModule=!0,m.exports.default=m.exports},50,[]);
__d(function(g,_r,i,a,m,_e,d){m.exports=function(t,e,p){if(_r(d[0])())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var n=new(t.bind.apply(t,r));return p&&_r(d[1])(n,p.prototype),n},m.exports.__esModule=!0,m.exports.default=m.exports},51,[52,48]);
__d(function(g,r,i,a,m,e,d){function t(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(o){}return(m.exports=t=function(){return!!o},m.exports.__esModule=!0,m.exports.default=m.exports)()}m.exports=t,m.exports.__esModule=!0,m.exports.default=m.exports},52,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function n(n){var t=[];for(var u of n.entries)if('FRAME'===u.type){var l=u.location,o=u.functionName;'NATIVE'!==l.type&&t.push({methodName:o,file:l.sourceUrl,lineNumber:l.line1Based,column:'SOURCE'===l.type?l.column1Based-1:l.virtualOffset0Based})}return t}m.exports=function(t){if(null==t)return[];var u=r(d[0]);return Array.isArray(t)?t:g.HermesInternal?n(r(d[1])(t)):u.parse(t).map(function(n){return Object.assign({},n,{column:null!=n.column?n.column-1:null})})}},53,[54,55]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0});var n='<unknown>';var l=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/;function t(t){var o=l.exec(t);if(!o)return null;var c=o[2]&&0===o[2].indexOf('native'),s=o[2]&&0===o[2].indexOf('eval'),v=u.exec(o[2]);return s&&null!=v&&(o[2]=v[1],o[3]=v[2],o[4]=v[3]),{file:c?null:o[2],methodName:o[1]||n,arguments:c?[o[2]]:[],lineNumber:o[3]?+o[3]:null,column:o[4]?+o[4]:null}}var o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function c(l){var u=o.exec(l);return u?{file:u[2],methodName:u[1]||n,arguments:[],lineNumber:+u[3],column:u[4]?+u[4]:null}:null}var s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,v=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function f(l){var u=s.exec(l);if(!u)return null;var t=u[3]&&u[3].indexOf(' > eval')>-1,o=v.exec(u[3]);return t&&null!=o&&(u[3]=o[1],u[4]=o[2],u[5]=null),{file:u[3],methodName:u[1]||n,arguments:u[2]?u[2].split(','):[],lineNumber:u[4]?+u[4]:null,column:u[5]?+u[5]:null}}var b=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function p(l){var u=b.exec(l);return u?{file:u[3],methodName:u[1]||n,arguments:[],lineNumber:+u[4],column:u[5]?+u[5]:null}:null}var x=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function h(l){var u=x.exec(l);return u?{file:u[2],methodName:u[1]||n,arguments:[],lineNumber:+u[3],column:u[4]?+u[4]:null}:null}e.parse=function(n){return n.split('\n').reduce(function(n,l){var u=t(l)||c(l)||f(l)||h(l)||p(l);return u&&n.push(u),n},[])}},54,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=/^ {4}at (.+?)(?: \((native)\)?| \((address at )?(.*?):(\d+):(\d+)\))$/,n=/^ {4}... skipping (\d+) frames$/;function s(s){var i=s.match(t);if(i)return{type:'FRAME',functionName:i[1],location:'native'===i[2]?{type:'NATIVE'}:'address at '===i[3]?{type:'BYTECODE',sourceUrl:i[4],line1Based:Number.parseInt(i[5],10),virtualOffset0Based:Number.parseInt(i[6],10)}:{type:'SOURCE',sourceUrl:i[4],line1Based:Number.parseInt(i[5],10),column1Based:Number.parseInt(i[6],10)}};var u=s.match(n);return u?{type:'SKIPPED',count:Number.parseInt(u[1],10)}:void 0}m.exports=function(t){for(var n=t.split(/\n/),i=[],u=-1,p=0;p<n.length;++p){var o=n[p];if(o){var c=s(o);c?i.push(c):(u=p,i=[])}}return{message:n.slice(0,u+1).join('\n'),entries:i}}},55,[]);
__d(function(g,_r,_i,_a,m,_e,d){function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(e=function(e){return e?n:r})(t)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=e(r);if(n&&n.has(t))return n.get(t);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&{}.hasOwnProperty.call(t,a)){var p=i?Object.getOwnPropertyDescriptor(t,a):null;p&&(p.get||p.set)?Object.defineProperty(o,a,p):o[a]=t[a]}return o.default=t,n&&n.set(t,o),o})(_r(d[0])).getEnforcing('ExceptionsManager'),r={reportFatalException:function(e,r,n){t.reportFatalException(e,r,n)},reportSoftException:function(e,r,n){t.reportSoftException(e,r,n)},updateExceptionMessage:function(e,r,n){t.updateExceptionMessage(e,r,n)},dismissRedbox:function(){},reportException:function(e){t.reportException?t.reportException(e):e.isFatal?r.reportFatalException(e.message,e.stack,e.id):r.reportSoftException(e.message,e.stack,e.id)}};_e.default=r},56,[19]);
__d(function(g,r,i,a,m,e,d){'use strict';var l,n;if(null!=(l=g)&&null!=(n=l.HermesInternal)&&null!=n.hasPromise&&n.hasPromise())g.Promise;else r(d[0]).polyfillGlobal('Promise',function(){return r(d[1])})},57,[58,59]);
__d(function(g,r,i,a,m,e,d){'use strict';function l(l,o,t){var n=Object.getOwnPropertyDescriptor(l,o),c=n||{},b=c.enumerable,f=c.writable,u=c.configurable;!n||void 0!==u&&u?r(d[0])(l,o,{get:t,enumerable:!1!==b,writable:!1!==f}):console.error('Failed to set polyfill. '+o+' is not configurable.')}m.exports={polyfillObjectProperty:l,polyfillGlobal:function(o,t){l(g,o,t)}}},58,[31]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]),m.exports=r(d[1])},59,[60,62]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0]),r(d[0]).prototype.finally=function(n){return this.then(function(t){return r(d[0]).resolve(n()).then(function(){return t})},function(t){return r(d[0]).resolve(n()).then(function(){throw t})})}},60,[61]);
__d(function(g,r,_i,_a,m,e,d){'use strict';function n(){}var t=null,o={};function i(n){try{return n.then}catch(n){return t=n,o}}function u(n,i){try{return n(i)}catch(n){return t=n,o}}function f(n,i,u){try{n(i,u)}catch(n){return t=n,o}}function c(t){if('object'!=typeof this)throw new TypeError('Promises must be constructed via new');if('function'!=typeof t)throw new TypeError('Promise constructor\'s argument is not a function');this._x=0,this._y=0,this._z=null,this._A=null,t!==n&&v(t,this)}function _(t,o,i){return new t.constructor(function(u,f){var _=new c(n);_.then(u,f),s(t,new a(o,i,_))})}function s(n,t){for(;3===n._y;)n=n._z;if(c._B&&c._B(n),0===n._y)return 0===n._x?(n._x=1,void(n._A=t)):1===n._x?(n._x=2,void(n._A=[n._A,t])):void n._A.push(t);l(n,t)}function l(n,i){setImmediate(function(){var f=1===n._y?i.onFulfilled:i.onRejected;if(null!==f){var c=u(f,n._z);c===o?y(i.promise,t):h(i.promise,c)}else 1===n._y?h(i.promise,n._z):y(i.promise,n._z)})}function h(n,u){if(u===n)return y(n,new TypeError('A promise cannot be resolved with itself.'));if(u&&('object'==typeof u||'function'==typeof u)){var f=i(u);if(f===o)return y(n,t);if(f===n.then&&u instanceof c)return n._y=3,n._z=u,void p(n);if('function'==typeof f)return void v(f.bind(u),n)}n._y=1,n._z=u,p(n)}function y(n,t){n._y=2,n._z=t,c._C&&c._C(n,t),p(n)}function p(n){if(1===n._x&&(s(n,n._A),n._A=null),2===n._x){for(var t=0;t<n._A.length;t++)s(n,n._A[t]);n._A=null}}function a(n,t,o){this.onFulfilled='function'==typeof n?n:null,this.onRejected='function'==typeof t?t:null,this.promise=o}function v(n,i){var u=!1,c=f(n,function(n){u||(u=!0,h(i,n))},function(n){u||(u=!0,y(i,n))});u||c!==o||(u=!0,y(i,t))}m.exports=c,c._B=null,c._C=null,c._D=n,c.prototype.then=function(t,o){if(this.constructor!==c)return _(this,t,o);var i=new c(n);return s(this,new a(t,o,i)),i}},61,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';m.exports=r(d[0]);var n=c(!0),t=c(!1),o=c(null),f=c(void 0),u=c(0),i=c('');function c(n){var t=new(r(d[0]))(r(d[0])._D);return t._y=1,t._z=n,t}r(d[0]).resolve=function(l){if(l instanceof r(d[0]))return l;if(null===l)return o;if(void 0===l)return f;if(!0===l)return n;if(!1===l)return t;if(0===l)return u;if(''===l)return i;if('object'==typeof l||'function'==typeof l)try{var y=l.then;if('function'==typeof y)return new(r(d[0]))(y.bind(l))}catch(n){return new(r(d[0]))(function(t,o){o(n)})}return c(l)};var l=function(n){return'function'==typeof Array.from?(l=Array.from,Array.from(n)):(l=function(n){return Array.prototype.slice.call(n)},Array.prototype.slice.call(n))};function y(n){return{status:'fulfilled',value:n}}function h(n){return{status:'rejected',reason:n}}function p(n){if(n&&('object'==typeof n||'function'==typeof n)){if(n instanceof r(d[0])&&n.then===r(d[0]).prototype.then)return n.then(y,h);var t=n.then;if('function'==typeof t)return new(r(d[0]))(t.bind(n)).then(y,h)}return y(n)}function s(n){if('function'==typeof AggregateError)return new AggregateError(n,'All promises were rejected');var t=new Error('All promises were rejected');return t.name='AggregateError',t.errors=n,t}r(d[0]).all=function(n){var t=l(n);return new(r(d[0]))(function(n,o){if(0===t.length)return n([]);var f=t.length;function u(i,c){if(c&&('object'==typeof c||'function'==typeof c)){if(c instanceof r(d[0])&&c.then===r(d[0]).prototype.then){for(;3===c._y;)c=c._z;return 1===c._y?u(i,c._z):(2===c._y&&o(c._z),void c.then(function(n){u(i,n)},o))}var l=c.then;if('function'==typeof l)return void new(r(d[0]))(l.bind(c)).then(function(n){u(i,n)},o)}t[i]=c,0==--f&&n(t)}for(var i=0;i<t.length;i++)u(i,t[i])})},r(d[0]).allSettled=function(n){return r(d[0]).all(l(n).map(p))},r(d[0]).reject=function(n){return new(r(d[0]))(function(t,o){o(n)})},r(d[0]).race=function(n){return new(r(d[0]))(function(t,o){l(n).forEach(function(n){r(d[0]).resolve(n).then(t,o)})})},r(d[0]).prototype.catch=function(n){return this.then(null,n)},r(d[0]).any=function(n){return new(r(d[0]))(function(t,o){var f=l(n),u=!1,i=[];function c(n){u||(u=!0,t(n))}function y(n){i.push(n),i.length===f.length&&o(s(i))}0===f.length?o(s(i)):f.forEach(function(n){r(d[0]).resolve(n).then(c,y)})})}},62,[61]);
__d(function(g,r,i,a,m,e,d){'use strict';var t;try{t=r(d[0]).hasNativeConstructor(function*(){},'GeneratorFunction')}catch(n){t=!1}t||r(d[1]).polyfillGlobal('regeneratorRuntime',function(){return delete g.regeneratorRuntime,r(d[2])})},63,[64,58,65]);
__d(function(g,r,i,a,m,e,d){function t(t){return'function'==typeof t&&t.toString().indexOf('[native code]')>-1}m.exports={isNativeFunction:t,hasNativeConstructor:function(n,o){var c=Object.getPrototypeOf(n).constructor;return c.name===o&&t(c)}}},64,[]);
__d(function(g,r,_i,a,m,e,d){var t=(function(t){"use strict";var n,o=Object.prototype,i=o.hasOwnProperty,c=Object.defineProperty||function(t,n,o){t[n]=o.value},u="function"==typeof Symbol?Symbol:{},h=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",l=u.toStringTag||"@@toStringTag";function s(t,n,o){return Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,o){return t[n]=o}}function p(t,n,o,i){var u=n&&n.prototype instanceof E?n:E,h=Object.create(u.prototype),f=new A(i||[]);return c(h,"_invoke",{value:F(t,o,f)}),h}function y(t,n,o){try{return{type:"normal",arg:t.call(n,o)}}catch(t){return{type:"throw",arg:t}}}t.wrap=p;var v="suspendedStart",w="suspendedYield",b="executing",L="completed",x={};function E(){}function _(){}function j(){}var O={};s(O,h,function(){return this});var k=Object.getPrototypeOf,G=k&&k(k(Y([])));G&&G!==o&&i.call(G,h)&&(O=G);var N=j.prototype=E.prototype=Object.create(O);function P(t){["next","throw","return"].forEach(function(n){s(t,n,function(t){return this._invoke(n,t)})})}function T(t,n){function o(c,u,h,f){var l=y(t[c],t,u);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==typeof p&&i.call(p,"__await")?n.resolve(p.__await).then(function(t){o("next",t,h,f)},function(t){o("throw",t,h,f)}):n.resolve(p).then(function(t){s.value=t,h(s)},function(t){return o("throw",t,h,f)})}f(l.arg)}var u;c(this,"_invoke",{value:function(t,i){function c(){return new n(function(n,c){o(t,i,n,c)})}return u=u?u.then(c,c):c()}})}function F(t,n,o){var i=v;return function(c,u){if(i===b)throw new Error("Generator is already running");if(i===L){if("throw"===c)throw u;return q()}for(o.method=c,o.arg=u;;){var h=o.delegate;if(h){var f=S(h,o);if(f){if(f===x)continue;return f}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===v)throw i=L,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=b;var l=y(t,n,o);if("normal"===l.type){if(i=o.done?L:w,l.arg===x)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(i=L,o.method="throw",o.arg=l.arg)}}}function S(t,o){var i=o.method,c=t.iterator[i];if(c===n)return o.delegate=null,"throw"===i&&t.iterator.return&&(o.method="return",o.arg=n,S(t,o),"throw"===o.method)?x:("return"!==i&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+i+"' method")),x);var u=y(c,t.iterator,o.arg);if("throw"===u.type)return o.method="throw",o.arg=u.arg,o.delegate=null,x;var h=u.arg;return h?h.done?(o[t.resultName]=h.value,o.next=t.nextLoc,"return"!==o.method&&(o.method="next",o.arg=n),o.delegate=null,x):h:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,x)}function I(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function R(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function Y(t){if(t){var o=t[h];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var c=-1,u=function o(){for(;++c<t.length;)if(i.call(t,c))return o.value=t[c],o.done=!1,o;return o.value=n,o.done=!0,o};return u.next=u}}return{next:q}}function q(){return{value:n,done:!0}}return _.prototype=j,c(N,"constructor",{value:j,configurable:!0}),c(j,"constructor",{value:_,configurable:!0}),_.displayName=s(j,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===_||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,j):(t.__proto__=j,s(t,l,"GeneratorFunction")),t.prototype=Object.create(N),t},t.awrap=function(t){return{__await:t}},P(T.prototype),s(T.prototype,f,function(){return this}),t.AsyncIterator=T,t.async=function(o,i,c,u,h){h===n&&(h=Promise);var f=new T(p(o,i,c,u),h);return t.isGeneratorFunction(i)?f:f.next().then(function(t){return t.done?t.value:f.next()})},P(N),s(N,l,"Generator"),s(N,h,function(){return this}),s(N,"toString",function(){return"[object Generator]"}),t.keys=function(t){var n=Object(t),o=[];for(var i in n)o.push(i);return o.reverse(),function t(){for(;o.length;){var i=o.pop();if(i in n)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=Y,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(R),!t)for(var o in this)"t"===o.charAt(0)&&i.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var o=this;function c(i,c){return f.type="throw",f.arg=t,o.next=i,c&&(o.method="next",o.arg=n),!!c}for(var u=this.tryEntries.length-1;u>=0;--u){var h=this.tryEntries[u],f=h.completion;if("root"===h.tryLoc)return c("end");if(h.tryLoc<=this.prev){var l=i.call(h,"catchLoc"),s=i.call(h,"finallyLoc");if(l&&s){if(this.prev<h.catchLoc)return c(h.catchLoc,!0);if(this.prev<h.finallyLoc)return c(h.finallyLoc)}else if(l){if(this.prev<h.catchLoc)return c(h.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<h.finallyLoc)return c(h.finallyLoc)}}}},abrupt:function(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o];if(c.tryLoc<=this.prev&&i.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var u=c;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var h=u?u.completion:{};return h.type=t,h.arg=n,u?(this.method="next",this.next=u.finallyLoc,x):this.complete(h)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),x},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),R(o),x}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc===t){var i=o.completion;if("throw"===i.type){var c=i.arg;R(o)}return c}}throw new Error("illegal catch attempt")},delegateYield:function(t,o,i){return this.delegate={iterator:Y(t),resultName:o,nextLoc:i},"next"===this.method&&(this.arg=n),x}},t})("object"==typeof m?m.exports:{});try{regeneratorRuntime=t}catch(n){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},65,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var l,n,t=!0===(null==(l=g.HermesInternal)?void 0:null==l.hasPromise?void 0:l.hasPromise())&&!0===(null==(n=g.HermesInternal)?void 0:null==n.useEngineQueue?void 0:n.useEngineQueue()),u=r(d[0]).isNativeFunction(Promise)||t;if(!0!==g.RN$Bridgeless){var o=function(l){r(d[1]).polyfillGlobal(l,function(){return r(d[2])[l]})};o('setTimeout'),o('clearTimeout'),o('setInterval'),o('clearInterval'),o('requestAnimationFrame'),o('cancelAnimationFrame'),o('requestIdleCallback'),o('cancelIdleCallback')}u?(r(d[1]).polyfillGlobal('setImmediate',function(){return r(d[3]).setImmediate}),r(d[1]).polyfillGlobal('clearImmediate',function(){return r(d[3]).clearImmediate})):!0!==g.RN$Bridgeless&&(r(d[1]).polyfillGlobal('setImmediate',function(){return r(d[2]).queueReactNativeMicrotask}),r(d[1]).polyfillGlobal('clearImmediate',function(){return r(d[2]).clearReactNativeMicrotask})),t?r(d[1]).polyfillGlobal('queueMicrotask',function(){var l;return null==(l=g.HermesInternal)?void 0:l.enqueueJob}):r(d[1]).polyfillGlobal('queueMicrotask',function(){return r(d[4]).default})},66,[64,58,67,69,70]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0])(r(d[1])),t=16.666666666666668,n=[],i=[],l=[],o=[],c=[],u={},f=1,s=[],v=!1;function h(){var e=l.indexOf(null);return-1===e&&(e=l.length),e}function T(e,t){var o=f++,c=h();return l[c]=o,n[c]=e,i[c]=t,o}function k(e,o,c){e>f&&console.warn('Tried to call timer with ID %s but no such timer exists.',e);var u=l.indexOf(e);if(-1!==u){var v=i[u],h=n[u];if(h&&v){'setInterval'!==v&&p(u);try{'setTimeout'===v||'setInterval'===v||'queueReactNativeMicrotask'===v?h():'requestAnimationFrame'===v?h(g.performance.now()):'requestIdleCallback'===v?h({timeRemaining:function(){return Math.max(0,t-(g.performance.now()-o))},didTimeout:!!c}):console.error('Tried to call a callback with invalid type: '+v)}catch(e){s.push(e)}}else console.error('No callback found for timerID '+e)}}function w(){if(0===o.length)return!1;var e=o;o=[];for(var t=0;t<e.length;++t)k(e[t],0);return o.length>0}function p(e){l[e]=null,n[e]=null,i[e]=null}function N(e){if(null!=e){var t=l.indexOf(e);if(-1!==t){var n=i[t];p(t),'queueReactNativeMicrotask'!==n&&'requestIdleCallback'!==n&&M(e)}}}var b,I={setTimeout:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),l=2;l<n;l++)i[l-2]=arguments[l];var o=T(function(){return e.apply(void 0,i)},'setTimeout');return q(o,t||0,Date.now(),!1),o},setInterval:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),l=2;l<n;l++)i[l-2]=arguments[l];var o=T(function(){return e.apply(void 0,i)},'setInterval');return q(o,t||0,Date.now(),!0),o},queueReactNativeMicrotask:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var l=T(function(){return e.apply(void 0,n)},'queueReactNativeMicrotask');return o.push(l),l},requestAnimationFrame:function(e){var t=T(e,'requestAnimationFrame');return q(t,1,Date.now(),!1),t},requestIdleCallback:function(e,t){0===c.length&&R(!0);var n=t&&t.timeout,i=T(null!=n?function(t){var n=u[i];return n&&(I.clearTimeout(n),delete u[i]),e(t)}:e,'requestIdleCallback');if(c.push(i),null!=n){var l=I.setTimeout(function(){var e=c.indexOf(i);e>-1&&(c.splice(e,1),k(i,g.performance.now(),!0)),delete u[i],0===c.length&&R(!1)},n);u[i]=l}return i},cancelIdleCallback:function(e){N(e);var t=c.indexOf(e);-1!==t&&c.splice(t,1);var n=u[e];n&&(I.clearTimeout(n),delete u[e]),0===c.length&&R(!1)},clearTimeout:function(e){N(e)},clearInterval:function(e){N(e)},clearReactNativeMicrotask:function(e){N(e);var t=o.indexOf(e);-1!==t&&o.splice(t,1)},cancelAnimationFrame:function(e){N(e)},callTimers:function(e){r(d[2])(0!==e.length,'Cannot call `callTimers` with an empty list of IDs.'),s.length=0;for(var t=0;t<e.length;t++)k(e[t],0);var n=s.length;if(n>0){if(n>1)for(var i=1;i<n;i++)I.setTimeout(function(e){throw e}.bind(null,s[i]),0);throw s[0]}},callIdleCallbacks:function(e){if(!(t-(g.performance.now()-e)<1)){if(s.length=0,c.length>0){var n=c;c=[];for(var i=0;i<n.length;++i)k(n[i],e)}0===c.length&&R(!1),s.forEach(function(e){return I.setTimeout(function(){throw e},0)})}},callReactNativeMicrotasks:function(){for(s.length=0;w(););s.forEach(function(e){return I.setTimeout(function(){throw e},0)})},emitTimeDriftWarning:function(e){v||(v=!0,console.warn(e))}};function q(t,n,i,l){r(d[2])(e.default,'NativeTiming is available'),e.default.createTimer(t,n,i,l)}function M(t){r(d[2])(e.default,'NativeTiming is available'),e.default.deleteTimer(t)}function R(t){r(d[2])(e.default,'NativeTiming is available'),e.default.setSendIdleEvents(t)}e.default?b=I:(console.warn("Timing native module is not available, can't set timers."),b={callReactNativeMicrotasks:I.callReactNativeMicrotasks,queueReactNativeMicrotask:I.queueReactNativeMicrotask}),r(d[3]).setReactNativeMicrotasksCallback(I.callReactNativeMicrotasks),m.exports=b},67,[3,68,20,26]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=o?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(u,f,a):u[f]=e[f]}return u.default=e,n&&n.set(e,u),u})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('Timing')},68,[19]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=1,n=new Set;var o={setImmediate:function(o){for(var u=arguments.length,s=new Array(u>1?u-1:0),c=1;c<u;c++)s[c-1]=arguments[c];if(arguments.length<1)throw new TypeError('setImmediate must be called with at least one argument (a function to call)');if('function'!=typeof o)throw new TypeError('The first argument to setImmediate must be a function.');var f=t++;return n.has(f)&&n.delete(f),g.queueMicrotask(function(){n.has(f)?n.delete(f):o.apply(void 0,s)}),f},clearImmediate:function(t){n.add(t)}};m.exports=o},69,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){if(arguments.length<1)throw new TypeError('queueMicrotask must be called with at least one argument (a function to call)');if('function'!=typeof n)throw new TypeError('The argument to queueMicrotask must be a function.');(t||(t=Promise.resolve())).then(n).catch(function(t){return setTimeout(function(){throw t},0)})}},70,[]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]).polyfillGlobal('XMLHttpRequest',function(){return r(d[1])}),r(d[0]).polyfillGlobal('FormData',function(){return r(d[2])}),r(d[0]).polyfillGlobal('fetch',function(){return r(d[3]).fetch}),r(d[0]).polyfillGlobal('Headers',function(){return r(d[3]).Headers}),r(d[0]).polyfillGlobal('Request',function(){return r(d[3]).Request}),r(d[0]).polyfillGlobal('Response',function(){return r(d[3]).Response}),r(d[0]).polyfillGlobal('WebSocket',function(){return r(d[4])}),r(d[0]).polyfillGlobal('Blob',function(){return r(d[5])}),r(d[0]).polyfillGlobal('File',function(){return r(d[6])}),r(d[0]).polyfillGlobal('FileReader',function(){return r(d[7])}),r(d[0]).polyfillGlobal('URL',function(){return r(d[8]).URL}),r(d[0]).polyfillGlobal('URLSearchParams',function(){return r(d[8]).URLSearchParams}),r(d[0]).polyfillGlobal('AbortController',function(){return r(d[9]).AbortController}),r(d[0]).polyfillGlobal('AbortSignal',function(){return r(d[9]).AbortSignal})},71,[58,72,86,88,90,77,96,97,99,100]);
__d(function(g,_r,i,_a,m,_e,d){'use strict';var e=_r(d[0])(_r(d[1])),t=_r(d[0])(_r(d[2])),s=_r(d[0])(_r(d[3])),r=_r(d[0])(_r(d[4])),n=_r(d[0])(_r(d[5])),a=_r(d[0])(_r(d[6])),o=_r(d[0])(_r(d[7]));function h(e,t,s){return t=(0,a.default)(t),(0,n.default)(e,u()?Reflect.construct(t,s||[],(0,a.default)(e).constructor):t.apply(e,s))}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}_r(d[8]).isAvailable&&_r(d[8]).addNetworkingHandler();var p=0,c=1,l=2,_=3,f=4,y={arraybuffer:'function'==typeof g.ArrayBuffer,blob:'function'==typeof g.Blob,document:!1,json:!0,text:!0,'':!0},v=['abort','error','load','loadstart','progress','timeout','loadend'],R=v.concat('readystatechange'),E=(function(e){function t(){return(0,r.default)(this,t),h(this,t,arguments)}return(0,o.default)(t,e),(0,s.default)(t)})(_r(d[9]).apply(void 0,v)),b=(function(n){function u(){var e;return(0,r.default)(this,u),(e=h(this,u)).UNSENT=p,e.OPENED=c,e.HEADERS_RECEIVED=l,e.LOADING=_,e.DONE=f,e.readyState=p,e.status=0,e.timeout=0,e.withCredentials=!0,e.upload=new E,e._aborted=!1,e._hasError=!1,e._method=null,e._perfKey=null,e._response='',e._url=null,e._timedOut=!1,e._trackingName='unknown',e._incrementalEvents=!1,e._performanceLogger=_r(d[10]),e._reset(),e}return(0,o.default)(u,n),(0,s.default)(u,[{key:"_reset",value:function(){this.readyState=this.UNSENT,this.responseHeaders=void 0,this.status=0,delete this.responseURL,this._requestId=null,this._cachedResponse=void 0,this._hasError=!1,this._headers={},this._response='',this._responseType='',this._sent=!1,this._lowerCaseResponseHeaders={},this._clearSubscriptions(),this._timedOut=!1}},{key:"responseType",get:function(){return this._responseType},set:function(e){if(this._sent)throw new Error("Failed to set the 'responseType' property on 'XMLHttpRequest': The response type cannot be set after the request has been sent.");y.hasOwnProperty(e)?(_r(d[11])(y[e]||'document'===e,"The provided value '"+e+"' is unsupported in this environment."),'blob'===e&&_r(d[11])(_r(d[8]).isAvailable,'Native module BlobModule is required for blob support'),this._responseType=e):console.warn("The provided value '"+e+"' is not a valid 'responseType'.")}},{key:"responseText",get:function(){if(''!==this._responseType&&'text'!==this._responseType)throw new Error("The 'responseText' property is only available if 'responseType' is set to '' or 'text', but it is '"+this._responseType+"'.");return this.readyState<_?'':this._response}},{key:"response",get:function(){var e=this.responseType;if(''===e||'text'===e)return this.readyState<_||this._hasError?'':this._response;if(this.readyState!==f)return null;if(void 0!==this._cachedResponse)return this._cachedResponse;switch(e){case'document':this._cachedResponse=null;break;case'arraybuffer':this._cachedResponse=_r(d[12]).toByteArray(this._response).buffer;break;case'blob':if('object'==typeof this._response&&this._response)this._cachedResponse=_r(d[8]).createFromOptions(this._response);else{if(''!==this._response)throw new Error("Invalid response for blob: "+this._response);this._cachedResponse=_r(d[8]).createFromParts([])}break;case'json':try{this._cachedResponse=JSON.parse(this._response)}catch(e){this._cachedResponse=null}break;default:this._cachedResponse=null}return this._cachedResponse}},{key:"__didCreateRequest",value:function(e){this._requestId=e,u._interceptor&&u._interceptor.requestSent(e,this._url||'',this._method||'GET',this._headers)}},{key:"__didUploadProgress",value:function(e,t,s){e===this._requestId&&this.upload.dispatchEvent({type:'progress',lengthComputable:!0,loaded:t,total:s})}},{key:"__didReceiveResponse",value:function(e,t,s,r){e===this._requestId&&(null!=this._perfKey&&this._performanceLogger.stopTimespan(this._perfKey),this.status=t,this.setResponseHeaders(s),this.setReadyState(this.HEADERS_RECEIVED),r||''===r?this.responseURL=r:delete this.responseURL,u._interceptor&&u._interceptor.responseReceived(e,r||this._url||'',t,s||{}))}},{key:"__didReceiveData",value:function(e,t){e===this._requestId&&(this._response=t,this._cachedResponse=void 0,this.setReadyState(this.LOADING),u._interceptor&&u._interceptor.dataReceived(e,t))}},{key:"__didReceiveIncrementalData",value:function(e,t,s,r){e===this._requestId&&(this._response?this._response+=t:this._response=t,u._interceptor&&u._interceptor.dataReceived(e,t),this.setReadyState(this.LOADING),this.__didReceiveDataProgress(e,s,r))}},{key:"__didReceiveDataProgress",value:function(e,t,s){e===this._requestId&&this.dispatchEvent({type:'progress',lengthComputable:s>=0,loaded:t,total:s})}},{key:"__didCompleteResponse",value:function(e,t,s){e===this._requestId&&(t&&(''!==this._responseType&&'text'!==this._responseType||(this._response=t),this._hasError=!0,s&&(this._timedOut=!0)),this._clearSubscriptions(),this._requestId=null,this.setReadyState(this.DONE),t?u._interceptor&&u._interceptor.loadingFailed(e,t):u._interceptor&&u._interceptor.loadingFinished(e,this._response.length))}},{key:"_clearSubscriptions",value:function(){(this._subscriptions||[]).forEach(function(e){e&&e.remove()}),this._subscriptions=[]}},{key:"getAllResponseHeaders",value:function(){if(!this.responseHeaders)return null;var t=this.responseHeaders,s=new Map;for(var r of Object.keys(t)){var n=t[r],a=r.toLowerCase(),o=s.get(a);o?(o.headerValue+=', '+n,s.set(a,o)):s.set(a,{lowerHeaderName:a,upperHeaderName:r.toUpperCase(),headerValue:n})}return(0,e.default)(s.values()).sort(function(e,t){return e.upperHeaderName<t.upperHeaderName?-1:e.upperHeaderName>t.upperHeaderName?1:0}).map(function(e){return e.lowerHeaderName+': '+e.headerValue}).join('\r\n')+'\r\n'}},{key:"getResponseHeader",value:function(e){var t=this._lowerCaseResponseHeaders[e.toLowerCase()];return void 0!==t?t:null}},{key:"setRequestHeader",value:function(e,t){if(this.readyState!==this.OPENED)throw new Error('Request has not been opened');this._headers[e.toLowerCase()]=String(t)}},{key:"setTrackingName",value:function(e){return this._trackingName=e,this}},{key:"setPerformanceLogger",value:function(e){return this._performanceLogger=e,this}},{key:"open",value:function(e,t,s){if(this.readyState!==this.UNSENT)throw new Error('Cannot open, already sending');if(void 0!==s&&!s)throw new Error('Synchronous http requests are not supported');if(!t)throw new Error('Cannot load an empty url');this._method=e.toUpperCase(),this._url=t,this._aborted=!1,this.setReadyState(this.OPENED)}},{key:"send",value:function(t){var s=this;if(this.readyState!==this.OPENED)throw new Error('Request has not been opened');if(this._sent)throw new Error('Request has already been sent');this._sent=!0;var r=this._incrementalEvents||!!this.onreadystatechange||!!this.onprogress;this._subscriptions.push(_r(d[13]).addListener('didSendNetworkData',function(t){return s.__didUploadProgress.apply(s,(0,e.default)(t))})),this._subscriptions.push(_r(d[13]).addListener('didReceiveNetworkResponse',function(t){return s.__didReceiveResponse.apply(s,(0,e.default)(t))})),this._subscriptions.push(_r(d[13]).addListener('didReceiveNetworkData',function(t){return s.__didReceiveData.apply(s,(0,e.default)(t))})),this._subscriptions.push(_r(d[13]).addListener('didReceiveNetworkIncrementalData',function(t){return s.__didReceiveIncrementalData.apply(s,(0,e.default)(t))})),this._subscriptions.push(_r(d[13]).addListener('didReceiveNetworkDataProgress',function(t){return s.__didReceiveDataProgress.apply(s,(0,e.default)(t))})),this._subscriptions.push(_r(d[13]).addListener('didCompleteNetworkResponse',function(t){return s.__didCompleteResponse.apply(s,(0,e.default)(t))}));var n='text';'arraybuffer'===this._responseType&&(n='base64'),'blob'===this._responseType&&(n='blob');var a;a='unknown'!==s._trackingName?s._trackingName:s._url,s._perfKey='network_XMLHttpRequest_'+String(a),s._performanceLogger.startTimespan(s._perfKey),_r(d[11])(s._method,'XMLHttpRequest method needs to be defined (%s).',a),_r(d[11])(s._url,'XMLHttpRequest URL needs to be defined (%s).',a),_r(d[13]).sendRequest(s._method,s._trackingName,s._url,s._headers,t,n,r,s.timeout,s.__didCreateRequest.bind(s),s.withCredentials)}},{key:"abort",value:function(){this._aborted=!0,this._requestId&&_r(d[13]).abortRequest(this._requestId),this.readyState===this.UNSENT||this.readyState===this.OPENED&&!this._sent||this.readyState===this.DONE||(this._reset(),this.setReadyState(this.DONE)),this._reset()}},{key:"setResponseHeaders",value:function(e){this.responseHeaders=e||null;var t=e||{};this._lowerCaseResponseHeaders=Object.keys(t).reduce(function(e,s){return e[s.toLowerCase()]=t[s],e},{})}},{key:"setReadyState",value:function(e){this.readyState=e,this.dispatchEvent({type:'readystatechange'}),e===this.DONE&&(this._aborted?this.dispatchEvent({type:'abort'}):this._hasError?this._timedOut?this.dispatchEvent({type:'timeout'}):this.dispatchEvent({type:'error'}):this.dispatchEvent({type:'load'}),this.dispatchEvent({type:'loadend'}))}},{key:"addEventListener",value:function(e,s){var r,n,o,h,p;'readystatechange'!==e&&'progress'!==e||(this._incrementalEvents=!0),(r=u,n="addEventListener",o=this,h=3,p=(0,t.default)((0,a.default)(1&h?r.prototype:r),n,o),2&h&&"function"==typeof p?function(e){return p.apply(o,e)}:p)([e,s])}}],[{key:"setInterceptor",value:function(e){u._interceptor=e}}])})(_r(d[9]).apply(void 0,(0,e.default)(R)));b.UNSENT=p,b.OPENED=c,b.HEADERS_RECEIVED=l,b.LOADING=_,b.DONE=f,b._interceptor=null,m.exports=b},72,[3,6,73,13,12,45,44,47,75,79,80,20,82,83]);
__d(function(g,_r,i,a,m,_e,d){function e(){return m.exports=e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var o=_r(d[0])(e,t);if(o){var l=Object.getOwnPropertyDescriptor(o,t);return l.get?l.get.call(arguments.length<3?e:r):l.value}},m.exports.__esModule=!0,m.exports.default=m.exports,e.apply(null,arguments)}m.exports=e,m.exports.__esModule=!0,m.exports.default=m.exports},73,[74]);
__d(function(g,r,i,a,m,e,d){m.exports=function(o,t){for(;!{}.hasOwnProperty.call(o,t)&&null!==(o=r(d[0])(o)););return o},m.exports.__esModule=!0,m.exports.default=m.exports},74,[44]);
__d(function(g,_r,i,a,m,e,d){var t=_r(d[0])(_r(d[1])),l=_r(d[0])(_r(d[2])),r=_r(d[0])(_r(d[3])),o=_r(d[0])(_r(d[4]));var n=(function(){function n(){(0,t.default)(this,n)}return(0,l.default)(n,null,[{key:"createFromParts",value:function(t,l){(0,o.default)(r.default,'NativeBlobModule is available.');var u='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(t){var l=16*Math.random()|0;return('x'==t?l:3&l|8).toString(16)}),f=t.map(function(t){if(t instanceof ArrayBuffer||g.ArrayBufferView&&t instanceof g.ArrayBufferView)throw new Error("Creating blobs from 'ArrayBuffer' and 'ArrayBufferView' are not supported");return t instanceof _r(d[5])?{data:t.data,type:'blob'}:{data:String(t),type:'string'}}),c=f.reduce(function(t,l){return'string'===l.type?t+g.unescape(encodeURI(l.data)).length:t+l.data.size},0);return r.default.createFromParts(f,u),n.createFromOptions({blobId:u,offset:0,size:c,type:l?l.type:'',lastModified:l?l.lastModified:Date.now()})}},{key:"createFromOptions",value:function(t){return _r(d[6]).register(t.blobId),Object.assign(Object.create(_r(d[5]).prototype),{data:null==t.__collector?Object.assign({},t,{__collector:(l=t.blobId,null==g.__blobCollectorProvider?null:g.__blobCollectorProvider(l))}):t});var l}},{key:"release",value:function(t){(0,o.default)(r.default,'NativeBlobModule is available.'),_r(d[6]).unregister(t),_r(d[6]).has(t)||r.default.release(t)}},{key:"addNetworkingHandler",value:function(){(0,o.default)(r.default,'NativeBlobModule is available.'),r.default.addNetworkingHandler()}},{key:"addWebSocketHandler",value:function(t){(0,o.default)(r.default,'NativeBlobModule is available.'),r.default.addWebSocketHandler(t)}},{key:"removeWebSocketHandler",value:function(t){(0,o.default)(r.default,'NativeBlobModule is available.'),r.default.removeWebSocketHandler(t)}},{key:"sendOverSocket",value:function(t,l){(0,o.default)(r.default,'NativeBlobModule is available.'),r.default.sendOverSocket(t.data,l)}}])})();n.isAvailable=!!r.default,m.exports=n},75,[3,12,13,76,20,77,78]);
__d(function(g,_r,_i,_a,m,_e,d){function e(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,r=new WeakMap;return(e=function(e){return e?r:n})(t)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=e(n);if(r&&r.has(t))return r.get(t);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&{}.hasOwnProperty.call(t,u)){var l=a?Object.getOwnPropertyDescriptor(t,u):null;l&&(l.get||l.set)?Object.defineProperty(o,u,l):o[u]=t[u]}return o.default=t,r&&r.set(t,o),o})(_r(d[0])).get('BlobModule'),n=null,r=null;null!=t&&(r={getConstants:function(){return null==n&&(n=t.getConstants()),n},addNetworkingHandler:function(){t.addNetworkingHandler()},addWebSocketHandler:function(e){t.addWebSocketHandler(e)},removeWebSocketHandler:function(e){t.removeWebSocketHandler(e)},sendOverSocket:function(e,n){t.sendOverSocket(e,n)},createFromParts:function(e,n){t.createFromParts(e,n)},release:function(e){t.release(e)}});_e.default=r},76,[19]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=(function(){return r(d[2])(function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1?arguments[1]:void 0;r(d[0])(this,t);var o=r(d[1]);this.data=o.createFromParts(n,s).data},[{key:"data",get:function(){if(!this._data)throw new Error('Blob has been closed and is no longer available');return this._data},set:function(t){this._data=t}},{key:"slice",value:function(t,n){var s=r(d[1]),o=this.data,u=o.offset,l=o.size;return'number'==typeof t&&(t>l&&(t=l),u+=t,l-=t,'number'==typeof n&&(n<0&&(n=this.size+n),l=n-t)),s.createFromOptions({blobId:this.data.blobId,offset:u,size:l})}},{key:"close",value:function(){r(d[1]).release(this.data.blobId),this.data=null}},{key:"size",get:function(){return this.data.size}},{key:"type",get:function(){return this.data.type||''}}])})();m.exports=t},77,[12,75,13]);
__d(function(g,r,i,a,m,e,d){var n={};m.exports={register:function(t){n[t]?n[t]++:n[t]=1},unregister:function(t){n[t]&&(n[t]--,n[t]<=0&&delete n[t])},has:function(t){return n[t]&&n[t]>0}}},78,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0});var t=new WeakMap,n=new WeakMap;function o(n){var o=t.get(n);return console.assert(null!=o,"'this' is expected an Event object, but got",n),o}function i(t){null==t.passiveListener?t.event.cancelable&&(t.canceled=!0,"function"==typeof t.event.preventDefault&&t.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener)}function l(n,o){t.set(this,{eventTarget:n,event:o,eventPhase:2,currentTarget:n,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:o.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});for(var i=Object.keys(o),l=0;l<i.length;++l){var s=i[l];s in this||Object.defineProperty(this,s,u(s))}}function u(t){return{get:function(){return o(this).event[t]},set:function(n){o(this).event[t]=n},configurable:!0,enumerable:!0}}function s(t){return{value:function(){var n=o(this).event;return n[t].apply(n,arguments)},configurable:!0,enumerable:!0}}function p(t,n){var o=Object.keys(n);if(0===o.length)return t;function i(n,o){t.call(this,n,o)}i.prototype=Object.create(t.prototype,{constructor:{value:i,configurable:!0,writable:!0}});for(var l=0;l<o.length;++l){var p=o[l];if(!(p in t.prototype)){var c="function"==typeof Object.getOwnPropertyDescriptor(n,p).value;Object.defineProperty(i.prototype,p,c?s(p):u(p))}}return i}function c(t){if(null==t||t===Object.prototype)return l;var o=n.get(t);return null==o&&(o=p(c(Object.getPrototypeOf(t)),t),n.set(t,o)),o}function f(t,n){return new(c(Object.getPrototypeOf(n)))(t,n)}function v(t){return o(t).immediateStopped}function y(t,n){o(t).eventPhase=n}function b(t,n){o(t).currentTarget=n}function h(t,n){o(t).passiveListener=n}l.prototype={get type(){return o(this).event.type},get target(){return o(this).eventTarget},get currentTarget(){return o(this).currentTarget},composedPath:function(){var t=o(this).currentTarget;return null==t?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return o(this).eventPhase},stopPropagation:function(){var t=o(this);t.stopped=!0,"function"==typeof t.event.stopPropagation&&t.event.stopPropagation()},stopImmediatePropagation:function(){var t=o(this);t.stopped=!0,t.immediateStopped=!0,"function"==typeof t.event.stopImmediatePropagation&&t.event.stopImmediatePropagation()},get bubbles(){return Boolean(o(this).event.bubbles)},get cancelable(){return Boolean(o(this).event.cancelable)},preventDefault:function(){i(o(this))},get defaultPrevented(){return o(this).canceled},get composed(){return Boolean(o(this).event.composed)},get timeStamp(){return o(this).timeStamp},get srcElement(){return o(this).eventTarget},get cancelBubble(){return o(this).stopped},set cancelBubble(t){if(t){var n=o(this);n.stopped=!0,"boolean"==typeof n.event.cancelBubble&&(n.event.cancelBubble=!0)}},get returnValue(){return!o(this).canceled},set returnValue(t){t||i(o(this))},initEvent:function(){}},Object.defineProperty(l.prototype,"constructor",{value:l,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(l.prototype,window.Event.prototype),n.set(window.Event.prototype,l));var w=new WeakMap,T=3;function P(t){return null!==t&&"object"==typeof t}function x(t){var n=w.get(t);if(null==n)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return n}function E(t){return{get:function(){for(var n=x(this).get(t);null!=n;){if(n.listenerType===T)return n.listener;n=n.next}return null},set:function(n){"function"==typeof n||P(n)||(n=null);for(var o=x(this),i=null,l=o.get(t);null!=l;)l.listenerType===T?null!==i?i.next=l.next:null!==l.next?o.set(t,l.next):o.delete(t):i=l,l=l.next;if(null!==n){var u={listener:n,listenerType:T,passive:!1,once:!1,next:null};null===i?o.set(t,u):i.next=u}},configurable:!0,enumerable:!0}}function O(t,n){Object.defineProperty(t,"on"+n,E(n))}function j(t){function n(){B.call(this)}n.prototype=Object.create(B.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(var o=0;o<t.length;++o)O(n.prototype,t[o]);return n}function B(){if(!(this instanceof B)){if(1===arguments.length&&Array.isArray(arguments[0]))return j(arguments[0]);if(arguments.length>0){for(var t=new Array(arguments.length),n=0;n<arguments.length;++n)t[n]=arguments[n];return j(t)}throw new TypeError("Cannot call a class as a function")}w.set(this,new Map)}B.prototype={addEventListener:function(t,n,o){if(null!=n){if("function"!=typeof n&&!P(n))throw new TypeError("'listener' should be a function or an object.");var i=x(this),l=P(o),u=(l?Boolean(o.capture):Boolean(o))?1:2,s={listener:n,listenerType:u,passive:l&&Boolean(o.passive),once:l&&Boolean(o.once),next:null},p=i.get(t);if(void 0!==p){for(var c=null;null!=p;){if(p.listener===n&&p.listenerType===u)return;c=p,p=p.next}c.next=s}else i.set(t,s)}},removeEventListener:function(t,n,o){if(null!=n)for(var i=x(this),l=(P(o)?Boolean(o.capture):Boolean(o))?1:2,u=null,s=i.get(t);null!=s;){if(s.listener===n&&s.listenerType===l)return void(null!==u?u.next=s.next:null!==s.next?i.set(t,s.next):i.delete(t));u=s,s=s.next}},dispatchEvent:function(t){if(null==t||"string"!=typeof t.type)throw new TypeError('"event.type" should be a string.');var n=x(this),o=t.type,i=n.get(o);if(null==i)return!0;for(var l=f(this,t),u=null;null!=i;){if(i.once?null!==u?u.next=i.next:null!==i.next?n.set(o,i.next):n.delete(o):u=i,h(l,i.passive?i.listener:null),"function"==typeof i.listener)try{i.listener.call(this,l)}catch(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t)}else i.listenerType!==T&&"function"==typeof i.listener.handleEvent&&i.listener.handleEvent(l);if(v(l))break;i=i.next}return h(l,null),y(l,0),b(l,null),!l.defaultPrevented}},Object.defineProperty(B.prototype,"constructor",{value:B,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(B.prototype,window.EventTarget.prototype),e.defineEventAttribute=O,e.EventTarget=B,e.default=B,m.exports=B,m.exports.EventTarget=m.exports.default=B,m.exports.defineEventAttribute=O},79,[]);
__d(function(g,r,i,a,m,e,d){var t=(0,r(d[0])(r(d[1])).default)();m.exports=t},80,[3,81]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return new l},e.getCurrentTimestamp=void 0;var t,s=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),o={},u=e.getCurrentTimestamp=null!=(t=g.nativeQPLTimestamp)?t:g.performance.now.bind(g.performance),l=(function(){return(0,n.default)(function t(){(0,s.default)(this,t),this._timespans={},this._extras={},this._points={},this._pointExtras={},this._closed=!1},[{key:"addTimespan",value:function(t,s,n,o,u){this._closed||this._timespans[t]||(this._timespans[t]={startTime:s,endTime:n,totalTime:n-(s||0),startExtras:o,endExtras:u})}},{key:"append",value:function(t){this._timespans=Object.assign({},t.getTimespans(),this._timespans),this._extras=Object.assign({},t.getExtras(),this._extras),this._points=Object.assign({},t.getPoints(),this._points),this._pointExtras=Object.assign({},t.getPointExtras(),this._pointExtras)}},{key:"clear",value:function(){this._timespans={},this._extras={},this._points={}}},{key:"clearCompleted",value:function(){for(var t in this._timespans){var s;null!=(null==(s=this._timespans[t])?void 0:s.totalTime)&&delete this._timespans[t]}this._extras={},this._points={}}},{key:"close",value:function(){this._closed=!0}},{key:"currentTimestamp",value:function(){return u()}},{key:"getExtras",value:function(){return this._extras}},{key:"getPoints",value:function(){return this._points}},{key:"getPointExtras",value:function(){return this._pointExtras}},{key:"getTimespans",value:function(){return this._timespans}},{key:"hasTimespan",value:function(t){return!!this._timespans[t]}},{key:"isClosed",value:function(){return this._closed}},{key:"logEverything",value:function(){}},{key:"markPoint",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u(),n=arguments.length>2?arguments[2]:void 0;this._closed||null==this._points[t]&&(this._points[t]=s,n&&(this._pointExtras[t]=n))}},{key:"removeExtra",value:function(t){var s=this._extras[t];return delete this._extras[t],s}},{key:"setExtra",value:function(t,s){this._closed||this._extras.hasOwnProperty(t)||(this._extras[t]=s)}},{key:"startTimespan",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u(),n=arguments.length>2?arguments[2]:void 0;this._closed||this._timespans[t]||(this._timespans[t]={startTime:s,startExtras:n},o[t]=r(d[3]).beginAsyncEvent(t))}},{key:"stopTimespan",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u(),n=arguments.length>2?arguments[2]:void 0;if(!this._closed){var l=this._timespans[t];l&&null!=l.startTime&&null==l.endTime&&(l.endExtras=n,l.endTime=s,l.totalTime=l.endTime-(l.startTime||0),null!=o[t]&&(r(d[3]).endAsyncEvent(t,o[t]),delete o[t]))}}}])})()},81,[3,12,13,28]);
__d(function(g,r,_i,a,m,e,d){'use strict';e.byteLength=function(t){var n=i(t),o=n[0],h=n[1];return 3*(o+h)/4-h},e.toByteArray=function(t){var h,u,c=i(t),A=c[0],C=c[1],y=new o(f(t,A,C)),s=0,v=C>0?A-4:A;for(u=0;u<v;u+=4)h=n[t.charCodeAt(u)]<<18|n[t.charCodeAt(u+1)]<<12|n[t.charCodeAt(u+2)]<<6|n[t.charCodeAt(u+3)],y[s++]=h>>16&255,y[s++]=h>>8&255,y[s++]=255&h;2===C&&(h=n[t.charCodeAt(u)]<<2|n[t.charCodeAt(u+1)]>>4,y[s++]=255&h);1===C&&(h=n[t.charCodeAt(u)]<<10|n[t.charCodeAt(u+1)]<<4|n[t.charCodeAt(u+2)]>>2,y[s++]=h>>8&255,y[s++]=255&h);return y},e.fromByteArray=function(n){for(var o,h=n.length,u=h%3,c=[],i=0,f=h-u;i<f;i+=16383)c.push(A(n,i,i+16383>f?f:i+16383));1===u?(o=n[h-1],c.push(t[o>>2]+t[o<<4&63]+'==')):2===u&&(o=(n[h-2]<<8)+n[h-1],c.push(t[o>>10]+t[o>>4&63]+t[o<<2&63]+'='));return c.join('')};for(var t=[],n=[],o='undefined'!=typeof Uint8Array?Uint8Array:Array,h='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',u=0,c=h.length;u<c;++u)t[u]=h[u],n[h.charCodeAt(u)]=u;function i(t){var n=t.length;if(n%4>0)throw new Error('Invalid string. Length must be a multiple of 4');var o=t.indexOf('=');return-1===o&&(o=n),[o,o===n?0:4-o%4]}function f(t,n,o){return 3*(n+o)/4-o}function A(n,o,h){for(var u,c,i=[],f=o;f<h;f+=3)u=(n[f]<<16&16711680)+(n[f+1]<<8&65280)+(255&n[f+2]),i.push(t[(c=u)>>18&63]+t[c>>12&63]+t[c>>6&63]+t[63&c]);return i.join('')}n['-'.charCodeAt(0)]=62,n['_'.charCodeAt(0)]=63},82,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),s=r(d[0])(r(d[3])),u={addListener:function(n,s,u){return t.default.addListener(n,s,u)},sendRequest:function(t,u,o,c,f,l,p,q,R,b){var h=(0,s.default)(f);n.default.sendRequest({method:t,url:o,data:Object.assign({},h,{trackingName:u}),headers:c,responseType:l,incrementalUpdates:p,timeout:q,withCredentials:b},R)},abortRequest:function(t){n.default.abortRequest(t)},clearCookies:function(t){n.default.clearCookies(t)}};m.exports=u},83,[3,4,84,85]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=e[f]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.getEnforcing('Networking')},84,[19]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return'string'==typeof t?{string:t}:t instanceof r(d[0])?{blob:t.data}:t instanceof r(d[1])?{formData:t.getParts()}:t instanceof ArrayBuffer||ArrayBuffer.isView(t)?{base64:r(d[2])(t)}:t}},85,[77,86,87]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=(function(){return r(d[1])(function t(){r(d[0])(this,t),this._parts=[]},[{key:"append",value:function(t,n){this._parts.push([t,n])}},{key:"getAll",value:function(t){return this._parts.filter(function(n){return r(d[2])(n,1)[0]===t}).map(function(t){return r(d[2])(t,2)[1]})}},{key:"getParts",value:function(){return this._parts.map(function(t){var n=r(d[2])(t,2),s=n[0],o=n[1],u={'content-disposition':'form-data; name="'+s+'"'};return'object'==typeof o&&!Array.isArray(o)&&o?('string'==typeof o.name&&(u['content-disposition']+='; filename="'+o.name+'"'),'string'==typeof o.type&&(u['content-type']=o.type),Object.assign({},o,{headers:u,fieldName:s})):{string:String(o),headers:u,fieldName:s}})}}])})();m.exports=t},86,[12,13,22]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t instanceof Uint8Array)return r(d[0]).fromByteArray(t);if(!ArrayBuffer.isView(t))throw new Error('data must be ArrayBuffer or typed array');var f=t,n=f.buffer,y=f.byteOffset,o=f.byteLength;return r(d[0]).fromByteArray(new Uint8Array(n,y,o))}},87,[82]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]),m.exports={fetch:fetch,Headers:Headers,Request:Request,Response:Response}},88,[89]);
__d(function(_g,r,_i,a,m,_e,d){var t,e;t=this,e=function(t){'use strict';var e='undefined'!=typeof globalThis&&globalThis||'undefined'!=typeof self&&self||void 0!==_g&&_g||{},o={searchParams:'URLSearchParams'in e,iterable:'Symbol'in e&&'iterator'in Symbol,blob:'FileReader'in e&&'Blob'in e&&(function(){try{return new Blob,!0}catch(t){return!1}})(),formData:'FormData'in e,arrayBuffer:'ArrayBuffer'in e};if(o.arrayBuffer)var n=['[object Int8Array]','[object Uint8Array]','[object Uint8ClampedArray]','[object Int16Array]','[object Uint16Array]','[object Int32Array]','[object Uint32Array]','[object Float32Array]','[object Float64Array]'],s=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};function i(t){if('string'!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||''===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function h(t){return'string'!=typeof t&&(t=String(t)),t}function u(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return o.iterable&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){if(2!=t.length)throw new TypeError('Headers constructor: expected name/value pair to be length 2, found'+t.length);this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function c(t){if(!t._noBody)return t.bodyUsed?Promise.reject(new TypeError('Already read')):void(t.bodyUsed=!0)}function y(t){return new Promise(function(e,o){t.onload=function(){e(t.result)},t.onerror=function(){o(t.error)}})}function l(t){var e=new FileReader,o=y(e);return e.readAsArrayBuffer(t),o}function p(t){for(var e=new Uint8Array(t),o=new Array(e.length),n=0;n<e.length;n++)o[n]=String.fromCharCode(e[n]);return o.join('')}function b(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?'string'==typeof t?this._bodyText=t:o.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():o.arrayBuffer&&o.blob&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=b(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||s(t))?this._bodyArrayBuffer=b(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=''),this.headers.get('content-type')||('string'==typeof t?this.headers.set('content-type','text/plain;charset=UTF-8'):this._bodyBlob&&this._bodyBlob.type?this.headers.set('content-type',this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set('content-type','application/x-www-form-urlencoded;charset=UTF-8'))},o.blob&&(this.blob=function(){var t=c(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error('could not read FormData body as blob');return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=c(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(o.blob)return this.blob().then(l);throw new Error('could not read as ArrayBuffer')},this.text=function(){var t,e,o,n,s,i=c(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,o=y(e),n=/charset=([A-Za-z0-9_-]+)/.exec(t.type),s=n?n[1]:'utf-8',e.readAsText(t,s),o;if(this._bodyArrayBuffer)return Promise.resolve(p(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error('could not read FormData body as text');return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=i(t),e=h(e);var o=this.map[t];this.map[t]=o?o+', '+e:e},f.prototype.delete=function(t){delete this.map[i(t)]},f.prototype.get=function(t){return t=i(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(i(t))},f.prototype.set=function(t,e){this.map[i(t)]=h(e)},f.prototype.forEach=function(t,e){for(var o in this.map)this.map.hasOwnProperty(o)&&t.call(e,this.map[o],o,this)},f.prototype.keys=function(){var t=[];return this.forEach(function(e,o){t.push(o)}),u(t)},f.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),u(t)},f.prototype.entries=function(){var t=[];return this.forEach(function(e,o){t.push([o,e])}),u(t)},o.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);var v=['CONNECT','DELETE','GET','HEAD','OPTIONS','PATCH','POST','PUT','TRACE'];function E(t,o){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,s,i=(o=o||{}).body;if(t instanceof E){if(t.bodyUsed)throw new TypeError('Already read');this.url=t.url,this.credentials=t.credentials,o.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=o.credentials||this.credentials||'same-origin',!o.headers&&this.headers||(this.headers=new f(o.headers)),this.method=(n=o.method||this.method||'GET',s=n.toUpperCase(),v.indexOf(s)>-1?s:n),this.mode=o.mode||this.mode||null,this.signal=o.signal||this.signal||(function(){if('AbortController'in e)return(new AbortController).signal})(),this.referrer=null,('GET'===this.method||'HEAD'===this.method)&&i)throw new TypeError('Body not allowed for GET or HEAD requests');if(this._initBody(i),!('GET'!==this.method&&'HEAD'!==this.method||'no-store'!==o.cache&&'no-cache'!==o.cache)){var h=/([?&])_=[^&]*/;if(h.test(this.url))this.url=this.url.replace(h,'$1_='+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?'&':'?')+'_='+(new Date).getTime()}}}function A(t){var e=new FormData;return t.trim().split('&').forEach(function(t){if(t){var o=t.split('='),n=o.shift().replace(/\+/g,' '),s=o.join('=').replace(/\+/g,' ');e.append(decodeURIComponent(n),decodeURIComponent(s))}}),e}function _(t,e){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type='default',this.status=void 0===e.status?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?'':''+e.statusText,this.headers=new f(e.headers),this.url=e.url||'',this._initBody(t)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},w.call(E.prototype),w.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:200,statusText:''});return t.ok=!1,t.status=0,t.type='error',t};var T=[301,302,303,307,308];_.redirect=function(t,e){if(-1===T.indexOf(e))throw new RangeError('Invalid status code');return new _(null,{status:e,headers:{location:t}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(t,e){this.message=t,this.name=e;var o=Error(t);this.stack=o.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function g(n,s){return new Promise(function(u,c){var y=new E(n,s);if(y.signal&&y.signal.aborted)return c(new t.DOMException('Aborted','AbortError'));var l=new XMLHttpRequest;function p(){l.abort()}if(l.onload=function(){var t,e,o={statusText:l.statusText,headers:(t=l.getAllResponseHeaders()||'',e=new f,t.replace(/\r?\n[\t ]+/g,' ').split('\r').map(function(t){return 0===t.indexOf('\n')?t.substr(1,t.length):t}).forEach(function(t){var o=t.split(':'),n=o.shift().trim();if(n){var s=o.join(':').trim();try{e.append(n,s)}catch(t){console.warn('Response '+t.message)}}}),e)};0===y.url.indexOf('file://')&&(l.status<200||l.status>599)?o.status=200:o.status=l.status,o.url='responseURL'in l?l.responseURL:o.headers.get('X-Request-URL');var n='response'in l?l.response:l.responseText;setTimeout(function(){u(new _(n,o))},0)},l.onerror=function(){setTimeout(function(){c(new TypeError('Network request failed'))},0)},l.ontimeout=function(){setTimeout(function(){c(new TypeError('Network request timed out'))},0)},l.onabort=function(){setTimeout(function(){c(new t.DOMException('Aborted','AbortError'))},0)},l.open(y.method,(function(t){try{return''===t&&e.location.href?e.location.href:t}catch(e){return t}})(y.url),!0),'include'===y.credentials?l.withCredentials=!0:'omit'===y.credentials&&(l.withCredentials=!1),'responseType'in l&&(o.blob?l.responseType='blob':o.arrayBuffer&&(l.responseType='arraybuffer')),s&&'object'==typeof s.headers&&!(s.headers instanceof f||e.Headers&&s.headers instanceof e.Headers)){var b=[];Object.getOwnPropertyNames(s.headers).forEach(function(t){b.push(i(t)),l.setRequestHeader(t,h(s.headers[t]))}),y.headers.forEach(function(t,e){-1===b.indexOf(e)&&l.setRequestHeader(e,t)})}else y.headers.forEach(function(t,e){l.setRequestHeader(e,t)});y.signal&&(y.signal.addEventListener('abort',p),l.onreadystatechange=function(){4===l.readyState&&y.signal.removeEventListener('abort',p)}),l.send(void 0===y._bodyInit?null:y._bodyInit)})}g.polyfill=!0,e.fetch||(e.fetch=g,e.Headers=f,e.Request=E,e.Response=_),t.Headers=f,t.Request=E,t.Response=_,t.fetch=g,Object.defineProperty(t,'__esModule',{value:!0})},'object'==typeof _e&&void 0!==m?e(_e):'function'==typeof define&&define.amd?define(['exports'],e):e(t.WHATWGFetch={})},89,[]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0])(r(d[1])),t=r(d[0])(r(d[2])),s=r(d[0])(r(d[3])),o=r(d[0])(r(d[4])),n=r(d[0])(r(d[5])),u=r(d[0])(r(d[6])),l=r(d[0])(r(d[7])),c=r(d[0])(r(d[8])),f=r(d[0])(r(d[9])),h=r(d[0])(r(d[10])),y=r(d[0])(r(d[11])),b=r(d[0])(r(d[12])),p=r(d[0])(r(d[13])),v=r(d[0])(r(d[14])),_=r(d[0])(r(d[15])),E=r(d[0])(r(d[16])),k=["headers"];function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(S=function(){return!!e})()}var I=0,N=1,O=2,w=3,C=0,L=(function(_){function L(s,u,l){var c,h,p,v;(0,t.default)(this,L),h=this,p=L,p=(0,n.default)(p),(c=(0,o.default)(h,S()?Reflect.construct(p,v||[],(0,n.default)(h).constructor):p.apply(h,v))).CONNECTING=I,c.OPEN=N,c.CLOSING=O,c.CLOSED=w,c.readyState=I,c.url=s,'string'==typeof u&&(u=[u]);var _=l||{},E=_.headers,T=void 0===E?{}:E,A=(0,e.default)(_,k);return A&&'string'==typeof A.origin&&(console.warn('Specifying `origin` as a WebSocket connection option is deprecated. Include it under `headers` instead.'),T.origin=A.origin,delete A.origin),Object.keys(A).length>0&&console.warn('Unrecognized WebSocket connection option(s) `'+Object.keys(A).join('`, `')+"`. Did you mean to put these under `headers`?"),Array.isArray(u)||(u=null),c._eventEmitter=new f.default('ios'!==y.default.OS?null:b.default),c._socketId=C++,c._registerEvents(),b.default.connect(s,u,{headers:T},c._socketId),c}return(0,u.default)(L,_),(0,s.default)(L,[{key:"binaryType",get:function(){return this._binaryType},set:function(e){if('blob'!==e&&'arraybuffer'!==e)throw new Error("binaryType must be either 'blob' or 'arraybuffer'");'blob'!==this._binaryType&&'blob'!==e||((0,E.default)(c.default.isAvailable,'Native module BlobModule is required for blob support'),'blob'===e?c.default.addWebSocketHandler(this._socketId):c.default.removeWebSocketHandler(this._socketId)),this._binaryType=e}},{key:"close",value:function(e,t){this.readyState!==this.CLOSING&&this.readyState!==this.CLOSED&&(this.readyState=this.CLOSING,this._close(e,t))}},{key:"send",value:function(e){if(this.readyState===this.CONNECTING)throw new Error('INVALID_STATE_ERR');if(e instanceof l.default)return(0,E.default)(c.default.isAvailable,'Native module BlobModule is required for blob support'),void c.default.sendOverSocket(e,this._socketId);if('string'!=typeof e){if(!(e instanceof ArrayBuffer||ArrayBuffer.isView(e)))throw new Error('Unsupported data type');b.default.sendBinary((0,h.default)(e),this._socketId)}else b.default.send(e,this._socketId)}},{key:"ping",value:function(){if(this.readyState===this.CONNECTING)throw new Error('INVALID_STATE_ERR');b.default.ping(this._socketId)}},{key:"_close",value:function(e,t){var s='number'==typeof e?e:1e3,o='string'==typeof t?t:'';b.default.close(s,o,this._socketId),c.default.isAvailable&&'blob'===this._binaryType&&c.default.removeWebSocketHandler(this._socketId)}},{key:"_unregisterEvents",value:function(){this._subscriptions.forEach(function(e){return e.remove()}),this._subscriptions=[]}},{key:"_registerEvents",value:function(){var e=this;this._subscriptions=[this._eventEmitter.addListener('websocketMessage',function(t){if(t.id===e._socketId){var s=t.data;switch(t.type){case'binary':s=v.default.toByteArray(t.data).buffer;break;case'blob':s=c.default.createFromOptions(t.data)}e.dispatchEvent(new p.default('message',{data:s}))}}),this._eventEmitter.addListener('websocketOpen',function(t){t.id===e._socketId&&(e.readyState=e.OPEN,e.protocol=t.protocol,e.dispatchEvent(new p.default('open')))}),this._eventEmitter.addListener('websocketClosed',function(t){t.id===e._socketId&&(e.readyState=e.CLOSED,e.dispatchEvent(new p.default('close',{code:t.code,reason:t.reason})),e._unregisterEvents(),e.close())}),this._eventEmitter.addListener('websocketFailed',function(t){t.id===e._socketId&&(e.readyState=e.CLOSED,e.dispatchEvent(new p.default('error',{message:t.message})),e.dispatchEvent(new p.default('close',{message:t.message})),e._unregisterEvents(),e.close())})]}}])})(_.default.apply(void 0,['close','error','message','open']));L.CONNECTING=I,L.OPEN=N,L.CLOSING=O,L.CLOSED=w,m.exports=L},90,[3,91,12,13,45,44,47,77,75,93,87,17,94,95,82,79,20]);
__d(function(g,_r,_i,a,m,_e,d){m.exports=function(e,r){if(null==e)return{};var t,o,n=_r(d[0])(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)t=l[o],r.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n},m.exports.__esModule=!0,m.exports.default=m.exports},91,[92]);
__d(function(g,_r,i,a,m,_e,d){m.exports=function(r,e){if(null==r)return{};var n={};for(var t in r)if({}.hasOwnProperty.call(r,t)){if(e.includes(t))continue;n[t]=r[t]}return n},m.exports.__esModule=!0,m.exports.default=m.exports},92,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),l=r(d[0])(r(d[3])),u=r(d[0])(r(d[4])),o=r(d[0])(r(d[5]));e.default=(function(){return(0,n.default)(function n(u){(0,t.default)(this,n),'ios'===l.default.OS&&(0,o.default)(null!=u,'`new NativeEventEmitter()` requires a non-null argument.');var s=!!u&&'function'==typeof u.addListener,v=!!u&&'function'==typeof u.removeListeners;u&&s&&v?this._nativeModule=u:null!=u&&(s||console.warn('`new NativeEventEmitter()` was called with a non-null argument without the required `addListener` method.'),v||console.warn('`new NativeEventEmitter()` was called with a non-null argument without the required `removeListeners` method.'))},[{key:"addListener",value:function(t,n,l){var o,s=this;null==(o=this._nativeModule)||o.addListener(t);var v=u.default.addListener(t,n,l);return{remove:function(){var t;null!=v&&(null==(t=s._nativeModule)||t.removeListeners(1),v.remove(),v=null)}}}},{key:"emit",value:function(t){for(var n=arguments.length,l=new Array(n>1?n-1:0),o=1;o<n;o++)l[o-1]=arguments[o];u.default.emit.apply(u.default,[t].concat(l))}},{key:"removeAllListeners",value:function(t){var n;(0,o.default)(null!=t,'`NativeEventEmitter.removeAllListener()` requires a non-null argument.'),null==(n=this._nativeModule)||n.removeListeners(this.listenerCount(t)),u.default.removeAllListeners(t)}},{key:"listenerCount",value:function(t){return u.default.listenerCount(t)}}])})()},93,[3,12,13,17,4,20]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=e[f]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.getEnforcing('WebSocketModule')},94,[19]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(function t(s,n){r(d[1])(this,t),this.type=s.toString(),Object.assign(this,n)});m.exports=t},95,[13,12]);
__d(function(g,r,i,a,m,_e,d){'use strict';function t(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(n){}return(t=function(){return!!n})()}var n=(function(n){function e(n,u,o){var c,s,l,f;return r(d[2])(this,e),r(d[3])(null!=n&&null!=u,'Failed to construct `File`: Must pass both `parts` and `name` arguments.'),s=this,l=e,f=[n,o],l=r(d[0])(l),(c=r(d[1])(s,t()?Reflect.construct(l,f||[],r(d[0])(s).constructor):l.apply(s,f))).data.name=u,c}return r(d[4])(e,n),r(d[5])(e,[{key:"name",get:function(){return r(d[3])(null!=this.data.name,'Files must have a name set.'),this.data.name}},{key:"lastModified",get:function(){return this.data.lastModified||0}}])})(r(d[6]));m.exports=n},96,[44,45,12,20,47,13,77]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0])(r(d[1])),e=r(d[0])(r(d[2])),o=r(d[0])(r(d[3])),n=r(d[0])(r(d[4])),s=r(d[0])(r(d[5])),u=r(d[0])(r(d[6]));function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}var h=0,c=1,f=2,y=(function(y){function _(){var e,s,u,y;return(0,t.default)(this,_),s=this,u=_,u=(0,n.default)(u),(e=(0,o.default)(s,l()?Reflect.construct(u,y||[],(0,n.default)(s).constructor):u.apply(s,y))).EMPTY=h,e.LOADING=c,e.DONE=f,e._aborted=!1,e._reset(),e}return(0,s.default)(_,y),(0,e.default)(_,[{key:"_reset",value:function(){this._readyState=h,this._error=null,this._result=null}},{key:"_setReadyState",value:function(t){this._readyState=t,this.dispatchEvent({type:'readystatechange'}),t===f&&(this._aborted?this.dispatchEvent({type:'abort'}):this._error?this.dispatchEvent({type:'error'}):this.dispatchEvent({type:'load'}),this.dispatchEvent({type:'loadend'}))}},{key:"readAsArrayBuffer",value:function(){throw new Error('FileReader.readAsArrayBuffer is not implemented')}},{key:"readAsDataURL",value:function(t){var e=this;if(this._aborted=!1,null==t)throw new TypeError("Failed to execute 'readAsDataURL' on 'FileReader': parameter 1 is not of type 'Blob'");u.default.readAsDataURL(t.data).then(function(t){e._aborted||(e._result=t,e._setReadyState(f))},function(t){e._aborted||(e._error=t,e._setReadyState(f))})}},{key:"readAsText",value:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'UTF-8';if(this._aborted=!1,null==t)throw new TypeError("Failed to execute 'readAsText' on 'FileReader': parameter 1 is not of type 'Blob'");u.default.readAsText(t.data,o).then(function(t){e._aborted||(e._result=t,e._setReadyState(f))},function(t){e._aborted||(e._error=t,e._setReadyState(f))})}},{key:"abort",value:function(){this._aborted=!0,this._readyState!==h&&this._readyState!==f&&(this._reset(),this._setReadyState(f)),this._reset()}},{key:"readyState",get:function(){return this._readyState}},{key:"error",get:function(){return this._error}},{key:"result",get:function(){return this._result}}])})(r(d[7]).apply(void 0,['abort','error','load','loadstart','loadend','progress']));y.EMPTY=h,y.LOADING=c,y.DONE=f,m.exports=y},97,[3,12,13,45,44,47,98,79]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=e[f]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.getEnforcing('FileReaderModule')},98,[19]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.URLSearchParams=e.URL=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),o=r(d[0])(r(d[3])),s=null;if(o.default&&'string'==typeof o.default.getConstants().BLOB_URI_SCHEME){var u=o.default.getConstants();s=u.BLOB_URI_SCHEME+':','string'==typeof u.BLOB_URI_HOST&&(s+="//"+u.BLOB_URI_HOST+"/")}var h=e.URLSearchParams=(function(){return(0,n.default)(function n(o){var s=this;(0,t.default)(this,n),this._searchParams=[],'object'==typeof o&&Object.keys(o).forEach(function(t){return s.append(t,o[t])})},[{key:"append",value:function(t,n){this._searchParams.push([t,n])}},{key:"delete",value:function(t){throw new Error('URLSearchParams.delete is not implemented')}},{key:"get",value:function(t){throw new Error('URLSearchParams.get is not implemented')}},{key:"getAll",value:function(t){throw new Error('URLSearchParams.getAll is not implemented')}},{key:"has",value:function(t){throw new Error('URLSearchParams.has is not implemented')}},{key:"set",value:function(t,n){throw new Error('URLSearchParams.set is not implemented')}},{key:"sort",value:function(){throw new Error('URLSearchParams.sort is not implemented')}},{key:Symbol.iterator,value:function(){return this._searchParams[Symbol.iterator]()}},{key:"toString",value:function(){if(0===this._searchParams.length)return'';var t=this._searchParams.length-1;return this._searchParams.reduce(function(n,o,s){return n+encodeURIComponent(o[0])+'='+encodeURIComponent(o[1])+(s===t?'':'&')},'')}}])})();function f(t){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)*(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/.test(t)}e.URL=(function(){return(0,n.default)(function n(o,s){(0,t.default)(this,n),this._searchParamsInstance=null;var u=null;if(!s||f(o))this._url=o,this._url.endsWith('/')||(this._url+='/');else{if('string'==typeof s){if(!f(u=s))throw new TypeError("Invalid base URL: "+u)}else u=s.toString();u.endsWith('/')&&(u=u.slice(0,u.length-1)),o.startsWith('/')||(o="/"+o),u.endsWith(o)&&(o=''),this._url=""+u+o}},[{key:"hash",get:function(){throw new Error('URL.hash is not implemented')}},{key:"host",get:function(){throw new Error('URL.host is not implemented')}},{key:"hostname",get:function(){throw new Error('URL.hostname is not implemented')}},{key:"href",get:function(){return this.toString()}},{key:"origin",get:function(){throw new Error('URL.origin is not implemented')}},{key:"password",get:function(){throw new Error('URL.password is not implemented')}},{key:"pathname",get:function(){throw new Error('URL.pathname not implemented')}},{key:"port",get:function(){throw new Error('URL.port is not implemented')}},{key:"protocol",get:function(){throw new Error('URL.protocol is not implemented')}},{key:"search",get:function(){throw new Error('URL.search is not implemented')}},{key:"searchParams",get:function(){return null==this._searchParamsInstance&&(this._searchParamsInstance=new h),this._searchParamsInstance}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){if(null===this._searchParamsInstance)return this._url;var t=this._searchParamsInstance.toString(),n=this._url.indexOf('?')>-1?'&':'?';return this._url+n+t}},{key:"username",get:function(){throw new Error('URL.username is not implemented')}}],[{key:"createObjectURL",value:function(t){if(null===s)throw new Error('Cannot create URL for blob!');return""+s+t.data.blobId+"?offset="+t.data.offset+"&size="+t.size}},{key:"revokeObjectURL",value:function(t){}}])})()},99,[3,12,13,76]);
__d(function(g,r,i,a,m,_e,d){'use strict';function t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t=function(){return!!e})()}Object.defineProperty(_e,'__esModule',{value:!0});var e=(function(e){function n(){var e,o,l;throw r(d[2])(this,n),e=this,o=n,o=r(d[0])(o),r(d[1])(e,t()?Reflect.construct(o,l||[],r(d[0])(e).constructor):o.apply(e,l)),new TypeError("AbortSignal cannot be constructed directly")}return r(d[3])(n,e),r(d[4])(n,[{key:"aborted",get:function(){var t=o.get(this);if("boolean"!=typeof t)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return t}}])})(r(d[5]).EventTarget);r(d[5]).defineEventAttribute(e.prototype,"abort");var o=new WeakMap;Object.defineProperties(e.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(e.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var n=(function(){return r(d[4])(function t(){var n;r(d[2])(this,t),l.set(this,(n=Object.create(e.prototype),r(d[5]).EventTarget.call(n),o.set(n,!1),n))},[{key:"signal",get:function(){return u(this)}},{key:"abort",value:function(){var t;t=u(this),!1===o.get(t)&&(o.set(t,!0),t.dispatchEvent({type:"abort"}))}}])})(),l=new WeakMap;function u(t){var e=l.get(t);if(null==e)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===t?"null":typeof t));return e}Object.defineProperties(n.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(n.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),_e.AbortController=n,_e.AbortSignal=e,_e.default=n,m.exports=n,m.exports.AbortController=m.exports.default=n,m.exports.AbortSignal=e},100,[44,45,12,47,13,79]);
__d(function(g,r,i,a,m,e,d){'use strict';g.alert||(g.alert=function(t){r(d[0]).alert('Alert',''+t)})},101,[102]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),o=r(d[0])(r(d[3])),s=r(d[0])(r(d[4])),l=(function(){function l(){(0,t.default)(this,l)}return(0,n.default)(l,null,[{key:"alert",value:function(t,n,s,u){if('ios'===o.default.OS)l.prompt(t,n,s,'default',void 0,void 0,u);else if('android'===o.default.OS){var c=r(d[5]).default;if(!c)return;var f=c.getConstants(),v={title:t||'',message:n||'',cancelable:!1};u&&u.cancelable&&(v.cancelable=u.cancelable);var p=s?s.slice(0,3):[{text:"OK"}],y=p.pop(),b=p.pop(),h=p.pop();h&&(v.buttonNeutral=h.text||''),b&&(v.buttonNegative=b.text||''),y&&(v.buttonPositive=y.text||"OK");c.showAlert(v,function(t){return console.warn(t)},function(t,n){t===f.buttonClicked?n===f.buttonNeutral?h.onPress&&h.onPress():n===f.buttonNegative?b.onPress&&b.onPress():n===f.buttonPositive&&y.onPress&&y.onPress():t===f.dismissed&&u&&u.onDismiss&&u.onDismiss()})}}},{key:"prompt",value:function(t,n,l){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:'plain-text',c=arguments.length>4?arguments[4]:void 0,f=arguments.length>5?arguments[5]:void 0,v=arguments.length>6?arguments[6]:void 0;if('ios'===o.default.OS){var p,y,b=[],h=[];'function'==typeof l?b=[l]:Array.isArray(l)&&l.forEach(function(t,n){if(b[n]=t.onPress,'cancel'===t.style?p=String(n):'destructive'===t.style&&(y=String(n)),t.text||n<(l||[]).length-1){var o={};o[n]=t.text||'',h.push(o)}}),s.default.alertWithArgs({title:t||'',message:n||void 0,buttons:h,type:u||void 0,defaultValue:c,cancelButtonKey:p,destructiveButtonKey:y,keyboardType:f,userInterfaceStyle:(null==v?void 0:v.userInterfaceStyle)||void 0},function(t,n){var o=b[t];o&&o(n)})}}}])})();m.exports=l},102,[3,12,13,17,103,105]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1]));m.exports={alertWithArgs:function(l,n){null!=t.default&&t.default.alertWithArgs(l,n)}}},103,[3,104]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=o?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(u,a,f):u[a]=e[a]}return u.default=e,n&&n.set(e,u),u})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('AlertManager')},104,[19]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=u?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('DialogManagerAndroid')},105,[19]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=g.navigator;void 0===t&&(g.navigator=t={}),r(d[0]).polyfillObjectProperty(t,'product',function(){return'ReactNative'})},106,[58]);
__d(function(g,r,i,a,m,e,d){'use strict';var n;if(!0===g.RN$Bridgeless&&g.RN$registerCallableModule)n=g.RN$registerCallableModule;else{var t=r(d[0]);n=function(n,u){return t.registerLazyCallableModule(n,u)}}n('Systrace',function(){return r(d[1])}),!0!==g.RN$Bridgeless&&n('JSTimers',function(){return r(d[2])}),n('HeapCapture',function(){return r(d[3])}),n('SamplingProfiler',function(){return r(d[4])}),n('RCTLog',function(){return r(d[5])}),n('RCTDeviceEventEmitter',function(){return r(d[6]).default}),n('RCTNativeAppEventEmitter',function(){return r(d[7])}),n('GlobalPerformanceLogger',function(){return r(d[8])}),n('JSDevSupportModule',function(){return r(d[9])}),n('HMRClient',function(){return r(d[10])})},107,[26,28,67,108,110,112,4,113,80,114,116]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0])(r(d[1])),t={captureHeap:function(t){var p=null;try{g.nativeCaptureHeap(t),console.log('HeapCapture.captureHeap succeeded: '+t)}catch(e){console.log('HeapCapture.captureHeap error: '+e.toString()),p=e.toString()}e.default&&e.default.captureComplete(t,p)}};m.exports=t},108,[3,109]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=o?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(u,a,f):u[a]=e[a]}return u.default=e,n&&n.set(e,u),u})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('JSCHeapCapture')},109,[19]);
__d(function(g,r,i,a,m,_e,d){'use strict';var o={poke:function(o){var e=null,l=null;try{null===(l=g.pokeSamplingProfiler())?console.log('The JSC Sampling Profiler has started'):console.log('The JSC Sampling Profiler has stopped')}catch(o){console.log('Error occurred when restarting Sampling Profiler: '+o.toString()),e=o.toString()}var n=r(d[0]).default;n&&n.operationComplete(o,l,e)}};m.exports=o},110,[111]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=e[f]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('JSCSamplingProfiler')},111,[19]);
__d(function(g,r,i,a,m,e,d){'use strict';var o={log:'log',info:'info',warn:'warn',error:'error',fatal:'error'},n=null,l={logIfNoNativeHook:function(o){for(var t=arguments.length,f=new Array(t>1?t-1:0),c=1;c<t;c++)f[c-1]=arguments[c];void 0===g.nativeLoggingHook?l.logToConsole.apply(l,[o].concat(f)):n&&'warn'===o&&n.apply(void 0,f)},logToConsole:function(n){var l,t=o[n];r(d[0])(t,'Level "'+n+'" not one of '+Object.keys(o).toString());for(var f=arguments.length,c=new Array(f>1?f-1:0),v=1;v<f;v++)c[v-1]=arguments[v];(l=console)[t].apply(l,c)},setWarningHandler:function(o){n=o}};m.exports=l},112,[20]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])).default;m.exports=t},113,[3,4]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0])(r(d[1])),e={getJSHierarchy:function(e){if(t.default){var _=t.default.getConstants();try{var o=(0,r(d[2]).__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.computeComponentStackForErrorReporting)(e);o?t.default.onSuccess(o):t.default.onFailure(_.ERROR_CODE_VIEW_NOT_FOUND,"Component stack doesn't exist for tag "+e)}catch(e){t.default.onFailure(_.ERROR_CODE_EXCEPTION,e.message)}}}};m.exports=e},114,[3,115,35]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=o?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(u,f,a):u[f]=e[f]}return u.default=e,n&&n.set(e,u),u})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('JSDevSupport')},115,[19]);
__d(function(g,r,i,a,m,e,d){'use strict';var n={setup:function(){},enable:function(){console.error("Fast Refresh is disabled in JavaScript bundles built in production mode. Did you forget to run Metro?")},disable:function(){},registerBundle:function(){},log:function(){}};m.exports=n},116,[]);
__d(function(g,r,i,a,m,e,d){'use strict';g.__fetchSegment=function(t,n,c){r(d[0]).default.fetchSegment(t,n,function(t){if(t){var n=new Error(t.message);n.code=t.code,c(n)}c(null)})},g.__getSegment=function(t,n,c){var f=r(d[0]).default;if(!f.getSegment)throw new Error('SegmentFetcher.getSegment must be defined');f.getSegment(t,n,function(t,n){if(t){var f=new Error(t.message);f.code=t.code,c(f)}c(null,n)})}},117,[118]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=e[f]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.getEnforcing('SegmentFetcher')},118,[19]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},119,[120]);
__d(function(_g,_r,i,_a,_m,_e,_d){'use strict';var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),s=Symbol.for("react.lazy"),p=Symbol.iterator;function y(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,h={};function m(e,t,r){this.props=e,this.context=t,this.refs=h,this.updater=r||d}function v(){}function b(e,t,r){this.props=e,this.context=t,this.refs=h,this.updater=r||d}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var S=b.prototype=new v;S.constructor=b,_(S,m.prototype),S.isPureReactComponent=!0;var E=Array.isArray,$=Object.prototype.hasOwnProperty,w={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function k(t,r,n){var o,u={},c=null,a=null;if(null!=r)for(o in void 0!==r.ref&&(a=r.ref),void 0!==r.key&&(c=""+r.key),r)$.call(r,o)&&!R.hasOwnProperty(o)&&(u[o]=r[o]);var f=arguments.length-2;if(1===f)u.children=n;else if(1<f){for(var l=Array(f),s=0;s<f;s++)l[s]=arguments[s+2];u.children=l}if(t&&t.defaultProps)for(o in f=t.defaultProps)void 0===u[o]&&(u[o]=f[o]);return{$$typeof:e,type:t,key:c,ref:a,props:u,_owner:w.current}}function C(t,r){return{$$typeof:e,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}function g(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}function j(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}var O=/\/+/g;function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?j(""+e.key):t.toString(36)}function x(r,n,o,u,c){var a=typeof r;"undefined"!==a&&"boolean"!==a||(r=null);var f=!1;if(null===r)f=!0;else switch(a){case"string":case"number":f=!0;break;case"object":switch(r.$$typeof){case e:case t:f=!0}}if(f)return c=c(f=r),r=""===u?"."+P(f,0):u,E(c)?(o="",null!=r&&(o=r.replace(O,"$&/")+"/"),x(c,n,o,"",function(e){return e})):null!=c&&(g(c)&&(c=C(c,o+(!c.key||f&&f.key===c.key?"":(""+c.key).replace(O,"$&/")+"/")+r)),n.push(c)),1;if(f=0,u=""===u?".":u+":",E(r))for(var l=0;l<r.length;l++){var s=u+P(a=r[l],l);f+=x(a,n,o,s,c)}else if("function"==typeof(s=y(r)))for(r=s.call(r),l=0;!(a=r.next()).done;)f+=x(a=a.value,n,o,s=u+P(a,l++),c);else if("object"===a)throw n=String(r),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(r).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return f}function I(e,t,r){if(null==e)return e;var n=[],o=0;return x(e,n,"","",function(e){return t.call(r,e,o++)}),n}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var V={current:null},A={transition:null},D={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:A,ReactCurrentOwner:w};_e.Children={map:I,forEach:function(e,t,r){I(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!g(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},_e.Component=m,_e.Fragment=r,_e.Profiler=o,_e.PureComponent=b,_e.StrictMode=n,_e.Suspense=f,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,_e.cloneElement=function(t,r,n){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=_({},t.props),u=t.key,c=t.ref,a=t._owner;if(null!=r){if(void 0!==r.ref&&(c=r.ref,a=w.current),void 0!==r.key&&(u=""+r.key),t.type&&t.type.defaultProps)var f=t.type.defaultProps;for(l in r)$.call(r,l)&&!R.hasOwnProperty(l)&&(o[l]=void 0===r[l]&&void 0!==f?f[l]:r[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){f=Array(l);for(var s=0;s<l;s++)f[s]=arguments[s+2];o.children=f}return{$$typeof:e,type:t.type,key:u,ref:c,props:o,_owner:a}},_e.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},_e.createElement=k,_e.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},_e.createRef=function(){return{current:null}},_e.forwardRef=function(e){return{$$typeof:a,render:e}},_e.isValidElement=g,_e.lazy=function(e){return{$$typeof:s,_payload:{_status:-1,_result:e},_init:T}},_e.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},_e.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},_e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},_e.useCallback=function(e,t){return V.current.useCallback(e,t)},_e.useContext=function(e){return V.current.useContext(e)},_e.useDebugValue=function(){},_e.useDeferredValue=function(e){return V.current.useDeferredValue(e)},_e.useEffect=function(e,t){return V.current.useEffect(e,t)},_e.useId=function(){return V.current.useId()},_e.useImperativeHandle=function(e,t,r){return V.current.useImperativeHandle(e,t,r)},_e.useInsertionEffect=function(e,t){return V.current.useInsertionEffect(e,t)},_e.useLayoutEffect=function(e,t){return V.current.useLayoutEffect(e,t)},_e.useMemo=function(e,t){return V.current.useMemo(e,t)},_e.useReducer=function(e,t,r){return V.current.useReducer(e,t,r)},_e.useRef=function(e){return V.current.useRef(e)},_e.useState=function(e){return V.current.useState(e)},_e.useSyncExternalStore=function(e,t,r){return V.current.useSyncExternalStore(e,t,r)},_e.useTransition=function(){return V.current.useTransition()},_e.version="18.1.0"},120,[]);
__d(function(g,r,i,a,m,e,d){m.exports={get BatchedBridge(){return r(d[0])},get ExceptionsManager(){return r(d[1])},get Platform(){return r(d[2])},get RCTEventEmitter(){return r(d[3])},get ReactNativeViewConfigRegistry(){return r(d[4])},get TextInputState(){return r(d[5])},get UIManager(){return r(d[6])},get deepDiffer(){return r(d[7])},get deepFreezeAndThrowOnMutationInDev(){return r(d[8])},get flattenStyle(){return r(d[9])},get ReactFiberErrorDialog(){return r(d[10]).default},get legacySendAccessibilityEvent(){return r(d[11])},get RawEventEmitter(){return r(d[12]).default},get CustomEvent(){return r(d[13]).default}}},121,[26,43,17,122,123,124,140,167,168,169,170,34,171,172]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={register:function(t){g.RN$Bridgeless?g.RN$registerCallableModule('RCTEventEmitter',function(){return t}):r(d[0]).registerCallableModule('RCTEventEmitter',t)}};m.exports=t},122,[26]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),n={},o={};e.customBubblingEventTypes=n,e.customDirectEventTypes=o;var s=new Map,u=new Map;function l(t){var s=t.bubblingEventTypes,u=t.directEventTypes;if(null!=s)for(var l in s)null==n[l]&&(n[l]=s[l]);if(null!=u)for(var f in u)null==o[f]&&(o[f]=u[f])}e.register=function(n,o){return(0,t.default)(!s.has(n),'Tried to register two views with the same name %s',n),(0,t.default)('function'==typeof o,'View config getter callback for component `%s` must be a function (received `%s`)',n,null===o?'null':typeof o),s.set(n,o),n},e.get=function(n){var o;if(u.has(n))o=u.get(n);else{var f=s.get(n);'function'!=typeof f&&(0,t.default)(!1,'View config getter callback for component `%s` must be a function (received `%s`).%s',n,null===f?'null':typeof f,'string'==typeof n[0]&&/[a-z]/.test(n[0])?' Make sure to start component names with a capital letter.':''),l(o=f()),u.set(n,o),s.set(n,null)}return(0,t.default)(o,'View config not found for name %s',n),o}},123,[3,20]);
__d(function(g,r,i,a,m,e,d){r(d[0]);var n=null,u=new Set;function t(u){n!==u&&null!=u&&(n=u)}function o(u){n===u&&null!=u&&(n=null)}m.exports={currentlyFocusedInput:function(){return n},focusInput:t,blurInput:o,currentlyFocusedField:function(){return r(d[1]).findNodeHandle(n)},focusField:function(n){},blurField:function(n){},focusTextInput:function(u){if('number'!=typeof u&&null!=u){var o;if(n===u||!1===(null==(o=u.currentProps)?void 0:o.editable))return;t(u),r(d[2]).Commands.focus(u)}},blurTextInput:function(u){'number'!=typeof u&&n===u&&null!=u&&(o(u),r(d[2]).Commands.blur(u))},registerInput:function(n){'number'!=typeof n&&u.add(n)},unregisterInput:function(n){'number'!=typeof n&&u.delete(n)},isTextInput:function(n){return'number'!=typeof n&&u.has(n)}}},124,[119,35,125]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;var e=_r(d[0])(_r(d[1])),t=_r(d[0])(_r(d[2])),n=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(u,a,i):u[a]=e[a]}return u.default=e,n&&n.set(e,u),u})(_r(d[3]));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}_e.Commands=(0,e.default)({supportedCommands:['focus','blur','setTextAndSelection']});var u=_e.__INTERNAL_VIEW_CONFIG=Object.assign({uiViewClassName:'RCTSinglelineTextInputView'},t.default),o=n.get('RCTSinglelineTextInputView',function(){return u});_e.default=o},125,[3,126,131,138]);
__d(function(g,r,i,a,m,e,d){var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n=g.RN$Bridgeless?r(d[0]).dispatchCommand:r(d[1]).dispatchCommand;e.default=function(o){var t={};return o.supportedCommands.forEach(function(o){t[o]=function(t){for(var u=arguments.length,f=new Array(u>1?u-1:0),c=1;c<u;c++)f[c-1]=arguments[c];n(t,o,f)}}),t}},126,[127,35]);
__d(function(g,r,i,a,m,e,d){'use strict';var t;t=r(d[0]),g.RN$Bridgeless?g.RN$stopSurface=t.stopSurface:r(d[1]).BatchedBridge.registerCallableModule('ReactFabric',t),m.exports=t},127,[128,121]);
__d(function(e,n,t,r,l,a,i){"use strict";n(i[0]);var u=n(i[1]);function o(e,n,t,r,l,a,i,u,o){var s=Array.prototype.slice.call(arguments,3);try{n.apply(t,s)}catch(e){this.onError(e)}}var s=!1,c=null,d=!1,f=null,p={onError:function(e){s=!0,c=e}};function h(e,n,t,r,l,a,i,u,d){s=!1,c=null,o.apply(p,arguments)}function g(e,n,t,r,l,a,i,u,o){if(h.apply(this,arguments),s){if(!s)throw Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.");var p=c;s=!1,c=null,d||(d=!0,f=p)}}var m=Array.isArray,v=null,b=null,y=null;function S(e,n,t){var r=e.type||"unknown-event";e.currentTarget=y(t),g(r,n,void 0,e),e.currentTarget=null}function k(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(m(n))throw Error("executeDirectDispatch(...): Invalid `event`.");return e.currentTarget=n?y(t):null,n=n?n(e):null,e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,n}var w=Object.assign;function x(){return!0}function _(){return!1}function E(e,n,t,r){for(var l in this.dispatchConfig=e,this._targetInst=n,this.nativeEvent=t,this._dispatchInstances=this._dispatchListeners=null,e=this.constructor.Interface)e.hasOwnProperty(l)&&((n=e[l])?this[l]=n(t):"target"===l?this.target=r:this[l]=t[l]);return this.isDefaultPrevented=(null!=t.defaultPrevented?t.defaultPrevented:!1===t.returnValue)?x:_,this.isPropagationStopped=_,this}function P(e,n,t,r){if(this.eventPool.length){var l=this.eventPool.pop();return this.call(l,e,n,t,r),l}return new this(e,n,t,r)}function R(e){if(!(e instanceof this))throw Error("Trying to release an event instance into a pool of a different type.");e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function T(e){e.getPooled=P,e.eventPool=[],e.release=R}w(E.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=x)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=x)},persist:function(){this.isPersistent=x},isPersistent:_,destructor:function(){var e,n=this.constructor.Interface;for(e in n)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=_,this._dispatchInstances=this._dispatchListeners=null}}),E.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},E.extend=function(e){function n(){}function t(){return r.apply(this,arguments)}var r=this;n.prototype=r.prototype;var l=new n;return w(l,t.prototype),t.prototype=l,t.prototype.constructor=t,t.Interface=w({},r.Interface,e),t.extend=r.extend,T(t),t},T(E);var N=E.extend({touchHistory:function(){return null}});function C(e){return"topTouchStart"===e}function z(e){return"topTouchMove"===e}var I=["topTouchStart"],L=["topTouchMove"],U=["topTouchCancel","topTouchEnd"],M=[],F={touchBank:M,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0};function D(e){return e.timeStamp||e.timestamp}function A(e){if(null==(e=e.identifier))throw Error("Touch object is missing identifier.");return e}function j(e){var n=A(e),t=M[n];t?(t.touchActive=!0,t.startPageX=e.pageX,t.startPageY=e.pageY,t.startTimeStamp=D(e),t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=D(e),t.previousPageX=e.pageX,t.previousPageY=e.pageY,t.previousTimeStamp=D(e)):(t={touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:D(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:D(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:D(e)},M[n]=t),F.mostRecentTimeStamp=D(e)}function H(e){var n=M[A(e)];n&&(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=D(e),F.mostRecentTimeStamp=D(e))}function Q(e){var n=M[A(e)];n&&(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=D(e),F.mostRecentTimeStamp=D(e))}var B,W={instrument:function(e){B=e},recordTouchTrack:function(e,n){if(null!=B&&B(e,n),z(e))n.changedTouches.forEach(H);else if(C(e))n.changedTouches.forEach(j),F.numberActiveTouches=n.touches.length,1===F.numberActiveTouches&&(F.indexOfSingleActiveTouch=n.touches[0].identifier);else if(("topTouchEnd"===e||"topTouchCancel"===e)&&(n.changedTouches.forEach(Q),F.numberActiveTouches=n.touches.length,1===F.numberActiveTouches))for(e=0;e<M.length;e++)if(null!=(n=M[e])&&n.touchActive){F.indexOfSingleActiveTouch=e;break}},touchHistory:F};function O(e,n){if(null==n)throw Error("accumulate(...): Accumulated items must not be null or undefined.");return null==e?n:m(e)?e.concat(n):m(n)?[e].concat(n):[e,n]}function V(e,n){if(null==n)throw Error("accumulateInto(...): Accumulated items must not be null or undefined.");return null==e?n:m(e)?m(n)?(e.push.apply(e,n),e):(e.push(n),e):m(n)?[e].concat(n):[e,n]}function Y(e,n,t){Array.isArray(e)?e.forEach(n,t):e&&n.call(t,e)}var q=null,$=0;function X(e,n){var t=q;q=e,null!==le.GlobalResponderHandler&&le.GlobalResponderHandler.onChange(t,e,n)}var G={startShouldSetResponder:{phasedRegistrationNames:{bubbled:"onStartShouldSetResponder",captured:"onStartShouldSetResponderCapture"},dependencies:I},scrollShouldSetResponder:{phasedRegistrationNames:{bubbled:"onScrollShouldSetResponder",captured:"onScrollShouldSetResponderCapture"},dependencies:["topScroll"]},selectionChangeShouldSetResponder:{phasedRegistrationNames:{bubbled:"onSelectionChangeShouldSetResponder",captured:"onSelectionChangeShouldSetResponderCapture"},dependencies:["topSelectionChange"]},moveShouldSetResponder:{phasedRegistrationNames:{bubbled:"onMoveShouldSetResponder",captured:"onMoveShouldSetResponderCapture"},dependencies:L},responderStart:{registrationName:"onResponderStart",dependencies:I},responderMove:{registrationName:"onResponderMove",dependencies:L},responderEnd:{registrationName:"onResponderEnd",dependencies:U},responderRelease:{registrationName:"onResponderRelease",dependencies:U},responderTerminationRequest:{registrationName:"onResponderTerminationRequest",dependencies:[]},responderGrant:{registrationName:"onResponderGrant",dependencies:[]},responderReject:{registrationName:"onResponderReject",dependencies:[]},responderTerminate:{registrationName:"onResponderTerminate",dependencies:[]}};function J(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function K(e,n,t){for(var r=[];e;)r.push(e),e=J(e);for(e=r.length;0<e--;)n(r[e],"captured",t);for(e=0;e<r.length;e++)n(r[e],"bubbled",t)}function Z(e,n){if(null===(e=e.stateNode))return null;if(null===(e=v(e)))return null;if((e=e[n])&&"function"!=typeof e)throw Error("Expected `"+n+"` listener to be a function, instead got a value of `"+typeof e+"` type.");return e}function ee(e,n,t){(n=Z(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=V(t._dispatchListeners,n),t._dispatchInstances=V(t._dispatchInstances,e))}function ne(e){if(e&&e.dispatchConfig.registrationName){var n=e._targetInst;if(n&&e&&e.dispatchConfig.registrationName){var t=Z(n,e.dispatchConfig.registrationName);t&&(e._dispatchListeners=V(e._dispatchListeners,t),e._dispatchInstances=V(e._dispatchInstances,n))}}}function te(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var n=e._targetInst;K(n=n?J(n):null,ee,e)}}function re(e){e&&e.dispatchConfig.phasedRegistrationNames&&K(e._targetInst,ee,e)}var le={_getResponder:function(){return q},eventTypes:G,extractEvents:function(e,n,t,r){if(C(e))$+=1;else if("topTouchEnd"===e||"topTouchCancel"===e){if(!(0<=$))return null;--$}if(W.recordTouchTrack(e,t),n&&("topScroll"===e&&!t.responderIgnoreScroll||0<$&&"topSelectionChange"===e||C(e)||z(e))){var l=C(e)?G.startShouldSetResponder:z(e)?G.moveShouldSetResponder:"topSelectionChange"===e?G.selectionChangeShouldSetResponder:G.scrollShouldSetResponder;if(q)e:{for(var a=q,i=0,u=a;u;u=J(u))i++;u=0;for(var o=n;o;o=J(o))u++;for(;0<i-u;)a=J(a),i--;for(;0<u-i;)n=J(n),u--;for(;i--;){if(a===n||a===n.alternate)break e;a=J(a),n=J(n)}a=null}else a=n;a=(n=a)===q,(l=N.getPooled(l,n,t,r)).touchHistory=W.touchHistory,Y(l,a?te:re);e:{if(a=l._dispatchListeners,n=l._dispatchInstances,m(a)){for(i=0;i<a.length&&!l.isPropagationStopped();i++)if(a[i](l,n[i])){a=n[i];break e}}else if(a&&a(l,n)){a=n;break e}a=null}if(l._dispatchInstances=null,l._dispatchListeners=null,l.isPersistent()||l.constructor.release(l),a&&a!==q)if((l=N.getPooled(G.responderGrant,a,t,r)).touchHistory=W.touchHistory,Y(l,ne),n=!0===k(l),q)if((i=N.getPooled(G.responderTerminationRequest,q,t,r)).touchHistory=W.touchHistory,Y(i,ne),u=!i._dispatchListeners||k(i),i.isPersistent()||i.constructor.release(i),u){(i=N.getPooled(G.responderTerminate,q,t,r)).touchHistory=W.touchHistory,Y(i,ne);var s=O(s,[l,i]);X(a,n)}else(l=N.getPooled(G.responderReject,a,t,r)).touchHistory=W.touchHistory,Y(l,ne),s=O(s,l);else s=O(s,l),X(a,n);else s=null}else s=null;if(l=q&&C(e),a=q&&z(e),n=q&&("topTouchEnd"===e||"topTouchCancel"===e),(l=l?G.responderStart:a?G.responderMove:n?G.responderEnd:null)&&((l=N.getPooled(l,q,t,r)).touchHistory=W.touchHistory,Y(l,ne),s=O(s,l)),l=q&&"topTouchCancel"===e,e=q&&!l&&("topTouchEnd"===e||"topTouchCancel"===e))e:{if((e=t.touches)&&0!==e.length)for(a=0;a<e.length;a++)if(null!=(n=e[a].target)&&0!==n){i=b(n);n:{for(n=q;i;){if(n===i||n===i.alternate){n=!0;break n}i=J(i)}n=!1}if(n){e=!1;break e}}e=!0}return(e=l?G.responderTerminate:e?G.responderRelease:null)&&((t=N.getPooled(e,q,t,r)).touchHistory=W.touchHistory,Y(t,ne),s=O(s,t),X(null)),s},GlobalResponderHandler:null,injection:{injectGlobalResponderHandler:function(e){le.GlobalResponderHandler=e}}},ae=null,ie={};function ue(){if(ae)for(var e in ie){var n=ie[e],t=ae.indexOf(e);if(-1>=t)throw Error("EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `"+e+"`.");if(!se[t]){if(!n.extractEvents)throw Error("EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `"+e+"` does not.");for(var r in se[t]=n,t=n.eventTypes){var l=void 0,a=t[r],i=r;if(ce.hasOwnProperty(i))throw Error("EventPluginRegistry: More than one plugin attempted to publish the same event name, `"+i+"`.");ce[i]=a;var u=a.phasedRegistrationNames;if(u){for(l in u)u.hasOwnProperty(l)&&oe(u[l],n);l=!0}else a.registrationName?(oe(a.registrationName,n),l=!0):l=!1;if(!l)throw Error("EventPluginRegistry: Failed to publish event `"+r+"` for plugin `"+e+"`.")}}}}function oe(e,n){if(de[e])throw Error("EventPluginRegistry: More than one plugin attempted to publish the same registration name, `"+e+"`.");de[e]=n}var se=[],ce={},de={};function fe(e,t,r,l){var a=e.stateNode;if(null===a)return null;if(null===(e=v(a)))return null;if((e=e[t])&&"function"!=typeof e)throw Error("Expected `"+t+"` listener to be a function, instead got a value of `"+typeof e+"` type.");if(!(l&&a.canonical&&a.canonical._eventListeners))return e;var u=[];e&&u.push(e);var o="captured"===r,s=o?"rn:"+t.replace(/Capture$/,""):"rn:"+t;return a.canonical._eventListeners[s]&&0<a.canonical._eventListeners[s].length&&a.canonical._eventListeners[s].forEach(function(e){if((null!=e.options.capture&&e.options.capture)===o){e.options.once?u.push(function(){a.canonical.removeEventListener_unstable(s,e.listener,e.capture),e.invalidated||(e.invalidated=!0,e.listener.apply(e,arguments))}):u.push(function(t){var r=new(n(i[2]).CustomEvent)(s,{detail:t.nativeEvent});r.isTrusted=!0,r.setSyntheticEvent(t);for(var l=arguments.length,a=Array(1<l?l-1:0),u=1;u<l;u++)a[u-1]=arguments[u];e.listener.apply(e,[r].concat(a))})}}),0===u.length?null:1===u.length?u[0]:u}var pe=n(i[2]).ReactNativeViewConfigRegistry.customBubblingEventTypes,he=n(i[2]).ReactNativeViewConfigRegistry.customDirectEventTypes;function ge(e,n,t){var r=t?m(t)?t.length:1:0;if(0<r)if(n._dispatchListeners=V(n._dispatchListeners,t),null==n._dispatchInstances&&1===r)n._dispatchInstances=e;else for(n._dispatchInstances=n._dispatchInstances||[],m(n._dispatchInstances)||(n._dispatchInstances=[n._dispatchInstances]),t=0;t<r;t++)n._dispatchInstances.push(e)}function me(e,n,t){ge(e,t,n=fe(e,t.dispatchConfig.phasedRegistrationNames[n],n,!0))}function ve(e,n,t,r){for(var l=[];e;){l.push(e);do{e=e.return}while(e&&5!==e.tag);e=e||null}for(e=l.length;0<e--;)n(l[e],"captured",t);if(r)n(l[0],"bubbled",t);else for(e=0;e<l.length;e++)n(l[e],"bubbled",t)}function be(e){e&&e.dispatchConfig.phasedRegistrationNames&&ve(e._targetInst,me,e,!1)}function ye(e){if(e&&e.dispatchConfig.registrationName){var n=e._targetInst;if(n&&e&&e.dispatchConfig.registrationName)ge(n,e,fe(n,e.dispatchConfig.registrationName,"bubbled",!1))}}if(ae)throw Error("EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React.");ae=Array.prototype.slice.call(["ResponderEventPlugin","ReactNativeBridgeEventPlugin"]),ue();var Se,ke={ResponderEventPlugin:le,ReactNativeBridgeEventPlugin:{eventTypes:{},extractEvents:function(e,n,t,r){if(null==n)return null;var l=pe[e],a=he[e];if(!l&&!a)throw Error('Unsupported top level event type "'+e+'" dispatched');if(e=E.getPooled(l||a,n,t,r),l)null!=e&&null!=e.dispatchConfig.phasedRegistrationNames&&e.dispatchConfig.phasedRegistrationNames.skipBubbling?e&&e.dispatchConfig.phasedRegistrationNames&&ve(e._targetInst,me,e,!0):Y(e,be);else{if(!a)return null;Y(e,ye)}return e}}},we=!1;for(Se in ke)if(ke.hasOwnProperty(Se)){var xe=ke[Se];if(!ie.hasOwnProperty(Se)||ie[Se]!==xe){if(ie[Se])throw Error("EventPluginRegistry: Cannot inject two different event plugins using the same name, `"+Se+"`.");ie[Se]=xe,we=!0}}function _e(e){return e}we&&ue(),v=function(e){return e.canonical.currentProps},b=_e,y=function(e){if(!(e=e.stateNode.canonical)._nativeTag)throw Error("All native instances should have a tag.");return e},le.injection.injectGlobalResponderHandler({onChange:function(e,t,r){var l=e||t;(l=l&&l.stateNode)&&l.canonical._internalInstanceHandle?(e&&nativeFabricUIManager.setIsJSResponder(e.stateNode.node,!1,r||!1),t&&nativeFabricUIManager.setIsJSResponder(t.stateNode.node,!0,r||!1)):null!==t?n(i[2]).UIManager.setJSResponder(t.stateNode.canonical._nativeTag,r):n(i[2]).UIManager.clearJSResponder()}});var Ee=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pe=Symbol.for("react.element"),Re=Symbol.for("react.portal"),Te=Symbol.for("react.fragment"),Ne=Symbol.for("react.strict_mode"),Ce=Symbol.for("react.profiler"),ze=Symbol.for("react.provider"),Ie=Symbol.for("react.context"),Le=Symbol.for("react.forward_ref"),Ue=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),Fe=Symbol.for("react.memo"),De=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var Ae=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var je=Symbol.iterator;function He(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=je&&e[je]||e["@@iterator"])?e:null}function Qe(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Te:return"Fragment";case Re:return"Portal";case Ce:return"Profiler";case Ne:return"StrictMode";case Ue:return"Suspense";case Me:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Ie:return(e.displayName||"Context")+".Consumer";case ze:return(e._context.displayName||"Context")+".Provider";case Le:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Fe:return null!==(n=e.displayName||null)?n:Qe(e.type)||"Memo";case De:n=e._payload,e=e._init;try{return Qe(e(n))}catch(e){}}return null}function Be(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=n.render).displayName||e.name||"",n.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qe(n);case 8:return n===Ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n}return null}function We(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{0!=(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function Oe(e){if(We(e)!==e)throw Error("Unable to find node on an unmounted component.")}function Ve(e){var n=e.alternate;if(!n){if(null===(n=We(e)))throw Error("Unable to find node on an unmounted component.");return n!==e?null:e}for(var t=e,r=n;;){var l=t.return;if(null===l)break;var a=l.alternate;if(null===a){if(null!==(r=l.return)){t=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===t)return Oe(l),e;if(a===r)return Oe(l),n;a=a.sibling}throw Error("Unable to find node on an unmounted component.")}if(t.return!==r.return)t=l,r=a;else{for(var i=!1,u=l.child;u;){if(u===t){i=!0,t=l,r=a;break}if(u===r){i=!0,r=l,t=a;break}u=u.sibling}if(!i){for(u=a.child;u;){if(u===t){i=!0,t=a,r=l;break}if(u===r){i=!0,r=a,t=l;break}u=u.sibling}if(!i)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(t.alternate!==r)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==t.tag)throw Error("Unable to find node on an unmounted component.");return t.stateNode.current===t?e:n}function Ye(e){return null!==(e=Ve(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var n=qe(e);if(null!==n)return n;e=e.sibling}return null}function $e(e,n){return function(){if(n&&("boolean"!=typeof e.__isMounted||e.__isMounted))return n.apply(e,arguments)}}var Xe={},Ge=null,Je=0,Ke={unsafelyIgnoreFunctions:!0};function Ze(e,t){return"object"!=typeof t||null===t||n(i[2]).deepDiffer(e,t,Ke)}function en(e,n,t){if(m(n))for(var r=n.length;r--&&0<Je;)en(e,n[r],t);else if(n&&0<Je)for(r in Ge)if(Ge[r]){var l=n[r];if(void 0!==l){var a=t[r];a&&("function"==typeof l&&(l=!0),void 0===l&&(l=null),"object"!=typeof a?e[r]=l:"function"!=typeof a.diff&&"function"!=typeof a.process||(l="function"==typeof a.process?a.process(l):l,e[r]=l),Ge[r]=!1,Je--)}}}function nn(e,t,r,l){if(!e&&t===r)return e;if(!t||!r)return r?tn(e,r,l):t?rn(e,t,l):e;if(!m(t)&&!m(r))return ln(e,t,r,l);if(m(t)&&m(r)){var a,u=t.length<r.length?t.length:r.length;for(a=0;a<u;a++)e=nn(e,t[a],r[a],l);for(;a<t.length;a++)e=rn(e,t[a],l);for(;a<r.length;a++)e=tn(e,r[a],l);return e}return m(t)?ln(e,n(i[2]).flattenStyle(t),r,l):ln(e,t,n(i[2]).flattenStyle(r),l)}function tn(e,n,t){if(!n)return e;if(!m(n))return ln(e,Xe,n,t);for(var r=0;r<n.length;r++)e=tn(e,n[r],t);return e}function rn(e,n,t){if(!n)return e;if(!m(n))return ln(e,n,Xe,t);for(var r=0;r<n.length;r++)e=rn(e,n[r],t);return e}function ln(e,n,t,r){var l,a;for(a in t)if(l=r[a]){var i=n[a],u=t[a];"function"==typeof u&&(u=!0,"function"==typeof i&&(i=!0)),void 0===u&&(u=null,void 0===i&&(i=null)),Ge&&(Ge[a]=!1),e&&void 0!==e[a]?"object"!=typeof l?e[a]=u:"function"!=typeof l.diff&&"function"!=typeof l.process||(l="function"==typeof l.process?l.process(u):u,e[a]=l):i!==u&&("object"!=typeof l?Ze(i,u)&&((e||(e={}))[a]=u):"function"==typeof l.diff||"function"==typeof l.process?(void 0===i||("function"==typeof l.diff?l.diff(i,u):Ze(i,u)))&&(l="function"==typeof l.process?l.process(u):u,(e||(e={}))[a]=l):(Ge=null,Je=0,e=nn(e,i,u,l),0<Je&&e&&(en(e,u,l),Ge=null)))}for(var o in n)void 0===t[o]&&(!(l=r[o])||e&&void 0!==e[o]||void 0!==(i=n[o])&&("object"!=typeof l||"function"==typeof l.diff||"function"==typeof l.process?((e||(e={}))[o]=null,Ge||(Ge={}),Ge[o]||(Ge[o]=!0,Je++)):e=rn(e,i,l)));return e}function an(e,n){return e(n)}var un=!1;function on(e,n){if(un)return e(n);un=!0;try{return an(e,n)}finally{un=!1}}var sn=null;function cn(e){if(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(m(n))for(var r=0;r<n.length&&!e.isPropagationStopped();r++)S(e,n[r],t[r]);else n&&S(e,n,t);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var dn=null,fn=null;function pn(e){if(fn&&"function"==typeof fn.onCommitFiberRoot)try{fn.onCommitFiberRoot(dn,e,void 0,128==(128&e.current.flags))}catch(e){}}var hn=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(gn(e)/mn|0)|0},gn=Math.log,mn=Math.LN2;var vn=64,bn=4194304;function yn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sn(e,n){var t=e.pendingLanes;if(0===t)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,i=268435455&t;if(0!==i){var u=i&~l;0!==u?r=yn(u):0!==(a&=i)&&(r=yn(a))}else 0!==(i=t&~l)?r=yn(i):0!==a&&(r=yn(a));if(0===r)return 0;if(0!==n&&n!==r&&0==(n&l)&&((l=r&-r)>=(a=n&-n)||16===l&&0!=(4194240&a)))return n;if(0!=(4&r)&&(r|=16&t),0!==(n=e.entangledLanes))for(e=e.entanglements,n&=r;0<n;)l=1<<(t=31-hn(n)),r|=e[t],n&=~l;return r}function kn(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:default:return-1}}function wn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function xn(){var e=vn;return 0==(4194240&(vn<<=1))&&(vn=64),e}function _n(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function En(e,n,t){e.pendingLanes|=n,536870912!==n&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[n=31-hn(n)]=t}function Pn(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var l=31-hn(t),a=1<<l;n[l]=0,r[l]=-1,e[l]=-1,t&=~a}}function Rn(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-hn(t),l=1<<r;l&n|e[r]&n&&(e[r]|=n),t&=~l}}var Tn=0;function Nn(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}function Cn(){throw Error("The current renderer does not support hydration. This error is likely caused by a bug in React. Please file an issue.")}var zn=nativeFabricUIManager,In=zn.createNode,Ln=zn.cloneNode,Un=zn.cloneNodeWithNewChildren,Mn=zn.cloneNodeWithNewChildrenAndProps,Fn=zn.cloneNodeWithNewProps,Dn=zn.createChildSet,An=zn.appendChild,jn=zn.appendChildToSet,Hn=zn.completeRoot,Qn=zn.registerEventHandler,Bn=zn.measure,Wn=zn.measureInWindow,On=zn.measureLayout,Vn=zn.unstable_DiscreteEventPriority,Yn=zn.unstable_getCurrentEventPriority,qn=n(i[2]).ReactNativeViewConfigRegistry.get,$n=2;Qn&&Qn(function(e,t,r){var l=null;if(null!=e){var a=e.stateNode;null!=a&&(l=a.canonical)}on(function(){var a={eventName:t,nativeEvent:r};n(i[2]).RawEventEmitter.emit(t,a),n(i[2]).RawEventEmitter.emit("*",a),a=l;for(var u=null,o=se,s=0;s<o.length;s++){var c=o[s];c&&(c=c.extractEvents(t,e,r,a))&&(u=V(u,c))}if(null!==(a=u)&&(sn=V(sn,a)),a=sn,sn=null,a){if(Y(a,cn),sn)throw Error("processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.");if(d)throw a=f,d=!1,f=null,a}})});var Xn=(function(){function e(e,n,t,r){this._nativeTag=e,this.viewConfig=n,this.currentProps=t,this._internalInstanceHandle=r}var t=e.prototype;return t.blur=function(){n(i[2]).TextInputState.blurTextInput(this)},t.focus=function(){n(i[2]).TextInputState.focusTextInput(this)},t.measure=function(e){var n=this._internalInstanceHandle.stateNode;null!=n&&Bn(n.node,$e(this,e))},t.measureInWindow=function(e){var n=this._internalInstanceHandle.stateNode;null!=n&&Wn(n.node,$e(this,e))},t.measureLayout=function(n,t,r){if("number"!=typeof n&&n instanceof e){var l=this._internalInstanceHandle.stateNode;n=n._internalInstanceHandle.stateNode,null!=l&&null!=n&&On(l.node,n.node,$e(this,r),$e(this,t))}},t.setNativeProps=function(){},t.addEventListener_unstable=function(e,n,t){if("string"!=typeof e)throw Error("addEventListener_unstable eventType must be a string");if("function"!=typeof n)throw Error("addEventListener_unstable listener must be a function");var r="object"==typeof t&&null!==t?t:{};t=("boolean"==typeof t?t:r.capture)||!1;var l=r.once||!1;r=r.passive||!1;var a=this._eventListeners||{};null==this._eventListeners&&(this._eventListeners=a);var i=a[e]||[];null==a[e]&&(a[e]=i),i.push({listener:n,invalidated:!1,options:{capture:t,once:l,passive:r,signal:null}})},t.removeEventListener_unstable=function(e,n,t){var r="object"==typeof t&&null!==t?t:{},l=("boolean"==typeof t?t:r.capture)||!1;(t=this._eventListeners)&&(r=t[e])&&(t[e]=r.filter(function(e){return!(e.listener===n&&e.options.capture===l)}))},e})();function Gn(e,n,t,r){return t=$n,$n+=2,{node:In(t,"RCTRawText",n,{text:e},r)}}var Jn=setTimeout,Kn=clearTimeout;function Zn(e){var n=e.node,t=ln(null,Xe,{style:{display:"none"}},e.canonical.viewConfig.validAttributes);return{node:Fn(n,t),canonical:e.canonical}}function et(e,n,t){return n="",t&&(n=" (created by "+t+")"),"\n    in "+(e||"Unknown")+n}function nt(e,n){return e?et(e.displayName||e.name||null,n,null):""}var tt=Object.prototype.hasOwnProperty,rt=[],lt=-1;function at(e){return{current:e}}function it(e){0>lt||(e.current=rt[lt],rt[lt]=null,lt--)}function ut(e,n){rt[++lt]=e.current,e.current=n}var ot={},st=at(ot),ct=at(!1),dt=ot;function ft(e,n){var t=e.type.contextTypes;if(!t)return ot;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var l,a={};for(l in t)a[l]=n[l];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function pt(e){return null!=(e=e.childContextTypes)}function ht(){it(ct),it(st)}function gt(e,n,t){if(st.current!==ot)throw Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");ut(st,n),ut(ct,t)}function mt(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,"function"!=typeof r.getChildContext)return t;for(var l in r=r.getChildContext())if(!(l in n))throw Error((Be(e)||"Unknown")+'.getChildContext(): key "'+l+'" is not defined in childContextTypes.');return w({},t,r)}function vt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ot,dt=st.current,ut(st,e),ut(ct,ct.current),!0}function bt(e,n,t){var r=e.stateNode;if(!r)throw Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");t?(e=mt(e,n,dt),r.__reactInternalMemoizedMergedChildContext=e,it(ct),it(st),ut(st,e)):it(ct),ut(ct,t)}var yt="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},St=null,kt=!1,wt=!1;function xt(){if(!wt&&null!==St){wt=!0;var e=0,t=Tn;try{var r=St;for(Tn=1;e<r.length;e++){var l=r[e];do{l=l(!0)}while(null!==l)}St=null,kt=!1}catch(t){throw null!==St&&(St=St.slice(e+1)),n(i[3]).unstable_scheduleCallback(n(i[3]).unstable_ImmediatePriority,xt),t}finally{Tn=t,wt=!1}}return null}var _t=[],Et=0,Pt=null,Rt=[],Tt=0,Nt=null;function Ct(e){for(;e===Pt;)Pt=_t[--Et],_t[Et]=null,_t[--Et]=null;for(;e===Nt;)Nt=Rt[--Tt],Rt[Tt]=null,Rt[--Tt]=null,Rt[--Tt]=null}var zt=null,It=Ee.ReactCurrentBatchConfig;function Lt(e,n){if(yt(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var l=t[r];if(!tt.call(n,l)||!yt(e[l],n[l]))return!1}return!0}function Ut(e){switch(e.tag){case 5:return et(e.type,null,null);case 16:return et("Lazy",null,null);case 13:return et("Suspense",null,null);case 19:return et("SuspenseList",null,null);case 0:case 2:case 15:return nt(e.type,null);case 11:return nt(e.type.render,null);case 1:return e=nt(e.type,null);default:return""}}function Mt(e,n){if(e&&e.defaultProps){for(var t in n=w({},n),e=e.defaultProps)void 0===n[t]&&(n[t]=e[t]);return n}return n}var Ft=at(null),Dt=null,At=null,jt=null;function Ht(){jt=At=Dt=null}function Qt(e){var n=Ft.current;it(Ft),e._currentValue2=n}function Bt(e,n,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==r&&(r.childLanes|=n)):null!==r&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function Wt(e,n){Dt=e,jt=At=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&n)&&(Cl=!0),e.firstContext=null)}function Ot(e){var n=e._currentValue2;if(jt!==e)if(e={context:e,memoizedValue:n,next:null},null===At){if(null===Dt)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");At=e,Dt.dependencies={lanes:0,firstContext:e}}else At=At.next=e;return n}var Vt=null,Yt=!1;function qt(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $t(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xt(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Gt(e,n){var t=e.updateQueue;null!==t&&(t=t.shared,ii(e)?(null===(e=t.interleaved)?(n.next=n,null===Vt?Vt=[t]:Vt.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n))}function Jt(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,0!=(4194240&t))){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,Rn(e,t)}}function Kt(e,n){var t=e.updateQueue,r=e.alternate;if(null!==r&&t===(r=r.updateQueue)){var l=null,a=null;if(null!==(t=t.firstBaseUpdate)){do{var i={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};null===a?l=a=i:a=a.next=i,t=t.next}while(null!==t);null===a?l=a=n:a=a.next=n}else l=a=n;return t={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function Zt(e,n,t,r){var l=e.updateQueue;Yt=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,u=l.shared.pending;if(null!==u){l.shared.pending=null;var o=u,s=o.next;o.next=null,null===i?a=s:i.next=s,i=o;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===u?c.firstBaseUpdate=s:u.next=s,c.lastBaseUpdate=o))}if(null!==a){var d=l.baseState;for(i=0,c=s=o=null,u=a;;){var f=u.lane,p=u.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:p,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var h=e,g=u;switch(f=n,p=t,g.tag){case 1:if("function"==typeof(h=g.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(f="function"==typeof(h=g.payload)?h.call(p,d,f):h))break e;d=w({},d,f);break e;case 2:Yt=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(f=l.effects)?l.effects=[u]:f.push(u))}else p={eventTime:p,lane:f,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(s=c=p,o=d):c=c.next=p,i|=f;if(null===(u=u.next)){if(null===(u=l.shared.pending))break;u=(f=u).next,f.next=null,l.lastBaseUpdate=f,l.shared.pending=null}}if(null===c&&(o=d),l.baseState=o,l.firstBaseUpdate=s,l.lastBaseUpdate=c,null!==(n=l.shared.interleaved)){l=n;do{i|=l.lane,l=l.next}while(l!==n)}else null===a&&(l.shared.lanes=0);Aa|=i,e.lanes=i,e.memoizedState=d}}function er(e,n,t){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var r=e[n],l=r.callback;if(null!==l){if(r.callback=null,"function"!=typeof l)throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+l);l.call(t)}}}var nr=(new u.Component).refs;function tr(e,n,t,r){t=null==(t=t(r,n=e.memoizedState))?n:w({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}var rr={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=ti(),l=ri(e),a=Xt(r,l);a.payload=n,null!=t&&(a.callback=t),Gt(e,a),null!==(n=li(e,l,r))&&Jt(n,e,l)},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=ti(),l=ri(e),a=Xt(r,l);a.tag=1,a.payload=n,null!=t&&(a.callback=t),Gt(e,a),null!==(n=li(e,l,r))&&Jt(n,e,l)},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=ti(),r=ri(e),l=Xt(t,r);l.tag=2,null!=n&&(l.callback=n),Gt(e,l),null!==(n=li(e,r,t))&&Jt(n,e,r)}};function lr(e,n,t,r,l,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!n.prototype||!n.prototype.isPureReactComponent||(!Lt(t,r)||!Lt(l,a))}function ar(e,n,t){var r=!1,l=ot,a=n.contextType;return"object"==typeof a&&null!==a?a=Ot(a):(l=pt(n)?dt:st.current,a=(r=null!=(r=n.contextTypes))?ft(e,l):ot),n=new n(t,a),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=rr,e.stateNode=n,n._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),n}function ir(e,n,t,r){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&rr.enqueueReplaceState(n,n.state,null)}function ur(e,n,t,r){var l=e.stateNode;l.props=t,l.state=e.memoizedState,l.refs=nr,qt(e);var a=n.contextType;"object"==typeof a&&null!==a?l.context=Ot(a):(a=pt(n)?dt:st.current,l.context=ft(e,a)),l.state=e.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(tr(e,n,a,t),l.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof l.getSnapshotBeforeUpdate||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||(n=l.state,"function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),n!==l.state&&rr.enqueueReplaceState(l,l.state,null),Zt(e,t,l,r),l.state=e.memoizedState),"function"==typeof l.componentDidMount&&(e.flags|=4)}function or(e,n,t){if(null!==(e=t.ref)&&"function"!=typeof e&&"object"!=typeof e){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");var r=t.stateNode}if(!r)throw Error("Missing owner for string ref "+e+". This error is likely caused by a bug in React. Please file an issue.");var l=r,a=""+e;return null!==n&&null!==n.ref&&"function"==typeof n.ref&&n.ref._stringRef===a?n.ref:((n=function(e){var n=l.refs;n===nr&&(n=l.refs={}),null===e?delete n[a]:n[a]=e})._stringRef=a,n)}if("string"!=typeof e)throw Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!t._owner)throw Error("Element ref was specified as a string ("+e+") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://reactjs.org/link/refs-must-have-owner for more information.")}return e}function sr(e,n){throw e=Object.prototype.toString.call(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}function cr(e){return(0,e._init)(e._payload)}function dr(e){function n(n,t){if(e){var r=n.deletions;null===r?(n.deletions=[t],n.flags|=16):r.push(t)}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function l(e,n){return(e=Ai(e,n)).index=0,e.sibling=null,e}function a(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.flags|=2,t):r:(n.flags|=2,t):(n.flags|=1048576,t)}function i(n){return e&&null===n.alternate&&(n.flags|=2),n}function u(e,n,t,r){return null===n||6!==n.tag?((n=Bi(t,e.mode,r)).return=e,n):((n=l(n,t)).return=e,n)}function o(e,n,t,r){var a=t.type;return a===Te?c(e,n,t.props.children,r,t.key):null!==n&&(n.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===De&&cr(a)===n.type)?((r=l(n,t.props)).ref=or(e,n,t),r.return=e,r):((r=ji(t.type,t.key,t.props,null,e.mode,r)).ref=or(e,n,t),r.return=e,r)}function s(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=Wi(t,e.mode,r)).return=e,n):((n=l(n,t.children||[])).return=e,n)}function c(e,n,t,r,a){return null===n||7!==n.tag?((n=Hi(t,e.mode,r,a)).return=e,n):((n=l(n,t)).return=e,n)}function d(e,n,t){if("string"==typeof n&&""!==n||"number"==typeof n)return(n=Bi(""+n,e.mode,t)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case Pe:return(t=ji(n.type,n.key,n.props,null,e.mode,t)).ref=or(e,null,n),t.return=e,t;case Re:return(n=Wi(n,e.mode,t)).return=e,n;case De:return d(e,(0,n._init)(n._payload),t)}if(m(n)||He(n))return(n=Hi(n,e.mode,t,null)).return=e,n;sr(e,n)}return null}function f(e,n,t,r){var l=null!==n?n.key:null;if("string"==typeof t&&""!==t||"number"==typeof t)return null!==l?null:u(e,n,""+t,r);if("object"==typeof t&&null!==t){switch(t.$$typeof){case Pe:return t.key===l?o(e,n,t,r):null;case Re:return t.key===l?s(e,n,t,r):null;case De:return f(e,n,(l=t._init)(t._payload),r)}if(m(t)||He(t))return null!==l?null:c(e,n,t,r,null);sr(e,t)}return null}function p(e,n,t,r,l){if("string"==typeof r&&""!==r||"number"==typeof r)return u(n,e=e.get(t)||null,""+r,l);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Pe:return o(n,e=e.get(null===r.key?t:r.key)||null,r,l);case Re:return s(n,e=e.get(null===r.key?t:r.key)||null,r,l);case De:return p(e,n,t,(0,r._init)(r._payload),l)}if(m(r)||He(r))return c(n,e=e.get(t)||null,r,l,null);sr(n,r)}return null}function h(l,i,u,o){for(var s=null,c=null,h=i,g=i=0,m=null;null!==h&&g<u.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(l,h,u[g],o);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&n(l,h),i=a(v,i,g),null===c?s=v:c.sibling=v,c=v,h=m}if(g===u.length)return t(l,h),s;if(null===h){for(;g<u.length;g++)null!==(h=d(l,u[g],o))&&(i=a(h,i,g),null===c?s=h:c.sibling=h,c=h);return s}for(h=r(l,h);g<u.length;g++)null!==(m=p(h,l,g,u[g],o))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),i=a(m,i,g),null===c?s=m:c.sibling=m,c=m);return e&&h.forEach(function(e){return n(l,e)}),s}function g(l,i,u,o){var s=He(u);if("function"!=typeof s)throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");if(null==(u=s.call(u)))throw Error("An iterable object provided no iterator.");for(var c=s=null,h=i,g=i=0,m=null,v=u.next();null!==h&&!v.done;g++,v=u.next()){h.index>g?(m=h,h=null):m=h.sibling;var b=f(l,h,v.value,o);if(null===b){null===h&&(h=m);break}e&&h&&null===b.alternate&&n(l,h),i=a(b,i,g),null===c?s=b:c.sibling=b,c=b,h=m}if(v.done)return t(l,h),s;if(null===h){for(;!v.done;g++,v=u.next())null!==(v=d(l,v.value,o))&&(i=a(v,i,g),null===c?s=v:c.sibling=v,c=v);return s}for(h=r(l,h);!v.done;g++,v=u.next())null!==(v=p(h,l,g,v.value,o))&&(e&&null!==v.alternate&&h.delete(null===v.key?g:v.key),i=a(v,i,g),null===c?s=v:c.sibling=v,c=v);return e&&h.forEach(function(e){return n(l,e)}),s}return function e(r,a,u,o){if("object"==typeof u&&null!==u&&u.type===Te&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case Pe:e:{for(var s=u.key,c=a;null!==c;){if(c.key===s){if((s=u.type)===Te){if(7===c.tag){t(r,c.sibling),(a=l(c,u.props.children)).return=r,r=a;break e}}else if(c.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===De&&cr(s)===c.type){t(r,c.sibling),(a=l(c,u.props)).ref=or(r,c,u),a.return=r,r=a;break e}t(r,c);break}n(r,c),c=c.sibling}u.type===Te?((a=Hi(u.props.children,r.mode,o,u.key)).return=r,r=a):((o=ji(u.type,u.key,u.props,null,r.mode,o)).ref=or(r,a,u),o.return=r,r=o)}return i(r);case Re:e:{for(c=u.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===u.containerInfo&&a.stateNode.implementation===u.implementation){t(r,a.sibling),(a=l(a,u.children||[])).return=r,r=a;break e}t(r,a);break}n(r,a),a=a.sibling}(a=Wi(u,r.mode,o)).return=r,r=a}return i(r);case De:return e(r,a,(c=u._init)(u._payload),o)}if(m(u))return h(r,a,u,o);if(He(u))return g(r,a,u,o);sr(r,u)}return"string"==typeof u&&""!==u||"number"==typeof u?(u=""+u,null!==a&&6===a.tag?(t(r,a.sibling),(a=l(a,u)).return=r,r=a):(t(r,a),(a=Bi(u,r.mode,o)).return=r,r=a),i(r)):t(r,a)}}var fr=dr(!0),pr=dr(!1),hr={},gr=at(hr),mr=at(hr),vr=at(hr);function br(e){if(e===hr)throw Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return e}function yr(e,n){ut(vr,n),ut(mr,e),ut(gr,hr),it(gr),ut(gr,{isInAParentText:!1})}function Sr(){it(gr),it(mr),it(vr)}function kr(e){br(vr.current);var n=br(gr.current),t=e.type;t="AndroidTextInput"===t||"RCTMultilineTextInputView"===t||"RCTSinglelineTextInputView"===t||"RCTText"===t||"RCTVirtualText"===t,n!==(t=n.isInAParentText!==t?{isInAParentText:t}:n)&&(ut(mr,e),ut(gr,t))}function wr(e){mr.current===e&&(it(gr),it(mr))}var xr=at(0);function _r(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===t.dehydrated||Cn()||Cn()))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!=(128&n.flags))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Er=[];function Pr(){for(var e=0;e<Er.length;e++)Er[e]._workInProgressVersionSecondary=null;Er.length=0}var Rr=Ee.ReactCurrentDispatcher,Tr=Ee.ReactCurrentBatchConfig,Nr=0,Cr=null,zr=null,Ir=null,Lr=!1,Ur=!1,Mr=0;function Fr(){throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.")}function Dr(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!yt(e[t],n[t]))return!1;return!0}function Ar(e,n,t,r,l,a){if(Nr=a,Cr=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Rr.current=null===e||null===e.memoizedState?Sl:kl,e=t(r,l),Ur){a=0;do{if(Ur=!1,25<=a)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");a+=1,Ir=zr=null,n.updateQueue=null,Rr.current=wl,e=t(r,l)}while(Ur)}if(Rr.current=yl,n=null!==zr&&null!==zr.next,Nr=0,Ir=zr=Cr=null,Lr=!1,n)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return e}function jr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ir?Cr.memoizedState=Ir=e:Ir=Ir.next=e,Ir}function Hr(){if(null===zr){var e=Cr.alternate;e=null!==e?e.memoizedState:null}else e=zr.next;var n=null===Ir?Cr.memoizedState:Ir.next;if(null!==n)Ir=n,zr=e;else{if(null===e)throw Error("Rendered more hooks than during the previous render.");e={memoizedState:(zr=e).memoizedState,baseState:zr.baseState,baseQueue:zr.baseQueue,queue:zr.queue,next:null},null===Ir?Cr.memoizedState=Ir=e:Ir=Ir.next=e}return Ir}function Qr(e,n){return"function"==typeof n?n(e):n}function Br(e){var n=Hr(),t=n.queue;if(null===t)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");t.lastRenderedReducer=e;var r=zr,l=r.baseQueue,a=t.pending;if(null!==a){if(null!==l){var i=l.next;l.next=a.next,a.next=i}r.baseQueue=l=a,t.pending=null}if(null!==l){a=l.next,r=r.baseState;var u=i=null,o=null,s=a;do{var c=s.lane;if((Nr&c)===c)null!==o&&(o=o.next={lane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),r=s.hasEagerState?s.eagerState:e(r,s.action);else{var d={lane:c,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null};null===o?(u=o=d,i=r):o=o.next=d,Cr.lanes|=c,Aa|=c}s=s.next}while(null!==s&&s!==a);null===o?i=r:o.next=u,yt(r,n.memoizedState)||(Cl=!0),n.memoizedState=r,n.baseState=i,n.baseQueue=o,t.lastRenderedState=r}if(null!==(e=t.interleaved)){l=e;do{a=l.lane,Cr.lanes|=a,Aa|=a,l=l.next}while(l!==e)}else null===l&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function Wr(e){var n=Hr(),t=n.queue;if(null===t)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");t.lastRenderedReducer=e;var r=t.dispatch,l=t.pending,a=n.memoizedState;if(null!==l){t.pending=null;var i=l=l.next;do{a=e(a,i.action),i=i.next}while(i!==l);yt(a,n.memoizedState)||(Cl=!0),n.memoizedState=a,null===n.baseQueue&&(n.baseState=a),t.lastRenderedState=a}return[a,r]}function Or(){}function Vr(e,n){var t=Cr,r=Hr(),l=n(),a=!yt(r.memoizedState,l);if(a&&(r.memoizedState=l,Cl=!0),r=r.queue,tl($r.bind(null,t,r,e),[e]),r.getSnapshot!==n||a||null!==Ir&&1&Ir.memoizedState.tag){if(t.flags|=2048,Jr(9,qr.bind(null,t,r,l,n),void 0,null),null===za)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");0!=(30&Nr)||Yr(t,n,l)}return l}function Yr(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=Cr.updateQueue)?(n={lastEffect:null,stores:null},Cr.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function qr(e,n,t,r){n.value=t,n.getSnapshot=r,Xr(n)&&li(e,1,-1)}function $r(e,n,t){return t(function(){Xr(n)&&li(e,1,-1)})}function Xr(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!yt(e,t)}catch(e){return!0}}function Gr(e){var n=jr();return"function"==typeof e&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:e},n.queue=e,e=e.dispatch=hl.bind(null,Cr,e),[n.memoizedState,e]}function Jr(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},null===(n=Cr.updateQueue)?(n={lastEffect:null,stores:null},Cr.updateQueue=n,n.lastEffect=e.next=e):null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function Kr(){return Hr().memoizedState}function Zr(e,n,t,r){var l=jr();Cr.flags|=e,l.memoizedState=Jr(1|n,t,void 0,void 0===r?null:r)}function el(e,n,t,r){var l=Hr();r=void 0===r?null:r;var a=void 0;if(null!==zr){var i=zr.memoizedState;if(a=i.destroy,null!==r&&Dr(r,i.deps))return void(l.memoizedState=Jr(n,t,a,r))}Cr.flags|=e,l.memoizedState=Jr(1|n,t,a,r)}function nl(e,n){return Zr(8390656,8,e,n)}function tl(e,n){return el(2048,8,e,n)}function rl(e,n){return el(4,2,e,n)}function ll(e,n){return el(4,4,e,n)}function al(e,n){return"function"==typeof n?(e=e(),n(e),function(){n(null)}):null!=n?(e=e(),n.current=e,function(){n.current=null}):void 0}function il(e,n,t){return t=null!=t?t.concat([e]):null,el(4,4,al.bind(null,n,e),t)}function ul(){}function ol(e,n){var t=Hr();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Dr(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function sl(e,n){var t=Hr();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Dr(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function cl(e,n,t){return 0==(21&Nr)?(e.baseState&&(e.baseState=!1,Cl=!0),e.memoizedState=t):(yt(t,n)||(t=xn(),Cr.lanes|=t,Aa|=t,e.baseState=!0),n)}function dl(e,n){var t=Tn;Tn=0!==t&&4>t?t:4,e(!0);var r=Tr.transition;Tr.transition={};try{e(!1),n()}finally{Tn=t,Tr.transition=r}}function fl(){return Hr().memoizedState}function pl(e,n,t){var r=ri(e);t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},gl(e)?ml(n,t):(vl(e,n,t),null!==(e=li(e,r,t=ti()))&&bl(e,n,r))}function hl(e,n,t){var r=ri(e),l={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(gl(e))ml(n,l);else{vl(e,n,l);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=n.lastRenderedReducer))try{var i=n.lastRenderedState,u=a(i,t);if(l.hasEagerState=!0,l.eagerState=u,yt(u,i))return}catch(e){}null!==(e=li(e,r,t=ti()))&&bl(e,n,r)}}function gl(e){var n=e.alternate;return e===Cr||null!==n&&n===Cr}function ml(e,n){Ur=Lr=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function vl(e,n,t){ii(e)?(null===(e=n.interleaved)?(t.next=t,null===Vt?Vt=[n]:Vt.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t)}function bl(e,n,t){if(0!=(4194240&t)){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,Rn(e,t)}}var yl={readContext:Ot,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useInsertionEffect:Fr,useLayoutEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useMutableSource:Fr,useSyncExternalStore:Fr,useId:Fr,unstable_isNewReconciler:!1},Sl={readContext:Ot,useCallback:function(e,n){return jr().memoizedState=[e,void 0===n?null:n],e},useContext:Ot,useEffect:nl,useImperativeHandle:function(e,n,t){return t=null!=t?t.concat([e]):null,Zr(4,4,al.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Zr(4,4,e,n)},useInsertionEffect:function(e,n){return Zr(4,2,e,n)},useMemo:function(e,n){var t=jr();return n=void 0===n?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=jr();return n=void 0!==t?t(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=pl.bind(null,Cr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},jr().memoizedState=e},useState:Gr,useDebugValue:ul,useDeferredValue:function(e){return jr().memoizedState=e},useTransition:function(){var e=Gr(!1),n=e[0];return e=dl.bind(null,e[1]),jr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n){var t=Cr,r=jr(),l=n();if(null===za)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");0!=(30&Nr)||Yr(t,n,l),r.memoizedState=l;var a={value:l,getSnapshot:n};return r.queue=a,nl($r.bind(null,t,a,e),[e]),t.flags|=2048,Jr(9,qr.bind(null,t,a,l,n),void 0,null),l},useId:function(){var e=jr(),n=za.identifierPrefix;return n=":"+n+"r"+(Mr++).toString(32)+":",e.memoizedState=n},unstable_isNewReconciler:!1},kl={readContext:Ot,useCallback:ol,useContext:Ot,useEffect:tl,useImperativeHandle:il,useInsertionEffect:rl,useLayoutEffect:ll,useMemo:sl,useReducer:Br,useRef:Kr,useState:function(){return Br(Qr)},useDebugValue:ul,useDeferredValue:function(e){return cl(Hr(),zr.memoizedState,e)},useTransition:function(){return[Br(Qr)[0],Hr().memoizedState]},useMutableSource:Or,useSyncExternalStore:Vr,useId:fl,unstable_isNewReconciler:!1},wl={readContext:Ot,useCallback:ol,useContext:Ot,useEffect:tl,useImperativeHandle:il,useInsertionEffect:rl,useLayoutEffect:ll,useMemo:sl,useReducer:Wr,useRef:Kr,useState:function(){return Wr(Qr)},useDebugValue:ul,useDeferredValue:function(e){var n=Hr();return null===zr?n.memoizedState=e:cl(n,zr.memoizedState,e)},useTransition:function(){return[Wr(Qr)[0],Hr().memoizedState]},useMutableSource:Or,useSyncExternalStore:Vr,useId:fl,unstable_isNewReconciler:!1};function xl(e,n){try{var t="",r=n;do{t+=Ut(r),r=r.return}while(r);var l=t}catch(e){l="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:n,stack:l}}if("function"!=typeof n(i[2]).ReactFiberErrorDialog.showErrorDialog)throw Error("Expected ReactFiberErrorDialog.showErrorDialog to be a function.");function _l(e,t){try{!1!==n(i[2]).ReactFiberErrorDialog.showErrorDialog({componentStack:null!==t.stack?t.stack:"",error:t.value,errorBoundary:null!==e&&1===e.tag?e.stateNode:null})&&console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var El="function"==typeof WeakMap?WeakMap:Map;function Pl(e,n,t){(t=Xt(-1,t)).tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){Ya||(Ya=!0,qa=r),_l(e,n)},t}function Rl(e,n,t){(t=Xt(-1,t)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var l=n.value;t.payload=function(){return r(l)},t.callback=function(){_l(e,n)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(t.callback=function(){_l(e,n),"function"!=typeof r&&(null===$a?$a=new Set([this]):$a.add(this));var t=n.stack;this.componentDidCatch(n.value,{componentStack:null!==t?t:""})}),t}function Tl(e,n,t){var r=e.pingCache;if(null===r){r=e.pingCache=new El;var l=new Set;r.set(n,l)}else void 0===(l=r.get(n))&&(l=new Set,r.set(n,l));l.has(t)||(l.add(t),e=Ni.bind(null,e,n,t),n.then(e,e))}var Nl=Ee.ReactCurrentOwner,Cl=!1;function zl(e,n,t,r){n.child=null===e?pr(n,null,t,r):fr(n,e.child,t,r)}function Il(e,n,t,r,l){t=t.render;var a=n.ref;return Wt(n,l),r=Ar(e,n,t,r,a,l),null===e||Cl?(n.flags|=1,zl(e,n,r,l),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l,na(e,n,l))}function Ll(e,n,t,r,l){if(null===e){var a=t.type;return"function"!=typeof a||Fi(a)||void 0!==a.defaultProps||null!==t.compare||void 0!==t.defaultProps?((e=ji(t.type,null,r,n,n.mode,l)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=a,Ul(e,n,a,r,l))}if(a=e.child,0==(e.lanes&l)){var i=a.memoizedProps;if((t=null!==(t=t.compare)?t:Lt)(i,r)&&e.ref===n.ref)return na(e,n,l)}return n.flags|=1,(e=Ai(a,r)).ref=n.ref,e.return=n,n.child=e}function Ul(e,n,t,r,l){if(null!==e){var a=e.memoizedProps;if(Lt(a,r)&&e.ref===n.ref){if(Cl=!1,n.pendingProps=r=a,0==(e.lanes&l))return n.lanes=e.lanes,na(e,n,l);0!=(131072&e.flags)&&(Cl=!0)}}return Dl(e,n,t,r,l)}function Ml(e,n,t){var r=n.pendingProps,l=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&n.mode))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(Ma,Ua),Ua|=t;else{if(0==(1073741824&t))return e=null!==a?a.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ut(Ma,Ua),Ua|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:t,ut(Ma,Ua),Ua|=r}else null!==a?(r=a.baseLanes|t,n.memoizedState=null):r=t,ut(Ma,Ua),Ua|=r;return zl(e,n,l,t),n.child}function Fl(e,n){var t=n.ref;(null===e&&null!==t||null!==e&&e.ref!==t)&&(n.flags|=512)}function Dl(e,n,t,r,l){var a=pt(t)?dt:st.current;return a=ft(n,a),Wt(n,l),t=Ar(e,n,t,r,a,l),null===e||Cl?(n.flags|=1,zl(e,n,t,l),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l,na(e,n,l))}function Al(e,n,t,r,l){if(pt(t)){var a=!0;vt(n)}else a=!1;if(Wt(n,l),null===n.stateNode)ea(e,n),ar(n,t,r),ur(n,t,r,l),r=!0;else if(null===e){var i=n.stateNode,u=n.memoizedProps;i.props=u;var o=i.context,s=t.contextType;"object"==typeof s&&null!==s?s=Ot(s):s=ft(n,s=pt(t)?dt:st.current);var c=t.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(u!==r||o!==s)&&ir(n,i,r,s),Yt=!1;var f=n.memoizedState;i.state=f,Zt(n,r,i,l),o=n.memoizedState,u!==r||f!==o||ct.current||Yt?("function"==typeof c&&(tr(n,t,c,r),o=n.memoizedState),(u=Yt||lr(n,t,u,r,f,o,s))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(n.flags|=4)):("function"==typeof i.componentDidMount&&(n.flags|=4),n.memoizedProps=r,n.memoizedState=o),i.props=r,i.state=o,i.context=s,r=u):("function"==typeof i.componentDidMount&&(n.flags|=4),r=!1)}else{i=n.stateNode,$t(e,n),u=n.memoizedProps,s=n.type===n.elementType?u:Mt(n.type,u),i.props=s,d=n.pendingProps,f=i.context,"object"==typeof(o=t.contextType)&&null!==o?o=Ot(o):o=ft(n,o=pt(t)?dt:st.current);var p=t.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(u!==d||f!==o)&&ir(n,i,r,o),Yt=!1,f=n.memoizedState,i.state=f,Zt(n,r,i,l);var h=n.memoizedState;u!==d||f!==h||ct.current||Yt?("function"==typeof p&&(tr(n,t,p,r),h=n.memoizedState),(s=Yt||lr(n,t,s,r,f,h,o)||!1)?(c||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,o),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,o)),"function"==typeof i.componentDidUpdate&&(n.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!=typeof i.componentDidUpdate||u===e.memoizedProps&&f===e.memoizedState||(n.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||u===e.memoizedProps&&f===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=h),i.props=r,i.state=h,i.context=o,r=s):("function"!=typeof i.componentDidUpdate||u===e.memoizedProps&&f===e.memoizedState||(n.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||u===e.memoizedProps&&f===e.memoizedState||(n.flags|=1024),r=!1)}return jl(e,n,t,r,a,l)}function jl(e,n,t,r,l,a){Fl(e,n);var i=0!=(128&n.flags);if(!r&&!i)return l&&bt(n,t,!1),na(e,n,a);r=n.stateNode,Nl.current=n;var u=i&&"function"!=typeof t.getDerivedStateFromError?null:r.render();return n.flags|=1,null!==e&&i?(n.child=fr(n,e.child,null,a),n.child=fr(n,null,u,a)):zl(e,n,u,a),n.memoizedState=r.state,l&&bt(n,t,!0),n.child}function Hl(e){var n=e.stateNode;n.pendingContext?gt(0,n.pendingContext,n.pendingContext!==n.context):n.context&&gt(0,n.context,!1),yr(e,n.containerInfo)}var Ql,Bl,Wl,Ol,Vl={dehydrated:null,treeContext:null,retryLane:0};function Yl(e){return{baseLanes:e,cachePool:null,transitions:null}}function ql(e,n,t){var r,l=n.pendingProps,a=xr.current,i=!1,u=0!=(128&n.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(i=!0,n.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ut(xr,1&a),null===e)return null!==(e=n.memoizedState)&&null!==e.dehydrated?(0==(1&n.mode)?n.lanes=1:Cn()?n.lanes=8:n.lanes=1073741824,null):(u=l.children,e=l.fallback,i?(l=n.mode,i=n.child,u={mode:"hidden",children:u},0==(1&l)&&null!==i?(i.childLanes=0,i.pendingProps=u):i=Qi(u,l,0,null),e=Hi(e,l,t,null),i.return=n,e.return=n,i.sibling=e,n.child=i,n.child.memoizedState=Yl(t),n.memoizedState=Vl,e):$l(n,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return Gl(e,n,u,l,r,a,t);if(i){i=l.fallback,u=n.mode,r=(a=e.child).sibling;var o={mode:"hidden",children:l.children};return 0==(1&u)&&n.child!==a?((l=n.child).childLanes=0,l.pendingProps=o,n.deletions=null):(l=Ai(a,o)).subtreeFlags=14680064&a.subtreeFlags,null!==r?i=Ai(r,i):(i=Hi(i,u,t,null)).flags|=2,i.return=n,l.return=n,l.sibling=i,n.child=l,l=i,i=n.child,u=null===(u=e.child.memoizedState)?Yl(t):{baseLanes:u.baseLanes|t,cachePool:null,transitions:u.transitions},i.memoizedState=u,i.childLanes=e.childLanes&~t,n.memoizedState=Vl,l}return e=(i=e.child).sibling,l=Ai(i,{mode:"visible",children:l.children}),0==(1&n.mode)&&(l.lanes=t),l.return=n,l.sibling=null,null!==e&&(null===(t=n.deletions)?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=l,n.memoizedState=null,l}function $l(e,n){return(n=Qi({mode:"visible",children:n},e.mode,0,null)).return=e,e.child=n}function Xl(e,n,t,r){return null!==r&&(null===zt?zt=[r]:zt.push(r)),fr(n,e.child,null,t),(e=$l(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function Gl(e,n,t,r,l,a,i){if(t)return 256&n.flags?(n.flags&=-257,Xl(e,n,i,Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."))):null!==n.memoizedState?(n.child=e.child,n.flags|=128,null):(a=r.fallback,t=n.mode,r=Qi({mode:"visible",children:r.children},t,0,null),(a=Hi(a,t,i,null)).flags|=2,r.return=n,a.return=n,r.sibling=a,n.child=r,0!=(1&n.mode)&&fr(n,e.child,null,i),n.child.memoizedState=Yl(i),n.memoizedState=Vl,a);if(0==(1&n.mode))return Xl(e,n,i,null);if(Cn())return Xl(e,n,i,(a=Cn().errorMessage)?Error(a):Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."));if(t=0!=(i&e.childLanes),Cl||t){if(null!==(r=za)){switch(i&-i){case 4:t=2;break;case 16:t=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:t=32;break;case 536870912:t=268435456;break;default:t=0}0!==(r=0!=(t&(r.suspendedLanes|i))?0:t)&&r!==a.retryLane&&(a.retryLane=r,li(e,r,-1))}return bi(),Xl(e,n,i,Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."))}return Cn()?(n.flags|=128,n.child=e.child,zi.bind(null,e),Cn(),null):((e=$l(n,r.children)).flags|=4096,e)}function Jl(e,n,t){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n),Bt(e.return,n,t)}function Kl(e,n,t,r,l){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:l}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=t,a.tailMode=l)}function Zl(e,n,t){var r=n.pendingProps,l=r.revealOrder,a=r.tail;if(zl(e,n,r.children,t),0!=(2&(r=xr.current)))r=1&r|2,n.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Jl(e,t,n);else if(19===e.tag)Jl(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ut(xr,r),0==(1&n.mode))n.memoizedState=null;else switch(l){case"forwards":for(t=n.child,l=null;null!==t;)null!==(e=t.alternate)&&null===_r(e)&&(l=t),t=t.sibling;null===(t=l)?(l=n.child,n.child=null):(l=t.sibling,t.sibling=null),Kl(n,!1,l,t,a);break;case"backwards":for(t=null,l=n.child,n.child=null;null!==l;){if(null!==(e=l.alternate)&&null===_r(e)){n.child=l;break}e=l.sibling,l.sibling=t,t=l,l=e}Kl(n,!0,t,null,a);break;case"together":Kl(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ea(e,n){0==(1&n.mode)&&null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2)}function na(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),Aa|=n.lanes,0==(t&n.childLanes))return null;if(null!==e&&n.child!==e.child)throw Error("Resuming work not yet implemented.");if(null!==n.child){for(t=Ai(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=Ai(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function ta(e,n,t){switch(n.tag){case 3:Hl(n);break;case 5:kr(n);break;case 1:pt(n.type)&&vt(n);break;case 4:yr(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,l=n.memoizedProps.value;ut(Ft,r._currentValue2),r._currentValue2=l;break;case 13:if(null!==(r=n.memoizedState))return null!==r.dehydrated?(ut(xr,1&xr.current),n.flags|=128,null):0!=(t&n.child.childLanes)?ql(e,n,t):(ut(xr,1&xr.current),null!==(e=na(e,n,t))?e.sibling:null);ut(xr,1&xr.current);break;case 19:if(r=0!=(t&n.childLanes),0!=(128&e.flags)){if(r)return Zl(e,n,t);n.flags|=128}if(null!==(l=n.memoizedState)&&(l.rendering=null,l.tail=null,l.lastEffect=null),ut(xr,xr.current),r)break;return null;case 22:case 23:return n.lanes=0,Ml(e,n,t)}return na(e,n,t)}function ra(e,n){if(null!==e&&e.child===n.child)return!0;if(0!=(16&n.flags))return!1;for(e=n.child;null!==e;){if(0!=(12854&e.flags)||0!=(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}function la(e,n,t,r){for(var l=n.child;null!==l;){if(5===l.tag){var a=l.stateNode;t&&r&&(a=Zn(a)),jn(e,a.node)}else if(6===l.tag){if(a=l.stateNode,t&&r)throw Error("Not yet implemented.");jn(e,a.node)}else if(4!==l.tag)if(22===l.tag&&null!==l.memoizedState)null!==(a=l.child)&&(a.return=l),la(e,l,!0,!0);else if(null!==l.child){l.child.return=l,l=l.child;continue}if(l===n)break;for(;null===l.sibling;){if(null===l.return||l.return===n)return;l=l.return}l.sibling.return=l.return,l=l.sibling}}function aa(e,n){switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ia(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,r=0;if(n)for(var l=e.child;null!==l;)t|=l.lanes|l.childLanes,r|=14680064&l.subtreeFlags,r|=14680064&l.flags,l.return=e,l=l.sibling;else for(l=e.child;null!==l;)t|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function ua(e,t,r){var l=t.pendingProps;switch(Ct(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ia(t),null;case 1:return pt(t.type)&&ht(),ia(t),null;case 3:return r=t.stateNode,Sr(),it(ct),it(st),Pr(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==zt&&(ci(zt),zt=null)),Bl(e,t),ia(t),null;case 5:wr(t),r=br(vr.current);var a=t.type;if(null!==e&&null!=t.stateNode)Wl(e,t,a,l,r),e.ref!==t.ref&&(t.flags|=512);else{if(!l){if(null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return ia(t),null}br(gr.current),e=$n,$n+=2,a=qn(a);var u=ln(null,Xe,l,a.validAttributes);r=In(e,a.uiViewClassName,r,u,t),e=new Xn(e,a,l,t),Ql(e={node:r,canonical:e},t,!1,!1),t.stateNode=e,null!==t.ref&&(t.flags|=512)}return ia(t),null;case 6:if(e&&null!=t.stateNode)Ol(e,t,e.memoizedProps,l);else{if("string"!=typeof l&&null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");e=br(vr.current),r=br(gr.current),t.stateNode=Gn(l,e,r,t)}return ia(t),null;case 13:if(it(xr),l=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(null!==l&&null!==l.dehydrated){if(null===e)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4,ia(t),a=!1}else null!==zt&&(ci(zt),zt=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=r,t):((r=null!==l)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&xr.current)?0===Fa&&(Fa=3):bi())),null!==t.updateQueue&&(t.flags|=4),ia(t),null);case 4:return Sr(),Bl(e,t),ia(t),null;case 10:return Qt(t.type._context),ia(t),null;case 17:return pt(t.type)&&ht(),ia(t),null;case 19:if(it(xr),null===(a=t.memoizedState))return ia(t),null;if(l=0!=(128&t.flags),null===(u=a.rendering))if(l)aa(a,!1);else{if(0!==Fa||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=_r(e))){for(t.flags|=128,aa(a,!1),null!==(e=u.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=r,r=t.child;null!==r;)a=e,(l=r).flags&=14680066,null===(u=l.alternate)?(l.childLanes=0,l.lanes=a,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=u.childLanes,l.lanes=u.lanes,l.child=u.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=u.memoizedProps,l.memoizedState=u.memoizedState,l.updateQueue=u.updateQueue,l.type=u.type,a=u.dependencies,l.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),r=r.sibling;return ut(xr,1&xr.current|2),t.child}e=e.sibling}null!==a.tail&&n(i[3]).unstable_now()>Oa&&(t.flags|=128,l=!0,aa(a,!1),t.lanes=4194304)}else{if(!l)if(null!==(e=_r(u))){if(t.flags|=128,l=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),aa(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate)return ia(t),null}else 2*n(i[3]).unstable_now()-a.renderingStartTime>Oa&&1073741824!==r&&(t.flags|=128,l=!0,aa(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(e=a.last)?e.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=n(i[3]).unstable_now(),t.sibling=null,e=xr.current,ut(xr,l?1&e|2:1&e),t):(ia(t),null);case 22:case 23:return hi(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Ua)&&ia(t):ia(t),null;case 24:case 25:return null}throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function oa(e,n){switch(Ct(n),n.tag){case 1:return pt(n.type)&&ht(),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return Sr(),it(ct),it(st),Pr(),0!=(65536&(e=n.flags))&&0==(128&e)?(n.flags=-65537&e|128,n):null;case 5:return wr(n),null;case 13:if(it(xr),null!==(e=n.memoizedState)&&null!==e.dehydrated&&null===n.alternate)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return it(xr),null;case 4:return Sr(),null;case 10:return Qt(n.type._context),null;case 22:case 23:return hi(),null;case 24:default:return null}}Ql=function(e,n,t,r){for(var l=n.child;null!==l;){if(5===l.tag){var a=l.stateNode;t&&r&&(a=Zn(a)),An(e.node,a.node)}else if(6===l.tag){if(a=l.stateNode,t&&r)throw Error("Not yet implemented.");An(e.node,a.node)}else if(4!==l.tag)if(22===l.tag&&null!==l.memoizedState)null!==(a=l.child)&&(a.return=l),Ql(e,l,!0,!0);else if(null!==l.child){l.child.return=l,l=l.child;continue}if(l===n)break;for(;null===l.sibling;){if(null===l.return||l.return===n)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Bl=function(e,n){var t=n.stateNode;if(!ra(e,n)){e=t.containerInfo;var r=Dn(e);la(r,n,!1,!1),t.pendingChildren=r,n.flags|=4,Hn(e,r)}},Wl=function(e,n,t,r){t=e.stateNode;var l=e.memoizedProps;if((e=ra(e,n))&&l===r)n.stateNode=t;else{var a=n.stateNode;br(gr.current);var i=null;l!==r&&(l=ln(null,l,r,a.canonical.viewConfig.validAttributes),a.canonical.currentProps=r,i=l),e&&null===i?n.stateNode=t:(r=i,l=t.node,t={node:e?null!==r?Fn(l,r):Ln(l):null!==r?Mn(l,r):Un(l),canonical:t.canonical},n.stateNode=t,e?n.flags|=4:Ql(t,n,!1,!1))}},Ol=function(e,n,t,r){t!==r?(e=br(vr.current),t=br(gr.current),n.stateNode=Gn(r,e,t,n),n.flags|=4):n.stateNode=e.stateNode};var sa="function"==typeof WeakSet?WeakSet:Set,ca=null;function da(e,n){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ti(e,n,t)}else t.current=null}function fa(e,n,t){try{t()}catch(t){Ti(e,n,t)}}var pa=!1;function ha(e,n){for(ca=n;null!==ca;)if(n=(e=ca).child,0!=(1028&e.subtreeFlags)&&null!==n)n.return=e,ca=n;else for(;null!==ca;){e=ca;try{var t=e.alternate;if(0!=(1024&e.flags))switch(e.tag){case 0:case 11:case 15:break;case 1:if(null!==t){var r=t.memoizedProps,l=t.memoizedState,a=e.stateNode,i=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:Mt(e.type,r),l);a.__reactInternalSnapshotBeforeUpdate=i}break;case 3:break;case 5:case 6:case 4:case 17:break;default:throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}catch(n){Ti(e,e.return,n)}if(null!==(n=e.sibling)){n.return=e.return,ca=n;break}ca=e.return}return t=pa,pa=!1,t}function ga(e,n,t){var r=n.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,void 0!==a&&fa(n,t,a)}l=l.next}while(l!==r)}}function ma(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function va(e){var n=e.alternate;null!==n&&(e.alternate=null,va(n)),e.child=null,e.deletions=null,e.sibling=null,e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ba(e,n,t){for(t=t.child;null!==t;)ya(e,n,t),t=t.sibling}function ya(e,n,t){if(fn&&"function"==typeof fn.onCommitFiberUnmount)try{fn.onCommitFiberUnmount(dn,t)}catch(e){}switch(t.tag){case 5:da(t,n);case 6:ba(e,n,t);break;case 18:break;case 4:Dn(t.stateNode.containerInfo),ba(e,n,t);break;case 0:case 11:case 14:case 15:var r=t.updateQueue;if(null!==r&&null!==(r=r.lastEffect)){var l=r=r.next;do{var a=l,i=a.destroy;a=a.tag,void 0!==i&&(0!=(2&a)?fa(t,n,i):0!=(4&a)&&fa(t,n,i)),l=l.next}while(l!==r)}ba(e,n,t);break;case 1:if(da(t,n),"function"==typeof(r=t.stateNode).componentWillUnmount)try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(e){Ti(t,n,e)}ba(e,n,t);break;case 21:case 22:ba(e,n,t);break;default:ba(e,n,t)}}function Sa(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var t=e.stateNode;null===t&&(t=e.stateNode=new sa),n.forEach(function(n){var r=Ii.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))})}}function ka(e,n){var t=n.deletions;if(null!==t)for(var r=0;r<t.length;r++){var l=t[r];try{ya(e,n,l);var a=l.alternate;null!==a&&(a.return=null),l.return=null}catch(e){Ti(l,n,e)}}if(12854&n.subtreeFlags)for(n=n.child;null!==n;)wa(n,e),n=n.sibling}function wa(e,t){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ka(t,e),xa(e),4&l){try{ga(3,e,e.return),ma(3,e)}catch(n){Ti(e,e.return,n)}try{ga(5,e,e.return)}catch(n){Ti(e,e.return,n)}}break;case 1:case 5:ka(t,e),xa(e),512&l&&null!==r&&da(r,r.return);break;case 6:case 3:case 4:ka(t,e),xa(e);break;case 13:ka(t,e),xa(e),8192&(t=e.child).flags&&null!==t.memoizedState&&(null===t.alternate||null===t.alternate.memoizedState)&&(Wa=n(i[3]).unstable_now()),4&l&&Sa(e);break;case 22:ka(t,e),xa(e);break;case 19:ka(t,e),xa(e),4&l&&Sa(e);break;case 21:break;default:ka(t,e),xa(e)}}function xa(e){var n=e.flags;2&n&&(e.flags&=-3),4096&n&&(e.flags&=-4097)}function _a(e){for(ca=e;null!==ca;){var n=ca,t=n.child;if(0!=(8772&n.subtreeFlags)&&null!==t)t.return=n,ca=t;else for(n=e;null!==ca;){if(0!=(8772&(t=ca).flags)){var r=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:ma(5,t);break;case 1:var l=t.stateNode;if(4&t.flags)if(null===r)l.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Mt(t.type,r.memoizedProps);l.componentDidUpdate(a,r.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&er(t,i,l);break;case 3:var u=t.updateQueue;if(null!==u){if(r=null,null!==t.child)switch(t.child.tag){case 5:r=t.child.stateNode.canonical;break;case 1:r=t.child.stateNode}er(t,u,r)}break;case 5:if(null===r&&4&t.flags)throw Error("The current renderer does not support mutation. This error is likely caused by a bug in React. Please file an issue.");break;case 6:case 4:case 12:case 13:break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(512&t.flags){r=void 0;var o=t.ref;if(null!==o){var s=t.stateNode;switch(t.tag){case 5:r=s.canonical;break;default:r=s}"function"==typeof o?o(r):o.current=r}}}catch(e){Ti(t,t.return,e)}}if(t===n){ca=null;break}if(null!==(r=t.sibling)){r.return=t.return,ca=r;break}ca=t.return}}}var Ea,Pa=Math.ceil,Ra=Ee.ReactCurrentDispatcher,Ta=Ee.ReactCurrentOwner,Na=Ee.ReactCurrentBatchConfig,Ca=0,za=null,Ia=null,La=0,Ua=0,Ma=at(0),Fa=0,Da=null,Aa=0,ja=0,Ha=0,Qa=null,Ba=null,Wa=0,Oa=1/0,Va=null,Ya=!1,qa=null,$a=null,Xa=!1,Ga=null,Ja=0,Ka=0,Za=null,ei=-1,ni=0;function ti(){return 0!=(6&Ca)?n(i[3]).unstable_now():-1!==ei?ei:ei=n(i[3]).unstable_now()}function ri(e){if(0==(1&e.mode))return 1;if(0!=(2&Ca)&&0!==La)return La&-La;if(null!==It.transition)return 0===ni&&(ni=xn()),ni;if(0===(e=Tn))e:{if(null!=(e=Yn?Yn():null))switch(e){case Vn:e=1;break e}e=16}return e}function li(e,t,r){if(50<Ka)throw Ka=0,Za=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");var l=ai(e,t);return null===l?null:(En(l,t,r),0!=(2&Ca)&&l===za||(l===za&&(0==(2&Ca)&&(ja|=t),4===Fa&&fi(l,La)),ui(l,r),1===t&&0===Ca&&0==(1&e.mode)&&(Oa=n(i[3]).unstable_now()+500,kt&&xt())),l)}function ai(e,n){e.lanes|=n;var t=e.alternate;for(null!==t&&(t.lanes|=n),t=e,e=e.return;null!==e;)e.childLanes|=n,null!==(t=e.alternate)&&(t.childLanes|=n),t=e,e=e.return;return 3===t.tag?t.stateNode:null}function ii(e){return(null!==za||null!==Vt)&&0!=(1&e.mode)&&0==(2&Ca)}function ui(e,t){for(var r=e.callbackNode,l=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-hn(o),c=1<<s,d=u[s];-1===d?0!=(c&l)&&0==(c&a)||(u[s]=kn(c,t)):d<=t&&(e.expiredLanes|=c),o&=~c}if(0===(l=Sn(e,e===za?La:0)))null!==r&&n(i[3]).unstable_cancelCallback(r),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(null!=r&&n(i[3]).unstable_cancelCallback(r),1===t)0===e.tag?(r=pi.bind(null,e),kt=!0,null===St?St=[r]:St.push(r)):(r=pi.bind(null,e),null===St?St=[r]:St.push(r)),n(i[3]).unstable_scheduleCallback(n(i[3]).unstable_ImmediatePriority,xt),r=null;else{switch(Nn(l)){case 1:r=n(i[3]).unstable_ImmediatePriority;break;case 4:r=n(i[3]).unstable_UserBlockingPriority;break;case 16:r=n(i[3]).unstable_NormalPriority;break;case 536870912:r=n(i[3]).unstable_IdlePriority;break;default:r=n(i[3]).unstable_NormalPriority}r=Li(r,oi.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function oi(e,t){if(ei=-1,ni=0,0!=(6&Ca))throw Error("Should not already be working.");var r=e.callbackNode;if(Pi()&&e.callbackNode!==r)return null;var l=Sn(e,e===za?La:0);if(0===l)return null;if(0!=(30&l)||0!=(l&e.expiredLanes)||t)t=yi(e,l);else{t=l;var a=Ca;Ca|=2;var u=vi();for(za===e&&La===t||(Va=null,Oa=n(i[3]).unstable_now()+500,gi(e,t));;)try{ki();break}catch(n){mi(e,n)}Ht(),Ra.current=u,Ca=a,null!==Ia?t=0:(za=null,La=0,t=Fa)}if(0!==t){if(2===t&&(0!==(a=wn(e))&&(l=a,t=si(e,a))),1===t)throw r=Da,gi(e,0),fi(e,l),ui(e,n(i[3]).unstable_now()),r;if(6===t)fi(e,l);else{if(a=e.current.alternate,0==(30&l)&&!di(a)&&(2===(t=yi(e,l))&&(0!==(u=wn(e))&&(l=u,t=si(e,u))),1===t))throw r=Da,gi(e,0),fi(e,l),ui(e,n(i[3]).unstable_now()),r;switch(e.finishedWork=a,e.finishedLanes=l,t){case 0:case 1:throw Error("Root did not complete. This is a bug in React.");case 2:_i(e,Ba,Va);break;case 3:if(fi(e,l),(130023424&l)===l&&10<(t=Wa+500-n(i[3]).unstable_now())){if(0!==Sn(e,0))break;if(((a=e.suspendedLanes)&l)!==l){ti(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Jn(_i.bind(null,e,Ba,Va),t);break}_i(e,Ba,Va);break;case 4:if(fi(e,l),(4194240&l)===l)break;for(t=e.eventTimes,a=-1;0<l;){var o=31-hn(l);u=1<<o,(o=t[o])>a&&(a=o),l&=~u}if(l=a,10<(l=(120>(l=n(i[3]).unstable_now()-l)?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Pa(l/1960))-l)){e.timeoutHandle=Jn(_i.bind(null,e,Ba,Va),l);break}_i(e,Ba,Va);break;case 5:_i(e,Ba,Va);break;default:throw Error("Unknown root exit status.")}}}return ui(e,n(i[3]).unstable_now()),e.callbackNode===r?oi.bind(null,e):null}function si(e,n){var t=Qa;return e.current.memoizedState.isDehydrated&&(gi(e,n).flags|=256),2!==(e=yi(e,n))&&(n=Ba,Ba=t,null!==n&&ci(n)),e}function ci(e){null===Ba?Ba=e:Ba.push.apply(Ba,e)}function di(e){for(var n=e;;){if(16384&n.flags){var t=n.updateQueue;if(null!==t&&null!==(t=t.stores))for(var r=0;r<t.length;r++){var l=t[r],a=l.getSnapshot;l=l.value;try{if(!yt(a(),l))return!1}catch(e){return!1}}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fi(e,n){for(n&=~Ha,n&=~ja,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-hn(n),r=1<<t;e[t]=-1,n&=~r}}function pi(e){if(0!=(6&Ca))throw Error("Should not already be working.");Pi();var t=Sn(e,0);if(0==(1&t))return ui(e,n(i[3]).unstable_now()),null;var r=yi(e,t);if(0!==e.tag&&2===r){var l=wn(e);0!==l&&(t=l,r=si(e,l))}if(1===r)throw r=Da,gi(e,0),fi(e,t),ui(e,n(i[3]).unstable_now()),r;if(6===r)throw Error("Root did not complete. This is a bug in React.");return e.finishedWork=e.current.alternate,e.finishedLanes=t,_i(e,Ba,Va),ui(e,n(i[3]).unstable_now()),null}function hi(){Ua=Ma.current,it(Ma)}function gi(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(-1!==t&&(e.timeoutHandle=-1,Kn(t)),null!==Ia)for(t=Ia.return;null!==t;){var r=t;switch(Ct(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&ht();break;case 3:Sr(),it(ct),it(st),Pr();break;case 5:wr(r);break;case 4:Sr();break;case 13:case 19:it(xr);break;case 10:Qt(r.type._context);break;case 22:case 23:hi()}t=t.return}if(za=e,Ia=e=Ai(e.current,null),La=Ua=n,Fa=0,Da=null,Ha=ja=Aa=0,Ba=Qa=null,null!==Vt){for(n=0;n<Vt.length;n++)if(null!==(r=(t=Vt[n]).interleaved)){t.interleaved=null;var l=r.next,a=t.pending;if(null!==a){var i=a.next;a.next=l,r.next=i}t.pending=r}Vt=null}return e}function mi(e,n){for(;;){var t=Ia;try{if(Ht(),Rr.current=yl,Lr){for(var r=Cr.memoizedState;null!==r;){var l=r.queue;null!==l&&(l.pending=null),r=r.next}Lr=!1}if(Nr=0,Ir=zr=Cr=null,Ur=!1,Ta.current=null,null===t||null===t.return){Fa=1,Da=n,Ia=null;break}e:{var a=e,i=t.return,u=t,o=n;if(n=La,u.flags|=32768,null!==o&&"object"==typeof o&&"function"==typeof o.then){var s=o,c=u,d=c.tag;if(0==(1&c.mode)&&(0===d||11===d||15===d)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}n:{c=i;do{var p;if(p=13===c.tag){var h=c.memoizedState;p=null===h||null!==h.dehydrated}if(p){var g=c;break n}c=c.return}while(null!==c);g=null}if(null!==g){if(g.flags&=-257,c=n,0==(1&(o=g).mode))if(o===i)o.flags|=65536;else{if(o.flags|=128,u.flags|=131072,u.flags&=-52805,1===u.tag)if(null===u.alternate)u.tag=17;else{var m=Xt(-1,1);m.tag=2,Gt(u,m)}u.lanes|=1}else o.flags|=65536,o.lanes=c;1&g.mode&&Tl(a,s,n),a=s;var v=(n=g).updateQueue;if(null===v){var b=new Set;b.add(a),n.updateQueue=b}else v.add(a);break e}if(0==(1&n)){Tl(a,s,n),bi();break e}o=Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.")}a=o,4!==Fa&&(Fa=2),null===Qa?Qa=[a]:Qa.push(a),o=xl(o,u),a=i;do{switch(a.tag){case 3:s=o,a.flags|=65536,n&=-n,a.lanes|=n,Kt(a,Pl(a,s,n));break e;case 1:s=o;var y=a.type,S=a.stateNode;if(0==(128&a.flags)&&("function"==typeof y.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===$a||!$a.has(S)))){a.flags|=65536,n&=-n,a.lanes|=n,Kt(a,Rl(a,s,n));break e}}a=a.return}while(null!==a)}xi(t)}catch(e){n=e,Ia===t&&null!==t&&(Ia=t=t.return);continue}break}}function vi(){var e=Ra.current;return Ra.current=yl,null===e?yl:e}function bi(){0!==Fa&&3!==Fa&&2!==Fa||(Fa=4),null===za||0==(268435455&Aa)&&0==(268435455&ja)||fi(za,La)}function yi(e,n){var t=Ca;Ca|=2;var r=vi();for(za===e&&La===n||(Va=null,gi(e,n));;)try{Si();break}catch(n){mi(e,n)}if(Ht(),Ca=t,Ra.current=r,null!==Ia)throw Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return za=null,La=0,Fa}function Si(){for(;null!==Ia;)wi(Ia)}function ki(){for(;null!==Ia&&!n(i[3]).unstable_shouldYield();)wi(Ia)}function wi(e){var n=Ea(e.alternate,e,Ua);e.memoizedProps=e.pendingProps,null===n?xi(e):Ia=n,Ta.current=null}function xi(e){var n=e;do{var t=n.alternate;if(e=n.return,0==(32768&n.flags)){if(null!==(t=ua(t,n,Ua)))return void(Ia=t)}else{if(null!==(t=oa(t,n)))return t.flags&=32767,void(Ia=t);if(null===e)return Fa=6,void(Ia=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(n=n.sibling))return void(Ia=n);Ia=n=e}while(null!==n);0===Fa&&(Fa=5)}function _i(e,n,t){var r=Tn,l=Na.transition;try{Na.transition=null,Tn=1,Ei(e,n,t,r)}finally{Na.transition=l,Tn=r}return null}function Ei(e,t,r,l){do{Pi()}while(null!==Ga);if(0!=(6&Ca))throw Error("Should not already be working.");r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");e.callbackNode=null,e.callbackPriority=0;var u=r.lanes|r.childLanes;if(Pn(e,u),e===za&&(Ia=za=null,La=0),0==(2064&r.subtreeFlags)&&0==(2064&r.flags)||Xa||(Xa=!0,Li(n(i[3]).unstable_NormalPriority,function(){return Pi(),null})),u=0!=(15990&r.flags),0!=(15990&r.subtreeFlags)||u){u=Na.transition,Na.transition=null;var o=Tn;Tn=1;var s=Ca;Ca|=4,Ta.current=null,ha(e,r),wa(r,e),e.current=r,_a(r),n(i[3]).unstable_requestPaint(),Ca=s,Tn=o,Na.transition=u}else e.current=r;if(Xa&&(Xa=!1,Ga=e,Ja=a),0===(u=e.pendingLanes)&&($a=null),pn(r.stateNode),ui(e,n(i[3]).unstable_now()),null!==t)for(l=e.onRecoverableError,r=0;r<t.length;r++)l(t[r]);if(Ya)throw Ya=!1,e=qa,qa=null,e;return 0!=(1&Ja)&&0!==e.tag&&Pi(),0!=(1&(u=e.pendingLanes))?e===Za?Ka++:(Ka=0,Za=e):Ka=0,xt(),null}function Pi(){if(null!==Ga){var e=Nn(Ja),n=Na.transition,t=Tn;try{if(Na.transition=null,Tn=16>e?16:e,null===Ga)var r=!1;else{if(e=Ga,Ga=null,Ja=0,0!=(6&Ca))throw Error("Cannot flush passive effects while already rendering.");var l=Ca;for(Ca|=4,ca=e.current;null!==ca;){var a=ca,i=a.child;if(0!=(16&ca.flags)){var u=a.deletions;if(null!==u){for(var o=0;o<u.length;o++){var s=u[o];for(ca=s;null!==ca;){var c=ca;switch(c.tag){case 0:case 11:case 15:ga(8,c,a)}var d=c.child;if(null!==d)d.return=c,ca=d;else for(;null!==ca;){var f=(c=ca).sibling,p=c.return;if(va(c),c===s){ca=null;break}if(null!==f){f.return=p,ca=f;break}ca=p}}}var h=a.alternate;if(null!==h){var g=h.child;if(null!==g){h.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}ca=a}}if(0!=(2064&a.subtreeFlags)&&null!==i)i.return=a,ca=i;else e:for(;null!==ca;){if(0!=(2048&(a=ca).flags))switch(a.tag){case 0:case 11:case 15:ga(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,ca=v;break e}ca=a.return}}var b=e.current;for(ca=b;null!==ca;){var y=(i=ca).child;if(0!=(2064&i.subtreeFlags)&&null!==y)y.return=i,ca=y;else e:for(i=b;null!==ca;){if(0!=(2048&(u=ca).flags))try{switch(u.tag){case 0:case 11:case 15:ma(9,u)}}catch(e){Ti(u,u.return,e)}if(u===i){ca=null;break e}var S=u.sibling;if(null!==S){S.return=u.return,ca=S;break e}ca=u.return}}if(Ca=l,xt(),fn&&"function"==typeof fn.onPostCommitFiberRoot)try{fn.onPostCommitFiberRoot(dn,e)}catch(e){}r=!0}return r}finally{Tn=t,Na.transition=n}}return!1}function Ri(e,n,t){Gt(e,n=Pl(e,n=xl(t,n),1)),n=ti(),null!==(e=ai(e,1))&&(En(e,1,n),ui(e,n))}function Ti(e,n,t){if(3===e.tag)Ri(e,e,t);else for(n=e.return;null!==n;){if(3===n.tag){Ri(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===$a||!$a.has(r))){Gt(n,e=Rl(n,e=xl(t,e),1)),e=ti(),null!==(n=ai(n,1))&&(En(n,1,e),ui(n,e));break}}n=n.return}}function Ni(e,t,r){var l=e.pingCache;null!==l&&l.delete(t),t=ti(),e.pingedLanes|=e.suspendedLanes&r,za===e&&(La&r)===r&&(4===Fa||3===Fa&&(130023424&La)===La&&500>n(i[3]).unstable_now()-Wa?gi(e,0):Ha|=r),ui(e,t)}function Ci(e,n){0===n&&(0==(1&e.mode)?n=1:(n=bn,0==(130023424&(bn<<=1))&&(bn=4194304)));var t=ti();null!==(e=ai(e,n))&&(En(e,n,t),ui(e,t))}function zi(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),Ci(e,t)}function Ii(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;null!==l&&(t=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}null!==r&&r.delete(n),Ci(e,t)}function Li(e,t){return n(i[3]).unstable_scheduleCallback(e,t)}function Ui(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(e,n,t,r){return new Ui(e,n,t,r)}function Fi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Di(e){if("function"==typeof e)return Fi(e)?1:0;if(null!=e){if((e=e.$$typeof)===Le)return 11;if(e===Fe)return 14}return 2}function Ai(e,n){var t=e.alternate;return null===t?((t=Mi(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=14680064&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function ji(e,n,t,r,l,a){var i=2;if(r=e,"function"==typeof e)Fi(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case Te:return Hi(t.children,l,a,n);case Ne:i=8,l|=8;break;case Ce:return(e=Mi(12,t,n,2|l)).elementType=Ce,e.lanes=a,e;case Ue:return(e=Mi(13,t,n,l)).elementType=Ue,e.lanes=a,e;case Me:return(e=Mi(19,t,n,l)).elementType=Me,e.lanes=a,e;case Ae:return Qi(t,l,a,n);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ze:i=10;break e;case Ie:i=9;break e;case Le:i=11;break e;case Fe:i=14;break e;case De:i=16,r=null;break e}throw Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==e?e:typeof e)+".")}return(n=Mi(i,t,n,l)).elementType=e,n.type=r,n.lanes=a,n}function Hi(e,n,t,r){return(e=Mi(7,e,r,n)).lanes=t,e}function Qi(e,n,t,r){return(e=Mi(22,e,r,n)).elementType=Ae,e.lanes=t,e.stateNode={},e}function Bi(e,n,t){return(e=Mi(6,e,null,n)).lanes=t,e}function Wi(e,n,t){return(n=Mi(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Oi(e,n,t,r,l){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_n(0),this.expirationTimes=_n(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_n(0),this.identifierPrefix=r,this.onRecoverableError=l}function Vi(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Re,key:null==r?null:""+r,children:e,containerInfo:n,implementation:t}}function Yi(e){var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error("Unable to find node on an unmounted component.");throw e=Object.keys(e).join(","),Error("Argument appears to not be a ReactComponent. Keys: "+e)}return null===(e=Ye(n))?null:e.stateNode}function qi(e,n,t,r){var l=n.current,a=ti(),i=ri(l);e:if(t){n:{if(We(t=t._reactInternals)!==t||1!==t.tag)throw Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var u=t;do{switch(u.tag){case 3:u=u.stateNode.context;break n;case 1:if(pt(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break n}}u=u.return}while(null!==u);throw Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}if(1===t.tag){var o=t.type;if(pt(o)){t=mt(t,o,u);break e}}t=u}else t=ot;return null===n.context?n.context=t:n.pendingContext=t,(n=Xt(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(n.callback=r),Gt(l,n),null!==(e=li(l,i,a))&&Jt(e,l,i),i}function $i(e){return null==e?null:"number"==typeof e?e:e._nativeTag?e._nativeTag:e.canonical&&e.canonical._nativeTag?e.canonical._nativeTag:null==(e=Yi(e))?e:e.canonical?e.canonical._nativeTag:e._nativeTag}function Xi(e){console.error(e)}Ea=function(e,n,t){if(null!==e)if(e.memoizedProps!==n.pendingProps||ct.current)Cl=!0;else{if(0==(e.lanes&t)&&0==(128&n.flags))return Cl=!1,ta(e,n,t);Cl=0!=(131072&e.flags)}else Cl=!1;switch(n.lanes=0,n.tag){case 2:var r=n.type;ea(e,n),e=n.pendingProps;var l=ft(n,st.current);if(Wt(n,t),l=Ar(null,n,r,e,l,t),n.flags|=1,"object"==typeof l&&null!==l&&"function"==typeof l.render&&void 0===l.$$typeof){if(n.tag=1,n.memoizedState=null,n.updateQueue=null,pt(r)){var a=!0;vt(n)}else a=!1;n.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,qt(n),l.updater=rr,n.stateNode=l,l._reactInternals=n,ur(n,r,e,t),n=jl(null,n,r,!0,a,t)}else n.tag=0,zl(null,n,l,t),n=n.child;return n;case 16:r=n.elementType;e:{switch(ea(e,n),e=n.pendingProps,r=(l=r._init)(r._payload),n.type=r,l=n.tag=Di(r),e=Mt(r,e),l){case 0:n=Dl(null,n,r,e,t);break e;case 1:n=Al(null,n,r,e,t);break e;case 11:n=Il(null,n,r,e,t);break e;case 14:n=Ll(null,n,r,Mt(r.type,e),t);break e}throw Error("Element type is invalid. Received a promise that resolves to: "+r+". Lazy element type must resolve to a class or function.")}return n;case 0:return r=n.type,l=n.pendingProps,Dl(e,n,r,l=n.elementType===r?l:Mt(r,l),t);case 1:return r=n.type,l=n.pendingProps,Al(e,n,r,l=n.elementType===r?l:Mt(r,l),t);case 3:if(Hl(n),null===e)throw Error("Should have a current fiber. This is a bug in React.");return l=n.pendingProps,r=n.memoizedState.element,$t(e,n),Zt(n,l,null,t),(l=n.memoizedState.element)===r?n=na(e,n,t):(zl(e,n,l,t),n=n.child),n;case 5:return kr(n),r=n.pendingProps.children,Fl(e,n),zl(e,n,r,t),n.child;case 6:return null;case 13:return ql(e,n,t);case 4:return yr(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=fr(n,null,r,t):zl(e,n,r,t),n.child;case 11:return r=n.type,l=n.pendingProps,Il(e,n,r,l=n.elementType===r?l:Mt(r,l),t);case 7:return zl(e,n,n.pendingProps,t),n.child;case 8:case 12:return zl(e,n,n.pendingProps.children,t),n.child;case 10:e:{r=n.type._context,l=n.pendingProps,a=n.memoizedProps;var i=l.value;if(ut(Ft,r._currentValue2),r._currentValue2=i,null!==a)if(yt(a.value,i)){if(a.children===l.children&&!ct.current){n=na(e,n,t);break e}}else for(null!==(a=n.child)&&(a.return=n);null!==a;){var u=a.dependencies;if(null!==u){i=a.child;for(var o=u.firstContext;null!==o;){if(o.context===r){if(1===a.tag){(o=Xt(-1,t&-t)).tag=2;var s=a.updateQueue;if(null!==s){var c=(s=s.shared).pending;null===c?o.next=o:(o.next=c.next,c.next=o),s.pending=o}}a.lanes|=t,null!==(o=a.alternate)&&(o.lanes|=t),Bt(a.return,t,n),u.lanes|=t;break}o=o.next}}else if(10===a.tag)i=a.type===n.type?null:a.child;else if(18===a.tag){if(null===(i=a.return))throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");i.lanes|=t,null!==(u=i.alternate)&&(u.lanes|=t),Bt(i,t,n),i=a.sibling}else i=a.child;if(null!==i)i.return=a;else for(i=a;null!==i;){if(i===n){i=null;break}if(null!==(a=i.sibling)){a.return=i.return,i=a;break}i=i.return}a=i}zl(e,n,l.children,t),n=n.child}return n;case 9:return l=n.type,r=n.pendingProps.children,Wt(n,t),r=r(l=Ot(l)),n.flags|=1,zl(e,n,r,t),n.child;case 14:return l=Mt(r=n.type,n.pendingProps),Ll(e,n,r,l=Mt(r.type,l),t);case 15:return Ul(e,n,n.type,n.pendingProps,t);case 17:return r=n.type,l=n.pendingProps,l=n.elementType===r?l:Mt(r,l),ea(e,n),n.tag=1,pt(r)?(e=!0,vt(n)):e=!1,Wt(n,t),ar(n,r,l),ur(n,r,l,t),jl(null,n,r,!0,e,t);case 19:return Zl(e,n,t);case 22:return Ml(e,n,t)}throw Error("Unknown unit of work tag ("+n.tag+"). This error is likely caused by a bug in React. Please file an issue.")},an=function(e,t){var r=Ca;Ca|=1;try{return e(t)}finally{0===(Ca=r)&&(Oa=n(i[3]).unstable_now()+500,kt&&xt())}};var Gi=new Map,Ji={findFiberByHostInstance:_e,bundleType:0,version:"18.2.0-next-d300cebde-20220601",rendererPackageName:"react-native-renderer",rendererConfig:{getInspectorDataForViewTag:function(){throw Error("getInspectorDataForViewTag() is not available in production")},getInspectorDataForViewAtPoint:function(){throw Error("getInspectorDataForViewAtPoint() is not available in production.")}.bind(null,$i)}},Ki={bundleType:Ji.bundleType,version:Ji.version,rendererPackageName:Ji.rendererPackageName,rendererConfig:Ji.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:Ji.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-d300cebde-20220601"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zi.isDisabled&&Zi.supportsFiber)try{dn=Zi.inject(Ki),fn=Zi}catch(e){}}a.createPortal=function(e,n){return Vi(e,n,null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},a.dispatchCommand=function(e,t,r){null!=e._nativeTag&&(null!=e._internalInstanceHandle?null!=(e=e._internalInstanceHandle.stateNode)&&nativeFabricUIManager.dispatchCommand(e.node,t,r):n(i[2]).UIManager.dispatchViewManagerCommand(e._nativeTag,t,r))},a.findHostInstance_DEPRECATED=function(e){return null==e?null:e._nativeTag?e:e.canonical&&e.canonical._nativeTag?e.canonical:null==(e=Yi(e))?e:e.canonical?e.canonical:e},a.findNodeHandle=$i,a.getInspectorDataForInstance=void 0,a.render=function(e,n,t,r){var l=Gi.get(n);l||(r=new Oi(n,l=r?1:0,!1,"",Xi),l=Mi(3,null,null,1===l?1:0),r.current=l,l.stateNode=r,l.memoizedState={element:null,isDehydrated:!1,cache:null,transitions:null,pendingSuspenseBoundaries:null},qt(l),l=r,Gi.set(n,l)),qi(e,l,null,t);e:if(e=l.current,e.child)switch(e.child.tag){case 5:e=e.child.stateNode.canonical;break e;default:e=e.child.stateNode}else e=null;return e},a.sendAccessibilityEvent=function(e,t){null!=e._nativeTag&&(null!=e._internalInstanceHandle?null!=(e=e._internalInstanceHandle.stateNode)&&nativeFabricUIManager.sendAccessibilityEvent(e.node,t):n(i[2]).legacySendAccessibilityEvent(e._nativeTag,t))},a.stopSurface=function(e){var n=Gi.get(e);n&&qi(null,n,null,function(){Gi.delete(e)})},a.unmountComponentAtNode=function(e){this.stopSurface(e)}},128,[37,119,121,129]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},129,[130]);
__d(function(_g,_r,i,_a,_m,_e,_d){'use strict';function n(n,e){var t=n.length;n.push(e);n:for(;0<t;){var r=t-1>>>1,l=n[r];if(!(0<a(l,e)))break n;n[r]=e,n[t]=l,t=r}}function e(n){return 0===n.length?null:n[0]}function t(n){if(0===n.length)return null;var e=n[0],t=n.pop();if(t!==e){n[0]=t;n:for(var r=0,l=n.length,u=l>>>1;r<u;){var o=2*(r+1)-1,s=n[o],c=o+1,f=n[c];if(0>a(s,t))c<l&&0>a(f,s)?(n[r]=f,n[c]=t,r=c):(n[r]=s,n[o]=t,r=o);else{if(!(c<l&&0>a(f,t)))break n;n[r]=f,n[c]=t,r=c}}}return e}function a(n,e){var t=n.sortIndex-e.sortIndex;return 0!==t?t:n.id-e.id}if("object"==typeof performance&&"function"==typeof performance.now){var r=performance;_e.unstable_now=function(){return r.now()}}else{var l=Date,u=l.now();_e.unstable_now=function(){return l.now()-u}}var o=[],s=[],c=1,f=null,b=3,d=!1,v=!1,p=!1,y="function"==typeof setTimeout?setTimeout:null,m="function"==typeof clearTimeout?clearTimeout:null,_="undefined"!=typeof setImmediate?setImmediate:null;function g(a){for(var r=e(s);null!==r;){if(null===r.callback)t(s);else{if(!(r.startTime<=a))break;t(s),r.sortIndex=r.expirationTime,n(o,r)}r=e(s)}}function h(n){if(p=!1,g(n),!v)if(null!==e(o))v=!0,E(k);else{var t=e(s);null!==t&&N(h,t.startTime-n)}}function k(n,a){v=!1,p&&(p=!1,m(T),T=-1),d=!0;var r=b;try{for(g(a),f=e(o);null!==f&&(!(f.expirationTime>a)||n&&!L());){var l=f.callback;if("function"==typeof l){f.callback=null,b=f.priorityLevel;var u=l(f.expirationTime<=a);a=_e.unstable_now(),"function"==typeof u?f.callback=u:f===e(o)&&t(o),g(a)}else t(o);f=e(o)}if(null!==f)var c=!0;else{var y=e(s);null!==y&&N(h,y.startTime-a),c=!1}return c}finally{f=null,b=r,d=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,x=!1,I=null,T=-1,P=5,C=-1;function L(){return!(_e.unstable_now()-C<P)}function M(){if(null!==I){var n=_e.unstable_now();C=n;var e=!0;try{e=I(!0,n)}finally{e?w():(x=!1,I=null)}}else x=!1}if("function"==typeof _)w=function(){_(M)};else if("undefined"!=typeof MessageChannel){var F=new MessageChannel,j=F.port2;F.port1.onmessage=M,w=function(){j.postMessage(null)}}else w=function(){y(M,0)};function E(n){I=n,x||(x=!0,w())}function N(n,e){T=y(function(){n(_e.unstable_now())},e)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(n){n.callback=null},_e.unstable_continueExecution=function(){v||d||(v=!0,E(k))},_e.unstable_forceFrameRate=function(n){0>n||125<n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<n?Math.floor(1e3/n):5},_e.unstable_getCurrentPriorityLevel=function(){return b},_e.unstable_getFirstCallbackNode=function(){return e(o)},_e.unstable_next=function(n){switch(b){case 1:case 2:case 3:var e=3;break;default:e=b}var t=b;b=e;try{return n()}finally{b=t}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(n,e){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var t=b;b=n;try{return e()}finally{b=t}},_e.unstable_scheduleCallback=function(t,a,r){var l=_e.unstable_now();switch("object"==typeof r&&null!==r?r="number"==typeof(r=r.delay)&&0<r?l+r:l:r=l,t){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return t={id:c++,callback:a,priorityLevel:t,startTime:r,expirationTime:u=r+u,sortIndex:-1},r>l?(t.sortIndex=r,n(s,t),null===e(o)&&t===e(s)&&(p?(m(T),T=-1):p=!0,N(h,r-l))):(t.sortIndex=u,n(o,t),v||d||(v=!0,E(k))),t},_e.unstable_shouldYield=L,_e.unstable_wrapCallback=function(n){var e=b;return function(){var t=b;b=e;try{return n.apply(this,arguments)}finally{b=t}}}},130,[]);
__d(function(g,r,i,a,m,e,d){var t={bubblingEventTypes:{topBlur:{phasedRegistrationNames:{bubbled:'onBlur',captured:'onBlurCapture'}},topChange:{phasedRegistrationNames:{bubbled:'onChange',captured:'onChangeCapture'}},topContentSizeChange:{phasedRegistrationNames:{captured:'onContentSizeChangeCapture',bubbled:'onContentSizeChange'}},topEndEditing:{phasedRegistrationNames:{bubbled:'onEndEditing',captured:'onEndEditingCapture'}},topFocus:{phasedRegistrationNames:{bubbled:'onFocus',captured:'onFocusCapture'}},topKeyPress:{phasedRegistrationNames:{bubbled:'onKeyPress',captured:'onKeyPressCapture'}},topSubmitEditing:{phasedRegistrationNames:{bubbled:'onSubmitEditing',captured:'onSubmitEditingCapture'}},topTouchCancel:{phasedRegistrationNames:{bubbled:'onTouchCancel',captured:'onTouchCancelCapture'}},topTouchEnd:{phasedRegistrationNames:{bubbled:'onTouchEnd',captured:'onTouchEndCapture'}},topTouchMove:{phasedRegistrationNames:{bubbled:'onTouchMove',captured:'onTouchMoveCapture'}}},directEventTypes:{topTextInput:{registrationName:'onTextInput'},topKeyPressSync:{registrationName:'onKeyPressSync'},topScroll:{registrationName:'onScroll'},topSelectionChange:{registrationName:'onSelectionChange'},topChangeSync:{registrationName:'onChangeSync'}},validAttributes:Object.assign({fontSize:!0,fontWeight:!0,fontVariant:!0,textShadowOffset:{diff:r(d[0])},allowFontScaling:!0,fontStyle:!0,textTransform:!0,textAlign:!0,fontFamily:!0,lineHeight:!0,isHighlighted:!0,writingDirection:!0,textDecorationLine:!0,textShadowRadius:!0,letterSpacing:!0,textDecorationStyle:!0,textDecorationColor:{process:r(d[1])},color:{process:r(d[1])},maxFontSizeMultiplier:!0,textShadowColor:{process:r(d[1])},editable:!0,inputAccessoryViewID:!0,caretHidden:!0,enablesReturnKeyAutomatically:!0,placeholderTextColor:{process:r(d[1])},clearButtonMode:!0,keyboardType:!0,selection:!0,returnKeyType:!0,blurOnSubmit:!0,mostRecentEventCount:!0,scrollEnabled:!0,selectionColor:{process:r(d[1])},contextMenuHidden:!0,secureTextEntry:!0,placeholder:!0,autoCorrect:!0,multiline:!0,textContentType:!0,maxLength:!0,autoCapitalize:!0,keyboardAppearance:!0,passwordRules:!0,spellCheck:!0,selectTextOnFocus:!0,text:!0,clearTextOnFocus:!0,showSoftInputOnFocus:!0,autoFocus:!0},(0,r(d[2]).ConditionallyIgnoredEventHandlers)({onChange:!0,onSelectionChange:!0,onContentSizeChange:!0,onScroll:!0,onChangeSync:!0,onKeyPressSync:!0,onTextInput:!0}))};m.exports=t},131,[132,133,137]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={width:void 0,height:void 0};m.exports=function(h,n){var o=h||t,u=n||t;return o!==u&&(o.width!==u.width||o.height!==u.height)}},132,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(n){if(null==n)return n;var t=r(d[0])(n);if(null!=t){if('object'==typeof t){var u=(0,r(d[1]).processColorObject)(t);if(null!=u)return u}return'number'!=typeof t?null:t=(t<<24|t>>>8)>>>0}}},133,[134,136]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1]));m.exports=function(n){if('object'==typeof n&&null!=n){var o=(0,r(d[2]).normalizeColorObject)(n);if(null!=o)return o}if('string'==typeof n||'number'==typeof n)return(0,t.default)(n)}},134,[3,135,136]);
__d(function(_g,_r,i,a,m,e,d){'use strict';function r(r,n,t){return t<0&&(t+=1),t>1&&(t-=1),t<.16666666666666666?r+6*(n-r)*t:t<.5?n:t<.6666666666666666?r+(n-r)*(.6666666666666666-t)*6:r}function n(n,t,u){var s=u<.5?u*(1+t):u+t-u*t,c=2*u-s,l=r(c,s,n+.3333333333333333),o=r(c,s,n),g=r(c,s,n-.3333333333333333);return Math.round(255*l)<<24|Math.round(255*o)<<16|Math.round(255*g)<<8}var t,u='[-+]?\\d*\\.?\\d+',s="[-+]?\\d*\\.?\\d+%";function c(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];return'\\(\\s*('+n.join(')\\s*,\\s*(')+')\\s*\\)'}function l(r){var n=parseInt(r,10);return n<0?0:n>255?255:n}function o(r){return(parseFloat(r)%360+360)%360/360}function g(r){var n=parseFloat(r);return n<0?0:n>1?255:Math.round(255*n)}function h(r){var n=parseFloat(r);return n<0?0:n>100?1:n/100}function b(r){switch(r){case'transparent':return 0;case'aliceblue':return 4042850303;case'antiquewhite':return 4209760255;case'aqua':return 16777215;case'aquamarine':return 2147472639;case'azure':return 4043309055;case'beige':return 4126530815;case'bisque':return 4293182719;case'black':return 255;case'blanchedalmond':return 4293643775;case'blue':return 65535;case'blueviolet':return 2318131967;case'brown':return 2771004159;case'burlywood':return 3736635391;case'burntsienna':return 3934150143;case'cadetblue':return 1604231423;case'chartreuse':return 2147418367;case'chocolate':return 3530104575;case'coral':return 4286533887;case'cornflowerblue':return 1687547391;case'cornsilk':return 4294499583;case'crimson':return 3692313855;case'cyan':return 16777215;case'darkblue':return 35839;case'darkcyan':return 9145343;case'darkgoldenrod':return 3095792639;case'darkgray':return 2846468607;case'darkgreen':return 6553855;case'darkgrey':return 2846468607;case'darkkhaki':return 3182914559;case'darkmagenta':return 2332068863;case'darkolivegreen':return 1433087999;case'darkorange':return 4287365375;case'darkorchid':return 2570243327;case'darkred':return 2332033279;case'darksalmon':return 3918953215;case'darkseagreen':return 2411499519;case'darkslateblue':return 1211993087;case'darkslategray':case'darkslategrey':return 793726975;case'darkturquoise':return 13554175;case'darkviolet':return 2483082239;case'deeppink':return 4279538687;case'deepskyblue':return 12582911;case'dimgray':case'dimgrey':return 1768516095;case'dodgerblue':return 512819199;case'firebrick':return 2988581631;case'floralwhite':return 4294635775;case'forestgreen':return 579543807;case'fuchsia':return 4278255615;case'gainsboro':return 3705462015;case'ghostwhite':return 4177068031;case'gold':return 4292280575;case'goldenrod':return 3668254975;case'gray':return 2155905279;case'green':return 8388863;case'greenyellow':return 2919182335;case'grey':return 2155905279;case'honeydew':return 4043305215;case'hotpink':return 4285117695;case'indianred':return 3445382399;case'indigo':return 1258324735;case'ivory':return 4294963455;case'khaki':return 4041641215;case'lavender':return 3873897215;case'lavenderblush':return 4293981695;case'lawngreen':return 2096890111;case'lemonchiffon':return 4294626815;case'lightblue':return 2916673279;case'lightcoral':return 4034953471;case'lightcyan':return 3774873599;case'lightgoldenrodyellow':return 4210742015;case'lightgray':return 3553874943;case'lightgreen':return 2431553791;case'lightgrey':return 3553874943;case'lightpink':return 4290167295;case'lightsalmon':return 4288707327;case'lightseagreen':return 548580095;case'lightskyblue':return 2278488831;case'lightslategray':case'lightslategrey':return 2005441023;case'lightsteelblue':return 2965692159;case'lightyellow':return 4294959359;case'lime':return 16711935;case'limegreen':return 852308735;case'linen':return 4210091775;case'magenta':return 4278255615;case'maroon':return 2147483903;case'mediumaquamarine':return 1724754687;case'mediumblue':return 52735;case'mediumorchid':return 3126187007;case'mediumpurple':return 2473647103;case'mediumseagreen':return 1018393087;case'mediumslateblue':return 2070474495;case'mediumspringgreen':return 16423679;case'mediumturquoise':return 1221709055;case'mediumvioletred':return 3340076543;case'midnightblue':return 421097727;case'mintcream':return 4127193855;case'mistyrose':return 4293190143;case'moccasin':return 4293178879;case'navajowhite':return 4292783615;case'navy':return 33023;case'oldlace':return 4260751103;case'olive':return 2155872511;case'olivedrab':return 1804477439;case'orange':return 4289003775;case'orangered':return 4282712319;case'orchid':return 3664828159;case'palegoldenrod':return 4008225535;case'palegreen':return 2566625535;case'paleturquoise':return 2951671551;case'palevioletred':return 3681588223;case'papayawhip':return 4293907967;case'peachpuff':return 4292524543;case'peru':return 3448061951;case'pink':return 4290825215;case'plum':return 3718307327;case'powderblue':return 2967529215;case'purple':return 2147516671;case'rebeccapurple':return 1714657791;case'red':return 4278190335;case'rosybrown':return 3163525119;case'royalblue':return 1097458175;case'saddlebrown':return 2336560127;case'salmon':return 4202722047;case'sandybrown':return 4104413439;case'seagreen':return 780883967;case'seashell':return 4294307583;case'sienna':return 2689740287;case'silver':return 3233857791;case'skyblue':return 2278484991;case'slateblue':return 1784335871;case'slategray':case'slategrey':return 1887473919;case'snow':return 4294638335;case'springgreen':return 16744447;case'steelblue':return 1182971135;case'tan':return 3535047935;case'teal':return 8421631;case'thistle':return 3636451583;case'tomato':return 4284696575;case'turquoise':return 1088475391;case'violet':return 4001558271;case'wheat':return 4125012991;case'white':return 4294967295;case'whitesmoke':return 4126537215;case'yellow':return 4294902015;case'yellowgreen':return 2597139199}return null}m.exports=function(r){if('number'==typeof r)return r>>>0===r&&r>=0&&r<=4294967295?r:null;if('string'!=typeof r)return null;var p,f=(void 0===t&&(t={rgb:new RegExp('rgb'+c(u,u,u)),rgba:new RegExp('rgba'+c(u,u,u,u)),hsl:new RegExp('hsl'+c(u,s,s)),hsla:new RegExp('hsla'+c(u,s,s,u)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/}),t);if(p=f.hex6.exec(r))return parseInt(p[1]+'ff',16)>>>0;var y=b(r);return null!=y?y:(p=f.rgb.exec(r))?(l(p[1])<<24|l(p[2])<<16|l(p[3])<<8|255)>>>0:(p=f.rgba.exec(r))?(l(p[1])<<24|l(p[2])<<16|l(p[3])<<8|g(p[4]))>>>0:(p=f.hex3.exec(r))?parseInt(p[1]+p[1]+p[2]+p[2]+p[3]+p[3]+'ff',16)>>>0:(p=f.hex8.exec(r))?parseInt(p[1],16)>>>0:(p=f.hex4.exec(r))?parseInt(p[1]+p[1]+p[2]+p[2]+p[3]+p[3]+p[4]+p[4],16)>>>0:(p=f.hsl.exec(r))?(255|n(o(p[1]),h(p[2]),h(p[3])))>>>0:(p=f.hsla.exec(r))?(n(o(p[1]),h(p[2]),h(p[3]))|g(p[4]))>>>0:null}},135,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.processColorObject=e.normalizeColorObject=e.PlatformColor=e.DynamicColorIOSPrivate=void 0;e.PlatformColor=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return{semantic:n}},e.DynamicColorIOSPrivate=function(t){return{dynamic:{light:t.light,dark:t.dark,highContrastLight:t.highContrastLight,highContrastDark:t.highContrastDark}}},e.normalizeColorObject=function(t){if('semantic'in t)return t;if('dynamic'in t&&void 0!==t.dynamic){var n=r(d[0]),o=t.dynamic;return{dynamic:{light:n(o.light),dark:n(o.dark),highContrastLight:n(o.highContrastLight),highContrastDark:n(o.highContrastDark)}}}return null},e.processColorObject=function(t){if('dynamic'in t&&null!=t.dynamic){var n=r(d[1]),o=t.dynamic;return{dynamic:{light:n(o.light),dark:n(o.dark),highContrastLight:n(o.highContrastLight),highContrastDark:n(o.highContrastDark)}}}return t}},136,[134,133]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.ConditionallyIgnoredEventHandlers=function(t){if('ios'===n.default.OS&&!0!==g.RN$ViewConfigEventValidAttributesDisabled)return t;return},e.DynamicallyInjectedByGestureHandler=function(n){return t.add(n),n},e.isIgnored=function(n){if('object'==typeof n&&null!=n)return t.has(n);return!1};var n=r(d[0])(r(d[1])),t=new WeakSet},137,[3,17]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.get=f,_e.getWithFallback_DEPRECATED=function(t,n){if(null==e){if(c(t))return f(t,n)}else if(null!=e(t))return f(t,n);var r=function(e){return null};return r.displayName="Fallback("+t+")",r},_e.setRuntimeConfigProvider=function(t){(0,l.default)(null==e,'NativeComponentRegistry.setRuntimeConfigProvider() called more than once.'),e=t},_e.unstable_hasStaticViewConfig=function(t){var n;return!(null!=(n=null==e?void 0:e(t))?n:{native:!0}).native};var e,t=o(_r(d[0])),n=_r(d[1])(_r(d[2])),r=_r(d[1])(_r(d[3])),i=_r(d[1])(_r(d[4])),u=_r(d[1])(_r(d[5])),l=_r(d[1])(_r(d[6]));o(_r(d[7]));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(r,u,l):r[u]=e[u]}return r.default=e,n&&n.set(e,r),r}function f(n,l){return r.default.register(n,function(){var r,a=null!=(r=null==e?void 0:e(n))?r:{native:!0,strict:!1,verify:!1},o=a.native,f=a.strict,c=a.verify,v=o?(0,i.default)(n):(0,_r(d[8]).createViewConfig)(l());if(c){var s=o?v:(0,i.default)(n),p=o?(0,_r(d[8]).createViewConfig)(l()):v;if(f){var y=t.validate(n,s,p);'invalid'===y.type&&console.error(t.stringifyValidationResult(n,y))}else(0,u.default)(s,p)}return v}),n}function c(t){return(0,l.default)(null==e,'Unexpected invocation!'),null!=n.default.getViewManagerConfig(t)}},138,[139,3,140,123,146,163,20,119,166]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.stringifyValidationResult=function(n,u){var s=u.differences;return["StaticViewConfigValidator: Invalid static view config for '"+n+"'.",''].concat((0,t.default)(s.map(function(t){var n=t.type,u=t.path;switch(n){case'missing':return"- '"+u.join('.')+"' is missing.";case'unequal':return"- '"+u.join('.')+"' is the wrong value.";case'unexpected':return"- '"+u.join('.')+"' is present but not expected to be."}})),['']).join('\n')},e.validate=function(t,u,s){var l=[];if(n(l,[],{bubblingEventTypes:u.bubblingEventTypes,directEventTypes:u.directEventTypes,uiViewClassName:u.uiViewClassName,validAttributes:u.validAttributes},{bubblingEventTypes:s.bubblingEventTypes,directEventTypes:s.directEventTypes,uiViewClassName:s.uiViewClassName,validAttributes:s.validAttributes}),0===l.length)return{type:'valid'};return{type:'invalid',differences:l}};var t=r(d[0])(r(d[1]));function n(s,l,c,o){for(var p in c){var v=c[p];if(o.hasOwnProperty(p)){var f=o[p],y=u(v);if(null!=y){var b=u(f);if(null!=b){l.push(p),n(s,l,y,b),l.pop();continue}}v!==f&&s.push({path:[].concat((0,t.default)(l),[p]),type:'unequal',nativeValue:v,staticValue:f})}else s.push({path:[].concat((0,t.default)(l),[p]),type:'missing',nativeValue:v})}for(var h in o)c.hasOwnProperty(h)||(0,r(d[2]).isIgnored)(o[h])||s.push({path:[].concat((0,t.default)(l),[h]),type:'unexpected',staticValue:o[h]})}function u(t){return'object'!=typeof t||Array.isArray(t)?null:t}},139,[3,6,137]);
__d(function(g,r,i,a,m,e,d){var s=!0===g.RN$Bridgeless?r(d[0]):r(d[1]);m.exports=s},140,[141,143]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=function(n){return"[ReactNative Architecture][JS] '"+n+"' is not available in the new React Native architecture."};m.exports={getViewManagerConfig:function(o){return console.error(n('getViewManagerConfig')+'Use hasViewManagerConfig instead. viewManagerName: '+o),null},hasViewManagerConfig:function(n){return(0,r(d[0]).unstable_hasComponent)(n)},getConstants:function(){return console.error(n('getConstants')),{}},getConstantsForViewManager:function(o){return console.error(n('getConstantsForViewManager')),{}},getDefaultEventTypes:function(){return console.error(n('getDefaultEventTypes')),[]},lazilyLoadView:function(o){return console.error(n('lazilyLoadView')),{}},createView:function(o,t,u,s){return console.error(n('createView'))},updateView:function(o,t,u){return console.error(n('updateView'))},focus:function(o){return console.error(n('focus'))},blur:function(o){return console.error(n('blur'))},findSubviewIn:function(o,t,u){return console.error(n('findSubviewIn'))},dispatchViewManagerCommand:function(o,t,u){return console.error(n('dispatchViewManagerCommand'))},measure:function(o,t){return console.error(n('measure'))},measureInWindow:function(o,t){return console.error(n('measureInWindow'))},viewIsDescendantOf:function(o,t,u){return console.error(n('viewIsDescendantOf'))},measureLayout:function(o,t,u,s){return console.error(n('measureLayout'))},measureLayoutRelativeToParent:function(o,t,u){return console.error(n('measureLayoutRelativeToParent'))},setJSResponder:function(o,t){return console.error(n('setJSResponder'))},clearJSResponder:function(){},configureNextLayoutAnimation:function(o,t,u){return console.error(n('configureNextLayoutAnimation'))},removeSubviewsFromContainerWithID:function(o){return console.error(n('removeSubviewsFromContainerWithID'))},replaceExistingNonRootView:function(o,t){return console.error(n('replaceExistingNonRootView'))},setChildren:function(o,t){return console.error(n('setChildren'))},manageChildren:function(o,t,u,s,c,l){return console.error(n('manageChildren'))},setLayoutAnimationEnabledExperimental:function(o){console.error(n('setLayoutAnimationEnabledExperimental'))},sendAccessibilityEvent:function(o,t){return console.error(n('sendAccessibilityEvent'))},showPopupMenu:function(o,t,u,s){return console.error(n('showPopupMenu'))},dismissPopupMenu:function(){return console.error(n('dismissPopupMenu'))}}},141,[142]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.unstable_hasComponent=function(t){var o=n.get(t);if(null==o){if(!g.__nativeComponentRegistry__hasComponent)throw"unstable_hasComponent('"+t+"'): Global function is not registered";o=g.__nativeComponentRegistry__hasComponent(t),n.set(t,o)}return o};var n=new Map},142,[]);
__d(function(g,r,i,a,m,_e,d){var n=r(d[0])(r(d[1])),e={},t=new Set,o={},f=!1;function u(){return f||(o=n.default.getConstants(),f=!0),o}function c(o){if(void 0===e[o]&&g.nativeCallSyncHook&&n.default.getConstantsForViewManager)try{e[o]=n.default.getConstantsForViewManager(o)}catch(n){console.error("NativeUIManager.getConstantsForViewManager('"+o+"') threw an exception.",n),e[o]=null}var f=e[o];if(f)return f;if(!g.nativeCallSyncHook)return f;if(n.default.lazilyLoadView&&!t.has(o)){var c=n.default.lazilyLoadView(o);t.add(o),null!=c&&null!=c.viewConfig&&(u()[o]=c.viewConfig,s(o))}return e[o]}var l=Object.assign({},n.default,{createView:function(t,o,f,u){void 0===e[o]&&c(o),n.default.createView(t,o,f,u)},getConstants:function(){return u()},getViewManagerConfig:function(n){return c(n)},hasViewManagerConfig:function(n){return null!=c(n)}});function s(n){var t=u()[n];e[n]=t,t.Manager&&(r(d[2])(t,'Constants',{get:function(){var n=r(d[3])[t.Manager],e={};return n&&Object.keys(n).forEach(function(t){var o=n[t];'function'!=typeof o&&(e[t]=o)}),e}}),r(d[2])(t,'Commands',{get:function(){var n=r(d[3])[t.Manager],e={},o=0;return n&&Object.keys(n).forEach(function(t){'function'==typeof n[t]&&(e[t]=o++)}),e}}))}n.default.getViewManagerConfig=l.getViewManagerConfig,Object.keys(u()).forEach(function(n){s(n)}),g.nativeCallSyncHook||Object.keys(u()).forEach(function(t){r(d[4]).includes(t)||(e[t]||(e[t]=u()[t]),r(d[2])(n.default,t,{get:function(){return console.warn("Accessing view manager configs directly off UIManager via UIManager['"+t+"'] is no longer supported. Use UIManager.getViewManagerConfig('"+t+"') instead."),l.getViewManagerConfig(t)}}))}),m.exports=l},143,[3,144,31,21,145]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=e[f]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.getEnforcing('UIManager')},144,[19]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=['clearJSResponder','configureNextLayoutAnimation','createView','dismissPopupMenu','dispatchViewManagerCommand','findSubviewIn','getConstantsForViewManager','getDefaultEventTypes','manageChildren','measure','measureInWindow','measureLayout','measureLayoutRelativeToParent','removeRootView','removeSubviewsFromContainerWithID','replaceExistingNonRootView','sendAccessibilityEvent','setChildren','setJSResponder','setLayoutAnimationEnabledExperimental','showPopupMenu','updateView','viewIsDescendantOf','PopupMenu','LazyViewManagersEnabled','ViewManagerNames','StyleConstants','AccessibilityEventTypes','UIView','getViewManagerConfig','hasViewManagerConfig','blur','focus','genericBubblingEventTypes','genericDirectEventTypes','lazilyLoadView']},145,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function n(n){var s=r(d[0]).getConstants();s.ViewManagerNames||s.LazyViewManagersEnabled?n=t(n,r(d[0]).getDefaultEventTypes()):(n.bubblingEventTypes=t(n.bubblingEventTypes,s.genericBubblingEventTypes),n.directEventTypes=t(n.directEventTypes,s.genericDirectEventTypes))}function t(n,s){if(!s)return n;if(!n)return s;for(var u in s)if(s.hasOwnProperty(u)){var o=s[u];if(n.hasOwnProperty(u)){var c=n[u];'object'==typeof o&&'object'==typeof c&&(o=t(c,o))}n[u]=o}return n}function s(n){switch(n){case'CATransform3D':return r(d[3]);case'CGPoint':return r(d[4]);case'CGSize':return r(d[5]);case'UIEdgeInsets':return r(d[6]);case'Point':return r(d[4]);case'EdgeInsets':return r(d[6])}return null}function u(n){switch(n){case'CGColor':case'UIColor':return r(d[7]);case'CGColorArray':case'UIColorArray':return r(d[8]);case'CGImage':case'UIImage':case'RCTImageSource':return r(d[9]);case'Color':return r(d[7]);case'ColorArray':return r(d[8]);case'ImageSource':return r(d[9])}return null}m.exports=function(t){var o,c,l=r(d[0]).getViewManagerConfig(t);r(d[1])(null!=l&&null!=l.NativeProps,'requireNativeComponent: "%s" was not found in the UIManager.',t);var v=l.baseModuleName,b=l.bubblingEventTypes,f=l.directEventTypes,p=l.NativeProps;for(b=null!=(o=b)?o:{},f=null!=(c=f)?c:{};v;){var y=r(d[0]).getViewManagerConfig(v);y?(b=Object.assign({},y.bubblingEventTypes,b),f=Object.assign({},y.directEventTypes,f),p=Object.assign({},y.NativeProps,p),v=y.baseModuleName):v=null}var C={};for(var E in p){var T=p[E],I=s(T),w=u(T);C[E]=null==I?null==w||{process:w}:null==w?{diff:I}:{diff:I,process:w}}return C.style=r(d[2]),Object.assign(l,{uiViewClassName:t,validAttributes:C,bubblingEventTypes:b,directEventTypes:f}),n(l),l}},146,[140,20,147,150,151,132,152,133,153,154]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),o=r(d[0])(r(d[2])),n=r(d[0])(r(d[3])),l={process:t.default},f={alignContent:!0,alignItems:!0,alignSelf:!0,aspectRatio:!0,borderBottomWidth:!0,borderEndWidth:!0,borderLeftWidth:!0,borderRightWidth:!0,borderStartWidth:!0,borderTopWidth:!0,borderWidth:!0,bottom:!0,direction:!0,display:!0,end:!0,flex:!0,flexBasis:!0,flexDirection:!0,flexGrow:!0,flexShrink:!0,flexWrap:!0,height:!0,justifyContent:!0,left:!0,margin:!0,marginBottom:!0,marginEnd:!0,marginHorizontal:!0,marginLeft:!0,marginRight:!0,marginStart:!0,marginTop:!0,marginVertical:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,overflow:!0,padding:!0,paddingBottom:!0,paddingEnd:!0,paddingHorizontal:!0,paddingLeft:!0,paddingRight:!0,paddingStart:!0,paddingTop:!0,paddingVertical:!0,position:!0,right:!0,start:!0,top:!0,width:!0,zIndex:!0,elevation:!0,shadowColor:l,shadowOffset:{diff:n.default},shadowOpacity:!0,shadowRadius:!0,transform:{process:o.default},backfaceVisibility:!0,backgroundColor:l,borderBottomColor:l,borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderColor:l,borderEndColor:l,borderLeftColor:l,borderRadius:!0,borderRightColor:l,borderStartColor:l,borderStyle:!0,borderTopColor:l,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,opacity:!0,color:l,fontFamily:!0,fontSize:!0,fontStyle:!0,fontVariant:!0,fontWeight:!0,includeFontPadding:!0,letterSpacing:!0,lineHeight:!0,textAlign:!0,textAlignVertical:!0,textDecorationColor:l,textDecorationLine:!0,textDecorationStyle:!0,textShadowColor:l,textShadowOffset:!0,textShadowRadius:!0,textTransform:!0,writingDirection:!0,overlayColor:l,resizeMode:!0,tintColor:l};m.exports=f},147,[3,133,148,132]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return t}},148,[149]);
__d(function(g,r,_i4,_a,_m,e,d){'use strict';var t={createIdentityMatrix:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},createCopy:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]},createOrthographic:function(t,n,a,o,i,u){return[2/(n-t),0,0,0,0,2/(o-a),0,0,0,0,-2/(u-i),0,-(n+t)/(n-t),-(o+a)/(o-a),-(u+i)/(u-i),1]},createFrustum:function(t,n,a,o,i,u){var s=1/(n-t),c=1/(o-a),m=1/(i-u);return[i*s*2,0,0,0,0,i*c*2,0,0,(n+t)*s,(o+a)*c,(u+i)*m,-1,0,0,u*i*m*2,0]},createPerspective:function(t,n,a,o){var i=1/Math.tan(t/2),u=1/(a-o);return[i/n,0,0,0,0,i,0,0,0,0,(o+a)*u,-1,0,0,o*a*u*2,0]},createTranslate2d:function(n,a){var o=t.createIdentityMatrix();return t.reuseTranslate2dCommand(o,n,a),o},reuseTranslate2dCommand:function(t,n,a){t[12]=n,t[13]=a},reuseTranslate3dCommand:function(t,n,a,o){t[12]=n,t[13]=a,t[14]=o},createScale:function(n){var a=t.createIdentityMatrix();return t.reuseScaleCommand(a,n),a},reuseScaleCommand:function(t,n){t[0]=n,t[5]=n},reuseScale3dCommand:function(t,n,a,o){t[0]=n,t[5]=a,t[10]=o},reusePerspectiveCommand:function(t,n){t[11]=-1/n},reuseScaleXCommand:function(t,n){t[0]=n},reuseScaleYCommand:function(t,n){t[5]=n},reuseScaleZCommand:function(t,n){t[10]=n},reuseRotateXCommand:function(t,n){t[5]=Math.cos(n),t[6]=Math.sin(n),t[9]=-Math.sin(n),t[10]=Math.cos(n)},reuseRotateYCommand:function(t,n){t[0]=Math.cos(n),t[2]=-Math.sin(n),t[8]=Math.sin(n),t[10]=Math.cos(n)},reuseRotateZCommand:function(t,n){t[0]=Math.cos(n),t[1]=Math.sin(n),t[4]=-Math.sin(n),t[5]=Math.cos(n)},createRotateZ:function(n){var a=t.createIdentityMatrix();return t.reuseRotateZCommand(a,n),a},reuseSkewXCommand:function(t,n){t[4]=Math.tan(n)},reuseSkewYCommand:function(t,n){t[1]=Math.tan(n)},multiplyInto:function(t,n,a){var o=n[0],i=n[1],u=n[2],s=n[3],c=n[4],m=n[5],v=n[6],f=n[7],h=n[8],M=n[9],l=n[10],C=n[11],p=n[12],x=n[13],T=n[14],y=n[15],S=a[0],P=a[1],q=a[2],D=a[3];t[0]=S*o+P*c+q*h+D*p,t[1]=S*i+P*m+q*M+D*x,t[2]=S*u+P*v+q*l+D*T,t[3]=S*s+P*f+q*C+D*y,S=a[4],P=a[5],q=a[6],D=a[7],t[4]=S*o+P*c+q*h+D*p,t[5]=S*i+P*m+q*M+D*x,t[6]=S*u+P*v+q*l+D*T,t[7]=S*s+P*f+q*C+D*y,S=a[8],P=a[9],q=a[10],D=a[11],t[8]=S*o+P*c+q*h+D*p,t[9]=S*i+P*m+q*M+D*x,t[10]=S*u+P*v+q*l+D*T,t[11]=S*s+P*f+q*C+D*y,S=a[12],P=a[13],q=a[14],D=a[15],t[12]=S*o+P*c+q*h+D*p,t[13]=S*i+P*m+q*M+D*x,t[14]=S*u+P*v+q*l+D*T,t[15]=S*s+P*f+q*C+D*y},determinant:function(t){var n=r(d[0])(t,16),a=n[0],o=n[1],i=n[2],u=n[3],s=n[4],c=n[5],m=n[6],v=n[7],f=n[8],h=n[9],M=n[10],l=n[11],C=n[12],p=n[13],x=n[14],T=n[15];return u*m*h*C-i*v*h*C-u*c*M*C+o*v*M*C+i*c*l*C-o*m*l*C-u*m*f*p+i*v*f*p+u*s*M*p-a*v*M*p-i*s*l*p+a*m*l*p+u*c*f*x-o*v*f*x-u*s*h*x+a*v*h*x+o*s*l*x-a*c*l*x-i*c*f*T+o*m*f*T+i*s*h*T-a*m*h*T-o*s*M*T+a*c*M*T},inverse:function(n){var a=t.determinant(n);if(!a)return n;var o=r(d[0])(n,16),i=o[0],u=o[1],s=o[2],c=o[3],m=o[4],v=o[5],f=o[6],h=o[7],M=o[8],l=o[9],C=o[10],p=o[11],x=o[12],T=o[13],y=o[14],S=o[15];return[(f*p*T-h*C*T+h*l*y-v*p*y-f*l*S+v*C*S)/a,(c*C*T-s*p*T-c*l*y+u*p*y+s*l*S-u*C*S)/a,(s*h*T-c*f*T+c*v*y-u*h*y-s*v*S+u*f*S)/a,(c*f*l-s*h*l-c*v*C+u*h*C+s*v*p-u*f*p)/a,(h*C*x-f*p*x-h*M*y+m*p*y+f*M*S-m*C*S)/a,(s*p*x-c*C*x+c*M*y-i*p*y-s*M*S+i*C*S)/a,(c*f*x-s*h*x-c*m*y+i*h*y+s*m*S-i*f*S)/a,(s*h*M-c*f*M+c*m*C-i*h*C-s*m*p+i*f*p)/a,(v*p*x-h*l*x+h*M*T-m*p*T-v*M*S+m*l*S)/a,(c*l*x-u*p*x-c*M*T+i*p*T+u*M*S-i*l*S)/a,(u*h*x-c*v*x+c*m*T-i*h*T-u*m*S+i*v*S)/a,(c*v*M-u*h*M-c*m*l+i*h*l+u*m*p-i*v*p)/a,(f*l*x-v*C*x-f*M*T+m*C*T+v*M*y-m*l*y)/a,(u*C*x-s*l*x+s*M*T-i*C*T-u*M*y+i*l*y)/a,(s*v*x-u*f*x-s*m*T+i*f*T+u*m*y-i*v*y)/a,(u*f*M-s*v*M+s*m*l-i*f*l-u*m*C+i*v*C)/a]},transpose:function(t){return[t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]]},multiplyVectorByMatrix:function(t,n){var a=r(d[0])(t,4),o=a[0],i=a[1],u=a[2],s=a[3];return[o*n[0]+i*n[4]+u*n[8]+s*n[12],o*n[1]+i*n[5]+u*n[9]+s*n[13],o*n[2]+i*n[6]+u*n[10]+s*n[14],o*n[3]+i*n[7]+u*n[11]+s*n[15]]},v3Length:function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])},v3Normalize:function(n,a){var o=1/(a||t.v3Length(n));return[n[0]*o,n[1]*o,n[2]*o]},v3Dot:function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]},v3Combine:function(t,n,a,o){return[a*t[0]+o*n[0],a*t[1]+o*n[1],a*t[2]+o*n[2]]},v3Cross:function(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]},quaternionToDegreesXYZ:function(n,a,o){var i=r(d[0])(n,4),u=i[0],s=i[1],c=i[2],m=i[3],v=u*u,f=s*s,h=c*c,M=u*s+c*m,l=m*m+v+f+h,C=180/Math.PI;return M>.49999*l?[0,2*Math.atan2(u,m)*C,90]:M<-.49999*l?[0,-2*Math.atan2(u,m)*C,-90]:[t.roundTo3Places(Math.atan2(2*u*m-2*s*c,1-2*v-2*h)*C),t.roundTo3Places(Math.atan2(2*s*m-2*u*c,1-2*f-2*h)*C),t.roundTo3Places(Math.asin(2*u*s+2*c*m)*C)]},roundTo3Places:function(t){var n=t.toString().split('e');return.001*Math.round(n[0]+'e'+(n[1]?+n[1]-3:3))},decomposeMatrix:function(n){r(d[1])(16===n.length,'Matrix decomposition needs a list of 3d matrix values, received %s',n);var a=[],o=[],i=[],u=[],s=[];if(n[15]){for(var c=[],m=[],v=0;v<4;v++){c.push([]);for(var f=0;f<4;f++){var h=n[4*v+f]/n[15];c[v].push(h),m.push(3===f?0:h)}}if(m[15]=1,t.determinant(m)){if(0!==c[0][3]||0!==c[1][3]||0!==c[2][3]){var M=[c[0][3],c[1][3],c[2][3],c[3][3]],l=t.inverse(m),C=t.transpose(l);a=t.multiplyVectorByMatrix(M,C)}else a[0]=a[1]=a[2]=0,a[3]=1;for(var p=0;p<3;p++)s[p]=c[3][p];for(var x=[],T=0;T<3;T++)x[T]=[c[T][0],c[T][1],c[T][2]];i[0]=t.v3Length(x[0]),x[0]=t.v3Normalize(x[0],i[0]),u[0]=t.v3Dot(x[0],x[1]),x[1]=t.v3Combine(x[1],x[0],1,-u[0]),i[1]=t.v3Length(x[1]),x[1]=t.v3Normalize(x[1],i[1]),u[0]/=i[1],u[1]=t.v3Dot(x[0],x[2]),x[2]=t.v3Combine(x[2],x[0],1,-u[1]),u[2]=t.v3Dot(x[1],x[2]),x[2]=t.v3Combine(x[2],x[1],1,-u[2]),i[2]=t.v3Length(x[2]),x[2]=t.v3Normalize(x[2],i[2]),u[1]/=i[2],u[2]/=i[2];var y,S=t.v3Cross(x[1],x[2]);if(t.v3Dot(x[0],S)<0)for(var P=0;P<3;P++)i[P]*=-1,x[P][0]*=-1,x[P][1]*=-1,x[P][2]*=-1;return o[0]=.5*Math.sqrt(Math.max(1+x[0][0]-x[1][1]-x[2][2],0)),o[1]=.5*Math.sqrt(Math.max(1-x[0][0]+x[1][1]-x[2][2],0)),o[2]=.5*Math.sqrt(Math.max(1-x[0][0]-x[1][1]+x[2][2],0)),o[3]=.5*Math.sqrt(Math.max(1+x[0][0]+x[1][1]+x[2][2],0)),x[2][1]>x[1][2]&&(o[0]=-o[0]),x[0][2]>x[2][0]&&(o[1]=-o[1]),x[1][0]>x[0][1]&&(o[2]=-o[2]),{rotationDegrees:y=o[0]<.001&&o[0]>=0&&o[1]<.001&&o[1]>=0?[0,0,t.roundTo3Places(180*Math.atan2(x[0][1],x[0][0])/Math.PI)]:t.quaternionToDegreesXYZ(o,c,x),perspective:a,quaternion:o,scale:i,skew:u,translation:s,rotate:y[2],rotateX:y[0],rotateY:y[1],scaleX:i[0],scaleY:i[1],translateX:s[0],translateY:s[1]}}}}};_m.exports=t},149,[22,20]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n){return!(t===n||t&&n&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[5]===n[5]&&t[10]===n[10]&&t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[11]===n[11]&&t[15]===n[15])}},150,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={x:void 0,y:void 0};m.exports=function(n,o){return(n=n||t)!==(o=o||t)&&(n.x!==o.x||n.y!==o.y)}},151,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={top:void 0,left:void 0,right:void 0,bottom:void 0};m.exports=function(o,f){return(o=o||t)!==(f=f||t)&&(o.top!==f.top||o.left!==f.left||o.right!==f.right||o.bottom!==f.bottom)}},152,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0])(r(d[1])),l=0;function u(u){var o=(0,n.default)(u);return null==o?(console.error('Invalid value in color array:',u),l):o}m.exports=function(n){return null==n?null:n.map(u)}},153,[3,133]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n,s,u;function o(){if(u)return u;var t=g.nativeExtensions&&g.nativeExtensions.SourceCode;return t||(t=r(d[0]).default),u=t.getConstants().scriptURL}function f(){if(void 0===n){var t=o(),s=t&&t.match(/^https?:\/\/.*?\//);n=s?s[0]:null}return n}function c(t){if(t){if(t.startsWith('assets://'))return null;(t=t.substring(0,t.lastIndexOf('/')+1)).includes('://')||(t='file://'+t)}return t}m.exports=function(n){if('object'==typeof n)return n;var u=r(d[1]).getAssetByID(n);if(!u)return null;var l=new(r(d[2]))(f(),(void 0===s&&(s=c(o())),s),u);return t?t(l):l.defaultAsset()},m.exports.pickScale=r(d[3]).pickScale,m.exports.setCustomSourceTransformer=function(n){t=n}},154,[155,156,157,158]);
__d(function(g,_r,_i,_a,m,_e,d){function e(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,r=new WeakMap;return(e=function(e){return e?r:n})(t)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=e(n);if(r&&r.has(t))return r.get(t);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in t)if("default"!==f&&{}.hasOwnProperty.call(t,f)){var a=u?Object.getOwnPropertyDescriptor(t,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=t[f]}return o.default=t,r&&r.set(t,o),o})(_r(d[0])).getEnforcing('SourceCode'),n=null,r={getConstants:function(){return null==n&&(n=t.getConstants()),n}};_e.default=r},155,[19]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=[];m.exports={registerAsset:function(s){return t.push(s)},getAssetByID:function(s){return t[s-1]}}},156,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function s(s){var t=r(d[0]).pickScale(s.scales,r(d[1]).get()),n=1===t?'':'@'+t+'x';return r(d[2]).getBasePath(s)+'/'+s.name+n+'.'+s.type}var t=(function(){return r(d[4])(function s(t,n,u){r(d[3])(this,s),this.serverUrl=t,this.jsbundleUrl=n,this.asset=u},[{key:"isLoadedFromServer",value:function(){return!!this.serverUrl}},{key:"isLoadedFromFileSystem",value:function(){return!(!this.jsbundleUrl||!this.jsbundleUrl.startsWith('file://'))}},{key:"defaultAsset",value:function(){return this.isLoadedFromServer()?this.assetServerURL():this.scaledAssetURLNearBundle()}},{key:"assetServerURL",value:function(){return r(d[5])(!!this.serverUrl,'need server to load from'),this.fromSource(this.serverUrl+s(this.asset)+"?platform=ios&hash="+this.asset.hash)}},{key:"scaledAssetPath",value:function(){return this.fromSource(s(this.asset))}},{key:"scaledAssetURLNearBundle",value:function(){var t=this.jsbundleUrl||'file://';return this.fromSource(t+s(this.asset).replace(/\.\.\//g,'_'))}},{key:"resourceIdentifierWithoutScale",value:function(){return r(d[5])(!1,'resource identifiers work on Android'),this.fromSource(r(d[2]).getAndroidResourceIdentifier(this.asset))}},{key:"drawableFolderInBundle",value:function(){var s,t,n=this.jsbundleUrl||'file://';return this.fromSource(n+(s=this.asset,t=r(d[0]).pickScale(s.scales,r(d[1]).get()),r(d[2]).getAndroidResourceFolderName(s,t)+'/'+r(d[2]).getAndroidResourceIdentifier(s)+'.'+s.type))}},{key:"fromSource",value:function(s){return{__packager_asset:!0,width:this.asset.width,height:this.asset.height,uri:s,scale:r(d[0]).pickScale(this.asset.scales,r(d[1]).get())}}}])})();t.pickScale=r(d[0]).pickScale,m.exports=t},157,[158,159,162,12,13,20]);
__d(function(g,r,_i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getUrlCacheBreaker=function(){if(null==n)return'';return n},e.pickScale=function(n,u){null==u&&(u=t.default.get());for(var l=0;l<n.length;l++)if(n[l]>=u)return n[l];return n[n.length-1]||1},e.setUrlCacheBreaker=function(t){n=t};var n,t=r(d[0])(r(d[1]))},158,[3,159]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=(function(){function t(){r(d[0])(this,t)}return r(d[1])(t,null,[{key:"get",value:function(){return r(d[2]).get('window').scale}},{key:"getFontScale",value:function(){return r(d[2]).get('window').fontScale||t.get()}},{key:"getPixelSizeForLayoutSize",value:function(n){return Math.round(n*t.get())}},{key:"roundToNearestPixel",value:function(n){var u=t.get();return Math.round(n*u)/u}},{key:"startDetecting",value:function(){}}])})();m.exports=t},159,[12,13,160]);
__d(function(g,r,i,a,m,e,d){var n,t=r(d[0])(r(d[1])),s=r(d[0])(r(d[2])),l=r(d[0])(r(d[3])),o=r(d[0])(r(d[4])),c=r(d[0])(r(d[5])),u=r(d[0])(r(d[6])),f=new l.default,h=!1,v=(function(){return(0,s.default)(function n(){(0,t.default)(this,n)},null,[{key:"get",value:function(t){return(0,u.default)(n[t],'No dimension set for key '+t),n[t]}},{key:"set",value:function(t){var s=t.screen,l=t.window,o=t.windowPhysicalPixels;o&&(l={width:o.width/o.scale,height:o.height/o.scale,scale:o.scale,fontScale:o.fontScale});var c=t.screenPhysicalPixels;c?s={width:c.width/c.scale,height:c.height/c.scale,scale:c.scale,fontScale:c.fontScale}:null==s&&(s=l),n={window:l,screen:s},h?f.emit('change',n):h=!0}},{key:"addEventListener",value:function(n,t){return(0,u.default)('change'===n,'Trying to subscribe to unknown event: "%s"',n),f.addListener(n,t)}}])})(),w=g.nativeExtensions&&g.nativeExtensions.DeviceInfo&&g.nativeExtensions.DeviceInfo.Dimensions;w||(o.default.addListener('didUpdateDimensions',function(n){v.set(n)}),w=c.default.getConstants().Dimensions),v.set(w),m.exports=v},160,[3,12,13,5,4,161,20]);
__d(function(g,_r,_i,_a,m,_e,d){function e(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,r=new WeakMap;return(e=function(e){return e?r:n})(t)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=e(n);if(r&&r.has(t))return r.get(t);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in t)if("default"!==f&&{}.hasOwnProperty.call(t,f)){var a=u?Object.getOwnPropertyDescriptor(t,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=t[f]}return o.default=t,r&&r.set(t,o),o})(_r(d[0])).getEnforcing('DeviceInfo'),n=null,r={getConstants:function(){return null==n&&(n=t.getConstants()),n}};_e.default=r},161,[19]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={.75:'ldpi',1:'mdpi',1.5:'hdpi',2:'xhdpi',3:'xxhdpi',4:'xxxhdpi'};function n(n){if(n.toString()in t)return t[n.toString()];throw new Error('no such scale '+n.toString())}var o=new Set(['gif','jpeg','jpg','png','svg','webp','xml']);function s(t){var n=t.httpServerLocation;return n.startsWith('/')?n.substr(1):n}m.exports={getAndroidResourceFolderName:function(s,u){if(!o.has(s.type))return'raw';var c=n(u);if(!c)throw new Error("Don't know which android drawable suffix to use for scale: "+u+'\nAsset: '+JSON.stringify(s,null,'\t')+'\nPossible scales are:'+JSON.stringify(t,null,'\t'));return'drawable-'+c},getAndroidResourceIdentifier:function(t){return(s(t)+'/'+t.name).toLowerCase().replace(/\//g,'_').replace(/([^a-z0-9_])/g,'').replace(/^assets_/,'')},getBasePath:s}},162,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n){for(var f of['validAttributes','bubblingEventTypes','directEventTypes']){var u=Object.keys(o(t[f],n[f]));if(u.length>0){var s,c=null!=(s=n.uiViewClassName)?s:t.uiViewClassName;console.error("'"+c+"' has a view config that does not match native. '"+f+"' is missing: "+u.join(', '))}}},e.getConfigWithoutViewProps=function(n,o){if(!n[o])return{};return Object.keys(n[o]).filter(function(n){return!t.default[o][n]}).reduce(function(t,f){return t[f]=n[o][f],t},{})},e.stringifyViewConfig=function(t){return JSON.stringify(t,function(t,n){return'function'==typeof n?"\u0192 "+n.name:n},2)};var t=r(d[0])(r(d[1])),n=['transform','hitSlop'];function o(t,f){var u={};function s(t,n,f){if(typeof t==typeof n||null==t)if('object'!=typeof t)t===n||(u[f]=n);else{var s=o(t,n);Object.keys(s).length>1&&(u[f]=s)}else u[f]=n}for(var c in t)n.includes(c)||(f?t.hasOwnProperty(c)&&s(t[c],f[c],c):u[c]={});return u}},163,[3,164]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])).default;e.default=t},164,[3,165]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])),o={topAccessibilityAction:{registrationName:'onAccessibilityAction'},topAccessibilityTap:{registrationName:'onAccessibilityTap'},topMagicTap:{registrationName:'onMagicTap'},topAccessibilityEscape:{registrationName:'onAccessibilityEscape'},topLayout:{registrationName:'onLayout'},onGestureHandlerEvent:(0,r(d[2]).DynamicallyInjectedByGestureHandler)({registrationName:'onGestureHandlerEvent'}),onGestureHandlerStateChange:(0,r(d[2]).DynamicallyInjectedByGestureHandler)({registrationName:'onGestureHandlerStateChange'})},n={accessible:!0,accessibilityActions:!0,accessibilityLabel:!0,accessibilityHint:!0,accessibilityLanguage:!0,accessibilityValue:!0,accessibilityViewIsModal:!0,accessibilityElementsHidden:!0,accessibilityIgnoresInvertColors:!0,testID:!0,backgroundColor:{process:r(d[3])},backfaceVisibility:!0,opacity:!0,shadowColor:{process:r(d[3])},shadowOffset:{diff:r(d[4])},shadowOpacity:!0,shadowRadius:!0,needsOffscreenAlphaCompositing:!0,overflow:!0,shouldRasterizeIOS:!0,transform:{diff:r(d[5])},accessibilityRole:!0,accessibilityState:!0,nativeID:!0,pointerEvents:!0,removeClippedSubviews:!0,borderRadius:!0,borderColor:{process:r(d[3])},borderWidth:!0,borderStyle:!0,hitSlop:{diff:r(d[6])},collapsable:!0,borderTopWidth:!0,borderTopColor:{process:r(d[3])},borderRightWidth:!0,borderRightColor:{process:r(d[3])},borderBottomWidth:!0,borderBottomColor:{process:r(d[3])},borderLeftWidth:!0,borderLeftColor:{process:r(d[3])},borderStartWidth:!0,borderStartColor:{process:r(d[3])},borderEndWidth:!0,borderEndColor:{process:r(d[3])},borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,borderTopEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderBottomEndRadius:!0,display:!0,zIndex:!0,top:!0,right:!0,start:!0,end:!0,bottom:!0,left:!0,width:!0,height:!0,minWidth:!0,maxWidth:!0,minHeight:!0,maxHeight:!0,marginTop:!0,marginRight:!0,marginBottom:!0,marginLeft:!0,marginStart:!0,marginEnd:!0,marginVertical:!0,marginHorizontal:!0,margin:!0,paddingTop:!0,paddingRight:!0,paddingBottom:!0,paddingLeft:!0,paddingStart:!0,paddingEnd:!0,paddingVertical:!0,paddingHorizontal:!0,padding:!0,flex:!0,flexGrow:!0,flexShrink:!0,flexBasis:!0,flexDirection:!0,flexWrap:!0,justifyContent:!0,alignItems:!0,alignSelf:!0,alignContent:!0,position:!0,aspectRatio:!0,direction:!0,style:t.default},s=(0,r(d[2]).ConditionallyIgnoredEventHandlers)({onLayout:!0,onMagicTap:!0,onAccessibilityAction:!0,onAccessibilityEscape:!0,onAccessibilityTap:!0,onMoveShouldSetResponder:!0,onMoveShouldSetResponderCapture:!0,onStartShouldSetResponder:!0,onStartShouldSetResponderCapture:!0,onResponderGrant:!0,onResponderReject:!0,onResponderStart:!0,onResponderEnd:!0,onResponderRelease:!0,onResponderMove:!0,onResponderTerminate:!0,onResponderTerminationRequest:!0,onShouldBlockNativeResponder:!0,onTouchStart:!0,onTouchMove:!0,onTouchEnd:!0,onTouchCancel:!0,onPointerUp:!0,onPointerDown:!0,onPointerCancel:!0,onPointerEnter:!0,onPointerMove:!0,onPointerLeave:!0,onPointerOver:!0,onPointerOut:!0}),p={bubblingEventTypes:{topPress:{phasedRegistrationNames:{bubbled:'onPress',captured:'onPressCapture'}},topChange:{phasedRegistrationNames:{bubbled:'onChange',captured:'onChangeCapture'}},topFocus:{phasedRegistrationNames:{bubbled:'onFocus',captured:'onFocusCapture'}},topBlur:{phasedRegistrationNames:{bubbled:'onBlur',captured:'onBlurCapture'}},topSubmitEditing:{phasedRegistrationNames:{bubbled:'onSubmitEditing',captured:'onSubmitEditingCapture'}},topEndEditing:{phasedRegistrationNames:{bubbled:'onEndEditing',captured:'onEndEditingCapture'}},topKeyPress:{phasedRegistrationNames:{bubbled:'onKeyPress',captured:'onKeyPressCapture'}},topTouchStart:{phasedRegistrationNames:{bubbled:'onTouchStart',captured:'onTouchStartCapture'}},topTouchMove:{phasedRegistrationNames:{bubbled:'onTouchMove',captured:'onTouchMoveCapture'}},topTouchCancel:{phasedRegistrationNames:{bubbled:'onTouchCancel',captured:'onTouchCancelCapture'}},topTouchEnd:{phasedRegistrationNames:{bubbled:'onTouchEnd',captured:'onTouchEndCapture'}},topPointerCancel:{phasedRegistrationNames:{captured:'onPointerCancelCapture',bubbled:'onPointerCancel'}},topPointerDown:{phasedRegistrationNames:{captured:'onPointerDownCapture',bubbled:'onPointerDown'}},topPointerMove:{phasedRegistrationNames:{captured:'onPointerMoveCapture',bubbled:'onPointerMove'}},topPointerUp:{phasedRegistrationNames:{captured:'onPointerUpCapture',bubbled:'onPointerUp'}},topPointerEnter:{phasedRegistrationNames:{captured:'onPointerEnterCapture',bubbled:'onPointerEnter',skipBubbling:!0}},topPointerLeave:{phasedRegistrationNames:{captured:'onPointerLeaveCapture',bubbled:'onPointerLeave',skipBubbling:!0}},topPointerOver:{phasedRegistrationNames:{captured:'onPointerOverCapture',bubbled:'onPointerOver'}},topPointerOut:{phasedRegistrationNames:{captured:'onPointerOutCapture',bubbled:'onPointerOut'}}},directEventTypes:o,validAttributes:Object.assign({},n,s)};e.default=p},165,[3,147,137,133,132,150,152]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.createViewConfig=function(u){return{uiViewClassName:u.uiViewClassName,Commands:{},bubblingEventTypes:n(t.default.bubblingEventTypes,u.bubblingEventTypes),directEventTypes:n(t.default.directEventTypes,u.directEventTypes),validAttributes:n(t.default.validAttributes,u.validAttributes)}};var t=r(d[0])(r(d[1]));function n(t,n){var u;return null==t||null==n?null!=(u=null!=t?t:n)?u:{}:Object.assign({},t,n)}},166,[3,164]);
__d(function(g,r,i,a,m,e,d){'use strict';var n;var t=function(o,u){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,s=arguments.length>3?arguments[3]:void 0,c='number'==typeof f?s:f,l='number'==typeof f?f:-1;if(0===l)return!0;if(o===u)return!1;if('function'==typeof o&&'function'==typeof u){var v=null==c?void 0:c.unsafelyIgnoreFunctions;return null==v&&(!n||!n.onDifferentFunctionsIgnored||c&&'unsafelyIgnoreFunctions'in c||n.onDifferentFunctionsIgnored(o.name,u.name),v=!0),!v}if('object'!=typeof o||null===o)return o!==u;if('object'!=typeof u||null===u)return!0;if(o.constructor!==u.constructor)return!0;if(Array.isArray(o)){var y=o.length;if(u.length!==y)return!0;for(var p=0;p<y;p++)if(t(o[p],u[p],l-1,c))return!0}else{for(var b in o)if(t(o[b],u[b],l-1,c))return!0;for(var h in u)if(void 0===o[h]&&void 0!==u[h])return!0}return!1};m.exports=t,m.exports.unstable_setLogListeners=function(t){n=t}},167,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return t}},168,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';m.exports=function t(n){if(null!==n&&'object'==typeof n){if(!Array.isArray(n))return n;for(var f={},i=0,o=n.length;i<o;++i){var u=t(n[i]);if(u)for(var c in u)f[c]=u[c]}return f}}},169,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={showErrorDialog:function(o){var n,t=o.componentStack,c=o.error;n=c instanceof Error?c:'string'==typeof c?new(r(d[0]).SyntheticError)(c):new(r(d[0]).SyntheticError)('Unspecified error');try{n.componentStack=t,n.isComponentError=!0}catch(o){}return(0,r(d[0]).handleException)(n,!1),!1}};e.default=o},170,[43]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=new(r(d[0])(r(d[1])).default);e.default=t},171,[3,5]);
__d(function(g,r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=r(d[0])(r(d[1])),t=r(d[0])(r(d[2])),l=r(d[0])(r(d[3])),u=r(d[0])(r(d[4])),c=r(d[0])(r(d[5]));function n(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(n=function(){return!!e})()}var o=(function(o){function f(e,c){var o;(0,t.default)(this,f);var s,b,v,p=c.bubbles,y=c.cancelable,_=c.composed;return s=this,b=f,v=[e,{bubbles:p,cancelable:y,composed:_}],b=(0,u.default)(b),(o=(0,l.default)(s,n()?Reflect.construct(b,v||[],(0,u.default)(s).constructor):b.apply(s,v))).detail=c.detail,o}return(0,c.default)(f,o),(0,e.default)(f)})(r(d[0])(r(d[6])).default);_e.default=o},172,[3,13,12,45,44,47,173]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),s=(function(){return(0,n.default)(function n(s,l){(0,t.default)(this,n),this.type=s,this.bubbles=!(null==l||!l.bubbles),this.cancelable=!(null==l||!l.cancelable),this.composed=!(null==l||!l.composed),this.scoped=!(null==l||!l.scoped),this.isTrusted=!1,this.timeStamp=Date.now(),this.defaultPrevented=!1,this.NONE=0,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.eventPhase=this.NONE,this.currentTarget=null,this.target=null,this.srcElement=null},[{key:"composedPath",value:function(){throw new Error('TODO: not yet implemented')}},{key:"preventDefault",value:function(){this.defaultPrevented=!0,null!=this._syntheticEvent&&this._syntheticEvent.preventDefault()}},{key:"initEvent",value:function(t,n,s){throw new Error('TODO: not yet implemented. This method is also deprecated.')}},{key:"stopImmediatePropagation",value:function(){throw new Error('TODO: not yet implemented')}},{key:"stopPropagation",value:function(){null!=this._syntheticEvent&&this._syntheticEvent.stopPropagation()}},{key:"setSyntheticEvent",value:function(t){this._syntheticEvent=t}}])})();g.Event=s;e.default=s},173,[3,12,13]);
__d(function(g,_r,_i,_a,m,_e,d){'use strict';var e=_r(d[0])(_r(d[1])),t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var l=n?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,a&&a.set(e,r),r})(_r(d[2])),a=_r(d[0])(_r(d[3])),r=_r(d[0])(_r(d[4])),n=_r(d[0])(_r(d[5])),i=["animating","color","hidesWhenStopped","onLayout","size","style"];function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}var l='android'===a.default.OS?_r(d[6]):_r(d[7]).default,s=t.forwardRef(function(t,o){var s,c,f=t.animating,p=void 0===f||f,h=t.color,y=void 0===h?'ios'===a.default.OS?"#999999":null:h,v=t.hidesWhenStopped,O=void 0===v||v,j=t.onLayout,b=t.size,w=void 0===b?'small':b,S=t.style,_=(0,e.default)(t,i);switch(w){case'small':s=u.sizeSmall,c='small';break;case'large':s=u.sizeLarge,c='large';break;default:s={height:w,width:w}}var z=Object.assign({animating:p,color:y,hidesWhenStopped:O},_,{ref:o,style:s,size:c});return(0,_r(d[8]).jsx)(n.default,{onLayout:j,style:r.default.compose(u.container,S),children:'android'===a.default.OS?(0,_r(d[8]).jsx)(l,Object.assign({},z,{styleAttr:'Normal',indeterminate:!0})):(0,_r(d[8]).jsx)(l,Object.assign({},z))})});s.displayName='ActivityIndicator';var u=r.default.create({container:{alignItems:'center',justifyContent:'center'},sizeSmall:{width:20,height:20},sizeLarge:{width:36,height:36}});m.exports=s},174,[3,91,119,17,175,176,181,183,179]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]).roundToNearestPixel(.4);0===t&&(t=1/r(d[0]).get());var o={position:'absolute',left:0,right:0,top:0,bottom:0};m.exports={hairlineWidth:t,absoluteFill:o,absoluteFillObject:o,compose:function(t,o){return null!=t&&null!=o?[t,o]:null!=t?t:o},flatten:r(d[1]),setStyleAttributePreprocessor:function(t,o){var l;if(!0===r(d[2])[t])l={process:o};else{if('object'!=typeof r(d[2])[t])return void console.error(t+" is not a valid style attribute");l=Object.assign({},r(d[2])[t],{process:o})}r(d[2])[t]=l},create:function(t){return t}}},175,[159,169,147]);
__d(function(g,_r,_i,_a,m,_e,d){var e=_r(d[0])(_r(d[1])),r=_r(d[0])(_r(d[2]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}var n=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var a={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var o=f?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(a,u,o):a[u]=e[u]}return a.default=e,n&&n.set(e,a),a})(_r(d[3])).forwardRef(function(t,n){return(0,_r(d[4]).jsx)(r.default.Provider,{value:!1,children:(0,_r(d[4]).jsx)(e.default,Object.assign({},t,{ref:n}))})});n.displayName='View',m.exports=n},176,[3,177,178,119,179]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;var e=i(_r(d[0])),r=_r(d[1])(_r(d[2])),o=_r(d[1])(_r(d[3]));i(_r(d[4]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,o=new WeakMap;return(t=function(e){return e?o:r})(e)}function i(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=t(r);if(o&&o.has(e))return o.get(e);var i={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var a=n?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i.default=e,o&&o.set(e,i),i}var n=_e.__INTERNAL_VIEW_CONFIG='android'===o.default.OS?{uiViewClassName:'RCTView',validAttributes:{removeClippedSubviews:!0,accessible:!0,hasTVPreferredFocus:!0,nextFocusDown:!0,nextFocusForward:!0,nextFocusLeft:!0,nextFocusRight:!0,nextFocusUp:!0,borderRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderBottomRightRadius:!0,borderBottomLeftRadius:!0,borderTopStartRadius:!0,borderTopEndRadius:!0,borderBottomStartRadius:!0,borderBottomEndRadius:!0,borderStyle:!0,hitSlop:!0,pointerEvents:!0,nativeBackgroundAndroid:!0,nativeForegroundAndroid:!0,needsOffscreenAlphaCompositing:!0,borderWidth:!0,borderLeftWidth:!0,borderRightWidth:!0,borderTopWidth:!0,borderBottomWidth:!0,borderStartWidth:!0,borderEndWidth:!0,borderColor:{process:_r(d[5])},borderLeftColor:{process:_r(d[5])},borderRightColor:{process:_r(d[5])},borderTopColor:{process:_r(d[5])},borderBottomColor:{process:_r(d[5])},borderStartColor:{process:_r(d[5])},borderEndColor:{process:_r(d[5])},focusable:!0,overflow:!0,backfaceVisibility:!0}}:{uiViewClassName:'RCTView'},s=e.get('RCTView',function(){return n});_e.Commands=(0,r.default)({supportedCommands:['hotspotUpdate','setPressed']}),_e.default=s},177,[138,3,126,17,119,133]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]).createContext(!1);m.exports=t},178,[119]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},179,[180]);
__d(function(_g,r,i,_a,_m,_e,_d){'use strict';var e=r(_d[0]),o=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,_=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function a(e,t,a){var l,s={},u=null,y=null;for(l in void 0!==a&&(u=""+a),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(y=t.ref),t)n.call(t,l)&&!f.hasOwnProperty(l)&&(s[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps)void 0===s[l]&&(s[l]=t[l]);return{$$typeof:o,type:e,key:u,ref:y,props:s,_owner:_.current}}_e.Fragment=t,_e.jsx=a,_e.jsxs=a},180,[119]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},181,[182]);
__d(function(g,_r,_i,_a,m,_e,d){'use strict';var e=_r(d[0])(_r(d[1])),t=_r(d[0])(_r(d[2])),r=_r(d[0])(_r(d[3])),n=_r(d[0])(_r(d[4])),u=_r(d[0])(_r(d[5])),o=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=u?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n})(_r(d[6])),a=_r(d[0])(_r(d[7]));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}var c=(function(o){function a(){return(0,e.default)(this,a),t=this,u=a,o=arguments,u=(0,n.default)(u),(0,r.default)(t,l()?Reflect.construct(u,o||[],(0,n.default)(t).constructor):u.apply(t,o));var t,u,o}return(0,u.default)(a,o),(0,t.default)(a,[{key:"render",value:function(){var e=_r(d[8]);return(0,_r(d[9]).jsx)(e,{style:[i.unimplementedView,this.props.style],children:this.props.children})}}])})(o.Component),i=a.default.create({unimplementedView:{}});m.exports=c},182,[3,12,13,45,44,47,119,175,176,179]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1]));e.default=(0,t.default)('ActivityIndicatorView',{paperComponentName:'RCTActivityIndicatorView'})},183,[3,184]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(d[0])(r(d[1])),o=r(d[0])(r(d[2]));e.default=function(t,p){if(!0===g.RN$Bridgeless){var l="Native Component '"+t+"' that calls codegenNativeComponent was not code generated at build time. Please check its definition.";console.error(l)}var f=p&&null!=p.paperComponentName?p.paperComponentName:t;if(null!=p&&null!=p.paperComponentNameDeprecated)if(o.default.hasViewManagerConfig(t))f=t;else{var u;if(null==p.paperComponentNameDeprecated||!o.default.hasViewManagerConfig(p.paperComponentNameDeprecated))throw new Error("Failed to find native component for either "+t+" or "+(null!=(u=p.paperComponentNameDeprecated)?u:'(unknown)'));f=p.paperComponentNameDeprecated}return(0,n.default)(f)}},184,[3,185,140]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(n){return r(d[0])(n,function(){return r(d[1])(n)})}},185,[186,146]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]).ReactNativeViewConfigRegistry.register;m.exports=function(n,s){return t(n,s)}},186,[121]);
__d(function(g,_r,_i,_a,m,_e,d){'use strict';var t=_r(d[0])(_r(d[1])),e=_r(d[0])(_r(d[2])),i=_r(d[0])(_r(d[3])),s=_r(d[0])(_r(d[4])),o=_r(d[0])(_r(d[5])),a=(function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var i=p(e);if(i&&i.has(t))return i.get(t);var s={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&{}.hasOwnProperty.call(t,a)){var n=o?Object.getOwnPropertyDescriptor(t,a):null;n&&(n.get||n.set)?Object.defineProperty(s,a,n):s[a]=t[a]}return s.default=t,i&&i.set(t,s),s})(_r(d[6])),n=_r(d[0])(_r(d[7])),r=_r(d[0])(_r(d[8])),c=_r(d[0])(_r(d[9])),l=_r(d[0])(_r(d[10])),u=_r(d[0])(_r(d[11])),f=_r(d[0])(_r(d[12])),b=_r(d[0])(_r(d[13]));function p(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(p=function(t){return t?i:e})(t)}function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(y=function(){return!!t})()}var h=(function(a){function r(){return(0,t.default)(this,r),e=this,o=r,a=arguments,o=(0,s.default)(o),(0,i.default)(e,y()?Reflect.construct(o,a||[],(0,s.default)(e).constructor):o.apply(e,a));var e,o,a}return(0,o.default)(r,a),(0,e.default)(r,[{key:"render",value:function(){var t,e,i=this.props,s=i.accessibilityLabel,o=i.color,a=i.onPress,r=i.touchSoundDisabled,p=i.title,y=i.hasTVPreferredFocus,h=i.nextFocusDown,v=i.nextFocusForward,F=i.nextFocusLeft,O=i.nextFocusRight,D=i.nextFocusUp,S=i.testID,j=i.accessible,w=i.accessibilityActions,P=i.accessibilityHint,A=i.accessibilityLanguage,_=i.onAccessibilityAction,k=[x.button],L=[x.text];o&&('ios'===n.default.OS?L.push({color:o}):k.push({backgroundColor:o}));var R=null!=this.props.disabled?this.props.disabled:null==(t=this.props.accessibilityState)?void 0:t.disabled,C=R!==(null==(e=this.props.accessibilityState)?void 0:e.disabled)?Object.assign({},this.props.accessibilityState,{disabled:R}):this.props.accessibilityState;R&&(k.push(x.buttonDisabled),L.push(x.textDisabled)),(0,b.default)('string'==typeof p,'The title prop of a Button must be a string');var M='android'===n.default.OS?p.toUpperCase():p,W='android'===n.default.OS?l.default:u.default;return(0,_r(d[14]).jsx)(W,{accessible:j,accessibilityActions:w,onAccessibilityAction:_,accessibilityLabel:s,accessibilityHint:P,accessibilityLanguage:A,accessibilityRole:"button",accessibilityState:C,hasTVPreferredFocus:y,nextFocusDown:h,nextFocusForward:v,nextFocusLeft:F,nextFocusRight:O,nextFocusUp:D,testID:S,disabled:R,onPress:a,touchSoundDisabled:r,children:(0,_r(d[14]).jsx)(f.default,{style:k,children:(0,_r(d[14]).jsx)(c.default,{style:L,disabled:R,children:M})})})}}])})(a.Component),x=r.default.create({button:n.default.select({ios:{},android:{elevation:4,backgroundColor:'#2196F3',borderRadius:2}}),text:Object.assign({textAlign:'center',margin:8},n.default.select({ios:{color:'#007AFF',fontSize:18},android:{color:'white',fontWeight:'500'}})),buttonDisabled:n.default.select({ios:{},android:{elevation:0,backgroundColor:'#dfdfdf'}}),textDisabled:n.default.select({ios:{color:'#cdcdcd'},android:{color:'#a1a1a1'}})});m.exports=h},187,[3,12,13,45,44,47,119,17,175,188,200,201,176,20,179]);
__d(function(g,_r,_i,_a,m,_e,d){var e=_r(d[0])(_r(d[1])),n=_r(d[0])(_r(d[2])),t=_r(d[0])(_r(d[3])),o=(u(_r(d[4])),_r(d[0])(_r(d[5]))),s=(_r(d[0])(_r(d[6])),_r(d[0])(_r(d[7]))),r=_r(d[0])(_r(d[8])),l=u(_r(d[9])),i=["accessible","allowFontScaling","ellipsizeMode","onLongPress","onPress","onPressIn","onPressOut","onResponderGrant","onResponderMove","onResponderRelease","onResponderTerminate","onResponderTerminationRequest","onStartShouldSetResponder","pressRetentionOffset","suppressHighlighting"];function a(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(a=function(e){return e?t:n})(e)}function u(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a(n);if(t&&t.has(e))return t.get(e);var o={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var l=s?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(o,r,l):o[r]=e[r]}return o.default=e,t&&t.set(e,o),o}var c=l.forwardRef(function(a,u){var c,p,R=a.accessible,b=a.allowFontScaling,S=a.ellipsizeMode,v=a.onLongPress,P=a.onPress,O=a.onPressIn,h=a.onPressOut,y=a.onResponderGrant,T=a.onResponderMove,M=a.onResponderRelease,j=a.onResponderTerminate,w=a.onResponderTerminationRequest,_=a.onStartShouldSetResponder,x=a.pressRetentionOffset,C=a.suppressHighlighting,L=(0,n.default)(a,i),D=(0,l.useState)(!1),E=(0,e.default)(D,2),k=E[0],q=E[1],G=null!=L.disabled?L.disabled:null==(c=a.accessibilityState)?void 0:c.disabled,H=G!==(null==(p=a.accessibilityState)?void 0:p.disabled)?Object.assign({},a.accessibilityState,{disabled:G}):a.accessibilityState,z=(null!=P||null!=v||null!=_)&&!0!==G,F=f(z),I=(0,l.useMemo)(function(){return F?{disabled:!z,pressRectOffset:x,onLongPress:v,onPress:P,onPressIn:function(e){q(!C),null==O||O(e)},onPressOut:function(e){q(!1),null==h||h(e)},onResponderTerminationRequest_DEPRECATED:w,onStartShouldSetResponder_DEPRECATED:_}:null},[F,z,x,v,P,O,h,w,_,C]),N=(0,o.default)(I),W=(0,l.useMemo)(function(){return null==N?null:{onResponderGrant:function(e){N.onResponderGrant(e),null!=y&&y(e)},onResponderMove:function(e){N.onResponderMove(e),null!=T&&T(e)},onResponderRelease:function(e){N.onResponderRelease(e),null!=M&&M(e)},onResponderTerminate:function(e){N.onResponderTerminate(e),null!=j&&j(e)},onClick:N.onClick,onResponderTerminationRequest:N.onResponderTerminationRequest,onStartShouldSetResponder:N.onStartShouldSetResponder}},[N,y,T,M,j]),A=null==L.selectionColor?null:(0,s.default)(L.selectionColor),V=L.style,B=L.numberOfLines;null==B||B>=0||(console.error("'numberOfLines' in <Text> must be a non-negative number, received: "+B+". The value will be set to 0."),B=0);var J=(0,l.useContext)(r.default),K=t.default.select({ios:!1!==R,default:R});return J?(0,_r(d[10]).jsx)(_r(d[11]).NativeVirtualText,Object.assign({},L,W,{isHighlighted:k,isPressable:z,numberOfLines:B,selectionColor:A,style:V,ref:u})):(0,_r(d[10]).jsx)(r.default.Provider,{value:!0,children:(0,_r(d[10]).jsx)(_r(d[11]).NativeText,Object.assign({},L,W,{disabled:G,accessible:K,accessibilityState:H,allowFontScaling:!1!==b,ellipsizeMode:null!=S?S:'tail',isHighlighted:k,numberOfLines:B,selectionColor:A,style:V,ref:u}))})});function f(n){var t=(0,l.useState)(n),o=(0,e.default)(t,2),s=o[0],r=o[1];return!s&&n&&r(n),s}c.displayName='Text',m.exports=c},188,[3,22,91,17,189,190,175,133,178,119,179,198]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.PressabilityDebugView=function(e){return null},_e.isEnabled=function(){return!1},_e.setEnabled=function(e){};_r(d[0])(_r(d[1])),_r(d[0])(_r(d[2])),(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=e(n);if(r&&r.has(t))return r.get(t);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in t)if("default"!==f&&{}.hasOwnProperty.call(t,f)){var i=o?Object.getOwnPropertyDescriptor(t,f):null;i&&(i.get||i.set)?Object.defineProperty(u,f,i):u[f]=t[f]}u.default=t,r&&r.set(t,u)})(_r(d[3]));function e(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,r=new WeakMap;return(e=function(e){return e?r:n})(t)}},189,[3,134,176,119]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(l){var t=(0,u.useRef)(null);null!=l&&null==t.current&&(t.current=new n.default(l));var f=t.current;return(0,u.useEffect)(function(){null!=l&&null!=f&&f.configure(l)},[l,f]),(0,u.useEffect)(function(){if(null!=f)return function(){f.reset()}},[f]),null==f?null:f.getEventHandlers()};var n=r(d[0])(r(d[1])),u=r(d[2])},190,[3,191,119]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=_r(d[0])(_r(d[1])),E=_r(d[0])(_r(d[2])),t=_r(d[0])(_r(d[3])),n=_r(d[0])(_r(d[4])),i=_r(d[0])(_r(d[5])),R=_r(d[0])(_r(d[6])),_=_r(d[0])(_r(d[7])),o=((function(e,E){if(!E&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l(E);if(t&&t.has(e))return t.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in e)if("default"!==R&&{}.hasOwnProperty.call(e,R)){var _=i?Object.getOwnPropertyDescriptor(e,R):null;_&&(_.get||_.set)?Object.defineProperty(n,R,_):n[R]=e[R]}n.default=e,t&&t.set(e,n)})(_r(d[8])),_r(d[0])(_r(d[9])));function l(e){if("function"!=typeof WeakMap)return null;var E=new WeakMap,t=new WeakMap;return(l=function(e){return e?t:E})(e)}var r=Object.freeze({NOT_RESPONDER:{DELAY:'ERROR',RESPONDER_GRANT:'RESPONDER_INACTIVE_PRESS_IN',RESPONDER_RELEASE:'ERROR',RESPONDER_TERMINATED:'ERROR',ENTER_PRESS_RECT:'ERROR',LEAVE_PRESS_RECT:'ERROR',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_INACTIVE_PRESS_IN:{DELAY:'RESPONDER_ACTIVE_PRESS_IN',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:'RESPONDER_ACTIVE_PRESS_OUT',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_ACTIVE_PRESS_IN:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'RESPONDER_ACTIVE_LONG_PRESS_IN'},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_OUT',LONG_PRESS_DETECTED:'RESPONDER_ACTIVE_LONG_PRESS_IN'},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},ERROR:{DELAY:'NOT_RESPONDER',RESPONDER_GRANT:'RESPONDER_INACTIVE_PRESS_IN',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'NOT_RESPONDER',LEAVE_PRESS_RECT:'NOT_RESPONDER',LONG_PRESS_DETECTED:'NOT_RESPONDER'}}),u=function(e){return'RESPONDER_ACTIVE_PRESS_IN'===e||'RESPONDER_ACTIVE_LONG_PRESS_IN'===e},s=function(e){return'RESPONDER_ACTIVE_PRESS_OUT'===e||'RESPONDER_ACTIVE_PRESS_IN'===e},a=function(e){return'RESPONDER_INACTIVE_PRESS_IN'===e||'RESPONDER_ACTIVE_PRESS_IN'===e||'RESPONDER_ACTIVE_LONG_PRESS_IN'===e},S=function(e){return'RESPONDER_TERMINATED'===e||'RESPONDER_RELEASE'===e},T=30,c=20,P=20,O=20;_e.default=(function(){return(0,E.default)(function E(t){var n=this;(0,e.default)(this,E),this._eventHandlers=null,this._hoverInDelayTimeout=null,this._hoverOutDelayTimeout=null,this._isHovered=!1,this._longPressDelayTimeout=null,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._responderID=null,this._responderRegion=null,this._touchState='NOT_RESPONDER',this._measureCallback=function(e,E,t,i,R,_){(e||E||t||i||R||_)&&(n._responderRegion={bottom:_+i,left:R,right:R+t,top:_})},this.configure(t)},[{key:"configure",value:function(e){this._config=e}},{key:"reset",value:function(){this._cancelHoverInDelayTimeout(),this._cancelHoverOutDelayTimeout(),this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout(),this._config=Object.freeze({})}},{key:"getEventHandlers",value:function(){return null==this._eventHandlers&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}},{key:"_createEventHandlers",value:function(){var e=this,E={onBlur:function(E){var t=e._config.onBlur;null!=t&&t(E)},onFocus:function(E){var t=e._config.onFocus;null!=t&&t(E)}},t={onStartShouldSetResponder:function(){var E=e._config.disabled;if(null==E){var t=e._config.onStartShouldSetResponder_DEPRECATED;return null==t||t()}return!E},onResponderGrant:function(E){E.persist(),e._cancelPressOutDelayTimeout(),e._responderID=E.currentTarget,e._touchState='NOT_RESPONDER',e._receiveSignal('RESPONDER_GRANT',E);var t=D(e._config.delayPressIn);t>0?e._pressDelayTimeout=setTimeout(function(){e._receiveSignal('DELAY',E)},t):e._receiveSignal('DELAY',E);var n=D(e._config.delayLongPress,10,500-t);e._longPressDelayTimeout=setTimeout(function(){e._handleLongPress(E)},n+t)},onResponderMove:function(E){var t=e._config.onPressMove;null!=t&&t(E);var n=e._responderRegion;if(null!=n){var i=N(E);if(null==i)return e._cancelLongPressDelayTimeout(),void e._receiveSignal('LEAVE_PRESS_RECT',E);if(null!=e._touchActivatePosition){var R=e._touchActivatePosition.pageX-i.pageX,_=e._touchActivatePosition.pageY-i.pageY;Math.hypot(R,_)>10&&e._cancelLongPressDelayTimeout()}e._isTouchWithinResponderRegion(i,n)?e._receiveSignal('ENTER_PRESS_RECT',E):(e._cancelLongPressDelayTimeout(),e._receiveSignal('LEAVE_PRESS_RECT',E))}},onResponderRelease:function(E){e._receiveSignal('RESPONDER_RELEASE',E)},onResponderTerminate:function(E){e._receiveSignal('RESPONDER_TERMINATED',E)},onResponderTerminationRequest:function(){var E=e._config.cancelable;if(null==E){var t=e._config.onResponderTerminationRequest_DEPRECATED;return null==t||t()}return E},onClick:function(E){var t=e._config,n=t.onPress,i=t.disabled;null!=n&&!0!==i&&n(E)}};if(o.default.shouldPressibilityUseW3CPointerEventsForHover()){var n={onPointerEnter:void 0,onPointerLeave:void 0},i=this._config,_=i.onHoverIn,l=i.onHoverOut;return null!=_&&(n.onPointerEnter=function(E){if(e._isHovered=!0,e._cancelHoverOutDelayTimeout(),null!=_){var t=D(e._config.delayHoverIn);t>0?(E.persist(),e._hoverInDelayTimeout=setTimeout(function(){_(v(E))},t)):_(v(E))}}),null!=l&&(n.onPointerLeave=function(E){if(e._isHovered&&(e._isHovered=!1,e._cancelHoverInDelayTimeout(),null!=l)){var t=D(e._config.delayHoverOut);t>0?(E.persist(),e._hoverOutDelayTimeout=setTimeout(function(){l(v(E))},t)):l(v(E))}}),Object.assign({},E,t,n)}var r='ios'===R.default.OS||'android'===R.default.OS?null:{onMouseEnter:function(E){if((0,_r(d[10]).isHoverEnabled)()){e._isHovered=!0,e._cancelHoverOutDelayTimeout();var t=e._config.onHoverIn;if(null!=t){var n=D(e._config.delayHoverIn);n>0?(E.persist(),e._hoverInDelayTimeout=setTimeout(function(){t(E)},n)):t(E)}}},onMouseLeave:function(E){if(e._isHovered){e._isHovered=!1,e._cancelHoverInDelayTimeout();var t=e._config.onHoverOut;if(null!=t){var n=D(e._config.delayHoverOut);n>0?(E.persist(),e._hoverInDelayTimeout=setTimeout(function(){t(E)},n)):t(E)}}}};return Object.assign({},E,t,r)}},{key:"_receiveSignal",value:function(e,E){var n;null!=E.nativeEvent.timestamp&&i.default.emitEvent(function(){return{signal:e,nativeTimestamp:E.nativeEvent.timestamp}});var R=this._touchState,_=null==(n=r[R])?void 0:n[e];null==this._responderID&&'RESPONDER_RELEASE'===e||((0,t.default)(null!=_&&'ERROR'!==_,'Pressability: Invalid signal `%s` for state `%s` on responder: %s',e,R,'number'==typeof this._responderID?this._responderID:'<<host component>>'),R!==_&&(this._performTransitionSideEffects(R,_,e,E),this._touchState=_))}},{key:"_performTransitionSideEffects",value:function(e,E,t,i){S(t)&&(this._touchActivatePosition=null,this._cancelLongPressDelayTimeout());var _='NOT_RESPONDER'===e&&'RESPONDER_INACTIVE_PRESS_IN'===E,o=!s(e)&&s(E);if((_||o)&&this._measureResponderRegion(),a(e)&&'LONG_PRESS_DETECTED'===t){var l=this._config.onLongPress;null!=l&&l(i)}var r=u(e),T=u(E);if(!r&&T?this._activate(i):r&&!T&&this._deactivate(i),a(e)&&'RESPONDER_RELEASE'===t){T||r||(this._activate(i),this._deactivate(i));var c=this._config,P=c.onLongPress,O=c.onPress,D=c.android_disableSound;if(null!=O)null!=P&&'RESPONDER_ACTIVE_LONG_PRESS_IN'===e&&this._shouldLongPressCancelPress()||('android'===R.default.OS&&!0!==D&&n.default.playTouchSound(),O(i))}this._cancelPressDelayTimeout()}},{key:"_activate",value:function(e){var E=this._config.onPressIn,t=N(e),n=t.pageX,i=t.pageY;this._touchActivatePosition={pageX:n,pageY:i},this._touchActivateTime=Date.now(),null!=E&&E(e)}},{key:"_deactivate",value:function(e){var E=this._config.onPressOut;if(null!=E){var t,n=D(this._config.minPressDuration,0,130),i=Date.now()-(null!=(t=this._touchActivateTime)?t:0),R=Math.max(n-i,D(this._config.delayPressOut));R>0?(e.persist(),this._pressOutDelayTimeout=setTimeout(function(){E(e)},R)):E(e)}this._touchActivateTime=null}},{key:"_measureResponderRegion",value:function(){null!=this._responderID&&('number'==typeof this._responderID?_.default.measure(this._responderID,this._measureCallback):this._responderID.measure(this._measureCallback))}},{key:"_isTouchWithinResponderRegion",value:function(e,E){var t,n,i,R,_=(0,_r(d[11]).normalizeRect)(this._config.hitSlop),o=(0,_r(d[11]).normalizeRect)(this._config.pressRectOffset),l=E.bottom,r=E.left,u=E.right,s=E.top;return null!=_&&(null!=_.bottom&&(l+=_.bottom),null!=_.left&&(r-=_.left),null!=_.right&&(u+=_.right),null!=_.top&&(s-=_.top)),l+=null!=(t=null==o?void 0:o.bottom)?t:T,r-=null!=(n=null==o?void 0:o.left)?n:c,u+=null!=(i=null==o?void 0:o.right)?i:P,s-=null!=(R=null==o?void 0:o.top)?R:O,e.pageX>r&&e.pageX<u&&e.pageY>s&&e.pageY<l}},{key:"_handleLongPress",value:function(e){'RESPONDER_ACTIVE_PRESS_IN'!==this._touchState&&'RESPONDER_ACTIVE_LONG_PRESS_IN'!==this._touchState||this._receiveSignal('LONG_PRESS_DETECTED',e)}},{key:"_shouldLongPressCancelPress",value:function(){return null==this._config.onLongPressShouldCancelPress_DEPRECATED||this._config.onLongPressShouldCancelPress_DEPRECATED()}},{key:"_cancelHoverInDelayTimeout",value:function(){null!=this._hoverInDelayTimeout&&(clearTimeout(this._hoverInDelayTimeout),this._hoverInDelayTimeout=null)}},{key:"_cancelHoverOutDelayTimeout",value:function(){null!=this._hoverOutDelayTimeout&&(clearTimeout(this._hoverOutDelayTimeout),this._hoverOutDelayTimeout=null)}},{key:"_cancelLongPressDelayTimeout",value:function(){null!=this._longPressDelayTimeout&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}},{key:"_cancelPressDelayTimeout",value:function(){null!=this._pressDelayTimeout&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}},{key:"_cancelPressOutDelayTimeout",value:function(){null!=this._pressOutDelayTimeout&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}])})();function D(e){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.max(E,null!=e?e:t)}var N=function(e){var E=e.nativeEvent,t=E.changedTouches,n=E.touches;return null!=n&&n.length>0?n[0]:null!=t&&t.length>0?t[0]:e.nativeEvent};function v(e){var E=e.nativeEvent,t=E.clientX,n=E.clientY;return Object.assign({},e,{nativeEvent:{clientX:t,clientY:n,pageX:t,pageY:n,timestamp:e.timeStamp}})}},191,[3,12,13,20,192,194,17,140,119,195,196,197]);
__d(function(g,r,i,a,m,e,d){var u=r(d[0])(r(d[1])),o={playTouchSound:function(){u.default&&u.default.playTouchSound()}};m.exports=o},192,[3,193]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=o?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(u,a,f):u[a]=e[a]}return u.default=e,n&&n.set(e,u),u})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('SoundManager')},193,[19]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),s=new((function(){return(0,n.default)(function n(){(0,t.default)(this,n),this._listeners=[]},[{key:"addListener",value:function(t){this._listeners.push(t)}},{key:"removeListener",value:function(t){var n=this._listeners.indexOf(t);n>-1&&this._listeners.splice(n,1)}},{key:"emitEvent",value:function(t){if(0!==this._listeners.length){var n=t();this._listeners.forEach(function(t){return t(n)})}}}])})());e.default=s},194,[3,12,13]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={isLayoutAnimationEnabled:function(){return!0},shouldEmitW3CPointerEvents:function(){return!1},shouldPressibilityUseW3CPointerEventsForHover:function(){return!1},animatedShouldDebounceQueueFlush:function(){return!1},animatedShouldUseSingleOp:function(){return!1}}},195,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.isHoverEnabled=function(){return t};var n=r(d[0])(r(d[1])),t=!1;if('web'===n.default.OS&&Boolean('undefined'!=typeof window&&window.document&&window.document.createElement)){var o=0,u=function(){o=Date.now(),t&&(t=!1)};document.addEventListener('touchstart',u,!0),document.addEventListener('touchmove',u,!0),document.addEventListener('mousemove',function(){t||Date.now()-o<1e3||(t=!0)},!0)}},196,[3,17]);
__d(function(g,r,i,a,m,e,d){function t(t){return{bottom:t,left:t,right:t,top:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.createSquare=t,e.normalizeRect=function(n){return'number'==typeof n?t(n):n}},197,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.NativeVirtualText=e.NativeText=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),l=r(d[0])(r(d[3])),o=e.NativeText=(0,l.default)('RCTText',function(){return{validAttributes:Object.assign({},t.default.UIView,{isHighlighted:!0,isPressable:!0,numberOfLines:!0,ellipsizeMode:!0,allowFontScaling:!0,maxFontSizeMultiplier:!0,disabled:!0,selectable:!0,selectionColor:!0,adjustsFontSizeToFit:!0,minimumFontScale:!0,textBreakStrategy:!0,onTextLayout:!0,onInlineViewLayout:!0,dataDetectorType:!0,android_hyphenationFrequency:!0}),directEventTypes:{topTextLayout:{registrationName:'onTextLayout'},topInlineViewLayout:{registrationName:'onInlineViewLayout'}},uiViewClassName:'RCTText'}});e.NativeVirtualText=g.RN$Bridgeless||n.default.hasViewManagerConfig('RCTVirtualText')?(0,l.default)('RCTVirtualText',function(){return{validAttributes:Object.assign({},t.default.UIView,{isHighlighted:!0,isPressable:!0,maxFontSizeMultiplier:!0}),uiViewClassName:'RCTVirtualText'}}):o},198,[3,199,140,186]);
__d(function(g,r,i,a,m,e,d){'use strict';var s={pointerEvents:!0,accessible:!0,accessibilityActions:!0,accessibilityLabel:!0,accessibilityLiveRegion:!0,accessibilityRole:!0,accessibilityState:!0,accessibilityValue:!0,accessibilityHint:!0,accessibilityLanguage:!0,importantForAccessibility:!0,nativeID:!0,testID:!0,renderToHardwareTextureAndroid:!0,shouldRasterizeIOS:!0,onLayout:!0,onAccessibilityAction:!0,onAccessibilityTap:!0,onMagicTap:!0,onAccessibilityEscape:!0,collapsable:!0,needsOffscreenAlphaCompositing:!0,style:r(d[0])(r(d[1])).default},c={UIView:s,RCTView:Object.assign({},s,{removeClippedSubviews:!0})};m.exports=c},199,[3,147]);
__d(function(g,_r,_i,_a,m,_e,d){var e=_r(d[0])(_r(d[1])),t=_r(d[0])(_r(d[2])),s=_r(d[0])(_r(d[3])),i=_r(d[0])(_r(d[4])),o=_r(d[0])(_r(d[5])),n=_r(d[0])(_r(d[6])),r=_r(d[0])(_r(d[7])),a=_r(d[0])(_r(d[8])),l=_r(d[0])(_r(d[9])),c=(_r(d[0])(_r(d[10])),_r(d[0])(_r(d[11]))),p=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=f(t);if(s&&s.has(e))return s.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var r=o?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=e[n]}return i.default=e,s&&s.set(e,i),i})(_r(d[12])),u=_r(d[0])(_r(d[13])),h=["onBlur","onFocus"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(f=function(e){return e?s:t})(e)}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(b=function(){return!!e})()}var y=(function(c){function u(){var e,s,n,a;(0,t.default)(this,u);for(var l=arguments.length,c=new Array(l),p=0;p<l;p++)c[p]=arguments[p];return s=this,n=u,a=[].concat(c),n=(0,o.default)(n),(e=(0,i.default)(s,b()?Reflect.construct(n,a||[],(0,o.default)(s).constructor):n.apply(s,a))).state={pressability:new r.default(e._createPressabilityConfig())},e}return(0,n.default)(u,c),(0,s.default)(u,[{key:"_createPressabilityConfig",value:function(){var e,t=this;return{cancelable:!this.props.rejectResponderTermination,disabled:null!=this.props.disabled?this.props.disabled:null==(e=this.props.accessibilityState)?void 0:e.disabled,hitSlop:this.props.hitSlop,delayLongPress:this.props.delayLongPress,delayPressIn:this.props.delayPressIn,delayPressOut:this.props.delayPressOut,minPressDuration:0,pressRectOffset:this.props.pressRetentionOffset,android_disableSound:this.props.touchSoundDisabled,onLongPress:this.props.onLongPress,onPress:this.props.onPress,onPressIn:function(e){'android'===l.default.OS&&(t._dispatchHotspotUpdate(e),t._dispatchPressedStateChange(!0)),null!=t.props.onPressIn&&t.props.onPressIn(e)},onPressMove:function(e){'android'===l.default.OS&&t._dispatchHotspotUpdate(e)},onPressOut:function(e){'android'===l.default.OS&&t._dispatchPressedStateChange(!1),null!=t.props.onPressOut&&t.props.onPressOut(e)}}}},{key:"_dispatchPressedStateChange",value:function(e){if('android'===l.default.OS){var t=a.default.findHostInstance_DEPRECATED(this);null==t?console.warn("Touchable: Unable to find HostComponent instance. Has your Touchable component been unmounted?"):_r(d[14]).Commands.setPressed(t,e)}}},{key:"_dispatchHotspotUpdate",value:function(e){if('android'===l.default.OS){var t=e.nativeEvent,s=t.locationX,i=t.locationY,o=a.default.findHostInstance_DEPRECATED(this);null==o?console.warn("Touchable: Unable to find HostComponent instance. Has your Touchable component been unmounted?"):_r(d[14]).Commands.hotspotUpdate(o,null!=s?s:0,null!=i?i:0)}}},{key:"render",value:function(){var t=p.Children.only(this.props.children),s=[t.props.children],i=this.state.pressability.getEventHandlers(),o=(i.onBlur,i.onFocus,(0,e.default)(i,h)),n=null!=this.props.disabled?Object.assign({},this.props.accessibilityState,{disabled:this.props.disabled}):this.props.accessibilityState;return p.cloneElement.apply(p,[t,Object.assign({},o,v(void 0===this.props.background?u.SelectableBackground():this.props.background,!0===this.props.useForeground),{accessible:!1!==this.props.accessible,accessibilityHint:this.props.accessibilityHint,accessibilityLanguage:this.props.accessibilityLanguage,accessibilityLabel:this.props.accessibilityLabel,accessibilityRole:this.props.accessibilityRole,accessibilityState:n,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,accessibilityValue:this.props.accessibilityValue,importantForAccessibility:this.props.importantForAccessibility,accessibilityLiveRegion:this.props.accessibilityLiveRegion,accessibilityViewIsModal:this.props.accessibilityViewIsModal,accessibilityElementsHidden:this.props.accessibilityElementsHidden,hasTVPreferredFocus:this.props.hasTVPreferredFocus,hitSlop:this.props.hitSlop,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress&&!this.props.disabled,nativeID:this.props.nativeID,nextFocusDown:this.props.nextFocusDown,nextFocusForward:this.props.nextFocusForward,nextFocusLeft:this.props.nextFocusLeft,nextFocusRight:this.props.nextFocusRight,nextFocusUp:this.props.nextFocusUp,onLayout:this.props.onLayout,testID:this.props.testID})].concat(s))}},{key:"componentDidUpdate",value:function(e,t){this.state.pressability.configure(this._createPressabilityConfig())}},{key:"componentWillUnmount",value:function(){this.state.pressability.reset()}}])})(p.Component);y.SelectableBackground=function(e){return{type:'ThemeAttrAndroid',attribute:'selectableItemBackground',rippleRadius:e}},y.SelectableBackgroundBorderless=function(e){return{type:'ThemeAttrAndroid',attribute:'selectableItemBackgroundBorderless',rippleRadius:e}},y.Ripple=function(e,t,s){var i=(0,c.default)(e);return(0,u.default)(null==i||'number'==typeof i,'Unexpected color given for Ripple color'),{type:'RippleAndroid',color:i,borderless:t,rippleRadius:s}},y.canUseNativeForeground=function(){return'android'===l.default.OS&&l.default.Version>=23};var v='android'===l.default.OS?function(e,t){return t&&y.canUseNativeForeground()?{nativeForegroundAndroid:e}:{nativeBackgroundAndroid:e}}:function(e,t){return null};y.displayName='TouchableNativeFeedback',m.exports=y},200,[3,91,12,13,45,44,47,191,35,17,176,133,119,20,177]);
__d(function(g,_r,_i,_a,m,_e,d){var t=_r(d[0])(_r(d[1])),s=_r(d[0])(_r(d[2])),e=_r(d[0])(_r(d[3])),i=_r(d[0])(_r(d[4])),o=_r(d[0])(_r(d[5])),n=_r(d[0])(_r(d[6])),r=_r(d[0])(_r(d[7])),a=_r(d[0])(_r(d[8])),c=_r(d[0])(_r(d[9])),l=_r(d[0])(_r(d[10])),p=_r(d[0])(_r(d[11])),u=(function(t,s){if(!s&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=f(s);if(e&&e.has(t))return e.get(t);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if("default"!==n&&{}.hasOwnProperty.call(t,n)){var r=o?Object.getOwnPropertyDescriptor(t,n):null;r&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=t[n]}return i.default=t,e&&e.set(t,i),i})(_r(d[12])),y=["onBlur","onFocus"];function f(t){if("function"!=typeof WeakMap)return null;var s=new WeakMap,e=new WeakMap;return(f=function(t){return t?e:s})(t)}function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(h=function(){return!!t})()}var b=(function(u){function f(){var t,e,n,c;(0,s.default)(this,f);for(var l=arguments.length,p=new Array(l),u=0;u<l;u++)p[u]=arguments[u];return e=this,n=f,c=[].concat(p),n=(0,o.default)(n),(t=(0,i.default)(e,h()?Reflect.construct(n,c||[],(0,o.default)(e).constructor):n.apply(e,c))).state={anim:new a.default.Value(t._getChildStyleOpacityWithDefault()),pressability:new r.default(t._createPressabilityConfig())},t}return(0,n.default)(f,u),(0,e.default)(f,[{key:"_createPressabilityConfig",value:function(){var t,s,e=this;return{cancelable:!this.props.rejectResponderTermination,disabled:null!=(t=this.props.disabled)?t:null==(s=this.props.accessibilityState)?void 0:s.disabled,hitSlop:this.props.hitSlop,delayLongPress:this.props.delayLongPress,delayPressIn:this.props.delayPressIn,delayPressOut:this.props.delayPressOut,minPressDuration:0,pressRectOffset:this.props.pressRetentionOffset,onBlur:function(t){p.default.isTV&&e._opacityInactive(250),null!=e.props.onBlur&&e.props.onBlur(t)},onFocus:function(t){p.default.isTV&&e._opacityActive(150),null!=e.props.onFocus&&e.props.onFocus(t)},onLongPress:this.props.onLongPress,onPress:this.props.onPress,onPressIn:function(t){e._opacityActive('onResponderGrant'===t.dispatchConfig.registrationName?0:150),null!=e.props.onPressIn&&e.props.onPressIn(t)},onPressOut:function(t){e._opacityInactive(250),null!=e.props.onPressOut&&e.props.onPressOut(t)}}}},{key:"_setOpacityTo",value:function(t,s){a.default.timing(this.state.anim,{toValue:t,duration:s,easing:c.default.inOut(c.default.quad),useNativeDriver:!0}).start()}},{key:"_opacityActive",value:function(t){var s;this._setOpacityTo(null!=(s=this.props.activeOpacity)?s:.2,t)}},{key:"_opacityInactive",value:function(t){this._setOpacityTo(this._getChildStyleOpacityWithDefault(),t)}},{key:"_getChildStyleOpacityWithDefault",value:function(){var t,s=null==(t=(0,l.default)(this.props.style))?void 0:t.opacity;return'number'==typeof s?s:1}},{key:"render",value:function(){var s=this.state.pressability.getEventHandlers(),e=(s.onBlur,s.onFocus,(0,t.default)(s,y)),i=null!=this.props.disabled?Object.assign({},this.props.accessibilityState,{disabled:this.props.disabled}):this.props.accessibilityState;return(0,_r(d[13]).jsxs)(a.default.View,Object.assign({accessible:!1!==this.props.accessible,accessibilityLabel:this.props.accessibilityLabel,accessibilityHint:this.props.accessibilityHint,accessibilityLanguage:this.props.accessibilityLanguage,accessibilityRole:this.props.accessibilityRole,accessibilityState:i,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,accessibilityValue:this.props.accessibilityValue,importantForAccessibility:this.props.importantForAccessibility,accessibilityLiveRegion:this.props.accessibilityLiveRegion,accessibilityViewIsModal:this.props.accessibilityViewIsModal,accessibilityElementsHidden:this.props.accessibilityElementsHidden,style:[this.props.style,{opacity:this.state.anim}],nativeID:this.props.nativeID,testID:this.props.testID,onLayout:this.props.onLayout,nextFocusDown:this.props.nextFocusDown,nextFocusForward:this.props.nextFocusForward,nextFocusLeft:this.props.nextFocusLeft,nextFocusRight:this.props.nextFocusRight,nextFocusUp:this.props.nextFocusUp,hasTVPreferredFocus:this.props.hasTVPreferredFocus,hitSlop:this.props.hitSlop,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress,ref:this.props.hostRef},e,{children:[this.props.children,null]}))}},{key:"componentDidUpdate",value:function(t,s){var e,i;this.state.pressability.configure(this._createPressabilityConfig()),this.props.disabled===t.disabled&&(null==(e=(0,l.default)(t.style))?void 0:e.opacity)!==(null==(i=(0,l.default)(this.props.style))?void 0:i.opacity)===void 0||this._opacityInactive(250)}},{key:"componentWillUnmount",value:function(){this.state.pressability.reset()}}])})(u.Component),v=u.forwardRef(function(t,s){return(0,_r(d[13]).jsx)(b,Object.assign({},t,{hostRef:s}))});v.displayName='TouchableOpacity',m.exports=v},201,[3,91,12,13,45,44,47,191,202,228,169,17,119,179]);
__d(function(g,_r,_i,_a,m,_e,d){var e=_r(d[0])(_r(d[1])),t=u(_r(d[2])),r=u(_r(d[3]));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var u={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(u,o,a):u[o]=e[o]}return u.default=e,r&&r.set(e,u),u}var i=e.default.isTesting?t:r;m.exports=Object.assign({get FlatList(){return _r(d[4])},get Image(){return _r(d[5])},get ScrollView(){return _r(d[6])},get SectionList(){return _r(d[7])},get Text(){return _r(d[8])},get View(){return _r(d[9])}},i)},202,[3,17,203,215,238,268,276,277,280,281]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0])(r(d[1])),t=!1;function u(n){return function(u){n(null==u?u:function(){if(t)console.warn('Ignoring recursive animation callback when running mock animations');else{t=!0;try{u.apply(void 0,arguments)}finally{t=!1}}})}}var o={start:function(){},stop:function(){},reset:function(){},_startNativeLoop:function(){},_isUsingNativeDriver:function(){return!1}},c=function(n){return Object.assign({},o,{start:u(function(t){n.forEach(function(n){return n.start()}),null==t||t({finished:!0})})})};m.exports={Value:r(d[2]),ValueXY:r(d[3]),Color:n.default,Interpolation:r(d[4]),Node:r(d[5]),decay:function(n,t){return o},timing:function(n,t){var c=n;return Object.assign({},o,{start:u(function(n){c.setValue(t.toValue),null==n||n({finished:!0})})})},spring:function(n,t){var c=n;return Object.assign({},o,{start:u(function(n){c.setValue(t.toValue),null==n||n({finished:!0})})})},add:r(d[6]).add,subtract:r(d[6]).subtract,divide:r(d[6]).divide,multiply:r(d[6]).multiply,modulo:r(d[6]).modulo,diffClamp:r(d[6]).diffClamp,delay:function(n){return o},sequence:function(n){return c(n)},parallel:function(n,t){return c(n)},stagger:function(n,t){return c(t)},loop:function(n){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).iterations;return o},event:r(d[6]).event,createAnimatedComponent:r(d[7]),attachNativeEvent:r(d[8]).attachNativeEvent,forkEvent:r(d[6]).forkEvent,unforkEvent:r(d[6]).unforkEvent,Event:r(d[8]).AnimatedEvent}},203,[3,204,205,214,209,211,215,232,231]);
__d(function(_g,_r,i,_a,m,_e,d){'use strict';Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=_r(d[0])(_r(d[1])),e=_r(d[0])(_r(d[2])),a=_r(d[0])(_r(d[3])),s=_r(d[0])(_r(d[4])),n=_r(d[0])(_r(d[5])),r=_r(d[0])(_r(d[6])),l=_r(d[0])(_r(d[7])),u=_r(d[0])(_r(d[8])),o=_r(d[0])(_r(d[9]));function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}function h(t,e,a,r){var l=(0,n.default)((0,s.default)(1&r?t.prototype:t),e,a);return 2&r&&"function"==typeof l?function(t){return l.apply(a,t)}:l}var _=_r(d[0])(_r(d[10])).default.API,v={r:0,g:0,b:0,a:1},g=1;function c(t){if(null==t)return null;if(b(t))return t;var e=(0,o.default)(t);if(null==e)return null;if('object'==typeof e){var a=(0,_r(d[11]).processColorObject)(e);if(null!=a)return a}else if('number'==typeof e){return{r:(4278190080&e)>>>24,g:(16711680&e)>>>16,b:(65280&e)>>>8,a:(255&e)/255}}return null}function b(t){return t&&'number'==typeof t.r&&'number'==typeof t.g&&'number'==typeof t.b&&'number'==typeof t.a}function y(t){return t&&t.r instanceof l.default&&t.g instanceof l.default&&t.b instanceof l.default&&t.a instanceof l.default}_e.default=(function(n){function u(e,n){var r,o,h,_;(0,t.default)(this,u),o=this,h=u,h=(0,s.default)(h),(r=(0,a.default)(o,f()?Reflect.construct(h,_||[],(0,s.default)(o).constructor):h.apply(o,_)))._listeners={};var g=null!=e?e:v;if(y(g)){var p=g;r.r=p.r,r.g=p.g,r.b=p.b,r.a=p.a}else{var C,k=null!=(C=c(g))?C:v,N=v;b(k)?N=k:r.nativeColor=k,r.r=new l.default(N.r),r.g=new l.default(N.g),r.b=new l.default(N.b),r.a=new l.default(N.a)}return(r.nativeColor||n&&n.useNativeDriver)&&r.__makeNative(),r}return(0,r.default)(u,n),(0,e.default)(u,[{key:"setValue",value:function(t){var e,a=!1;if(this.__isNative){var s=this.__getNativeTag();_.setWaitingForIdentifier(s.toString())}var n=null!=(e=c(t))?e:v;if(b(n)){var r=n;this.r.setValue(r.r),this.g.setValue(r.g),this.b.setValue(r.b),this.a.setValue(r.a),null!=this.nativeColor&&(this.nativeColor=null,a=!0)}else{var l=n;this.nativeColor!==l&&(this.nativeColor=l,a=!0)}if(this.__isNative){var u=this.__getNativeTag();a&&_.updateAnimatedNodeConfig(u,this.__getNativeConfig()),_.unsetWaitingForIdentifier(u.toString())}}},{key:"setOffset",value:function(t){this.r.setOffset(t.r),this.g.setOffset(t.g),this.b.setOffset(t.b),this.a.setOffset(t.a)}},{key:"flattenOffset",value:function(){this.r.flattenOffset(),this.g.flattenOffset(),this.b.flattenOffset(),this.a.flattenOffset()}},{key:"extractOffset",value:function(){this.r.extractOffset(),this.g.extractOffset(),this.b.extractOffset(),this.a.extractOffset()}},{key:"addListener",value:function(t){var e=this,a=String(g++),s=function(a){a.value;t(e.__getValue())};return this._listeners[a]={r:this.r.addListener(s),g:this.g.addListener(s),b:this.b.addListener(s),a:this.a.addListener(s)},a}},{key:"removeListener",value:function(t){this.r.removeListener(this._listeners[t].r),this.g.removeListener(this._listeners[t].g),this.b.removeListener(this._listeners[t].b),this.a.removeListener(this._listeners[t].a),delete this._listeners[t]}},{key:"removeAllListeners",value:function(){this.r.removeAllListeners(),this.g.removeAllListeners(),this.b.removeAllListeners(),this.a.removeAllListeners(),this._listeners={}}},{key:"stopAnimation",value:function(t){this.r.stopAnimation(),this.g.stopAnimation(),this.b.stopAnimation(),this.a.stopAnimation(),t&&t(this.__getValue())}},{key:"resetAnimation",value:function(t){this.r.resetAnimation(),this.g.resetAnimation(),this.b.resetAnimation(),this.a.resetAnimation(),t&&t(this.__getValue())}},{key:"__getValue",value:function(){return null!=this.nativeColor?this.nativeColor:"rgba("+this.r.__getValue()+", "+this.g.__getValue()+", "+this.b.__getValue()+", "+this.a.__getValue()+")"}},{key:"__attach",value:function(){this.r.__addChild(this),this.g.__addChild(this),this.b.__addChild(this),this.a.__addChild(this),h(u,"__attach",this,3)([])}},{key:"__detach",value:function(){this.r.__removeChild(this),this.g.__removeChild(this),this.b.__removeChild(this),this.a.__removeChild(this),h(u,"__detach",this,3)([])}},{key:"__makeNative",value:function(t){this.r.__makeNative(t),this.g.__makeNative(t),this.b.__makeNative(t),this.a.__makeNative(t),h(u,"__makeNative",this,3)([t])}},{key:"__getNativeConfig",value:function(){return{type:'color',r:this.r.__getNativeTag(),g:this.g.__getNativeTag(),b:this.b.__getNativeTag(),a:this.a.__getNativeTag(),nativeColor:this.nativeColor}}}])})(u.default)},204,[3,12,13,45,44,73,47,205,210,134,206,136]);
__d(function(g,_r,i,a,m,_e,d){'use strict';function t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t=function(){return!!e})()}function e(t,e,n,s){var u=_r(d[2])(_r(d[0])(1&s?t.prototype:t),e,n);return 2&s&&"function"==typeof u?function(t){return u.apply(n,t)}:u}function n(t){var e=new Set;!(function t(n){'function'==typeof n.update?e.add(n):n.__getChildren().forEach(t)})(t),e.forEach(function(t){return t.update()})}var s=(function(s){function u(e,n){var s,o,_,r;if(_r(d[4])(this,u),o=this,_=u,_=_r(d[0])(_),s=_r(d[1])(o,t()?Reflect.construct(_,r||[],_r(d[0])(o).constructor):_.apply(o,r)),'number'!=typeof e)throw new Error('AnimatedValue: Attempting to set value to undefined');return s._startingValue=s._value=e,s._offset=0,s._animation=null,n&&n.useNativeDriver&&s.__makeNative(),s}return _r(d[5])(u,s),_r(d[6])(u,[{key:"__detach",value:function(){var t=this;this.__isNative&&_r(d[3]).API.getValue(this.__getNativeTag(),function(e){t._value=e-t._offset}),this.stopAnimation(),e(u,"__detach",this,3)([])}},{key:"__getValue",value:function(){return this._value+this._offset}},{key:"setValue",value:function(t){var e,n,s=this;this._animation&&(this._animation.stop(),this._animation=null),this._updateValue(t,!this.__isNative),this.__isNative&&(e=this.__getNativeTag().toString(),n=function(){return _r(d[3]).API.setAnimatedNodeValue(s.__getNativeTag(),t)},_r(d[3]).API.setWaitingForIdentifier(e),n(),_r(d[3]).API.unsetWaitingForIdentifier(e))}},{key:"setOffset",value:function(t){this._offset=t,this.__isNative&&_r(d[3]).API.setAnimatedNodeOffset(this.__getNativeTag(),t)}},{key:"flattenOffset",value:function(){this._value+=this._offset,this._offset=0,this.__isNative&&_r(d[3]).API.flattenAnimatedNodeOffset(this.__getNativeTag())}},{key:"extractOffset",value:function(){this._offset+=this._value,this._value=0,this.__isNative&&_r(d[3]).API.extractAnimatedNodeOffset(this.__getNativeTag())}},{key:"stopAnimation",value:function(t){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,t&&(this.__isNative?_r(d[3]).API.getValue(this.__getNativeTag(),t):t(this.__getValue()))}},{key:"resetAnimation",value:function(t){this.stopAnimation(t),this._value=this._startingValue,this.__isNative&&_r(d[3]).API.setAnimatedNodeValue(this.__getNativeTag(),this._startingValue)}},{key:"__onAnimatedValueUpdateReceived",value:function(t){this._updateValue(t,!1)}},{key:"interpolate",value:function(t){return new(_r(d[7]))(this,t)}},{key:"animate",value:function(t,e){var n=this,s=null;t.__isInteraction&&(s=_r(d[8]).createInteractionHandle());var u=this._animation;this._animation&&this._animation.stop(),this._animation=t,t.start(this._value,function(t){n._updateValue(t,!0)},function(t){n._animation=null,null!==s&&_r(d[8]).clearInteractionHandle(s),e&&e(t)},u,this)}},{key:"stopTracking",value:function(){this._tracking&&this._tracking.__detach(),this._tracking=null}},{key:"track",value:function(t){this.stopTracking(),this._tracking=t,this._tracking&&this._tracking.update()}},{key:"_updateValue",value:function(t,s){if(void 0===t)throw new Error('AnimatedValue: Attempting to set value to undefined');this._value=t,s&&n(this),e(u,"__callListeners",this,3)([this.__getValue()])}},{key:"__getNativeConfig",value:function(){return{type:'value',value:this._value,offset:this._offset}}}])})(_r(d[9]));m.exports=s},205,[44,45,73,206,12,47,13,209,212,210]);
__d(function(g,r,_i,a,m,e,d){var t,n=r(d[0])(r(d[1])),i=r(d[0])(r(d[2])),o=r(d[0])(r(d[3])),u=r(d[0])(r(d[4])),l=r(d[0])(r(d[5])),s=r(d[0])(r(d[6])),f=r(d[0])(r(d[7])),c='ios'===u.default.OS&&!0===g.RN$Bridgeless?i.default:n.default,p=1,v=1,N=new Set,A=!1,b=[],h=[],O='android'===u.default.OS&&!(null==c||!c.queueAndExecuteBatchedOperations)&&l.default.animatedShouldUseSingleOp(),w=null,V={},y={},q=null,T=null,S=O?['createAnimatedNode','updateAnimatedNodeConfig','getValue','startListeningToAnimatedNodeValue','stopListeningToAnimatedNodeValue','connectAnimatedNodes','disconnectAnimatedNodes','startAnimatingNode','stopAnimation','setAnimatedNodeValue','setAnimatedNodeOffset','flattenAnimatedNodeOffset','extractAnimatedNodeOffset','connectAnimatedNodeToView','disconnectAnimatedNodeFromView','restoreDefaultValues','dropAnimatedNode','addAnimatedEventToView','removeAnimatedEventFromView','addListener','removeListener'].reduce(function(t,n,i){return t[n]=i+1,t},{}):c,R={getValue:function(t,n){(0,s.default)(S,'Native animated module is not available'),O?(n&&(V[t]=n),R.queueOperation(S.getValue,t)):R.queueOperation(S.getValue,t,n)},setWaitingForIdentifier:function(t){N.add(t),A=!0,l.default.animatedShouldDebounceQueueFlush()&&w&&clearTimeout(w)},unsetWaitingForIdentifier:function(t){N.delete(t),0===N.size&&(A=!1,R.disableQueue())},disableQueue:function(){((0,s.default)(S,'Native animated module is not available'),l.default.animatedShouldDebounceQueueFlush())?(clearImmediate(w),w=setImmediate(R.flushQueue)):R.flushQueue()},flushQueue:function(){if((0,s.default)(c,'Native animated module is not available'),w=null,(!O||0!==h.length)&&(O||0!==b.length))if(O)q&&T||E(),null==c.queueAndExecuteBatchedOperations||c.queueAndExecuteBatchedOperations(h),h.length=0;else{'android'===u.default.OS&&(null==c.startOperationBatch||c.startOperationBatch());for(var t=0,n=b.length;t<n;t++)b[t]();b.length=0,'android'===u.default.OS&&(null==c.finishOperationBatch||c.finishOperationBatch())}},queueOperation:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];O?h.push.apply(h,[t].concat(i)):A||0!==b.length?b.push(function(){return t.apply(void 0,i)}):t.apply(void 0,i)},createAnimatedNode:function(t,n){(0,s.default)(S,'Native animated module is not available'),R.queueOperation(S.createAnimatedNode,t,n)},updateAnimatedNodeConfig:function(t,n){(0,s.default)(S,'Native animated module is not available'),S.updateAnimatedNodeConfig&&R.queueOperation(S.updateAnimatedNodeConfig,t,n)},startListeningToAnimatedNodeValue:function(t){(0,s.default)(S,'Native animated module is not available'),R.queueOperation(S.startListeningToAnimatedNodeValue,t)},stopListeningToAnimatedNodeValue:function(t){(0,s.default)(S,'Native animated module is not available'),R.queueOperation(S.stopListeningToAnimatedNodeValue,t)},connectAnimatedNodes:function(t,n){(0,s.default)(S,'Native animated module is not available'),R.queueOperation(S.connectAnimatedNodes,t,n)},disconnectAnimatedNodes:function(t,n){(0,s.default)(S,'Native animated module is not available'),R.queueOperation(S.disconnectAnimatedNodes,t,n)},startAnimatingNode:function(t,n,i,o){(0,s.default)(S,'Native animated module is not available'),O?(o&&(y[t]=o),R.queueOperation(S.startAnimatingNode,t,n,i)):R.queueOperation(S.startAnimatingNode,t,n,i,o)},stopAnimation:function(t){(0,s.default)(S,'Native animated module is not available'),R.queueOperation(S.stopAnimation,t)},setAnimatedNodeValue:function(t,n){(0,s.default)(S,'Native animated module is not available'),R.queueOperation(S.setAnimatedNodeValue,t,n)},setAnimatedNodeOffset:function(t,n){(0,s.default)(S,'Native animated module is not available'),R.queueOperation(S.setAnimatedNodeOffset,t,n)},flattenAnimatedNodeOffset:function(t){(0,s.default)(S,'Native animated module is not available'),R.queueOperation(S.flattenAnimatedNodeOffset,t)},extractAnimatedNodeOffset:function(t){(0,s.default)(S,'Native animated module is not available'),R.queueOperation(S.extractAnimatedNodeOffset,t)},connectAnimatedNodeToView:function(t,n){(0,s.default)(S,'Native animated module is not available'),R.queueOperation(S.connectAnimatedNodeToView,t,n)},disconnectAnimatedNodeFromView:function(t,n){(0,s.default)(S,'Native animated module is not available'),R.queueOperation(S.disconnectAnimatedNodeFromView,t,n)},restoreDefaultValues:function(t){(0,s.default)(S,'Native animated module is not available'),null!=S.restoreDefaultValues&&R.queueOperation(S.restoreDefaultValues,t)},dropAnimatedNode:function(t){(0,s.default)(S,'Native animated module is not available'),R.queueOperation(S.dropAnimatedNode,t)},addAnimatedEventToView:function(t,n,i){(0,s.default)(S,'Native animated module is not available'),R.queueOperation(S.addAnimatedEventToView,t,n,i)},removeAnimatedEventFromView:function(t,n,i){(0,s.default)(S,'Native animated module is not available'),R.queueOperation(S.removeAnimatedEventFromView,t,n,i)}};function E(){q=f.default.addListener('onNativeAnimatedModuleGetValue',function(t){var n=t.tag,i=V[n];i&&(i(t.value),delete V[n])}),T=f.default.addListener('onNativeAnimatedModuleAnimationFinished',function(t){var n=t.animationId,i=y[n];i&&(i(t),delete y[n])})}var C={backgroundColor:!0,borderBottomColor:!0,borderColor:!0,borderEndColor:!0,borderLeftColor:!0,borderRightColor:!0,borderStartColor:!0,borderTopColor:!0,color:!0,tintColor:!0},D=Object.assign({},C,{borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderRadius:!0,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,elevation:!0,opacity:!0,transform:!0,zIndex:!0,shadowOpacity:!0,shadowRadius:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0}),L={translateX:!0,translateY:!0,scale:!0,scaleX:!0,scaleY:!0,rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,perspective:!0},P={inputRange:!0,outputRange:!0,extrapolate:!0,extrapolateRight:!0,extrapolateLeft:!0};function x(t){return D.hasOwnProperty(t)}function B(t){return L.hasOwnProperty(t)}function F(t){return P.hasOwnProperty(t)}var I=!1;m.exports={API:R,isSupportedColorStyleProp:function(t){return C.hasOwnProperty(t)},isSupportedStyleProp:x,isSupportedTransformProp:B,isSupportedInterpolationParam:F,addWhitelistedStyleProp:function(t){D[t]=!0},addWhitelistedTransformProp:function(t){L[t]=!0},addWhitelistedInterpolationParam:function(t){P[t]=!0},validateStyles:function(t){for(var n in t)if(!x(n))throw new Error("Style property '"+n+"' is not supported by native animated module")},validateTransform:function(t){t.forEach(function(t){if(!B(t.property))throw new Error("Property '"+t.property+"' is not supported by native animated module")})},validateInterpolation:function(t){for(var n in t)if(!F(n))throw new Error("Interpolation property '"+n+"' is not supported by native animated module")},generateNewNodeTag:function(){return p++},generateNewAnimationId:function(){return v++},assertNativeAnimatedModule:function(){(0,s.default)(c,'Native animated module is not available')},shouldUseNativeDriver:function(t){return null==t.useNativeDriver&&console.warn("Animated: `useNativeDriver` was not specified. This is a required option and must be explicitly set to `true` or `false`"),!0!==t.useNativeDriver||c?t.useNativeDriver||!1:(I||(console.warn("Animated: `useNativeDriver` is not supported because the native animated module is missing. Falling back to JS-based animation. To resolve this, add `RCTAnimation` module to this app, or remove `useNativeDriver`. Make sure to run `bundle exec pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md"),I=!0),!1)},transformDataType:function(t){return'string'!=typeof t?t:/deg$/.test(t)?(parseFloat(t)||0)*Math.PI/180:t},get nativeEventEmitter(){return t||(t=new o.default('ios'!==u.default.OS?null:c)),t}}},206,[3,207,208,93,17,195,20,4]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=o?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(u,a,f):u[a]=e[a]}return u.default=e,n&&n.set(e,u),u})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('NativeAnimatedModule')},207,[19]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=o?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(u,a,f):u[a]=e[a]}return u.default=e,n&&n.set(e,u),u})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('NativeAnimatedTurboModule')},208,[19]);
__d(function(_g,_r,_i,_a,m,_e,d){'use strict';function t(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(n){}return(t=function(){return!!n})()}function n(t,n,e,a){var r=_r(d[2])(_r(d[0])(1&a?t.prototype:t),n,e);return 2&a&&"function"==typeof r?function(t){return r.apply(e,t)}:r}var e=function(t){return t};function a(t){if(t.outputRange&&'string'==typeof t.outputRange[0])return u(t);var n=t.outputRange,a=t.inputRange,i=t.easing||e,o='extend';void 0!==t.extrapolateLeft?o=t.extrapolateLeft:void 0!==t.extrapolate&&(o=t.extrapolate);var p='extend';return void 0!==t.extrapolateRight?p=t.extrapolateRight:void 0!==t.extrapolate&&(p=t.extrapolate),function(t){_r(d[3])('number'==typeof t,'Cannot interpolation an input which is not a number');var e=c(t,a);return r(t,a[e],a[e+1],n[e],n[e+1],i,o,p)}}function r(t,n,e,a,r,i,o,u){var p=t;if(p<n){if('identity'===o)return p;'clamp'===o&&(p=n)}if(p>e){if('identity'===u)return p;'clamp'===u&&(p=e)}return a===r?a:n===e?t<=n?a:r:(n===-1/0?p=-p:e===1/0?p-=n:p=(p-n)/(e-n),p=i(p),a===-1/0?p=-p:r===1/0?p+=a:p=p*(r-a)+a,p)}function i(t){var n=_r(d[4])(t);return null===n||'number'!=typeof n?t:"rgba("+((4278190080&(n=n||0))>>>24)+", "+((16711680&n)>>>16)+", "+((65280&n)>>>8)+", "+(255&n)/255+")"}var o=/[+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?/g;function u(t){var n=t.outputRange;_r(d[3])(n.length>=2,'Bad output range'),p(n=n.map(i));var e=n[0].match(o).map(function(){return[]});n.forEach(function(t){t.match(o).forEach(function(t,n){e[n].push(+t)})});var r,u=n[0].match(o).map(function(n,r){return a(Object.assign({},t,{outputRange:e[r]}))}),c='string'==typeof(r=n[0])&&r.startsWith('rgb');return function(t){var e=0;return n[0].replace(o,function(){var n=+u[e++](t);return c&&(n=e<4?Math.round(n):Math.round(1e3*n)/1e3),String(n)})}}function p(t){for(var n=t[0].replace(o,''),e=1;e<t.length;++e)_r(d[3])(n===t[e].replace(o,''),'invalid pattern '+t[0]+' and '+t[e])}function c(t,n){var e;for(e=1;e<n.length-1&&!(n[e]>=t);++e);return e-1}var f=(function(e){function r(n,e){var i,o,u,p;return _r(d[5])(this,r),o=this,u=r,u=_r(d[0])(u),(i=_r(d[1])(o,t()?Reflect.construct(u,p||[],_r(d[0])(o).constructor):u.apply(o,p)))._parent=n,i._config=e,i._interpolation=a(e),i}return _r(d[6])(r,e),_r(d[7])(r,[{key:"__makeNative",value:function(t){this._parent.__makeNative(t),n(r,"__makeNative",this,3)([t])}},{key:"__getValue",value:function(){var t=this._parent.__getValue();return _r(d[3])('number'==typeof t,'Cannot interpolate an input which is not a number.'),this._interpolation(t)}},{key:"interpolate",value:function(t){return new r(this,t)}},{key:"__attach",value:function(){this._parent.__addChild(this)}},{key:"__detach",value:function(){this._parent.__removeChild(this),n(r,"__detach",this,3)([])}},{key:"__transformDataType",value:function(t){return t.map(_r(d[8]).transformDataType)}},{key:"__getNativeConfig",value:function(){return{inputRange:this._config.inputRange,outputRange:this.__transformDataType(this._config.outputRange),extrapolateLeft:this._config.extrapolateLeft||this._config.extrapolate||'extend',extrapolateRight:this._config.extrapolateRight||this._config.extrapolate||'extend',type:'interpolation'}}}])})(_r(d[9]));f.__createInterpolation=a,m.exports=f},209,[44,45,73,20,134,12,47,13,206,210]);
__d(function(g,_r,i,a,m,_e,d){'use strict';function t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t=function(){return!!e})()}function e(t,e,n,_){var r=_r(d[2])(_r(d[0])(1&_?t.prototype:t),e,n);return 2&_&&"function"==typeof r?function(t){return r.apply(n,t)}:r}var n=(function(n){function _(){var e,n,r,s;return _r(d[3])(this,_),n=this,r=_,r=_r(d[0])(r),(e=_r(d[1])(n,t()?Reflect.construct(r,s||[],_r(d[0])(n).constructor):r.apply(n,s)))._children=[],e}return _r(d[4])(_,n),_r(d[5])(_,[{key:"__makeNative",value:function(t){if(!this.__isNative)for(var n of(this.__isNative=!0,this._children))n.__makeNative(t),_r(d[6]).API.connectAnimatedNodes(this.__getNativeTag(),n.__getNativeTag());e(_,"__makeNative",this,3)([t])}},{key:"__addChild",value:function(t){0===this._children.length&&this.__attach(),this._children.push(t),this.__isNative&&(t.__makeNative(this.__getPlatformConfig()),_r(d[6]).API.connectAnimatedNodes(this.__getNativeTag(),t.__getNativeTag()))}},{key:"__removeChild",value:function(t){var e=this._children.indexOf(t);-1!==e?(this.__isNative&&t.__isNative&&_r(d[6]).API.disconnectAnimatedNodes(this.__getNativeTag(),t.__getNativeTag()),this._children.splice(e,1),0===this._children.length&&this.__detach()):console.warn("Trying to remove a child that doesn't exist")}},{key:"__getChildren",value:function(){return this._children}},{key:"__callListeners",value:function(t){if(e(_,"__callListeners",this,3)([t]),!this.__isNative)for(var n of this._children)n.__getValue&&n.__callListeners(n.__getValue())}}])})(_r(d[7]));m.exports=n},210,[44,45,73,12,47,13,206,211]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=1,n=(function(){return r(d[1])(function t(){r(d[0])(this,t),this._listeners={}},[{key:"__attach",value:function(){}},{key:"__detach",value:function(){this.__isNative&&null!=this.__nativeTag&&(r(d[2]).API.dropAnimatedNode(this.__nativeTag),this.__nativeTag=void 0)}},{key:"__getValue",value:function(){}},{key:"__getAnimatedValue",value:function(){return this.__getValue()}},{key:"__addChild",value:function(t){}},{key:"__removeChild",value:function(t){}},{key:"__getChildren",value:function(){return[]}},{key:"__makeNative",value:function(t){if(!this.__isNative)throw new Error('This node cannot be made a "native" animated node');this._platformConfig=t,this.hasListeners()&&this._startListeningToNativeValueUpdates()}},{key:"addListener",value:function(n){var s=String(t++);return this._listeners[s]=n,this.__isNative&&this._startListeningToNativeValueUpdates(),s}},{key:"removeListener",value:function(t){delete this._listeners[t],this.__isNative&&!this.hasListeners()&&this._stopListeningForNativeValueUpdates()}},{key:"removeAllListeners",value:function(){this._listeners={},this.__isNative&&this._stopListeningForNativeValueUpdates()}},{key:"hasListeners",value:function(){return!!Object.keys(this._listeners).length}},{key:"_startListeningToNativeValueUpdates",value:function(){var t=this;this.__nativeAnimatedValueListener&&!this.__shouldUpdateListenersForNewNativeTag||(this.__shouldUpdateListenersForNewNativeTag&&(this.__shouldUpdateListenersForNewNativeTag=!1,this._stopListeningForNativeValueUpdates()),r(d[2]).API.startListeningToAnimatedNodeValue(this.__getNativeTag()),this.__nativeAnimatedValueListener=r(d[2]).nativeEventEmitter.addListener('onAnimatedValueUpdate',function(n){n.tag===t.__getNativeTag()&&t.__onAnimatedValueUpdateReceived(n.value)}))}},{key:"__onAnimatedValueUpdateReceived",value:function(t){this.__callListeners(t)}},{key:"__callListeners",value:function(t){for(var n in this._listeners)this._listeners[n]({value:t})}},{key:"_stopListeningForNativeValueUpdates",value:function(){this.__nativeAnimatedValueListener&&(this.__nativeAnimatedValueListener.remove(),this.__nativeAnimatedValueListener=null,r(d[2]).API.stopListeningToAnimatedNodeValue(this.__getNativeTag()))}},{key:"__getNativeTag",value:function(){var t;r(d[2]).assertNativeAnimatedModule(),r(d[3])(this.__isNative,'Attempt to get native tag from node not marked as "native"');var n=null!=(t=this.__nativeTag)?t:r(d[2]).generateNewNodeTag();if(null==this.__nativeTag){this.__nativeTag=n;var s=this.__getNativeConfig();this._platformConfig&&(s.platformConfig=this._platformConfig),r(d[2]).API.createAnimatedNode(n,s),this.__shouldUpdateListenersForNewNativeTag=!0}return n}},{key:"__getNativeConfig",value:function(){throw new Error('This JS animated node type cannot be used as native animated node')}},{key:"toJSON",value:function(){return this.__getValue()}},{key:"__getPlatformConfig",value:function(){return this._platformConfig}},{key:"__setPlatformConfig",value:function(t){this._platformConfig=t}}])})();m.exports=n},211,[12,13,206,20]);
__d(function(g,r,i,a,m,e,d){var n=new(r(d[0])(r(d[1])).default),t={Events:{interactionStart:'interactionStart',interactionComplete:'interactionComplete'},runAfterInteractions:function(n){var t=[],o=new Promise(function(o){p(),n&&t.push(n),t.push({run:o,name:'resolve '+(n&&n.name||'?')}),u.enqueueTasks(t)});return{then:o.then.bind(o),cancel:function(){u.cancelTasks(t)}}},createInteractionHandle:function(){p();var n=++l;return c.add(n),n},clearInteractionHandle:function(n){r(d[2])(!!n,'InteractionManager: Must provide a handle to clear.'),p(),c.delete(n),s.add(n)},addListener:n.addListener.bind(n),setDeadline:function(n){v=n}},o=new Set,c=new Set,s=new Set,u=new(r(d[3]))({onMoreTasks:p}),f=0,l=0,v=-1;function p(){f||(f=v>0?setTimeout(h,0):setImmediate(h))}function h(){f=0;var l=o.size;c.forEach(function(n){return o.add(n)}),s.forEach(function(n){return o.delete(n)});var h=o.size;if(0!==l&&0===h?n.emit(t.Events.interactionComplete):0===l&&0!==h&&n.emit(t.Events.interactionStart),0===h)for(;u.hasTasksToProcess();)if(u.processNext(),v>0&&r(d[4]).getEventLoopRunningTime()>=v){p();break}c.clear(),s.clear()}m.exports=t},212,[3,5,20,213,26]);
__d(function(g,r,i,a,m,_e,d){'use strict';var e=(function(){return r(d[1])(function e(t){var u=t.onMoreTasks;r(d[0])(this,e),this._onMoreTasks=u,this._queueStack=[{tasks:[],popable:!1}]},[{key:"enqueue",value:function(e){this._getCurrentQueue().push(e)}},{key:"enqueueTasks",value:function(e){var t=this;e.forEach(function(e){return t.enqueue(e)})}},{key:"cancelTasks",value:function(e){this._queueStack=this._queueStack.map(function(t){return Object.assign({},t,{tasks:t.tasks.filter(function(t){return-1===e.indexOf(t)})})}).filter(function(e,t){return e.tasks.length>0||0===t})}},{key:"hasTasksToProcess",value:function(){return this._getCurrentQueue().length>0}},{key:"processNext",value:function(){var e=this._getCurrentQueue();if(e.length){var t=e.shift();try{'object'==typeof t&&t.gen?this._genPromise(t):'object'==typeof t&&t.run?t.run():(r(d[2])('function'==typeof t,'Expected Function, SimpleTask, or PromiseTask, but got:\n'+JSON.stringify(t,null,2)),t())}catch(e){throw e.message='TaskQueue: Error with task '+(t.name||'')+': '+e.message,e}}}},{key:"_getCurrentQueue",value:function(){var e=this._queueStack.length-1,t=this._queueStack[e];return t.popable&&0===t.tasks.length&&this._queueStack.length>1?(this._queueStack.pop(),this._getCurrentQueue()):t.tasks}},{key:"_genPromise",value:function(e){var t=this;this._queueStack.push({tasks:[],popable:!1});var u=this._queueStack.length-1,s=this._queueStack[u];e.gen().then(function(){s.popable=!0,t.hasTasksToProcess()&&t._onMoreTasks()}).catch(function(t){setTimeout(function(){throw t.message="TaskQueue: Error resolving Promise in task "+e.name+": "+t.message,t},0)})}}])})();m.exports=e},213,[12,13,20]);
__d(function(g,_r,i,a,m,_e,d){'use strict';function t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t=function(){return!!e})()}function e(t,e,n,s){var r=_r(d[2])(_r(d[0])(1&s?t.prototype:t),e,n);return 2&s&&"function"==typeof r?function(t){return r.apply(n,t)}:r}var n=1,s=(function(s){function r(e,n){var s,u,o,l;_r(d[3])(this,r),u=this,o=r,o=_r(d[0])(o),s=_r(d[1])(u,t()?Reflect.construct(o,l||[],_r(d[0])(u).constructor):o.apply(u,l));var f=e||{x:0,y:0};return'number'==typeof f.x&&'number'==typeof f.y?(s.x=new(_r(d[4]))(f.x),s.y=new(_r(d[4]))(f.y)):(_r(d[5])(f.x instanceof _r(d[4])&&f.y instanceof _r(d[4]),"AnimatedValueXY must be initialized with an object of numbers or AnimatedValues."),s.x=f.x,s.y=f.y),s._listeners={},n&&n.useNativeDriver&&s.__makeNative(),s}return _r(d[6])(r,s),_r(d[7])(r,[{key:"setValue",value:function(t){this.x.setValue(t.x),this.y.setValue(t.y)}},{key:"setOffset",value:function(t){this.x.setOffset(t.x),this.y.setOffset(t.y)}},{key:"flattenOffset",value:function(){this.x.flattenOffset(),this.y.flattenOffset()}},{key:"extractOffset",value:function(){this.x.extractOffset(),this.y.extractOffset()}},{key:"__getValue",value:function(){return{x:this.x.__getValue(),y:this.y.__getValue()}}},{key:"resetAnimation",value:function(t){this.x.resetAnimation(),this.y.resetAnimation(),t&&t(this.__getValue())}},{key:"stopAnimation",value:function(t){this.x.stopAnimation(),this.y.stopAnimation(),t&&t(this.__getValue())}},{key:"addListener",value:function(t){var e=this,s=String(n++),r=function(n){n.value;t(e.__getValue())};return this._listeners[s]={x:this.x.addListener(r),y:this.y.addListener(r)},s}},{key:"removeListener",value:function(t){this.x.removeListener(this._listeners[t].x),this.y.removeListener(this._listeners[t].y),delete this._listeners[t]}},{key:"removeAllListeners",value:function(){this.x.removeAllListeners(),this.y.removeAllListeners(),this._listeners={}}},{key:"getLayout",value:function(){return{left:this.x,top:this.y}}},{key:"getTranslateTransform",value:function(){return[{translateX:this.x},{translateY:this.y}]}},{key:"__attach",value:function(){this.x.__addChild(this),this.y.__addChild(this),e(r,"__attach",this,3)([])}},{key:"__detach",value:function(){this.x.__removeChild(this),this.y.__removeChild(this),e(r,"__detach",this,3)([])}},{key:"__makeNative",value:function(t){this.x.__makeNative(t),this.y.__makeNative(t),e(r,"__makeNative",this,3)([t])}}])})(_r(d[8]));m.exports=s},214,[44,45,73,12,205,20,47,13,210]);
__d(function(_g,_r,_i,_a,m,e,d){'use strict';var n=_r(d[0])(_r(d[1])),t=function(n,t){return n&&t.onComplete?function(){t.onComplete&&t.onComplete.apply(t,arguments),n&&n.apply(void 0,arguments)}:n||t.onComplete},i=function(t,i,r){if(t instanceof _r(d[8])){var o=Object.assign({},i),a=Object.assign({},i);for(var s in i){var c=i[s],f=c.x,v=c.y;void 0!==f&&void 0!==v&&(o[s]=f,a[s]=v)}var p=r(t.x,o),l=r(t.y,a);return u([p,l],{stopTogether:!1})}if(t instanceof n.default){var g=Object.assign({},i),h=Object.assign({},i),_=Object.assign({},i),N=Object.assign({},i);for(var w in i){var E=i[w],A=E.r,b=E.g,D=E.b,L=E.a;void 0!==A&&void 0!==b&&void 0!==D&&void 0!==L&&(g[w]=A,h[w]=b,_[w]=D,N[w]=L)}var y=r(t.r,g),j=r(t.g,h),O=r(t.b,_),U=r(t.a,N);return u([y,j,O,U],{stopTogether:!1})}return null},r=function(n,o){var a=function(n,i,r){r=t(r,i);var o=n,a=i;o.stopTracking(),i.toValue instanceof _r(d[9])?o.track(new(_r(d[10]))(o,i.toValue,_r(d[11]),a,r)):o.animate(new(_r(d[11]))(a),r)};return i(n,o,r)||{start:function(t){a(n,o,t)},stop:function(){n.stopAnimation()},reset:function(){n.resetAnimation()},_startNativeLoop:function(t){var i=Object.assign({},o,{iterations:t});a(n,i)},_isUsingNativeDriver:function(){return o.useNativeDriver||!1}}},o=function(n,r){var a=function(n,i,r){r=t(r,i);var o=n,a=i;o.stopTracking(),i.toValue instanceof _r(d[9])?o.track(new(_r(d[10]))(o,i.toValue,_r(d[12]),a,r)):o.animate(new(_r(d[12]))(a),r)};return i(n,r,o)||{start:function(t){a(n,r,t)},stop:function(){n.stopAnimation()},reset:function(){n.resetAnimation()},_startNativeLoop:function(t){var i=Object.assign({},r,{iterations:t});a(n,i)},_isUsingNativeDriver:function(){return r.useNativeDriver||!1}}},a=function(n,r){var o=function(n,i,r){r=t(r,i);var o=n,a=i;o.stopTracking(),o.animate(new(_r(d[13]))(a),r)};return i(n,r,a)||{start:function(t){o(n,r,t)},stop:function(){n.stopAnimation()},reset:function(){n.resetAnimation()},_startNativeLoop:function(t){var i=Object.assign({},r,{iterations:t});o(n,i)},_isUsingNativeDriver:function(){return r.useNativeDriver||!1}}},s=function(n){var t=0;return{start:function(i){var r=function(o){o.finished&&++t!==n.length?n[t].start(r):i&&i(o)};0===n.length?i&&i({finished:!0}):n[t].start(r)},stop:function(){t<n.length&&n[t].stop()},reset:function(){n.forEach(function(n,i){i<=t&&n.reset()}),t=0},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.sequence animations')},_isUsingNativeDriver:function(){return!1}}},u=function(n,t){var i=0,r={},o=!(t&&!1===t.stopTogether),a={start:function(t){i!==n.length?n.forEach(function(s,u){var c=function(s){if(r[u]=!0,++i===n.length)return i=0,void(t&&t(s));!s.finished&&o&&a.stop()};s?s.start(c):c({finished:!0})}):t&&t({finished:!0})},stop:function(){n.forEach(function(n,t){!r[t]&&n.stop(),r[t]=!0})},reset:function(){n.forEach(function(n,t){n.reset(),r[t]=!1,i=0})},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.parallel animations')},_isUsingNativeDriver:function(){return!1}};return a},c=function(n){return o(new(_r(d[14]))(0),{toValue:0,delay:n,duration:0,useNativeDriver:!1})};m.exports={Value:_r(d[14]),ValueXY:_r(d[8]),Color:n.default,Interpolation:_r(d[16]),Node:_r(d[9]),decay:a,timing:o,spring:r,add:function(n,t){return new(_r(d[2]))(n,t)},subtract:function(n,t){return new(_r(d[3]))(n,t)},divide:function(n,t){return new(_r(d[4]))(n,t)},multiply:function(n,t){return new(_r(d[5]))(n,t)},modulo:function(n,t){return new(_r(d[6]))(n,t)},diffClamp:function(n,t,i){return new(_r(d[7]))(n,t,i)},delay:c,sequence:s,parallel:u,stagger:function(n,t){return u(t.map(function(t,i){return s([c(n*i),t])}))},loop:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.iterations,r=void 0===i?-1:i,o=t.resetBeforeIteration,a=void 0===o||o,s=!1,u=0;return{start:function(t){var i=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{finished:!0};s||u===r||!1===o.finished?t&&t(o):(u++,a&&n.reset(),n.start(i))};n&&0!==r?n._isUsingNativeDriver()?n._startNativeLoop(r):i():t&&t({finished:!0})},stop:function(){s=!0,n.stop()},reset:function(){u=0,s=!1,n.reset()},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.loop animations')},_isUsingNativeDriver:function(){return n._isUsingNativeDriver()}}},event:function(n,t){var i=new(_r(d[15]).AnimatedEvent)(n,t);return i.__isNative?i:i.__getHandler()},createAnimatedComponent:_r(d[17]),attachNativeEvent:_r(d[15]).attachNativeEvent,forkEvent:function(n,t){return n?n instanceof _r(d[15]).AnimatedEvent?(n.__addListener(t),n):function(){'function'==typeof n&&n.apply(void 0,arguments),t.apply(void 0,arguments)}:t},unforkEvent:function(n,t){n&&n instanceof _r(d[15]).AnimatedEvent&&n.__removeListener(t)},Event:_r(d[15]).AnimatedEvent}},215,[3,204,216,217,218,219,220,221,214,211,222,223,227,230,205,231,209,232]);
__d(function(g,_r,i,_a,m,_e,d){'use strict';function t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t=function(){return!!e})()}function e(t,e,n,_){var a=_r(d[2])(_r(d[0])(1&_?t.prototype:t),e,n);return 2&_&&"function"==typeof a?function(t){return a.apply(n,t)}:a}var n=(function(n){function _(e,n){var a,u,o,r;return _r(d[3])(this,_),u=this,o=_,o=_r(d[0])(o),(a=_r(d[1])(u,t()?Reflect.construct(o,r||[],_r(d[0])(u).constructor):o.apply(u,r)))._a='number'==typeof e?new(_r(d[4]))(e):e,a._b='number'==typeof n?new(_r(d[4]))(n):n,a}return _r(d[5])(_,n),_r(d[6])(_,[{key:"__makeNative",value:function(t){this._a.__makeNative(t),this._b.__makeNative(t),e(_,"__makeNative",this,3)([t])}},{key:"__getValue",value:function(){return this._a.__getValue()+this._b.__getValue()}},{key:"interpolate",value:function(t){return new(_r(d[7]))(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),e(_,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){return{type:'addition',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}])})(_r(d[8]));m.exports=n},216,[44,45,73,12,205,47,13,209,210]);
__d(function(g,_r,i,_a,m,_e,d){'use strict';function t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t=function(){return!!e})()}function e(t,e,n,_){var a=_r(d[2])(_r(d[0])(1&_?t.prototype:t),e,n);return 2&_&&"function"==typeof a?function(t){return a.apply(n,t)}:a}var n=(function(n){function _(e,n){var a,u,r,o;return _r(d[3])(this,_),u=this,r=_,r=_r(d[0])(r),(a=_r(d[1])(u,t()?Reflect.construct(r,o||[],_r(d[0])(u).constructor):r.apply(u,o)))._a='number'==typeof e?new(_r(d[4]))(e):e,a._b='number'==typeof n?new(_r(d[4]))(n):n,a}return _r(d[5])(_,n),_r(d[6])(_,[{key:"__makeNative",value:function(t){this._a.__makeNative(t),this._b.__makeNative(t),e(_,"__makeNative",this,3)([t])}},{key:"__getValue",value:function(){return this._a.__getValue()-this._b.__getValue()}},{key:"interpolate",value:function(t){return new(_r(d[7]))(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),e(_,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){return{type:'subtraction',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}])})(_r(d[8]));m.exports=n},217,[44,45,73,12,205,47,13,209,210]);
__d(function(g,_r,i,_a,m,_e,d){'use strict';function t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t=function(){return!!e})()}function e(t,e,n,o){var a=_r(d[2])(_r(d[0])(1&o?t.prototype:t),e,n);return 2&o&&"function"==typeof a?function(t){return a.apply(n,t)}:a}var n=(function(n){function o(e,n){var a,_,r,u;return _r(d[3])(this,o),_=this,r=o,r=_r(d[0])(r),(a=_r(d[1])(_,t()?Reflect.construct(r,u||[],_r(d[0])(_).constructor):r.apply(_,u)))._warnedAboutDivideByZero=!1,(0===n||n instanceof _r(d[4])&&0===n.__getValue())&&console.error('Detected potential division by zero in AnimatedDivision'),a._a='number'==typeof e?new(_r(d[5]))(e):e,a._b='number'==typeof n?new(_r(d[5]))(n):n,a}return _r(d[6])(o,n),_r(d[7])(o,[{key:"__makeNative",value:function(t){this._a.__makeNative(t),this._b.__makeNative(t),e(o,"__makeNative",this,3)([t])}},{key:"__getValue",value:function(){var t=this._a.__getValue(),e=this._b.__getValue();return 0===e?(this._warnedAboutDivideByZero||(console.error('Detected division by zero in AnimatedDivision'),this._warnedAboutDivideByZero=!0),0):(this._warnedAboutDivideByZero=!1,t/e)}},{key:"interpolate",value:function(t){return new(_r(d[8]))(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),e(o,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){return{type:'division',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}])})(_r(d[9]));m.exports=n},218,[44,45,73,12,211,205,47,13,209,210]);
__d(function(g,_r,i,_a,m,_e,d){'use strict';function t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t=function(){return!!e})()}function e(t,e,n,_){var a=_r(d[2])(_r(d[0])(1&_?t.prototype:t),e,n);return 2&_&&"function"==typeof a?function(t){return a.apply(n,t)}:a}var n=(function(n){function _(e,n){var a,u,o,r;return _r(d[3])(this,_),u=this,o=_,o=_r(d[0])(o),(a=_r(d[1])(u,t()?Reflect.construct(o,r||[],_r(d[0])(u).constructor):o.apply(u,r)))._a='number'==typeof e?new(_r(d[4]))(e):e,a._b='number'==typeof n?new(_r(d[4]))(n):n,a}return _r(d[5])(_,n),_r(d[6])(_,[{key:"__makeNative",value:function(t){this._a.__makeNative(t),this._b.__makeNative(t),e(_,"__makeNative",this,3)([t])}},{key:"__getValue",value:function(){return this._a.__getValue()*this._b.__getValue()}},{key:"interpolate",value:function(t){return new(_r(d[7]))(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),e(_,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){return{type:'multiplication',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}])})(_r(d[8]));m.exports=n},219,[44,45,73,12,205,47,13,209,210]);
__d(function(g,_r,i,_a,m,_e,d){'use strict';function t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t=function(){return!!e})()}function e(t,e,u,n){var a=_r(d[2])(_r(d[0])(1&n?t.prototype:t),e,u);return 2&n&&"function"==typeof a?function(t){return a.apply(u,t)}:a}var u=(function(u){function n(e,u){var a,o,_,r;return _r(d[3])(this,n),o=this,_=n,_=_r(d[0])(_),(a=_r(d[1])(o,t()?Reflect.construct(_,r||[],_r(d[0])(o).constructor):_.apply(o,r)))._a=e,a._modulus=u,a}return _r(d[4])(n,u),_r(d[5])(n,[{key:"__makeNative",value:function(t){this._a.__makeNative(t),e(n,"__makeNative",this,3)([t])}},{key:"__getValue",value:function(){return(this._a.__getValue()%this._modulus+this._modulus)%this._modulus}},{key:"interpolate",value:function(t){return new(_r(d[6]))(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),e(n,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){return{type:'modulus',input:this._a.__getNativeTag(),modulus:this._modulus}}}])})(_r(d[7]));m.exports=u},220,[44,45,73,12,47,13,209,210]);
__d(function(g,_r,i,_a,m,_e,d){'use strict';function t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t=function(){return!!e})()}function e(t,e,a,n){var _=_r(d[2])(_r(d[0])(1&n?t.prototype:t),e,a);return 2&n&&"function"==typeof _?function(t){return _.apply(a,t)}:_}var a=(function(a){function n(e,a,_){var u,r,l,o;return _r(d[3])(this,n),r=this,l=n,l=_r(d[0])(l),(u=_r(d[1])(r,t()?Reflect.construct(l,o||[],_r(d[0])(r).constructor):l.apply(r,o)))._a=e,u._min=a,u._max=_,u._value=u._lastValue=u._a.__getValue(),u}return _r(d[4])(n,a),_r(d[5])(n,[{key:"__makeNative",value:function(t){this._a.__makeNative(t),e(n,"__makeNative",this,3)([t])}},{key:"interpolate",value:function(t){return new(_r(d[6]))(this,t)}},{key:"__getValue",value:function(){var t=this._a.__getValue(),e=t-this._lastValue;return this._lastValue=t,this._value=Math.min(Math.max(this._value+e,this._min),this._max),this._value}},{key:"__attach",value:function(){this._a.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),e(n,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){return{type:'diffclamp',input:this._a.__getNativeTag(),min:this._min,max:this._max}}}])})(_r(d[7]));m.exports=a},221,[44,45,73,12,47,13,209,210]);
__d(function(g,_r,i,a,m,_e,d){'use strict';function t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t=function(){return!!e})()}function e(t,e,n,_){var o=_r(d[2])(_r(d[0])(1&_?t.prototype:t),e,n);return 2&_&&"function"==typeof o?function(t){return o.apply(n,t)}:o}var n=(function(n){function _(e,n,o,u,r){var s,c,l,v;return _r(d[3])(this,_),c=this,l=_,l=_r(d[0])(l),(s=_r(d[1])(c,t()?Reflect.construct(l,v||[],_r(d[0])(c).constructor):l.apply(c,v)))._value=e,s._parent=n,s._animationClass=o,s._animationConfig=u,s._useNativeDriver=_r(d[4]).shouldUseNativeDriver(u),s._callback=r,s.__attach(),s}return _r(d[5])(_,n),_r(d[6])(_,[{key:"__makeNative",value:function(t){this.__isNative=!0,this._parent.__makeNative(t),e(_,"__makeNative",this,3)([t]),this._value.__makeNative(t)}},{key:"__getValue",value:function(){return this._parent.__getValue()}},{key:"__attach",value:function(){if(this._parent.__addChild(this),this._useNativeDriver){var t=this._animationConfig.platformConfig;this.__makeNative(t)}}},{key:"__detach",value:function(){this._parent.__removeChild(this),e(_,"__detach",this,3)([])}},{key:"update",value:function(){this._value.animate(new this._animationClass(Object.assign({},this._animationConfig,{toValue:this._animationConfig.toValue.__getValue()})),this._callback)}},{key:"__getNativeConfig",value:function(){var t=new this._animationClass(Object.assign({},this._animationConfig,{toValue:void 0})).__getNativeAnimationConfig();return{type:'tracking',animationId:_r(d[4]).generateNewAnimationId(),animationConfig:t,toValue:this._parent.__getNativeTag(),value:this._value.__getNativeTag()}}}])})(_r(d[7]));m.exports=n},222,[44,45,73,12,206,47,13,211]);
__d(function(g,_r,i,a,_m,_e,d){'use strict';_r(d[0])(_r(d[1]));var t=_r(d[0])(_r(d[2])),s=_r(d[0])(_r(d[3])),e=_r(d[0])(_r(d[4])),n=_r(d[0])(_r(d[5])),o=_r(d[0])(_r(d[6])),l=_r(d[0])(_r(d[7]));_r(d[0])(_r(d[8]));function r(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(r=function(){return!!t})()}var h=(function(h){function _(s){var o,l,h,u,f,m,c,v,p,y,V,T,b,M,D;if((0,t.default)(this,_),y=this,V=_,V=(0,n.default)(V),(p=(0,e.default)(y,r()?Reflect.construct(V,T||[],(0,n.default)(y).constructor):V.apply(y,T)))._overshootClamping=null!=(o=s.overshootClamping)&&o,p._restDisplacementThreshold=null!=(l=s.restDisplacementThreshold)?l:.001,p._restSpeedThreshold=null!=(h=s.restSpeedThreshold)?h:.001,p._initialVelocity=null!=(u=s.velocity)?u:0,p._lastVelocity=null!=(f=s.velocity)?f:0,p._toValue=s.toValue,p._delay=null!=(m=s.delay)?m:0,p._useNativeDriver=_r(d[9]).shouldUseNativeDriver(s),p._platformConfig=s.platformConfig,p.__isInteraction=null!=(c=s.isInteraction)?c:!p._useNativeDriver,p.__iterations=null!=(v=s.iterations)?v:1,void 0!==s.stiffness||void 0!==s.damping||void 0!==s.mass)_r(d[10])(void 0===s.bounciness&&void 0===s.speed&&void 0===s.tension&&void 0===s.friction,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one'),p._stiffness=null!=(b=s.stiffness)?b:100,p._damping=null!=(M=s.damping)?M:10,p._mass=null!=(D=s.mass)?D:1;else if(void 0!==s.bounciness||void 0!==s.speed){var P,C;_r(d[10])(void 0===s.tension&&void 0===s.friction&&void 0===s.stiffness&&void 0===s.damping&&void 0===s.mass,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one');var S=_r(d[11]).fromBouncinessAndSpeed(null!=(P=s.bounciness)?P:8,null!=(C=s.speed)?C:12);p._stiffness=S.stiffness,p._damping=S.damping,p._mass=1}else{var U,A,N=_r(d[11]).fromOrigamiTensionAndFriction(null!=(U=s.tension)?U:40,null!=(A=s.friction)?A:7);p._stiffness=N.stiffness,p._damping=N.damping,p._mass=1}return _r(d[10])(p._stiffness>0,'Stiffness value must be greater than 0'),_r(d[10])(p._damping>0,'Damping value must be greater than 0'),_r(d[10])(p._mass>0,'Mass value must be greater than 0'),p}return(0,l.default)(_,h),(0,s.default)(_,[{key:"__getNativeAnimationConfig",value:function(){var t;return{type:'spring',overshootClamping:this._overshootClamping,restDisplacementThreshold:this._restDisplacementThreshold,restSpeedThreshold:this._restSpeedThreshold,stiffness:this._stiffness,damping:this._damping,mass:this._mass,initialVelocity:null!=(t=this._initialVelocity)?t:this._lastVelocity,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig}}},{key:"start",value:function(t,s,e,n,o){var l=this;if(this.__active=!0,this._startPosition=t,this._lastPosition=this._startPosition,this._onUpdate=s,this.__onEnd=e,this._lastTime=Date.now(),this._frameTime=0,n instanceof _){var r=n.getInternalState();this._lastPosition=r.lastPosition,this._lastVelocity=r.lastVelocity,this._initialVelocity=this._lastVelocity,this._lastTime=r.lastTime}var h=function(){l._useNativeDriver?l.__startNativeAnimation(o):l.onUpdate()};this._delay?this._timeout=setTimeout(h,this._delay):h()}},{key:"getInternalState",value:function(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}}},{key:"onUpdate",value:function(){var t=Date.now();t>this._lastTime+64&&(t=this._lastTime+64);var s=(t-this._lastTime)/1e3;this._frameTime+=s;var e=this._damping,n=this._mass,o=this._stiffness,l=-this._initialVelocity,r=e/(2*Math.sqrt(o*n)),h=Math.sqrt(o/n),_=h*Math.sqrt(1-r*r),u=this._toValue-this._startPosition,f=0,m=0,c=this._frameTime;if(r<1){var v=Math.exp(-r*h*c);f=this._toValue-v*((l+r*h*u)/_*Math.sin(_*c)+u*Math.cos(_*c)),m=r*h*v*(Math.sin(_*c)*(l+r*h*u)/_+u*Math.cos(_*c))-v*(Math.cos(_*c)*(l+r*h*u)-_*u*Math.sin(_*c))}else{var p=Math.exp(-h*c);f=this._toValue-p*(u+(l+h*u)*c),m=p*(l*(c*h-1)+c*u*(h*h))}if(this._lastTime=t,this._lastPosition=f,this._lastVelocity=m,this._onUpdate(f),this.__active){var y=!1;this._overshootClamping&&0!==this._stiffness&&(y=this._startPosition<this._toValue?f>this._toValue:f<this._toValue);var V=Math.abs(m)<=this._restSpeedThreshold,T=!0;if(0!==this._stiffness&&(T=Math.abs(this._toValue-f)<=this._restDisplacementThreshold),y||V&&T)return 0!==this._stiffness&&(this._lastPosition=this._toValue,this._lastVelocity=0,this._onUpdate(this._toValue)),void this.__debouncedOnEnd({finished:!0});this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}}},{key:"stop",value:function(){var t,s,e,l,r;(t=_,s="stop",e=this,l=3,r=(0,o.default)((0,n.default)(1&l?t.prototype:t),s,e),2&l&&"function"==typeof r?function(t){return r.apply(e,t)}:r)([]),this.__active=!1,clearTimeout(this._timeout),g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}])})(_r(d[12]));_m.exports=h},223,[3,224,12,13,45,44,73,47,204,206,20,225,226]);
__d(function(g,_r,i,a,m,e,d){m.exports=function(o){throw new TypeError('"'+o+'" is read-only')},m.exports.__esModule=!0,m.exports.default=m.exports},224,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function n(n){return 3.62*(n-30)+194}function t(n){return 3*(n-8)+25}m.exports={fromOrigamiTensionAndFriction:function(o,u){return{stiffness:n(o),damping:t(u)}},fromBouncinessAndSpeed:function(o,u){function f(n,t,o){return(n-t)/(o-t)}function c(n,t,o){return t+n*(o-t)}function s(n,t,o){return n*o+(1-n)*t}function p(n){return 44e-6*Math.pow(n,3)-.006*Math.pow(n,2)+.36*n+2}function h(n){return 4.5e-7*Math.pow(n,3)-332e-6*Math.pow(n,2)+.1078*n+5.84}var w=f(o/1.7,0,20);w=c(w,0,.8);var M,v,A,_,x=c(f(u/1.7,0,20),.5,200),B=(M=w,v=(A=x)<=18?(_=A,7e-4*Math.pow(_,3)-.031*Math.pow(_,2)+.64*_+1.28):A>18&&A<=44?p(A):h(A),s(2*M-M*M,v,.01));return{stiffness:n(x),damping:t(B)}}}},225,[]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=1,n=(function(){return r(d[1])(function t(){r(d[0])(this,t)},[{key:"start",value:function(t,n,e,o,_){}},{key:"stop",value:function(){this.__nativeId&&r(d[2]).API.stopAnimation(this.__nativeId)}},{key:"__getNativeAnimationConfig",value:function(){throw new Error('This animation type cannot be offloaded to native')}},{key:"__debouncedOnEnd",value:function(t){var n=this.__onEnd;this.__onEnd=null,n&&n(t)}},{key:"__startNativeAnimation",value:function(n){var e=t+":startAnimation";t+=1,r(d[2]).API.setWaitingForIdentifier(e);try{var o=this.__getNativeAnimationConfig();n.__makeNative(o.platformConfig),this.__nativeId=r(d[2]).generateNewAnimationId(),r(d[2]).API.startAnimatingNode(this.__nativeId,n.__getNativeTag(),o,this.__debouncedOnEnd.bind(this))}catch(t){throw t}finally{r(d[2]).API.unsetWaitingForIdentifier(e)}}}])})();m.exports=n},226,[12,13,206]);
__d(function(g,_r,i,a,m,_e,d){'use strict';_r(d[0])(_r(d[1]));var t,e=_r(d[0])(_r(d[2])),n=_r(d[0])(_r(d[3])),o=_r(d[0])(_r(d[4])),r=_r(d[0])(_r(d[5])),s=_r(d[0])(_r(d[6])),u=_r(d[0])(_r(d[7]));_r(d[0])(_r(d[8]));function _(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_=function(){return!!t})()}function l(){if(!t){var e=_r(d[9]);t=e.inOut(e.ease)}return t}var h=(function(t){function h(t){var n,s,u,f,c,v,p,y,V;return(0,e.default)(this,h),p=this,y=h,y=(0,r.default)(y),(v=(0,o.default)(p,_()?Reflect.construct(y,V||[],(0,r.default)(p).constructor):y.apply(p,V)))._toValue=t.toValue,v._easing=null!=(n=t.easing)?n:l(),v._duration=null!=(s=t.duration)?s:500,v._delay=null!=(u=t.delay)?u:0,v.__iterations=null!=(f=t.iterations)?f:1,v._useNativeDriver=_r(d[10]).shouldUseNativeDriver(t),v._platformConfig=t.platformConfig,v.__isInteraction=null!=(c=t.isInteraction)?c:!v._useNativeDriver,v}return(0,u.default)(h,t),(0,n.default)(h,[{key:"__getNativeAnimationConfig",value:function(){for(var t=[],e=Math.round(this._duration/16.666666666666668),n=0;n<e;n++)t.push(this._easing(n/e));return t.push(this._easing(1)),{type:'frames',frames:t,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig}}},{key:"start",value:function(t,e,n,o,r){var s=this;this.__active=!0,this._fromValue=t,this._onUpdate=e,this.__onEnd=n;var u=function(){0!==s._duration||s._useNativeDriver?(s._startTime=Date.now(),s._useNativeDriver?s.__startNativeAnimation(r):s._animationFrame=requestAnimationFrame(s.onUpdate.bind(s))):(s._onUpdate(s._toValue),s.__debouncedOnEnd({finished:!0}))};this._delay?this._timeout=setTimeout(u,this._delay):u()}},{key:"onUpdate",value:function(){var t=Date.now();if(t>=this._startTime+this._duration)return 0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),void this.__debouncedOnEnd({finished:!0});this._onUpdate(this._fromValue+this._easing((t-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))}},{key:"stop",value:function(){var t,e,n,o,u;(t=h,e="stop",n=this,o=3,u=(0,s.default)((0,r.default)(1&o?t.prototype:t),e,n),2&o&&"function"==typeof u?function(t){return u.apply(n,t)}:u)([]),this.__active=!1,clearTimeout(this._timeout),g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}])})(_r(d[11]));m.exports=h},227,[3,224,12,13,45,44,73,47,204,228,206,226]);
__d(function(g,r,i,a,m,e,d){'use strict';var n,t={step0:function(n){return n>0?1:0},step1:function(n){return n>=1?1:0},linear:function(n){return n},ease:function(u){return n||(n=t.bezier(.42,0,1,1)),n(u)},quad:function(n){return n*n},cubic:function(n){return n*n*n},poly:function(n){return function(t){return Math.pow(t,n)}},sin:function(n){return 1-Math.cos(n*Math.PI/2)},circle:function(n){return 1-Math.sqrt(1-n*n)},exp:function(n){return Math.pow(2,10*(n-1))},elastic:function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)*Math.PI;return function(t){return 1-Math.pow(Math.cos(t*Math.PI/2),3)*Math.cos(t*n)}},back:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.70158;return function(t){return t*t*((n+1)*t-n)}},bounce:function(n){if(n<.36363636363636365)return 7.5625*n*n;if(n<.7272727272727273){var t=n-.5454545454545454;return 7.5625*t*t+.75}if(n<.9090909090909091){var u=n-.8181818181818182;return 7.5625*u*u+.9375}var o=n-.9545454545454546;return 7.5625*o*o+.984375},bezier:function(n,t,u,o){return r(d[0])(n,t,u,o)},in:function(n){return n},out:function(n){return function(t){return 1-n(1-t)}},inOut:function(n){return function(t){return t<.5?n(2*t)/2:1-n(2*(1-t))/2}}};m.exports=t},228,[229]);
__d(function(g,r,_i,a,m,e,d){'use strict';var n=4,t=.001,u=1e-7,o=10,f=.1,i='function'==typeof Float32Array;function c(n,t){return 1-3*t+3*n}function v(n,t){return 3*t-6*n}function s(n){return 3*n}function w(n,t,u){return((c(t,u)*n+v(t,u))*n+s(t))*n}function l(n,t,u){return 3*c(t,u)*n*n+2*v(t,u)*n+s(t)}function y(n,t,f,i,c){var v,s,l=0,y=t,b=f;do{(v=w(s=y+(b-y)/2,i,c)-n)>0?b=s:y=s}while(Math.abs(v)>u&&++l<o);return s}function b(t,u,o,f){for(var i=u,c=0;c<n;++c){var v=l(i,o,f);if(0===v)return i;i-=(w(i,o,f)-t)/v}return i}m.exports=function(n,u,o,c){if(!(n>=0&&n<=1&&o>=0&&o<=1))throw new Error('bezier x values must be in [0, 1] range');var v=i?new Float32Array(11):new Array(11);if(n!==u||o!==c)for(var s=0;s<11;++s)v[s]=w(s*f,n,o);function h(u){for(var i=0,c=1;10!==c&&v[c]<=u;++c)i+=f;var s=i+(u-v[--c])/(v[c+1]-v[c])*f,w=l(s,n,o);return w>=t?b(u,s,n,o):0===w?s:y(u,i,i+f,n,o)}return function(t){return n===u&&o===c?t:0===t?0:1===t?1:w(h(t),u,c)}}},229,[]);
__d(function(g,_r,i,a,m,_e,d){'use strict';function t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t=function(){return!!e})()}var e=(function(e){function n(e){var o,s,r,_,c,l,u;return _r(d[3])(this,n),c=this,l=n,l=_r(d[0])(l),(_=_r(d[1])(c,t()?Reflect.construct(l,u||[],_r(d[0])(c).constructor):l.apply(c,u)))._deceleration=null!=(o=e.deceleration)?o:.998,_._velocity=e.velocity,_._useNativeDriver=_r(d[4]).shouldUseNativeDriver(e),_._platformConfig=e.platformConfig,_.__isInteraction=null!=(s=e.isInteraction)?s:!_._useNativeDriver,_.__iterations=null!=(r=e.iterations)?r:1,_}return _r(d[5])(n,e),_r(d[6])(n,[{key:"__getNativeAnimationConfig",value:function(){return{type:'decay',deceleration:this._deceleration,velocity:this._velocity,iterations:this.__iterations,platformConfig:this._platformConfig}}},{key:"start",value:function(t,e,n,o,s){this.__active=!0,this._lastValue=t,this._fromValue=t,this._onUpdate=e,this.__onEnd=n,this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(s):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}},{key:"onUpdate",value:function(){var t=Date.now(),e=this._fromValue+this._velocity/(1-this._deceleration)*(1-Math.exp(-(1-this._deceleration)*(t-this._startTime)));this._onUpdate(e),Math.abs(this._lastValue-e)<.1?this.__debouncedOnEnd({finished:!0}):(this._lastValue=e,this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))))}},{key:"stop",value:function(){var t,e,o,s,r;(t=n,e="stop",o=this,s=3,r=_r(d[2])(_r(d[0])(1&s?t.prototype:t),e,o),2&s&&"function"==typeof r?function(t){return r.apply(o,t)}:r)([]),this.__active=!1,g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}])})(_r(d[7]));m.exports=e},230,[44,45,73,12,206,47,13,226]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,n,s,o){var v=[],c=function(t,n){if(t instanceof r(d[0]))t.__makeNative(o),v.push({nativeEventPath:n,animatedValueTag:t.__getNativeTag()});else if(t instanceof r(d[1]))c(t.x,n.concat('x')),c(t.y,n.concat('y'));else if('object'==typeof t)for(var s in t)c(t[s],n.concat(s))};r(d[2])(s[0]&&s[0].nativeEvent,'Native driven events only support animated values contained inside `nativeEvent`.'),c(s[0].nativeEvent,[]);var f=r(d[3]).findNodeHandle(t);return null!=f&&v.forEach(function(t){r(d[4]).API.addAnimatedEventToView(f,n,t)}),{detach:function(){null!=f&&v.forEach(function(t){r(d[4]).API.removeAnimatedEventFromView(f,n,t.animatedValueTag)})}}}var n=(function(){return r(d[6])(function t(n,s){var o=this;r(d[5])(this,t),this._listeners=[],this._callListeners=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];o._listeners.forEach(function(t){return t.apply(void 0,n)})},this._argMapping=n,null==s&&(console.warn('Animated.event now requires a second argument for options'),s={useNativeDriver:!1}),s.listener&&this.__addListener(s.listener),this._attachedEvent=null,this.__isNative=r(d[4]).shouldUseNativeDriver(s),this.__platformConfig=s.platformConfig},[{key:"__addListener",value:function(t){this._listeners.push(t)}},{key:"__removeListener",value:function(t){this._listeners=this._listeners.filter(function(n){return n!==t})}},{key:"__attach",value:function(n,s){r(d[2])(this.__isNative,'Only native driven events need to be attached.'),this._attachedEvent=t(n,s,this._argMapping,this.__platformConfig)}},{key:"__detach",value:function(t,n){r(d[2])(this.__isNative,'Only native driven events need to be detached.'),this._attachedEvent&&this._attachedEvent.detach()}},{key:"__getHandler",value:function(){var t=this;if(this.__isNative)return this._callListeners;return function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];var v=function(t,n){if(t instanceof r(d[0]))'number'==typeof n&&t.setValue(n);else if(t instanceof r(d[1]))'object'==typeof n&&(v(t.x,n.x),v(t.y,n.y));else if('object'==typeof t)for(var s in t)v(t[s],n[s])};t._argMapping.forEach(function(t,n){v(t,s[n])}),t._callListeners.apply(t,s)}}}])})();m.exports={AnimatedEvent:n,attachNativeEvent:t}},231,[205,214,20,35,206,12,13]);
__d(function(g,_r,_i,_a,m,_e,d){'use strict';var t,e=_r(d[0])(_r(d[1])),n=_r(d[0])(_r(d[2])),o=_r(d[0])(_r(d[3])),a=_r(d[0])(_r(d[4])),i=_r(d[0])(_r(d[5])),r=_r(d[0])(_r(d[6])),l=(function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=p(e);if(n&&n.has(t))return n.get(t);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&{}.hasOwnProperty.call(t,i)){var r=a?Object.getOwnPropertyDescriptor(t,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=t[i]}return o.default=t,n&&n.set(t,o),o})(_r(d[7])),s=["style"],c=["style"];function p(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(p=function(t){return t?n:e})(t)}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(u=function(){return!!t})()}var _=_r(d[8]),f=1;m.exports=null!=(t=l.recordAndRetrieve())?t:function(t){_r(d[9])('function'!=typeof t||t.prototype&&t.prototype.isReactComponent,"`createAnimatedComponent` does not support stateless functional components; use a class component instead.");var l=(function(l){function p(){var t,e,o,r;(0,n.default)(this,p);for(var l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];return e=this,o=p,r=[].concat(s),o=(0,i.default)(o),(t=(0,a.default)(e,u()?Reflect.construct(o,r||[],(0,i.default)(e).constructor):o.apply(e,r)))._invokeAnimatedPropsCallbackOnMount=!1,t._eventDetachers=[],t._animatedComponentId=f+++":animatedComponent",t._isFabric=function(){var e,n,o,a,i,r;return null!=t._component&&(null!=(null==(e=t._component._internalInstanceHandle)?void 0:null==(n=e.stateNode)?void 0:n.canonical)||null!=t._component.getNativeScrollRef&&null!=t._component.getNativeScrollRef()&&null!=(null==(o=t._component.getNativeScrollRef()._internalInstanceHandle)?void 0:null==(a=o.stateNode)?void 0:a.canonical)||null!=t._component.getScrollResponder&&null!=t._component.getScrollResponder()&&null!=t._component.getScrollResponder().getNativeScrollRef&&null!=t._component.getScrollResponder().getNativeScrollRef()&&null!=(null==(i=t._component.getScrollResponder().getNativeScrollRef()._internalInstanceHandle)?void 0:null==(r=i.stateNode)?void 0:r.canonical))},t._waitForUpdate=function(){t._isFabric()&&_r(d[10]).API.setWaitingForIdentifier(t._animatedComponentId)},t._markUpdateComplete=function(){t._isFabric()&&_r(d[10]).API.unsetWaitingForIdentifier(t._animatedComponentId)},t._animatedPropsCallback=function(){if(null==t._component)t._invokeAnimatedPropsCallbackOnMount=!0;else if('function'!=typeof t._component.setNativeProps||t._isFabric())t.forceUpdate();else{if(t._propsAnimated.__isNative)throw new Error("Attempting to run JS driven animation on animated node that has been moved to \"native\" earlier by starting an animation with `useNativeDriver: true`");t._component.setNativeProps(t._propsAnimated.__getAnimatedValue())}},t._setComponentRef=_r(d[11])({getForwardedRef:function(){return t.props.forwardedRef},setLocalRef:function(e){t._prevComponent=t._component,t._component=e}}),t}return(0,r.default)(p,l),(0,o.default)(p,[{key:"_attachNativeEvents",value:function(){var t,e=this,n=null!=(t=this._component)&&t.getScrollableNode?this._component.getScrollableNode():this._component,o=function(t){var o=e.props[t];o instanceof _r(d[12]).AnimatedEvent&&o.__isNative&&(o.__attach(n,t),e._eventDetachers.push(function(){return o.__detach(n,t)}))};for(var a in this.props)o(a)}},{key:"_detachNativeEvents",value:function(){this._eventDetachers.forEach(function(t){return t()}),this._eventDetachers=[]}},{key:"_attachProps",value:function(t){var e=this._propsAnimated;this._propsAnimated=new(_r(d[13]))(t,this._animatedPropsCallback),this._propsAnimated.__attach(),e&&(e.__restoreDefaultValues(),e.__detach())}},{key:"render",value:function(){var n=this._isFabric()?this._initialAnimatedProps:null,o=this._propsAnimated.__getValue(n)||{};this._initialAnimatedProps||(this._initialAnimatedProps=o);var a=o.style,i=void 0===a?{}:a,r=(0,e.default)(o,s),l=this.props.passthroughAnimatedPropExplicitValues||{},p=l.style,u=void 0===p?{}:p,_=(0,e.default)(l,c),f=Object.assign({},i,u);return(0,_r(d[14]).jsx)(t,Object.assign({},r,_,{collapsable:!1,style:f,ref:this._setComponentRef}))}},{key:"UNSAFE_componentWillMount",value:function(){this._waitForUpdate(),this._attachProps(this.props)}},{key:"componentDidMount",value:function(){this._invokeAnimatedPropsCallbackOnMount&&(this._invokeAnimatedPropsCallbackOnMount=!1,this._animatedPropsCallback()),this._propsAnimated.setNativeView(this._component),this._attachNativeEvents(),this._markUpdateComplete()}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){this._waitForUpdate(),this._attachProps(t)}},{key:"componentDidUpdate",value:function(t){this._component!==this._prevComponent&&this._propsAnimated.setNativeView(this._component),this._component===this._prevComponent&&t===this.props||(this._detachNativeEvents(),this._attachNativeEvents()),this._markUpdateComplete()}},{key:"componentWillUnmount",value:function(){this._propsAnimated&&this._propsAnimated.__detach(),this._detachNativeEvents(),this._markUpdateComplete(),this._component=null,this._prevComponent=null}}])})(_.Component);return _.forwardRef(function(t,e){return(0,_r(d[14]).jsx)(l,Object.assign({},t,null==e?null:{forwardedRef:e}))})}},232,[3,91,12,13,45,44,47,233,119,20,206,234,231,235,179]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.inject=function(t){if(void 0!==e)return;e=t},_e.recordAndRetrieve=function(){void 0===e&&(e=null);return e};var e;!(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var i=u?Object.getOwnPropertyDescriptor(e,f):null;i&&(i.get||i.set)?Object.defineProperty(o,f,i):o[f]=e[f]}o.default=e,n&&n.set(e,o)})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}},233,[119]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){var n=t.getForwardedRef,o=t.setLocalRef;return function(t){var c=n();o(t),'function'==typeof c?c(t):'object'==typeof c&&null!=c&&(c.current=t)}}},234,[]);
__d(function(g,_r,i,a,m,_e,d){'use strict';function t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t=function(){return!!e})()}function e(t,e,n,o){var s=_r(d[2])(_r(d[0])(1&o?t.prototype:t),e,n);return 2&o&&"function"==typeof s?function(t){return s.apply(n,t)}:s}var n=(function(n){function o(e,n){var s,_,r,c;return _r(d[3])(this,o),_=this,r=o,r=_r(d[0])(r),s=_r(d[1])(_,t()?Reflect.construct(r,c||[],_r(d[0])(_).constructor):r.apply(_,c)),e.style&&(e=Object.assign({},e,{style:new(_r(d[4]))(e.style)})),s._props=e,s._callback=n,s}return _r(d[5])(o,n),_r(d[6])(o,[{key:"__getValue",value:function(t){var e={};for(var n in this._props){var o=this._props[n];o instanceof _r(d[7])?o instanceof _r(d[4])?e[n]=o.__getValue(null==t?void 0:t.style):t&&o.__isNative?t.hasOwnProperty(n)&&(e[n]=t[n]):e[n]=o.__getValue():o instanceof _r(d[8]).AnimatedEvent?e[n]=o.__getHandler():e[n]=o}return e}},{key:"__getAnimatedValue",value:function(){var t={};for(var e in this._props){var n=this._props[e];n instanceof _r(d[7])&&(t[e]=n.__getAnimatedValue())}return t}},{key:"__attach",value:function(){for(var t in this._props){var e=this._props[t];e instanceof _r(d[7])&&e.__addChild(this)}}},{key:"__detach",value:function(){for(var t in this.__isNative&&this._animatedView&&this.__disconnectAnimatedView(),this._props){var n=this._props[t];n instanceof _r(d[7])&&n.__removeChild(this)}e(o,"__detach",this,3)([])}},{key:"update",value:function(){this._callback()}},{key:"__makeNative",value:function(t){if(!this.__isNative){for(var n in this.__isNative=!0,this._props){var s=this._props[n];s instanceof _r(d[7])&&s.__makeNative(t)}e(o,"__setPlatformConfig",this,3)([t]),this._animatedView&&this.__connectAnimatedView()}}},{key:"setNativeView",value:function(t){this._animatedView!==t&&(this._animatedView=t,this.__isNative&&this.__connectAnimatedView())}},{key:"__connectAnimatedView",value:function(){_r(d[9])(this.__isNative,'Expected node to be marked as "native"');var t=_r(d[10]).findNodeHandle(this._animatedView);_r(d[9])(null!=t,'Unable to locate attached view in the native tree'),_r(d[11]).API.connectAnimatedNodeToView(this.__getNativeTag(),t)}},{key:"__disconnectAnimatedView",value:function(){_r(d[9])(this.__isNative,'Expected node to be marked as "native"');var t=_r(d[10]).findNodeHandle(this._animatedView);_r(d[9])(null!=t,'Unable to locate attached view in the native tree'),_r(d[11]).API.disconnectAnimatedNodeFromView(this.__getNativeTag(),t)}},{key:"__restoreDefaultValues",value:function(){this.__isNative&&_r(d[11]).API.restoreDefaultValues(this.__getNativeTag())}},{key:"__getNativeConfig",value:function(){var t={};for(var e in this._props){var n=this._props[e];n instanceof _r(d[7])&&(n.__makeNative(this.__getPlatformConfig()),t[e]=n.__getNativeTag())}return{type:'props',props:t}}}])})(_r(d[7]));m.exports=n},235,[44,45,73,12,236,47,13,211,231,20,35,206]);
__d(function(g,_r,i,a,m,_e,d){'use strict';function t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t=function(){return!!e})()}function e(t,e,n,r){var s=_r(d[2])(_r(d[0])(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof s?function(t){return s.apply(n,t)}:s}var n=(function(n){function r(e){var n,s,l,o;return _r(d[3])(this,r),s=this,l=r,l=_r(d[0])(l),n=_r(d[1])(s,t()?Reflect.construct(l,o||[],_r(d[0])(s).constructor):l.apply(s,o)),(e=_r(d[4])(e)||{}).transform&&(e=Object.assign({},e,{transform:new(_r(d[5]))(e.transform)})),n._style=e,n}return _r(d[6])(r,n),_r(d[7])(r,[{key:"_walkStyleAndGetValues",value:function(t,e){var n={};for(var r in t){var s=t[r];s instanceof _r(d[8])?e&&s.__isNative?e.hasOwnProperty(r)&&(n[r]=e[r]):n[r]=s.__getValue():s&&!Array.isArray(s)&&'object'==typeof s?n[r]=this._walkStyleAndGetValues(s,e):n[r]=s}return n}},{key:"__getValue",value:function(t){return this._walkStyleAndGetValues(this._style,t)}},{key:"_walkStyleAndGetAnimatedValues",value:function(t){var e={};for(var n in t){var r=t[n];r instanceof _r(d[8])?e[n]=r.__getAnimatedValue():r&&!Array.isArray(r)&&'object'==typeof r&&(e[n]=this._walkStyleAndGetAnimatedValues(r))}return e}},{key:"__getAnimatedValue",value:function(){return this._walkStyleAndGetAnimatedValues(this._style)}},{key:"__attach",value:function(){for(var t in this._style){var e=this._style[t];e instanceof _r(d[8])&&e.__addChild(this)}}},{key:"__detach",value:function(){for(var t in this._style){var n=this._style[t];n instanceof _r(d[8])&&n.__removeChild(this)}e(r,"__detach",this,3)([])}},{key:"__makeNative",value:function(t){for(var n in this._style){var s=this._style[n];s instanceof _r(d[8])&&s.__makeNative(t)}e(r,"__makeNative",this,3)([t])}},{key:"__getNativeConfig",value:function(){var t={};for(var e in this._style)if(this._style[e]instanceof _r(d[8])){var n=this._style[e];n.__makeNative(this.__getPlatformConfig()),t[e]=n.__getNativeTag()}return _r(d[9]).validateStyles(t),{type:'style',style:t}}}])})(_r(d[10]));m.exports=n},236,[44,45,73,12,169,237,47,13,211,206,210]);
__d(function(g,_r,i,a,m,_e,d){'use strict';function t(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(n){}return(t=function(){return!!n})()}function n(t,n,r,e){var o=_r(d[2])(_r(d[0])(1&e?t.prototype:t),n,r);return 2&e&&"function"==typeof o?function(t){return o.apply(r,t)}:o}var r=(function(r){function e(n){var r,o,f,u;return _r(d[3])(this,e),o=this,f=e,f=_r(d[0])(f),(r=_r(d[1])(o,t()?Reflect.construct(f,u||[],_r(d[0])(o).constructor):f.apply(o,u)))._transforms=n,r}return _r(d[4])(e,r),_r(d[5])(e,[{key:"__makeNative",value:function(t){this._transforms.forEach(function(n){for(var r in n){var e=n[r];e instanceof _r(d[6])&&e.__makeNative(t)}}),n(e,"__makeNative",this,3)([t])}},{key:"__getValue",value:function(){return this._transforms.map(function(t){var n={};for(var r in t){var e=t[r];e instanceof _r(d[6])?n[r]=e.__getValue():n[r]=e}return n})}},{key:"__getAnimatedValue",value:function(){return this._transforms.map(function(t){var n={};for(var r in t){var e=t[r];e instanceof _r(d[6])?n[r]=e.__getAnimatedValue():n[r]=e}return n})}},{key:"__attach",value:function(){var t=this;this._transforms.forEach(function(n){for(var r in n){var e=n[r];e instanceof _r(d[6])&&e.__addChild(t)}})}},{key:"__detach",value:function(){var t=this;this._transforms.forEach(function(n){for(var r in n){var e=n[r];e instanceof _r(d[6])&&e.__removeChild(t)}}),n(e,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){var t=[];return this._transforms.forEach(function(n){for(var r in n){var e=n[r];e instanceof _r(d[6])?t.push({type:'animated',property:r,nodeTag:e.__getNativeTag()}):t.push({type:'static',property:r,value:_r(d[7]).transformDataType(e)})}}),_r(d[7]).validateTransform(t),{type:'transform',transforms:t}}}])})(_r(d[8]));m.exports=r},237,[44,45,73,12,47,13,211,206,210]);
__d(function(g,_r,_i,_a,m,_e,d){function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(e=function(e){return e?n:r})(t)}var t=(function(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=e(r);if(n&&n.has(t))return n.get(t);var o={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&{}.hasOwnProperty.call(t,u)){var a=f?Object.getOwnPropertyDescriptor(t,u):null;a&&(a.get||a.set)?Object.defineProperty(o,u,a):o[u]=t[u]}return o.default=t,n&&n.set(t,o),o})(_r(d[0])).forwardRef(function(e,t){return(0,_r(d[1]).jsx)(_r(d[2]),Object.assign({scrollEventThrottle:1e-4},e,{ref:t}))});m.exports=_r(d[3])(t)},238,[119,179,239,232]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0])(r(d[1])),t=r(d[0])(r(d[2])),n=r(d[0])(r(d[3])),o=r(d[0])(r(d[4])),s=r(d[0])(r(d[5])),l=r(d[0])(r(d[6])),u=r(d[0])(r(d[7])),c=r(d[0])(r(d[8])),f=["numColumns","columnWrapperStyle","removeClippedSubviews","strictMode"];function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}var h=r(d[9]);function v(e){return null!=e?e:1}var C=(function(C){function b(e){var o,u,f,C;return(0,n.default)(this,b),u=this,f=b,C=[e],f=(0,l.default)(f),(o=(0,s.default)(u,p()?Reflect.construct(f,C||[],(0,l.default)(u).constructor):f.apply(u,C)))._virtualizedListPairs=[],o._captureRef=function(e){o._listRef=e},o._getItem=function(e,t){var n=v(o.props.numColumns);if(n>1){for(var s=[],l=0;l<n;l++){var u=e[t*n+l];null!=u&&s.push(u)}return s}return e[t]},o._getItemCount=function(e){if(e){var t=v(o.props.numColumns);return t>1?Math.ceil(e.length/t):e.length}return 0},o._keyExtractor=function(e,t){var n,s=v(o.props.numColumns),l=null!=(n=o.props.keyExtractor)?n:r(d[10]).keyExtractor;return s>1?Array.isArray(e)?e.map(function(e,n){return l(e,t*s+n)}).join(':'):void r(d[11])(Array.isArray(e),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",s):l(e,t)},o._renderer=function(e,n,o,s,l){var u=v(s),c=e?'ListItemComponent':'renderItem',f=function(t){return e?(0,r(d[12]).jsx)(e,Object.assign({},t)):n?n(t):null};return(0,t.default)({},c,function(e){if(u>1){var t=e.item,n=e.index;return r(d[11])(Array.isArray(t),'Expected array of items with numColumns > 1'),(0,r(d[12]).jsx)(r(d[13]),{style:r(d[14]).compose(y.row,o),children:t.map(function(t,o){var s=f({item:t,index:n*u+o,separators:e.separators});return null!=s?(0,r(d[12]).jsx)(h.Fragment,{children:s},o):null})})}return f(e)})},o._memoizedRenderer=(0,c.default)(o._renderer),o._checkProps(o.props),o.props.viewabilityConfigCallbackPairs?o._virtualizedListPairs=o.props.viewabilityConfigCallbackPairs.map(function(e){return{viewabilityConfig:e.viewabilityConfig,onViewableItemsChanged:o._createOnViewableItemsChanged(e.onViewableItemsChanged)}}):o.props.onViewableItemsChanged&&o._virtualizedListPairs.push({viewabilityConfig:o.props.viewabilityConfig,onViewableItemsChanged:o._createOnViewableItemsChanged(o.props.onViewableItemsChanged)}),o}return(0,u.default)(b,C),(0,o.default)(b,[{key:"scrollToEnd",value:function(e){this._listRef&&this._listRef.scrollToEnd(e)}},{key:"scrollToIndex",value:function(e){this._listRef&&this._listRef.scrollToIndex(e)}},{key:"scrollToItem",value:function(e){this._listRef&&this._listRef.scrollToItem(e)}},{key:"scrollToOffset",value:function(e){this._listRef&&this._listRef.scrollToOffset(e)}},{key:"recordInteraction",value:function(){this._listRef&&this._listRef.recordInteraction()}},{key:"flashScrollIndicators",value:function(){this._listRef&&this._listRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._listRef)return this._listRef.getScrollResponder()}},{key:"getNativeScrollRef",value:function(){if(this._listRef)return this._listRef.getScrollRef()}},{key:"getScrollableNode",value:function(){if(this._listRef)return this._listRef.getScrollableNode()}},{key:"setNativeProps",value:function(e){this._listRef&&this._listRef.setNativeProps(e)}},{key:"componentDidUpdate",value:function(e){r(d[11])(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),r(d[11])(e.onViewableItemsChanged===this.props.onViewableItemsChanged,'Changing onViewableItemsChanged on the fly is not supported'),r(d[11])(!r(d[15])(e.viewabilityConfig,this.props.viewabilityConfig),'Changing viewabilityConfig on the fly is not supported'),r(d[11])(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,'Changing viewabilityConfigCallbackPairs on the fly is not supported'),this._checkProps(this.props)}},{key:"_checkProps",value:function(e){var t=e.getItem,n=e.getItemCount,o=e.horizontal,s=e.columnWrapperStyle,l=e.onViewableItemsChanged,u=e.viewabilityConfigCallbackPairs,c=v(this.props.numColumns);r(d[11])(!t&&!n,'FlatList does not support custom data formats.'),c>1?r(d[11])(!o,'numColumns does not support horizontal.'):r(d[11])(!s,'columnWrapperStyle not supported for single column lists'),r(d[11])(!(l&&u),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}},{key:"_pushMultiColumnViewable",value:function(e,t){var n,o=v(this.props.numColumns),s=null!=(n=this.props.keyExtractor)?n:r(d[10]).keyExtractor;t.item.forEach(function(n,l){r(d[11])(null!=t.index,'Missing index!');var u=t.index*o+l;e.push(Object.assign({},t,{item:n,key:s(n,u),index:u}))})}},{key:"_createOnViewableItemsChanged",value:function(e){var t=this;return function(n){var o=v(t.props.numColumns);if(e)if(o>1){var s=[],l=[];n.viewableItems.forEach(function(e){return t._pushMultiColumnViewable(l,e)}),n.changed.forEach(function(e){return t._pushMultiColumnViewable(s,e)}),e({viewableItems:l,changed:s})}else e(n)}}},{key:"render",value:function(){var t,n=this.props,o=n.numColumns,s=n.columnWrapperStyle,l=n.removeClippedSubviews,u=n.strictMode,c=void 0!==u&&u,p=(0,e.default)(n,f),h=c?this._memoizedRenderer:this._renderer;return(0,r(d[12]).jsx)(r(d[16]),Object.assign({},p,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:(t=l,null!=t&&t)},h(this.props.ListItemComponent,this.props.renderItem,s,o,this.props.extraData)))}}])})(h.PureComponent),y=r(d[14]).create({row:{flexDirection:'row'}});m.exports=C},239,[3,91,240,12,13,45,44,47,241,119,242,20,179,176,175,167,243]);
__d(function(g,_r,i,a,m,_e,d){m.exports=function(e,r,t){return(r=_r(d[0])(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e},m.exports.__esModule=!0,m.exports.default=m.exports},240,[14]);
__d(function(g,r,_i2,a,m,e,d){'use strict';var t=Number.isNaN||function(t){return'number'==typeof t&&t!=t};function n(n,u){if(n.length!==u.length)return!1;for(var i=0;i<n.length;i++)if(f=n[i],o=u[i],!(f===o||t(f)&&t(o)))return!1;var f,o;return!0}m.exports=function(t,u){var i;void 0===u&&(u=n);var f,o=[],h=!1;return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return h&&i===this&&u(n,o)?f:(f=t.apply(this,n),h=!0,i=this,o=n,f)}}},241,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.computeWindowedRenderLimits=function(l,o,s,u,v,c,h){var M=o(l);if(0===M)return v;var b=h.offset,x=h.velocity,y=h.visibleLength,w=h.zoomScale,k=void 0===w?1:w,p=Math.max(0,b),O=p+y,_=(u-1)*y,j=x>1?'after':x<-1?'before':'none',L=Math.max(0,p-.5*_),S=Math.max(0,O+.5*_);if(c(M-1).offset*k<L)return{first:Math.max(0,M-1-s),last:M-1};var C=n([L,p,O,S],M,c,k),E=(0,t.default)(C,4),R=E[0],z=E[1],B=E[2],F=E[3];R=null==R?0:R,z=null==z?Math.max(0,R):z,F=null==F?M-1:F,B=null==B?Math.min(F,z+s-1):B;var J={first:z,last:B},N=f(v,J);for(;!(z<=R&&B>=F);){var P=N>=s,T=z<=v.first||z>v.last,W=z>R&&(!P||!T),q=B>=v.last||B<v.first,A=B<F&&(!P||!q);if(P&&!W&&!A)break;!W||'after'===j&&A&&q||(T&&N++,z--),!A||'before'===j&&W&&T||(q&&N++,B++)}if(!(B>=z&&z>=0&&B<M&&z>=R&&B<=F&&z<=J.first&&B>=J.last))throw new Error('Bad window calculation '+JSON.stringify({first:z,last:B,itemCount:M,overscanFirst:R,overscanLast:F,visible:J}));return{first:z,last:B}},e.elementsThatOverlapOffsets=n,e.keyExtractor=function(t,n){if('object'==typeof t&&null!=(null==t?void 0:t.key))return t.key;if('object'==typeof t&&null!=(null==t?void 0:t.id))return t.id;return String(n)},e.newRangeCount=f;var t=r(d[0])(r(d[1]));r(d[0])(r(d[2]));function n(t,n,f){for(var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=[],s=0;s<t.length;s++)for(var u=t[s],v=0,c=n-1;v<=c;){var h=v+(c-v>>>1),M=f(h),b=M.offset*l,x=(M.offset+M.length)*l;if(0===h&&u<b||0!==h&&u<=b)c=h-1;else{if(!(u>x)){o[s]=h;break}v=h+1}}return o}function f(t,n){return n.last-n.first+1-Math.max(0,1+Math.min(n.last,t.last)-Math.max(n.first,t.first))}},242,[3,22,20]);
__d(function(g,_r,_i,_a,m,_e,d){var e=_r(d[0])(_r(d[1])),t=_r(d[0])(_r(d[2])),r=_r(d[0])(_r(d[3])),o=_r(d[0])(_r(d[4])),s=_r(d[0])(_r(d[5])),n=_r(d[0])(_r(d[6])),i=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var i=s?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]}return o.default=e,r&&r.set(e,o),o})(_r(d[7]));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function a(e,t,r){return t=(0,s.default)(t),(0,o.default)(e,c()?Reflect.construct(t,r||[],(0,s.default)(e).constructor):t.apply(e,r))}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var h=!1,u='';function p(e){return null!=e&&e}function f(e){return null!=e?e:10}function _(e){return null!=e?e:10}function v(e){return null!=e?e:2}function y(e){return null!=e?e:21}var L=(function(o){function s(e){var r,o;if((0,t.default)(this,s),(o=a(this,s,[e]))._getScrollMetrics=function(){return o._scrollMetrics},o._getOutermostParentListRef=function(){return o._isNestedWithSameOrientation()?o.context.getOutermostParentListRef():o},o._getNestedChildState=function(e){var t=o._nestedChildLists.get(e);return t&&t.state},o._registerAsNestedChild=function(e){var t=o._cellKeysToChildListKeys.get(e.cellKey)||new Set;t.add(e.key),o._cellKeysToChildListKeys.set(e.cellKey,t);var r=o._nestedChildLists.get(e.key);r&&null!==r.ref&&console.error("A VirtualizedList contains a cell which itself contains more than one VirtualizedList of the same orientation as the parent list. You must pass a unique listKey prop to each sibling list.\n\n"+b(Object.assign({},e,{horizontal:!!e.ref.props.horizontal}))),o._nestedChildLists.set(e.key,{ref:e.ref,state:null}),o._hasInteracted&&e.ref.recordInteraction()},o._unregisterAsNestedChild=function(e){o._nestedChildLists.set(e.key,{ref:null,state:e.state})},o._onUpdateSeparators=function(e,t){e.forEach(function(e){var r=null!=e&&o._cellRefs[e];r&&r.updateSeparatorProps(t)})},o._getSpacerKey=function(e){return e?'height':'width'},o._averageCellLength=0,o._cellKeysToChildListKeys=new Map,o._cellRefs={},o._frames={},o._footerLength=0,o._hasTriggeredInitialScrollToIndex=!1,o._hasInteracted=!1,o._hasMore=!1,o._hasWarned={},o._headerLength=0,o._hiPriInProgress=!1,o._highestMeasuredFrameIndex=0,o._indicesToKeys=new Map,o._nestedChildLists=new Map,o._offsetFromParentVirtualizedList=0,o._prevParentOffset=0,o._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0,zoomScale:1},o._scrollRef=null,o._sentEndForContentLength=0,o._totalCellLength=0,o._totalCellsMeasured=0,o._viewabilityTuples=[],o._captureScrollRef=function(e){o._scrollRef=e},o._defaultRenderScrollComponent=function(e){var t,r=e.onRefresh;return o._isNestedWithSameOrientation()?(0,_r(d[8]).jsx)(_r(d[9]),Object.assign({},e)):r?(_r(d[10])('boolean'==typeof e.refreshing,'`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `'+JSON.stringify(null!=(t=e.refreshing)?t:'undefined')+'`'),(0,_r(d[8]).jsx)(_r(d[11]),Object.assign({},e,{refreshControl:null==e.refreshControl?(0,_r(d[8]).jsx)(_r(d[12]),{refreshing:e.refreshing,onRefresh:r,progressViewOffset:e.progressViewOffset}):e.refreshControl}))):(0,_r(d[8]).jsx)(_r(d[11]),Object.assign({},e))},o._onCellLayout=function(e,t,r){var s=e.nativeEvent.layout,n={offset:o._selectOffset(s),length:o._selectLength(s),index:r,inLayout:!0},i=o._frames[t];i&&n.offset===i.offset&&n.length===i.length&&r===i.index?o._frames[t].inLayout=!0:(o._totalCellLength+=n.length-(i?i.length:0),o._totalCellsMeasured+=i?0:1,o._averageCellLength=o._totalCellLength/o._totalCellsMeasured,o._frames[t]=n,o._highestMeasuredFrameIndex=Math.max(o._highestMeasuredFrameIndex,r),o._scheduleCellsToRenderUpdate()),o._triggerRemeasureForChildListsInCell(t),o._computeBlankness(),o._updateViewableItems(o.props.data)},o._onCellUnmount=function(e){var t=o._frames[e];t&&(o._frames[e]=Object.assign({},t,{inLayout:!1}))},o._onLayout=function(e){o._isNestedWithSameOrientation()?o.measureLayoutRelativeToContainingList():o._scrollMetrics.visibleLength=o._selectLength(e.nativeEvent.layout),o.props.onLayout&&o.props.onLayout(e),o._scheduleCellsToRenderUpdate(),o._maybeCallOnEndReached()},o._onLayoutEmpty=function(e){o.props.onLayout&&o.props.onLayout(e)},o._onLayoutFooter=function(e){o._triggerRemeasureForChildListsInCell(o._getFooterCellKey()),o._footerLength=o._selectLength(e.nativeEvent.layout)},o._onLayoutHeader=function(e){o._headerLength=o._selectLength(e.nativeEvent.layout)},o._onContentSizeChange=function(e,t){e>0&&t>0&&null!=o.props.initialScrollIndex&&o.props.initialScrollIndex>0&&!o._hasTriggeredInitialScrollToIndex&&(null==o.props.contentOffset&&o.scrollToIndex({animated:!1,index:o.props.initialScrollIndex}),o._hasTriggeredInitialScrollToIndex=!0),o.props.onContentSizeChange&&o.props.onContentSizeChange(e,t),o._scrollMetrics.contentLength=o._selectLength({height:t,width:e}),o._scheduleCellsToRenderUpdate(),o._maybeCallOnEndReached()},o._convertParentScrollMetrics=function(e){var t=e.offset-o._offsetFromParentVirtualizedList,r=e.visibleLength,s=t-o._scrollMetrics.offset;return{visibleLength:r,contentLength:o._scrollMetrics.contentLength,offset:t,dOffset:s}},o._onScroll=function(e){o._nestedChildLists.forEach(function(t){t.ref&&t.ref._onScroll(e)}),o.props.onScroll&&o.props.onScroll(e);var t=e.timeStamp,r=o._selectLength(e.nativeEvent.layoutMeasurement),s=o._selectLength(e.nativeEvent.contentSize),n=o._selectOffset(e.nativeEvent.contentOffset),i=n-o._scrollMetrics.offset;if(o._isNestedWithSameOrientation()){if(0===o._scrollMetrics.contentLength)return;var l=o._convertParentScrollMetrics({visibleLength:r,offset:n});r=l.visibleLength,s=l.contentLength,n=l.offset,i=l.dOffset}var a=o._scrollMetrics.timestamp?Math.max(1,t-o._scrollMetrics.timestamp):1,c=i/a;a>500&&o._scrollMetrics.dt>500&&s>5*r&&!o._hasWarned.perf&&(_r(d[13])("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:a,prevDt:o._scrollMetrics.dt,contentLength:s}),o._hasWarned.perf=!0);var h=e.nativeEvent.zoomScale<0?1:e.nativeEvent.zoomScale;o._scrollMetrics={contentLength:s,dt:a,dOffset:i,offset:n,timestamp:t,velocity:c,visibleLength:r,zoomScale:h},o._updateViewableItems(o.props.data),o.props&&(o._maybeCallOnEndReached(),0!==c&&o._fillRateHelper.activate(),o._computeBlankness(),o._scheduleCellsToRenderUpdate())},o._onScrollBeginDrag=function(e){o._nestedChildLists.forEach(function(t){t.ref&&t.ref._onScrollBeginDrag(e)}),o._viewabilityTuples.forEach(function(e){e.viewabilityHelper.recordInteraction()}),o._hasInteracted=!0,o.props.onScrollBeginDrag&&o.props.onScrollBeginDrag(e)},o._onScrollEndDrag=function(e){o._nestedChildLists.forEach(function(t){t.ref&&t.ref._onScrollEndDrag(e)});var t=e.nativeEvent.velocity;t&&(o._scrollMetrics.velocity=o._selectOffset(t)),o._computeBlankness(),o.props.onScrollEndDrag&&o.props.onScrollEndDrag(e)},o._onMomentumScrollBegin=function(e){o._nestedChildLists.forEach(function(t){t.ref&&t.ref._onMomentumScrollBegin(e)}),o.props.onMomentumScrollBegin&&o.props.onMomentumScrollBegin(e)},o._onMomentumScrollEnd=function(e){o._nestedChildLists.forEach(function(t){t.ref&&t.ref._onMomentumScrollEnd(e)}),o._scrollMetrics.velocity=0,o._computeBlankness(),o.props.onMomentumScrollEnd&&o.props.onMomentumScrollEnd(e)},o._updateCellsToRender=function(){var e=o.props,t=e.data,r=e.getItemCount,s=v(e.onEndReachedThreshold),n=o._isVirtualizationDisabled();o._updateViewableItems(t),t&&o.setState(function(e){var i,l=o._scrollMetrics,a=l.contentLength,c=l.offset,h=l.visibleLength,u=a-h-c;if(n){var p=u<s*h?_(o.props.maxToRenderPerBatch):0;i={first:0,last:Math.min(e.last+p,r(t)-1)}}else h>0&&a>0&&(!o.props.initialScrollIndex||o._scrollMetrics.offset||Math.abs(u)<Number.EPSILON)&&(i=(0,_r(d[14]).computeWindowedRenderLimits)(o.props.data,o.props.getItemCount,_(o.props.maxToRenderPerBatch),y(o.props.windowSize),e,o.__getFrameMetricsApprox,o._scrollMetrics));if(i&&o._nestedChildLists.size>0)for(var f=i.first,v=i.last,L=f;L<=v;L++){var C=o._indicesToKeys.get(L),b=C&&o._cellKeysToChildListKeys.get(C);if(b){var x=!1;for(var S of b){var I=o._nestedChildLists.get(S);if(I&&I.ref&&I.ref.hasMore()){x=!0;break}}if(x){i.last=L;break}}}return null!=i&&i.first===e.first&&i.last===e.last&&(i=null),i})},o._createViewToken=function(e,t){var r=o.props,s=r.data,n=(0,r.getItem)(s,e);return{index:e,item:n,key:o._keyExtractor(n,e),isViewable:t}},o.__getFrameMetricsApprox=function(e){var t=o._getFrameMetrics(e);if(t&&t.index===e)return t;var r=o.props.getItemLayout;return _r(d[10])(!r,'Should not have to estimate frames when a measurement metrics function is provided'),{length:o._averageCellLength,offset:o._averageCellLength*e}},o._getFrameMetrics=function(e){var t=o.props,r=t.data,s=t.getItem,n=t.getItemCount,i=t.getItemLayout;_r(d[10])(n(r)>e,'Tried to get frame for out of range index '+e);var l=s(r,e),a=l&&o._frames[o._keyExtractor(l,e)];return a&&a.index===e||!i?a:i(r,e)},_r(d[10])(!e.onScroll||!e.onScroll.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),_r(d[10])(y(e.windowSize)>0,'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.'),o._fillRateHelper=new(_r(d[15]))(o._getFrameMetrics),o._updateCellsToRenderBatcher=new(_r(d[16]))(o._updateCellsToRender,null!=(r=o.props.updateCellsBatchingPeriod)?r:50),o.props.viewabilityConfigCallbackPairs)o._viewabilityTuples=o.props.viewabilityConfigCallbackPairs.map(function(e){return{viewabilityHelper:new(_r(d[17]))(e.viewabilityConfig),onViewableItemsChanged:e.onViewableItemsChanged}});else{var n=o.props,i=n.onViewableItemsChanged,l=n.viewabilityConfig;i&&o._viewabilityTuples.push({viewabilityHelper:new(_r(d[17]))(l),onViewableItemsChanged:i})}var c={first:o.props.initialScrollIndex||0,last:Math.min(o.props.getItemCount(o.props.data),(o.props.initialScrollIndex||0)+f(o.props.initialNumToRender))-1};if(o._isNestedWithSameOrientation()){var h=o.context.getNestedChildState(o._getListKey());h&&(c=h,o.state=h,o._frames=h.frames)}return o.state=c,o}return(0,n.default)(s,o),(0,r.default)(s,[{key:"scrollToEnd",value:function(e){var t=!e||e.animated,r=this.props.getItemCount(this.props.data)-1,o=this.__getFrameMetricsApprox(r),s=Math.max(0,o.offset+o.length+this._footerLength-this._scrollMetrics.visibleLength);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(p(this.props.horizontal)?{x:s,animated:t}:{y:s,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}},{key:"scrollToIndex",value:function(e){var t=this.props,r=t.data,o=t.horizontal,s=t.getItemCount,n=t.getItemLayout,i=t.onScrollToIndexFailed,l=e.animated,a=e.index,c=e.viewOffset,h=e.viewPosition;if(_r(d[10])(a>=0,"scrollToIndex out of range: requested index "+a+" but minimum is 0"),_r(d[10])(s(r)>=1,"scrollToIndex out of range: item length "+s(r)+" but minimum is 1"),_r(d[10])(a<s(r),"scrollToIndex out of range: requested index "+a+" is out of 0 to "+(s(r)-1)),!n&&a>this._highestMeasuredFrameIndex)return _r(d[10])(!!i,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void i({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:a});var u=this.__getFrameMetricsApprox(a),p=Math.max(0,u.offset-(h||0)*(this._scrollMetrics.visibleLength-u.length))-(c||0);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(o?{x:p,animated:l}:{y:p,animated:l}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}},{key:"scrollToItem",value:function(e){for(var t=e.item,r=this.props,o=r.data,s=r.getItem,n=(0,r.getItemCount)(o),i=0;i<n;i++)if(s(o,i)===t){this.scrollToIndex(Object.assign({},e,{index:i}));break}}},{key:"scrollToOffset",value:function(e){var t=e.animated,r=e.offset;null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(p(this.props.horizontal)?{x:r,animated:t}:{y:r,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}},{key:"recordInteraction",value:function(){this._nestedChildLists.forEach(function(e){e.ref&&e.ref.recordInteraction()}),this._viewabilityTuples.forEach(function(e){e.viewabilityHelper.recordInteraction()}),this._updateViewableItems(this.props.data)}},{key:"flashScrollIndicators",value:function(){null!=this._scrollRef&&this._scrollRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}},{key:"getScrollableNode",value:function(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():_r(d[18]).findNodeHandle(this._scrollRef)}},{key:"getScrollRef",value:function(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}},{key:"setNativeProps",value:function(e){this._scrollRef&&this._scrollRef.setNativeProps(e)}},{key:"_getCellKey",value:function(){var e;return(null==(e=this.context)?void 0:e.cellKey)||'rootList'}},{key:"_getListKey",value:function(){return this.props.listKey||this._getCellKey()}},{key:"_getDebugInfo",value:function(){var e;return{listKey:this._getListKey(),cellKey:this._getCellKey(),horizontal:p(this.props.horizontal),parent:null==(e=this.context)?void 0:e.debugInfo}}},{key:"hasMore",value:function(){return this._hasMore}},{key:"componentDidMount",value:function(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({cellKey:this._getCellKey(),key:this._getListKey(),ref:this,parentDebugInfo:this.context.debugInfo})}},{key:"componentWillUnmount",value:function(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({key:this._getListKey(),state:{first:this.state.first,last:this.state.last,frames:this._frames}}),this._updateViewableItems(null),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach(function(e){e.viewabilityHelper.dispose()}),this._fillRateHelper.deactivateAndFlush()}},{key:"_pushCells",value:function(e,t,r,o,s,n){var i,l=this,a=this.props,c=a.CellRendererComponent,h=a.ItemSeparatorComponent,u=a.ListHeaderComponent,p=a.ListItemComponent,f=a.data,_=a.debug,v=a.getItem,y=a.getItemCount,L=a.getItemLayout,b=a.horizontal,x=a.renderItem,S=u?1:0,I=y(f)-1;s=Math.min(I,s);for(var M=function(){var o=v(f,R),s=l._keyExtractor(o,R);l._indicesToKeys.set(R,s),r.has(R+S)&&t.push(e.length),e.push((0,_r(d[8]).jsx)(C,{CellRendererComponent:c,ItemSeparatorComponent:R<I?h:void 0,ListItemComponent:p,cellKey:s,debug:_,fillRateHelper:l._fillRateHelper,getItemLayout:L,horizontal:b,index:R,inversionStyle:n,item:o,prevCellKey:i,onCellLayout:l._onCellLayout,onUpdateSeparators:l._onUpdateSeparators,onUnmount:l._onCellUnmount,ref:function(e){l._cellRefs[s]=e},renderItem:x},s)),i=s},R=o;R<=s;R++)M()}},{key:"_isVirtualizationDisabled",value:function(){return this.props.disableVirtualization||!1}},{key:"_isNestedWithSameOrientation",value:function(){var e=this.context;return!(!e||!!e.horizontal!==p(this.props.horizontal))}},{key:"_keyExtractor",value:function(e,t){if(null!=this.props.keyExtractor)return this.props.keyExtractor(e,t);var r=(0,_r(d[14]).keyExtractor)(e,t);return r===String(t)&&(h=!0,e.type&&e.type.displayName&&(u=e.type.displayName)),r}},{key:"render",value:function(){var t=this,r=this.props,o=r.ListEmptyComponent,s=r.ListFooterComponent,n=r.ListHeaderComponent,l=this.props,a=l.data,c=l.horizontal,_=this._isVirtualizationDisabled(),v=this.props.inverted?p(this.props.horizontal)?x.horizontallyInverted:x.verticallyInverted:null,y=[],L=new Set(this.props.stickyHeaderIndices),C=[];if(n){L.has(0)&&C.push(0);var b=i.isValidElement(n)?n:(0,_r(d[8]).jsx)(n,{});y.push((0,_r(d[8]).jsx)(_r(d[19]).VirtualizedListCellContextProvider,{cellKey:this._getCellKey()+'-header',children:(0,_r(d[8]).jsx)(_r(d[9]),{onLayout:this._onLayoutHeader,style:_r(d[20]).compose(v,this.props.ListHeaderComponentStyle),children:b})},"$header"))}var S=this.props.getItemCount(a);if(S>0){h=!1,u='';var I=this._getSpacerKey(!c),M=this.props.initialScrollIndex?-1:f(this.props.initialNumToRender)-1,R=this.state,w=R.first,k=R.last;this._pushCells(y,C,L,0,M,v);var T=Math.max(M+1,w);if(!_&&w>M+1){var E=!1;if(L.size>0)for(var O=n?1:0,z=T-1;z>M;z--)if(L.has(z+O)){var K=this.__getFrameMetricsApprox(M),F=this.__getFrameMetricsApprox(z),P=F.offset-K.offset-(this.props.initialScrollIndex?0:K.length);y.push((0,_r(d[8]).jsx)(_r(d[9]),{style:(0,e.default)({},I,P)},"$sticky_lead")),this._pushCells(y,C,L,z,z,v);var V=this.__getFrameMetricsApprox(w).offset-(F.offset+F.length);y.push((0,_r(d[8]).jsx)(_r(d[9]),{style:(0,e.default)({},I,V)},"$sticky_trail")),E=!0;break}if(!E){var j=this.__getFrameMetricsApprox(M),N=this.__getFrameMetricsApprox(w).offset-(j.offset+j.length);y.push((0,_r(d[8]).jsx)(_r(d[9]),{style:(0,e.default)({},I,N)},"$lead_spacer"))}}if(this._pushCells(y,C,L,T,k,v),!this._hasWarned.keys&&h&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",u),this._hasWarned.keys=!0),!_&&k<S-1){var B=this.__getFrameMetricsApprox(k),D=this.props.getItemLayout?S-1:Math.min(S-1,this._highestMeasuredFrameIndex),A=this.__getFrameMetricsApprox(D),H=A.offset+A.length-(B.offset+B.length);y.push((0,_r(d[8]).jsx)(_r(d[9]),{style:(0,e.default)({},I,H)},"$tail_spacer"))}}else if(o){var W=i.isValidElement(o)?o:(0,_r(d[8]).jsx)(o,{});y.push(i.cloneElement(W,{key:'$empty',onLayout:function(e){t._onLayoutEmpty(e),W.props.onLayout&&W.props.onLayout(e)},style:_r(d[20]).compose(v,W.props.style)}))}if(s){var U=i.isValidElement(s)?s:(0,_r(d[8]).jsx)(s,{});y.push((0,_r(d[8]).jsx)(_r(d[19]).VirtualizedListCellContextProvider,{cellKey:this._getFooterCellKey(),children:(0,_r(d[8]).jsx)(_r(d[9]),{onLayout:this._onLayoutFooter,style:_r(d[20]).compose(v,this.props.ListFooterComponentStyle),children:U})},"$footer"))}var $,q=Object.assign({},this.props,{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:($=this.props.scrollEventThrottle,null!=$?$:50),invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:C,style:v?[v,this.props.style]:this.props.style});this._hasMore=this.state.last<this.props.getItemCount(this.props.data)-1;var Y=(0,_r(d[8]).jsx)(_r(d[19]).VirtualizedListContextProvider,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:p(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,getNestedChildState:this._getNestedChildState,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild,debugInfo:this._getDebugInfo()},children:i.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(q),{ref:this._captureScrollRef},y)});return this.props.debug?(0,_r(d[8]).jsxs)(_r(d[9]),{style:x.debug,children:[Y,this._renderDebugOverlay()]}):Y}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.data,o=t.extraData;r===e.data&&o===e.extraData||this._viewabilityTuples.forEach(function(e){e.viewabilityHelper.resetViewableIndices()});var s=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),s&&(this._hiPriInProgress=!1)}},{key:"_computeBlankness",value:function(){this._fillRateHelper.computeBlankness(this.props,this.state,this._scrollMetrics)}},{key:"_triggerRemeasureForChildListsInCell",value:function(e){var t=this._cellKeysToChildListKeys.get(e);if(t)for(var r of t){var o=this._nestedChildLists.get(r);o&&o.ref&&o.ref.measureLayoutRelativeToContainingList()}}},{key:"measureLayoutRelativeToContainingList",value:function(){var e=this;try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),function(t,r,o,s){e._offsetFromParentVirtualizedList=e._selectOffset({x:t,y:r}),e._scrollMetrics.contentLength=e._selectLength({width:o,height:s});var n=e._convertParentScrollMetrics(e.context.getScrollMetrics());(e._scrollMetrics.visibleLength!==n.visibleLength||e._scrollMetrics.offset!==n.offset)&&(e._scrollMetrics.visibleLength=n.visibleLength,e._scrollMetrics.offset=n.offset,e._cellKeysToChildListKeys.forEach(function(t){if(t)for(var r of t){var o=e._nestedChildLists.get(r);o&&o.ref&&o.ref.measureLayoutRelativeToContainingList()}}))},function(e){console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")})}catch(e){console.warn('measureLayoutRelativeToContainingList threw an error',e.stack)}}},{key:"_getFooterCellKey",value:function(){return this._getCellKey()+'-footer'}},{key:"_renderDebugOverlay",value:function(){for(var e=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),t=[],r=this.props.getItemCount(this.props.data),o=0;o<r;o++){var s=this.__getFrameMetricsApprox(o);s.inLayout&&t.push(s)}var n=this.__getFrameMetricsApprox(this.state.first).offset,i=this.__getFrameMetricsApprox(this.state.last),l=i.offset+i.length-n,a=this._scrollMetrics.offset,c=this._scrollMetrics.visibleLength;return(0,_r(d[8]).jsxs)(_r(d[9]),{style:[x.debugOverlayBase,x.debugOverlay],children:[t.map(function(t,r){return(0,_r(d[8]).jsx)(_r(d[9]),{style:[x.debugOverlayBase,x.debugOverlayFrame,{top:t.offset*e,height:t.length*e}]},'f'+r)}),(0,_r(d[8]).jsx)(_r(d[9]),{style:[x.debugOverlayBase,x.debugOverlayFrameLast,{top:n*e,height:l*e}]}),(0,_r(d[8]).jsx)(_r(d[9]),{style:[x.debugOverlayBase,x.debugOverlayFrameVis,{top:a*e,height:c*e}]})]})}},{key:"_selectLength",value:function(e){return p(this.props.horizontal)?e.width:e.height}},{key:"_selectOffset",value:function(e){return p(this.props.horizontal)?e.x:e.y}},{key:"_maybeCallOnEndReached",value:function(){var e=this.props,t=e.data,r=e.getItemCount,o=e.onEndReached,s=e.onEndReachedThreshold,n=this._scrollMetrics,i=n.contentLength,l=n.visibleLength,a=i-l-n.offset;a<.001&&(a=0);var c=null!=s?s*l:2;o&&this.state.last===r(t)-1&&a<=c&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,o({distanceFromEnd:a})):a>c&&(this._sentEndForContentLength=0)}},{key:"_scheduleCellsToRenderUpdate",value:function(){var e=this.state,t=e.first,r=e.last,o=this._scrollMetrics,s=o.offset,n=o.visibleLength,i=o.velocity,l=this.props.getItemCount(this.props.data),a=!1,c=v(this.props.onEndReachedThreshold)*n/2;if(t>0){var h=s-this.__getFrameMetricsApprox(t).offset;a=a||h<0||i<-2&&h<c}if(r<l-1){var u=this.__getFrameMetricsApprox(r).offset-(s+n);a=a||u<0||i>2&&u<c}if(a&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress)return this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),void this._updateCellsToRender();this._updateCellsToRenderBatcher.schedule()}},{key:"_updateViewableItems",value:function(e){var t=this,r=this.props.getItemCount;this._viewabilityTuples.forEach(function(o){o.viewabilityHelper.onUpdate(r(e),t._scrollMetrics.offset,t._scrollMetrics.visibleLength,t._getFrameMetrics,t._createViewToken,o.onViewableItemsChanged,t.state)})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.data,o=e.getItemCount,s=_(e.maxToRenderPerBatch);return{first:Math.max(0,Math.min(t.first,o(r)-1-s)),last:Math.max(0,Math.min(t.last,o(r)-1))}}}])})(i.PureComponent);L.contextType=_r(d[19]).VirtualizedListContext;var C=(function(e){function o(){var e;(0,t.default)(this,o);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=a(this,o,[].concat(s))).state={separatorProps:{highlighted:!1,leadingItem:e.props.item}},e._separators={highlight:function(){var t=e.props,r=t.cellKey,o=t.prevCellKey;e.props.onUpdateSeparators([r,o],{highlighted:!0})},unhighlight:function(){var t=e.props,r=t.cellKey,o=t.prevCellKey;e.props.onUpdateSeparators([r,o],{highlighted:!1})},updateProps:function(t,r){var o=e.props,s=o.cellKey,n=o.prevCellKey;e.props.onUpdateSeparators(['leading'===t?n:s],r)}},e._onLayout=function(t){e.props.onCellLayout&&e.props.onCellLayout(t,e.props.cellKey,e.props.index)},e}return(0,n.default)(o,e),(0,r.default)(o,[{key:"updateSeparatorProps",value:function(e){this.setState(function(t){return{separatorProps:Object.assign({},t.separatorProps,e)}})}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.props.cellKey)}},{key:"_renderElement",value:function(e,t,r,o){return e&&t&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),t?i.createElement(t,{item:r,index:o,separators:this._separators}):e?e({item:r,index:o,separators:this._separators}):void _r(d[10])(!1,'VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.')}},{key:"render",value:function(){var e=this.props,t=e.CellRendererComponent,r=e.ItemSeparatorComponent,o=e.ListItemComponent,s=e.debug,n=e.fillRateHelper,l=e.getItemLayout,a=e.horizontal,c=e.item,h=e.index,u=e.inversionStyle,p=e.renderItem,f=this._renderElement(p,o,c,h),_=l&&!s&&!n.enabled()||!this.props.onCellLayout?void 0:this._onLayout,v=i.isValidElement(r)?r:r&&(0,_r(d[8]).jsx)(r,Object.assign({},this.state.separatorProps)),y=u?a?[x.rowReverse,u]:[x.columnReverse,u]:a?[x.row,u]:u,L=t?(0,_r(d[8]).jsxs)(t,Object.assign({},this.props,{style:y,onLayout:_,children:[f,v]})):(0,_r(d[8]).jsxs)(_r(d[9]),{style:y,onLayout:_,children:[f,v]});return(0,_r(d[8]).jsx)(_r(d[19]).VirtualizedListCellContextProvider,{cellKey:this.props.cellKey,children:L})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{separatorProps:Object.assign({},t.separatorProps,{leadingItem:e.item})}}}])})(i.Component);function b(e){for(var t="VirtualizedList trace:\n  Child ("+(e.horizontal?'horizontal':'vertical')+"):\n    listKey: "+e.key+"\n    cellKey: "+e.cellKey,r=e.parentDebugInfo;r;)t+="\n  Parent ("+(r.horizontal?'horizontal':'vertical')+"):\n    listKey: "+r.listKey+"\n    cellKey: "+r.cellKey,r=r.parent;return t}var x=_r(d[20]).create({verticallyInverted:{transform:[{scaleY:-1}]},horizontallyInverted:{transform:[{scaleX:-1}]},row:{flexDirection:'row'},rowReverse:{flexDirection:'row-reverse'},columnReverse:{flexDirection:'column-reverse'},debug:{flex:1},debugOverlayBase:{position:'absolute',top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:'blue',borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:'orange'},debugOverlayFrameLast:{left:0,borderColor:'green',borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:'red',borderWidth:2}});m.exports=L},243,[3,240,12,13,45,44,47,119,179,176,20,244,260,263,242,264,265,266,35,267,175]);
__d(function(g,_r,_i,_a,m,_e,d){var e=_r(d[0])(_r(d[1])),o=_r(d[0])(_r(d[2])),t=_r(d[0])(_r(d[3])),n=_r(d[0])(_r(d[4])),r=_r(d[0])(_r(d[5])),l=_r(d[0])(_r(d[6])),i=_r(d[0])(_r(d[7])),a=_r(d[0])(_r(d[8])),s=_r(d[0])(_r(d[9])),c=A(_r(d[10])),u=_r(d[0])(_r(d[11])),p=_r(d[0])(_r(d[12])),h=_r(d[0])(_r(d[13])),f=_r(d[0])(_r(d[14])),S=_r(d[0])(_r(d[15])),y=_r(d[0])(_r(d[16])),_=_r(d[0])(_r(d[17])),b=_r(d[0])(_r(d[18])),v=_r(d[0])(_r(d[19])),R=_r(d[0])(_r(d[20])),w=_r(d[0])(_r(d[21])),T=_r(d[0])(_r(d[22])),V=_r(d[0])(_r(d[23])),k=_r(d[0])(_r(d[24])),H=A(_r(d[25])),M=_r(d[0])(_r(d[26])),E=_r(d[0])(_r(d[27])),O=_r(d[0])(_r(d[28])),I=_r(d[0])(_r(d[29])),K=_r(d[0])(_r(d[30]));function D(e){if("function"!=typeof WeakMap)return null;var o=new WeakMap,t=new WeakMap;return(D=function(e){return e?t:o})(e)}function A(e,o){if(!o&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=D(o);if(t&&t.has(e))return t.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=r?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}return n.default=e,t&&t.set(e,n),n}function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(x=function(){return!!e})()}_r(d[11]);var N='android'===s.default.OS?{NativeHorizontalScrollViewTuple:[O.default,E.default],NativeVerticalScrollViewTuple:[K.default,f.default]}:{NativeHorizontalScrollViewTuple:[K.default,I.default],NativeVerticalScrollViewTuple:[K.default,I.default]},C=N.NativeHorizontalScrollViewTuple,B=N.NativeVerticalScrollViewTuple,L=16,W=(function(f){function E(e){var t,l,c,p,h,f,y,R;return(0,o.default)(this,E),f=this,y=E,R=[e],y=(0,r.default)(y),(h=(0,n.default)(f,x()?Reflect.construct(y,R||[],(0,r.default)(f).constructor):y.apply(f,R)))._scrollAnimatedValueAttachment=null,h._stickyHeaderRefs=new Map,h._headerLayoutYs=new Map,h._keyboardMetrics=null,h._additionalScrollOffset=0,h._isTouching=!1,h._lastMomentumScrollBeginTime=0,h._lastMomentumScrollEndTime=0,h._observedScrollSinceBecomingResponder=!1,h._becameResponderWhileAnimating=!1,h._preventNegativeScrollOffset=null,h._animated=null,h._subscriptionKeyboardWillShow=null,h._subscriptionKeyboardWillHide=null,h._subscriptionKeyboardDidShow=null,h._subscriptionKeyboardDidHide=null,h.state={layoutHeight:null},h._setNativeRef=(0,k.default)({getForwardedRef:function(){return h.props.scrollViewRef},setLocalRef:function(e){h._scrollViewRef=e,e&&(e.getScrollResponder=h.getScrollResponder,e.getScrollableNode=h.getScrollableNode,e.getInnerViewNode=h.getInnerViewNode,e.getInnerViewRef=h.getInnerViewRef,e.getNativeScrollRef=h.getNativeScrollRef,e.scrollTo=h.scrollTo,e.scrollToEnd=h.scrollToEnd,e.flashScrollIndicators=h.flashScrollIndicators,e.scrollResponderZoomTo=h.scrollResponderZoomTo,e.scrollResponderScrollNativeHandleToKeyboard=h.scrollResponderScrollNativeHandleToKeyboard)}}),h.getScrollResponder=function(){return h},h.getScrollableNode=function(){return u.default.findNodeHandle(h._scrollViewRef)},h.getInnerViewNode=function(){return u.default.findNodeHandle(h._innerViewRef)},h.getInnerViewRef=function(){return h._innerViewRef},h.getNativeScrollRef=function(){return h._scrollViewRef},h.scrollTo=function(e,o,t){var n,r,l;'number'==typeof e?(console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead."),r=e,n=o,l=t):e&&(r=e.y,n=e.x,l=e.animated),null!=h._scrollViewRef&&M.default.scrollTo(h._scrollViewRef,n||0,r||0,!1!==l)},h.scrollToEnd=function(e){var o=!1!==(e&&e.animated);null!=h._scrollViewRef&&M.default.scrollToEnd(h._scrollViewRef,o)},h.flashScrollIndicators=function(){null!=h._scrollViewRef&&M.default.flashScrollIndicators(h._scrollViewRef)},h.scrollResponderScrollNativeHandleToKeyboard=function(e,o,t){h._additionalScrollOffset=o||0,h._preventNegativeScrollOffset=!!t,null!=h._innerViewRef&&('number'==typeof e?S.default.measureLayout(e,u.default.findNodeHandle(h),h._textInputFocusError,h._inputMeasureAndScrollToKeyboard):e.measureLayout(h._innerViewRef,h._inputMeasureAndScrollToKeyboard,h._textInputFocusError))},h.scrollResponderZoomTo=function(e,o){(0,w.default)('ios'===s.default.OS,'zoomToRect is not implemented'),'animated'in e?(h._animated=e.animated,delete e.animated):void 0!==o&&console.warn('`scrollResponderZoomTo` `animated` argument is deprecated. Use `options.animated` instead'),null!=h._scrollViewRef&&M.default.zoomToRect(h._scrollViewRef,e,!1!==o)},h._inputMeasureAndScrollToKeyboard=function(e,o,t,n){var r=a.default.get('window').height,l=function(){null!=h._keyboardMetrics&&(r=h._keyboardMetrics.screenY);var e=o-r+n+h._additionalScrollOffset;!0===h._preventNegativeScrollOffset&&(e=Math.max(0,e)),h.scrollTo({x:0,y:e,animated:!0}),h._additionalScrollOffset=0,h._preventNegativeScrollOffset=!1};null==h._keyboardMetrics?setTimeout(function(){l()},0):l()},h._handleScroll=function(e){h._observedScrollSinceBecomingResponder=!0,h.props.onScroll&&h.props.onScroll(e)},h._handleLayout=function(e){!0===h.props.invertStickyHeaders&&h.setState({layoutHeight:e.nativeEvent.layout.height}),h.props.onLayout&&h.props.onLayout(e)},h._handleContentOnLayout=function(e){var o=e.nativeEvent.layout,t=o.width,n=o.height;h.props.onContentSizeChange&&h.props.onContentSizeChange(t,n)},h._scrollViewRef=null,h._innerViewRef=null,h._setInnerViewRef=(0,k.default)({getForwardedRef:function(){return h.props.innerViewRef},setLocalRef:function(e){h._innerViewRef=e}}),h.scrollResponderKeyboardWillShow=function(e){h._keyboardMetrics=e.endCoordinates,h.props.onKeyboardWillShow&&h.props.onKeyboardWillShow(e)},h.scrollResponderKeyboardWillHide=function(e){h._keyboardMetrics=null,h.props.onKeyboardWillHide&&h.props.onKeyboardWillHide(e)},h.scrollResponderKeyboardDidShow=function(e){h._keyboardMetrics=e.endCoordinates,h.props.onKeyboardDidShow&&h.props.onKeyboardDidShow(e)},h.scrollResponderKeyboardDidHide=function(e){h._keyboardMetrics=null,h.props.onKeyboardDidHide&&h.props.onKeyboardDidHide(e)},h._handleMomentumScrollBegin=function(e){h._lastMomentumScrollBeginTime=g.performance.now(),h.props.onMomentumScrollBegin&&h.props.onMomentumScrollBegin(e)},h._handleMomentumScrollEnd=function(e){_.default.endScroll(),h._lastMomentumScrollEndTime=g.performance.now(),h.props.onMomentumScrollEnd&&h.props.onMomentumScrollEnd(e)},h._handleScrollBeginDrag=function(e){_.default.beginScroll(),'android'===s.default.OS&&'on-drag'===h.props.keyboardDismissMode&&(0,v.default)(),h.props.onScrollBeginDrag&&h.props.onScrollBeginDrag(e)},h._handleScrollEndDrag=function(e){var o=e.nativeEvent.velocity;h._isAnimating()||o&&(0!==o.x||0!==o.y)||_.default.endScroll(),h.props.onScrollEndDrag&&h.props.onScrollEndDrag(e)},h._isAnimating=function(){return g.performance.now()-h._lastMomentumScrollEndTime<L||h._lastMomentumScrollEndTime<h._lastMomentumScrollBeginTime},h._handleResponderGrant=function(e){h._observedScrollSinceBecomingResponder=!1,h.props.onResponderGrant&&h.props.onResponderGrant(e),h._becameResponderWhileAnimating=h._isAnimating()},h._handleResponderReject=function(){},h._handleResponderRelease=function(e){if(h._isTouching=0!==e.nativeEvent.touches.length,h.props.onResponderRelease&&h.props.onResponderRelease(e),'number'!=typeof e.target){var o=b.default.currentlyFocusedInput();!0===h.props.keyboardShouldPersistTaps||'always'===h.props.keyboardShouldPersistTaps||!h._keyboardIsDismissible()||e.target===o||h._observedScrollSinceBecomingResponder||h._becameResponderWhileAnimating||b.default.blurTextInput(o)}},h._handleResponderTerminationRequest=function(){return!h._observedScrollSinceBecomingResponder},h._handleScrollShouldSetResponder=function(){return!0!==h.props.disableScrollViewPanResponder&&h._isTouching},h._handleStartShouldSetResponder=function(e){if(!0===h.props.disableScrollViewPanResponder)return!1;var o=b.default.currentlyFocusedInput();return!('handled'!==h.props.keyboardShouldPersistTaps||!h._keyboardIsDismissible()||e.target===o)},h._handleStartShouldSetResponderCapture=function(e){if(h._isAnimating())return!0;if(!0===h.props.disableScrollViewPanResponder)return!1;var o=h.props.keyboardShouldPersistTaps,t=!o||'never'===o;return'number'!=typeof e.target&&!(!t||!h._keyboardIsDismissible()||null==e.target||b.default.isTextInput(e.target))},h._keyboardIsDismissible=function(){var e=b.default.currentlyFocusedInput(),o=null!=e&&b.default.isTextInput(e),t=null!=h._keyboardMetrics||'android'===s.default.OS;return o&&t},h._handleTouchEnd=function(e){var o=e.nativeEvent;h._isTouching=0!==o.touches.length,h.props.onTouchEnd&&h.props.onTouchEnd(e)},h._handleTouchCancel=function(e){h._isTouching=!1,h.props.onTouchCancel&&h.props.onTouchCancel(e)},h._handleTouchStart=function(e){h._isTouching=!0,h.props.onTouchStart&&h.props.onTouchStart(e)},h._handleTouchMove=function(e){h.props.onTouchMove&&h.props.onTouchMove(e)},h._scrollAnimatedValue=new i.default.Value(null!=(t=null==(l=h.props.contentOffset)?void 0:l.y)?t:0),h._scrollAnimatedValue.setOffset(null!=(c=null==(p=h.props.contentInset)?void 0:p.top)?c:0),h}return(0,l.default)(E,f),(0,t.default)(E,[{key:"componentDidMount",value:function(){'boolean'==typeof this.props.keyboardShouldPersistTaps&&console.warn("'keyboardShouldPersistTaps={"+(!0===this.props.keyboardShouldPersistTaps?'true':'false')+"}' is deprecated. Use 'keyboardShouldPersistTaps=\""+(this.props.keyboardShouldPersistTaps?'always':'never')+"\"' instead"),this._keyboardMetrics=y.default.metrics(),this._additionalScrollOffset=0,this._subscriptionKeyboardWillShow=y.default.addListener('keyboardWillShow',this.scrollResponderKeyboardWillShow),this._subscriptionKeyboardWillHide=y.default.addListener('keyboardWillHide',this.scrollResponderKeyboardWillHide),this._subscriptionKeyboardDidShow=y.default.addListener('keyboardDidShow',this.scrollResponderKeyboardDidShow),this._subscriptionKeyboardDidHide=y.default.addListener('keyboardDidHide',this.scrollResponderKeyboardDidHide),this._updateAnimatedNodeAttachment()}},{key:"componentDidUpdate",value:function(e){var o=e.contentInset?e.contentInset.top:0,t=this.props.contentInset?this.props.contentInset.top:0;o!==t&&this._scrollAnimatedValue.setOffset(t||0),this._updateAnimatedNodeAttachment()}},{key:"componentWillUnmount",value:function(){null!=this._subscriptionKeyboardWillShow&&this._subscriptionKeyboardWillShow.remove(),null!=this._subscriptionKeyboardWillHide&&this._subscriptionKeyboardWillHide.remove(),null!=this._subscriptionKeyboardDidShow&&this._subscriptionKeyboardDidShow.remove(),null!=this._subscriptionKeyboardDidHide&&this._subscriptionKeyboardDidHide.remove(),this._scrollAnimatedValueAttachment&&this._scrollAnimatedValueAttachment.detach()}},{key:"_textInputFocusError",value:function(){console.warn('Error measuring text field.')}},{key:"_getKeyForIndex",value:function(e,o){var t=o[e];return t&&t.key}},{key:"_updateAnimatedNodeAttachment",value:function(){this._scrollAnimatedValueAttachment&&this._scrollAnimatedValueAttachment.detach(),this.props.stickyHeaderIndices&&this.props.stickyHeaderIndices.length>0&&(this._scrollAnimatedValueAttachment=i.default.attachNativeEvent(this._scrollViewRef,'onScroll',[{nativeEvent:{contentOffset:{y:this._scrollAnimatedValue}}}]))}},{key:"_setStickyHeaderRef",value:function(e,o){o?this._stickyHeaderRefs.set(e,o):this._stickyHeaderRefs.delete(e)}},{key:"_onStickyHeaderLayout",value:function(e,o,t){var n=this.props.stickyHeaderIndices;if(n){var r=c.Children.toArray(this.props.children);if(t===this._getKeyForIndex(e,r)){var l=o.nativeEvent.layout.y;this._headerLayoutYs.set(t,l);var i=n[n.indexOf(e)-1];if(null!=i){var a=this._stickyHeaderRefs.get(this._getKeyForIndex(i,r));a&&a.setNextHeaderY&&a.setNextHeaderY(l)}}}}},{key:"render",value:function(){var o=this,t=!0===this.props.horizontal?C:B,n=(0,e.default)(t,2),r=n[0],l=n[1],i=[!0===this.props.horizontal&&z.contentContainerHorizontal,this.props.contentContainerStyle],a=null==this.props.onContentSizeChange?null:{onLayout:this._handleContentOnLayout},u=this.props.stickyHeaderIndices,f=this.props.children;if(null!=u&&u.length>0){var S=c.Children.toArray(this.props.children);f=S.map(function(e,t){var n=e?u.indexOf(t):-1;if(n>-1){var r=e.key,l=u[n+1],i=o.props.StickyHeaderComponent||p.default;return(0,_r(d[31]).jsx)(i,{nativeID:'StickyHeader-'+r,ref:function(e){return o._setStickyHeaderRef(r,e)},nextHeaderLayoutY:o._headerLayoutYs.get(o._getKeyForIndex(l,S)),onLayout:function(e){return o._onStickyHeaderLayout(t,e,r)},scrollAnimatedValue:o._scrollAnimatedValue,inverted:o.props.invertStickyHeaders,hiddenOnScroll:o.props.stickyHeaderHiddenOnScroll,scrollViewHeight:o.state.layoutHeight,children:e},r)}return e})}f=(0,_r(d[31]).jsx)(H.default.Provider,{value:!0===this.props.horizontal?H.HORIZONTAL:H.VERTICAL,children:f});var y=Array.isArray(u)&&u.length>0,_=(0,_r(d[31]).jsx)(l,Object.assign({},a,{ref:this._setInnerViewRef,style:i,removeClippedSubviews:('android'!==s.default.OS||!y)&&this.props.removeClippedSubviews,collapsable:!1,children:f})),b=void 0!==this.props.alwaysBounceHorizontal?this.props.alwaysBounceHorizontal:this.props.horizontal,v=void 0!==this.props.alwaysBounceVertical?this.props.alwaysBounceVertical:!this.props.horizontal,w=!0===this.props.horizontal?z.baseHorizontal:z.baseVertical,k=Object.assign({},this.props,{alwaysBounceHorizontal:b,alwaysBounceVertical:v,style:h.default.compose(w,this.props.style),onContentSizeChange:null,onLayout:this._handleLayout,onMomentumScrollBegin:this._handleMomentumScrollBegin,onMomentumScrollEnd:this._handleMomentumScrollEnd,onResponderGrant:this._handleResponderGrant,onResponderReject:this._handleResponderReject,onResponderRelease:this._handleResponderRelease,onResponderTerminationRequest:this._handleResponderTerminationRequest,onScrollBeginDrag:this._handleScrollBeginDrag,onScrollEndDrag:this._handleScrollEndDrag,onScrollShouldSetResponder:this._handleScrollShouldSetResponder,onStartShouldSetResponder:this._handleStartShouldSetResponder,onStartShouldSetResponderCapture:this._handleStartShouldSetResponderCapture,onTouchEnd:this._handleTouchEnd,onTouchMove:this._handleTouchMove,onTouchStart:this._handleTouchStart,onTouchCancel:this._handleTouchCancel,onScroll:this._handleScroll,scrollEventThrottle:y?1:this.props.scrollEventThrottle,sendMomentumEvents:!(!this.props.onMomentumScrollBegin&&!this.props.onMomentumScrollEnd),snapToStart:!1!==this.props.snapToStart,snapToEnd:!1!==this.props.snapToEnd,pagingEnabled:s.default.select({ios:!0===this.props.pagingEnabled&&null==this.props.snapToInterval&&null==this.props.snapToOffsets,android:!0===this.props.pagingEnabled||null!=this.props.snapToInterval||null!=this.props.snapToOffsets})}),M=this.props.decelerationRate;null!=M&&(k.decelerationRate=(0,T.default)(M));var E=this.props.refreshControl;if(E){if('ios'===s.default.OS)return(0,_r(d[31]).jsxs)(r,Object.assign({},k,{ref:this._setNativeRef,children:[E,_]}));if('android'===s.default.OS){var O=(0,V.default)((0,R.default)(k.style)),I=O.outer,K=O.inner;return c.cloneElement(E,{style:h.default.compose(w,I)},(0,_r(d[31]).jsx)(r,Object.assign({},k,{style:h.default.compose(w,K),ref:this._setNativeRef,children:_})))}}return(0,_r(d[31]).jsx)(r,Object.assign({},k,{ref:this._setNativeRef,children:_}))}}])})(c.Component);W.Context=H.default;var z=h.default.create({baseVertical:{flexGrow:1,flexShrink:1,flexDirection:'column',overflow:'scroll'},baseHorizontal:{flexGrow:1,flexShrink:1,flexDirection:'row',overflow:'scroll'},contentContainerHorizontal:{flexDirection:'row'}});function j(e,o){return(0,_r(d[31]).jsx)(W,Object.assign({},e,{scrollViewRef:o}))}j.displayName='ScrollView';var P=c.forwardRef(j);P.Context=H.default,P.displayName='ScrollView',m.exports=P},244,[3,22,12,13,45,44,47,215,160,17,119,35,245,175,176,140,246,250,124,248,169,20,252,253,234,254,255,256,257,258,259,179]);
__d(function(g,_r,_i,_a,m,_e,d){var e=_r(d[0])(_r(d[1])),t=_r(d[0])(_r(d[2])),a=_r(d[0])(_r(d[3])),n=_r(d[0])(_r(d[4])),r=_r(d[0])(_r(d[5])),l=_r(d[0])(_r(d[6])),s=_r(d[0])(_r(d[7])),i=_r(d[0])(_r(d[8])),o=(_r(d[0])(_r(d[9])),(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var s=r?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(n,l,s):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n})(_r(d[10]))),u=_r(d[0])(_r(d[11])),p=_r(d[0])(_r(d[12])),h=_r(d[0])(_r(d[13]));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}var _=l.default.createAnimatedComponent(p.default),v=(function(l){function u(){var t,r,l,s;(0,e.default)(this,u);for(var i=arguments.length,p=new Array(i),c=0;c<i;c++)p[c]=arguments[c];return r=this,l=u,s=[].concat(p),l=(0,n.default)(l),(t=(0,a.default)(r,f()?Reflect.construct(l,s||[],(0,n.default)(r).constructor):l.apply(r,s))).state={measured:!1,layoutY:0,layoutHeight:0,nextHeaderLayoutY:t.props.nextHeaderLayoutY,translateY:null},t._translateY=null,t._shouldRecreateTranslateY=!0,t._haveReceivedInitialZeroTranslateY=!0,t._debounceTimeout='android'===h.default.OS?15:64,t.setNextHeaderY=function(e){t._shouldRecreateTranslateY=!0,t.setState({nextHeaderLayoutY:e})},t._onLayout=function(e){var a=e.nativeEvent.layout.y,n=e.nativeEvent.layout.height;a===t.state.layoutY&&n===t.state.layoutHeight&&!0===t.state.measured||(t._shouldRecreateTranslateY=!0),t.setState({measured:!0,layoutY:a,layoutHeight:n}),t.props.onLayout(e);var r=o.Children.only(t.props.children);r.props.onCellLayout?r.props.onCellLayout(e,r.props.cellKey,r.props.index):r.props.onLayout&&r.props.onLayout(e)},t._setComponentRef=function(e){t._ref=e},t}return(0,r.default)(u,l),(0,t.default)(u,[{key:"componentWillUnmount",value:function(){null!=this._translateY&&null!=this._animatedValueListenerId&&this._translateY.removeListener(this._animatedValueListenerId),this._timer&&clearTimeout(this._timer)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.scrollViewHeight===this.props.scrollViewHeight&&e.scrollAnimatedValue===this.props.scrollAnimatedValue&&e.inverted===this.props.inverted||(this._shouldRecreateTranslateY=!0)}},{key:"updateTranslateListener",value:function(e,t,a){var n=this;null!=this._translateY&&null!=this._animatedValueListenerId&&this._translateY.removeListener(this._animatedValueListenerId),this._translateY=a?new s.default(e,a):e,this._shouldRecreateTranslateY=!1,t&&(this._animatedValueListener||(this._animatedValueListener=function(e){var t=e.value;0!==t||n._haveReceivedInitialZeroTranslateY?(n._timer&&clearTimeout(n._timer),n._timer=setTimeout(function(){t!==n.state.translateY&&n.setState({translateY:t})},n._debounceTimeout)):n._haveReceivedInitialZeroTranslateY=!0}),0!==this.state.translateY&&null!=this.state.translateY&&(this._haveReceivedInitialZeroTranslateY=!1),this._animatedValueListenerId=e.addListener(this._animatedValueListener))}},{key:"render",value:function(){var e,t,a=!(!this._ref||null==(e=this._ref._internalInstanceHandle)||null==(t=e.stateNode)||!t.canonical);if(this._shouldRecreateTranslateY){var n=this.props,r=n.inverted,l=n.scrollViewHeight,s=this.state,u=s.measured,p=s.layoutHeight,h=s.layoutY,c=s.nextHeaderLayoutY,f=[-1,0],v=[0,0];if(u)if(r){if(null!=l){var Y=h+p-l;if(Y>0){f.push(Y),v.push(0),f.push(Y+1),v.push(1);var L=(c||0)-p-l;L>Y&&(f.push(L,L+1),v.push(L-Y,L-Y))}}}else{f.push(h),v.push(0);var R=(c||0)-p;R>=h?(f.push(R,R+1),v.push(R-h,R-h)):(f.push(h+1),v.push(1))}this.updateTranslateListener(this.props.scrollAnimatedValue.interpolate({inputRange:f,outputRange:v}),a,this.props.hiddenOnScroll?new i.default(this.props.scrollAnimatedValue.interpolate({extrapolateLeft:'clamp',inputRange:[h,h+1],outputRange:[0,1]}).interpolate({inputRange:[0,1],outputRange:[0,-1]}),-this.state.layoutHeight,0):null)}var T=o.Children.only(this.props.children),V=a&&null!=this.state.translateY?{style:{transform:[{translateY:this.state.translateY}]}}:null;return(0,_r(d[14]).jsx)(_,{collapsable:!1,nativeID:this.props.nativeID,onLayout:this._onLayout,ref:this._setComponentRef,style:[T.props.style,y.header,{transform:[{translateY:this._translateY}]}],passthroughAnimatedPropExplicitValues:V,children:o.cloneElement(T,{style:y.fill,onLayout:void 0})})}}])})(o.Component),y=u.default.create({header:{zIndex:10,position:'relative'},fill:{flex:1}});m.exports=v},245,[3,12,13,45,44,47,215,216,221,211,119,175,176,17,179]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),u=r(d[0])(r(d[3])),l=r(d[0])(r(d[4])),o=r(d[0])(r(d[5])),s=r(d[0])(r(d[6])),f=r(d[0])(r(d[7])),c=(function(){return(0,n.default)(function n(){var l=this;(0,t.default)(this,n),this._emitter=new u.default('ios'!==s.default.OS?null:f.default),this.addListener('keyboardDidShow',function(t){l._currentlyShowing=t}),this.addListener('keyboardDidHide',function(t){l._currentlyShowing=null})},[{key:"addListener",value:function(t,n,u){return this._emitter.addListener(t,n)}},{key:"removeAllListeners",value:function(t){this._emitter.removeAllListeners(t)}},{key:"dismiss",value:function(){(0,o.default)()}},{key:"isVisible",value:function(){return!!this._currentlyShowing}},{key:"metrics",value:function(){var t;return null==(t=this._currentlyShowing)?void 0:t.endCoordinates}},{key:"scheduleLayoutAnimation",value:function(t){var n=t.duration,u=t.easing;null!=n&&0!==n&&l.default.configureNext({duration:n,update:{duration:n,type:null!=u&&l.default.Types[u]||'keyboard'}})}}])})();m.exports=new c},246,[3,12,13,93,247,248,17,249]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0])(r(d[1])),t=r(d[0])(r(d[2])).default.isLayoutAnimationEnabled();function u(u,o,l){var s,c;if(!n.default.isTesting&&t){var p,y,f=!1,b=function(){f||(f=!0,clearTimeout(I),null==o||o())},I=setTimeout(b,(null!=(s=u.duration)?s:0)+17),O=null==(c=g)?void 0:c.nativeFabricUIManager;if(null!=O&&O.configureNextLayoutAnimation)null==(p=g)||null==(y=p.nativeFabricUIManager)||y.configureNextLayoutAnimation(u,b,null!=l?l:function(){});else null!=r(d[3])&&r(d[3]).configureNextLayoutAnimation&&r(d[3]).configureNextLayoutAnimation(u,null!=b?b:function(){},null!=l?l:function(){})}}function o(n,t,u){return{duration:n,create:{type:t,property:u},update:{type:t},delete:{type:t,property:u}}}var l={easeInEaseOut:o(300,'easeInEaseOut','opacity'),linear:o(500,'linear','opacity'),spring:{duration:700,create:{type:'linear',property:'opacity'},update:{type:'spring',springDamping:.4},delete:{type:'linear',property:'opacity'}}},s={configureNext:u,create:o,Types:Object.freeze({spring:'spring',linear:'linear',easeInEaseOut:'easeInEaseOut',easeIn:'easeIn',easeOut:'easeOut',keyboard:'keyboard'}),Properties:Object.freeze({opacity:'opacity',scaleX:'scaleX',scaleY:'scaleY',scaleXY:'scaleXY'}),checkConfig:function(){console.error('LayoutAnimation.checkConfig(...) has been disabled.')},Presets:l,easeInEaseOut:u.bind(null,l.easeInEaseOut),linear:u.bind(null,l.linear),spring:u.bind(null,l.spring),setEnabled:function(n){t=t}};m.exports=s},247,[3,17,195,140]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(){r(d[0]).blurTextInput(r(d[0]).currentlyFocusedInput())}},248,[124]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=e[f]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('KeyboardObserver')},249,[19]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),o={setGlobalOptions:function(o){if(void 0!==o.debug&&r(d[2])(t.default,'Trying to debug FrameRateLogger without the native module!'),t.default){var l={debug:!!o.debug,reportStackTraces:!!o.reportStackTraces};t.default.setGlobalOptions(l)}},setContext:function(o){t.default&&t.default.setContext(o)},beginScroll:function(){t.default&&t.default.beginScroll()},endScroll:function(){t.default&&t.default.endScroll()}};m.exports=o},250,[3,251,20]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=u?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('FrameRateLogger')},251,[19]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1]));m.exports=function(n){return'normal'===n?t.default.select({ios:.998,android:.985}):'fast'===n?t.default.select({ios:.99,android:.9}):n}},252,[3,17]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(s){var c=null,t=null;if(null!=s)for(var n of(c={},t={},Object.keys(s)))switch(n){case'margin':case'marginHorizontal':case'marginVertical':case'marginBottom':case'marginTop':case'marginLeft':case'marginRight':case'flex':case'flexGrow':case'flexShrink':case'flexBasis':case'alignSelf':case'height':case'minHeight':case'maxHeight':case'width':case'minWidth':case'maxWidth':case'position':case'left':case'right':case'bottom':case'top':case'transform':c[n]=s[n];break;default:t[n]=s[n]}return{outer:c,inner:t}}},253,[]);
__d(function(g,_r,_i,_a,m,_e,d){function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(e=function(e){return e?n:r})(t)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.VERTICAL=_e.HORIZONTAL=void 0;var t=(function(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=e(r);if(n&&n.has(t))return n.get(t);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in t)if("default"!==f&&{}.hasOwnProperty.call(t,f)){var a=u?Object.getOwnPropertyDescriptor(t,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=t[f]}return o.default=t,n&&n.set(t,o),o})(_r(d[0])).createContext(null);_e.default=t,_e.HORIZONTAL=Object.freeze({horizontal:!0}),_e.VERTICAL=Object.freeze({horizontal:!1})},254,[119]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=_r(d[0])(_r(d[1]));!(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=t(r);if(o&&o.has(e))return o.get(e);var n={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var a=l?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(n,u,a):n[u]=e[u]}n.default=e,o&&o.set(e,n)})(_r(d[2]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,o=new WeakMap;return(t=function(e){return e?o:r})(e)}_e.default=(0,e.default)({supportedCommands:['flashScrollIndicators','scrollTo','scrollToEnd','zoomToRect']})},255,[3,126,119]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(d[0])(r(d[1]));e.default=(0,o.default)('AndroidHorizontalScrollContentView')},256,[3,184]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=void 0;var e=(function(e,o){if(!o&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r(o);if(t&&t.has(e))return t.get(e);var n={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=l?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n})(_r(d[0]));function r(e){if("function"!=typeof WeakMap)return null;var o=new WeakMap,t=new WeakMap;return(r=function(e){return e?t:o})(e)}var o=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:'AndroidHorizontalScrollView',bubblingEventTypes:{},directEventTypes:{},validAttributes:{decelerationRate:!0,disableIntervalMomentum:!0,endFillColor:{process:_r(d[1])},fadingEdgeLength:!0,nestedScrollEnabled:!0,overScrollMode:!0,pagingEnabled:!0,persistentScrollbar:!0,scrollEnabled:!0,scrollPerfTag:!0,sendMomentumEvents:!0,showsHorizontalScrollIndicator:!0,snapToAlignment:!0,snapToEnd:!0,snapToInterval:!0,snapToStart:!0,snapToOffsets:!0,contentOffset:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderRadius:!0,borderStyle:!0,borderRightColor:{process:_r(d[1])},borderColor:{process:_r(d[1])},borderBottomColor:{process:_r(d[1])},borderTopLeftRadius:!0,borderTopColor:{process:_r(d[1])},removeClippedSubviews:!0,borderTopRightRadius:!0,borderLeftColor:{process:_r(d[1])},pointerEvents:!0}},t=e.get('AndroidHorizontalScrollView',function(){return o});_e.default=t},257,[138,133]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(u,i,a):u[i]=e[i]}return u.default=e,n&&n.set(e,u),u})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}var r=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:'RCTScrollContentView',bubblingEventTypes:{},directEventTypes:{},validAttributes:{}},n=e.get('RCTScrollContentView',function(){return r});_e.default=n},258,[138]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=void 0;var o=(function(o,e){if(!e&&o&&o.__esModule)return o;if(null===o||"object"!=typeof o&&"function"!=typeof o)return{default:o};var n=t(e);if(n&&n.has(o))return n.get(o);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in o)if("default"!==a&&{}.hasOwnProperty.call(o,a)){var i=l?Object.getOwnPropertyDescriptor(o,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=o[a]}return r.default=o,n&&n.set(o,r),r})(_r(d[0])),e=_r(d[1])(_r(d[2]));function t(o){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(t=function(o){return o?n:e})(o)}var n=_e.__INTERNAL_VIEW_CONFIG='android'===e.default.OS?{uiViewClassName:'RCTScrollView',bubblingEventTypes:{},directEventTypes:{topMomentumScrollBegin:{registrationName:'onMomentumScrollBegin'},topMomentumScrollEnd:{registrationName:'onMomentumScrollEnd'},topScroll:{registrationName:'onScroll'},topScrollBeginDrag:{registrationName:'onScrollBeginDrag'},topScrollEndDrag:{registrationName:'onScrollEndDrag'}},validAttributes:{contentOffset:{diff:_r(d[3])},decelerationRate:!0,disableIntervalMomentum:!0,pagingEnabled:!0,scrollEnabled:!0,showsVerticalScrollIndicator:!0,snapToAlignment:!0,snapToEnd:!0,snapToInterval:!0,snapToOffsets:!0,snapToStart:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,sendMomentumEvents:!0,borderRadius:!0,nestedScrollEnabled:!0,borderStyle:!0,borderRightColor:{process:_r(d[4])},borderColor:{process:_r(d[4])},borderBottomColor:{process:_r(d[4])},persistentScrollbar:!0,endFillColor:{process:_r(d[4])},fadingEdgeLength:!0,overScrollMode:!0,borderTopLeftRadius:!0,scrollPerfTag:!0,borderTopColor:{process:_r(d[4])},removeClippedSubviews:!0,borderTopRightRadius:!0,borderLeftColor:{process:_r(d[4])},pointerEvents:!0}}:{uiViewClassName:'RCTScrollView',bubblingEventTypes:{},directEventTypes:{topMomentumScrollBegin:{registrationName:'onMomentumScrollBegin'},topMomentumScrollEnd:{registrationName:'onMomentumScrollEnd'},topScroll:{registrationName:'onScroll'},topScrollBeginDrag:{registrationName:'onScrollBeginDrag'},topScrollEndDrag:{registrationName:'onScrollEndDrag'},topScrollToTop:{registrationName:'onScrollToTop'}},validAttributes:Object.assign({alwaysBounceHorizontal:!0,alwaysBounceVertical:!0,automaticallyAdjustContentInsets:!0,automaticallyAdjustKeyboardInsets:!0,automaticallyAdjustsScrollIndicatorInsets:!0,bounces:!0,bouncesZoom:!0,canCancelContentTouches:!0,centerContent:!0,contentInset:{diff:_r(d[5])},contentOffset:{diff:_r(d[3])},contentInsetAdjustmentBehavior:!0,decelerationRate:!0,directionalLockEnabled:!0,disableIntervalMomentum:!0,indicatorStyle:!0,inverted:!0,keyboardDismissMode:!0,maintainVisibleContentPosition:!0,maximumZoomScale:!0,minimumZoomScale:!0,pagingEnabled:!0,pinchGestureEnabled:!0,scrollEnabled:!0,scrollEventThrottle:!0,scrollIndicatorInsets:{diff:_r(d[5])},scrollToOverflowEnabled:!0,scrollsToTop:!0,showsHorizontalScrollIndicator:!0,showsVerticalScrollIndicator:!0,snapToAlignment:!0,snapToEnd:!0,snapToInterval:!0,snapToOffsets:!0,snapToStart:!0,zoomScale:!0},(0,_r(d[6]).ConditionallyIgnoredEventHandlers)({onScrollBeginDrag:!0,onMomentumScrollEnd:!0,onScrollEndDrag:!0,onMomentumScrollBegin:!0,onScrollToTop:!0,onScroll:!0}))},r=o.get('RCTScrollView',function(){return n});_e.default=r},259,[138,3,17,151,133,152,137]);
__d(function(g,_r,_i,_a,m,_e,d){var e=_r(d[0])(_r(d[1])),t=_r(d[0])(_r(d[2])),r=_r(d[0])(_r(d[3])),n=_r(d[0])(_r(d[4])),o=_r(d[0])(_r(d[5])),s=_r(d[0])(_r(d[6])),i=(u(_r(d[7])),u(_r(d[8]))),a=["enabled","colors","progressBackgroundColor","size"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}var c=(function(f){function u(){var e,r,s,i;(0,t.default)(this,u);for(var a=arguments.length,f=new Array(a),c=0;c<a;c++)f[c]=arguments[c];return r=this,s=u,i=[].concat(f),s=(0,o.default)(s),(e=(0,n.default)(r,l()?Reflect.construct(s,i||[],(0,o.default)(r).constructor):s.apply(r,i)))._lastNativeRefreshing=!1,e._onRefresh=function(){e._lastNativeRefreshing=!0,e.props.onRefresh&&e.props.onRefresh(),e.forceUpdate()},e._setNativeRef=function(t){e._nativeRef=t},e}return(0,s.default)(u,f),(0,r.default)(u,[{key:"componentDidMount",value:function(){this._lastNativeRefreshing=this.props.refreshing}},{key:"componentDidUpdate",value:function(e){this.props.refreshing!==e.refreshing?this._lastNativeRefreshing=this.props.refreshing:this.props.refreshing!==this._lastNativeRefreshing&&this._nativeRef&&(i.Commands.setNativeRefreshing(this._nativeRef,this.props.refreshing),this._lastNativeRefreshing=this.props.refreshing)}},{key:"render",value:function(){var t=this.props,r=(t.enabled,t.colors,t.progressBackgroundColor,t.size,(0,e.default)(t,a));return(0,_r(d[10]).jsx)(i.default,Object.assign({},r,{ref:this._setNativeRef,onRefresh:this._onRefresh}))}}])})(_r(d[9]).Component);m.exports=c},260,[3,91,12,13,45,44,47,261,262,119,179]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.Commands=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var f=a?Object.getOwnPropertyDescriptor(e,u):null;f&&(f.get||f.set)?Object.defineProperty(o,u,f):o[u]=e[u]}o.default=e,n&&n.set(e,o)})(_r(d[0]));var e=_r(d[1])(_r(d[2])),t=_r(d[1])(_r(d[3]));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}_e.Commands=(0,e.default)({supportedCommands:['setNativeRefreshing']}),_e.default=(0,t.default)('AndroidSwipeRefreshLayout')},261,[119,3,126,184]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.Commands=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var u=a?Object.getOwnPropertyDescriptor(e,f):null;u&&(u.get||u.set)?Object.defineProperty(o,f,u):o[f]=e[f]}o.default=e,n&&n.set(e,o)})(_r(d[0]));var e=_r(d[1])(_r(d[2])),t=_r(d[1])(_r(d[3]));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}_e.Commands=(0,t.default)({supportedCommands:['setNativeRefreshing']}),_e.default=(0,e.default)('PullToRefreshView',{paperComponentName:'RCTRefreshControl',excludedPlatforms:['android']})},262,[119,3,184,126]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(){var n;return(n=console).log.apply(n,arguments)}},263,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(function t(){r(d[1])(this,t),this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0}),n=[],s=10,l=null,_=(function(){return r(d[0])(function n(s){r(d[1])(this,n),this._anyBlankStartTime=null,this._enabled=!1,this._info=new t,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=s,this._enabled=(l||0)>Math.random(),this._resetData()},[{key:"activate",value:function(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=g.performance.now())}},{key:"deactivateAndFlush",value:function(){if(this._enabled){var t=this._samplesStartTime;if(null!=t)if(this._info.sample_count<s)this._resetData();else{var l=g.performance.now()-t,_=Object.assign({},this._info,{total_time_spent:l});n.forEach(function(t){return t(_)}),this._resetData()}}}},{key:"computeBlankness",value:function(t,n,s){if(!this._enabled||0===t.getItemCount(t.data)||null==this._samplesStartTime)return 0;var l=s.dOffset,_=s.offset,o=s.velocity,h=s.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(h),this._info.pixels_scrolled+=Math.round(Math.abs(l));var u=Math.round(1e3*Math.abs(o)),f=g.performance.now();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=f-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=f-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var c=0,k=n.first,y=this._getFrameMetrics(k);k<=n.last&&(!y||!y.inLayout);)y=this._getFrameMetrics(k),k++;y&&k>0&&(c=Math.min(h,Math.max(0,y.offset-_)));for(var p=0,b=n.last,v=this._getFrameMetrics(b);b>=n.first&&(!v||!v.inLayout);)v=this._getFrameMetrics(b),b--;if(v&&b<t.getItemCount(t.data)-1){var S=v.offset+v.length;p=Math.min(h,Math.max(0,_+h-S))}var M=Math.round(c+p),T=M/h;return T>0?(this._anyBlankStartTime=f,this._info.any_blank_speed_sum+=u,this._info.any_blank_count++,this._info.pixels_blank+=M,T>.5&&(this._mostlyBlankStartTime=f,this._info.mostly_blank_count++)):(u<.01||Math.abs(l)<1)&&this.deactivateAndFlush(),T}},{key:"enabled",value:function(){return this._enabled}},{key:"_resetData",value:function(){this._anyBlankStartTime=null,this._info=new t,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}],[{key:"addListener",value:function(t){return null===l&&console.warn('Call `FillRateHelper.setSampleRate` before `addListener`.'),n.push(t),{remove:function(){n=n.filter(function(n){return t!==n})}}}},{key:"setSampleRate",value:function(t){l=t}},{key:"setMinSampleCount",value:function(t){s=t}}])})();m.exports=_},264,[13,12]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=(function(){return r(d[1])(function t(n,l){r(d[0])(this,t),this._delay=l,this._callback=n},[{key:"dispose",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{abort:!1};this._taskHandle&&(this._taskHandle.cancel(),t.abort||this._callback(),this._taskHandle=null)}},{key:"schedule",value:function(){var t=this;if(!this._taskHandle){var n=setTimeout(function(){t._taskHandle=r(d[2]).runAfterInteractions(function(){t._taskHandle=null,t._callback()})},this._delay);this._taskHandle={cancel:function(){return clearTimeout(n)}}}}}])})();m.exports=t},265,[12,13,212]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=(function(){return r(d[1])(function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{viewAreaCoveragePercentThreshold:0};r(d[0])(this,t),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=n},[{key:"dispose",value:function(){this._timers.forEach(clearTimeout)}},{key:"computeViewableItems",value:function(t,s,o,l,c){var h=this._config,u=h.itemVisiblePercentThreshold,v=h.viewAreaCoveragePercentThreshold,f=null!=v,_=f?v:u;r(d[2])(null!=_&&null!=u!=(null!=v),'Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold');var w=[];if(0===t)return w;var b=-1,I=c||{first:0,last:t-1},y=I.first,p=I.last;if(p>=t)return console.warn('Invalid render range computing viewability '+JSON.stringify({renderRange:c,itemCount:t})),[];for(var T=y;T<=p;T++){var k=l(T);if(k){var V=k.offset-s,M=V+k.length;if(V<o&&M>0)b=T,n(f,_,V,M,o,k.length)&&w.push(T);else if(b>=0)break}}return w}},{key:"onUpdate",value:function(t,n,s,o,l,c,h){var u=this;if((!this._config.waitForInteraction||this._hasInteracted)&&0!==t&&o(0)){var v=[];if(t&&(v=this.computeViewableItems(t,n,s,o,h)),this._viewableIndices.length!==v.length||!this._viewableIndices.every(function(t,n){return t===v[n]}))if(this._viewableIndices=v,this._config.minimumViewTime){var f=setTimeout(function(){u._timers.delete(f),u._onUpdateSync(v,c,l)},this._config.minimumViewTime);this._timers.add(f)}else this._onUpdateSync(v,c,l)}}},{key:"resetViewableIndices",value:function(){this._viewableIndices=[]}},{key:"recordInteraction",value:function(){this._hasInteracted=!0}},{key:"_onUpdateSync",value:function(t,n,s){var o=this;t=t.filter(function(t){return o._viewableIndices.includes(t)});var l=this._viewableItems,c=new Map(t.map(function(t){var n=s(t,!0);return[n.key,n]})),h=[];for(var u of c){var v=r(d[3])(u,2),f=v[0],_=v[1];l.has(f)||h.push(_)}for(var w of l){var b=r(d[3])(w,2),I=b[0],y=b[1];c.has(I)||h.push(Object.assign({},y,{isViewable:!1}))}h.length>0&&(this._viewableItems=c,n({viewableItems:Array.from(c.values()),changed:h,viewabilityConfig:this._config}))}}])})();function n(t,n,l,c,h,u){if(o(l,c,h))return!0;var v=s(l,c,h);return 100*(t?v/h:v/u)>=n}function s(t,n,s){var o=Math.min(n,s)-Math.max(t,0);return Math.max(0,o)}function o(t,n,s){return t>=0&&n<=s&&n>t}m.exports=t},266,[12,13,20,22]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.VirtualizedListCellContextProvider=function(t){var r=t.cellKey,i=t.children,l=(0,e.useContext)(n),o=(0,e.useMemo)(function(){return null==l?null:Object.assign({},l,{cellKey:r})},[l,r]);return(0,_r(d[1]).jsx)(n.Provider,{value:o,children:i})},_e.VirtualizedListContext=void 0,_e.VirtualizedListContextProvider=function(t){var r=t.children,i=t.value,l=(0,e.useMemo)(function(){return{cellKey:null,getScrollMetrics:i.getScrollMetrics,horizontal:i.horizontal,getOutermostParentListRef:i.getOutermostParentListRef,getNestedChildState:i.getNestedChildState,registerAsNestedChild:i.registerAsNestedChild,unregisterAsNestedChild:i.unregisterAsNestedChild,debugInfo:{cellKey:i.debugInfo.cellKey,horizontal:i.debugInfo.horizontal,listKey:i.debugInfo.listKey,parent:i.debugInfo.parent}}},[i.getScrollMetrics,i.horizontal,i.getOutermostParentListRef,i.getNestedChildState,i.registerAsNestedChild,i.unregisterAsNestedChild,i.debugInfo.cellKey,i.debugInfo.horizontal,i.debugInfo.listKey,i.debugInfo.parent]);return(0,_r(d[1]).jsx)(n.Provider,{value:l,children:r})},_e.VirtualizedListContextResetter=function(e){var t=e.children;return(0,_r(d[1]).jsx)(n.Provider,{value:null,children:t})};var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(i,o,u):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i})(_r(d[0])),t=e;function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}var n=_e.VirtualizedListContext=t.createContext(null)},267,[119,179]);
__d(function(g,_r,_i,_a,m,_e,d){!(function(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=e(r);if(n&&n.has(t))return n.get(t);var o={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&{}.hasOwnProperty.call(t,u)){var a=f?Object.getOwnPropertyDescriptor(t,u):null;a&&(a.get||a.set)?Object.defineProperty(o,u,a):o[u]=t[u]}o.default=t,n&&n.set(t,o)})(_r(d[0]));function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(e=function(e){return e?n:r})(t)}m.exports=_r(d[1])(_r(d[2]))},268,[119,232,269]);
__d(function(g,_r,_i,_a,m,_e,d){var e=_r(d[0])(_r(d[1])),t=_r(d[0])(_r(d[2])),r=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n})(_r(d[3])),n=_r(d[0])(_r(d[4])),a=_r(d[0])(_r(d[5])),o=_r(d[0])(_r(d[6])),i=_r(d[0])(_r(d[7])),u=_r(d[0])(_r(d[8])),c=_r(d[0])(_r(d[9])),f=_r(d[0])(_r(d[10]));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function s(){return(s=(0,e.default)(function*(e){return yield c.default.queryCache(e)})).apply(this,arguments)}var h=r.forwardRef(function(e,t){var r,n,a=(0,u.default)(e.source)||{uri:void 0,width:void 0,height:void 0};if(Array.isArray(a))n=(0,i.default)([p.base,e.style])||{},r=a;else{var c=a.width,l=a.height,s=a.uri;n=(0,i.default)([{width:c,height:l},p.base,e.style])||{},r=[a],''===s&&console.warn('source.uri should not be an empty string')}var h=e.resizeMode||n.resizeMode||'cover',y=n.tintColor;if(null!=e.src&&console.warn('The <Image> component requires a `source` property rather than `src`.'),null!=e.children)throw new Error('The <Image> component cannot contain children. If you want to render content on top of the image, consider using the <ImageBackground> component or absolute positioning.');return(0,_r(d[11]).jsx)(o.default.Consumer,{children:function(a){return(0,_r(d[11]).jsx)(f.default,Object.assign({},e,{ref:t,style:n,resizeMode:h,tintColor:y,source:r,internal_analyticTag:a}))}})});null!=a.default.unstable_createImageComponent&&(h=a.default.unstable_createImageComponent(h)),h.displayName='Image',h.getSize=function(e,r,n){c.default.getSize(e).then(function(e){var n=(0,t.default)(e,2),a=n[0],o=n[1];return r(a,o)}).catch(n||function(){console.warn('Failed to get size for image '+e)})},h.getSizeWithHeaders=function(e,t,r,n){return c.default.getSizeWithHeaders(e,t).then(function(e){r(e.width,e.height)}).catch(n||function(){console.warn('Failed to get size for image: '+e)})},h.prefetch=function(e){return c.default.prefetchImage(e)},h.prefetchWithMetadata=function(e,t,r){return c.default.prefetchImageWithMetadata?c.default.prefetchImageWithMetadata(e,t,r||0):c.default.prefetchImage(e)},h.queryCache=function(e){return s.apply(this,arguments)},h.resolveAssetSource=u.default;var p=n.default.create({base:{overflow:'hidden'}});m.exports=h},269,[3,270,22,119,175,271,274,169,154,275,272,179]);
__d(function(g,_r,_i,_a,m,_e,d){function n(n,t,e,o,r,u,i){try{var c=n[u](i),s=c.value}catch(n){return void e(n)}c.done?t(s):Promise.resolve(s).then(o,r)}m.exports=function(t){return function(){var e=this,o=arguments;return new Promise(function(r,u){var i=t.apply(e,o);function c(t){n(i,r,u,c,s,"next",t)}function s(t){n(i,r,u,c,s,"throw",t)}c(void 0)})}},m.exports.__esModule=!0,m.exports.default=m.exports},270,[]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;(function(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=e(r);if(n&&n.has(t))return n.get(t);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&{}.hasOwnProperty.call(t,a)){var f=u?Object.getOwnPropertyDescriptor(t,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=t[a]}o.default=t,n&&n.set(t,o)})(_r(d[0])),_r(d[1])(_r(d[2])),_r(d[1])(_r(d[3]));function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(e=function(e){return e?n:r})(t)}_e.default={unstable_createImageComponent:null}},271,[119,3,272,273]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o(r);if(t&&t.has(e))return t.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}return a.default=e,t&&t.set(e,a),a})(_r(d[0])),r=_r(d[1])(_r(d[2]));function o(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(o=function(e){return e?t:r})(e)}var t=_e.__INTERNAL_VIEW_CONFIG='android'===r.default.OS?{uiViewClassName:'RCTImageView',bubblingEventTypes:{},directEventTypes:{topLoadStart:{registrationName:'onLoadStart'},topProgress:{registrationName:'onProgress'},topError:{registrationName:'onError'},topLoad:{registrationName:'onLoad'},topLoadEnd:{registrationName:'onLoadEnd'}},validAttributes:{blurRadius:!0,internal_analyticTag:!0,resizeMode:!0,tintColor:{process:_r(d[3])},borderBottomLeftRadius:!0,borderTopLeftRadius:!0,resizeMethod:!0,src:!0,borderRadius:!0,headers:!0,shouldNotifyLoadEvents:!0,defaultSrc:!0,overlayColor:{process:_r(d[3])},borderColor:{process:_r(d[3])},accessible:!0,progressiveRenderingEnabled:!0,fadeDuration:!0,borderBottomRightRadius:!0,borderTopRightRadius:!0,loadingIndicatorSrc:!0}}:{uiViewClassName:'RCTImageView',bubblingEventTypes:{},directEventTypes:{topLoadStart:{registrationName:'onLoadStart'},topProgress:{registrationName:'onProgress'},topError:{registrationName:'onError'},topPartialLoad:{registrationName:'onPartialLoad'},topLoad:{registrationName:'onLoad'},topLoadEnd:{registrationName:'onLoadEnd'}},validAttributes:Object.assign({blurRadius:!0,capInsets:{diff:_r(d[4])},defaultSource:{process:_r(d[5])},internal_analyticTag:!0,resizeMode:!0,source:!0,tintColor:{process:_r(d[3])}},(0,_r(d[6]).ConditionallyIgnoredEventHandlers)({onLoadStart:!0,onLoad:!0,onLoadEnd:!0,onProgress:!0,onError:!0,onPartialLoad:!0}))},a=e.get('RCTImageView',function(){return t});_e.default=a},272,[138,3,17,133,152,154,137]);
__d(function(g,_r,_i,_a,m,_e,d){'use strict';Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(u,o,a):u[o]=e[o]}return u.default=e,n&&n.set(e,u),u})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}var r=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:'RCTTextInlineImage',bubblingEventTypes:{},directEventTypes:{},validAttributes:{resizeMode:!0,src:!0,tintColor:{process:_r(d[1])},headers:!0}},n=e.get('RCTTextInlineImage',function(){return r});_e.default=n},273,[138,133]);
__d(function(g,_r,_i,_a,m,_e,d){function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(e=function(e){return e?n:r})(t)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=e(r);if(n&&n.has(t))return n.get(t);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in t)if("default"!==f&&{}.hasOwnProperty.call(t,f)){var a=o?Object.getOwnPropertyDescriptor(t,f):null;a&&(a.get||a.set)?Object.defineProperty(u,f,a):u[f]=t[f]}return u.default=t,n&&n.set(t,u),u})(_r(d[0])).createContext(null);_e.default=t},274,[119]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=e[f]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.getEnforcing('ImageLoader')},275,[19]);
__d(function(g,_r,_i,_a,m,_e,d){function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(e=function(e){return e?n:r})(t)}var t=(function(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=e(r);if(n&&n.has(t))return n.get(t);var o={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&{}.hasOwnProperty.call(t,u)){var a=f?Object.getOwnPropertyDescriptor(t,u):null;a&&(a.get||a.set)?Object.defineProperty(o,u,a):o[u]=t[u]}return o.default=t,n&&n.set(t,o),o})(_r(d[0])).forwardRef(function(e,t){return(0,_r(d[1]).jsx)(_r(d[2]),Object.assign({scrollEventThrottle:1e-4},e,{ref:t}))});m.exports=_r(d[3])(t)},276,[119,179,244,232]);
__d(function(g,_r,_i,_a,m,_e,d){var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var a=f?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(o,u,a):o[u]=e[u]}return o.default=e,n&&n.set(e,o),o})(_r(d[0])),t=_r(d[1])(_r(d[2]));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}var n=e.forwardRef(function(e,r){return(0,_r(d[3]).jsx)(t.default,Object.assign({scrollEventThrottle:1e-4},e,{ref:r}))});m.exports=_r(d[4])(n)},277,[119,3,278,179,232]);
__d(function(g,_r,_i,_a,m,_e,d){'use strict';Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=_r(d[0])(_r(d[1])),t=_r(d[0])(_r(d[2])),r=_r(d[0])(_r(d[3])),n=_r(d[0])(_r(d[4])),a=_r(d[0])(_r(d[5])),i=_r(d[0])(_r(d[6])),o=_r(d[0])(_r(d[7])),f=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n})(_r(d[8])),u=_r(d[0])(_r(d[9])),l=["stickySectionHeadersEnabled"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}_e.default=(function(f){function s(){var e,r,i,o;(0,t.default)(this,s);for(var f=arguments.length,u=new Array(f),l=0;l<f;l++)u[l]=arguments[l];return r=this,i=s,o=[].concat(u),i=(0,a.default)(i),(e=(0,n.default)(r,c()?Reflect.construct(i,o||[],(0,a.default)(r).constructor):i.apply(r,o)))._captureRef=function(t){e._wrapperListRef=t},e}return(0,i.default)(s,f),(0,r.default)(s,[{key:"scrollToLocation",value:function(e){null!=this._wrapperListRef&&this._wrapperListRef.scrollToLocation(e)}},{key:"recordInteraction",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.recordInteraction()}},{key:"flashScrollIndicators",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollResponder()}},{key:"getScrollableNode",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollableNode()}},{key:"setNativeProps",value:function(e){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();t&&t.setNativeProps(e)}},{key:"render",value:function(){var t=this.props,r=t.stickySectionHeadersEnabled,n=(0,e.default)(t,l),a=null!=r?r:'ios'===o.default.OS;return(0,_r(d[10]).jsx)(u.default,Object.assign({},n,{stickySectionHeadersEnabled:a,ref:this._captureRef,getItemCount:function(e){return e.length},getItem:function(e,t){return e[t]}}))}}])})(f.PureComponent)},278,[3,91,12,13,45,44,47,17,119,279,179]);
__d(function(g,_r,_i,_a,m,_e,d){var e=_r(d[0])(_r(d[1])),t=_r(d[0])(_r(d[2])),n=_r(d[0])(_r(d[3])),r=_r(d[0])(_r(d[4])),i=_r(d[0])(_r(d[5])),o=_r(d[0])(_r(d[6])),a=_r(d[0])(_r(d[7])),l=_r(d[0])(_r(d[8])),s=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r})(_r(d[9])),u=_r(d[10]),c=["ItemSeparatorComponent","SectionSeparatorComponent","renderItem","renderSectionFooter","renderSectionHeader","sections","stickySectionHeadersEnabled"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}var h=(function(e){function s(){var e,t,r,a;(0,n.default)(this,s);for(var u=arguments.length,c=new Array(u),p=0;p<u;p++)c[p]=arguments[p];return t=this,r=s,a=[].concat(c),r=(0,o.default)(r),(e=(0,i.default)(t,f()?Reflect.construct(r,a||[],(0,o.default)(t).constructor):r.apply(t,a)))._keyExtractor=function(t,n){var r=e._subExtractor(n);return r&&r.key||String(n)},e._convertViewable=function(t){var n;(0,l.default)(null!=t.index,'Received a broken ViewToken');var r=e._subExtractor(t.index);if(!r)return null;var i=r.section.keyExtractor,o=e.props.keyExtractor||_r(d[11]).keyExtractor,a=null!=i?i(t.item,r.index):o(t.item,null!=(n=r.index)?n:0);return Object.assign({},t,{index:r.index,key:a,section:r.section})},e._onViewableItemsChanged=function(t){var n=t.viewableItems,r=t.changed,i=e.props.onViewableItemsChanged;null!=i&&i({viewableItems:n.map(e._convertViewable,e).filter(Boolean),changed:r.map(e._convertViewable,e).filter(Boolean)})},e._renderItem=function(t){return function(n){var r=n.item,i=n.index,o=e._subExtractor(i);if(!o)return null;var a=o.index;if(null==a){var s=o.section;if(!0===o.header){var u=e.props.renderSectionHeader;return u?u({section:s}):null}var c=e.props.renderSectionFooter;return c?c({section:s}):null}var p=o.section.renderItem||e.props.renderItem,f=e._getSeparatorComponent(i,o,t);return(0,l.default)(p,'no renderItem!'),(0,_r(d[12]).jsx)(v,{SeparatorComponent:f,LeadingSeparatorComponent:0===a?e.props.SectionSeparatorComponent:void 0,cellKey:o.key,index:a,item:r,leadingItem:o.leadingItem,leadingSection:o.leadingSection,prevCellKey:(e._subExtractor(i-1)||{}).key,setSelfHighlightCallback:e._setUpdateHighlightFor,setSelfUpdatePropsCallback:e._setUpdatePropsFor,updateHighlightFor:e._updateHighlightFor,updatePropsFor:e._updatePropsFor,renderItem:p,section:o.section,trailingItem:o.trailingItem,trailingSection:o.trailingSection,inverted:!!e.props.inverted})}},e._updatePropsFor=function(t,n){var r=e._updatePropsMap[t];null!=r&&r(n)},e._updateHighlightFor=function(t,n){var r=e._updateHighlightMap[t];null!=r&&r(n)},e._setUpdateHighlightFor=function(t,n){null!=n?e._updateHighlightMap[t]=n:delete e._updateHighlightFor[t]},e._setUpdatePropsFor=function(t,n){null!=n?e._updatePropsMap[t]=n:delete e._updatePropsMap[t]},e._updateHighlightMap={},e._updatePropsMap={},e._captureRef=function(t){e._listRef=t},e}return(0,a.default)(s,e),(0,r.default)(s,[{key:"scrollToLocation",value:function(e){for(var t=e.itemIndex,n=0;n<e.sectionIndex;n++)t+=this.props.getItemCount(this.props.sections[n].data)+2;var r=e.viewOffset||0;if(null!=this._listRef){if(e.itemIndex>0&&this.props.stickySectionHeadersEnabled)r+=this._listRef.__getFrameMetricsApprox(t-e.itemIndex).length;var i=Object.assign({},e,{viewOffset:r,index:t});this._listRef.scrollToIndex(i)}}},{key:"getListRef",value:function(){return this._listRef}},{key:"render",value:function(){var e=this,n=this.props,r=(n.ItemSeparatorComponent,n.SectionSeparatorComponent,n.renderItem,n.renderSectionFooter,n.renderSectionHeader,n.sections,n.stickySectionHeadersEnabled,(0,t.default)(n,c)),i=this.props.ListHeaderComponent?1:0,o=this.props.stickySectionHeadersEnabled?[]:void 0,a=0;for(var l of this.props.sections)null!=o&&o.push(a+i),a+=2,a+=this.props.getItemCount(l.data);var s=this._renderItem(a);return(0,_r(d[12]).jsx)(u.VirtualizedList,Object.assign({},r,{keyExtractor:this._keyExtractor,stickyHeaderIndices:o,renderItem:s,data:this.props.sections,getItem:function(t,n){return e._getItem(e.props,t,n)},getItemCount:function(){return a},onViewableItemsChanged:this.props.onViewableItemsChanged?this._onViewableItemsChanged:void 0,ref:this._captureRef}))}},{key:"_getItem",value:function(e,t,n){if(!t)return null;for(var r=n-1,i=0;i<t.length;i++){var o=t[i],a=o.data,l=e.getItemCount(a);if(-1===r||r===l)return o;if(r<l)return e.getItem(a,r);r-=l+2}return null}},{key:"_subExtractor",value:function(e){for(var t=e,n=this.props,r=n.getItem,i=n.getItemCount,o=n.keyExtractor,a=n.sections,l=0;l<a.length;l++){var s=a[l],u=s.data,c=s.key||String(l);if((t-=1)>=i(u)+1)t-=i(u)+1;else return-1===t?{section:s,key:c+':header',index:null,header:!0,trailingSection:a[l+1]}:t===i(u)?{section:s,key:c+':footer',index:null,header:!1,trailingSection:a[l+1]}:{section:s,key:c+':'+(s.keyExtractor||o||_r(d[11]).keyExtractor)(r(u,t),t),index:t,leadingItem:r(u,t-1),leadingSection:a[l-1],trailingItem:r(u,t+1),trailingSection:a[l+1]}}}},{key:"_getSeparatorComponent",value:function(e,t,n){if(!(t=t||this._subExtractor(e)))return null;var r=t.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent,i=this.props.SectionSeparatorComponent,o=e===n-1,a=t.index===this.props.getItemCount(t.section.data)-1;return i&&a?i:!r||a||o?null:r}}])})(s.PureComponent);function v(t){var n=t.LeadingSeparatorComponent,r=t.SeparatorComponent,i=t.cellKey,o=t.prevCellKey,a=t.setSelfHighlightCallback,l=t.updateHighlightFor,c=t.setSelfUpdatePropsCallback,p=t.updatePropsFor,f=t.item,h=t.index,v=t.section,S=t.inverted,_=s.useState(!1),I=(0,e.default)(_,2),y=I[0],x=I[1],b=s.useState(!1),k=(0,e.default)(b,2),C=k[0],H=k[1],w=s.useState({leadingItem:t.leadingItem,leadingSection:t.leadingSection,section:t.section,trailingItem:t.item,trailingSection:t.trailingSection}),E=(0,e.default)(w,2),P=E[0],j=E[1],O=s.useState({leadingItem:t.item,leadingSection:t.leadingSection,section:t.section,trailingItem:t.trailingItem,trailingSection:t.trailingSection}),F=(0,e.default)(O,2),M=F[0],R=F[1];s.useEffect(function(){return a(i,H),c(i,R),function(){c(i,null),a(i,null)}},[i,a,R,c]);var V={highlight:function(){x(!0),H(!0),null!=o&&l(o,!0)},unhighlight:function(){x(!1),H(!1),null!=o&&l(o,!1)},updateProps:function(e,t){'leading'===e?null!=n?j(Object.assign({},P,t)):null!=o&&p(o,Object.assign({},P,t)):'trailing'===e&&null!=r&&R(Object.assign({},M,t))}},L=t.renderItem({item:f,index:h,section:v,separators:V}),U=null!=n&&(0,_r(d[12]).jsx)(n,Object.assign({highlighted:y},P)),B=null!=r&&(0,_r(d[12]).jsx)(r,Object.assign({highlighted:C},M));return U||B?(0,_r(d[12]).jsxs)(u.View,{children:[!1===S?U:B,L,!1===S?B:U]}):L}m.exports=h},279,[3,22,91,12,13,45,44,47,20,119,1,242,179]);
__d(function(g,_r,_i,_a,m,_e,d){!(function(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=e(r);if(n&&n.has(t))return n.get(t);var o={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&{}.hasOwnProperty.call(t,u)){var a=f?Object.getOwnPropertyDescriptor(t,u):null;a&&(a.get||a.set)?Object.defineProperty(o,u,a):o[u]=t[u]}o.default=t,n&&n.set(t,o)})(_r(d[0]));function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(e=function(e){return e?n:r})(t)}m.exports=_r(d[1])(_r(d[2]))},280,[119,232,188]);
__d(function(g,_r,_i,_a,m,_e,d){!(function(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=e(r);if(n&&n.has(t))return n.get(t);var o={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&{}.hasOwnProperty.call(t,u)){var a=f?Object.getOwnPropertyDescriptor(t,u):null;a&&(a.get||a.set)?Object.defineProperty(o,u,a):o[u]=t[u]}o.default=t,n&&n.set(t,o)})(_r(d[0]));function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(e=function(e){return e?n:r})(t)}m.exports=_r(d[1])(_r(d[2]))},281,[119,232,176]);
__d(function(g,r,i,a,m,e,d){'use strict';var n={};m.exports=function(o,t){n[o]||(console.warn(t),n[o]=!0)}},282,[]);
__d(function(g,_r,_i,_a,m,_e,d){var e=_r(d[0])(_r(d[1])),t=_r(d[0])(_r(d[2])),n=_r(d[0])(_r(d[3])),i=_r(d[0])(_r(d[4])),a=_r(d[0])(_r(d[5])),r=p(_r(d[6])),o=p(_r(d[7])),u=_r(d[0])(_r(d[8])),c=_r(d[0])(_r(d[9])),l=_r(d[0])(_r(d[10]));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(i,r,o):i[r]=e[r]}return i.default=e,n&&n.set(e,i),i}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}var h=(function(r){function u(){var t,a,r,o;(0,e.default)(this,u);for(var c=arguments.length,l=new Array(c),f=0;f<c;f++)l[f]=arguments[f];return a=this,r=u,o=[].concat(l),r=(0,i.default)(r),(t=(0,n.default)(a,s()?Reflect.construct(r,o||[],(0,i.default)(a).constructor):r.apply(a,o)))._picker=null,t._onChange=function(e){var n=e.nativeEvent.timestamp;t.props.onDateChange&&t.props.onDateChange(new Date(n)),t.props.onChange&&t.props.onChange(e),t.forceUpdate()},t}return(0,a.default)(u,r),(0,t.default)(u,[{key:"componentDidUpdate",value:function(){if(this.props.date){var e=this.props.date.getTime();this._picker&&o.Commands.setNativeDate(this._picker,e)}}},{key:"render",value:function(){var e,t=this,n=this.props,i=null!=(e=n.mode)?e:'datetime';return(0,l.default)(n.date||n.initialDate,'A selected date or initial date should be specified.'),(0,_r(d[11]).jsx)(c.default,{style:n.style,children:(0,_r(d[11]).jsx)(o.default,{testID:n.testID,ref:function(e){t._picker=e},style:k(n.pickerStyle,i),date:n.date?n.date.getTime():n.initialDate?n.initialDate.getTime():void 0,locale:null!=n.locale&&''!==n.locale?n.locale:void 0,maximumDate:n.maximumDate?n.maximumDate.getTime():void 0,minimumDate:n.minimumDate?n.minimumDate.getTime():void 0,mode:i,minuteInterval:n.minuteInterval,timeZoneOffsetInMinutes:n.timeZoneOffsetInMinutes,onChange:this._onChange,onStartShouldSetResponder:function(){return!0},onResponderTerminationRequest:function(){return!1},pickerStyle:n.pickerStyle})})}}])})(r.Component),v=u.default.create({datePickerIOS:{height:216},datePickerIOSCompact:{height:40},datePickerIOSInline:{height:417.5},datePickerIOSInlineDate:{height:368},datePickerIOSInlineTime:{height:49.5}});function k(e,t){if('compact'===e)return v.datePickerIOSCompact;if('inline'===e)switch(t){case'date':return v.datePickerIOSInlineDate;case'time':return v.datePickerIOSInlineTime;default:return v.datePickerIOSInline}return v.datePickerIOS}m.exports=h},283,[3,12,13,45,44,47,119,284,175,176,20,179]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.Commands=void 0;var e=_r(d[0])(_r(d[1])),t=_r(d[0])(_r(d[2]));!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var f=o?Object.getOwnPropertyDescriptor(e,u):null;f&&(f.get||f.set)?Object.defineProperty(a,u,f):a[u]=e[u]}a.default=e,n&&n.set(e,a)})(_r(d[3]));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}_e.Commands=(0,e.default)({supportedCommands:['setNativeDate']}),_e.default=(0,t.default)('DatePicker',{paperComponentName:'RCTDatePicker',excludedPlatforms:['android']})},284,[3,126,184,119]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},285,[182]);
__d(function(g,_r,_i,_a,m,_e,d){'use strict';var e=_r(d[0])(_r(d[1])),t=_r(d[0])(_r(d[2])),r=_r(d[0])(_r(d[3])),n=_r(d[0])(_r(d[4])),u=_r(d[0])(_r(d[5])),a=_r(d[0])(_r(d[6])),l=_r(d[0])(_r(d[7])),i=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=u?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n})(_r(d[8])),o=_r(d[0])(_r(d[9])),f=_r(d[0])(_r(d[10])),c=_r(d[0])(_r(d[11])),s=["children","style","imageStyle","imageRef"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}var y=(function(i){function p(){var e,r,a,l;(0,t.default)(this,p);for(var i=arguments.length,o=new Array(i),f=0;f<i;f++)o[f]=arguments[f];return r=this,a=p,l=[].concat(o),a=(0,u.default)(a),(e=(0,n.default)(r,v()?Reflect.construct(a,l||[],(0,u.default)(r).constructor):a.apply(r,l)))._viewRef=null,e._captureRef=function(t){e._viewRef=t},e}return(0,a.default)(p,i),(0,r.default)(p,[{key:"setNativeProps",value:function(e){var t=this._viewRef;t&&t.setNativeProps(e)}},{key:"render",value:function(){var t=this.props,r=t.children,n=t.style,u=t.imageStyle,a=t.imageRef,i=(0,e.default)(t,s),p=(0,f.default)(n);return(0,_r(d[12]).jsxs)(c.default,{accessibilityIgnoresInvertColors:!0,style:n,ref:this._captureRef,children:[(0,_r(d[12]).jsx)(l.default,Object.assign({},i,{style:[o.default.absoluteFill,{width:null==p?void 0:p.width,height:null==p?void 0:p.height},u],ref:a})),r]})}}])})(i.Component);m.exports=y},286,[3,91,12,13,45,44,47,269,119,175,169,176,179]);
__d(function(g,_r,_i,_a,m,_e,d){var t=_r(d[0])(_r(d[1])),e=_r(d[0])(_r(d[2])),n=_r(d[0])(_r(d[3])),r=_r(d[0])(_r(d[4])),o=_r(d[0])(_r(d[5])),u=(function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=i(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&{}.hasOwnProperty.call(t,u)){var l=o?Object.getOwnPropertyDescriptor(t,u):null;l&&(l.get||l.set)?Object.defineProperty(r,u,l):r[u]=t[u]}return r.default=t,n&&n.set(t,r),r})(_r(d[6])),l=_r(d[0])(_r(d[7])),a=_r(d[0])(_r(d[8])),c=_r(d[0])(_r(d[9]));function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(i=function(t){return t?n:e})(t)}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}var p=(function(a){function i(){return(0,t.default)(this,i),e=this,o=i,u=arguments,o=(0,r.default)(o),(0,n.default)(e,f()?Reflect.construct(o,u||[],(0,r.default)(e).constructor):o.apply(e,u));var e,o,u}return(0,o.default)(i,a),(0,e.default)(i,[{key:"render",value:function(){return'ios'===l.default.OS?0===u.Children.count(this.props.children)?null:(0,_r(d[10]).jsx)(c.default,{style:[this.props.style,s.container],nativeID:this.props.nativeID,backgroundColor:this.props.backgroundColor,children:this.props.children}):(console.warn('<InputAccessoryView> is only supported on iOS.'),null)}}])})(u.Component),s=a.default.create({container:{position:'absolute'}});m.exports=p},287,[3,12,13,45,44,47,119,17,175,288,179]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1]));e.default=(0,t.default)('InputAccessory',{interfaceOnly:!0,paperComponentName:'RCTInputAccessoryView',excludedPlatforms:['android']})},288,[3,184]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=_r(d[0])(_r(d[1])),t=_r(d[0])(_r(d[2])),n=_r(d[0])(_r(d[3])),a=_r(d[0])(_r(d[4])),o=_r(d[0])(_r(d[5])),r=_r(d[0])(_r(d[6])),i=_r(d[0])(_r(d[7])),u=_r(d[0])(_r(d[8])),s=_r(d[0])(_r(d[9])),l=_r(d[0])(_r(d[10])),f=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a})(_r(d[11])),c=_r(d[0])(_r(d[12])),y=_r(d[0])(_r(d[13])),h=_r(d[0])(_r(d[14])),p=["behavior","children","contentContainerStyle","enabled","keyboardVerticalOffset","style","onLayout"];function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_=function(){return!!e})()}var v=(function(b){function v(e){var a,i,u,l,c;return(0,n.default)(this,v),i=this,u=v,l=[e],u=(0,r.default)(u),(a=(0,o.default)(i,_()?Reflect.construct(u,l||[],(0,r.default)(i).constructor):u.apply(i,l)))._frame=null,a._keyboardEvent=null,a._subscriptions=[],a._initialFrameHeight=0,a._onKeyboardChange=function(e){a._keyboardEvent=e,a._updateBottomIfNecessary()},a._onLayout=(c=(0,t.default)(function*(e){var t=null==a._frame;a._frame=e.nativeEvent.layout,a._initialFrameHeight||(a._initialFrameHeight=a._frame.height),t&&(yield a._updateBottomIfNecessary()),a.props.onLayout&&a.props.onLayout(e)}),function(e){return c.apply(this,arguments)}),a._updateBottomIfNecessary=(0,t.default)(function*(){if(null!=a._keyboardEvent){var e=a._keyboardEvent,t=e.duration,n=e.easing,o=e.endCoordinates,r=yield a._relativeKeyboardHeight(o);a.state.bottom!==r&&(t&&n&&s.default.configureNext({duration:t>10?t:10,update:{duration:t>10?t:10,type:s.default.Types[n]||'keyboard'}}),a.setState({bottom:r}))}else a.setState({bottom:0})}),a.state={bottom:0},a.viewRef=f.createRef(),a}return(0,i.default)(v,b),(0,a.default)(v,[{key:"_relativeKeyboardHeight",value:(function(){var e=(0,t.default)(function*(e){var t,n=this._frame;if(!n||!e)return 0;if('ios'===l.default.OS&&0===e.screenY&&(yield h.default.prefersCrossFadeTransitions()))return 0;var a=e.screenY-(null!=(t=this.props.keyboardVerticalOffset)?t:0);return Math.max(n.y+n.height-a,0)});return function(t){return e.apply(this,arguments)}})()},{key:"componentDidMount",value:function(){'ios'===l.default.OS?this._subscriptions=[u.default.addListener('keyboardWillChangeFrame',this._onKeyboardChange)]:this._subscriptions=[u.default.addListener('keyboardDidHide',this._onKeyboardChange),u.default.addListener('keyboardDidShow',this._onKeyboardChange)]}},{key:"componentWillUnmount",value:function(){this._subscriptions.forEach(function(e){e.remove()})}},{key:"render",value:function(){var t=this.props,n=t.behavior,a=t.children,o=t.contentContainerStyle,r=t.enabled,i=void 0===r||r,u=(t.keyboardVerticalOffset,t.style),s=(t.onLayout,(0,e.default)(t,p)),l=!0===i?this.state.bottom:0;switch(n){case'height':var f;return null!=this._frame&&this.state.bottom>0&&(f={height:this._initialFrameHeight-l,flex:0}),(0,_r(d[15]).jsx)(y.default,Object.assign({ref:this.viewRef,style:c.default.compose(u,f),onLayout:this._onLayout},s,{children:a}));case'position':return(0,_r(d[15]).jsx)(y.default,Object.assign({ref:this.viewRef,style:u,onLayout:this._onLayout},s,{children:(0,_r(d[15]).jsx)(y.default,{style:c.default.compose(o,{bottom:l}),children:a})}));case'padding':return(0,_r(d[15]).jsx)(y.default,Object.assign({ref:this.viewRef,style:c.default.compose(u,{paddingBottom:l}),onLayout:this._onLayout},s,{children:a}));default:return(0,_r(d[15]).jsx)(y.default,Object.assign({ref:this.viewRef,onLayout:this._onLayout,style:u},s,{children:a}))}}}])})(f.Component);_e.default=v},289,[3,91,270,12,13,45,44,47,246,247,17,119,175,176,2,179]);
__d(function(g,_r,_i,_a,m,_e,d){var e=_r(d[0])(_r(d[1])),t=_r(d[0])(_r(d[2])),n=_r(d[0])(_r(d[3])),r=_r(d[0])(_r(d[4])),a=_r(d[0])(_r(d[5])),l=_r(d[0])(_r(d[6])),o=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}return r.default=e,n&&n.set(e,r),r})(_r(d[7])),u=_r(d[0])(_r(d[8])),i=_r(d[0])(_r(d[9])),s=_r(d[0])(_r(d[10])),c=["maskElement","children"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}var v=(function(f){function v(){var e,n,l,o;(0,t.default)(this,v);for(var u=arguments.length,i=new Array(u),s=0;s<u;s++)i[s]=arguments[s];return n=this,l=v,o=[].concat(i),l=(0,a.default)(l),(e=(0,r.default)(n,p()?Reflect.construct(l,o||[],(0,a.default)(n).constructor):l.apply(n,o)))._hasWarnedInvalidRenderMask=!1,e}return(0,l.default)(v,f),(0,n.default)(v,[{key:"render",value:function(){var t=this.props,n=t.maskElement,r=t.children,a=(0,e.default)(t,c);return o.isValidElement(n)?(0,_r(d[11]).jsxs)(s.default,Object.assign({},a,{children:[(0,_r(d[11]).jsx)(i.default,{pointerEvents:"none",style:u.default.absoluteFill,children:n}),r]})):(this._hasWarnedInvalidRenderMask||(console.warn("MaskedView: Invalid `maskElement` prop was passed to MaskedView. Expected a React Element. No mask will render."),this._hasWarnedInvalidRenderMask=!0),(0,_r(d[11]).jsx)(i.default,Object.assign({},a,{children:r})))}}])})(o.Component);m.exports=v},290,[3,91,12,13,45,44,47,119,175,176,291,179]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1]));e.default=(0,t.default)('RCTMaskedView')},291,[3,184]);
__d(function(g,r,i,a,m,_e,d){var t,e=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),s=r(d[0])(r(d[3])),o=r(d[0])(r(d[4])),l=r(d[0])(r(d[5])),p=r(d[0])(r(d[6])),u=r(d[0])(r(d[7])),c=r(d[0])(r(d[8])),h=r(d[0])(r(d[9])),f=r(d[0])(r(d[10]));function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(v=function(){return!!t})()}var y=r(d[11]),S=null!=h.default?new c.default(h.default):null,b=0,D=(function(t){function e(t){var s,p,u,c;return(0,n.default)(this,e),p=this,u=e,c=[t],u=(0,l.default)(u),(s=(0,o.default)(p,v()?Reflect.construct(u,c||[],(0,l.default)(p).constructor):u.apply(p,c)))._identifier=b++,s}return(0,p.default)(e,t),(0,s.default)(e,[{key:"componentDidMount",value:function(){var t=this;S&&(this._eventSubscription=S.addListener('modalDismissed',function(e){e.modalID===t._identifier&&t.props.onDismiss&&t.props.onDismiss()}))}},{key:"componentWillUnmount",value:function(){this._eventSubscription&&this._eventSubscription.remove()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var t=this;if(!0!==this.props.visible)return null;var e={backgroundColor:!0===this.props.transparent?'transparent':'white'},n=this.props.animationType||'none',s=this.props.presentationStyle;s||(s='fullScreen',!0===this.props.transparent&&(s='overFullScreen'));var o=this.props.children;return(0,r(d[12]).jsx)(f.default,{animationType:n,presentationStyle:s,transparent:this.props.transparent,hardwareAccelerated:this.props.hardwareAccelerated,onRequestClose:this.props.onRequestClose,onShow:this.props.onShow,onDismiss:function(){t.props.onDismiss&&t.props.onDismiss()},visible:this.props.visible,statusBarTranslucent:this.props.statusBarTranslucent,identifier:this._identifier,style:x.modal,onStartShouldSetResponder:this._shouldSetResponder,supportedOrientations:this.props.supportedOrientations,onOrientationChange:this.props.onOrientationChange,testID:this.props.testID,children:(0,r(d[12]).jsx)(r(d[13]).VirtualizedListContextResetter,{children:(0,r(d[12]).jsx)(r(d[14]).Context.Provider,{value:null,children:(0,r(d[12]).jsx)(r(d[15]),{style:[x.container,e],collapsable:!1,children:o})})})})}},{key:"_shouldSetResponder",value:function(){return!0}}])})(y.Component);D.defaultProps={visible:!0,hardwareAccelerated:!1},D.contextType=r(d[16]).RootTagContext;var _=r(d[17]).getConstants().isRTL?'right':'left',x=r(d[18]).create({modal:{position:'absolute'},container:(0,e.default)((0,e.default)((0,e.default)({},_,0),"top",0),"flex",1)}),C=null!=(t=u.default.unstable_Modal)?t:D;m.exports=C},292,[3,240,12,13,45,44,47,293,93,294,295,119,179,267,244,176,296,297,175]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={unstable_Modal:null}},293,[]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=u?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('ModalManager')},294,[19]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(d[0])(r(d[1]));e.default=(0,o.default)('ModalHostView',{interfaceOnly:!0,paperComponentName:'RCTModalHostView'})},295,[3,184]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.RootTagContext=void 0,_e.createRootTag=function(e){return e};var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=u?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.RootTagContext=e.createContext(0)},296,[119]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),n=(function(){if(t.default){var n=t.default.getConstants(),f=n.isRTL,L=n.doLeftAndRightSwapInRTL,R=n.localeIdentifier;return{isRTL:f,doLeftAndRightSwapInRTL:L,localeIdentifier:R}}return{isRTL:!1,doLeftAndRightSwapInRTL:!0}})();m.exports={getConstants:function(){return n},allowRTL:function(n){t.default&&t.default.allowRTL(n)},forceRTL:function(n){t.default&&t.default.forceRTL(n)},swapLeftAndRightInRTL:function(n){t.default&&t.default.swapLeftAndRightInRTL(n)},isRTL:n.isRTL,doLeftAndRightSwapInRTL:n.doLeftAndRightSwapInRTL}},297,[3,298]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=o?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(u,a,f):u[a]=e[a]}return u.default=e,n&&n.set(e,u),u})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('I18nManager')},298,[19]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=_r(d[0])(_r(d[1])),n=_r(d[0])(_r(d[2])),s=(function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=u(n);if(s&&s.has(e))return s.get(e);var r={__proto__:null},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var l=t?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}return r.default=e,s&&s.set(e,r),r})(_r(d[3])),r=s,t=_r(d[0])(_r(d[4])),o=_r(d[0])(_r(d[5])),l=_r(d[0])(_r(d[6])),a=["accessible","android_disableSound","android_ripple","cancelable","children","delayHoverIn","delayHoverOut","delayLongPress","disabled","focusable","hitSlop","onHoverIn","onHoverOut","onLongPress","onPress","onPressIn","onPressOut","pressRetentionOffset","style","testOnly_pressed","unstable_pressDelay"];function u(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,s=new WeakMap;return(u=function(e){return e?s:n})(e)}var i=r.memo(r.forwardRef(function(r,u){var i=r.accessible,c=r.android_disableSound,f=r.android_ripple,p=r.cancelable,b=r.children,y=r.delayHoverIn,v=r.delayHoverOut,P=r.delayLongPress,O=r.disabled,_=r.focusable,H=r.hitSlop,I=r.onHoverIn,S=r.onHoverOut,j=r.onLongPress,h=r.onPress,M=r.onPressIn,w=r.onPressOut,L=r.pressRetentionOffset,R=r.style,D=r.testOnly_pressed,k=r.unstable_pressDelay,W=(0,n.default)(r,a),x=(0,s.useRef)(null);(0,s.useImperativeHandle)(u,function(){return x.current});var N=(0,t.default)(f,x),q=(J=!0===D,K=(0,s.useState)(!1),Q=(0,e.default)(K,2),[Q[0]||J,Q[1]]),z=(0,e.default)(q,2),A=z[0],B=z[1],C=null!=O?Object.assign({},r.accessibilityState,{disabled:O}):r.accessibilityState,E=Object.assign({},W,null==N?void 0:N.viewProps,{accessible:!1!==i,accessibilityState:C,focusable:!1!==_,hitSlop:H}),F=(0,s.useMemo)(function(){return{cancelable:p,disabled:O,hitSlop:H,pressRectOffset:L,android_disableSound:c,delayHoverIn:y,delayHoverOut:v,delayLongPress:P,delayPressIn:k,onHoverIn:I,onHoverOut:S,onLongPress:j,onPress:h,onPressIn:function(e){null!=N&&N.onPressIn(e),B(!0),null!=M&&M(e)},onPressMove:null==N?void 0:N.onPressMove,onPressOut:function(e){null!=N&&N.onPressOut(e),B(!1),null!=w&&w(e)}}},[c,N,p,y,v,P,O,H,I,S,j,h,M,w,L,B,k]),G=(0,o.default)(F);var J,K,Q;return(0,_r(d[7]).jsxs)(l.default,Object.assign({},E,G,{ref:x,style:'function'==typeof R?R({pressed:A}):R,collapsable:!1,children:['function'==typeof b?b({pressed:A}):b,null]}))}));i.displayName='Pressable';_e.default=i},299,[3,22,91,119,300,190,176,179]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(t,o){var l=null!=t?t:{},u=l.color,a=l.borderless,i=l.radius,s=l.foreground;return(0,r.useMemo)(function(){if('android'===n.Platform.OS&&n.Platform.Version>=21&&(null!=u||null!=a||null!=i)){var r=(0,n.processColor)(u);(0,e.default)(null==r||'number'==typeof r,'Unexpected color given for Ripple color');var t={type:'RippleAndroid',color:r,borderless:!0===a,rippleRadius:i};return{viewProps:!0===s?{nativeForegroundAndroid:t}:{nativeBackgroundAndroid:t},onPressIn:function(e){var n,r,t=o.current;null!=t&&(_r(d[4]).Commands.hotspotUpdate(t,null!=(n=e.nativeEvent.locationX)?n:0,null!=(r=e.nativeEvent.locationY)?r:0),_r(d[4]).Commands.setPressed(t,!0))},onPressMove:function(e){var n,r,t=o.current;null!=t&&_r(d[4]).Commands.hotspotUpdate(t,null!=(n=e.nativeEvent.locationX)?n:0,null!=(r=e.nativeEvent.locationY)?r:0)},onPressOut:function(e){var n=o.current;null!=n&&_r(d[4]).Commands.setPressed(n,!1)}}}return null},[a,u,s,i,o])};var e=_r(d[0])(_r(d[1])),n=_r(d[2]),r=(function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=t(n);if(r&&r.has(e))return r.get(e);var o={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var a=l?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(o,u,a):o[u]=e[u]}return o.default=e,r&&r.set(e,o),o})(_r(d[3]));function t(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,r=new WeakMap;return(t=function(e){return e?r:n})(e)}},300,[3,20,1,119,177]);
__d(function(g,_r,_i,_a,m,_e,d){var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(r);if(t&&t.has(e))return t.get(e);var f={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var a=o?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(f,u,a):f[u]=e[u]}return f.default=e,t&&t.set(e,f),f})(_r(d[0])),r=_r(d[1])(_r(d[2])),t=_r(d[1])(_r(d[3]));function n(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:r})(e)}var f=r.default.create({progressView:{height:2}}),o=e.forwardRef(function(e,r){return(0,_r(d[4]).jsx)(t.default,Object.assign({},e,{style:[f.progressView,e.style],ref:r}))});m.exports=o},301,[119,3,175,302,179]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1]));e.default=(0,t.default)('RCTProgressView')},302,[3,184]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e,t=_r(d[0])(_r(d[1])),r=((function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var u={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=f?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(u,a,o):u[a]=e[a]}u.default=e,r&&r.set(e,u)})(_r(d[2])),_r(d[0])(_r(d[3])));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}e='android'===t.default.OS?r.default:_r(d[4]).default;_e.default=e},303,[3,17,119,176,304]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=r(d[0])(r(d[1]));e.default=(0,f.default)('SafeAreaView',{paperComponentName:'RCTSafeAreaView',interfaceOnly:!0})},304,[3,184]);
__d(function(g,_r,_i,_a,m,_e,d){var e=_r(d[0])(_r(d[1])),t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var u=i?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(a,l,u):a[l]=e[l]}return a.default=e,n&&n.set(e,a),a})(_r(d[2])),n=_r(d[0])(_r(d[3])),a=_r(d[0])(_r(d[4])),i=_r(d[0])(_r(d[5])),l=["value","minimumValue","maximumValue","step","onValueChange","onSlidingComplete"];function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}var u,o=t.forwardRef(function(t,r){var o,s=i.default.compose(u.slider,t.style),f=t.value,c=void 0===f?.5:f,v=t.minimumValue,p=void 0===v?0:v,b=t.maximumValue,y=void 0===b?1:b,S=t.step,O=void 0===S?0:S,V=t.onValueChange,h=t.onSlidingComplete,j=(0,e.default)(t,l),_=V?function(e){var t=!0;'android'===n.default.OS&&(t=null!=e.nativeEvent.fromUser&&e.nativeEvent.fromUser),t&&V(e.nativeEvent.value)}:null,w=h?function(e){h(e.nativeEvent.value)}:null,C=!0===t.disabled||!0===(null==(o=t.accessibilityState)?void 0:o.disabled),x=C?Object.assign({},t.accessibilityState,{disabled:!0}):t.accessibilityState;return(0,_r(d[6]).jsx)(a.default,Object.assign({},j,{accessibilityState:x,enabled:!C,disabled:C,maximumValue:y,minimumValue:p,onResponderTerminationRequest:function(){return!1},onSlidingComplete:w,onStartShouldSetResponder:function(){return!0},onValueChange:_,ref:r,step:O,style:s,value:c}))});u='ios'===n.default.OS?i.default.create({slider:{height:40}}):i.default.create({slider:{}}),m.exports=o},305,[3,91,119,17,306,175,179]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=r(d[0])(r(d[1]));e.default=(0,l.default)('Slider',{interfaceOnly:!0,paperComponentName:'RCTSlider'})},306,[3,184]);
__d(function(g,_r,_i,_a,m,_e,d){var t,e,n=_r(d[0])(_r(d[1])),a=_r(d[0])(_r(d[2])),r=_r(d[0])(_r(d[3])),l=_r(d[0])(_r(d[4])),o=_r(d[0])(_r(d[5])),u=(function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=y(e);if(n&&n.has(t))return n.get(t);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&{}.hasOwnProperty.call(t,l)){var o=r?Object.getOwnPropertyDescriptor(t,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=t[l]}return a.default=t,n&&n.set(t,a),a})(_r(d[6])),i=_r(d[0])(_r(d[7])),c=_r(d[0])(_r(d[8])),s=_r(d[0])(_r(d[9])),f=_r(d[0])(_r(d[10])),p=_r(d[0])(_r(d[11]));function y(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(y=function(t){return t?n:e})(t)}function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(v=function(){return!!t})()}function k(t){var e,n,a=null!=(e=t.animated)&&e,r=null!=(n=t.showHideTransition)?n:'fade';return{backgroundColor:null!=t.backgroundColor?{value:t.backgroundColor,animated:a}:null,barStyle:null!=t.barStyle?{value:t.barStyle,animated:a}:null,translucent:t.translucent,hidden:null!=t.hidden?{value:t.hidden,animated:a,transition:r}:null,networkActivityIndicatorVisible:t.networkActivityIndicatorVisible}}var S=(function(t){function e(){var t,a,o,u;(0,n.default)(this,e);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return a=this,o=e,u=[].concat(c),o=(0,l.default)(o),(t=(0,r.default)(a,v()?Reflect.construct(o,u||[],(0,l.default)(a).constructor):o.apply(a,u)))._stackEntry=null,t}return(0,o.default)(e,t),(0,a.default)(e,[{key:"componentDidMount",value:function(){this._stackEntry=e.pushStackEntry(this.props)}},{key:"componentWillUnmount",value:function(){e.popStackEntry(this._stackEntry)}},{key:"componentDidUpdate",value:function(){this._stackEntry=e.replaceStackEntry(this._stackEntry,this.props)}},{key:"render",value:function(){return null}}],[{key:"setHidden",value:function(t,n){n=n||'none',e._defaultProps.hidden.value=t,'ios'===i.default.OS?p.default.setHidden(t,n):'android'===i.default.OS&&f.default.setHidden(t)}},{key:"setBarStyle",value:function(t,n){n=n||!1,e._defaultProps.barStyle.value=t,'ios'===i.default.OS?p.default.setStyle(t,n):'android'===i.default.OS&&f.default.setStyle(t)}},{key:"setNetworkActivityIndicatorVisible",value:function(t){'ios'===i.default.OS?(e._defaultProps.networkActivityIndicatorVisible=t,p.default.setNetworkActivityIndicatorVisible(t)):console.warn('`setNetworkActivityIndicatorVisible` is only available on iOS')}},{key:"setBackgroundColor",value:function(t,n){if('android'===i.default.OS){n=n||!1,e._defaultProps.backgroundColor.value=t;var a=(0,s.default)(t);null!=a?((0,c.default)('number'==typeof a,'Unexpected color given for StatusBar.setBackgroundColor'),f.default.setColor(a,n)):console.warn("`StatusBar.setBackgroundColor`: Color "+t+" parsed to null or undefined")}else console.warn('`setBackgroundColor` is only available on Android')}},{key:"setTranslucent",value:function(t){'android'===i.default.OS?(e._defaultProps.translucent=t,f.default.setTranslucent(t)):console.warn('`setTranslucent` is only available on Android')}},{key:"pushStackEntry",value:function(t){var n=k(t);return e._propsStack.push(n),e._updatePropsStack(),n}},{key:"popStackEntry",value:function(t){var n=e._propsStack.indexOf(t);-1!==n&&e._propsStack.splice(n,1),e._updatePropsStack()}},{key:"replaceStackEntry",value:function(t,n){var a=k(n),r=e._propsStack.indexOf(t);return-1!==r&&(e._propsStack[r]=a),e._updatePropsStack(),a}}])})(u.Component);t=S,S._propsStack=[],S._defaultProps=k({backgroundColor:'android'===i.default.OS&&null!=(e=f.default.getConstants().DEFAULT_BACKGROUND_COLOR)?e:'black',barStyle:'default',translucent:!1,hidden:!1,networkActivityIndicatorVisible:!1}),S._updateImmediate=null,S._currentValues=null,S.currentHeight='android'===i.default.OS?f.default.getConstants().HEIGHT:null,S._updatePropsStack=function(){clearImmediate(t._updateImmediate),t._updateImmediate=setImmediate(function(){var e,n,a=t._currentValues,r=(e=t._propsStack,n=t._defaultProps,e.reduce(function(t,e){for(var n in e)null!=e[n]&&(t[n]=e[n]);return t},Object.assign({},n)));if('ios'===i.default.OS)a&&a.barStyle.value===r.barStyle.value||p.default.setStyle(r.barStyle.value,r.barStyle.animated||!1),a&&a.hidden.value===r.hidden.value||p.default.setHidden(r.hidden.value,r.hidden.animated?r.hidden.transition:'none'),a&&a.networkActivityIndicatorVisible===r.networkActivityIndicatorVisible||p.default.setNetworkActivityIndicatorVisible(r.networkActivityIndicatorVisible);else if('android'===i.default.OS){f.default.setStyle(r.barStyle.value);var l=(0,s.default)(r.backgroundColor.value);null==l?console.warn("`StatusBar._updatePropsStack`: Color "+r.backgroundColor.value+" parsed to null or undefined"):((0,c.default)('number'==typeof l,'Unexpected color given in StatusBar._updatePropsStack'),f.default.setColor(l,r.backgroundColor.animated)),a&&a.hidden.value===r.hidden.value||f.default.setHidden(r.hidden.value),a&&a.translucent===r.translucent&&!r.translucent||f.default.setTranslucent(r.translucent)}t._currentValues=r})},m.exports=S},307,[3,12,13,45,44,47,119,17,20,133,308,309]);
__d(function(g,_r,_i,_a,m,_e,d){function e(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,r=new WeakMap;return(e=function(e){return e?r:n})(t)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=e(n);if(r&&r.has(t))return r.get(t);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&{}.hasOwnProperty.call(t,a)){var f=u?Object.getOwnPropertyDescriptor(t,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=t[a]}return o.default=t,r&&r.set(t,o),o})(_r(d[0])).getEnforcing('StatusBarManager'),n=null,r={getConstants:function(){return null==n&&(n=t.getConstants()),n},setColor:function(e,n){t.setColor(e,n)},setTranslucent:function(e){t.setTranslucent(e)},setStyle:function(e){t.setStyle(e)},setHidden:function(e){t.setHidden(e)}};_e.default=r},308,[19]);
__d(function(g,_r,_i,_a,m,_e,d){function e(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,r=new WeakMap;return(e=function(e){return e?r:n})(t)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=e(n);if(r&&r.has(t))return r.get(t);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&{}.hasOwnProperty.call(t,u)){var a=o?Object.getOwnPropertyDescriptor(t,u):null;a&&(a.get||a.set)?Object.defineProperty(i,u,a):i[u]=t[u]}return i.default=t,r&&r.set(t,i),i})(_r(d[0])).getEnforcing('StatusBarManager'),n=null,r={getConstants:function(){return null==n&&(n=t.getConstants()),n},getHeight:function(e){t.getHeight(e)},setNetworkActivityIndicatorVisible:function(e){t.setNetworkActivityIndicatorVisible(e)},addListener:function(e){t.addListener(e)},removeListeners:function(e){t.removeListeners(e)},setStyle:function(e,n){t.setStyle(e,n)},setHidden:function(e,n){t.setHidden(e,n)}};_e.default=r},309,[19]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=_r(d[0])(_r(d[1])),t=_r(d[0])(_r(d[2])),l=_r(d[0])(_r(d[3])),n=c(_r(d[4])),o=_r(d[0])(_r(d[5])),r=_r(d[0])(_r(d[6])),a=c(_r(d[7])),u=c(_r(d[8])),i=["disabled","ios_backgroundColor","onChange","onValueChange","style","thumbColor","trackColor","value"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,l=new WeakMap;return(s=function(e){return e?l:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var l=s(t);if(l&&l.has(e))return l.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var a=o?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r]}return n.default=e,l&&l.set(e,n),n}var f=function(){return!1},v=function(){return!0},b=n.forwardRef(function(s,c){var b=s.disabled,p=s.ios_backgroundColor,C=s.onChange,y=s.onValueChange,h=s.style,O=s.thumbColor,R=s.trackColor,_=s.value,j=(0,t.default)(s,i),k=null==R?void 0:R.false,S=null==R?void 0:R.true,w=n.useRef(null),P=(0,r.default)(w,c),T=n.useState({value:null}),M=(0,e.default)(T,2),V=M[0],E=M[1],F=function(e){null==C||C(e),null==y||y(e.nativeEvent.value),E({value:e.nativeEvent.value})};if(n.useLayoutEffect(function(){var e,t=!0===_;null!=V.value&&V.value!==t&&null!=(null==(e=w.current)?void 0:e.setNativeProps)&&('android'===l.default.OS?a.Commands.setNativeValue(w.current,t):u.Commands.setValue(w.current,t))},[_,V]),'android'===l.default.OS){var W,q=j.accessibilityState,x=null!=b?b:null==q?void 0:q.disabled,D={accessibilityState:x!==(null==q?void 0:q.disabled)?Object.assign({},q,{disabled:x}):q,enabled:!0!==x,on:!0===_,style:h,thumbTintColor:O,trackColorForFalse:k,trackColorForTrue:S,trackTintColor:!0===_?S:k};return(0,_r(d[9]).jsx)(a.default,Object.assign({},j,D,{accessibilityRole:null!=(W=s.accessibilityRole)?W:'switch',onChange:F,onResponderTerminationRequest:f,onStartShouldSetResponder:v,ref:P}))}var N,L={disabled:b,onTintColor:S,style:o.default.compose({height:31,width:51},o.default.compose(h,null==p?null:{backgroundColor:p,borderRadius:16})),thumbTintColor:O,tintColor:k,value:!0===_};return(0,_r(d[9]).jsx)(u.default,Object.assign({},j,L,{accessibilityRole:null!=(N=s.accessibilityRole)?N:'switch',onChange:F,onResponderTerminationRequest:f,onStartShouldSetResponder:v,ref:P}))});_e.default=b},310,[3,22,91,17,119,175,311,312,313,179]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];return(0,n.useCallback)(function(n){for(var t of o)null!=t&&('function'==typeof t?t(n):t.current=n)},[].concat(o))};var n=r(d[0])},311,[119]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.Commands=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var f=o?Object.getOwnPropertyDescriptor(e,u):null;f&&(f.get||f.set)?Object.defineProperty(a,u,f):a[u]=e[u]}a.default=e,n&&n.set(e,a)})(_r(d[0]));var e=_r(d[1])(_r(d[2])),t=_r(d[1])(_r(d[3]));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}_e.Commands=(0,e.default)({supportedCommands:['setNativeValue']}),_e.default=(0,t.default)('AndroidSwitch',{interfaceOnly:!0})},312,[119,3,126,184]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.Commands=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var f=a?Object.getOwnPropertyDescriptor(e,u):null;f&&(f.get||f.set)?Object.defineProperty(o,u,f):o[u]=e[u]}o.default=e,n&&n.set(e,o)})(_r(d[0]));var e=_r(d[1])(_r(d[2])),t=_r(d[1])(_r(d[3]));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}_e.Commands=(0,t.default)({supportedCommands:['setValue']}),_e.default=(0,e.default)('Switch',{paperComponentName:'RCTSwitch',excludedPlatforms:['android']})},313,[119,3,184,126]);
__d(function(g,_r,_i,_a,m,_e,d){var e=_r(d[0])(_r(d[1])),n=_r(d[0])(_r(d[2])),t=(function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=C(n);if(t&&t.has(e))return t.get(e);var l={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=u?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(l,r,o):l[r]=e[r]}return l.default=e,t&&t.set(e,l),l})(_r(d[3])),l=_r(d[0])(_r(d[4])),u=_r(d[0])(_r(d[5])),r=_r(d[0])(_r(d[6])),o=_r(d[0])(_r(d[7])),a=_r(d[0])(_r(d[8])),c=_r(d[0])(_r(d[9])),i=_r(d[0])(_r(d[10])),s=_r(d[0])(_r(d[11])),f=_r(d[0])(_r(d[12])),v=["onBlur","onFocus"],p=["allowFontScaling","rejectResponderTermination","underlineColorAndroid"];function C(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(C=function(e){return e?t:n})(e)}var S,y,b,h,x,O,T=t.useLayoutEffect,F=t.useRef,j=t.useState;'android'===l.default.OS?(S=_r(d[13]).default,y=_r(d[13]).Commands):'ios'===l.default.OS&&(b=_r(d[14]).default,h=_r(d[14]).Commands,x=_r(d[15]).default,O=_r(d[15]).Commands);var I=function(){return!0};function R(p){var C,R,P,w=F(null),E=null==p.selection?null:{start:p.selection.start,end:null!=(C=p.selection.end)?C:p.selection.start},B=j(0),k=(0,n.default)(B,2),A=k[0],M=k[1],z=j(p.value),D=(0,n.default)(z,2),H=D[0],V=D[1],W=j({selection:E,mostRecentEventCount:A}),K=(0,n.default)(W,2),L=K[0],U=K[1],N=L.selection;L.mostRecentEventCount<A&&(E=null),P=y||(!0===p.multiline?O:h);var q='string'==typeof p.value?p.value:'string'==typeof p.defaultValue?p.defaultValue:'';function G(){null!=w.current&&P.setTextAndSelection(w.current,A,'',0,0)}function J(e,n){null!=w.current&&P.setTextAndSelection(w.current,A,null,e,n)}function Q(){return a.default.currentlyFocusedInput()===w.current}function X(){return w.current}T(function(){var e,n,t,l,u={};(H!==p.value&&'string'==typeof p.value&&(u.text=p.value,V(p.value)),E&&N&&(N.start!==E.start||N.end!==E.end)&&(u.selection=E,U({selection:E,mostRecentEventCount:A})),0!==Object.keys(u).length)&&(null!=w.current&&P.setTextAndSelection(w.current,A,q,null!=(e=null==(n=E)?void 0:n.start)?e:-1,null!=(t=null==(l=E)?void 0:l.end)?t:-1))},[A,w,p.value,p.defaultValue,H,E,N,q,P]),T(function(){var e=w.current;if(null!=e)return a.default.registerInput(e),function(){a.default.unregisterInput(e),a.default.currentlyFocusedInput()===e&&(0,i.default)(e).blur()}},[w]);var Y=(0,s.default)({getForwardedRef:function(){return p.forwardedRef},setLocalRef:function(e){w.current=e,e&&(e.clear=G,e.isFocused=Q,e.getNativeRef=X,e.setSelection=J)}}),Z=function(e){var n=e.nativeEvent.text;p.onChange&&p.onChange(e),p.onChangeText&&p.onChangeText(n),null!=w.current&&(V(n),M(e.nativeEvent.eventCount))},$=function(e){p.onSelectionChange&&p.onSelectionChange(e),null!=w.current&&U({selection:e.nativeEvent.selection,mostRecentEventCount:A})},ee=function(e){a.default.focusInput(w.current),p.onFocus&&p.onFocus(e)},ne=function(e){a.default.blurInput(w.current),p.onBlur&&p.onBlur(e)},te=function(e){p.onScroll&&p.onScroll(e)},le=null,ue=null!=(R=p.blurOnSubmit)?R:!p.multiline,re=!1!==p.accessible,oe=!1!==p.focusable,ae=t.useMemo(function(){return{onPress:function(e){!1!==p.editable&&null!=w.current&&w.current.focus()},onPressIn:p.onPressIn,onPressOut:p.onPressOut,cancelable:'ios'===l.default.OS?!p.rejectResponderTermination:null}},[p.editable,p.onPressIn,p.onPressOut,p.rejectResponderTermination]),ce=p.caretHidden;l.default.isTesting&&(ce=!0);var ie=(0,f.default)(ae)||{},se=(ie.onBlur,ie.onFocus,(0,e.default)(ie,v));if('ios'===l.default.OS){var de=!0===p.multiline?x:b,fe=!0===p.multiline?u.default.flatten([_.multilineInput,p.style]):p.style,ve=(p.unstable_onChangeSync||p.unstable_onChangeTextSync)&&!(p.onChange||p.onChangeText);le=(0,_r(d[16]).jsx)(de,Object.assign({ref:Y},p,se,{accessible:re,blurOnSubmit:ue,caretHidden:ce,dataDetectorTypes:p.dataDetectorTypes,focusable:oe,mostRecentEventCount:A,onBlur:ne,onKeyPressSync:p.unstable_onKeyPressSync,onChange:Z,onChangeSync:!0===ve?function(e){var n=e.nativeEvent.text;p.unstable_onChangeSync&&p.unstable_onChangeSync(e),p.unstable_onChangeTextSync&&p.unstable_onChangeTextSync(n),null!=w.current&&(V(n),M(e.nativeEvent.eventCount))}:null,onContentSizeChange:p.onContentSizeChange,onFocus:ee,onScroll:te,onSelectionChange:$,onSelectionChangeShouldSetResponder:I,selection:E,style:fe,text:q}))}else if('android'===l.default.OS){var pe,ge=[p.style],Ce=p.autoCapitalize||'sentences',Se=null!=(pe=p.placeholder)?pe:'',ye=p.children,be=t.Children.count(ye);(0,c.default)(!(null!=p.value&&be),'Cannot specify both value and children.'),be>1&&(ye=(0,_r(d[16]).jsx)(r.default,{children:ye})),le=(0,_r(d[16]).jsx)(S,Object.assign({ref:Y},p,se,{accessible:re,autoCapitalize:Ce,blurOnSubmit:ue,caretHidden:ce,children:ye,disableFullscreenUI:p.disableFullscreenUI,focusable:oe,mostRecentEventCount:A,onBlur:ne,onChange:Z,onFocus:ee,onScroll:te,onSelectionChange:$,placeholder:Se,selection:E,style:ge,text:q,textBreakStrategy:p.textBreakStrategy}))}return(0,_r(d[16]).jsx)(o.default.Provider,{value:!0,children:le})}var P=t.forwardRef(function(n,t){var l=n.allowFontScaling,u=void 0===l||l,r=n.rejectResponderTermination,o=void 0===r||r,a=n.underlineColorAndroid,c=void 0===a?'transparent':a,i=(0,e.default)(n,p);return(0,_r(d[16]).jsx)(R,Object.assign({allowFontScaling:u,rejectResponderTermination:o,underlineColorAndroid:c},i,{forwardedRef:t}))});P.State={currentlyFocusedInput:a.default.currentlyFocusedInput,currentlyFocusedField:a.default.currentlyFocusedField,focusTextInput:a.default.focusTextInput,blurTextInput:a.default.blurTextInput};var _=u.default.create({multilineInput:{paddingTop:5}});m.exports=P},314,[3,91,22,119,17,175,188,178,124,20,315,234,190,316,125,317,179]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,o){if(null!=t)return t;var n=new Error(void 0!==o?o:'Got unexpected '+t);throw n.framesToPop=1,n}m.exports=t,m.exports.default=t,Object.defineProperty(m.exports,'__esModule',{value:!0})},315,[]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;var e=_r(d[0])(_r(d[1])),t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n})(_r(d[2]));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}_e.Commands=(0,e.default)({supportedCommands:['focus','blur','setTextAndSelection']});var r=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:'AndroidTextInput',bubblingEventTypes:{topBlur:{phasedRegistrationNames:{bubbled:'onBlur',captured:'onBlurCapture'}},topEndEditing:{phasedRegistrationNames:{bubbled:'onEndEditing',captured:'onEndEditingCapture'}},topFocus:{phasedRegistrationNames:{bubbled:'onFocus',captured:'onFocusCapture'}},topKeyPress:{phasedRegistrationNames:{bubbled:'onKeyPress',captured:'onKeyPressCapture'}},topSubmitEditing:{phasedRegistrationNames:{bubbled:'onSubmitEditing',captured:'onSubmitEditingCapture'}},topTextInput:{phasedRegistrationNames:{bubbled:'onTextInput',captured:'onTextInputCapture'}}},directEventTypes:{topScroll:{registrationName:'onScroll'}},validAttributes:{maxFontSizeMultiplier:!0,adjustsFontSizeToFit:!0,minimumFontScale:!0,autoFocus:!0,placeholder:!0,inlineImagePadding:!0,contextMenuHidden:!0,textShadowColor:{process:_r(d[3])},maxLength:!0,selectTextOnFocus:!0,textShadowRadius:!0,underlineColorAndroid:{process:_r(d[3])},textDecorationLine:!0,blurOnSubmit:!0,textAlignVertical:!0,fontStyle:!0,textShadowOffset:!0,selectionColor:{process:_r(d[3])},selection:!0,placeholderTextColor:{process:_r(d[3])},importantForAutofill:!0,lineHeight:!0,textTransform:!0,returnKeyType:!0,keyboardType:!0,multiline:!0,color:{process:_r(d[3])},autoComplete:!0,numberOfLines:!0,letterSpacing:!0,returnKeyLabel:!0,fontSize:!0,onKeyPress:!0,cursorColor:{process:_r(d[3])},text:!0,showSoftInputOnFocus:!0,textAlign:!0,autoCapitalize:!0,autoCorrect:!0,caretHidden:!0,secureTextEntry:!0,textBreakStrategy:!0,onScroll:!0,onContentSizeChange:!0,disableFullscreenUI:!0,includeFontPadding:!0,fontWeight:!0,fontFamily:!0,allowFontScaling:!0,onSelectionChange:!0,mostRecentEventCount:!0,inlineImageLeft:!0,editable:!0,fontVariant:!0,borderBottomRightRadius:!0,borderBottomColor:{process:_r(d[3])},borderRadius:!0,borderRightColor:{process:_r(d[3])},borderColor:{process:_r(d[3])},borderTopRightRadius:!0,borderStyle:!0,borderBottomLeftRadius:!0,borderLeftColor:{process:_r(d[3])},borderTopLeftRadius:!0,borderTopColor:{process:_r(d[3])}}},n=t.get('AndroidTextInput',function(){return r});_e.default=n},316,[3,126,138,133]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;var e=_r(d[0])(_r(d[1])),t=_r(d[0])(_r(d[2])),n=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var u={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(u,i,o):u[i]=e[i]}return u.default=e,n&&n.set(e,u),u})(_r(d[3]));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}_e.Commands=(0,e.default)({supportedCommands:['focus','blur','setTextAndSelection']});var u=_e.__INTERNAL_VIEW_CONFIG=Object.assign({uiViewClassName:'RCTMultilineTextInputView'},t.default,{validAttributes:Object.assign({},t.default.validAttributes,{dataDetectorTypes:!0})}),a=n.get('RCTMultilineTextInputView',function(){return u});_e.default=a},317,[3,126,131,138]);
__d(function(g,_r,_i,_a,m,_e,d){var t=_r(d[0])(_r(d[1])),e=((function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var i=a(e);if(i&&i.has(t))return i.get(t);var o={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in t)if("default"!==E&&{}.hasOwnProperty.call(t,E)){var n=s?Object.getOwnPropertyDescriptor(t,E):null;n&&(n.get||n.set)?Object.defineProperty(o,E,n):o[E]=t[E]}o.default=t,i&&i.set(t,o)})(_r(d[2])),_r(d[0])(_r(d[3]))),i=_r(d[0])(_r(d[4])),o=_r(d[0])(_r(d[5])),s=_r(d[0])(_r(d[6])),E=_r(d[0])(_r(d[7]));function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(a=function(t){return t?i:e})(t)}var n=function(t){var e=t.touches,i=t.changedTouches,o=e&&e.length>0,s=i&&i.length>0;return!o&&s?i[0]:o?e[0]:t},l='NOT_RESPONDER',u='RESPONDER_INACTIVE_PRESS_IN',h='RESPONDER_INACTIVE_PRESS_OUT',r='RESPONDER_ACTIVE_PRESS_IN',R='RESPONDER_ACTIVE_PRESS_OUT',_='RESPONDER_ACTIVE_LONG_PRESS_IN',c='RESPONDER_ACTIVE_LONG_PRESS_OUT',S='ERROR',T={NOT_RESPONDER:!1,RESPONDER_INACTIVE_PRESS_IN:!1,RESPONDER_INACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_PRESS_IN:!1,RESPONDER_ACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_LONG_PRESS_IN:!1,RESPONDER_ACTIVE_LONG_PRESS_OUT:!1,ERROR:!1},P=Object.assign({},T,{RESPONDER_ACTIVE_PRESS_OUT:!0,RESPONDER_ACTIVE_PRESS_IN:!0}),D=Object.assign({},T,{RESPONDER_INACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),N=Object.assign({},T,{RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),O='DELAY',p='RESPONDER_GRANT',A='RESPONDER_RELEASE',b='RESPONDER_TERMINATED',f='ENTER_PRESS_RECT',I='LEAVE_PRESS_RECT',L='LONG_PRESS_DETECTED',v={NOT_RESPONDER:{DELAY:S,RESPONDER_GRANT:u,RESPONDER_RELEASE:S,RESPONDER_TERMINATED:S,ENTER_PRESS_RECT:S,LEAVE_PRESS_RECT:S,LONG_PRESS_DETECTED:S},RESPONDER_INACTIVE_PRESS_IN:{DELAY:r,RESPONDER_GRANT:S,RESPONDER_RELEASE:l,RESPONDER_TERMINATED:l,ENTER_PRESS_RECT:u,LEAVE_PRESS_RECT:h,LONG_PRESS_DETECTED:S},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:R,RESPONDER_GRANT:S,RESPONDER_RELEASE:l,RESPONDER_TERMINATED:l,ENTER_PRESS_RECT:u,LEAVE_PRESS_RECT:h,LONG_PRESS_DETECTED:S},RESPONDER_ACTIVE_PRESS_IN:{DELAY:S,RESPONDER_GRANT:S,RESPONDER_RELEASE:l,RESPONDER_TERMINATED:l,ENTER_PRESS_RECT:r,LEAVE_PRESS_RECT:R,LONG_PRESS_DETECTED:_},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:S,RESPONDER_GRANT:S,RESPONDER_RELEASE:l,RESPONDER_TERMINATED:l,ENTER_PRESS_RECT:r,LEAVE_PRESS_RECT:R,LONG_PRESS_DETECTED:S},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:S,RESPONDER_GRANT:S,RESPONDER_RELEASE:l,RESPONDER_TERMINATED:l,ENTER_PRESS_RECT:_,LEAVE_PRESS_RECT:c,LONG_PRESS_DETECTED:_},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:S,RESPONDER_GRANT:S,RESPONDER_RELEASE:l,RESPONDER_TERMINATED:l,ENTER_PRESS_RECT:_,LEAVE_PRESS_RECT:c,LONG_PRESS_DETECTED:S},error:{DELAY:l,RESPONDER_GRANT:u,RESPONDER_RELEASE:l,RESPONDER_TERMINATED:l,ENTER_PRESS_RECT:l,LEAVE_PRESS_RECT:l,LONG_PRESS_DETECTED:l}},y={componentDidMount:function(){i.default.isTV},componentWillUnmount:function(){this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout)},touchableGetInitialState:function(){return{touchable:{touchState:void 0,responderID:null}}},touchableHandleResponderTerminationRequest:function(){return!this.props.rejectResponderTermination},touchableHandleStartShouldSetResponder:function(){return!this.props.disabled},touchableLongPressCancelsPress:function(){return!0},touchableHandleResponderGrant:function(t){var e=t.currentTarget;t.persist(),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout),this.pressOutDelayTimeout=null,this.state.touchable.touchState=l,this.state.touchable.responderID=e,this._receiveSignal(p,t);var i=void 0!==this.touchableGetHighlightDelayMS?Math.max(this.touchableGetHighlightDelayMS(),0):130;0!==(i=isNaN(i)?130:i)?this.touchableDelayTimeout=setTimeout(this._handleDelay.bind(this,t),i):this._handleDelay(t);var o=void 0!==this.touchableGetLongPressDelayMS?Math.max(this.touchableGetLongPressDelayMS(),10):370;o=isNaN(o)?370:o,this.longPressDelayTimeout=setTimeout(this._handleLongDelay.bind(this,t),o+i)},touchableHandleResponderRelease:function(t){this.pressInLocation=null,this._receiveSignal(A,t)},touchableHandleResponderTerminate:function(t){this.pressInLocation=null,this._receiveSignal(b,t)},touchableHandleResponderMove:function(t){if(this.state.touchable.positionOnActivate){var e=this.state.touchable.positionOnActivate,i=this.state.touchable.dimensionsOnActivate,o=this.touchableGetPressRectOffset?this.touchableGetPressRectOffset():{left:20,right:20,top:20,bottom:20},s=o.left,E=o.top,a=o.right,l=o.bottom,h=this.touchableGetHitSlop?this.touchableGetHitSlop():null;h&&(s+=h.left||0,E+=h.top||0,a+=h.right||0,l+=h.bottom||0);var r=n(t.nativeEvent),R=r&&r.pageX,_=r&&r.pageY;if(this.pressInLocation)this._getDistanceBetweenPoints(R,_,this.pressInLocation.pageX,this.pressInLocation.pageY)>10&&this._cancelLongPressDelayTimeout();if(R>e.left-s&&_>e.top-E&&R<e.left+i.width+a&&_<e.top+i.height+l){var c=this.state.touchable.touchState;this._receiveSignal(f,t),this.state.touchable.touchState===u&&c!==u&&this._cancelLongPressDelayTimeout()}else this._cancelLongPressDelayTimeout(),this._receiveSignal(I,t)}},touchableHandleFocus:function(t){this.props.onFocus&&this.props.onFocus(t)},touchableHandleBlur:function(t){this.props.onBlur&&this.props.onBlur(t)},_remeasureMetricsOnActivation:function(){var t=this.state.touchable.responderID;null!=t&&('number'==typeof t?s.default.measure(t,this._handleQueryLayout):t.measure(this._handleQueryLayout))},_handleQueryLayout:function(t,i,s,E,a,n){(t||i||s||E||a||n)&&(this.state.touchable.positionOnActivate&&o.default.release(this.state.touchable.positionOnActivate),this.state.touchable.dimensionsOnActivate&&e.default.release(this.state.touchable.dimensionsOnActivate),this.state.touchable.positionOnActivate=o.default.getPooled(a,n),this.state.touchable.dimensionsOnActivate=e.default.getPooled(s,E))},_handleDelay:function(t){this.touchableDelayTimeout=null,this._receiveSignal(O,t)},_handleLongDelay:function(t){this.longPressDelayTimeout=null;var e=this.state.touchable.touchState;e!==r&&e!==_||this._receiveSignal(L,t)},_receiveSignal:function(t,e){var i=this.state.touchable.responderID,o=this.state.touchable.touchState,s=v[o]&&v[o][t];if(i||t!==A){if(!s)throw new Error('Unrecognized signal `'+t+'` or state `'+o+'` for Touchable responder `'+typeof this.state.touchable.responderID=='number'?this.state.touchable.responderID:"host component`");if(s===S)throw new Error('Touchable cannot transition from `'+o+'` to `'+t+'` for responder `'+typeof this.state.touchable.responderID=='number'?this.state.touchable.responderID:"<<host component>>`");o!==s&&(this._performSideEffectsForTransition(o,s,t,e),this.state.touchable.touchState=s)}},_cancelLongPressDelayTimeout:function(){this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.longPressDelayTimeout=null},_isHighlight:function(t){return t===r||t===_},_savePressInLocation:function(t){var e=n(t.nativeEvent),i=e&&e.pageX,o=e&&e.pageY,s=e&&e.locationX,E=e&&e.locationY;this.pressInLocation={pageX:i,pageY:o,locationX:s,locationY:E}},_getDistanceBetweenPoints:function(t,e,i,o){var s=t-i,E=e-o;return Math.sqrt(s*s+E*E)},_performSideEffectsForTransition:function(t,e,o,s){var a=this._isHighlight(t),n=this._isHighlight(e);(o===b||o===A)&&this._cancelLongPressDelayTimeout();var h=t===l&&e===u,r=!P[t]&&P[e];if((h||r)&&this._remeasureMetricsOnActivation(),D[t]&&o===L&&this.touchableHandleLongPress&&this.touchableHandleLongPress(s),n&&!a?this._startHighlight(s):!n&&a&&this._endHighlight(s),D[t]&&o===A){var R=!!this.props.onLongPress,_=N[t]&&(!R||!this.touchableLongPressCancelsPress());(!N[t]||_)&&this.touchableHandlePress&&(n||a||(this._startHighlight(s),this._endHighlight(s)),'android'!==i.default.OS||this.props.touchSoundDisabled||E.default.playTouchSound(),this.touchableHandlePress(s))}this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.touchableDelayTimeout=null},_startHighlight:function(t){this._savePressInLocation(t),this.touchableHandleActivePressIn&&this.touchableHandleActivePressIn(t)},_endHighlight:function(t){var e=this;this.touchableHandleActivePressOut&&(this.touchableGetPressOutDelayMS&&this.touchableGetPressOutDelayMS()?this.pressOutDelayTimeout=setTimeout(function(){e.touchableHandleActivePressOut(t)},this.touchableGetPressOutDelayMS()):this.touchableHandleActivePressOut(t))},withoutDefaultFocusAndBlur:{}},C=(y.touchableHandleFocus,y.touchableHandleBlur,(0,t.default)(y,["touchableHandleFocus","touchableHandleBlur"]));y.withoutDefaultFocusAndBlur=C;var G={Mixin:y,renderDebugView:function(t){t.color,t.hitSlop;return null}};m.exports=G},318,[3,91,119,319,17,321,140,192]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),o=t.default.twoArgumentPooler;function n(t,o){this.width=t,this.height=o}n.prototype.destructor=function(){this.width=null,this.height=null},n.getPooledFromElement=function(t){return n.getPooled(t.offsetWidth,t.offsetHeight)},t.default.addPoolingTo(n,o),m.exports=n},319,[3,320]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),n=function(t){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,t),n}return new this(t)},o=function(n){(0,t.default)(n instanceof this,'Trying to release an instance into a pool of a different type.'),n.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(n)},s=n,l={addPoolingTo:function(t,n){var l=t;return l.instancePool=[],l.getPooled=n||s,l.poolSize||(l.poolSize=10),l.release=o,l},oneArgumentPooler:n,twoArgumentPooler:function(t,n){if(this.instancePool.length){var o=this.instancePool.pop();return this.call(o,t,n),o}return new this(t,n)},threeArgumentPooler:function(t,n,o){if(this.instancePool.length){var s=this.instancePool.pop();return this.call(s,t,n,o),s}return new this(t,n,o)},fourArgumentPooler:function(t,n,o,s){if(this.instancePool.length){var l=this.instancePool.pop();return this.call(l,t,n,o,s),l}return new this(t,n,o,s)}};m.exports=l},320,[3,20]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),o=t.default.twoArgumentPooler;function l(t,o){this.left=t,this.top=o}l.prototype.destructor=function(){this.left=null,this.top=null},t.default.addPoolingTo(l,o),m.exports=l},321,[3,320]);
__d(function(g,_r,_i,_a,m,_e,d){var s=_r(d[0])(_r(d[1])),e=_r(d[0])(_r(d[2])),t=_r(d[0])(_r(d[3])),i=_r(d[0])(_r(d[4])),o=_r(d[0])(_r(d[5])),n=_r(d[0])(_r(d[6])),r=_r(d[0])(_r(d[7])),l=_r(d[0])(_r(d[8])),a=_r(d[0])(_r(d[9])),p=_r(d[0])(_r(d[10])),u=(function(s,e){if(!e&&s&&s.__esModule)return s;if(null===s||"object"!=typeof s&&"function"!=typeof s)return{default:s};var t=h(e);if(t&&t.has(s))return t.get(s);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in s)if("default"!==n&&{}.hasOwnProperty.call(s,n)){var r=o?Object.getOwnPropertyDescriptor(s,n):null;r&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=s[n]}return i.default=s,t&&t.set(s,i),i})(_r(d[11])),c=["onBlur","onFocus"];function h(s){if("function"!=typeof WeakMap)return null;var e=new WeakMap,t=new WeakMap;return(h=function(s){return s?t:e})(s)}function y(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(y=function(){return!!s})()}var f=(function(h){function f(){var s,t,n,l;(0,e.default)(this,f);for(var a=arguments.length,p=new Array(a),u=0;u<a;u++)p[u]=arguments[u];return t=this,n=f,l=[].concat(p),n=(0,o.default)(n),(s=(0,i.default)(t,y()?Reflect.construct(n,l||[],(0,o.default)(t).constructor):n.apply(t,l)))._isMounted=!1,s.state={pressability:new r.default(s._createPressabilityConfig()),extraStyles:!0===s.props.testOnly_pressed?s._createExtraStyles():null},s}return(0,n.default)(f,h),(0,t.default)(f,[{key:"_createPressabilityConfig",value:function(){var s,e=this;return{cancelable:!this.props.rejectResponderTermination,disabled:null!=this.props.disabled?this.props.disabled:null==(s=this.props.accessibilityState)?void 0:s.disabled,hitSlop:this.props.hitSlop,delayLongPress:this.props.delayLongPress,delayPressIn:this.props.delayPressIn,delayPressOut:this.props.delayPressOut,minPressDuration:0,pressRectOffset:this.props.pressRetentionOffset,android_disableSound:this.props.touchSoundDisabled,onBlur:function(s){a.default.isTV&&e._hideUnderlay(),null!=e.props.onBlur&&e.props.onBlur(s)},onFocus:function(s){a.default.isTV&&e._showUnderlay(),null!=e.props.onFocus&&e.props.onFocus(s)},onLongPress:this.props.onLongPress,onPress:function(s){var t;(null!=e._hideTimeout&&clearTimeout(e._hideTimeout),a.default.isTV)||(e._showUnderlay(),e._hideTimeout=setTimeout(function(){e._hideUnderlay()},null!=(t=e.props.delayPressOut)?t:0));null!=e.props.onPress&&e.props.onPress(s)},onPressIn:function(s){null!=e._hideTimeout&&(clearTimeout(e._hideTimeout),e._hideTimeout=null),e._showUnderlay(),null!=e.props.onPressIn&&e.props.onPressIn(s)},onPressOut:function(s){null==e._hideTimeout&&e._hideUnderlay(),null!=e.props.onPressOut&&e.props.onPressOut(s)}}}},{key:"_createExtraStyles",value:function(){var s;return{child:{opacity:null!=(s=this.props.activeOpacity)?s:.85},underlay:{backgroundColor:void 0===this.props.underlayColor?'black':this.props.underlayColor}}}},{key:"_showUnderlay",value:function(){this._isMounted&&this._hasPressHandler()&&(this.setState({extraStyles:this._createExtraStyles()}),null!=this.props.onShowUnderlay&&this.props.onShowUnderlay())}},{key:"_hideUnderlay",value:function(){null!=this._hideTimeout&&(clearTimeout(this._hideTimeout),this._hideTimeout=null),!0!==this.props.testOnly_pressed&&this._hasPressHandler()&&(this.setState({extraStyles:null}),null!=this.props.onHideUnderlay&&this.props.onHideUnderlay())}},{key:"_hasPressHandler",value:function(){return null!=this.props.onPress||null!=this.props.onPressIn||null!=this.props.onPressOut||null!=this.props.onLongPress}},{key:"render",value:function(){var e,t,i=u.Children.only(this.props.children),o=this.state.pressability.getEventHandlers(),n=(o.onBlur,o.onFocus,(0,s.default)(o,c)),r=null!=this.props.disabled?Object.assign({},this.props.accessibilityState,{disabled:this.props.disabled}):this.props.accessibilityState;return(0,_r(d[12]).jsxs)(p.default,Object.assign({accessible:!1!==this.props.accessible,accessibilityLabel:this.props.accessibilityLabel,accessibilityHint:this.props.accessibilityHint,accessibilityLanguage:this.props.accessibilityLanguage,accessibilityRole:this.props.accessibilityRole,accessibilityState:r,accessibilityValue:this.props.accessibilityValue,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,importantForAccessibility:this.props.importantForAccessibility,accessibilityLiveRegion:this.props.accessibilityLiveRegion,accessibilityViewIsModal:this.props.accessibilityViewIsModal,accessibilityElementsHidden:this.props.accessibilityElementsHidden,style:l.default.compose(this.props.style,null==(e=this.state.extraStyles)?void 0:e.underlay),onLayout:this.props.onLayout,hitSlop:this.props.hitSlop,hasTVPreferredFocus:this.props.hasTVPreferredFocus,nextFocusDown:this.props.nextFocusDown,nextFocusForward:this.props.nextFocusForward,nextFocusLeft:this.props.nextFocusLeft,nextFocusRight:this.props.nextFocusRight,nextFocusUp:this.props.nextFocusUp,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress,nativeID:this.props.nativeID,testID:this.props.testID,ref:this.props.hostRef},n,{children:[u.cloneElement(i,{style:l.default.compose(i.props.style,null==(t=this.state.extraStyles)?void 0:t.child)}),null]}))}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentDidUpdate",value:function(s,e){this.state.pressability.configure(this._createPressabilityConfig())}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,null!=this._hideTimeout&&clearTimeout(this._hideTimeout),this.state.pressability.reset()}}])})(u.Component),b=u.forwardRef(function(s,e){return(0,_r(d[12]).jsx)(f,Object.assign({},s,{hostRef:e}))});b.displayName='TouchableHighlight',m.exports=b},322,[3,91,12,13,45,44,47,191,175,17,176,119,179]);
__d(function(g,_r,_i,_a,m,_e,d){var e=_r(d[0])(_r(d[1])),t=_r(d[0])(_r(d[2])),s=_r(d[0])(_r(d[3])),i=_r(d[0])(_r(d[4])),n=_r(d[0])(_r(d[5])),o=_r(d[0])(_r(d[6])),r=_r(d[0])(_r(d[7])),a=(_r(d[0])(_r(d[8])),(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=c(t);if(s&&s.has(e))return s.get(e);var i={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var r=n?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(i,o,r):i[o]=e[o]}return i.default=e,s&&s.set(e,i),i})(_r(d[9]))),l=["onBlur","onFocus"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(c=function(e){return e?s:t})(e)}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}var p=['accessibilityActions','accessibilityElementsHidden','accessibilityHint','accessibilityLanguage','accessibilityIgnoresInvertColors','accessibilityLabel','accessibilityLiveRegion','accessibilityRole','accessibilityValue','accessibilityViewIsModal','hitSlop','importantForAccessibility','nativeID','onAccessibilityAction','onBlur','onFocus','onLayout','testID'],f=(function(c){function f(){var e,s,o,a;(0,t.default)(this,f);for(var l=arguments.length,c=new Array(l),p=0;p<l;p++)c[p]=arguments[p];return s=this,o=f,a=[].concat(c),o=(0,n.default)(o),(e=(0,i.default)(s,u()?Reflect.construct(o,a||[],(0,n.default)(s).constructor):o.apply(s,a))).state={pressability:new r.default(y(e.props))},e}return(0,o.default)(f,c),(0,s.default)(f,[{key:"render",value:function(){var t=a.Children.only(this.props.children),s=[t.props.children],i=this.state.pressability.getEventHandlers(),n=(i.onBlur,i.onFocus,(0,e.default)(i,l)),o=Object.assign({},n,{accessible:!1!==this.props.accessible,accessibilityState:null!=this.props.disabled?Object.assign({},this.props.accessibilityState,{disabled:this.props.disabled}):this.props.accessibilityState,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress});for(var r of p)void 0!==this.props[r]&&(o[r]=this.props[r]);return a.cloneElement.apply(a,[t,o].concat(s))}},{key:"componentDidUpdate",value:function(){this.state.pressability.configure(y(this.props))}},{key:"componentWillUnmount",value:function(){this.state.pressability.reset()}}])})(a.Component);function y(e){var t;return{cancelable:!e.rejectResponderTermination,disabled:null!==e.disabled?e.disabled:null==(t=e.accessibilityState)?void 0:t.disabled,hitSlop:e.hitSlop,delayLongPress:e.delayLongPress,delayPressIn:e.delayPressIn,delayPressOut:e.delayPressOut,minPressDuration:0,pressRectOffset:e.pressRetentionOffset,android_disableSound:e.touchSoundDisabled,onBlur:e.onBlur,onFocus:e.onFocus,onLongPress:e.onLongPress,onPress:e.onPress,onPressIn:e.onPressIn,onPressOut:e.onPressOut}}f.displayName='TouchableWithoutFeedback',m.exports=f},323,[3,91,12,13,45,44,47,191,176,119]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),o=r(d[0])(r(d[2])),n=["tintColor","cancelButtonTintColor","destructiveButtonIndex"],c={showActionSheetWithOptions:function(c,s){r(d[3])('object'==typeof c&&null!==c,'Options must be a valid object'),r(d[3])('function'==typeof s,'Must provide a valid callback'),r(d[3])(o.default,"ActionSheetManager doesn't exist");var l=c.tintColor,u=c.cancelButtonTintColor,f=c.destructiveButtonIndex,h=(0,t.default)(c,n),p=null;Array.isArray(f)?p=f:'number'==typeof f&&(p=[f]);var S=r(d[4])(l),v=r(d[4])(u);r(d[3])(null==S||'number'==typeof S,'Unexpected color given for ActionSheetIOS.showActionSheetWithOptions tintColor'),r(d[3])(null==v||'number'==typeof v,'Unexpected color given for ActionSheetIOS.showActionSheetWithOptions cancelButtonTintColor'),o.default.showActionSheetWithOptions(Object.assign({},h,{tintColor:S,cancelButtonTintColor:v,destructiveButtonIndices:p}),s)},showShareActionSheetWithOptions:function(t,n,c){r(d[3])('object'==typeof t&&null!==t,'Options must be a valid object'),r(d[3])('function'==typeof n,'Must provide a valid failureCallback'),r(d[3])('function'==typeof c,'Must provide a valid successCallback'),r(d[3])(o.default,"ActionSheetManager doesn't exist"),o.default.showShareActionSheetWithOptions(Object.assign({},t,{tintColor:r(d[4])(t.tintColor)}),n,c)},dismissActionSheet:function(){r(d[3])(o.default,"ActionSheetManager doesn't exist"),'function'==typeof o.default.dismissActionSheet&&o.default.dismissActionSheet()}};m.exports=c},324,[3,91,325,20,133]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=u?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('ActionSheetManager')},325,[19]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0])(r(d[1])),l=r(d[0])(r(d[2])),t=r(d[0])(r(d[3])),o=r(d[0])(r(d[4])),u=r(d[0])(r(d[5])),c=new n.default;t.default&&new l.default('ios'!==u.default.OS?null:t.default).addListener('appearanceChanged',function(n){var l=n.colorScheme;(0,o.default)('dark'===l||'light'===l||null==l,"Unrecognized color scheme. Did you mean 'dark' or 'light'?"),c.emit('change',{colorScheme:l})});m.exports={getColorScheme:function(){var n=null==t.default?null:t.default.getColorScheme()||null;return(0,o.default)('dark'===n||'light'===n||null==n,"Unrecognized color scheme. Did you mean 'dark' or 'light'?"),n},addChangeListener:function(n){return c.addListener('change',n)}}},326,[3,5,93,327,20,17]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=o?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(u,a,f):u[a]=e[a]}return u.default=e,n&&n.set(e,u),u})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('Appearance')},327,[19]);
__d(function(g,r,i,a,m,e,d){var n,t=r(d[0])(r(d[1])),o=r(d[0])(r(d[2])),s=r(d[0])(r(d[3])),u={},c=1,f={},l=new Map,p=new Map,h=function(n){return n()},y=!1,k={setWrapperComponentProvider:function(t){n=t},enableArchitectureIndicator:function(n){y=n},registerConfig:function(n){n.forEach(function(n){n.run?k.registerRunnable(n.appKey,n.run):(r(d[4])(null!=n.component,"AppRegistry.registerConfig(...): Every config is expected to set either `run` or `component`, but `%s` has neither.",n.appKey),k.registerComponent(n.appKey,n.component,n.section))})},registerComponent:function(o,s,c){var l=(0,t.default)();return u[o]={componentProvider:s,run:function(t,u){var c,f=(null==(c=t.initialProps)?void 0:c.concurrentRoot)||t.concurrentRoot;r(d[5])(h(s,l),t.initialProps,t.rootTag,n&&n(t),t.fabric,y,l,'LogBox'===o,o,(0,r(d[6]).coerceDisplayMode)(u),f)}},c&&(f[o]=u[o]),o},registerRunnable:function(n,t){return u[n]={run:t},n},registerSection:function(n,t){k.registerComponent(n,t,!0)},getAppKeys:function(){return Object.keys(u)},getSectionKeys:function(){return Object.keys(f)},getSections:function(){return Object.assign({},f)},getRunnable:function(n){return u[n]},getRegistry:function(){return{sections:k.getSectionKeys(),runnables:Object.assign({},u)}},setComponentProviderInstrumentationHook:function(n){h=n},runApplication:function(n,t,o){if('LogBox'!==n){var s='Running "'+n;r(d[7])(s),r(d[8]).addSource('AppRegistry.runApplication'+c++,function(){return s})}r(d[4])(u[n]&&u[n].run,"\""+n+"\" has not been registered. This can happen if:\n* Metro (the local dev server) is run from the wrong folder. Check if Metro is running, stop it and restart it in the current project.\n* A module failed to load due to an error and `AppRegistry.registerComponent` wasn't called."),r(d[9]).setActiveScene({name:n}),u[n].run(t,o)},setSurfaceProps:function(n,t,o){if('LogBox'!==n){var s='Updating props for Surface "'+n+'" with '+JSON.stringify(t);r(d[7])(s),r(d[8]).addSource('AppRegistry.setSurfaceProps'+c++,function(){return s})}r(d[4])(u[n]&&u[n].run,"\""+n+"\" has not been registered. This can happen if:\n* Metro (the local dev server) is run from the wrong folder. Check if Metro is running, stop it and restart it in the current project.\n* A module failed to load due to an error and `AppRegistry.registerComponent` wasn't called."),u[n].run(t,o)},unmountApplicationComponentAtRootTag:function(n){r(d[10]).unmountComponentAtNodeAndRemoveContainer(n)},registerHeadlessTask:function(n,t){this.registerCancellableHeadlessTask(n,t,function(){return function(){}})},registerCancellableHeadlessTask:function(n,t,o){l.has(n)&&console.warn("registerHeadlessTask or registerCancellableHeadlessTask called multiple times for same key '"+n+"'"),l.set(n,t),p.set(n,o)},startHeadlessTask:function(n,t,u){var c=l.get(t);if(!c)return console.warn("No task registered for key "+t),void(o.default&&o.default.notifyTaskFinished(n));c()(u).then(function(){o.default&&o.default.notifyTaskFinished(n)}).catch(function(t){console.error(t),o.default&&t instanceof s.default&&o.default.notifyTaskRetry(n).then(function(t){t||o.default.notifyTaskFinished(n)})})},cancelHeadlessTask:function(n,t){var o=p.get(t);if(!o)throw new Error("No task canceller registered for key '"+t+"'");o()()}};!0!==g.RN$Bridgeless&&(r(d[11]).registerCallableModule('AppRegistry',k),k.registerComponent('LogBox',function(){return function(){return null}})),m.exports=k},328,[3,81,329,330,20,331,336,263,337,341,35,26]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=o?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(u,a,f):u[a]=e[a]}return u.default=e,n&&n.set(e,u),u})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('HeadlessJsTaskSupport')},329,[19]);
__d(function(g,r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=r(d[0])(r(d[1])),e=r(d[0])(r(d[2])),u=r(d[0])(r(d[3])),n=r(d[0])(r(d[4])),o=r(d[0])(r(d[5])),f=r(d[0])(r(d[6]));function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}_e.default=(function(f){function c(){return(0,e.default)(this,c),t=this,o=c,f=arguments,o=(0,n.default)(o),(0,u.default)(t,l()?Reflect.construct(o,f||[],(0,n.default)(t).constructor):o.apply(t,f));var t,o,f}return(0,o.default)(c,f),(0,t.default)(c)})((0,f.default)(Error))},330,[3,13,12,45,44,47,49]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2]));r(d[0])(r(d[3])),r(d[4]);r(d[5]),m.exports=function(o,c,l,s,p,u,x,_,f,v,h){r(d[6])(l,'Expect to have a valid rootTag, instead got ',l);var j=null!=x?x:t.default,R=(0,r(d[7]).jsx)(n.default.Provider,{value:j,children:(0,r(d[7]).jsx)(r(d[8]),{rootTag:l,fabric:p,showArchitectureIndicator:u,WrapperComponent:s,initialProps:null!=c?c:Object.freeze({}),internal_excludeLogBox:_,children:(0,r(d[7]).jsx)(o,Object.assign({},c,{rootTag:l}))})});j.startTimespan('renderApplication_React_render'),j.setExtra('usedReactConcurrentRoot',h?'1':'0'),j.setExtra('usedReactFabric',p?'1':'0'),p?r(d[9]).render(R,l,null,h):r(d[10]).render(R,l),j.stopTimespan('renderApplication_React_render')}},331,[3,80,332,333,119,334,20,179,335,127,35]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0,_e.usePerformanceLogger=function(){return(0,e.useContext)(u)};var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=o?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(u,f,a):u[f]=e[f]}return u.default=e,r&&r.set(e,u),u})(_r(d[0])),t=e,r=_r(d[1])(_r(d[2]));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}var u=t.createContext(r.default);_e.default=u},332,[119,3,80]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var u=n.get(t);u||((u=function(n){var t=n.children;return t}).displayName=t,n.set(t,u));return u};var n=new Map},333,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(){}m.exports=r(d[0]);var n={exitApp:t,addEventListener:function(n,o){return{remove:t}},removeEventListener:function(t,n){}};m.exports=n},334,[182]);
__d(function(g,_r,_i,_a,m,_e,d){var t=_r(d[0])(_r(d[1])),e=_r(d[0])(_r(d[2])),r=_r(d[0])(_r(d[3])),n=_r(d[0])(_r(d[4])),o=_r(d[0])(_r(d[5])),i=_r(d[0])(_r(d[6])),a=(_r(d[0])(_r(d[7])),_r(d[0])(_r(d[8])));function u(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(u=function(t){return t?r:e})(t)}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(s=function(){return!!t})()}var l=(function(a){function u(){var e,o,i,a;(0,t.default)(this,u);for(var l=arguments.length,c=new Array(l),p=0;p<l;p++)c[p]=arguments[p];return o=this,i=u,a=[].concat(c),i=(0,n.default)(i),(e=(0,r.default)(o,s()?Reflect.construct(i,a||[],(0,n.default)(o).constructor):i.apply(o,a))).state={inspector:null,mainKey:1,hasError:!1},e._subscription=null,e}return(0,o.default)(u,a),(0,e.default)(u,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){null!=this._subscription&&this._subscription.remove()}},{key:"render",value:function(){var t=this,e=(0,_r(d[10]).jsx)(i.default,{collapsable:!this.state.inspector,pointerEvents:"box-none",style:c.appContainer,ref:function(e){t._mainRef=e},children:this.props.children},this.state.mainKey),r=this.props.WrapperComponent;return null!=r&&(e=(0,_r(d[10]).jsx)(r,{initialProps:this.props.initialProps,fabric:!0===this.props.fabric,showArchitectureIndicator:!0===this.props.showArchitectureIndicator,children:e})),(0,_r(d[10]).jsx)(_r(d[11]).RootTagContext.Provider,{value:(0,_r(d[11]).createRootTag)(this.props.rootTag),children:(0,_r(d[10]).jsxs)(i.default,{style:c.appContainer,pointerEvents:"box-none",children:[!this.state.hasError&&e,this.state.inspector,null]})})}}])})((function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=u(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&{}.hasOwnProperty.call(t,i)){var a=o?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=t[i]}return n.default=t,r&&r.set(t,n),n})(_r(d[9])).Component);l.getDerivedStateFromError=void 0;var c=a.default.create({appContainer:{flex:1}});m.exports=l},335,[3,12,13,45,44,47,176,4,175,119,179,296]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.coerceDisplayMode=function(t){switch(t){case D.SUSPENDED:return D.SUSPENDED;case D.HIDDEN:return D.HIDDEN;default:return D.VISIBLE}},e.default=void 0;var D=Object.freeze({VISIBLE:1,SUSPENDED:2,HIDDEN:3});e.default=D},336,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),u=r(d[0])(r(d[2])),l=r(d[0])(r(d[3])),n=r(d[0])(r(d[4])),o=r(d[0])(r(d[5])),c=r(d[0])(r(d[6]));function s(){f.addFileSource('react_hierarchy.txt',function(){return r(d[7])()})}var f=(function(){function f(){(0,u.default)(this,f)}return(0,l.default)(f,null,[{key:"_maybeInit",value:function(){f._subscription||(f._subscription=n.default.addListener('collectBugExtraData',f.collectExtraData,null),s()),f._redboxSubscription||(f._redboxSubscription=n.default.addListener('collectRedBoxExtraData',f.collectExtraData,null))}},{key:"addSource",value:function(t,u){return this._addSource(t,u,f._extraSources)}},{key:"addFileSource",value:function(t,u){return this._addSource(t,u,f._fileSources)}},{key:"_addSource",value:function(t,u,l){return f._maybeInit(),l.has(t)&&console.warn("BugReporting.add* called multiple times for same key '"+t+"'"),l.set(t,u),{remove:function(){l.delete(t)}}}},{key:"collectExtraData",value:function(){var u={};for(var l of f._extraSources){var n=(0,t.default)(l,2),s=n[0],_=n[1];u[s]=_()}var x={};for(var S of f._fileSources){var v=(0,t.default)(S,2),p=v[0],b=v[1];x[p]=b()}return null!=c.default&&null!=c.default.setExtraData&&c.default.setExtraData(u,x),null!=o.default&&null!=o.default.setExtraData&&o.default.setExtraData(u,'From BugReporting.js'),{extras:u,files:x}}}])})();f._extraSources=new Map,f._fileSources=new Map,f._subscription=null,f._redboxSubscription=null,m.exports=f},337,[3,22,12,13,4,338,339,340]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=e[f]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('RedBox')},338,[19]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=o?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(u,f,a):u[f]=e[f]}return u.default=e,n&&n.set(e,u),u})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('BugReporting')},339,[19]);
__d(function(g,r,i,a,m,_e,d){'use strict';m.exports=function(){try{return"React tree dumps have been temporarily disabled while React is upgraded to Fiber."}catch(e){return'Failed to dump react tree: '+e}}},340,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=[],t={name:'default'},c={setActiveScene:function(c){t=c,n.forEach(function(n){return n(t)})},getActiveScene:function(){return t},addActiveSceneChangedListener:function(t){return n.push(t),{remove:function(){n=n.filter(function(n){return t!==n})}}}};m.exports=c},341,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),u=r(d[0])(r(d[3])),s=r(d[0])(r(d[4])),l=r(d[0])(r(d[5])),o=r(d[0])(r(d[6])),c=(function(){return(0,n.default)(function n(){var c=this;if((0,t.default)(this,n),this.currentState=null,null==l.default)this.isAvailable=!1;else{this.isAvailable=!0;var p=new u.default('ios'!==o.default.OS?null:l.default);this._emitter=p,this.currentState=l.default.getConstants().initialAppState;var f=!1;p.addListener('appStateDidChange',function(t){f=!0,c.currentState=t.app_state}),l.default.getCurrentAppState(function(t){f||c.currentState===t.app_state||(c.currentState=t.app_state,p.emit('appStateDidChange',t))},s.default)}},[{key:"addEventListener",value:function(t,n){var u=this._emitter;if(null==u)throw new Error('Cannot use AppState when `isAvailable` is false.');switch(t){case'change':var s=n;return u.addListener('appStateDidChange',function(t){s(t.app_state)});case'memoryWarning':var l=n;return u.addListener('memoryWarning',l);case'blur':case'focus':var o=n;return u.addListener('appStateFocusChange',function(n){'blur'!==t||n||o(),'focus'===t&&n&&o()})}throw new Error('Trying to subscribe to unknown event: '+t)}}])})();m.exports=new c},342,[3,12,13,93,343,344,17]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(){for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];if(1===n.length&&n[0]instanceof Error){var t=n[0];console.error('Error: "'+t.message+'".  Stack:\n'+t.stack)}else console.error.apply(console,n)}},343,[]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=e[f]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.getEnforcing('AppState')},344,[19]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0])(r(d[1])),t=r(d[0])(r(d[2])),n=r(d[0])(r(d[3])),u=r(d[0])(r(d[4])),i=n.default||t.default,o={_getRequests:[],_getKeys:[],_immediate:null,getItem:function(e,t){return(0,u.default)(i,'RCTAsyncStorage not available'),new Promise(function(n,u){i.multiGet([e],function(e,i){var o=i&&i[0]&&i[0][1]?i[0][1]:null,s=l(e);t&&t(s&&s[0],o),s?u(s[0]):n(o)})})},setItem:function(e,t,n){return(0,u.default)(i,'RCTAsyncStorage not available'),new Promise(function(u,o){i.multiSet([[e,t]],function(e){var t=l(e);n&&n(t&&t[0]),t?o(t[0]):u()})})},removeItem:function(e,t){return(0,u.default)(i,'RCTAsyncStorage not available'),new Promise(function(n,u){i.multiRemove([e],function(e){var i=l(e);t&&t(i&&i[0]),i?u(i[0]):n()})})},mergeItem:function(e,t,n){return(0,u.default)(i,'RCTAsyncStorage not available'),new Promise(function(u,o){i.multiMerge([[e,t]],function(e){var t=l(e);n&&n(t&&t[0]),t?o(t[0]):u()})})},clear:function(e){return(0,u.default)(i,'RCTAsyncStorage not available'),new Promise(function(t,n){i.clear(function(u){e&&e(s(u)),u&&s(u)?n(s(u)):t()})})},getAllKeys:function(e){return(0,u.default)(i,'RCTAsyncStorage not available'),new Promise(function(t,n){i.getAllKeys(function(u,i){e&&e(s(u),i),u?n(s(u)):t(i)})})},flushGetRequests:function(){var t=this._getRequests,n=this._getKeys;this._getRequests=[],this._getKeys=[],(0,u.default)(i,'RCTAsyncStorage not available'),i.multiGet(n,function(n,u){var i={};u&&u.forEach(function(t){var n=(0,e.default)(t,2),u=n[0],o=n[1];return i[u]=o,o});for(var o=t.length,l=0;l<o;l++){var s=t[l],c=s.keys.map(function(e){return[e,i[e]]});s.callback&&s.callback(null,c),s.resolve&&s.resolve(c)}})},multiGet:function(e,t){var n=this;return this._immediate||(this._immediate=setImmediate(function(){n._immediate=null,n.flushGetRequests()})),new Promise(function(u,i){n._getRequests.push({keys:e,callback:t,keyIndex:n._getKeys.length,resolve:u,reject:i}),e.forEach(function(e){-1===n._getKeys.indexOf(e)&&n._getKeys.push(e)})})},multiSet:function(e,t){return(0,u.default)(i,'RCTAsyncStorage not available'),new Promise(function(n,u){i.multiSet(e,function(e){var i=l(e);t&&t(i),i?u(i):n()})})},multiRemove:function(e,t){return(0,u.default)(i,'RCTAsyncStorage not available'),new Promise(function(n,u){i.multiRemove(e,function(e){var i=l(e);t&&t(i),i?u(i):n()})})},multiMerge:function(e,t){return(0,u.default)(i,'RCTAsyncStorage not available'),new Promise(function(n,u){i.multiMerge(e,function(e){var i=l(e);t&&t(i),i?u(i):n()})})}};function l(e){return e?(Array.isArray(e)?e:[e]).map(function(e){return s(e)}):null}function s(e){if(!e)return null;var t=new Error(e.message);return t.key=e.key,t}i&&!i.multiMerge&&(delete o.mergeItem,delete o.multiMerge),m.exports=o},345,[3,22,346,347,20]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=u?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('AsyncLocalStorage')},346,[19]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=e[f]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('AsyncSQLiteDBStorage')},347,[19]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1]));m.exports={getString:function(){return t.default.getString()},setString:function(n){t.default.setString(n)}}},348,[3,349]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=e[f]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.getEnforcing('Clipboard')},349,[19]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1]));m.exports=t.default},350,[3,161]);
__d(function(g,r,i,a,m,e,d){r(d[0])(r(d[1])),r(d[0])(r(d[2])),r(d[0])(r(d[3]));m.exports={addMenuItem:function(n,o){},reload:function(n){},onFastRefresh:function(){}}},351,[3,352,93,17]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=e[f]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.getEnforcing('DevSettings')},352,[19]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),l={canRecordVideos:function(l){return(0,n.default)(o.default,'ImagePickerIOS is not available'),o.default.canRecordVideos(l)},canUseCamera:function(l){return(0,n.default)(o.default,'ImagePickerIOS is not available'),o.default.canUseCamera(l)},openCameraDialog:function(l,t,u){(0,n.default)(o.default,'ImagePickerIOS is not available');var s={videoMode:!0,unmirrorFrontFacingCamera:!1};return null!=l.videoMode&&(s.videoMode=l.videoMode),null!=l.unmirrorFrontFacingCamera&&(s.unmirrorFrontFacingCamera=l.unmirrorFrontFacingCamera),o.default.openCameraDialog(s,t,u)},openSelectDialog:function(l,t,u){(0,n.default)(o.default,'ImagePickerIOS is not available');var s={showImages:!0,showVideos:!1};return null!=l.showImages&&(s.showImages=l.showImages),null!=l.showVideos&&(s.showVideos=l.showVideos),o.default.openSelectDialog(s,t,u)},removePendingVideo:function(l){(0,n.default)(o.default,'ImagePickerIOS is not available'),o.default.removePendingVideo(l)},clearAllPendingVideos:function(){(0,n.default)(o.default,'ImagePickerIOS is not available'),o.default.clearAllPendingVideos()}};m.exports=l},353,[3,354,20]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=o?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(u,f,a):u[f]=e[f]}return u.default=e,n&&n.set(e,u),u})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('ImagePickerIOS')},354,[19]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0])(r(d[1])),e=r(d[0])(r(d[2])),n=r(d[0])(r(d[3])),u=r(d[0])(r(d[4])),l=r(d[0])(r(d[5])),f=r(d[0])(r(d[6])),o=r(d[0])(r(d[7])),c=r(d[0])(r(d[8])),s=r(d[0])(r(d[9])),v=r(d[0])(r(d[10])),p=r(d[0])(r(d[11])),L=r(d[0])(r(d[12]));function R(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(R=function(){return!!t})()}var U=(function(f){function U(){return(0,t.default)(this,U),e=this,l=U,f=['ios'===c.default.OS?(0,L.default)(s.default):void 0],l=(0,u.default)(l),(0,n.default)(e,R()?Reflect.construct(l,f||[],(0,u.default)(e).constructor):l.apply(e,f));var e,l,f}return(0,l.default)(U,f),(0,e.default)(U,[{key:"addEventListener",value:function(t,e,n){return this.addListener(t,e)}},{key:"openURL",value:function(t){return this._validateURL(t),'android'===c.default.OS?(0,L.default)(v.default).openURL(t):(0,L.default)(s.default).openURL(t)}},{key:"canOpenURL",value:function(t){return this._validateURL(t),'android'===c.default.OS?(0,L.default)(v.default).canOpenURL(t):(0,L.default)(s.default).canOpenURL(t)}},{key:"openSettings",value:function(){return'android'===c.default.OS?(0,L.default)(v.default).openSettings():(0,L.default)(s.default).openSettings()}},{key:"getInitialURL",value:function(){return'android'===c.default.OS?o.default.runAfterInteractions().then(function(){return(0,L.default)(v.default).getInitialURL()}):(0,L.default)(s.default).getInitialURL()}},{key:"sendIntent",value:function(t,e){return'android'===c.default.OS?(0,L.default)(v.default).sendIntent(t,e):new Promise(function(t,e){return e(new Error('Unsupported'))})}},{key:"_validateURL",value:function(t){(0,p.default)('string'==typeof t,'Invalid URL: should be a string. Was: '+t),(0,p.default)(t,'Invalid URL: cannot be empty')}}])})(f.default);m.exports=new U},355,[3,12,13,45,44,47,93,212,17,356,357,20,315]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=o?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(u,a,f):u[a]=e[a]}return u.default=e,n&&n.set(e,u),u})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('LinkingManager')},356,[19]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=e[f]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('IntentAndroid')},357,[19]);
__d(function(g,r,i,a,m,e,d){var n;r(d[0])(r(d[1])),r(d[0])(r(d[2]));n={install:function(){},uninstall:function(){},isInstalled:function(){return!1},ignoreLogs:function(n){},ignoreAllLogs:function(n){},clearAllLogs:function(){},addLog:function(n){},addException:function(n){}},m.exports=n},358,[3,17,112]);
__d(function(g,r,i,a,m,e,d){'use strict';var n={_initializeGestureState:function(n){n.moveX=0,n.moveY=0,n.x0=0,n.y0=0,n.dx=0,n.dy=0,n.vx=0,n.vy=0,n.numberActiveTouches=0,n._accountsForMovesUpTo=0},_updateGestureStateOnMove:function(n,o){n.numberActiveTouches=o.numberActiveTouches,n.moveX=r(d[0]).currentCentroidXOfTouchesChangedAfter(o,n._accountsForMovesUpTo),n.moveY=r(d[0]).currentCentroidYOfTouchesChangedAfter(o,n._accountsForMovesUpTo);var t=n._accountsForMovesUpTo,u=r(d[0]).previousCentroidXOfTouchesChangedAfter(o,t),s=r(d[0]).currentCentroidXOfTouchesChangedAfter(o,t),c=r(d[0]).previousCentroidYOfTouchesChangedAfter(o,t),p=r(d[0]).currentCentroidYOfTouchesChangedAfter(o,t),v=n.dx+(s-u),h=n.dy+(p-c),l=o.mostRecentTimeStamp-n._accountsForMovesUpTo;n.vx=(v-n.dx)/l,n.vy=(h-n.dy)/l,n.dx=v,n.dy=h,n._accountsForMovesUpTo=o.mostRecentTimeStamp},create:function(t){var u={handle:null},s={stateID:Math.random(),moveX:0,moveY:0,x0:0,y0:0,dx:0,dy:0,vx:0,vy:0,numberActiveTouches:0,_accountsForMovesUpTo:0};return{panHandlers:{onStartShouldSetResponder:function(n){return null!=t.onStartShouldSetPanResponder&&t.onStartShouldSetPanResponder(n,s)},onMoveShouldSetResponder:function(n){return null!=t.onMoveShouldSetPanResponder&&t.onMoveShouldSetPanResponder(n,s)},onStartShouldSetResponderCapture:function(o){return 1===o.nativeEvent.touches.length&&n._initializeGestureState(s),s.numberActiveTouches=o.touchHistory.numberActiveTouches,null!=t.onStartShouldSetPanResponderCapture&&t.onStartShouldSetPanResponderCapture(o,s)},onMoveShouldSetResponderCapture:function(o){var u=o.touchHistory;return s._accountsForMovesUpTo!==u.mostRecentTimeStamp&&(n._updateGestureStateOnMove(s,u),!!t.onMoveShouldSetPanResponderCapture&&t.onMoveShouldSetPanResponderCapture(o,s))},onResponderGrant:function(n){return u.handle||(u.handle=r(d[1]).createInteractionHandle()),s.x0=r(d[0]).currentCentroidX(n.touchHistory),s.y0=r(d[0]).currentCentroidY(n.touchHistory),s.dx=0,s.dy=0,t.onPanResponderGrant&&t.onPanResponderGrant(n,s),null==t.onShouldBlockNativeResponder||t.onShouldBlockNativeResponder(n,s)},onResponderReject:function(n){o(u,t.onPanResponderReject,n,s)},onResponderRelease:function(c){o(u,t.onPanResponderRelease,c,s),n._initializeGestureState(s)},onResponderStart:function(n){var o=n.touchHistory;s.numberActiveTouches=o.numberActiveTouches,t.onPanResponderStart&&t.onPanResponderStart(n,s)},onResponderMove:function(o){var u=o.touchHistory;s._accountsForMovesUpTo!==u.mostRecentTimeStamp&&(n._updateGestureStateOnMove(s,u),t.onPanResponderMove&&t.onPanResponderMove(o,s))},onResponderEnd:function(n){var c=n.touchHistory;s.numberActiveTouches=c.numberActiveTouches,o(u,t.onPanResponderEnd,n,s)},onResponderTerminate:function(c){o(u,t.onPanResponderTerminate,c,s),n._initializeGestureState(s)},onResponderTerminationRequest:function(n){return null==t.onPanResponderTerminationRequest||t.onPanResponderTerminationRequest(n,s)}},getInteractionHandle:function(){return u.handle}}}};function o(n,o,t,u){n.handle&&(r(d[1]).clearInteractionHandle(n.handle),n.handle=null),o&&o(t,u)}m.exports=n},359,[360,212]);
__d(function(g,r,_i,a,m,e,d){var n={centroidDimension:function(t,i,o,u){var c=t.touchBank,f=0,s=0,h=1===t.numberActiveTouches?t.touchBank[t.indexOfSingleActiveTouch]:null;if(null!==h)h.touchActive&&h.currentTimeStamp>i&&(f+=u&&o?h.currentPageX:u&&!o?h.currentPageY:!u&&o?h.previousPageX:h.previousPageY,s=1);else for(var v=0;v<c.length;v++){var C=c[v];if(null!=C&&C.touchActive&&C.currentTimeStamp>=i){f+=u&&o?C.currentPageX:u&&!o?C.currentPageY:!u&&o?C.previousPageX:C.previousPageY,s++}}return s>0?f/s:n.noCentroid},currentCentroidXOfTouchesChangedAfter:function(t,i){return n.centroidDimension(t,i,!0,!0)},currentCentroidYOfTouchesChangedAfter:function(t,i){return n.centroidDimension(t,i,!1,!0)},previousCentroidXOfTouchesChangedAfter:function(t,i){return n.centroidDimension(t,i,!0,!1)},previousCentroidYOfTouchesChangedAfter:function(t,i){return n.centroidDimension(t,i,!1,!1)},currentCentroidX:function(t){return n.centroidDimension(t,0,!0,!0)},currentCentroidY:function(t){return n.centroidDimension(t,0,!1,!0)},noCentroid:-1};m.exports=n},360,[]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),s=r(d[0])(r(d[3])),E=(r(d[0])(r(d[4])),r(d[0])(r(d[5])),r(d[0])(r(d[6])),Object.freeze({GRANTED:'granted',DENIED:'denied',NEVER_ASK_AGAIN:'never_ask_again'})),A=Object.freeze({READ_CALENDAR:'android.permission.READ_CALENDAR',WRITE_CALENDAR:'android.permission.WRITE_CALENDAR',CAMERA:'android.permission.CAMERA',READ_CONTACTS:'android.permission.READ_CONTACTS',WRITE_CONTACTS:'android.permission.WRITE_CONTACTS',GET_ACCOUNTS:'android.permission.GET_ACCOUNTS',ACCESS_FINE_LOCATION:'android.permission.ACCESS_FINE_LOCATION',ACCESS_COARSE_LOCATION:'android.permission.ACCESS_COARSE_LOCATION',ACCESS_BACKGROUND_LOCATION:'android.permission.ACCESS_BACKGROUND_LOCATION',RECORD_AUDIO:'android.permission.RECORD_AUDIO',READ_PHONE_STATE:'android.permission.READ_PHONE_STATE',CALL_PHONE:'android.permission.CALL_PHONE',READ_CALL_LOG:'android.permission.READ_CALL_LOG',WRITE_CALL_LOG:'android.permission.WRITE_CALL_LOG',ADD_VOICEMAIL:'com.android.voicemail.permission.ADD_VOICEMAIL',READ_VOICEMAIL:'com.android.voicemail.permission.READ_VOICEMAIL',WRITE_VOICEMAIL:'com.android.voicemail.permission.WRITE_VOICEMAIL',USE_SIP:'android.permission.USE_SIP',PROCESS_OUTGOING_CALLS:'android.permission.PROCESS_OUTGOING_CALLS',BODY_SENSORS:'android.permission.BODY_SENSORS',BODY_SENSORS_BACKGROUND:'android.permission.BODY_SENSORS_BACKGROUND',SEND_SMS:'android.permission.SEND_SMS',RECEIVE_SMS:'android.permission.RECEIVE_SMS',READ_SMS:'android.permission.READ_SMS',RECEIVE_WAP_PUSH:'android.permission.RECEIVE_WAP_PUSH',RECEIVE_MMS:'android.permission.RECEIVE_MMS',READ_EXTERNAL_STORAGE:'android.permission.READ_EXTERNAL_STORAGE',READ_MEDIA_IMAGES:'android.permission.READ_MEDIA_IMAGES',READ_MEDIA_VIDEO:'android.permission.READ_MEDIA_VIDEO',READ_MEDIA_AUDIO:'android.permission.READ_MEDIA_AUDIO',WRITE_EXTERNAL_STORAGE:'android.permission.WRITE_EXTERNAL_STORAGE',BLUETOOTH_CONNECT:'android.permission.BLUETOOTH_CONNECT',BLUETOOTH_SCAN:'android.permission.BLUETOOTH_SCAN',BLUETOOTH_ADVERTISE:'android.permission.BLUETOOTH_ADVERTISE',ACCESS_MEDIA_LOCATION:'android.permission.ACCESS_MEDIA_LOCATION',ACCEPT_HANDOVER:'android.permission.ACCEPT_HANDOVER',ACTIVITY_RECOGNITION:'android.permission.ACTIVITY_RECOGNITION',ANSWER_PHONE_CALLS:'android.permission.ANSWER_PHONE_CALLS',READ_PHONE_NUMBERS:'android.permission.READ_PHONE_NUMBERS',UWB_RANGING:'android.permission.UWB_RANGING',POST_NOTIFICATION:'android.permission.POST_NOTIFICATIONS',NEARBY_WIFI_DEVICES:'android.permission.NEARBY_WIFI_DEVICES'}),_=new((function(){return(0,s.default)(function o(){(0,n.default)(this,o),this.PERMISSIONS=A,this.RESULTS=E},[{key:"checkPermission",value:function(o){return console.warn('"PermissionsAndroid.checkPermission" is deprecated. Use "PermissionsAndroid.check" instead'),console.warn('"PermissionsAndroid" module works only for Android platform.'),Promise.resolve(!1)}},{key:"check",value:function(o){return console.warn('"PermissionsAndroid" module works only for Android platform.'),Promise.resolve(!1)}},{key:"requestPermission",value:(function(){var n=(0,o.default)(function*(o,n){return console.warn('"PermissionsAndroid.requestPermission" is deprecated. Use "PermissionsAndroid.request" instead'),console.warn('"PermissionsAndroid" module works only for Android platform.'),Promise.resolve(!1)});return function(o,s){return n.apply(this,arguments)}})()},{key:"request",value:(function(){var n=(0,o.default)(function*(o,n){return console.warn('"PermissionsAndroid" module works only for Android platform.'),Promise.resolve(this.RESULTS.DENIED)});return function(o,s){return n.apply(this,arguments)}})()},{key:"requestMultiple",value:function(o){return console.warn('"PermissionsAndroid" module works only for Android platform.'),Promise.resolve({})}}])})());m.exports=_},361,[3,270,12,13,105,362,20]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=e[f]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('PermissionsAndroid')},362,[19]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),o=r(d[0])(r(d[2])),n=r(d[0])(r(d[3])),l=r(d[0])(r(d[4])),u=r(d[0])(r(d[5])),c=r(d[0])(r(d[6])),f=new n.default('ios'!==c.default.OS?null:l.default),s=new Map,v=(function(){function n(o){var l=this;(0,t.default)(this,n),this._data={},this._remoteNotificationCompleteCallbackCalled=!1,this._isRemote=o.remote,this._isRemote&&(this._notificationId=o.notificationId),o.remote?Object.keys(o).forEach(function(t){var n=o[t];'aps'===t?(l._alert=n.alert,l._sound=n.sound,l._badgeCount=n.badge,l._category=n.category,l._contentAvailable=n['content-available'],l._threadID=n['thread-id']):l._data[t]=n}):(this._badgeCount=o.applicationIconBadgeNumber,this._sound=o.soundName,this._alert=o.alertBody,this._data=o.userInfo,this._category=o.category)}return(0,o.default)(n,[{key:"finish",value:function(t){this._isRemote&&this._notificationId&&!this._remoteNotificationCompleteCallbackCalled&&(this._remoteNotificationCompleteCallbackCalled=!0,(0,u.default)(l.default,'PushNotificationManager is not available.'),l.default.onFinishRemoteNotification(this._notificationId,t))}},{key:"getMessage",value:function(){return this._alert}},{key:"getSound",value:function(){return this._sound}},{key:"getCategory",value:function(){return this._category}},{key:"getAlert",value:function(){return this._alert}},{key:"getContentAvailable",value:function(){return this._contentAvailable}},{key:"getBadgeCount",value:function(){return this._badgeCount}},{key:"getData",value:function(){return this._data}},{key:"getThreadID",value:function(){return this._threadID}}],[{key:"presentLocalNotification",value:function(t){(0,u.default)(l.default,'PushNotificationManager is not available.'),l.default.presentLocalNotification(t)}},{key:"scheduleLocalNotification",value:function(t){(0,u.default)(l.default,'PushNotificationManager is not available.'),l.default.scheduleLocalNotification(t)}},{key:"cancelAllLocalNotifications",value:function(){(0,u.default)(l.default,'PushNotificationManager is not available.'),l.default.cancelAllLocalNotifications()}},{key:"removeAllDeliveredNotifications",value:function(){(0,u.default)(l.default,'PushNotificationManager is not available.'),l.default.removeAllDeliveredNotifications()}},{key:"getDeliveredNotifications",value:function(t){(0,u.default)(l.default,'PushNotificationManager is not available.'),l.default.getDeliveredNotifications(t)}},{key:"removeDeliveredNotifications",value:function(t){(0,u.default)(l.default,'PushNotificationManager is not available.'),l.default.removeDeliveredNotifications(t)}},{key:"setApplicationIconBadgeNumber",value:function(t){(0,u.default)(l.default,'PushNotificationManager is not available.'),l.default.setApplicationIconBadgeNumber(t)}},{key:"getApplicationIconBadgeNumber",value:function(t){(0,u.default)(l.default,'PushNotificationManager is not available.'),l.default.getApplicationIconBadgeNumber(t)}},{key:"cancelLocalNotifications",value:function(t){(0,u.default)(l.default,'PushNotificationManager is not available.'),l.default.cancelLocalNotifications(t)}},{key:"getScheduledLocalNotifications",value:function(t){(0,u.default)(l.default,'PushNotificationManager is not available.'),l.default.getScheduledLocalNotifications(t)}},{key:"addEventListener",value:function(t,o){var l;(0,u.default)('notification'===t||'register'===t||'registrationError'===t||'localNotification'===t,'PushNotificationIOS only supports `notification`, `register`, `registrationError`, and `localNotification` events'),'notification'===t?l=f.addListener("remoteNotificationReceived",function(t){o(new n(t))}):'localNotification'===t?l=f.addListener("localNotificationReceived",function(t){o(new n(t))}):'register'===t?l=f.addListener("remoteNotificationsRegistered",function(t){o(t.deviceToken)}):'registrationError'===t&&(l=f.addListener("remoteNotificationRegistrationError",function(t){o(t)})),s.set(t,l)}},{key:"removeEventListener",value:function(t,o){(0,u.default)('notification'===t||'register'===t||'registrationError'===t||'localNotification'===t,'PushNotificationIOS only supports `notification`, `register`, `registrationError`, and `localNotification` events');var n=s.get(t);n&&(n.remove(),s.delete(t))}},{key:"requestPermissions",value:function(t){var o={alert:!0,badge:!0,sound:!0};return t&&(o={alert:!!t.alert,badge:!!t.badge,sound:!!t.sound}),(0,u.default)(l.default,'PushNotificationManager is not available.'),l.default.requestPermissions(o)}},{key:"abandonPermissions",value:function(){(0,u.default)(l.default,'PushNotificationManager is not available.'),l.default.abandonPermissions()}},{key:"checkPermissions",value:function(t){(0,u.default)('function'==typeof t,'Must provide a valid callback'),(0,u.default)(l.default,'PushNotificationManager is not available.'),l.default.checkPermissions(t)}},{key:"getInitialNotification",value:function(){return(0,u.default)(l.default,'PushNotificationManager is not available.'),l.default.getInitialNotification().then(function(t){return t&&new n(t)})}},{key:"getAuthorizationStatus",value:function(t){(0,u.default)(l.default,'PushNotificationManager is not available.'),l.default.getAuthorizationStatus(t)}}])})();v.FetchResult={NewData:'UIBackgroundFetchResultNewData',NoData:'UIBackgroundFetchResultNoData',ResultFailed:'UIBackgroundFetchResultFailed'},m.exports=v},363,[3,12,13,93,364,20,17]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=u?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('PushNotificationManager')},364,[19]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),s=r(d[0])(r(d[2])),n=r(d[0])(r(d[3])),c=[],l={_settings:s.default&&s.default.getConstants().settings,get:function(t){return this._settings[t]},set:function(t){this._settings=Object.assign(this._settings,t),s.default.setValues(t)},watchKeys:function(t,s){'string'==typeof t&&(t=[t]),(0,n.default)(Array.isArray(t),'keys should be a string or array of strings');var l=c.length;return c.push({keys:t,callback:s}),l},clearWatch:function(t){t<c.length&&(c[t]={keys:[],callback:null})},_sendObservations:function(t){var s=this;Object.keys(t).forEach(function(n){var l=t[n],u=s._settings[n]!==l;s._settings[n]=l,u&&c.forEach(function(t){-1!==t.keys.indexOf(n)&&t.callback&&t.callback()})})}};t.default.addListener('settingsUpdated',l._sendObservations.bind(l)),m.exports=l},365,[3,4,366,20]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=e[f]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.getEnforcing('SettingsManager')},366,[19]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),o=r(d[0])(r(d[2])),n=r(d[0])(r(d[3])),s=(r(d[0])(r(d[4])),(function(){return(0,o.default)(function o(){(0,t.default)(this,o)},null,[{key:"share",value:function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(d[5])('object'==typeof t&&null!==t,'Content to share must be a valid object'),r(d[5])('string'==typeof t.url||'string'==typeof t.message,'At least one of URL and message is required'),r(d[5])('object'==typeof o&&null!==o,'Options must be a valid object'),new Promise(function(s,u){var c=r(d[6])(o.tintColor);r(d[5])(null==c||'number'==typeof c,'Unexpected color given for options.tintColor'),r(d[5])(n.default,'NativeActionSheetManager is not registered on iOS, but it should be.'),n.default.showShareActionSheetWithOptions({message:'string'==typeof t.message?t.message:void 0,url:'string'==typeof t.url?t.url:void 0,subject:o.subject,tintColor:'number'==typeof c?c:void 0,excludedActivityTypes:o.excludedActivityTypes},function(t){return u(t)},function(t,o){s(t?{action:'sharedAction',activityType:o}:{action:'dismissedAction',activityType:null})})})}}])})());s.sharedAction='sharedAction',s.dismissedAction='dismissedAction',m.exports=s},367,[3,12,13,325,368,20,133]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=o?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(u,f,a):u[f]=e[f]}return u.default=e,n&&n.set(e,u),u})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.get('ShareModule')},368,[19]);
__d(function(g,r,i,a,m,e,d){'use strict';var o={show:function(o,t){console.warn('ToastAndroid is not supported on this platform.')},showWithGravity:function(o,t,n){console.warn('ToastAndroid is not supported on this platform.')},showWithGravityAndOffset:function(o,t,n,s,p){console.warn('ToastAndroid is not supported on this platform.')}};m.exports=o},369,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return(0,r(d[2]).useSyncExternalStore)(function(n){var u=t.default.addChangeListener(n);return function(){return u.remove()}},function(){return t.default.getColorScheme()})};var t=r(d[0])(r(d[1]))},370,[3,326,371]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},371,[372]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);var n="function"==typeof Object.is?Object.is:function(t,n){return t===n&&(0!==t||1/t==1/n)||t!=t&&n!=n},u=t.useState,s=t.useEffect,c=t.useLayoutEffect,o=t.useDebugValue;function f(t){var u=t.getSnapshot;t=t.value;try{var s=u();return!n(t,s)}catch(t){return!0}}e.useSyncExternalStore=void 0!==t.useSyncExternalStore?t.useSyncExternalStore:function(t,n){var S=n(),v=u({inst:{value:S,getSnapshot:n}}),l=v[0].inst,y=v[1];return c(function(){l.value=S,l.getSnapshot=n,f(l)&&y({inst:l})},[t,S,n]),s(function(){return f(l)&&y({inst:l}),t(function(){f(l)&&y({inst:l})})},[t]),o(S),S}},372,[119]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var f=(0,u.useState)(function(){return n.default.get('window')}),o=(0,t.default)(f,2),c=o[0],l=o[1];return(0,u.useEffect)(function(){function t(t){var n=t.window;c.width===n.width&&c.height===n.height&&c.scale===n.scale&&c.fontScale===n.fontScale||l(n)}var u=n.default.addEventListener('change',t);return t({window:n.default.get('window')}),function(){u.remove()}},[c]),c};var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),u=r(d[3])},373,[3,22,160,119]);
__d(function(g,r,i,a,m,e,d){'use strict';var A=r(d[0])({BOM:"\ufeff",BULLET:"\u2022",BULLET_SP:"\xa0\u2022\xa0",MIDDOT:"\xb7",MIDDOT_SP:"\xa0\xb7\xa0",MIDDOT_KATAKANA:"\u30fb",MDASH:"\u2014",MDASH_SP:"\xa0\u2014\xa0",NDASH:"\u2013",NDASH_SP:"\xa0\u2013\xa0",NBSP:"\xa0",PIZZA:"\ud83c\udf55",TRIANGLE_LEFT:"\u25c0",TRIANGLE_RIGHT:"\u25b6"});m.exports=A},374,[168]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),n=!1,o=0,u=400;function f(f){var v=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||(n=!0,0===f[0]&&(t.default.vibrate(u),f=f.slice(1)),0!==f.length?setTimeout(function(){return l(++o,f,v,1)},f[0]):n=!1)}function l(f,v,c,b){if(n&&f===o){if(t.default.vibrate(u),b>=v.length){if(!c)return void(n=!1);b=0}setTimeout(function(){return l(f,v,c,b+1)},v[b])}}var v={vibrate:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!n)if('number'==typeof o)t.default.vibrate(o);else{if(!Array.isArray(o))throw new Error('Vibration pattern should be a number or array');f(o,l)}},cancel:function(){n=!1}};m.exports=v},375,[3,376]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=e[f]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.getEnforcing('Vibration')},376,[19]);
__d(function(g,r,i,a,m,_e,d){'use strict';function n(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(n=function(){return!!t})()}var t;t=(function(t){function e(){return r(d[3])(this,e),t=this,u=e,o=arguments,u=r(d[0])(u),r(d[1])(t,n()?Reflect.construct(u,o||[],r(d[0])(t).constructor):u.apply(t,o));var t,u,o}return r(d[4])(e,t),r(d[5])(e,[{key:"render",value:function(){return null}}],[{key:"ignoreWarnings",value:function(n){}},{key:"install",value:function(){}},{key:"uninstall",value:function(){}}])})(r(d[2]).Component),m.exports=t},377,[44,45,119,12,47,13]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicColorIOS=void 0;e.DynamicColorIOS=function(t){return(0,r(d[0]).DynamicColorIOSPrivate)({light:t.light,dark:t.dark,highContrastLight:t.highContrastLight,highContrastDark:t.highContrastDark})}},378,[136]);
__d(function(g,r,i,a,m,e,d){"use strict";void 0!==typeof Symbol&&Symbol.asyncIterator||(Symbol.asyncIterator=Symbol.for("Symbol.asyncIterator"))},379,[]);
__d(function(g,r,i,a,m,e,d){g.Buffer=r(d[0]).Buffer,g.process=r(d[1]),g.location={protocol:'file:'},g.navigator.userAgent='React Native',g.atob=r(d[2]).decode,g.btoa=r(d[2]).encode},380,[381,383,384]);
__d(function(g,r,_i,_a,_m,_e,d){'use strict';function t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t=function(){return!!e})()}var e='function'==typeof Symbol&&'function'==typeof Symbol.for?Symbol.for('nodejs.util.inspect.custom'):null;_e.Buffer=o,_e.SlowBuffer=function(t){+t!=t&&(t=0);return o.alloc(+t)},_e.INSPECT_MAX_BYTES=50;var n=2147483647;function i(t){if(t>n)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,o.prototype),e}function o(t,e,n){if('number'==typeof t){if('string'==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return f(t,e,n)}function f(t,e,n){if('string'==typeof t)return a(t,e);if(ArrayBuffer.isView(t))return c(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(nt(t,ArrayBuffer)||t&&nt(t.buffer,ArrayBuffer))return l(t,e,n);if('undefined'!=typeof SharedArrayBuffer&&(nt(t,SharedArrayBuffer)||t&&nt(t.buffer,SharedArrayBuffer)))return l(t,e,n);if('number'==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return o.from(i,e,n);var f=y(t);if(f)return f;if('undefined'!=typeof Symbol&&null!=Symbol.toPrimitive&&'function'==typeof t[Symbol.toPrimitive])return o.from(t[Symbol.toPrimitive]('string'),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if('number'!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function s(t,e,n){return u(t),t<=0?i(t):void 0!==e?'string'==typeof n?i(t).fill(e,n):i(t).fill(e):i(t)}function h(t){return u(t),i(t<0?0:0|w(t))}function a(t,e){if('string'==typeof e&&''!==e||(e='utf8'),!o.isEncoding(e))throw new TypeError('Unknown encoding: '+e);var n=0|v(t,e),f=i(n),u=f.write(t,e);return u!==n&&(f=f.slice(0,u)),f}function p(t){for(var e=t.length<0?0:0|w(t.length),n=i(e),o=0;o<e;o+=1)n[o]=255&t[o];return n}function c(t){if(nt(t,Uint8Array)){var e=new Uint8Array(t);return l(e.buffer,e.byteOffset,e.byteLength)}return p(t)}function l(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(i,o.prototype),i}function y(t){if(o.isBuffer(t)){var e=0|w(t.length),n=i(e);return 0===n.length?n:(t.copy(n,0,0,e),n)}return void 0!==t.length?'number'!=typeof t.length||it(t.length)?i(0):p(t):'Buffer'===t.type&&Array.isArray(t.data)?p(t.data):void 0}function w(t){if(t>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+' bytes');return 0|t}function v(t,e){if(o.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||nt(t,ArrayBuffer))return t.byteLength;if('string'!=typeof t)throw new TypeError("The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type "+typeof t);var n=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;for(var f=!1;;)switch(e){case'ascii':case'latin1':case'binary':return n;case'utf8':case'utf-8':return K(t).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return 2*n;case'hex':return n>>>1;case'base64':return rt(t).length;default:if(f)return i?-1:K(t).length;e=(''+e).toLowerCase(),f=!0}}function b(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return'';if((void 0===n||n>this.length)&&(n=this.length),n<=0)return'';if((n>>>=0)<=(e>>>=0))return'';for(t||(t='utf8');;)switch(t){case'hex':return P(this,e,n);case'utf8':case'utf-8':return L(this,e,n);case'ascii':return S(this,e,n);case'latin1':case'binary':return x(this,e,n);case'base64':return O(this,e,n);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return k(this,e,n);default:if(i)throw new TypeError('Unknown encoding: '+t);t=(t+'').toLowerCase(),i=!0}}function B(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function E(t,e,n,i,f){if(0===t.length)return-1;if('string'==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),it(n=+n)&&(n=f?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(f)return-1;n=t.length-1}else if(n<0){if(!f)return-1;n=0}if('string'==typeof e&&(e=o.from(e,i)),o.isBuffer(e))return 0===e.length?-1:m(t,e,n,i,f);if('number'==typeof e)return e&=255,'function'==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,i,f);throw new TypeError('val must be string, number or Buffer')}function m(t,e,n,i,o){var f,u=1,s=t.length,h=e.length;if(void 0!==i&&('ucs2'===(i=String(i).toLowerCase())||'ucs-2'===i||'utf16le'===i||'utf-16le'===i)){if(t.length<2||e.length<2)return-1;u=2,s/=2,h/=2,n/=2}function a(t,e){return 1===u?t[e]:t.readUInt16BE(e*u)}if(o){var p=-1;for(f=n;f<s;f++)if(a(t,f)===a(e,-1===p?0:f-p)){if(-1===p&&(p=f),f-p+1===h)return p*u}else-1!==p&&(f-=f-p),p=-1}else for(n+h>s&&(n=s-h),f=n;f>=0;f--){for(var c=!0,l=0;l<h;l++)if(a(t,f+l)!==a(e,l)){c=!1;break}if(c)return f}return-1}function I(t,e,n,i){n=Number(n)||0;var o=t.length-n;i?(i=Number(i))>o&&(i=o):i=o;var f,u=e.length;for(i>u/2&&(i=u/2),f=0;f<i;++f){var s=parseInt(e.substr(2*f,2),16);if(it(s))return f;t[n+f]=s}return f}function U(t,e,n,i){return et(K(e,t.length-n),t,n,i)}function A(t,e,n,i){return et(Q(e),t,n,i)}function R(t,e,n,i){return et(rt(e),t,n,i)}function T(t,e,n,i){return et(tt(e,t.length-n),t,n,i)}function O(t,e,n){return 0===e&&n===t.length?r(d[2]).fromByteArray(t):r(d[2]).fromByteArray(t.slice(e,n))}function L(t,e,n){n=Math.min(t.length,n);for(var i=[],o=e;o<n;){var f=t[o],u=null,s=f>239?4:f>223?3:f>191?2:1;if(o+s<=n){var h=void 0,a=void 0,p=void 0,c=void 0;switch(s){case 1:f<128&&(u=f);break;case 2:128==(192&(h=t[o+1]))&&(c=(31&f)<<6|63&h)>127&&(u=c);break;case 3:h=t[o+1],a=t[o+2],128==(192&h)&&128==(192&a)&&(c=(15&f)<<12|(63&h)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:h=t[o+1],a=t[o+2],p=t[o+3],128==(192&h)&&128==(192&a)&&128==(192&p)&&(c=(15&f)<<18|(63&h)<<12|(63&a)<<6|63&p)>65535&&c<1114112&&(u=c)}}null===u?(u=65533,s=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),o+=s}return _(i)}_e.kMaxLength=n,o.TYPED_ARRAY_SUPPORT=(function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}})(),o.TYPED_ARRAY_SUPPORT||'undefined'==typeof console||'function'!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,'parent',{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,'offset',{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(t,e,n){return f(t,e,n)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(t,e,n){return s(t,e,n)},o.allocUnsafe=function(t){return h(t)},o.allocUnsafeSlow=function(t){return h(t)},o.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==o.prototype},o.compare=function(t,e){if(nt(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),nt(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,i=e.length,f=0,u=Math.min(n,i);f<u;++f)if(t[f]!==e[f]){n=t[f],i=e[f];break}return n<i?-1:i<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0;default:return!1}},o.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=o.allocUnsafe(e),f=0;for(n=0;n<t.length;++n){var u=t[n];if(nt(u,Uint8Array))f+u.length>i.length?(o.isBuffer(u)||(u=o.from(u)),u.copy(i,f)):Uint8Array.prototype.set.call(i,u,f);else{if(!o.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,f)}f+=u.length}return i},o.byteLength=v,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError('Buffer size must be a multiple of 16-bits');for(var e=0;e<t;e+=2)B(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError('Buffer size must be a multiple of 32-bits');for(var e=0;e<t;e+=4)B(this,e,e+3),B(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError('Buffer size must be a multiple of 64-bits');for(var e=0;e<t;e+=8)B(this,e,e+7),B(this,e+1,e+6),B(this,e+2,e+5),B(this,e+3,e+4);return this},o.prototype.toString=function(){var t=this.length;return 0===t?'':0===arguments.length?L(this,0,t):b.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError('Argument must be a Buffer');return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t='',e=_e.INSPECT_MAX_BYTES;return t=this.toString('hex',0,e).replace(/(.{2})/g,'$1 ').trim(),this.length>e&&(t+=' ... '),'<Buffer '+t+'>'},e&&(o.prototype[e]=o.prototype.inspect),o.prototype.compare=function(t,e,n,i,f){if(nt(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(t))throw new TypeError("The \"target\" argument must be one of type Buffer or Uint8Array. Received type "+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===f&&(f=this.length),e<0||n>t.length||i<0||f>this.length)throw new RangeError('out of range index');if(i>=f&&e>=n)return 0;if(i>=f)return-1;if(e>=n)return 1;if(this===t)return 0;for(var u=(f>>>=0)-(i>>>=0),s=(n>>>=0)-(e>>>=0),h=Math.min(u,s),a=this.slice(i,f),p=t.slice(e,n),c=0;c<h;++c)if(a[c]!==p[c]){u=a[c],s=p[c];break}return u<s?-1:s<u?1:0},o.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},o.prototype.indexOf=function(t,e,n){return E(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return E(this,t,e,n,!1)},o.prototype.write=function(t,e,n,i){if(void 0===e)i='utf8',n=this.length,e=0;else if(void 0===n&&'string'==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');e>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i='utf8')):(i=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError('Attempt to write outside buffer bounds');i||(i='utf8');for(var f=!1;;)switch(i){case'hex':return I(this,t,e,n);case'utf8':case'utf-8':return U(this,t,e,n);case'ascii':case'latin1':case'binary':return A(this,t,e,n);case'base64':return R(this,t,e,n);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return T(this,t,e,n);default:if(f)throw new TypeError('Unknown encoding: '+i);i=(''+i).toLowerCase(),f=!0}},o.prototype.toJSON=function(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;function _(t){var e=t.length;if(e<=M)return String.fromCharCode.apply(String,t);for(var n='',i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=M));return n}function S(t,e,n){var i='';n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(127&t[o]);return i}function x(t,e,n){var i='';n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(t[o]);return i}function P(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var o='',f=e;f<n;++f)o+=ot[t[f]];return o}function k(t,e,n){for(var i=t.slice(e,n),o='',f=0;f<i.length-1;f+=2)o+=String.fromCharCode(i[f]+256*i[f+1]);return o}function C(t,e,n){if(t%1!=0||t<0)throw new RangeError('offset is not uint');if(t+e>n)throw new RangeError('Trying to access beyond buffer length')}function N(t,e,n,i,f,u){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>f||e<u)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError('Index out of range')}function F(t,e,n,i,o){X(e,i,o,t,n,7);var f=Number(e&BigInt(4294967295));t[n++]=f,f>>=8,t[n++]=f,f>>=8,t[n++]=f,f>>=8,t[n++]=f;var u=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=u,u>>=8,t[n++]=u,u>>=8,t[n++]=u,u>>=8,t[n++]=u,n}function j(t,e,n,i,o){X(e,i,o,t,n,7);var f=Number(e&BigInt(4294967295));t[n+7]=f,f>>=8,t[n+6]=f,f>>=8,t[n+5]=f,f>>=8,t[n+4]=f;var u=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=u,u>>=8,t[n+2]=u,u>>=8,t[n+1]=u,u>>=8,t[n]=u,n+8}function D(t,e,n,i,o,f){if(n+i>t.length)throw new RangeError('Index out of range');if(n<0)throw new RangeError('Index out of range')}function z(t,e,n,i,o){return e=+e,n>>>=0,o||D(t,0,n,4),r(d[3]).write(t,e,n,i,23,4),n+4}function Y(t,e,n,i,o){return e=+e,n>>>=0,o||D(t,0,n,8),r(d[3]).write(t,e,n,i,52,8),n+8}o.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var i=this.subarray(t,e);return Object.setPrototypeOf(i,o.prototype),i},o.prototype.readUintLE=o.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||C(t,e,this.length);for(var i=this[t],o=1,f=0;++f<e&&(o*=256);)i+=this[t+f]*o;return i},o.prototype.readUintBE=o.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||C(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i},o.prototype.readUint8=o.prototype.readUInt8=function(t,e){return t>>>=0,e||C(t,1,this.length),this[t]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(t,e){return t>>>=0,e||C(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(t,e){return t>>>=0,e||C(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(t,e){return t>>>=0,e||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(t,e){return t>>>=0,e||C(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readBigUInt64LE=ft(function(t){J(t>>>=0,'offset');var e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Z(t,this.length-8);var i=e+this[++t]*Math.pow(2,8)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,24),o=this[++t]+this[++t]*Math.pow(2,8)+this[++t]*Math.pow(2,16)+n*Math.pow(2,24);return BigInt(i)+(BigInt(o)<<BigInt(32))}),o.prototype.readBigUInt64BE=ft(function(t){J(t>>>=0,'offset');var e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Z(t,this.length-8);var i=e*Math.pow(2,24)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,8)+this[++t],o=this[++t]*Math.pow(2,24)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,8)+n;return(BigInt(i)<<BigInt(32))+BigInt(o)}),o.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||C(t,e,this.length);for(var i=this[t],o=1,f=0;++f<e&&(o*=256);)i+=this[t+f]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},o.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||C(t,e,this.length);for(var i=e,o=1,f=this[t+--i];i>0&&(o*=256);)f+=this[t+--i]*o;return f>=(o*=128)&&(f-=Math.pow(2,8*e)),f},o.prototype.readInt8=function(t,e){return t>>>=0,e||C(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){t>>>=0,e||C(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){t>>>=0,e||C(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return t>>>=0,e||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return t>>>=0,e||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readBigInt64LE=ft(function(t){J(t>>>=0,'offset');var e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Z(t,this.length-8);var i=this[t+4]+this[t+5]*Math.pow(2,8)+this[t+6]*Math.pow(2,16)+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(e+this[++t]*Math.pow(2,8)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,24))}),o.prototype.readBigInt64BE=ft(function(t){J(t>>>=0,'offset');var e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Z(t,this.length-8);var i=(e<<24)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,8)+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*Math.pow(2,24)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,8)+n)}),o.prototype.readFloatLE=function(t,e){return t>>>=0,e||C(t,4,this.length),r(d[3]).read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return t>>>=0,e||C(t,4,this.length),r(d[3]).read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return t>>>=0,e||C(t,8,this.length),r(d[3]).read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return t>>>=0,e||C(t,8,this.length),r(d[3]).read(this,t,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e>>>=0,n>>>=0,i)||N(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,f=0;for(this[e]=255&t;++f<n&&(o*=256);)this[e+f]=t/o&255;return e+n},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e>>>=0,n>>>=0,i)||N(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,f=1;for(this[e+o]=255&t;--o>=0&&(f*=256);)this[e+o]=t/f&255;return e+n},o.prototype.writeUint8=o.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,1,255,0),this[e]=255&t,e+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},o.prototype.writeBigUInt64LE=ft(function(t){return F(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt('0xffffffffffffffff'))}),o.prototype.writeBigUInt64BE=ft(function(t){return j(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt('0xffffffffffffffff'))}),o.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var o=Math.pow(2,8*n-1);N(this,t,e,n,o-1,-o)}var f=0,u=1,s=0;for(this[e]=255&t;++f<n&&(u*=256);)t<0&&0===s&&0!==this[e+f-1]&&(s=1),this[e+f]=(t/u>>0)-s&255;return e+n},o.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var o=Math.pow(2,8*n-1);N(this,t,e,n,o-1,-o)}var f=n-1,u=1,s=0;for(this[e+f]=255&t;--f>=0&&(u*=256);)t<0&&0===s&&0!==this[e+f+1]&&(s=1),this[e+f]=(t/u>>0)-s&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},o.prototype.writeBigInt64LE=ft(function(t){return F(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt('0x8000000000000000'),BigInt('0x7fffffffffffffff'))}),o.prototype.writeBigInt64BE=ft(function(t){return j(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt('0x8000000000000000'),BigInt('0x7fffffffffffffff'))}),o.prototype.writeFloatLE=function(t,e,n){return z(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return z(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return Y(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return Y(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,i){if(!o.isBuffer(t))throw new TypeError('argument should be a Buffer');if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError('targetStart out of bounds');if(n<0||n>=this.length)throw new RangeError('Index out of range');if(i<0)throw new RangeError('sourceEnd out of bounds');i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var f=i-n;return this===t&&'function'==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),e),f},o.prototype.fill=function(t,e,n,i){if('string'==typeof t){if('string'==typeof e?(i=e,e=0,n=this.length):'string'==typeof n&&(i=n,n=this.length),void 0!==i&&'string'!=typeof i)throw new TypeError('encoding must be a string');if('string'==typeof i&&!o.isEncoding(i))throw new TypeError('Unknown encoding: '+i);if(1===t.length){var f=t.charCodeAt(0);('utf8'===i&&f<128||'latin1'===i)&&(t=f)}}else'number'==typeof t?t&=255:'boolean'==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError('Out of range index');if(n<=e)return this;var u;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),'number'==typeof t)for(u=e;u<n;++u)this[u]=t;else{var s=o.isBuffer(t)?t:o.from(t,i),h=s.length;if(0===h)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(u=0;u<n-e;++u)this[u+e]=s[u%h]}return this};var G={};function V(e,n,i){G[e]=(function(i){function o(){var i,f,u,s;return r(d[4])(this,o),f=this,u=o,u=r(d[0])(u),i=r(d[1])(f,t()?Reflect.construct(u,s||[],r(d[0])(f).constructor):u.apply(f,s)),Object.defineProperty(i,'message',{value:n.apply(i,arguments),writable:!0,configurable:!0}),i.name=i.name+" ["+e+"]",i.stack,delete i.name,i}return r(d[5])(o,i),r(d[6])(o,[{key:"code",get:function(){return e},set:function(t){Object.defineProperty(this,'code',{configurable:!0,enumerable:!0,value:t,writable:!0})}},{key:"toString",value:function(){return this.name+" ["+e+"]: "+this.message}}])})(i)}function q(t){for(var e='',n=t.length,i='-'===t[0]?1:0;n>=i+4;n-=3)e="_"+t.slice(n-3,n)+e;return""+t.slice(0,n)+e}function W(t,e,n){J(e,'offset'),void 0!==t[e]&&void 0!==t[e+n]||Z(e,t.length-(n+1))}function X(t,e,n,i,o,f){if(t>n||t<e){var u,s='bigint'==typeof e?'n':'';throw u=f>3?0===e||e===BigInt(0)?">= 0"+s+" and < 2"+s+" ** "+8*(f+1)+s:">= -(2"+s+" ** "+(8*(f+1)-1)+s+") and < 2 ** "+(8*(f+1)-1)+s:">= "+e+s+" and <= "+n+s,new G.ERR_OUT_OF_RANGE('value',u,t)}W(i,o,f)}function J(t,e){if('number'!=typeof t)throw new G.ERR_INVALID_ARG_TYPE(e,'number',t)}function Z(t,e,n){if(Math.floor(t)!==t)throw J(t,n),new G.ERR_OUT_OF_RANGE(n||'offset','an integer',t);if(e<0)throw new G.ERR_BUFFER_OUT_OF_BOUNDS;throw new G.ERR_OUT_OF_RANGE(n||'offset',">= "+(n?1:0)+" and <= "+e,t)}V('ERR_BUFFER_OUT_OF_BOUNDS',function(t){return t?t+" is outside of buffer bounds":'Attempt to access memory outside buffer bounds'},RangeError),V('ERR_INVALID_ARG_TYPE',function(t,e){return"The \""+t+"\" argument must be of type number. Received type "+typeof e},TypeError),V('ERR_OUT_OF_RANGE',function(t,e,n){var i="The value of \""+t+"\" is out of range.",o=n;return Number.isInteger(n)&&Math.abs(n)>Math.pow(2,32)?o=q(String(n)):'bigint'==typeof n&&(o=String(n),(n>Math.pow(BigInt(2),BigInt(32))||n<-Math.pow(BigInt(2),BigInt(32)))&&(o=q(o)),o+='n'),i+=" It must be "+e+". Received "+o},RangeError);var $=/[^+/0-9A-Za-z-_]/g;function H(t){if((t=(t=t.split('=')[0]).trim().replace($,'')).length<2)return'';for(;t.length%4!=0;)t+='=';return t}function K(t,e){var n;e=e||1/0;for(var i=t.length,o=null,f=[],u=0;u<i;++u){if((n=t.charCodeAt(u))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&f.push(239,191,189);continue}if(u+1===i){(e-=3)>-1&&f.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&f.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&f.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;f.push(n)}else if(n<2048){if((e-=2)<0)break;f.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;f.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error('Invalid code point');if((e-=4)<0)break;f.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return f}function Q(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function tt(t,e){for(var n,i,o,f=[],u=0;u<t.length&&!((e-=2)<0);++u)i=(n=t.charCodeAt(u))>>8,o=n%256,f.push(o),f.push(i);return f}function rt(t){return r(d[2]).toByteArray(H(t))}function et(t,e,n,i){var o;for(o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function nt(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function it(t){return t!=t}var ot=(function(){for(var t=new Array(256),e=0;e<16;++e)for(var n=16*e,i=0;i<16;++i)t[n+i]="0123456789abcdef"[e]+"0123456789abcdef"[i];return t})();function ft(t){return'undefined'==typeof BigInt?ut:t}function ut(){throw new Error('BigInt not supported')}},381,[44,45,82,382,12,47,13]);
__d(function(g,r,_i,a,_m,_e,_d){_e.read=function(o,t,h,M,f){var w,p,i=8*f-M-1,n=(1<<i)-1,N=n>>1,e=-7,u=h?f-1:0,s=h?-1:1,c=o[t+u];for(u+=s,w=c&(1<<-e)-1,c>>=-e,e+=i;e>0;w=256*w+o[t+u],u+=s,e-=8);for(p=w&(1<<-e)-1,w>>=-e,e+=M;e>0;p=256*p+o[t+u],u+=s,e-=8);if(0===w)w=1-N;else{if(w===n)return p?NaN:1/0*(c?-1:1);p+=Math.pow(2,M),w-=N}return(c?-1:1)*p*Math.pow(2,w-M)},_e.write=function(o,t,h,M,f,w){var p,i,n,N=8*w-f-1,e=(1<<N)-1,u=e>>1,s=23===f?Math.pow(2,-24)-Math.pow(2,-77):0,c=M?0:w-1,l=M?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(i=isNaN(t)?1:0,p=e):(p=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-p))<1&&(p--,n*=2),(t+=p+u>=1?s/n:s*Math.pow(2,1-u))*n>=2&&(p++,n/=2),p+u>=e?(i=0,p=e):p+u>=1?(i=(t*n-1)*Math.pow(2,f),p+=u):(i=t*Math.pow(2,u-1)*Math.pow(2,f),p=0));f>=8;o[h+c]=255&i,c+=l,i/=256,f-=8);for(p=p<<f|i,N+=f;N>0;o[h+c]=255&p,c+=l,p/=256,N-=8);o[h+c-l]|=128*d}},382,[]);
__d(function(g,r,_i,a,m,_e,d){var t,e,n=m.exports={};function o(){throw new Error('setTimeout has not been defined')}function i(){throw new Error('clearTimeout has not been defined')}function u(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function c(t){if(e===clearTimeout)return clearTimeout(t);if((e===i||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!(function(){try{t='function'==typeof setTimeout?setTimeout:o}catch(e){t=o}try{e='function'==typeof clearTimeout?clearTimeout:i}catch(t){e=i}})();var s,l=[],f=!1,h=-1;function p(){f&&s&&(f=!1,s.length?l=s.concat(l):h=-1,l.length&&T())}function T(){if(!f){var t=u(p);f=!0;for(var e=l.length;e;){for(s=l,l=[];++h<e;)s&&s[h].run();h=-1,e=l.length}s=null,f=!1,c(t)}}function w(t,e){this.fun=t,this.array=e}function y(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new w(t,e)),1!==l.length||f||u(T)},w.prototype.run=function(){this.fun.apply(null,this.array)},n.title='browser',n.browser=!0,n.env={},n.argv=[],n.version='',n.versions={},n.on=y,n.addListener=y,n.once=y,n.off=y,n.removeListener=y,n.removeAllListeners=y,n.emit=y,n.prependListener=y,n.prependOnceListener=y,n.listeners=function(t){return[]},n.binding=function(t){throw new Error('process.binding is not supported')},n.cwd=function(){return'/'},n.chdir=function(t){throw new Error('process.chdir is not supported')},n.umask=function(){return 0}},383,[]);
__d(function(g,r,i,_a,m,e,_d){!(function(t){var n='object'==typeof e&&e,o='object'==typeof m&&m&&m.exports==n&&m,a='object'==typeof g&&g;a.global!==a&&a.window!==a||(t=a);var c=function(t){this.message=t};(c.prototype=new Error).name='InvalidCharacterError';var h=function(t){throw new c(t)},d='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',f=/[\t\n\f\r ]/g,s={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&h("The string to be encoded contains characters outside of the Latin1 range.");for(var n,o,a,c,f=t.length%3,s='',A=-1,l=t.length-f;++A<l;)n=t.charCodeAt(A)<<16,o=t.charCodeAt(++A)<<8,a=t.charCodeAt(++A),s+=d.charAt((c=n+o+a)>>18&63)+d.charAt(c>>12&63)+d.charAt(c>>6&63)+d.charAt(63&c);return 2==f?(n=t.charCodeAt(A)<<8,o=t.charCodeAt(++A),s+=d.charAt((c=n+o)>>10)+d.charAt(c>>4&63)+d.charAt(c<<2&63)+'='):1==f&&(c=t.charCodeAt(A),s+=d.charAt(c>>2)+d.charAt(c<<4&63)+'=='),s},decode:function(t){var n=(t=String(t).replace(f,'')).length;n%4==0&&(n=(t=t.replace(/==?$/,'')).length),(n%4==1||/[^+a-zA-Z0-9/]/.test(t))&&h('Invalid character: the string to be decoded is not correctly encoded.');for(var o,a,c=0,s='',A=-1;++A<n;)a=d.indexOf(t.charAt(A)),o=c%4?64*o+a:a,c++%4&&(s+=String.fromCharCode(255&o>>(-2*c&6)));return s},version:'0.1.0'};if('function'==typeof define&&'object'==typeof define.amd&&define.amd)define(function(){return s});else if(n&&!n.nodeType)if(o)o.exports=s;else for(var A in s)s.hasOwnProperty(A)&&(n[A]=s[A]);else t.base64=s})(this)},384,[]);
__d(function(g,_r,_i,a,m,_e,d){function t(t,e,o){return e=_r(d[0])(e),_r(d[1])(t,n()?Reflect.construct(e,o||[],_r(d[0])(t).constructor):e.apply(t,o))}function n(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(n=function(){return!!t})()}var e=_r(d[2]).NativeModules,o=(function(n){"use strict";function e(){return _r(d[3])(this,e),t(this,e,arguments)}return _r(d[4])(e,n),_r(d[5])(e)})(_r(d[6])(Error)),r=(function(n){"use strict";function e(){return _r(d[3])(this,e),t(this,e,arguments)}return _r(d[4])(e,n),_r(d[5])(e)})(_r(d[6])(Error));function u(t){if(e.RNGetRandomValues)return e.RNGetRandomValues.getRandomBase64(t);if(e.ExpoRandom)return e.ExpoRandom.getRandomBase64String(t);if(g.ExpoModules)return g.ExpoModules.ExpoRandom.getRandomBase64String(t);throw new Error('Native module not found')}'object'!=typeof g.crypto&&(g.crypto={}),'function'!=typeof g.crypto.getRandomValues&&(g.crypto.getRandomValues=function(t){if(!(t instanceof Int8Array||t instanceof Uint8Array||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Uint8ClampedArray))throw new o('Expected an integer array');if(t.byteLength>65536)throw new r('Can only request a maximum of 65536 bytes');return g.expo&&g.expo.modules&&g.expo.modules.ExpoCrypto&&g.expo.modules.ExpoCrypto.getRandomValues?(g.expo.modules.ExpoCrypto.getRandomValues(t),t):('RN$Bridgeless'in g&&RN$Bridgeless,_r(d[7])(u(t.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t)})},385,[44,45,1,12,47,13,49,386]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,62,0,62,0,63,52,53,54,55,56,57,58,59,60,61,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,0,0,0,0,63,0,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];m.exports=function(o,c){for(var h,A=o.length,C='='===o[A-2]?2:'='===o[A-1]?1:0,n=0,f=A-C&4294967292,i=0;i<f;i+=4)h=t[o.charCodeAt(i)]<<18|t[o.charCodeAt(i+1)]<<12|t[o.charCodeAt(i+2)]<<6|t[o.charCodeAt(i+3)],c[n++]=h>>16&255,c[n++]=h>>8&255,c[n++]=255&h;1===C&&(h=t[o.charCodeAt(i)]<<10|t[o.charCodeAt(i+1)]<<4|t[o.charCodeAt(i+2)]>>2,c[n++]=h>>8&255,c[n++]=255&h),2===C&&(h=t[o.charCodeAt(i)]<<2|t[o.charCodeAt(i+1)]>>4,c[n++]=255&h)}},386,[]);
__d(function(g,r,i,a,m,e,d){(0,r(d[0]).setupURLPolyfill)()},387,[388]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var t={setupURLPolyfill:!0};e.setupURLPolyfill=function(){g.REACT_NATIVE_URL_POLYFILL=r(d[3]).name+"@"+r(d[3]).version,(0,r(d[4]).polyfillGlobal)('URL',function(){return r(d[1]).URL}),(0,r(d[4]).polyfillGlobal)('URLSearchParams',function(){return r(d[2]).URLSearchParams})},r(d[0]),Object.keys(r(d[1])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===r(d[1])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[1])[n]}}))}),Object.keys(r(d[2])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===r(d[2])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[2])[n]}}))})},388,[389,390,404,405,58]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=parseInt(t.Platform.Version,10);'ios'===t.Platform.OS&&10===n&&null==Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,'byteLength')&&Object.defineProperty(ArrayBuffer.prototype,'byteLength',{configurable:!0,enumerable:!1,get:function(){return null}})},389,[1]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.URL=void 0;var t=r(d[0]),o=null,n=t.NativeModules.BlobModule;n&&'string'==typeof n.BLOB_URI_SCHEME&&(o=n.BLOB_URI_SCHEME+':','string'==typeof n.BLOB_URI_HOST&&(o+="//"+n.BLOB_URI_HOST+"/")),r(d[1]).URL.createObjectURL=function(t){if(null===o)throw new Error('Cannot create URL for blob!');return""+o+t.data.blobId+"?offset="+t.data.offset+"&size="+t.size},r(d[1]).URL.revokeObjectURL=function(t){};e.URL=r(d[1]).URL},390,[1,391]);
__d(function(g,r,i,a,m,e,d){"use strict";var s={};r(d[0]).URL.install(s),r(d[0]).URLSearchParams.install(s),e.URL=s.URL,e.URLSearchParams=s.URLSearchParams,e.parseURL=r(d[1]).parseURL,e.basicURLParse=r(d[1]).basicURLParse,e.serializeURL=r(d[1]).serializeURL,e.serializeHost=r(d[1]).serializeHost,e.serializeInteger=r(d[1]).serializeInteger,e.serializeURLOrigin=r(d[1]).serializeURLOrigin,e.setTheUsername=r(d[1]).setTheUsername,e.setThePassword=r(d[1]).setThePassword,e.cannotHaveAUsernamePasswordPort=r(d[1]).cannotHaveAUsernamePasswordPort,e.percentDecode=r(d[2]).percentDecode},391,[392,396,400]);
__d(function(g,r,i,a,m,e,d){"use strict";e.URL=r(d[0]),e.URLSearchParams=r(d[1])},392,[393,401]);
__d(function(g,r,i,a,m,e,d){"use strict";var t={_mixedIntoPredicates:[],is:function(t){if(t){if(r(d[0]).hasOwn(t,r(d[0]).implSymbol)&&t[r(d[0]).implSymbol]instanceof r(d[1]).implementation)return!0;for(var o of m.exports._mixedIntoPredicates)if(o(t))return!0}return!1},isImpl:function(t){if(t){if(t instanceof r(d[1]).implementation)return!0;var o=r(d[0]).wrapperForImpl(t);for(var n of m.exports._mixedIntoPredicates)if(n(o))return!0}return!1},convert:function(t){var o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).context,n=void 0===o?"The provided value":o;if(m.exports.is(t))return r(d[0]).implForWrapper(t);throw new TypeError(n+" is not of type 'URL'.")},create:function(o,n,s){if(void 0===o[r(d[0]).ctorRegistrySymbol])throw new Error("Internal error: invalid global object");var l=o[r(d[0]).ctorRegistrySymbol].URL;if(void 0===l)throw new Error("Internal error: constructor URL is not installed on the passed global object");var p=Object.create(l.prototype);return p=t.setup(p,o,n,s)},createImpl:function(o,n,s){var l=t.create(o,n,s);return r(d[0]).implForWrapper(l)},_internalSetup:function(t){},setup:function(o,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return l.wrapper=o,t._internalSetup(o),Object.defineProperty(o,r(d[0]).implSymbol,{value:new(r(d[1]).implementation)(n,s,l),configurable:!0}),o[r(d[0]).implSymbol][r(d[0]).wrapperSymbol]=o,r(d[1]).init&&r(d[1]).init(o[r(d[0]).implSymbol],l),o},install:function(o){var n=(function(){return r(d[4])(function n(s){if(r(d[2])(this,n),arguments.length<1)throw new TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");var l=[],p=arguments[0];p=r(d[3]).USVString(p,{context:"Failed to construct 'URL': parameter 1"}),l.push(p);var h=arguments[1];return void 0!==h&&(h=r(d[3]).USVString(h,{context:"Failed to construct 'URL': parameter 2"})),l.push(h),t.setup(Object.create(this.constructor.prototype),o,l)},[{key:"toJSON",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[r(d[0]).implSymbol].toJSON()}},{key:"href",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[r(d[0]).implSymbol].href},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=r(d[3]).USVString(t,{context:"Failed to set the 'href' property on 'URL': The provided value"}),this[r(d[0]).implSymbol].href=t}},{key:"toString",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[r(d[0]).implSymbol].href}},{key:"origin",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[r(d[0]).implSymbol].origin}},{key:"protocol",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[r(d[0]).implSymbol].protocol},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=r(d[3]).USVString(t,{context:"Failed to set the 'protocol' property on 'URL': The provided value"}),this[r(d[0]).implSymbol].protocol=t}},{key:"username",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[r(d[0]).implSymbol].username},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=r(d[3]).USVString(t,{context:"Failed to set the 'username' property on 'URL': The provided value"}),this[r(d[0]).implSymbol].username=t}},{key:"password",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[r(d[0]).implSymbol].password},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=r(d[3]).USVString(t,{context:"Failed to set the 'password' property on 'URL': The provided value"}),this[r(d[0]).implSymbol].password=t}},{key:"host",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[r(d[0]).implSymbol].host},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=r(d[3]).USVString(t,{context:"Failed to set the 'host' property on 'URL': The provided value"}),this[r(d[0]).implSymbol].host=t}},{key:"hostname",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[r(d[0]).implSymbol].hostname},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=r(d[3]).USVString(t,{context:"Failed to set the 'hostname' property on 'URL': The provided value"}),this[r(d[0]).implSymbol].hostname=t}},{key:"port",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[r(d[0]).implSymbol].port},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=r(d[3]).USVString(t,{context:"Failed to set the 'port' property on 'URL': The provided value"}),this[r(d[0]).implSymbol].port=t}},{key:"pathname",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[r(d[0]).implSymbol].pathname},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=r(d[3]).USVString(t,{context:"Failed to set the 'pathname' property on 'URL': The provided value"}),this[r(d[0]).implSymbol].pathname=t}},{key:"search",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[r(d[0]).implSymbol].search},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=r(d[3]).USVString(t,{context:"Failed to set the 'search' property on 'URL': The provided value"}),this[r(d[0]).implSymbol].search=t}},{key:"searchParams",get:function(){var t=this;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return r(d[0]).getSameObject(this,"searchParams",function(){return r(d[0]).tryWrapperForImpl(t[r(d[0]).implSymbol].searchParams)})}},{key:"hash",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[r(d[0]).implSymbol].hash},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=r(d[3]).USVString(t,{context:"Failed to set the 'hash' property on 'URL': The provided value"}),this[r(d[0]).implSymbol].hash=t}}])})();Object.defineProperties(n.prototype,r(d[5])({toJSON:{enumerable:!0},href:{enumerable:!0},toString:{enumerable:!0},origin:{enumerable:!0},protocol:{enumerable:!0},username:{enumerable:!0},password:{enumerable:!0},host:{enumerable:!0},hostname:{enumerable:!0},port:{enumerable:!0},pathname:{enumerable:!0},search:{enumerable:!0},searchParams:{enumerable:!0},hash:{enumerable:!0}},Symbol.toStringTag,{value:"URL",configurable:!0})),void 0===o[r(d[0]).ctorRegistrySymbol]&&(o[r(d[0]).ctorRegistrySymbol]=Object.create(null)),o[r(d[0]).ctorRegistrySymbol].URL=n,Object.defineProperty(o,"URL",{configurable:!0,writable:!0,value:n})}};m.exports=t},393,[394,395,12,403,13,240]);
__d(function(g,r,_i,a,m,_e,d){"use strict";var e=Symbol("wrapper"),t=Symbol("impl"),o=Symbol("SameObject caches"),p=Symbol.for("[webidl2js]  constructor registry");function n(t){return t?t[e]:null}function y(e){return e?e[t]:null}var i=Symbol("internal"),l=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));var s=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get;var u=Symbol("supports property index"),c=Symbol("supported property indices"),b=Symbol("supports property name"),S=Symbol("supported property names"),f=Symbol("indexed property get"),x=Symbol("indexed property set new"),O=Symbol("indexed property set existing"),w=Symbol("named property get"),j=Symbol("named property set new"),P=Symbol("named property set existing"),I=Symbol("named property delete");m.exports={isObject:function(e){return"object"==typeof e&&null!==e||"function"==typeof e},hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},wrapperSymbol:e,implSymbol:t,getSameObject:function(e,t,p){return e[o]||(e[o]=Object.create(null)),t in e[o]?e[o][t]:(e[o][t]=p(),e[o][t])},ctorRegistrySymbol:p,wrapperForImpl:n,implForWrapper:y,tryWrapperForImpl:function(e){var t=n(e);return t||e},tryImplForWrapper:function(e){var t=y(e);return t||e},iterInternalSymbol:i,IteratorPrototype:l,isArrayBuffer:function(e){try{return s.call(e),!0}catch(e){return!1}},isArrayIndexPropName:function(e){if("string"!=typeof e)return!1;var t=e>>>0;return t!==Math.pow(2,32)-1&&e===""+t},supportsPropertyIndex:u,supportedPropertyIndices:c,supportsPropertyName:b,supportedPropertyNames:S,indexedGet:f,indexedSetNew:x,indexedSetExisting:O,namedGet:w,namedSetNew:j,namedSetExisting:P,namedDelete:I}},394,[]);
__d(function(g,r,i,a,m,e,d){"use strict";e.implementation=(function(){return r(d[3])(function t(s,n){r(d[0])(this,t);var u=n[0],l=n[1],h=null;if(void 0!==l&&null===(h=r(d[1]).basicURLParse(l)))throw new TypeError("Invalid base URL: "+l);var o=r(d[1]).basicURLParse(u,{baseURL:h});if(null===o)throw new TypeError("Invalid URL: "+u);var _=null!==o.query?o.query:"";this._url=o,this._query=r(d[2]).createImpl(s,[_],{doNotStripQMark:!0}),this._query._url=this},[{key:"href",get:function(){return r(d[1]).serializeURL(this._url)},set:function(t){var s=r(d[1]).basicURLParse(t);if(null===s)throw new TypeError("Invalid URL: "+t);this._url=s,this._query._list.splice(0);var n=s.query;null!==n&&(this._query._list=r(d[4]).parseUrlencoded(n))}},{key:"origin",get:function(){return r(d[1]).serializeURLOrigin(this._url)}},{key:"protocol",get:function(){return this._url.scheme+":"},set:function(t){r(d[1]).basicURLParse(t+":",{url:this._url,stateOverride:"scheme start"})}},{key:"username",get:function(){return this._url.username},set:function(t){r(d[1]).cannotHaveAUsernamePasswordPort(this._url)||r(d[1]).setTheUsername(this._url,t)}},{key:"password",get:function(){return this._url.password},set:function(t){r(d[1]).cannotHaveAUsernamePasswordPort(this._url)||r(d[1]).setThePassword(this._url,t)}},{key:"host",get:function(){var t=this._url;return null===t.host?"":null===t.port?r(d[1]).serializeHost(t.host):r(d[1]).serializeHost(t.host)+":"+r(d[1]).serializeInteger(t.port)},set:function(t){this._url.cannotBeABaseURL||r(d[1]).basicURLParse(t,{url:this._url,stateOverride:"host"})}},{key:"hostname",get:function(){return null===this._url.host?"":r(d[1]).serializeHost(this._url.host)},set:function(t){this._url.cannotBeABaseURL||r(d[1]).basicURLParse(t,{url:this._url,stateOverride:"hostname"})}},{key:"port",get:function(){return null===this._url.port?"":r(d[1]).serializeInteger(this._url.port)},set:function(t){r(d[1]).cannotHaveAUsernamePasswordPort(this._url)||(""===t?this._url.port=null:r(d[1]).basicURLParse(t,{url:this._url,stateOverride:"port"}))}},{key:"pathname",get:function(){return this._url.cannotBeABaseURL?this._url.path[0]:0===this._url.path.length?"":"/"+this._url.path.join("/")},set:function(t){this._url.cannotBeABaseURL||(this._url.path=[],r(d[1]).basicURLParse(t,{url:this._url,stateOverride:"path start"}))}},{key:"search",get:function(){return null===this._url.query||""===this._url.query?"":"?"+this._url.query},set:function(t){var s=this._url;if(""===t)return s.query=null,void(this._query._list=[]);var n="?"===t[0]?t.substring(1):t;s.query="",r(d[1]).basicURLParse(n,{url:s,stateOverride:"query"}),this._query._list=r(d[4]).parseUrlencoded(n)}},{key:"searchParams",get:function(){return this._query}},{key:"hash",get:function(){return null===this._url.fragment||""===this._url.fragment?"":"#"+this._url.fragment},set:function(t){if(""!==t){var s="#"===t[0]?t.substring(1):t;this._url.fragment="",r(d[1]).basicURLParse(s,{url:this._url,stateOverride:"fragment"})}else this._url.fragment=null}},{key:"toJSON",value:function(){return this.href}}])})()},395,[12,396,401,13,400]);
__d(function(g,r,_i,a,m,_e,d){"use strict";var t={ftp:21,file:null,http:80,https:443,ws:80,wss:443},s=Symbol("failure");function e(t){return r(d[0]).ucs2.decode(t).length}function i(t,s){var e=t[s];return isNaN(e)?void 0:String.fromCodePoint(e)}function h(t){return"."===t||"%2e"===t.toLowerCase()}function u(t){return 2===t.length&&r(d[1]).isASCIIAlpha(t.codePointAt(0))&&(":"===t[1]||"|"===t[1])}function n(s){return void 0!==t[s]}function o(t){return n(t.scheme)}function l(t){return!n(t.scheme)}function p(s){return t[s]}function f(t){for(var s=r(d[2]).Buffer.from(t),e="",i=0;i<s.length;++i)e+=r(d[3]).percentEncode(s[i]);return e}function c(t){return t<=31||t>126}var b=new Set([47,58,59,61,64,91,92,93,94,124]);function v(t){return I(t)||b.has(t)}var y=new Set([32,34,60,62,96]);function w(t){return c(t)||y.has(t)}var A=new Set([35,63,123,125]);function I(t){return w(t)||A.has(t)}function E(t,s){var e=String.fromCodePoint(t);return s(t)?f(e):e}function S(t){var e=10;if(t.length>=2&&"0"===t.charAt(0)&&"x"===t.charAt(1).toLowerCase()?(t=t.substring(2),e=16):t.length>=2&&"0"===t.charAt(0)&&(t=t.substring(1),e=8),""===t)return 0;var i=/[^0-7]/;return 10===e&&(i=/[^0-9]/),16===e&&(i=/[^0-9A-Fa-f]/),i.test(t)?s:parseInt(t,e)}function q(t){var e=t.split(".");if(""===e[e.length-1]&&e.length>1&&e.pop(),e.length>4)return t;var i=[];for(var h of e){if(""===h)return t;var u=S(h);if(u===s)return t;i.push(u)}for(var n=0;n<i.length-1;++n)if(i[n]>255)return s;if(i[i.length-1]>=Math.pow(256,5-i.length))return s;var o=i.pop(),l=0;for(var p of i)o+=p*Math.pow(256,3-l),++l;return o}function C(t){for(var s="",e=t,i=1;i<=4;++i)s=String(e%256)+s,4!==i&&(s="."+s),e=Math.floor(e/256);return s}function N(t){var e=[0,0,0,0,0,0,0,0],h=0,u=null,n=0;if(58===(t=r(d[0]).ucs2.decode(t))[n]){if(58!==t[n+1])return s;n+=2,u=++h}for(;n<t.length;){if(8===h)return s;if(58!==t[n]){for(var o=0,l=0;l<4&&r(d[1]).isASCIIHex(t[n]);)o=16*o+parseInt(i(t,n),16),++n,++l;if(46===t[n]){if(0===l)return s;if(n-=l,h>6)return s;for(var p=0;void 0!==t[n];){var f=null;if(p>0){if(!(46===t[n]&&p<4))return s;++n}if(!r(d[1]).isASCIIDigit(t[n]))return s;for(;r(d[1]).isASCIIDigit(t[n]);){var c=parseInt(i(t,n));if(null===f)f=c;else{if(0===f)return s;f=10*f+c}if(f>255)return s;++n}e[h]=256*e[h]+f,2!==++p&&4!==p||++h}if(4!==p)return s;break}if(58===t[n]){if(void 0===t[++n])return s}else if(void 0!==t[n])return s;e[h]=o,++h}else{if(null!==u)return s;++n,u=++h}}if(null!==u){var b=h-u;for(h=7;0!==h&&b>0;){var v=e[u+b-1];e[u+b-1]=e[h],e[h]=v,--h,--b}}else if(null===u&&8!==h)return s;return e}function O(t){for(var s="",e=U(t).idx,i=!1,h=0;h<=7;++h){if(!i||0!==t[h])if(i&&(i=!1),e!==h)s+=t[h].toString(16),7!==h&&(s+=":");else s+=0===h?"::":":",i=!0}return s}function x(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("["===t[0])return"]"!==t[t.length-1]?s:N(t.substring(1,t.length-1));if(e)return L(t);var i=B(r(d[3]).percentDecode(r(d[2]).Buffer.from(t)).toString());if(i===s)return s;if(-1!==i.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/))return s;var h=q(i);return"number"==typeof h||h===s?h:i}function L(t){if(-1!==t.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/))return s;for(var e="",i=r(d[0]).ucs2.decode(t),h=0;h<i.length;++h)e+=E(i[h],c);return e}function U(t){for(var s=null,e=1,i=null,h=0,u=0;u<t.length;++u)0!==t[u]?(h>e&&(s=i,e=h),i=null,h=0):(null===i&&(i=u),++h);return h>e&&(s=i,e=h),{idx:s,len:e}}function R(t){return"number"==typeof t?C(t):t instanceof Array?"["+O(t)+"]":t}function B(t){return null===t?s:t}function F(t){return t.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"")}function P(t){return t.replace(/\u0009|\u000A|\u000D/g,"")}function H(t){var s,e=t.path;0!==e.length&&("file"===t.scheme&&1===e.length&&(s=e[0],/^[A-Za-z]:$/.test(s))||e.pop())}function k(t){return""!==t.username||""!==t.password}function D(t,e,i,h,u){if(this.pointer=0,this.input=t,this.base=e||null,this.encodingOverride=i||"utf-8",this.stateOverride=u,this.url=h,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};var n=F(this.input);n!==this.input&&(this.parseError=!0),this.input=n}var o=P(this.input);for(o!==this.input&&(this.parseError=!0),this.input=o,this.state=u||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=r(d[0]).ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){var l=this.input[this.pointer],p=isNaN(l)?void 0:String.fromCodePoint(l),f=this["parse "+this.state](l,p);if(!f)break;if(f===s){this.failure=!0;break}}}D.prototype["parse scheme start"]=function(t,e){if(r(d[1]).isASCIIAlpha(t))this.buffer+=e.toLowerCase(),this.state="scheme";else{if(this.stateOverride)return this.parseError=!0,s;this.state="no scheme",--this.pointer}return!0},D.prototype["parse scheme"]=function(t,e){if(r(d[1]).isASCIIAlphanumeric(t)||43===t||45===t||46===t)this.buffer+=e.toLowerCase();else if(58===t){if(this.stateOverride){if(o(this.url)&&!n(this.buffer))return!1;if(!o(this.url)&&n(this.buffer))return!1;if((k(this.url)||null!==this.url.port)&&"file"===this.buffer)return!1;if("file"===this.url.scheme&&(""===this.url.host||null===this.url.host))return!1}if(this.url.scheme=this.buffer,this.stateOverride)return this.url.port===p(this.url.scheme)&&(this.url.port=null),!1;this.buffer="","file"===this.url.scheme?(47===this.input[this.pointer+1]&&47===this.input[this.pointer+2]||(this.parseError=!0),this.state="file"):o(this.url)&&null!==this.base&&this.base.scheme===this.url.scheme?this.state="special relative or authority":o(this.url)?this.state="special authority slashes":47===this.input[this.pointer+1]?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else{if(this.stateOverride)return this.parseError=!0,s;this.buffer="",this.state="no scheme",this.pointer=-1}return!0},D.prototype["parse no scheme"]=function(t){return null===this.base||this.base.cannotBeABaseURL&&35!==t?s:(this.base.cannotBeABaseURL&&35===t?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):"file"===this.base.scheme?(this.state="file",--this.pointer):(this.state="relative",--this.pointer),!0)},D.prototype["parse special relative or authority"]=function(t){return 47===t&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0},D.prototype["parse path or authority"]=function(t){return 47===t?this.state="authority":(this.state="path",--this.pointer),!0},D.prototype["parse relative"]=function(t){return this.url.scheme=this.base.scheme,isNaN(t)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):47===t?this.state="relative slash":63===t?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===t?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):o(this.url)&&92===t?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0},D.prototype["parse relative slash"]=function(t){return!o(this.url)||47!==t&&92!==t?47===t?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer):(92===t&&(this.parseError=!0),this.state="special authority ignore slashes"),!0},D.prototype["parse special authority slashes"]=function(t){return 47===t&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0},D.prototype["parse special authority ignore slashes"]=function(t){return 47!==t&&92!==t?(this.state="authority",--this.pointer):this.parseError=!0,!0},D.prototype["parse authority"]=function(t,i){if(64===t){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;for(var h=e(this.buffer),u=0;u<h;++u){var n=this.buffer.codePointAt(u);if(58!==n||this.passwordTokenSeenFlag){var l=E(n,v);this.passwordTokenSeenFlag?this.url.password+=l:this.url.username+=l}else this.passwordTokenSeenFlag=!0}this.buffer=""}else if(isNaN(t)||47===t||63===t||35===t||o(this.url)&&92===t){if(this.atFlag&&""===this.buffer)return this.parseError=!0,s;this.pointer-=e(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=i;return!0},D.prototype["parse hostname"]=D.prototype["parse host"]=function(t,e){if(this.stateOverride&&"file"===this.url.scheme)--this.pointer,this.state="file host";else if(58!==t||this.arrFlag)if(isNaN(t)||47===t||63===t||35===t||o(this.url)&&92===t){if(--this.pointer,o(this.url)&&""===this.buffer)return this.parseError=!0,s;if(this.stateOverride&&""===this.buffer&&(k(this.url)||null!==this.url.port))return this.parseError=!0,!1;var i=x(this.buffer,l(this.url));if(i===s)return s;if(this.url.host=i,this.buffer="",this.state="path start",this.stateOverride)return!1}else 91===t?this.arrFlag=!0:93===t&&(this.arrFlag=!1),this.buffer+=e;else{if(""===this.buffer)return this.parseError=!0,s;var h=x(this.buffer,l(this.url));if(h===s)return s;if(this.url.host=h,this.buffer="",this.state="port","hostname"===this.stateOverride)return!1}return!0},D.prototype["parse port"]=function(t,e){if(r(d[1]).isASCIIDigit(t))this.buffer+=e;else{if(!(isNaN(t)||47===t||63===t||35===t||o(this.url)&&92===t||this.stateOverride))return this.parseError=!0,s;if(""!==this.buffer){var i=parseInt(this.buffer);if(i>Math.pow(2,16)-1)return this.parseError=!0,s;this.url.port=i===p(this.url.scheme)?null:i,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}return!0};var z=new Set([47,92,63,35]);function T(t,s){var e,i,h=t.length-s;return h>=2&&(e=t[s],i=t[s+1],r(d[1]).isASCIIAlpha(e)&&(58===i||124===i))&&(2===h||z.has(t[s+2]))}D.prototype["parse file"]=function(t){return this.url.scheme="file",47===t||92===t?(92===t&&(this.parseError=!0),this.state="file slash"):null!==this.base&&"file"===this.base.scheme?isNaN(t)?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query):63===t?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===t?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):(T(this.input,this.pointer)?this.parseError=!0:(this.url.host=this.base.host,this.url.path=this.base.path.slice(),H(this.url)),this.state="path",--this.pointer):(this.state="path",--this.pointer),!0},D.prototype["parse file slash"]=function(t){var s;return 47===t||92===t?(92===t&&(this.parseError=!0),this.state="file host"):(null===this.base||"file"!==this.base.scheme||T(this.input,this.pointer)||(2===(s=this.base.path[0]).length&&r(d[1]).isASCIIAlpha(s.codePointAt(0))&&":"===s[1]?this.url.path.push(this.base.path[0]):this.url.host=this.base.host),this.state="path",--this.pointer),!0},D.prototype["parse file host"]=function(t,e){if(isNaN(t)||47===t||92===t||63===t||35===t)if(--this.pointer,!this.stateOverride&&u(this.buffer))this.parseError=!0,this.state="path";else if(""===this.buffer){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{var i=x(this.buffer,l(this.url));if(i===s)return s;if("localhost"===i&&(i=""),this.url.host=i,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=e;return!0},D.prototype["parse path start"]=function(t){return o(this.url)?(92===t&&(this.parseError=!0),this.state="path",47!==t&&92!==t&&--this.pointer):this.stateOverride||63!==t?this.stateOverride||35!==t?void 0!==t&&(this.state="path",47!==t&&--this.pointer):(this.url.fragment="",this.state="fragment"):(this.url.query="",this.state="query"),!0},D.prototype["parse path"]=function(t){if(isNaN(t)||47===t||o(this.url)&&92===t||!this.stateOverride&&(63===t||35===t)){if(o(this.url)&&92===t&&(this.parseError=!0),".."===(s=(s=this.buffer).toLowerCase())||"%2e."===s||".%2e"===s||"%2e%2e"===s?(H(this.url),47===t||o(this.url)&&92===t||this.url.path.push("")):!h(this.buffer)||47===t||o(this.url)&&92===t?h(this.buffer)||("file"===this.url.scheme&&0===this.url.path.length&&u(this.buffer)&&(""!==this.url.host&&null!==this.url.host&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)):this.url.path.push(""),this.buffer="","file"===this.url.scheme&&(void 0===t||63===t||35===t))for(;this.url.path.length>1&&""===this.url.path[0];)this.parseError=!0,this.url.path.shift();63===t&&(this.url.query="",this.state="query"),35===t&&(this.url.fragment="",this.state="fragment")}else 37!==t||r(d[1]).isASCIIHex(this.input[this.pointer+1])&&r(d[1]).isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=E(t,I);var s;return!0},D.prototype["parse cannot-be-a-base-URL path"]=function(t){return 63===t?(this.url.query="",this.state="query"):35===t?(this.url.fragment="",this.state="fragment"):(isNaN(t)||37===t||(this.parseError=!0),37!==t||r(d[1]).isASCIIHex(this.input[this.pointer+1])&&r(d[1]).isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),isNaN(t)||(this.url.path[0]+=E(t,c))),!0},D.prototype["parse query"]=function(t,s){if(isNaN(t)||!this.stateOverride&&35===t){o(this.url)&&"ws"!==this.url.scheme&&"wss"!==this.url.scheme||(this.encodingOverride="utf-8");for(var e=r(d[2]).Buffer.from(this.buffer),i=0;i<e.length;++i)e[i]<33||e[i]>126||34===e[i]||35===e[i]||60===e[i]||62===e[i]||39===e[i]&&o(this.url)?this.url.query+=r(d[3]).percentEncode(e[i]):this.url.query+=String.fromCodePoint(e[i]);this.buffer="",35===t&&(this.url.fragment="",this.state="fragment")}else 37!==t||r(d[1]).isASCIIHex(this.input[this.pointer+1])&&r(d[1]).isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=s;return!0},D.prototype["parse fragment"]=function(t){return isNaN(t)||(0===t?this.parseError=!0:(37!==t||r(d[1]).isASCIIHex(this.input[this.pointer+1])&&r(d[1]).isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.url.fragment+=E(t,w))),!0},m.exports.serializeURL=function(t,s){var e=t.scheme+":";if(null!==t.host?(e+="//",""===t.username&&""===t.password||(e+=t.username,""!==t.password&&(e+=":"+t.password),e+="@"),e+=R(t.host),null!==t.port&&(e+=":"+t.port)):null===t.host&&"file"===t.scheme&&(e+="//"),t.cannotBeABaseURL)e+=t.path[0];else for(var i of t.path)e+="/"+i;return null!==t.query&&(e+="?"+t.query),s||null===t.fragment||(e+="#"+t.fragment),e},m.exports.serializeURLOrigin=function(t){switch(t.scheme){case"blob":try{return m.exports.serializeURLOrigin(m.exports.parseURL(t.path[0]))}catch(t){return"null"}case"ftp":case"http":case"https":case"ws":case"wss":return s={scheme:t.scheme,host:t.host,port:t.port},e=s.scheme+"://",e+=R(s.host),null!==s.port&&(e+=":"+s.port),e;case"file":default:return"null"}var s,e},m.exports.basicURLParse=function(t,s){void 0===s&&(s={});var e=new D(t,s.baseURL,s.encodingOverride,s.url,s.stateOverride);return e.failure?null:e.url},m.exports.setTheUsername=function(t,s){t.username="";for(var e=r(d[0]).ucs2.decode(s),i=0;i<e.length;++i)t.username+=E(e[i],v)},m.exports.setThePassword=function(t,s){t.password="";for(var e=r(d[0]).ucs2.decode(s),i=0;i<e.length;++i)t.password+=E(e[i],v)},m.exports.serializeHost=R,m.exports.cannotHaveAUsernamePasswordPort=function(t){return null===t.host||""===t.host||t.cannotBeABaseURL||"file"===t.scheme},m.exports.serializeInteger=function(t){return String(t)},m.exports.parseURL=function(t,s){return void 0===s&&(s={}),m.exports.basicURLParse(t,{baseURL:s.baseURL,encodingOverride:s.encodingOverride})}},396,[397,398,399,400]);
__d(function(g,r,_i,a,_m,e,d){'use strict';var n=2147483647,o=/^xn--/,t=/[^\0-\x7F]/,i=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:'Overflow: input needs wider integers to process','not-basic':'Illegal input >= 0x80 (not a basic code point)','invalid-input':'Invalid input'},f=Math.floor,v=String.fromCharCode;function c(n){throw new RangeError(u[n])}function l(n,o){for(var t=[],i=n.length;i--;)t[i]=o(n[i]);return t}function s(n,o){var t=n.split('@'),u='';return t.length>1&&(u=t[0]+'@',n=t[1]),u+l((n=n.replace(i,'.')).split('.'),o).join('.')}function p(n){for(var o=[],t=0,i=n.length;t<i;){var u=n.charCodeAt(t++);if(u>=55296&&u<=56319&&t<i){var f=n.charCodeAt(t++);56320==(64512&f)?o.push(((1023&u)<<10)+(1023&f)+65536):(o.push(u),t--)}else o.push(u)}return o}var h=function(n,o){return n+22+75*(n<26)-((0!=o)<<5)},w=function(n,o,t){var i=0;for(n=t?f(n/700):n>>1,n+=f(n/o);n>455;i+=36)n=f(n/35);return f(i+36*n/(n+38))},C=function(o){var t,i=[],u=o.length,v=0,l=128,s=72,p=o.lastIndexOf("-");p<0&&(p=0);for(var h=0;h<p;++h)o.charCodeAt(h)>=128&&c('not-basic'),i.push(o.charCodeAt(h));for(var C=p>0?p+1:0;C<u;){for(var x=v,A=1,S=36;;S+=36){C>=u&&c('invalid-input');var b=(t=o.charCodeAt(C++))>=48&&t<58?t-48+26:t>=65&&t<91?t-65:t>=97&&t<123?t-97:36;b>=36&&c('invalid-input'),b>f((n-v)/A)&&c('overflow'),v+=b*A;var F=S<=s?1:S>=s+26?26:S-s;if(b<F)break;var I=36-F;A>f(n/I)&&c('overflow'),A*=I}var m=i.length+1;s=w(v-x,m,0==x),f(v/m)>n-l&&c('overflow'),l+=f(v/m),v%=m,i.splice(v++,0,l)}return String.fromCodePoint.apply(String,i)},x=function(o){var t=[],i=(o=p(o)).length,u=128,l=0,s=72;for(var C of o)C<128&&t.push(v(C));var x=t.length,A=x;for(x&&t.push("-");A<i;){var S=n;for(var b of o)b>=u&&b<S&&(S=b);var F=A+1;for(var I of(S-u>f((n-l)/F)&&c('overflow'),l+=(S-u)*F,u=S,o))if(I<u&&++l>n&&c('overflow'),I===u){for(var m=l,E=36;;E+=36){var j=E<=s?1:E>=s+26?26:E-s;if(m<j)break;var k=m-j,y=36-j;t.push(v(h(j+k%y,0))),m=f(k/y)}t.push(v(h(m,0))),s=w(l,F,A===x),l=0,++A}++l,++u}return t.join('')},A={version:'2.3.1',ucs2:{decode:p,encode:function(n){return String.fromCodePoint.apply(String,r(d[0])(n))}},decode:C,encode:x,toASCII:function(n){return s(n,function(n){return t.test(n)?'xn--'+x(n):n})},toUnicode:function(n){return s(n,function(n){return o.test(n)?C(n.slice(4).toLowerCase()):n})}};_m.exports=A},397,[6]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(n){return n>=48&&n<=57}function t(n){return n>=65&&n<=90||n>=97&&n<=122}m.exports={isASCIIDigit:n,isASCIIAlpha:t,isASCIIAlphanumeric:function(u){return t(u)||n(u)},isASCIIHex:function(t){return n(t)||t>=65&&t<=70||t>=97&&t<=102}}},398,[]);
__d(function(g,r,_i,_a,_m,_e,d){'use strict';var t='function'==typeof Symbol&&'function'==typeof Symbol.for?Symbol.for('nodejs.util.inspect.custom'):null;_e.Buffer=i,_e.SlowBuffer=function(t){+t!=t&&(t=0);return i.alloc(+t)},_e.INSPECT_MAX_BYTES=50;var e=2147483647;function n(t){if(t>e)throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=new Uint8Array(t);return Object.setPrototypeOf(n,i.prototype),n}function i(t,e,n){if('number'==typeof t){if('string'==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return s(t)}return o(t,e,n)}function o(t,e,n){if('string'==typeof t)return h(t,e);if(ArrayBuffer.isView(t))return p(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(J(t,ArrayBuffer)||t&&J(t.buffer,ArrayBuffer))return c(t,e,n);if('undefined'!=typeof SharedArrayBuffer&&(J(t,SharedArrayBuffer)||t&&J(t.buffer,SharedArrayBuffer)))return c(t,e,n);if('number'==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var o=t.valueOf&&t.valueOf();if(null!=o&&o!==t)return i.from(o,e,n);var f=l(t);if(f)return f;if('undefined'!=typeof Symbol&&null!=Symbol.toPrimitive&&'function'==typeof t[Symbol.toPrimitive])return i.from(t[Symbol.toPrimitive]('string'),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function f(t){if('number'!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function u(t,e,i){return f(t),t<=0?n(t):void 0!==e?'string'==typeof i?n(t).fill(e,i):n(t).fill(e):n(t)}function s(t){return f(t),n(t<0?0:0|y(t))}function h(t,e){if('string'==typeof e&&''!==e||(e='utf8'),!i.isEncoding(e))throw new TypeError('Unknown encoding: '+e);var o=0|w(t,e),f=n(o),u=f.write(t,e);return u!==o&&(f=f.slice(0,u)),f}function a(t){for(var e=t.length<0?0:0|y(t.length),i=n(e),o=0;o<e;o+=1)i[o]=255&t[o];return i}function p(t){if(J(t,Uint8Array)){var e=new Uint8Array(t);return c(e.buffer,e.byteOffset,e.byteLength)}return a(t)}function c(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var o;return o=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(o,i.prototype),o}function l(t){if(i.isBuffer(t)){var e=0|y(t.length),o=n(e);return 0===o.length?o:(t.copy(o,0,0,e),o)}return void 0!==t.length?'number'!=typeof t.length||Z(t.length)?n(0):a(t):'Buffer'===t.type&&Array.isArray(t.data)?a(t.data):void 0}function y(t){if(t>=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e.toString(16)+' bytes');return 0|t}function w(t,e){if(i.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||J(t,ArrayBuffer))return t.byteLength;if('string'!=typeof t)throw new TypeError("The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type "+typeof t);var n=t.length,o=arguments.length>2&&!0===arguments[2];if(!o&&0===n)return 0;for(var f=!1;;)switch(e){case'ascii':case'latin1':case'binary':return n;case'utf8':case'utf-8':return Y(t).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return 2*n;case'hex':return n>>>1;case'base64':return W(t).length;default:if(f)return o?-1:Y(t).length;e=(''+e).toLowerCase(),f=!0}}function v(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return'';if((void 0===n||n>this.length)&&(n=this.length),n<=0)return'';if((n>>>=0)<=(e>>>=0))return'';for(t||(t='utf8');;)switch(t){case'hex':return P(this,e,n);case'utf8':case'utf-8':return S(this,e,n);case'ascii':return x(this,e,n);case'latin1':case'binary':return C(this,e,n);case'base64':return L(this,e,n);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return k(this,e,n);default:if(i)throw new TypeError('Unknown encoding: '+t);t=(t+'').toLowerCase(),i=!0}}function b(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function m(t,e,n,o,f){if(0===t.length)return-1;if('string'==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=f?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(f)return-1;n=t.length-1}else if(n<0){if(!f)return-1;n=0}if('string'==typeof e&&(e=i.from(e,o)),i.isBuffer(e))return 0===e.length?-1:E(t,e,n,o,f);if('number'==typeof e)return e&=255,'function'==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):E(t,[e],n,o,f);throw new TypeError('val must be string, number or Buffer')}function E(t,e,n,i,o){var f,u=1,s=t.length,h=e.length;if(void 0!==i&&('ucs2'===(i=String(i).toLowerCase())||'ucs-2'===i||'utf16le'===i||'utf-16le'===i)){if(t.length<2||e.length<2)return-1;u=2,s/=2,h/=2,n/=2}function a(t,e){return 1===u?t[e]:t.readUInt16BE(e*u)}if(o){var p=-1;for(f=n;f<s;f++)if(a(t,f)===a(e,-1===p?0:f-p)){if(-1===p&&(p=f),f-p+1===h)return p*u}else-1!==p&&(f-=f-p),p=-1}else for(n+h>s&&(n=s-h),f=n;f>=0;f--){for(var c=!0,l=0;l<h;l++)if(a(t,f+l)!==a(e,l)){c=!1;break}if(c)return f}return-1}function B(t,e,n,i){n=Number(n)||0;var o=t.length-n;i?(i=Number(i))>o&&(i=o):i=o;var f=e.length;i>f/2&&(i=f/2);for(var u=0;u<i;++u){var s=parseInt(e.substr(2*u,2),16);if(Z(s))return u;t[n+u]=s}return u}function A(t,e,n,i){return X(Y(e,t.length-n),t,n,i)}function U(t,e,n,i){return X(q(e),t,n,i)}function T(t,e,n,i){return X(W(e),t,n,i)}function I(t,e,n,i){return X(V(e,t.length-n),t,n,i)}function L(t,e,n){return 0===e&&n===t.length?r(d[0]).fromByteArray(t):r(d[0]).fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var i=[],o=e;o<n;){var f,u,s,h,a=t[o],p=null,c=a>239?4:a>223?3:a>191?2:1;if(o+c<=n)switch(c){case 1:a<128&&(p=a);break;case 2:128==(192&(f=t[o+1]))&&(h=(31&a)<<6|63&f)>127&&(p=h);break;case 3:f=t[o+1],u=t[o+2],128==(192&f)&&128==(192&u)&&(h=(15&a)<<12|(63&f)<<6|63&u)>2047&&(h<55296||h>57343)&&(p=h);break;case 4:f=t[o+1],u=t[o+2],s=t[o+3],128==(192&f)&&128==(192&u)&&128==(192&s)&&(h=(15&a)<<18|(63&f)<<12|(63&u)<<6|63&s)>65535&&h<1114112&&(p=h)}null===p?(p=65533,c=1):p>65535&&(p-=65536,i.push(p>>>10&1023|55296),p=56320|1023&p),i.push(p),o+=c}return R(i)}_e.kMaxLength=e,i.TYPED_ARRAY_SUPPORT=(function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}})(),i.TYPED_ARRAY_SUPPORT||'undefined'==typeof console||'function'!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,'parent',{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,'offset',{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(t,e,n){return o(t,e,n)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(t,e,n){return u(t,e,n)},i.allocUnsafe=function(t){return s(t)},i.allocUnsafeSlow=function(t){return s(t)},i.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==i.prototype},i.compare=function(t,e){if(J(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),J(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(t)||!i.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,o=e.length,f=0,u=Math.min(n,o);f<u;++f)if(t[f]!==e[f]){n=t[f],o=e[f];break}return n<o?-1:o<n?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0;default:return!1}},i.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return i.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var o=i.allocUnsafe(e),f=0;for(n=0;n<t.length;++n){var u=t[n];if(J(u,Uint8Array))f+u.length>o.length?i.from(u).copy(o,f):Uint8Array.prototype.set.call(o,u,f);else{if(!i.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(o,f)}f+=u.length}return o},i.byteLength=w,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError('Buffer size must be a multiple of 16-bits');for(var e=0;e<t;e+=2)b(this,e,e+1);return this},i.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError('Buffer size must be a multiple of 32-bits');for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},i.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError('Buffer size must be a multiple of 64-bits');for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},i.prototype.toString=function(){var t=this.length;return 0===t?'':0===arguments.length?S(this,0,t):v.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(t){if(!i.isBuffer(t))throw new TypeError('Argument must be a Buffer');return this===t||0===i.compare(this,t)},i.prototype.inspect=function(){var t='',e=_e.INSPECT_MAX_BYTES;return t=this.toString('hex',0,e).replace(/(.{2})/g,'$1 ').trim(),this.length>e&&(t+=' ... '),'<Buffer '+t+'>'},t&&(i.prototype[t]=i.prototype.inspect),i.prototype.compare=function(t,e,n,o,f){if(J(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(t))throw new TypeError("The \"target\" argument must be one of type Buffer or Uint8Array. Received type "+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===o&&(o=0),void 0===f&&(f=this.length),e<0||n>t.length||o<0||f>this.length)throw new RangeError('out of range index');if(o>=f&&e>=n)return 0;if(o>=f)return-1;if(e>=n)return 1;if(this===t)return 0;for(var u=(f>>>=0)-(o>>>=0),s=(n>>>=0)-(e>>>=0),h=Math.min(u,s),a=this.slice(o,f),p=t.slice(e,n),c=0;c<h;++c)if(a[c]!==p[c]){u=a[c],s=p[c];break}return u<s?-1:s<u?1:0},i.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},i.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},i.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},i.prototype.write=function(t,e,n,i){if(void 0===e)i='utf8',n=this.length,e=0;else if(void 0===n&&'string'==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');e>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i='utf8')):(i=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError('Attempt to write outside buffer bounds');i||(i='utf8');for(var f=!1;;)switch(i){case'hex':return B(this,t,e,n);case'utf8':case'utf-8':return A(this,t,e,n);case'ascii':case'latin1':case'binary':return U(this,t,e,n);case'base64':return T(this,t,e,n);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return I(this,t,e,n);default:if(f)throw new TypeError('Unknown encoding: '+i);i=(''+i).toLowerCase(),f=!0}},i.prototype.toJSON=function(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function R(t){var e=t.length;if(e<=O)return String.fromCharCode.apply(String,t);for(var n='',i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=O));return n}function x(t,e,n){var i='';n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(127&t[o]);return i}function C(t,e,n){var i='';n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(t[o]);return i}function P(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var o='',f=e;f<n;++f)o+=$[t[f]];return o}function k(t,e,n){for(var i=t.slice(e,n),o='',f=0;f<i.length-1;f+=2)o+=String.fromCharCode(i[f]+256*i[f+1]);return o}function M(t,e,n){if(t%1!=0||t<0)throw new RangeError('offset is not uint');if(t+e>n)throw new RangeError('Trying to access beyond buffer length')}function _(t,e,n,o,f,u){if(!i.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>f||e<u)throw new RangeError('"value" argument is out of bounds');if(n+o>t.length)throw new RangeError('Index out of range')}function j(t,e,n,i,o,f){if(n+i>t.length)throw new RangeError('Index out of range');if(n<0)throw new RangeError('Index out of range')}function z(t,e,n,i,o){return e=+e,n>>>=0,o||j(t,0,n,4),r(d[1]).write(t,e,n,i,23,4),n+4}function D(t,e,n,i,o){return e=+e,n>>>=0,o||j(t,0,n,8),r(d[1]).write(t,e,n,i,52,8),n+8}i.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var o=this.subarray(t,e);return Object.setPrototypeOf(o,i.prototype),o},i.prototype.readUintLE=i.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||M(t,e,this.length);for(var i=this[t],o=1,f=0;++f<e&&(o*=256);)i+=this[t+f]*o;return i},i.prototype.readUintBE=i.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||M(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i},i.prototype.readUint8=i.prototype.readUInt8=function(t,e){return t>>>=0,e||M(t,1,this.length),this[t]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(t,e){return t>>>=0,e||M(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(t,e){return t>>>=0,e||M(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(t,e){return t>>>=0,e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(t,e){return t>>>=0,e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||M(t,e,this.length);for(var i=this[t],o=1,f=0;++f<e&&(o*=256);)i+=this[t+f]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},i.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||M(t,e,this.length);for(var i=e,o=1,f=this[t+--i];i>0&&(o*=256);)f+=this[t+--i]*o;return f>=(o*=128)&&(f-=Math.pow(2,8*e)),f},i.prototype.readInt8=function(t,e){return t>>>=0,e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){t>>>=0,e||M(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(t,e){t>>>=0,e||M(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(t,e){return t>>>=0,e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return t>>>=0,e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return t>>>=0,e||M(t,4,this.length),r(d[1]).read(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return t>>>=0,e||M(t,4,this.length),r(d[1]).read(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return t>>>=0,e||M(t,8,this.length),r(d[1]).read(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return t>>>=0,e||M(t,8,this.length),r(d[1]).read(this,t,!1,52,8)},i.prototype.writeUintLE=i.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e>>>=0,n>>>=0,i)||_(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,f=0;for(this[e]=255&t;++f<n&&(o*=256);)this[e+f]=t/o&255;return e+n},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e>>>=0,n>>>=0,i)||_(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,f=1;for(this[e+o]=255&t;--o>=0&&(f*=256);)this[e+o]=t/f&255;return e+n},i.prototype.writeUint8=i.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||_(this,t,e,1,255,0),this[e]=255&t,e+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||_(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||_(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||_(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||_(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},i.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var o=Math.pow(2,8*n-1);_(this,t,e,n,o-1,-o)}var f=0,u=1,s=0;for(this[e]=255&t;++f<n&&(u*=256);)t<0&&0===s&&0!==this[e+f-1]&&(s=1),this[e+f]=(t/u>>0)-s&255;return e+n},i.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var o=Math.pow(2,8*n-1);_(this,t,e,n,o-1,-o)}var f=n-1,u=1,s=0;for(this[e+f]=255&t;--f>=0&&(u*=256);)t<0&&0===s&&0!==this[e+f+1]&&(s=1),this[e+f]=(t/u>>0)-s&255;return e+n},i.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||_(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},i.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||_(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},i.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||_(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},i.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||_(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},i.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||_(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},i.prototype.writeFloatLE=function(t,e,n){return z(this,t,e,!0,n)},i.prototype.writeFloatBE=function(t,e,n){return z(this,t,e,!1,n)},i.prototype.writeDoubleLE=function(t,e,n){return D(this,t,e,!0,n)},i.prototype.writeDoubleBE=function(t,e,n){return D(this,t,e,!1,n)},i.prototype.copy=function(t,e,n,o){if(!i.isBuffer(t))throw new TypeError('argument should be a Buffer');if(n||(n=0),o||0===o||(o=this.length),e>=t.length&&(e=t.length),e||(e=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError('targetStart out of bounds');if(n<0||n>=this.length)throw new RangeError('Index out of range');if(o<0)throw new RangeError('sourceEnd out of bounds');o>this.length&&(o=this.length),t.length-e<o-n&&(o=t.length-e+n);var f=o-n;return this===t&&'function'==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,o):Uint8Array.prototype.set.call(t,this.subarray(n,o),e),f},i.prototype.fill=function(t,e,n,o){if('string'==typeof t){if('string'==typeof e?(o=e,e=0,n=this.length):'string'==typeof n&&(o=n,n=this.length),void 0!==o&&'string'!=typeof o)throw new TypeError('encoding must be a string');if('string'==typeof o&&!i.isEncoding(o))throw new TypeError('Unknown encoding: '+o);if(1===t.length){var f=t.charCodeAt(0);('utf8'===o&&f<128||'latin1'===o)&&(t=f)}}else'number'==typeof t?t&=255:'boolean'==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError('Out of range index');if(n<=e)return this;var u;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),'number'==typeof t)for(u=e;u<n;++u)this[u]=t;else{var s=i.isBuffer(t)?t:i.from(t,o),h=s.length;if(0===h)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(u=0;u<n-e;++u)this[u+e]=s[u%h]}return this};var F=/[^+/0-9A-Za-z-_]/g;function N(t){if((t=(t=t.split('=')[0]).trim().replace(F,'')).length<2)return'';for(;t.length%4!=0;)t+='=';return t}function Y(t,e){var n;e=e||1/0;for(var i=t.length,o=null,f=[],u=0;u<i;++u){if((n=t.charCodeAt(u))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&f.push(239,191,189);continue}if(u+1===i){(e-=3)>-1&&f.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&f.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&f.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;f.push(n)}else if(n<2048){if((e-=2)<0)break;f.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;f.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error('Invalid code point');if((e-=4)<0)break;f.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return f}function q(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function V(t,e){for(var n,i,o,f=[],u=0;u<t.length&&!((e-=2)<0);++u)i=(n=t.charCodeAt(u))>>8,o=n%256,f.push(o),f.push(i);return f}function W(t){return r(d[0]).toByteArray(N(t))}function X(t,e,n,i){for(var o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function J(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Z(t){return t!=t}var $=(function(){for(var t=new Array(256),e=0;e<16;++e)for(var n=16*e,i=0;i<16;++i)t[n+i]="0123456789abcdef"[e]+"0123456789abcdef"[i];return t})()},399,[82,382]);
__d(function(g,r,_i,a,m,e,d){"use strict";function n(n,f){for(var t=[],o=0,i=n.indexOf(f);i>=0;)t.push(n.slice(o,i)),o=i+1,i=n.indexOf(f,o);return o!==n.length&&t.push(n.slice(o)),t}function f(n,f,t){for(var o=n.indexOf(f);o>=0;)n[o]=t,o=n.indexOf(f,o+1);return n}function t(n){var f=n.toString(16).toUpperCase();return 1===f.length&&(f="0"+f),"%"+f}function o(n){for(var f=r(d[0]).Buffer.alloc(n.byteLength),t=0,o=0;o<n.length;++o)37===n[o]&&r(d[1]).isASCIIHex(n[o+1])&&r(d[1]).isASCIIHex(n[o+2])?(f[t++]=parseInt(n.slice(o+1,o+3).toString(),16),o+=2):f[t++]=n[o];return f.slice(0,t)}function i(t){var i=n(t,38),u=[];for(var c of i)if(0!==c.length){var l=void 0,s=void 0,v=c.indexOf(61);v>=0?(l=c.slice(0,v),s=c.slice(v+1)):(l=c,s=r(d[0]).Buffer.alloc(0)),l=f(r(d[0]).Buffer.from(l),43,32),s=f(r(d[0]).Buffer.from(s),43,32),u.push([o(l).toString(),o(s).toString()])}return u}function u(n){var f="";for(var o of n)f+=32===o?"+":42===o||45===o||46===o||o>=48&&o<=57||o>=65&&o<=90||95===o||o>=97&&o<=122?String.fromCodePoint(o):t(o);return f}m.exports={percentEncode:t,percentDecode:o,parseUrlencoded:function(n){return i(r(d[0]).Buffer.from(n))},serializeUrlencoded:function(n){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,t="utf-8";void 0!==f&&(t=f);var o="";for(var i of n.entries()){var c=r(d[2])(i,2),l=c[0],s=c[1],v=u(r(d[0]).Buffer.from(s[0])),h=s[1];s.length>2&&void 0!==s[2]&&("hidden"===s[2]&&"_charset_"===v?h=t:"file"===s[2]&&(h=h.name)),0!==l&&(o+="&"),o+=v+"="+(h=u(r(d[0]).Buffer.from(h)))}return o}}},400,[399,398,22]);
__d(function(g,r,_i,a,m,e,d){"use strict";var t=Object.create(r(d[0]).IteratorPrototype,r(d[1])({next:{value:function(){var t=this[r(d[0]).iterInternalSymbol],o=t.target,n=t.kind,i=t.index,l=Array.from(o[r(d[0]).implSymbol]);if(i>=l.length)return{value:void 0,done:!0};var s=l[i];t.index=i+1;var c,u=s.map(r(d[0]).tryWrapperForImpl),p=r(d[2])(u,2),h=p[0],y=p[1];switch(n){case"key":c=h;break;case"value":c=y;break;case"key+value":c=[h,y]}return{value:c,done:!1}},writable:!0,enumerable:!0,configurable:!0}},Symbol.toStringTag,{value:"URLSearchParams Iterator",configurable:!0})),o={_mixedIntoPredicates:[],is:function(t){if(t){if(r(d[0]).hasOwn(t,r(d[0]).implSymbol)&&t[r(d[0]).implSymbol]instanceof r(d[3]).implementation)return!0;for(var o of m.exports._mixedIntoPredicates)if(o(t))return!0}return!1},isImpl:function(t){if(t){if(t instanceof r(d[3]).implementation)return!0;var o=r(d[0]).wrapperForImpl(t);for(var n of m.exports._mixedIntoPredicates)if(n(o))return!0}return!1},convert:function(t){var o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).context,n=void 0===o?"The provided value":o;if(m.exports.is(t))return r(d[0]).implForWrapper(t);throw new TypeError(n+" is not of type 'URLSearchParams'.")},createDefaultIterator:function(o,n){var i=Object.create(t);return Object.defineProperty(i,r(d[0]).iterInternalSymbol,{value:{target:o,kind:n,index:0},configurable:!0}),i},create:function(t,n,i){if(void 0===t[r(d[0]).ctorRegistrySymbol])throw new Error("Internal error: invalid global object");var l=t[r(d[0]).ctorRegistrySymbol].URLSearchParams;if(void 0===l)throw new Error("Internal error: constructor URLSearchParams is not installed on the passed global object");var s=Object.create(l.prototype);return s=o.setup(s,t,n,i)},createImpl:function(t,n,i){var l=o.create(t,n,i);return r(d[0]).implForWrapper(l)},_internalSetup:function(t){},setup:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return l.wrapper=t,o._internalSetup(t),Object.defineProperty(t,r(d[0]).implSymbol,{value:new(r(d[3]).implementation)(n,i,l),configurable:!0}),t[r(d[0]).implSymbol][r(d[0]).wrapperSymbol]=t,r(d[3]).init&&r(d[3]).init(t[r(d[0]).implSymbol],l),t},install:function(t){var n=(function(){return r(d[6])(function n(){r(d[4])(this,n);var i=[],l=arguments[0];if(void 0!==l)if(r(d[0]).isObject(l))if(void 0!==l[Symbol.iterator]){if(!r(d[0]).isObject(l))throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence is not an iterable object.");var s=[],c=l;for(var u of c){if(!r(d[0]).isObject(u))throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element is not an iterable object.");var p=[],h=u;for(var y of h)y=r(d[5]).USVString(y,{context:"Failed to construct 'URLSearchParams': parameter 1 sequence's element's element"}),p.push(y);u=p,s.push(u)}l=s}else{if(!r(d[0]).isObject(l))throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 record is not an object.");var f=Object.create(null);for(var v of Reflect.ownKeys(l)){var b=Object.getOwnPropertyDescriptor(l,v);if(b&&b.enumerable){var S=v;S=r(d[5]).USVString(S,{context:"Failed to construct 'URLSearchParams': parameter 1 record's key"});var w=l[v];w=r(d[5]).USVString(w,{context:"Failed to construct 'URLSearchParams': parameter 1 record's value"}),f[S]=w}}l=f}else l=r(d[5]).USVString(l,{context:"Failed to construct 'URLSearchParams': parameter 1"});else l="";return i.push(l),o.setup(Object.create(this.constructor.prototype),t,i)},[{key:"append",value:function(t,o){var n;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<2)throw new TypeError("Failed to execute 'append' on 'URLSearchParams': 2 arguments required, but only "+arguments.length+" present.");var i=[],l=arguments[0];l=r(d[5]).USVString(l,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 1"}),i.push(l);var s=arguments[1];return s=r(d[5]).USVString(s,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 2"}),i.push(s),(n=this[r(d[0]).implSymbol]).append.apply(n,i)}},{key:"delete",value:function(t){var o;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'delete' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");var n=[],i=arguments[0];return i=r(d[5]).USVString(i,{context:"Failed to execute 'delete' on 'URLSearchParams': parameter 1"}),n.push(i),(o=this[r(d[0]).implSymbol]).delete.apply(o,n)}},{key:"get",value:function(t){var o;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'get' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");var n=[],i=arguments[0];return i=r(d[5]).USVString(i,{context:"Failed to execute 'get' on 'URLSearchParams': parameter 1"}),n.push(i),(o=this[r(d[0]).implSymbol]).get.apply(o,n)}},{key:"getAll",value:function(t){var o;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'getAll' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");var n=[],i=arguments[0];return i=r(d[5]).USVString(i,{context:"Failed to execute 'getAll' on 'URLSearchParams': parameter 1"}),n.push(i),r(d[0]).tryWrapperForImpl((o=this[r(d[0]).implSymbol]).getAll.apply(o,n))}},{key:"has",value:function(t){var o;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'has' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");var n=[],i=arguments[0];return i=r(d[5]).USVString(i,{context:"Failed to execute 'has' on 'URLSearchParams': parameter 1"}),n.push(i),(o=this[r(d[0]).implSymbol]).has.apply(o,n)}},{key:"set",value:function(t,o){var n;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<2)throw new TypeError("Failed to execute 'set' on 'URLSearchParams': 2 arguments required, but only "+arguments.length+" present.");var i=[],l=arguments[0];l=r(d[5]).USVString(l,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 1"}),i.push(l);var s=arguments[1];return s=r(d[5]).USVString(s,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 2"}),i.push(s),(n=this[r(d[0]).implSymbol]).set.apply(n,i)}},{key:"sort",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[r(d[0]).implSymbol].sort()}},{key:"toString",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[r(d[0]).implSymbol].toString()}},{key:"keys",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return m.exports.createDefaultIterator(this,"key")}},{key:"values",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return m.exports.createDefaultIterator(this,"value")}},{key:"entries",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return m.exports.createDefaultIterator(this,"key+value")}},{key:"forEach",value:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'forEach' on 'iterable': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to execute 'forEach' on 'iterable': The callback provided as parameter 1 is not a function.");for(var o=arguments[1],n=Array.from(this[r(d[0]).implSymbol]),i=0;i<n.length;){var l=n[i].map(r(d[0]).tryWrapperForImpl),s=r(d[2])(l,2),c=s[0],u=s[1];t.call(o,u,c,this),n=Array.from(this[r(d[0]).implSymbol]),i++}}}])})();Object.defineProperties(n.prototype,r(d[1])(r(d[1])({append:{enumerable:!0},delete:{enumerable:!0},get:{enumerable:!0},getAll:{enumerable:!0},has:{enumerable:!0},set:{enumerable:!0},sort:{enumerable:!0},toString:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0},forEach:{enumerable:!0}},Symbol.toStringTag,{value:"URLSearchParams",configurable:!0}),Symbol.iterator,{value:n.prototype.entries,configurable:!0,writable:!0})),void 0===t[r(d[0]).ctorRegistrySymbol]&&(t[r(d[0]).ctorRegistrySymbol]=Object.create(null)),t[r(d[0]).ctorRegistrySymbol].URLSearchParams=n,Object.defineProperty(t,"URLSearchParams",{configurable:!0,writable:!0,value:n})}};m.exports=o},401,[394,240,22,402,12,403,13]);
__d(function(g,r,_i,_a,m,e,d){"use strict";e.implementation=(function(){return r(d[2])(function t(i,s,n){var l=n.doNotStripQMark,u=void 0!==l&&l;r(d[0])(this,t);var o=s[0];if(this._list=[],this._url=null,u||"string"!=typeof o||"?"!==o[0]||(o=o.slice(1)),Array.isArray(o))for(var a of o){if(2!==a.length)throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element does not contain exactly two elements.");this._list.push([a[0],a[1]])}else if("object"==typeof o&&null===Object.getPrototypeOf(o))for(var h of Object.keys(o)){var f=o[h];this._list.push([h,f])}else this._list=r(d[1]).parseUrlencoded(o)},[{key:"_updateSteps",value:function(){if(null!==this._url){var t=r(d[1]).serializeUrlencoded(this._list);""===t&&(t=null),this._url._url.query=t}}},{key:"append",value:function(t,i){this._list.push([t,i]),this._updateSteps()}},{key:"delete",value:function(t){for(var i=0;i<this._list.length;)this._list[i][0]===t?this._list.splice(i,1):i++;this._updateSteps()}},{key:"get",value:function(t){for(var i of this._list)if(i[0]===t)return i[1];return null}},{key:"getAll",value:function(t){var i=[];for(var s of this._list)s[0]===t&&i.push(s[1]);return i}},{key:"has",value:function(t){for(var i of this._list)if(i[0]===t)return!0;return!1}},{key:"set",value:function(t,i){for(var s=!1,n=0;n<this._list.length;)this._list[n][0]===t?s?this._list.splice(n,1):(s=!0,this._list[n][1]=i,n++):n++;s||this._list.push([t,i]),this._updateSteps()}},{key:"sort",value:function(){var t,i;this._list=(t=this._list,i=function(t,i){return t[0]>i[0]},t.map(function(t,i){return{item:t,index:i}}).sort(function(t,s){return i(t.item,s.item)||t.index-s.index}).map(function(t){return t.item})),this._updateSteps()}},{key:Symbol.iterator,value:function(){return this._list[Symbol.iterator]()}},{key:"toString",value:function(){return r(d[1]).serializeUrlencoded(this._list)}}])})()},402,[12,400,13]);
__d(function(g,r,_i,_a,m,_e,_d){"use strict";function n(n,t){return(t&&t.context?t.context:"Value")+" "+n+"."}function t(n){if(null===n)return"Null";switch(typeof n){case"undefined":return"Undefined";case"boolean":return"Boolean";case"number":return"Number";case"string":return"String";case"symbol":return"Symbol";case"object":case"function":default:return"Object"}}function e(n){return a(n>0&&n%1==.5&&0==(1&n)||n<0&&n%1==-.5&&1==(1&n)?Math.floor(n):Math.round(n))}function o(n){return a(Math.trunc(n))}function i(n){return n<0?-1:1}function u(n,t){var e=n%t;return i(t)!==i(e)?e+t:e}function a(n){return 0===n?0:n}function f(t,i){var f,c,s=!i.unsigned;64===t?(c=Math.pow(2,53)-1,f=s?1-Math.pow(2,53):0):s?(f=-Math.pow(2,t-1),c=Math.pow(2,t-1)-1):(f=0,c=Math.pow(2,t)-1);var l=Math.pow(2,t),y=Math.pow(2,t-1);return function(t,i){void 0===i&&(i={});var w=+t;if(w=a(w),i.enforceRange){if(!Number.isFinite(w))throw new TypeError(n("is not a finite number",i));if((w=o(w))<f||w>c)throw new TypeError(n("is outside the accepted range of "+f+" to "+c+", inclusive",i));return w}return!Number.isNaN(w)&&i.clamp?w=e(w=Math.min(Math.max(w,f),c)):Number.isFinite(w)&&0!==w?(w=o(w))>=f&&w<=c?w:(w=u(w,l),s&&w>=y?w-l:w):0}}function c(t,e){if("function"!=typeof t)throw new TypeError(n("is not a function",e));return t}_e.any=function(n){return n},_e.void=function(){},_e.boolean=function(n){return!!n},_e.byte=f(8,{unsigned:!1}),_e.octet=f(8,{unsigned:!0}),_e.short=f(16,{unsigned:!1}),_e["unsigned short"]=f(16,{unsigned:!0}),_e.long=f(32,{unsigned:!1}),_e["unsigned long"]=f(32,{unsigned:!0}),_e["long long"]=f(64,{unsigned:!1}),_e["unsigned long long"]=f(64,{unsigned:!0}),_e.double=function(t,e){var o=+t;if(!Number.isFinite(o))throw new TypeError(n("is not a finite floating-point value",e));return o},_e["unrestricted double"]=function(n){return+n},_e.float=function(t,e){var o=+t;if(!Number.isFinite(o))throw new TypeError(n("is not a finite floating-point value",e));if(Object.is(o,-0))return o;var i=Math.fround(o);if(!Number.isFinite(i))throw new TypeError(n("is outside the range of a single-precision floating-point value",e));return i},_e["unrestricted float"]=function(n){var t=+n;return isNaN(t)?t:Object.is(t,-0)?t:Math.fround(t)},_e.DOMString=function(t,e){if(void 0===e&&(e={}),e.treatNullAsEmptyString&&null===t)return"";if("symbol"==typeof t)throw new TypeError(n("is a symbol, which cannot be converted to a string",e));return String(t)},_e.ByteString=function(t,e){for(var o,i=_e.DOMString(t,e),u=0;void 0!==(o=i.codePointAt(u));++u)if(o>255)throw new TypeError(n("is not a valid ByteString",e));return i},_e.USVString=function(n,t){for(var e=_e.DOMString(n,t),o=e.length,i=[],u=0;u<o;++u){var a=e.charCodeAt(u);if(a<55296||a>57343)i.push(String.fromCodePoint(a));else if(56320<=a&&a<=57343)i.push(String.fromCodePoint(65533));else if(u===o-1)i.push(String.fromCodePoint(65533));else{var f=e.charCodeAt(u+1);if(56320<=f&&f<=57343){var c=1023&a,s=1023&f;i.push(String.fromCodePoint(65536+1024*c+s)),++u}else i.push(String.fromCodePoint(65533))}}return i.join("")},_e.object=function(e,o){if("Object"!==t(e))throw new TypeError(n("is not an object",o));return e};var s=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get;function l(n){try{return s.call(n),!0}catch(n){return!1}}_e.ArrayBuffer=function(t,e){if(!l(t))throw new TypeError(n("is not a view on an ArrayBuffer object",e));return t};var y=Object.getOwnPropertyDescriptor(DataView.prototype,"byteLength").get;_e.DataView=function(t,e){try{return y.call(t),t}catch(t){throw new TypeError(n("is not a view on an DataView object",e))}},[Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Uint8ClampedArray,Float32Array,Float64Array].forEach(function(t){var e=t.name,o=/^[AEIOU]/.test(e)?"an":"a";_e[e]=function(t,i){if(!ArrayBuffer.isView(t)||t.constructor.name!==e)throw new TypeError(n("is not "+o+" "+e+" object",i));return t}}),_e.ArrayBufferView=function(t,e){if(!ArrayBuffer.isView(t))throw new TypeError(n("is not a view on an ArrayBuffer object",e));return t},_e.BufferSource=function(t,e){if(!ArrayBuffer.isView(t)&&!l(t))throw new TypeError(n("is not an ArrayBuffer object or a view on one",e));return t},_e.DOMTimeStamp=_e["unsigned long long"],_e.Function=c,_e.VoidFunction=c},403,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"URLSearchParams",{enumerable:!0,get:function(){return r(d[0]).URLSearchParams}})},404,[391]);
__d(function(e,t,i,r,a,n,s){a.exports={name:"react-native-url-polyfill",version:"1.3.0",description:"A lightweight and trustworthy URL polyfill for React Native",keywords:["URL","URLSearchParams","polyfill","react native","whatwg-url"],bugs:{url:"https://github.com/charpeni/react-native-url-polyfill/issues"},homepage:"https://github.com/charpeni/react-native-url-polyfill",readme:"https://github.com/charpeni/react-native-url-polyfill#readme",repository:{type:"git",url:"https://github.com/charpeni/react-native-url-polyfill.git"},main:"index.js",types:"index.d.ts",scripts:{test:"jest",lint:"eslint .","bundle-size":"node scripts/bundle-size"},author:"Nicolas Charpentier <nicolas.charpentier079@gmail.com>",license:"MIT",dependencies:{"whatwg-url-without-unicode":"8.0.0-3"},devDependencies:{"@react-native-community/eslint-config":"^2.0.0",chalk:"^4.0.0",eslint:"^7.1.0","eslint-plugin-prettier":"^3.1.3",execa:"^5.0.0",filesize:"^6.1.0",husky:">=1",jest:"^26.0.1","lint-staged":">=8","metro-react-native-babel-preset":"^0.65.0",ora:"^5.3.0","prepend-file":"^1.3.1",prettier:"^2.0.5",react:"16.13.1","react-native":"0.63.4",rmfr:"^2.0.0","source-map-explorer":"^2.4.2",tmp:"^0.2.1",typescript:"^4.1.3",uuid:"^8.1.0"},peerDependencies:{"react-native":"*"},jest:{preset:"react-native",testPathIgnorePatterns:["/node_modules/","./detox/"]},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.js":["eslint --fix","git add"]}}},405,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;r(d[0])(r(d[1]));var t=r(d[2]);e.default=function(){return(0,r(d[3]).jsx)(t.View,{})}},406,[3,119,1,179]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t.NativeModules.NativeAdapter;new t.NativeEventEmitter(n).addListener('OmniChannelJSAdapter',function(t){var n=JSON.parse(t);switch(n.eventName){case r(d[1]).OCEvents.initChat:(0,r(d[2]).initializeChat)(n.omnichannelConfig,n.chatSDKConfig,n.initParams,n.token,n.environment,n.version,n.platform);break;case r(d[1]).OCEvents.startChat:(0,r(d[3]).startChat)(n.startChatOptionalParams);break;case r(d[1]).OCEvents.onNewMessage:(0,r(d[4]).onNewMessage)(n.onNewMessageOptionalParams);break;case r(d[1]).OCEvents.sendMessage:(0,r(d[5]).sendMessage)(n.chatSDKMessage,n.id);break;case r(d[1]).OCEvents.endChat:(0,r(d[6]).endChat)();break;case r(d[1]).OCEvents.sendTyping:(0,r(d[7]).sendTyping)();break;case r(d[1]).OCEvents.onAgentTyping:(0,r(d[7]).onAgentTyping)();break;case r(d[1]).OCEvents.getMessages:(0,r(d[8]).getMessages)();break;case r(d[1]).OCEvents.getConversationDetails:(0,r(d[9]).getConversationDetails)(n.getConvDetailsOptionalParams);break;case r(d[1]).OCEvents.onAgentEndSession:(0,r(d[6]).onAgentEndSession)();break;case r(d[1]).OCEvents.getPreChatSurvey:(0,r(d[10]).getPreChatSurvey)();break;case r(d[1]).OCEvents.downloadFileAttachment:(0,r(d[11]).downloadFileAttachment)(n.downloadFileMetadata);break;case r(d[1]).OCEvents.uploadFileAttachment:(0,r(d[12]).uploadFileAttachment)(n.uploadFileInfo,n.base64DataString,n.id);break;case r(d[1]).OCEvents.getLiveChatTranscript:(0,r(d[13]).getLiveChatTranscript)(n.getLiveChatTranscriptOptionalParams);break;case r(d[1]).OCEvents.getLiveChatConfig:(0,r(d[13]).getLiveChatConfig)(n.getLiveChatConfigOptionalParams);break;case r(d[1]).OCEvents.getCurrentLiveChatContext:(0,r(d[13]).getCurrentLiveChatContext)();break;case r(d[1]).OCEvents.getChatReconnectContext:(0,r(d[13]).getChatReconnectContext)(n.getChatReconnectOptionalParams);break;case r(d[1]).OCEvents.emailLiveChatTranscript:(0,r(d[14]).emailLiveChatTranscript)(n.emailTranscriptBody);break;case r(d[1]).OCEvents.getAgentAvailability:(0,r(d[15]).getAgentAvailability)(n.getAgentAvailabiityOptionalParams);break;case r(d[1]).OCEvents.getChatToken:(0,r(d[16]).getChatToken)(n.getChatTokenOptionalParams);break;case r(d[1]).OCEvents.getDataMaskingRules:(0,r(d[17]).getDataMaskingRules)();break;case r(d[1]).OCEvents.getPostChatSurveyContext:(0,r(d[18]).getPostChatSurveyContext)();break;case r(d[1]).OCEvents.logConfigDataTelemetryEvent:(0,r(d[19]).logConfigDataTelemetryEvent)(n.logLevel,n.payload);break;case r(d[1]).OCEvents.logLoadingDataTelemetryEvent:(0,r(d[19]).logLoadingDataTelemetryEvent)(n.logLevel,n.payload);break;case r(d[1]).OCEvents.logActionDataTelemetryEvent:(0,r(d[19]).logActionDataTelemetryEvent)(n.logLevel,n.payload);break;case r(d[1]).OCEvents.addConversationDataToTelemetry:(0,r(d[19]).addConversationDataToTelemetry)(n.liveWorkItem);break;case r(d[1]).OCEvents.addSessionDataToTelemetry:(0,r(d[19]).addSessionDataToTelemetry)(n.liveChatContext)}})},407,[1,408,409,930,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,412]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.OCEvents=void 0;e.OCEvents=(function(t){return t.initChat="initChat",t.startChat="startChat",t.onNewMessage="onNewMessage",t.sendMessage="sendMessage",t.sendTyping="sendTypingEvent",t.onAgentTyping="onAgentTyping",t.endChat="endChat",t.getMessages="getMessages",t.getConversationDetails="getConversationDetails",t.onAgentEndSession="onAgentEndSession",t.downloadFileAttachment="downloadFileAttachment",t.uploadFileAttachment="uploadFileAttachment",t.getLiveChatTranscript="getLiveChatTranscript",t.getLiveChatConfig="getLiveChatConfig",t.getCurrentLiveChatContext="getCurrentLiveChatContext",t.getPreChatSurvey="getPreChatSurvey",t.getChatReconnectContext="getChatReconnectContext",t.emailLiveChatTranscript="emailLiveChatTranscript",t.getAgentAvailability="getAgentAvailability",t.getChatToken="getChatToken",t.getDataMaskingRules="getDataMaskingRules",t.getPostChatSurveyContext="getPostChatSurveyContext",t.logConfigDataTelemetryEvent="logConfigDataTelemetryEvent",t.logLoadingDataTelemetryEvent="logLoadingDataTelemetryEvent",t.logActionDataTelemetryEvent="logActionDataTelemetryEvent",t.addConversationDataToTelemetry="addConversationDataToTelemetry",t.addSessionDataToTelemetry="addSessionDataToTelemetry",t})({})},408,[]);
__d(function(g,r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.initializeChat=_e.chatSDKObj=void 0;var e,t,l=r(d[0])(r(d[1])),n=r(d[0])(r(d[2]));_e.initializeChat=(t=(0,l.default)(function*(t,o,v,s){var y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:'test',c=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0;try{var h;null!==s&&null!==o&&(o.getAuthToken=(0,l.default)(function*(){if(s)try{if(!JSON.parse(window.atob(s.split('.')[1])).sub){var e={Event:r(d[3]).TelemetryEvent.AuthClientMethodException,ExceptionDetails:{ErrorDescription:'Failed when parsing and retrieving jwt sub'}};(0,r(d[4]).logConfigDataTelemetryEvent)(r(d[3]).LogLevel.WARN,e)}}catch(e){var t={Event:r(d[3]).TelemetryEvent.AuthClientMethodException,ExceptionDetails:{ErrorDescription:'Failed when parsing and retrieving jwt exp',Error:{message:null==e?void 0:e.message}}};(0,r(d[4]).logConfigDataTelemetryEvent)(r(d[3]).LogLevel.WARN,t)}return null!=s?s:''}));var p={disable:(null==o?void 0:null==(h=o.telemetry)?void 0:h.disable)||!1,ariaTelemetryKey:'',ariaCollectorUri:''},f=(0,r(d[5]).getDefaultAriaConfig)(y,t.orgUrl);f.ariaTelemetryKey&&(p.ariaTelemetryKey=f.ariaTelemetryKey),f.collectorUriForTelemetry&&(p.ariaCollectorUri=f.collectorUriForTelemetry),o.telemetry=p,_e.chatSDKObj=e=new(r(d[6]).OmnichannelChatSDK)(t,o),r(d[7]).TelemetryHelper.initialize(y,e,c,u);var E=yield e.initialize(v);r(d[7]).TelemetryHelper.updateConfigDataToTelemetry(E);var C={eventName:r(d[8]).OCEvents.initChat,response:E};n.default.onResponse(JSON.stringify(C))}catch(e){(0,r(d[9]).handleError)(r(d[8]).OCEvents.initChat,e)}}),function(e,l,n,o){return t.apply(this,arguments)})},409,[3,270,410,411,412,417,451,413,408,929]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]).NativeModules.NativeAdapter;e.default=t},410,[1]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryEvent=e.TelemetryConstants=e.ScenarioType=e.LogLevel=void 0;var t=r(d[0])(r(d[1])),o=r(d[0])(r(d[2])),n=e.ScenarioType=(function(t){return t.CONFIG_VALIDATION="LCW_ConfigValidationEvents",t.LOAD="LCW_LoadEvents",t.ACTIONS="LCW_ActionEvents",t.SDK="LCW_SDKEvents",t.UNDEFINED="LCW_Undefined",t})({}),c=(e.LogLevel=(function(t){return t.INFO="INFO",t.DEBUG="DEBUG",t.WARN="WARN",t.ERROR="ERROR",t})({}),e.TelemetryEvent=(function(t){return t.CallAdded="CallAdded",t.LocalVideoStreamAdded="LocalVideoStreamAdded",t.LocalVideoStreamRemoved="LocalVideoStreamRemoved",t.RemoteVideoStreamAdded="RemoteVideoStreamAdded",t.RemoteVideoStreamRemoved="RemoteVideoStreamRemoved",t.CallDisconnected="CallDisconnected",t.CallDisconnectedException="CallDisconnectedException",t.IncomingCallEnded="incomingCallEnded",t.VoiceVideoSdkInitialize="VoiceVideoSdkInitialize",t.VoiceVideoSdkInitializeException="VoiceVideoSdkInitializeException",t.VoiceVideoLoading="VoiceVideoLoading",t.VoiceVideoNotLoaded="VoiceVideoNotLoaded",t.VoiceVideoLoadingException="VoiceVideoLoadingException",t.VoiceVideoAcceptCallException="VoiceVideoAcceptCallException",t.VoiceVideoAcceptCallWithVideoException="VoiceVideoAcceptCallWithVideoException",t.VideoCallAcceptButtonClick="VideoCallAcceptButtonClick",t.VoiceCallAcceptButtonClick="VoiceCallAcceptButtonClick",t.CallRejectClick="CallRejectClick",t.CallRejectClickException="CallRejectClickException",t.ToggleMuteButtonClick="ToggleMuteButtonClick",t.ToggleMuteButtonClickException="ToggleMuteButtonClickException",t.ToggleCameraButtonClick="ToggleCameraButtonClick",t.ToggleCameraButtonClickException="ToggleCameraButtonClickException",t.EndCallButtonClick="EndCallButtonClick",t.EndCallButtonClickException="EndCallButtonClickException",t.CallingSDKInitSuccess="CallingSDKInitSuccess",t.CallingSDKInitFailed="CallingSDKInitFailed",t.CallingSDKLoadSuccess="CallingSDKLoadSuccess",t.CallingSDKLoadFailed="CallingSDKLoadFailed",t.GetConversationDetailsCallStarted="GetConversationDetailsCallStarted",t.GetConversationDetailsCallFailed="GetConversationDetailsCallFailed",t.EndChatSDKCallFailed="EndChatSDKCallFailed",t.GetChatReconnectContextSDKCallStarted="GetChatReconnectContextSDKCallStarted",t.GetChatReconnectContextSDKCallFailed="GetChatReconnectContextSDKCallFailed",t.ParseAdaptiveCardFailed="ParseAdaptiveCardFailed",t.ClientDataStoreProviderFailed="ClientDataStoreProviderFailed",t.InMemoryDataStoreFailed="InMemoryDataStoreFailed",t.ChatVisibilityChanged="ChatVisibilityChanged",t.EndChatSucceeded="EndChatSucceeded",t.EndChatFailed="EndChatFailed",t.SettingCustomContext="SettingCustomContext",t.WebChatLoaded="WebChatLoaded",t.LCWChatButtonClicked="LCWChatButtonClicked",t.LCWChatButtonShow="LCWChatButtonShow",t.WidgetLoadStarted="WidgetLoadStarted",t.WidgetLoadComplete="WidgetLoadComplete",t.WidgetLoadFailed="WidgetLoadFailed",t.StartChatMethodException="StartChatMethodException",t.CloseChatCall="CloseChatCall",t.CloseChatMethodException="CloseChatMethodException",t.PrechatSurveyLoaded="PrechatSurveyLoaded",t.PrechatSubmitted="PrechatSubmitted",t.StartChatSDKCall="StartChatCall",t.StartChatEventRecevied="StartChatEventReceived",t.EndChatSDKCall="EndChatSDKCall",t.PrepareEndChat="PrepareEndChat",t.EndChatEventReceived="EndChatEventReceived",t.WindowClosed="WindowClosed",t.OnNewMessageFailed="OnNewMessageFailed",t.OnNewMessageAudioNotificationFailed="OnNewMessageAudioNotificationFailed",t.DownloadTranscriptResponseNullOrUndefined="DownloadTranscriptResponseNullOrUndefined",t.EmailTranscriptSent="EmailTranscriptSent",t.EmailTranscriptFailed="EmailTranscriptFailed",t.ErrorUIPaneLoaded="ErrorUIPaneLoaded",t.DownloadTranscriptFailed="DownloadTranscriptFailed",t.StartChatFailed="StartChatFailed",t.ConfirmationCancelButtonClicked="ConfirmationCancelButtonClicked",t.ConfirmationConfirmButtonClicked="ConfirmationConfirmButtonClicked",t.LoadingPaneLoaded="LoadingPaneLoaded",t.StartChatErrorPaneLoaded="StartChatErrorPaneLoaded",t.EmailTranscriptLoaded="EmailTranscriptLoaded",t.OutOfOfficePaneLoaded="OutOfOfficePaneLoaded",t.ConfirmationPaneLoaded="ConfirmationPaneLoaded",t.ProactiveChatPaneLoaded="ProactiveChatPaneLoaded",t.ReconnectChatPaneLoaded="ReconnectChatPaneLoaded",t.HeaderCloseButtonClicked="HeaderCloseButtonClicked",t.HeaderMinimizeButtonClicked="HeaderMinimizeButtonClicked",t.NotificationCloseChatButtonClicked="NotificationCloseChatButtonClicked",t.NotificationDismissButtonClicked="NotificationDismissButtonClicked",t.DownloadTranscriptButtonClicked="DownloadTranscriptButtonClicked",t.EmailTranscriptButtonClicked="EmailTranscriptButtonClicked",t.EmailTranscriptCancelButtonClicked="EmailTranscriptCancelButtonClicked",t.AudioToggleButtonClicked="AudioToggleButtonClicked",t.SuppressBotMagicCodeSucceeded="SuppressBotMagicCodeSucceeded",t.SuppressBotMagicCodeFailed="SuppressBotMagicCodeFailed",t.GetConversationDetailsException="GetConversationDetailsException",t.AppStatesException="AppStatesException",t.BrowserUnloadEventStarted="BrowserUnloadEventStarted",t.GetAuthTokenCalled="GetAuthTokenCalled",t.GetAuthTokenFailed="GetAuthTokenFailed",t.ReceivedNullOrEmptyToken="ReceivedNullOrEmptyToken",t.CustomerVoiceResponsePageLoaded="CustomerVoiceResponsePageLoaded",t.CustomerVoiceFormResponseSubmitted="CustomerVoiceFormResponseSubmitted",t.CustomerVoiceFormResponseError="CustomerVoiceFormResponseError",t.BotAuthActivityEmptySasUrl="BotAuthActivityEmptySasUrl",t.SetBotAuthProviderFetchConfig="SetBotAuthProviderFetchConfig",t.SetBotAuthProviderHideCard="SetBotAuthProviderHideCard",t.SetBotAuthProviderDisplayCard="SetBotAuthProviderDisplayCard",t.SetBotAuthProviderNotFound="SetBotAuthProviderNotFound",t.BotAuthActivityUndefinedSignInId="BotAuthActivityUndefinedSignInId",t.ThirdPartyCookiesBlocked="ThirdPartyCookiesBlocked",t.ProcessingHTMLTextMiddlewareFailed="ProcessingHTMLTextMiddlewareFailed",t.ProcessingSanitizationMiddlewareFailed="ProcessingSanitizationMiddlewareFailed",t.FormatTagsMiddlewareJSONStringifyFailed="FormatTagsMiddlewareJSONStringifyFailed",t.AttachmentUploadValidatorMiddlewareFailed="AttachmentUploadValidatorMiddlewareFailed",t.QueuePositionMessageRecieved="QueuePositionMessageRecieved",t.AverageWaitTimeMessageRecieved="AverageWaitTimeMessageRecieved",t.DataMaskingRuleApplied="DataMaskingRuleApplied",t.DataMaskingRuleApplyFailed="DataMaskingRuleApplyFailed",t.IC3ClientEvent="IC3ClientEvent",t.ConversationEndedThreadEventReceived="ConversationEndedThreadEventReceived",t.ConversationEndedByCustomer="ConversationEndedByCustomer",t.ConversationEndedByAgent="ConversationEndedByAgent",t.InvalidConfiguration="InvalidConfiguration",t.SendTypingIndicatorSucceeded="SendTypingIndicatorSucceeded",t.SendTypingIndicatorFailed="SendTypingIndicatorFailed",t.WebChatEvent="WebChatEvent",t.PreChatSurveyStartChatMethodFailed="PreChatSurveyStartChatMethodFailed",t.ChatAlreadyTriggered="ChatAlreadyTriggered",t.StartProactiveChatEventReceived="StartProactiveChatEventReceived",t.StartProactiveChatMethodFailed="StartProactiveChatMethodFailed",t.ProactiveChatAccepted="ProactiveChatAccepted",t.ProactiveChatRejected="ProactiveChatRejected",t.IncomingProactiveChatScreenLoaded="IncomingProactiveChatScreenLoaded",t.ProactiveChatClosed="ProactiveChatClosed",t.ReconnectChatContinueConversation="ReconnectChatContinueConversation",t.ReconnectChatStartNewConversation="ReconnectChatStartNewConversation",t.ReconnectChatMinimize="ReconnectChatMinimize",t.MessageSent="MessageSent",t.MessageReceived="MessageReceived",t.SystemMessageReceived="SystemMessageReceived",t.RehydrateMessageReceived="RehydrateMessageReceived",t.CustomContextReceived="CustomContextReceived",t.NetworkDisconnected="NetworkDisconnected",t.NetworkReconnected="NetworkReconnected",t.LinkModePostChatWorkflowStarted="LinkModePostChatWorkflowStarted",t.EmbedModePostChatWorkflowStarted="EmbedModePostChatWorkflowStarted",t.PostChatWorkflowFromCustomer="PostChatWorkflowFromCustomer",t.PostChatWorkflowFromAgent="PostChatWorkflowFromAgent",t.PostChatWorkflowFromBot="PostChatWorkflowFromBot",t.PostChatContextCallSucceed="PostChatContextCallSucceed",t.PostChatContextCallFailed="PostChatContextCallFailed",t.PostChatSurveyLoadingPaneLoaded="PostChatSurveyLoadingPaneLoaded",t.PostChatSurveyLoaded="PostChatSurveyLoaded",t.ChatDisconnectThreadEventReceived="ChatDisconnectThreadEventReceived",t.LogLCWFeatures="LogLCWFeatures",t.AuthClientMethodException="AuthClientMethodException",t.OOBWidgetStarted="OOBWidgetStarted",t.LiveChatVisibilityFalse="LiveChatVisibilityFalse",t.LiveChatVisibilityTrue="LiveChatVisibilityTrue",t})({}));(e.TelemetryConstants=(function(){function l(){(0,t.default)(this,l)}return(0,o.default)(l,null,[{key:"map",value:function(t){switch(t){case c.ParseAdaptiveCardFailed:case c.ReceivedNullOrEmptyToken:case c.GetAuthTokenCalled:case c.SuppressBotMagicCodeSucceeded:case c.SuppressBotMagicCodeFailed:case c.LogLCWFeatures:case c.AuthClientMethodException:case c.OOBWidgetStarted:case c.LiveChatVisibilityFalse:case c.LiveChatVisibilityTrue:return n.CONFIG_VALIDATION;case c.WebChatLoaded:case c.WidgetLoadComplete:case c.WidgetLoadFailed:case c.IncomingProactiveChatScreenLoaded:case c.LCWChatButtonShow:case c.PrechatSurveyLoaded:case c.LoadingPaneLoaded:case c.PostChatSurveyLoadingPaneLoaded:case c.PostChatSurveyLoaded:case c.EmailTranscriptLoaded:case c.OutOfOfficePaneLoaded:case c.ConfirmationPaneLoaded:case c.ProactiveChatPaneLoaded:case c.ThirdPartyCookiesBlocked:return n.LOAD;case c.PrechatSubmitted:case c.LCWChatButtonClicked:case c.ProactiveChatAccepted:case c.ProactiveChatRejected:case c.ProactiveChatClosed:case c.ProcessingHTMLTextMiddlewareFailed:case c.DataMaskingRuleApplied:case c.ConversationEndedThreadEventReceived:case c.InvalidConfiguration:case c.DownloadTranscriptResponseNullOrUndefined:case c.EmailTranscriptSent:case c.EmailTranscriptFailed:case c.DownloadTranscriptFailed:case c.ConfirmationCancelButtonClicked:case c.ConfirmationConfirmButtonClicked:case c.PreChatSurveyStartChatMethodFailed:case c.HeaderCloseButtonClicked:case c.HeaderMinimizeButtonClicked:case c.NotificationCloseChatButtonClicked:case c.NotificationDismissButtonClicked:case c.MessageSent:case c.MessageReceived:case c.CustomContextReceived:case c.BrowserUnloadEventStarted:case c.NetworkDisconnected:case c.NetworkReconnected:case c.AudioToggleButtonClicked:case c.EmailTranscriptCancelButtonClicked:case c.CustomerVoiceResponsePageLoaded:case c.CustomerVoiceFormResponseSubmitted:case c.CustomerVoiceFormResponseError:case c.LinkModePostChatWorkflowStarted:case c.EmbedModePostChatWorkflowStarted:case c.PostChatWorkflowFromCustomer:case c.PostChatWorkflowFromAgent:case c.PostChatWorkflowFromBot:case c.AppStatesException:return n.ACTIONS;case c.StartChatSDKCall:case c.StartChatEventRecevied:case c.StartChatMethodException:case c.CloseChatMethodException:case c.StartProactiveChatEventReceived:case c.StartProactiveChatMethodFailed:case c.OnNewMessageFailed:case c.OnNewMessageAudioNotificationFailed:case c.GetConversationDetailsCallFailed:case c.EndChatSDKCall:case c.EndChatEventReceived:case c.EndChatSDKCallFailed:case c.PostChatContextCallFailed:case c.PostChatContextCallSucceed:case c.GetConversationDetailsException:case c.PrepareEndChat:return n.SDK;default:return n.ACTIONS}}},{key:"mapEventToScenario",value:function(t){return l.map(t)}}])})()).LiveChatWidgetApplicationName='LiveChatWidgetSDK'},411,[3,12,13]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.addConversationDataToTelemetry=function(t){r(d[0]).TelemetryHelper.addConversationDataToTelemetry(t)},e.addSessionDataToTelemetry=function(t){r(d[0]).TelemetryHelper.addSessionDataToTelemetry(t)},e.logActionDataTelemetryEvent=function(t,n){r(d[0]).TelemetryHelper.logActionEvent(t,n)},e.logConfigDataTelemetryEvent=function(t,n){r(d[0]).TelemetryHelper.logConfigDataEvent(t,n)},e.logLoadingDataTelemetryEvent=function(t,n){r(d[0]).TelemetryHelper.logLoadingEvent(t,n)}},412,[413]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryHelper=void 0;var n,t=r(d[0])(r(d[1])),l=r(d[0])(r(d[2])),o=e.TelemetryHelper=(function(){function n(){(0,t.default)(this,n)}return(0,l.default)(n,null,[{key:"updateConfigDataToTelemetry",value:function(t){n.InternalTelemetryData=n.addChatConfigDataToTelemetry(t,n.InternalTelemetryData)}},{key:"buildTelemetryEvent",value:function(t,l){switch(l.scenarioType){case r(d[3]).ScenarioType.LOAD:return n.conformToLoadContract(t,l);case r(d[3]).ScenarioType.ACTIONS:return n.conformToActionsContract(t,l);default:case r(d[3]).ScenarioType.CONFIG_VALIDATION:return n.conformToConfigValidationContract(t,l)}}},{key:"populateBasicProperties",value:function(t,l){var o,u,c,s,v,y,I,T,C,p,D,f,h,E,O,L,S,k,W,V;return{WidgetId:null!=(o=null==(u=n.InternalTelemetryData)?void 0:u.widgetId)?o:'',ChatId:null!=(c=null==(s=n.InternalTelemetryData)?void 0:s.chatId)?c:'',ChannelId:null!=(v=null==(y=n.InternalTelemetryData)?void 0:y.channelId)?v:'lcw_SDK',ConversationId:null!=(I=null==(T=n.InternalTelemetryData)?void 0:T.conversationId)?I:'',OrganizationId:null!=(C=null==(p=n.InternalTelemetryData)?void 0:p.orgId)?C:'',OrganizationUrl:null!=(D=null==(f=n.InternalTelemetryData)?void 0:f.orgUrl)?D:'',LCWRuntimeId:null!=(h=null==(E=n.InternalTelemetryData)?void 0:E.lcwRuntimeId)?h:'',CurrentRequestId:null!=(O=null==(L=n.InternalTelemetryData)?void 0:L.currentRequestId)?O:'',LogLevel:t,OCChatSDKVersion:null!=(S=null==(k=n.InternalTelemetryData)?void 0:k.OCChatSDKVersion)?S:'',OCChatWidgetVersion:null!=(W=null==(V=n.InternalTelemetryData)?void 0:V.OCChatWidgetVersion)?W:''}}},{key:"populate",value:function(t,l,o){var u=n.populateBasicProperties(t,l);return o(u),u}},{key:"conformToConfigValidationContract",value:function(t,l){var o=l.payload;return n.populate(t,o,function(t){var l,u;t.Event=o.Event,t.RequestId=o.RequestId,t.LCWVersion=null==(l=n.InternalTelemetryData)?void 0:l.environmentVersion,t.CloudType=o.CloudType,t.ElapsedTimeInMilliseconds=o.ElapsedTimeInMilliseconds,t.ExceptionDetails=JSON.stringify(o.ExceptionDetails),t.Language=(null==(u=n.InternalTelemetryData)?void 0:u.chatWidgetLocaleLCID)||'',t.CustomProperties=o.CustomProperties,t.Description=o.Data})}},{key:"conformToLoadContract",value:function(t,l){var o=l.payload;return n.populate(t,o,function(n){n.Event=o.Event,n.Description=o.Description,n.ResourcePath=o.ResourcePath,n.WidgetState=o.WidgetState,n.ChatState=o.ChatState,n.ChatType=o.ChatType,n.ElapsedTimeInMilliseconds=o.ElapsedTimeInMilliseconds,n.ExceptionDetails=JSON.stringify(o.ExceptionDetails)})}},{key:"conformToActionsContract",value:function(t,l){var o=l.payload;return n.populate(t,o,function(n){n.Event=o.Event,n.ActionType=o.ActionType,n.ElapsedTimeInMilliseconds=o.ElapsedTimeInMilliseconds,n.ExceptionDetails=JSON.stringify(o.ExceptionDetails),n.Description=o.Description,n.CustomProperties=JSON.stringify(o.CustomProperties)})}},{key:"addChatConfigDataToTelemetry",value:function(n,t){var l,o=t;return o.chatWidgetLocaleLCID=null==(l=n.ChatWidgetLanguage)?void 0:l.msdyn_localeid,o}},{key:"addWidgetDataToTelemetry",value:function(n,t,l){var o,u=l;return u.widgetId=null==t?void 0:t.appId,u.orgId=null==t?void 0:t.orgId,u.orgUrl=null==t?void 0:t.orgUrl,u.lcwRuntimeId=null!=(o=n.runtimeId)?o:(0,r(d[4]).uuidv4)(),u}},{key:"addSessionDataToTelemetry",value:function(t){var l,o;n.InternalTelemetryData&&(n.InternalTelemetryData.chatId=null==t?void 0:null==(l=t.chatToken)?void 0:l.chatId,n.InternalTelemetryData.currentRequestId=null==t?void 0:null==(o=t.chatToken)?void 0:o.requestId)}},{key:"addConversationDataToTelemetry",value:function(t){n.InternalTelemetryData&&(n.InternalTelemetryData.conversationId=t.conversationId)}},{key:"removeConversationDataToTelemetry",value:function(){n.InternalTelemetryData&&(n.InternalTelemetryData.conversationId=void 0)}}])})();n=o,o.initialize=function(t,l,o,u){var c,s,v,y,I=Object.assign({},(0,r(d[5]).getDefaultTelemetryConfiguration)(t,l.omnichannelConfig.orgUrl,o,(null==(c=l.chatSDKConfig.telemetry)?void 0:c.disable)||!1)),T=Object.assign({},(0,r(d[6]).getDefaultInternalTelemetryData)(t,u),{telemetryConfig:Object.assign({},I),ariaConfig:Object.assign({},null==I?void 0:I.ariaConfigurations)});(T=n.addWidgetDataToTelemetry(l,I,T)).OCChatSDKVersion=r(d[7]).version,T.OCChatWidgetVersion=o,T.orgId=T.orgId||(null==(s=l.omnichannelConfig)?void 0:s.orgId),T.widgetId=T.widgetId||(null==(v=l.omnichannelConfig)?void 0:v.widgetId),T.orgUrl=T.orgUrl||(null==(y=l.omnichannelConfig)?void 0:y.orgUrl),n.InternalTelemetryData=T,console.log('initialize telemetry data'),console.log(T),n.log=(0,r(d[8]).ariaTelemetryLogger)(T.ariaConfig)},o.logConfigDataEvent=function(t,l){var o,u={eventName:null!=(o=null==l?void 0:l.Event)?o:'',logLevel:t,payload:Object.assign({},l)};n.log(u)},o.logLoadingEvent=function(t,l){var o,u={eventName:null!=(o=null==l?void 0:l.Event)?o:'',logLevel:t,payload:Object.assign({},l)};n.log(u)},o.logActionEvent=function(t,l){var o,u={eventName:null!=(o=null==l?void 0:l.Event)?o:'',logLevel:t,payload:Object.assign({},l)};n.log(u)}},413,[3,12,13,411,414,415,420,419,421]);
__d(function(g,_r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.uuidv4=e.isNullOrUndefined=e.isNullOrEmptyString=void 0;var x=e.isNullOrUndefined=function(x){return null==x};e.isNullOrEmptyString=function(n){return x(n)||""===n},e.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(x){var n=16*Math.random()|0;return("x"===x?n:3&n|8).toString(16)})}},414,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultTelemetryConfiguration=void 0;e.getDefaultTelemetryConfiguration=function(t,n,o,l){var u;return{telemetryDisabled:l,disableConsoleLog:t===r(d[0]).LCWVersion.PROD||t===r(d[0]).LCWVersion.GCC,telemetryLoggers:[],ariaConfigurations:(0,r(d[1]).getDefaultAriaConfig)(t,n),OCChatSDKVersion:r(d[2]).version,OCChatWidgetVersion:o,LCWRuntimeId:null==(u=r(d[3]).TelemetryHelper.InternalTelemetryData)?void 0:u.lcwRuntimeId}}},415,[416,417,419,413]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.OmnichannelConstants=e.LCWVersion=void 0;var n=r(d[0])(r(d[1])),c=r(d[0])(r(d[2])),o=e.LCWVersion=(0,n.default)(function n(){(0,c.default)(this,n)});o.TEST="test",o.PPE="ppe",o.PROD="prod",o.GCC="gcc";var t=e.OmnichannelConstants=(0,n.default)(function n(){(0,c.default)(this,n)});t.EUROPE_ENDPOINT="https://eu-mobile.events.data.microsoft.com/Collector/3.0/",t.Public="Public",t.EU="Europe",t.GCC="GCC",t.lcwEUDomainNames=["crm4.omnichannelengagementhub.com","crm12.omnichannelengagementhub.com","crm16.omnichannelengagementhub.com","crm17.omnichannelengagementhub.com","crm19.omnichannelengagementhub.com","crm11.omnichannelengagementhub.com","eu.omnichannelengagementhub.com","fr.omnichannelengagementhub.com","de.omnichannelengagementhub.com","ch.omnichannelengagementhub.com","uk.omnichannelengagementhub.com"],t.lcwGCCDomainPattern=["-crm9.","gov.omnichannelengagementhub.com"]},416,[3,13,12]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultAriaConfig=void 0;e.getDefaultAriaConfig=function(n,o){var t='',l=(0,r(d[0]).getDomain)(o);if(l===r(d[1]).OmnichannelConstants.GCC||n===r(d[1]).LCWVersion.GCC)return{collectorUriForTelemetry:'https://tb.pipe.aria.microsoft.com/Collector/3.0',ariaTelemetryKey:'1172d92d4f5d4efba024cf228afd49c7-9beeede4-001b-42bd-91b9-d8ac6f68ef78-7835',ariaTelemetryApplicationName:'D365_Omnichannel_Client_Fairfax_Prod',disableCookieUsage:!0};switch(n){case r(d[1]).LCWVersion.TEST:case r(d[1]).LCWVersion.PPE:return{collectorUriForTelemetry:'https://browser.pipe.aria.microsoft.com/Collector/3.0',ariaTelemetryKey:'1574efd98545488983328fac0c9bcb59-45c2ff50-ebcc-473d-949d-e3134ef2189e-6906',ariaTelemetryApplicationName:'D365_Omnichannel_Client_Sandbox',disableCookieUsage:!0};case r(d[1]).LCWVersion.PROD:default:return(0,r(d[2]).isNullOrUndefined)(l)||l!==r(d[1]).OmnichannelConstants.EU||(t=r(d[1]).OmnichannelConstants.EUROPE_ENDPOINT),{collectorUriForTelemetry:t,ariaTelemetryKey:'c7655518acf1403f93ff6b9f77942f0a-d01a02fd-6b50-4de3-a566-62eda11f93bc-7083',ariaTelemetryApplicationName:'D365_Omnichannel_Client_Public_Prod',disableCookieUsage:!0}}}},417,[418,416,414]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getDomain=void 0;e.getDomain=function(n){var t=n||"";return r(d[0]).OmnichannelConstants.lcwEUDomainNames.some(function(n){return t.endsWith(n)})?r(d[0]).OmnichannelConstants.EU:r(d[0]).OmnichannelConstants.lcwGCCDomainPattern.some(function(n){return t.includes(n)})?r(d[0]).OmnichannelConstants.GCC:r(d[0]).OmnichannelConstants.Public}},418,[416]);
__d(function(t,s,e,i,o,n,c){o.exports={name:"@microsoft/omnichannel-chat-sdk",version:"1.10.4",description:"Microsoft Omnichannel Chat SDK",files:["lib/**/*"],main:"lib/index.js",types:"lib/index.d.ts",scripts:{"build:tsc":"tsc","postbuild:tsc":"node ./scripts/copy_files.js","prebuild:tsc":"eslint src --ext .ts",test:"npm run test:jsdom && npm run test:node","test:jsdom":"jest --config jest.config.jsdom.js","test:node":"jest --config jest.config.node.js",lint:"eslint src --ext .ts"},author:"Microsoft Corporation",license:"MIT",repository:{type:"git",url:"https://github.com/microsoft/omnichannel-chat-sdk"},homepage:"https://github.com/microsoft/omnichannel-chat-sdk#readme",keywords:["SDK","chat","livechat","support","bot","headless","customer"],devDependencies:{"@types/core-js":"^2.5.5","@types/jest":"^29.1.2","@typescript-eslint/eslint-plugin":"^5.4.2","@typescript-eslint/parser":"^5.4.2",eslint:"^7.32.0",jest:"^29.7.0","jest-environment-jsdom":"^29.7.0","ts-jest":"^29.2.5",typescript:"^5.4.2"},dependencies:{"@azure/communication-chat":"1.5.2","@azure/communication-common":"2.3.1","@microsoft/ocsdk":"^0.5.9","@microsoft/omnichannel-amsclient":"^0.1.6","@microsoft/omnichannel-ic3core":"^0.1.4","acs_webchat-chat-adapter":"^0.0.35-beta.30"}}},419,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultInternalTelemetryData=void 0;e.getDefaultInternalTelemetryData=function(n,t){return{environmentVersion:n,chatWidgetLocaleLCID:'1033',channelId:'Android'===t?'lcw_android':'lcw_ios'}}},420,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.disposeAriaTelemetryLogger=e.ariaTelemetryLogger=void 0;var l=r(d[0])(r(d[1])),t=r(d[0])(r(d[2]));e.ariaTelemetryLogger=function(o){var n,y=function(){if((0,r(d[3]).isNullOrUndefined)(n)&&!(0,r(d[3]).isNullOrEmptyString)(o.ariaTelemetryKey)){var l={disableCookiesUsage:o.disableCookieUsage};(0,r(d[3]).isNullOrEmptyString)(o.collectorUriForTelemetry)||(l.collectorUri=o.collectorUriForTelemetry);try{void 0===(n=t.default.initialize(o.ariaTelemetryKey,l))&&(n=t.default.getLogger(o.ariaTelemetryKey))}catch(l){console.log(l)}}return n},s=function(l){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r(d[5]).ScenarioType.UNDEFINED;return{scenarioType:t==r(d[5]).ScenarioType.UNDEFINED?r(d[5]).TelemetryConstants.mapEventToScenario(l.Event):t,payload:l}};return function(t){var n,c,u,p,T,v,f,N;if(!0!==(null==(n=r(d[4]).TelemetryHelper.InternalTelemetryData)?void 0:null==(c=n.telemetryConfig)?void 0:c.telemetryDisabled)){var E=null!=(u=t.logLevel)?u:r(d[5]).LogLevel.INFO,L=null!=(p=null==(T=t.payload)?void 0:T.scenarioType)?p:r(d[5]).ScenarioType.UNDEFINED,D=s(null==t?void 0:t.payload,L),U=new l.default,b=r(d[4]).TelemetryHelper.buildTelemetryEvent(E,D);for(var C of(console.log('scenariotype',D.scenarioType),U.setName(D.scenarioType),Object.keys(b)))N='object'==typeof b[C]?JSON.stringify(b[C]):b[C],U.setProperty(C,N);U.setPropertyWithPii(o.ariaTelemetryApplicationName,r(d[5]).TelemetryConstants.LiveChatWidgetApplicationName,r(d[6]).AWTPiiKind.GenericData),y()?y().logEvent(U):console.log('Unable to initialize aria logger'),null!=(v=r(d[4]).TelemetryHelper.InternalTelemetryData)&&null!=(f=v.telemetryConfig)&&f.disableConsoleLog||(0,r(d[7]).consoleLog)(E,D)}}},e.disposeAriaTelemetryLogger=function(l){t.default.flush(l)}},421,[3,422,426,414,413,411,423,450]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(t){this._event={name:'',properties:{}},t&&this.setName(t)}return t.prototype.setName=function(t){this._event.name=t},t.prototype.getName=function(){return this._event.name},t.prototype.setType=function(t){this._event.type=t},t.prototype.getType=function(){return this._event.type},t.prototype.setTimestamp=function(t){this._event.timestamp=t},t.prototype.getTimestamp=function(){return this._event.timestamp},t.prototype.setEventPriority=function(t){this._event.priority=t},t.prototype.getEventPriority=function(){return this._event.priority},t.prototype.setProperty=function(t,n,o){void 0===o&&(o=r(d[0]).AWTPropertyType.Unspecified);var p={value:n,type:o,pii:r(d[0]).AWTPiiKind.NotSet,cc:r(d[0]).AWTCustomerContentKind.NotSet};null!==(p=r(d[1]).sanitizeProperty(t,p))?this._event.properties[t]=p:delete this._event.properties[t]},t.prototype.setPropertyWithPii=function(t,n,o,p){void 0===p&&(p=r(d[0]).AWTPropertyType.Unspecified);var s={value:n,type:p,pii:o,cc:r(d[0]).AWTCustomerContentKind.NotSet};null!==(s=r(d[1]).sanitizeProperty(t,s))?this._event.properties[t]=s:delete this._event.properties[t]},t.prototype.setPropertyWithCustomerContent=function(t,n,o,p){void 0===p&&(p=r(d[0]).AWTPropertyType.Unspecified);var s={value:n,type:p,pii:r(d[0]).AWTPiiKind.NotSet,cc:o};null!==(s=r(d[1]).sanitizeProperty(t,s))?this._event.properties[t]=s:delete this._event.properties[t]},t.prototype.getPropertyMap=function(){return this._event.properties},t.prototype.getEvent=function(){return this._event},t})();e.default=t},422,[423,424]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(function(t){t[t.Unspecified=0]="Unspecified",t[t.String=1]="String",t[t.Int64=2]="Int64",t[t.Double=3]="Double",t[t.Boolean=4]="Boolean",t[t.Date=5]="Date"})(e.AWTPropertyType||(e.AWTPropertyType={})),(function(t){t[t.NotSet=0]="NotSet",t[t.DistinguishedName=1]="DistinguishedName",t[t.GenericData=2]="GenericData",t[t.IPV4Address=3]="IPV4Address",t[t.IPv6Address=4]="IPv6Address",t[t.MailSubject=5]="MailSubject",t[t.PhoneNumber=6]="PhoneNumber",t[t.QueryString=7]="QueryString",t[t.SipAddress=8]="SipAddress",t[t.SmtpAddress=9]="SmtpAddress",t[t.Identity=10]="Identity",t[t.Uri=11]="Uri",t[t.Fqdn=12]="Fqdn",t[t.IPV4AddressLegacy=13]="IPV4AddressLegacy"})(e.AWTPiiKind||(e.AWTPiiKind={})),(function(t){t[t.NotSet=0]="NotSet",t[t.GenericContent=1]="GenericContent"})(e.AWTCustomerContentKind||(e.AWTCustomerContentKind={})),(function(t){t[t.Low=1]="Low",t[t.Normal=2]="Normal",t[t.High=3]="High",t[t.Immediate_sync=5]="Immediate_sync"})(e.AWTEventPriority||(e.AWTEventPriority={})),(function(t){t[t.NonRetryableStatus=1]="NonRetryableStatus",t[t.QueueFull=3]="QueueFull",t[t.MaxRetryLimit=4]="MaxRetryLimit"})(e.AWTEventsDroppedReason||(e.AWTEventsDroppedReason={})),(function(t){t[t.InvalidEvent=1]="InvalidEvent",t[t.SizeLimitExceeded=2]="SizeLimitExceeded",t[t.KillSwitch=3]="KillSwitch"})(e.AWTEventsRejectedReason||(e.AWTEventsRejectedReason={}))},423,[]);
__d(function(g,_r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=/[xy]/g,n=621355968e5,r=1e4,o=null;e.EventNameAndTypeRegex=/^[a-zA-Z]([a-zA-Z0-9]|_){2,98}[a-zA-Z0-9]$/,e.EventNameDotRegex=/\./g,e.PropertyNameRegex=/^[a-zA-Z](([a-zA-Z0-9|_|\.]){0,98}[a-zA-Z0-9])?$/,e.StatsApiKey='a387cfcf60114a43a7699f9fbb49289e-9bceb9fe-1c06-460f-96c5-6a0b247358bc-7238';var u=o,c=o,f=o;function p(t){return'string'==typeof t}function s(t){return'number'==typeof t}function y(t){return'boolean'==typeof t}function x(t){return t instanceof Date}function T(t){return(t+n)*r}function l(){return!('undefined'==typeof navigator||!navigator.product)&&'ReactNative'===navigator.product}function v(){return'object'==typeof self&&'ServiceWorkerGlobalScope'===self.constructor.name}function A(t){return t<10?'0'+t:t.toString()}function b(t){return t<10?'00'+t:t<100?'0'+t:t.toString()}function P(t,n){switch(n=h(n)?n:_r(d[1]).AWTPropertyType.Unspecified){case _r(d[1]).AWTPropertyType.Unspecified:return S(t);case _r(d[1]).AWTPropertyType.String:return p(t)?n:o;case _r(d[1]).AWTPropertyType.Boolean:return y(t)?n:o;case _r(d[1]).AWTPropertyType.Date:return x(t)&&NaN!==t.getTime()?n:o;case _r(d[1]).AWTPropertyType.Int64:return s(t)&&t%1==0?n:o;case _r(d[1]).AWTPropertyType.Double:return s(t)?n:o}return o}function S(t){switch(typeof t){case'string':return _r(d[1]).AWTPropertyType.String;case'boolean':return _r(d[1]).AWTPropertyType.Boolean;case'number':return _r(d[1]).AWTPropertyType.Double;case'object':return x(t)?_r(d[1]).AWTPropertyType.Date:o}return o}function W(t){return!!(s(t)&&t>=0&&t<=13)}function U(t){return!!(s(t)&&t>=0&&t<=1)}function h(t){return!!(s(t)&&t>=0&&t<=4)}function D(){if('undefined'!=typeof navigator&&navigator.userAgent){var t=navigator.userAgent.toLowerCase();if((t.indexOf('safari')>=0||t.indexOf('firefox')>=0)&&t.indexOf('chrome')<0)return!0}return!1}function R(t){return void 0===t||t===o||''===t}e.numberToBondInt64=function(t){var n=new(_r(d[0]).Int64)('0');return n.low=4294967295&t,n.high=Math.floor(t/4294967296),n},e.newGuid=function(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(t,function(t){var n=16*Math.random()|0;return('x'===t?n:3&n|8).toString(16)})},e.isString=p,e.isNumber=s,e.isBoolean=y,e.isDate=x,e.msToTicks=T,e.getTenantId=function(t){var n=t.indexOf('-');return n>-1?t.substring(0,n):''},e.isBeaconsSupported=function(){return u===o&&(u='undefined'!=typeof navigator&&Boolean(navigator.sendBeacon)),u},e.isUint8ArrayAvailable=function(){return c===o&&(c='undefined'!=typeof Uint8Array&&!D()&&!l()),c},e.isPriority=function(t){return!(!s(t)||!(t>=1&&t<=3||5===t))},e.sanitizeProperty=function(t,n){return!e.PropertyNameRegex.test(t)||R(n)?o:(R(n.value)&&(n={value:n,type:_r(d[1]).AWTPropertyType.Unspecified}),n.type=P(n.value,n.type),n.type?(x(n.value)&&(n.value=T(n.value.getTime())),n.pii>0&&n.cc>0?o:n.pii?W(n.pii)?n:o:n.cc?U(n.cc)?n:o:n):o)},e.getISOString=function(t){return t.getUTCFullYear()+'-'+A(t.getUTCMonth()+1)+'-'+A(t.getUTCDate())+'T'+A(t.getUTCHours())+':'+A(t.getUTCMinutes())+':'+A(t.getUTCSeconds())+'.'+b(t.getUTCMilliseconds())+'Z'},e.useXDomainRequest=function(){if(f===o){var t=new XMLHttpRequest;f=void 0===t.withCredentials&&'undefined'!=typeof XDomainRequest}return f},e.useFetchRequest=function(){return l()||v()},e.isReactNative=l,e.isServiceWorkerGlobalScope=v},424,[425,423]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(t){this.low=0,this.high=0,this.low=parseInt(t,10),this.low<0&&(this.high=-1)}return t.prototype._Equals=function(n){var o=new t(n);return this.low===o.low&&this.high===o.high},t})();e.Int64=t;var n=(function(){function t(t){this.low=0,this.high=0,this.low=parseInt(t,10)}return t.prototype._Equals=function(n){var o=new t(n);return this.low===o.low&&this.high===o.high},t})();e.UInt64=n;var o=(function(){function t(){}return t._ToByte=function(t){return this._ToUInt8(t)},t._ToUInt8=function(t){return 255&t},t._ToInt32=function(t){return 2147483647&t|2147483648&t},t._ToUInt32=function(t){return 4294967295&t},t})();e.Number=o},425,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.initialize=function(t,n){if(void 0===n&&(n={}),!this._isInitialized)return this._isInitialized=!0,r(d[0]).default.defaultTenantToken=t,this._overrideValuesFromConfig(n),this._config.disableCookiesUsage&&!this._config.propertyStorageOverride&&(r(d[0]).default.sessionEnabled=!1),r(d[1]).default.addPropertyStorageOverride(this._config.propertyStorageOverride),r(d[1]).default.autoCollect(r(d[0]).default.semanticContext,this._config.disableCookiesUsage,this._config.userAgent),r(d[2]).default.initialize(this._config),r(d[0]).default.loggingEnabled=!0,this._config.enableAutoUserSession&&(this.getLogger().logSession(r(d[3]).AWTSessionState.Started),window.addEventListener('beforeunload',this.flushAndTeardown)),this.getLogger()},t.getSemanticContext=function(){return r(d[0]).default.semanticContext},t.flush=function(t){this._isInitialized&&!this._isDestroyed&&r(d[2]).default.flush(t)},t.flushAndTeardown=function(){this._isInitialized&&!this._isDestroyed&&(this._config.enableAutoUserSession&&this.getLogger().logSession(r(d[3]).AWTSessionState.Ended),r(d[2]).default.flushAndTeardown(),r(d[0]).default.loggingEnabled=!1,this._isDestroyed=!0)},t.pauseTransmission=function(){this._isInitialized&&!this._isDestroyed&&r(d[2]).default.pauseTransmission()},t.resumeTransmision=function(){this._isInitialized&&!this._isDestroyed&&r(d[2]).default.resumeTransmision()},t.setTransmitProfile=function(t){this._isInitialized&&!this._isDestroyed&&r(d[2]).default.setTransmitProfile(t)},t.loadTransmitProfiles=function(t){this._isInitialized&&!this._isDestroyed&&r(d[2]).default.loadTransmitProfiles(t)},t.setContext=function(t,n,o){void 0===o&&(o=r(d[4]).AWTPropertyType.Unspecified),r(d[0]).default.logManagerContext.setProperty(t,n,o)},t.setContextWithPii=function(t,n,o,s){void 0===s&&(s=r(d[4]).AWTPropertyType.Unspecified),r(d[0]).default.logManagerContext.setPropertyWithPii(t,n,o,s)},t.setContextWithCustomerContent=function(t,n,o,s){void 0===s&&(s=r(d[4]).AWTPropertyType.Unspecified),r(d[0]).default.logManagerContext.setPropertyWithCustomerContent(t,n,o,s)},t.getLogger=function(t){var n=t;return n&&n!==r(d[0]).default.defaultTenantToken||(n=''),this._loggers[n]||(this._loggers[n]=new(r(d[5]).default)(n)),this._loggers[n]},t.addNotificationListener=function(t){r(d[6]).default.addNotificationListener(t)},t.removeNotificationListener=function(t){r(d[6]).default.removeNotificationListener(t)},t._overrideValuesFromConfig=function(t){t.collectorUri&&(this._config.collectorUri=t.collectorUri),t.cacheMemorySizeLimitInNumberOfEvents>0&&(this._config.cacheMemorySizeLimitInNumberOfEvents=t.cacheMemorySizeLimitInNumberOfEvents),t.httpXHROverride&&t.httpXHROverride.sendPOST&&(this._config.httpXHROverride=t.httpXHROverride),t.propertyStorageOverride&&t.propertyStorageOverride.getProperty&&t.propertyStorageOverride.setProperty&&(this._config.propertyStorageOverride=t.propertyStorageOverride),t.userAgent&&(this._config.userAgent=t.userAgent),t.disableCookiesUsage&&(this._config.disableCookiesUsage=t.disableCookiesUsage),t.canSendStatEvent&&(this._config.canSendStatEvent=t.canSendStatEvent),t.enableAutoUserSession&&'undefined'!=typeof window&&window.addEventListener&&(this._config.enableAutoUserSession=t.enableAutoUserSession),t.clockSkewRefreshDurationInMins>0&&(this._config.clockSkewRefreshDurationInMins=t.clockSkewRefreshDurationInMins)},t._loggers={},t._isInitialized=!1,t._isDestroyed=!1,t._config={collectorUri:'https://browser.pipe.aria.microsoft.com/Collector/3.0/',cacheMemorySizeLimitInNumberOfEvents:1e4,disableCookiesUsage:!1,canSendStatEvent:function(t){return!0},clockSkewRefreshDurationInMins:0},t})();e.default=t},426,[427,429,431,430,423,449,438]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(function(){function n(){}return n.logManagerContext=new(r(d[0]).default),n.sessionEnabled=!0,n.loggingEnabled=!1,n.defaultTenantToken='',n.semanticContext=new(r(d[1]).default)(!0,n.logManagerContext),n})();e.default=n},427,[422,428]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(t,o){this._allowDeviceFields=t,this._properties=o}return t.prototype.setAppId=function(t){this._addContext('AppInfo.Id',t)},t.prototype.setAppVersion=function(t){this._addContext('AppInfo.Version',t)},t.prototype.setAppLanguage=function(t){this._addContext('AppInfo.Language',t)},t.prototype.setDeviceId=function(t){this._allowDeviceFields&&(r(d[0]).default.checkAndSaveDeviceId(t),this._addContext('DeviceInfo.Id',t))},t.prototype.setDeviceOsName=function(t){this._allowDeviceFields&&this._addContext('DeviceInfo.OsName',t)},t.prototype.setDeviceOsVersion=function(t){this._allowDeviceFields&&this._addContext('DeviceInfo.OsVersion',t)},t.prototype.setDeviceBrowserName=function(t){this._allowDeviceFields&&this._addContext('DeviceInfo.BrowserName',t)},t.prototype.setDeviceBrowserVersion=function(t){this._allowDeviceFields&&this._addContext('DeviceInfo.BrowserVersion',t)},t.prototype.setDeviceMake=function(t){this._allowDeviceFields&&this._addContext('DeviceInfo.Make',t)},t.prototype.setDeviceModel=function(t){this._allowDeviceFields&&this._addContext('DeviceInfo.Model',t)},t.prototype.setUserId=function(t,o,s){if(!isNaN(s)&&null!==s&&s>=0&&s<=12)this._addContext("UserInfo.IdType",s.toString());else{var n=void 0;switch(o){case r(d[1]).AWTPiiKind.SipAddress:n=r(d[2]).AWTUserIdType.SipAddress;break;case r(d[1]).AWTPiiKind.PhoneNumber:n=r(d[2]).AWTUserIdType.PhoneNumber;break;case r(d[1]).AWTPiiKind.SmtpAddress:n=r(d[2]).AWTUserIdType.EmailAddress;break;default:n=r(d[2]).AWTUserIdType.Unknown}this._addContext("UserInfo.IdType",n.toString())}if(isNaN(o)||null===o||o===r(d[1]).AWTPiiKind.NotSet||o>13)switch(s){case r(d[2]).AWTUserIdType.Skype:o=r(d[1]).AWTPiiKind.Identity;break;case r(d[2]).AWTUserIdType.EmailAddress:o=r(d[1]).AWTPiiKind.SmtpAddress;break;case r(d[2]).AWTUserIdType.PhoneNumber:o=r(d[1]).AWTPiiKind.PhoneNumber;break;case r(d[2]).AWTUserIdType.SipAddress:o=r(d[1]).AWTPiiKind.SipAddress;break;default:o=r(d[1]).AWTPiiKind.NotSet}this._addContextWithPii('UserInfo.Id',t,o)},t.prototype.setUserAdvertisingId=function(t){this._addContext('UserInfo.AdvertisingId',t)},t.prototype.setUserTimeZone=function(t){this._addContext('UserInfo.TimeZone',t)},t.prototype.setUserLanguage=function(t){this._addContext('UserInfo.Language',t)},t.prototype._addContext=function(t,o){'string'==typeof o&&this._properties.setProperty(t,o)},t.prototype._addContextWithPii=function(t,o,s){'string'==typeof o&&this._properties.setPropertyWithPii(t,o,s)},t})();e.default=t},428,[429,423,430]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t='MicrosoftApplicationsTelemetryDeviceId',i='MicrosoftApplicationsTelemetryFirstLaunchTime',n='MSIE',o='Chrome',s='Firefox',c='Safari',u='Edge',h='Electron',_='SkypeShell',l='PhantomJS',f='Opera',v='Windows',p='Mac OS X',C='Windows Phone',S='Windows RT',w='iOS',O='Android',k='Linux',x='Chrome OS',A=/(windows|win32)/i,D=/ arm;/i,V=/windows\sphone\s\d+\.\d+/i,y=/(macintosh|mac os x)/i,T=/(iPad|iPhone|iPod)(?=.*like Mac OS X)/i,b=/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,E=/android/i,U=/CrOS/i,I={5.1:'XP','6.0':'Vista',6.1:'7',6.2:'8',6.3:'8.1','10.0':'10'},M=(function(){function M(){}return M.addPropertyStorageOverride=function(t){return!!t&&(this._propertyStorage=t,!0)},M.autoCollect=function(n,o,s){if(this._semanticContext=n,this._disableCookies=o,this._autoCollect(),s||"undefined"==typeof navigator||(s=navigator.userAgent||''),this._autoCollectFromUserAgent(s),this._disableCookies&&!this._propertyStorage)return this._deleteCookie(t),void this._deleteCookie(i);(this._propertyStorage||this._areCookiesAvailable&&!this._disableCookies)&&this._autoCollectDeviceId()},M.checkAndSaveDeviceId=function(n){if(n){var o=this._getData(t),s=this._getData(i);o!==n&&(s=r(d[0]).getISOString(new Date)),this._saveData(t,n),this._saveData(i,s),this._setFirstLaunchTime(s)}},M._autoCollectDeviceId=function(){var i=this._getData(t);i||(i=r(d[0]).newGuid()),this._semanticContext.setDeviceId(i)},M._autoCollect=function(){"undefined"!=typeof document&&document.documentElement&&this._semanticContext.setAppLanguage(document.documentElement.lang),"undefined"!=typeof navigator&&this._semanticContext.setUserLanguage(navigator.userLanguage||navigator.language);var t=(new Date).getTimezoneOffset(),i=t%60,n=(t-i)/60,o='+';n>0&&(o='-'),n=Math.abs(n),i=Math.abs(i),this._semanticContext.setUserTimeZone(o+(n<10?'0'+n:n.toString())+':'+(i<10?'0'+i:i.toString()))},M._autoCollectFromUserAgent=function(t){if(t){var i=this._getBrowserName(t);this._semanticContext.setDeviceBrowserName(i),this._semanticContext.setDeviceBrowserVersion(this._getBrowserVersion(t,i));var n=this._getOsName(t);this._semanticContext.setDeviceOsName(n),this._semanticContext.setDeviceOsVersion(this._getOsVersion(t,n))}},M._getBrowserName=function(t){return this._userAgentContainsString('OPR/',t)?f:this._userAgentContainsString(l,t)?l:this._userAgentContainsString(u,t)||this._userAgentContainsString('Edg',t)?u:this._userAgentContainsString(h,t)?h:this._userAgentContainsString(o,t)?o:this._userAgentContainsString('Trident',t)?n:this._userAgentContainsString(s,t)?s:this._userAgentContainsString(c,t)?c:this._userAgentContainsString(_,t)?_:"Unknown"},M._setFirstLaunchTime=function(t){if(!isNaN(t)){var i=new Date;i.setTime(parseInt(t,10)),t=r(d[0]).getISOString(i)}this.firstLaunchTime=t},M._userAgentContainsString=function(t,i){return i.indexOf(t)>-1},M._getBrowserVersion=function(t,i){if(i===n)return this._getIeVersion(t);if(i===u){var o=this._getOtherVersion(i,t);return"Unknown"===o?this._getOtherVersion('Edg',t):o}return this._getOtherVersion(i,t)},M._getIeVersion=function(t){var i=t.match(new RegExp(n+" ([\\d,.]+)"));if(i)return i[1];var o=t.match(new RegExp("rv:([\\d,.]+)"));return o?o[1]:void 0},M._getOtherVersion=function(t,i){t===c&&(t='Version');var n=i.match(new RegExp(t+"/([\\d,.]+)"));return n?n[1]:"Unknown"},M._getOsName=function(t){return t.match(V)?C:t.match(D)?S:t.match(T)?w:t.match(E)?O:t.match(b)?k:t.match(y)?p:t.match(A)?v:t.match(U)?x:"Unknown"},M._getOsVersion=function(t,i){return i===v?this._getGenericOsVersion(t,'Windows NT'):i===O?this._getGenericOsVersion(t,i):i===p?this._getMacOsxVersion(t):"Unknown"},M._getGenericOsVersion=function(t,i){var n=t.match(new RegExp(i+" ([\\d,.]+)"));return n?I[n[1]]?I[n[1]]:n[1]:"Unknown"},M._getMacOsxVersion=function(t){var i=t.match(new RegExp(p+" ([\\d,_,.]+)"));if(i){var n=i[1].replace(/_/g,'.');if(n){var o=this._getDelimiter(n);return o?n.split(o)[0]:n}}return"Unknown"},M._getDelimiter=function(t){return t.indexOf('.')>-1?'.':t.indexOf('_')>-1?'_':null},M._saveData=function(t,i){if(this._propertyStorage)this._propertyStorage.setProperty(t,i);else if(this._areCookiesAvailable){var n=new Date;n.setTime(n.getTime()+31536e6);var o='expires='+n.toUTCString();document.cookie=t+'='+i+'; '+o}},M._getData=function(t){if(this._propertyStorage)return this._propertyStorage.getProperty(t)||'';if(this._areCookiesAvailable){t+='=';for(var i=document.cookie.split(';'),n=0;n<i.length;n++){for(var o=i[n],s=0;' '===o.charAt(s);)s++;if(0===(o=o.substring(s)).indexOf(t))return o.substring(t.length,o.length)}}return''},M._deleteCookie=function(t){this._areCookiesAvailable&&(document.cookie=t+'=;expires=Thu, 01 Jan 1970 00:00:01 GMT;')},M._disableCookies=!1,M._areCookiesAvailable="undefined"!=typeof document&&void 0!==document.cookie,M})();e.default=M},429,[424]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(function(I){I[I.Unknown=0]="Unknown",I[I.MSACID=1]="MSACID",I[I.MSAPUID=2]="MSAPUID",I[I.ANID=3]="ANID",I[I.OrgIdCID=4]="OrgIdCID",I[I.OrgIdPUID=5]="OrgIdPUID",I[I.UserObjectId=6]="UserObjectId",I[I.Skype=7]="Skype",I[I.Yammer=8]="Yammer",I[I.EmailAddress=9]="EmailAddress",I[I.PhoneNumber=10]="PhoneNumber",I[I.SipAddress=11]="SipAddress",I[I.MUID=12]="MUID"})(e.AWTUserIdType||(e.AWTUserIdType={})),(function(I){I[I.Started=0]="Started",I[I.Ended=1]="Ended"})(e.AWTSessionState||(e.AWTSessionState={}))},430,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.setEventsHandler=function(t){this._eventHandler=t},t.getEventsHandler=function(){return this._eventHandler},t.scheduleTimer=function(){var t=this,i=this._profiles[this._currentProfile][2];this._timeout<0&&i>=0&&!this._paused&&(this._eventHandler.hasEvents()?(0===i&&this._currentBackoffCount>0&&(i=1),this._timeout=setTimeout(function(){return t._batchAndSendEvents()},i*(1<<this._currentBackoffCount)*1e3)):this._timerCount=0)},t.initialize=function(t){var i=this;this._newEventsAllowed=!0,this._config=t,this._eventHandler=new(r(d[0]).default)(t.collectorUri,t.cacheMemorySizeLimitInNumberOfEvents,t.httpXHROverride,t.clockSkewRefreshDurationInMins),this._initializeProfiles(),r(d[1]).default.initialize(function(t,n){if(i._config.canSendStatEvent("awt_stats")){var s=new(r(d[2]).default)("awt_stats");for(var o in s.setEventPriority(r(d[3]).AWTEventPriority.High),s.setProperty('TenantId',n),t)t.hasOwnProperty(o)&&s.setProperty(o,t[o].toString());r(d[4]).default.getLogger(r(d[5]).StatsApiKey).logEvent(s)}})},t.setTransmitProfile=function(t){this._currentProfile!==t&&void 0!==this._profiles[t]&&(this.clearTimeout(),this._currentProfile=t,this.scheduleTimer())},t.loadTransmitProfiles=function(t){for(var i in this._resetTransmitProfiles(),t)if(t.hasOwnProperty(i)){if(3!==t[i].length)continue;for(var n=2;n>=0;--n)if(t[i][n]<0){for(var s=n;s>=0;--s)t[i][s]=-1;break}for(n=2;n>0;--n)if(t[i][n]>0&&t[i][n-1]>0){var o=t[i][n-1]/t[i][n];t[i][n-1]=Math.ceil(o)*t[i][n]}this._profiles[i]=t[i]}},t.sendEvent=function(t){this._newEventsAllowed&&(this._currentBackoffCount>0&&t.priority===r(d[3]).AWTEventPriority.Immediate_sync&&(t.priority=r(d[3]).AWTEventPriority.High),this._eventHandler.addEvent(t),this.scheduleTimer())},t.flush=function(t){var i=(new Date).getTime();!this._paused&&this._lastUploadNowCall+3e4<i&&(this._lastUploadNowCall=i,this._timeout>-1&&(clearTimeout(this._timeout),this._timeout=-1),this._eventHandler.uploadNow(t))},t.pauseTransmission=function(){this._paused||(this.clearTimeout(),this._eventHandler.pauseTransmission(),this._paused=!0)},t.resumeTransmision=function(){this._paused&&(this._paused=!1,this._eventHandler.resumeTransmission(),this.scheduleTimer())},t.flushAndTeardown=function(){r(d[1]).default.teardown(),this._newEventsAllowed=!1,this.clearTimeout(),this._eventHandler.teardown()},t.backOffTransmission=function(){this._currentBackoffCount<4&&(this._currentBackoffCount++,this.clearTimeout(),this.scheduleTimer())},t.clearBackOff=function(){this._currentBackoffCount>0&&(this._currentBackoffCount=0,this.clearTimeout(),this.scheduleTimer())},t._resetTransmitProfiles=function(){this.clearTimeout(),this._initializeProfiles(),this._currentProfile=r(d[6]).AWT_REAL_TIME,this.scheduleTimer()},t.clearTimeout=function(){this._timeout>0&&(clearTimeout(this._timeout),this._timeout=-1,this._timerCount=0)},t._batchAndSendEvents=function(){var t=r(d[3]).AWTEventPriority.High;this._timerCount++,this._timerCount*this._profiles[this._currentProfile][2]===this._profiles[this._currentProfile][0]?(t=r(d[3]).AWTEventPriority.Low,this._timerCount=0):this._timerCount*this._profiles[this._currentProfile][2]===this._profiles[this._currentProfile][1]&&(t=r(d[3]).AWTEventPriority.Normal),this._eventHandler.sendEventsForPriorityAndAbove(t),this._timeout=-1,this.scheduleTimer()},t._initializeProfiles=function(){this._profiles={},this._profiles[r(d[6]).AWT_REAL_TIME]=[4,2,1],this._profiles[r(d[6]).AWT_NEAR_REAL_TIME]=[12,6,3],this._profiles[r(d[6]).AWT_BEST_EFFORT]=[36,18,9]},t._newEventsAllowed=!1,t._currentProfile=r(d[6]).AWT_REAL_TIME,t._timeout=-1,t._currentBackoffCount=0,t._paused=!1,t._timerCount=0,t._lastUploadNowCall=0,t})();e.default=t},431,[432,447,422,423,426,424,448]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=500,i=(function(){function i(i,u,n,o){this._queueSizeLimit=u,this._isCurrentlyUploadingNow=!1,this._uploadNowQueue=[],this._shouldDropEventsOnPause=!1,this._paused=!1,this._queueSize=0,this._outboundQueue=[],this._inboundQueues={},this._inboundQueues[r(d[0]).AWTEventPriority.High]=[],this._inboundQueues[r(d[0]).AWTEventPriority.Normal]=[],this._inboundQueues[r(d[0]).AWTEventPriority.Low]=[],this._addEmptyQueues(),this._batcher=new(r(d[1]).default)(this._outboundQueue,t),this._httpManager=new(r(d[2]).default)(this._outboundQueue,i,this,n,o)}return i.prototype.addEvent=function(t){r(d[3]).isPriority(t.priority)||(t.priority=r(d[0]).AWTEventPriority.Normal),t.priority===r(d[0]).AWTEventPriority.Immediate_sync?this._httpManager.sendSynchronousRequest(this._batcher.addEventToBatch(t),t.apiKey):this._queueSize<this._queueSizeLimit?this._addEventToProperQueue(t):this._dropEventWithPriorityOrLess(t.priority)?this._addEventToProperQueue(t):r(d[4]).default.eventsDropped([t],r(d[0]).AWTEventsDroppedReason.QueueFull)},i.prototype.sendEventsForPriorityAndAbove=function(t){this._batchEvents(t),this._httpManager.sendQueuedRequests()},i.prototype.hasEvents=function(){return(this._inboundQueues[r(d[0]).AWTEventPriority.High][0].length>0||this._inboundQueues[r(d[0]).AWTEventPriority.Normal][0].length>0||this._inboundQueues[r(d[0]).AWTEventPriority.Low][0].length>0||this._batcher.hasBatch())&&this._httpManager.hasIdleConnection()},i.prototype.addBackRequest=function(t){if(!this._paused||!this._shouldDropEventsOnPause){for(var i in t)if(t.hasOwnProperty(i))for(var u=0;u<t[i].length;++u)t[i][u].sendAttempt<6?this.addEvent(t[i][u]):r(d[4]).default.eventsDropped([t[i][u]],r(d[0]).AWTEventsDroppedReason.MaxRetryLimit);r(d[5]).default.scheduleTimer()}},i.prototype.teardown=function(){this._paused||(this._batchEvents(r(d[0]).AWTEventPriority.Low),this._httpManager.teardown())},i.prototype.uploadNow=function(t){var i=this;this._addEmptyQueues(),this._isCurrentlyUploadingNow?this._uploadNowQueue.push(t):(this._isCurrentlyUploadingNow=!0,setTimeout(function(){return i._uploadNow(t)},0))},i.prototype.pauseTransmission=function(){this._paused=!0,this._httpManager.pause(),this._shouldDropEventsOnPause&&(this._queueSize-=this._inboundQueues[r(d[0]).AWTEventPriority.High][0].length+this._inboundQueues[r(d[0]).AWTEventPriority.Normal][0].length+this._inboundQueues[r(d[0]).AWTEventPriority.Low][0].length,this._inboundQueues[r(d[0]).AWTEventPriority.High][0]=[],this._inboundQueues[r(d[0]).AWTEventPriority.Normal][0]=[],this._inboundQueues[r(d[0]).AWTEventPriority.Low][0]=[],this._httpManager.removeQueuedRequests())},i.prototype.resumeTransmission=function(){this._paused=!1,this._httpManager.resume()},i.prototype.shouldDropEventsOnPause=function(t){this._shouldDropEventsOnPause=t},i.prototype._removeFirstQueues=function(){this._inboundQueues[r(d[0]).AWTEventPriority.High].shift(),this._inboundQueues[r(d[0]).AWTEventPriority.Normal].shift(),this._inboundQueues[r(d[0]).AWTEventPriority.Low].shift()},i.prototype._addEmptyQueues=function(){this._inboundQueues[r(d[0]).AWTEventPriority.High].push([]),this._inboundQueues[r(d[0]).AWTEventPriority.Normal].push([]),this._inboundQueues[r(d[0]).AWTEventPriority.Low].push([])},i.prototype._addEventToProperQueue=function(t){this._paused&&this._shouldDropEventsOnPause||(this._queueSize++,this._inboundQueues[t.priority][this._inboundQueues[t.priority].length-1].push(t))},i.prototype._dropEventWithPriorityOrLess=function(t){for(var i=r(d[0]).AWTEventPriority.Low;i<=t;){if(this._inboundQueues[i][this._inboundQueues[i].length-1].length>0)return r(d[4]).default.eventsDropped([this._inboundQueues[i][this._inboundQueues[i].length-1].shift()],r(d[0]).AWTEventsDroppedReason.QueueFull),!0;i++}return!1},i.prototype._batchEvents=function(t){for(var i=r(d[0]).AWTEventPriority.High;i>=t;){for(;this._inboundQueues[i][0].length>0;){var u=this._inboundQueues[i][0].pop();this._queueSize--,this._batcher.addEventToBatch(u)}i--}this._batcher.flushBatch()},i.prototype._uploadNow=function(t){var i=this;this.hasEvents()&&this.sendEventsForPriorityAndAbove(r(d[0]).AWTEventPriority.Low),this._checkOutboundQueueEmptyAndSent(function(){i._removeFirstQueues(),null!=t&&t(),i._uploadNowQueue.length>0?setTimeout(function(){return i._uploadNow(i._uploadNowQueue.shift())},0):(i._isCurrentlyUploadingNow=!1,i.hasEvents()&&r(d[5]).default.scheduleTimer())})},i.prototype._checkOutboundQueueEmptyAndSent=function(t){var i=this;this._httpManager.isCompletelyIdle()?t():setTimeout(function(){return i._checkOutboundQueueEmptyAndSent(t)},250)},i})();e.default=i},432,[423,433,434,424,438,431]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(t,n){this._outboundQueue=t,this._maxNumberOfEvents=n,this._currentBatch={},this._currentNumEventsInBatch=0}return t.prototype.addEventToBatch=function(t){if(t.priority===r(d[0]).AWTEventPriority.Immediate_sync){var n={};return n[t.apiKey]=[t],n}return this._currentNumEventsInBatch>=this._maxNumberOfEvents&&this.flushBatch(),void 0===this._currentBatch[t.apiKey]&&(this._currentBatch[t.apiKey]=[]),this._currentBatch[t.apiKey].push(t),this._currentNumEventsInBatch++,null},t.prototype.flushBatch=function(){this._currentNumEventsInBatch>0&&(this._outboundQueue.push(this._currentBatch),this._currentBatch={},this._currentNumEventsInBatch=0)},t.prototype.hasBatch=function(){return this._currentNumEventsInBatch>0},t})();e.default=t},433,[423]);
__d(function(g,r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0});var e='POST',t=(function(){function t(t,n,s,i,o){var u=this;this._requestQueue=t,this._queueManager=s,this._httpInterface=i,this._urlString='?qsp=true&content-type=application%2Fbond-compact-binary&client-id=NO_AUTH&sdk-version='+r(d[0]).FullVersionString,this._killSwitch=new(r(d[1]).default),this._paused=!1,this._useBeacons=!1,this._activeConnections=0,this._clockSkewManager=new(r(d[2]).default)(o),r(d[3]).isUint8ArrayAvailable()||(this._urlString+='&content-encoding=base64'),this._urlString=n+this._urlString,this._httpInterface||(this._useBeacons=!r(d[3]).isReactNative(),this._httpInterface={sendPOST:function(t,n,s,i,o,l){try{if(r(d[3]).useFetchRequest())fetch(t,{body:n,method:e}).then(function(e){var t={};e.headers&&e.headers.forEach(function(e,n){t[n]=e}),o(e.status,t)}).catch(function(e){i(0,{})});else if(r(d[3]).useXDomainRequest()){var c=new XDomainRequest;c.open(e,t),c.onload=function(){o(200,null)},c.onerror=function(){i(400,null)},c.ontimeout=function(){s(500,null)},c.send(n)}else{var h=new XMLHttpRequest;h.open(e,t,!l),h.onload=function(){o(h.status,u._convertAllHeadersToMap(h.getAllResponseHeaders()))},h.onerror=function(){i(h.status,u._convertAllHeadersToMap(h.getAllResponseHeaders()))},h.ontimeout=function(){s(h.status,u._convertAllHeadersToMap(h.getAllResponseHeaders()))},h.send(n)}}catch(e){i(400,null)}}})}return t.prototype.hasIdleConnection=function(){return this._activeConnections<2},t.prototype.sendQueuedRequests=function(){for(;this.hasIdleConnection()&&!this._paused&&this._requestQueue.length>0&&this._clockSkewManager.allowRequestSending();)this._activeConnections++,this._sendRequest(this._requestQueue.shift(),0,!1);this.hasIdleConnection()&&r(d[4]).default.scheduleTimer()},t.prototype.isCompletelyIdle=function(){return 0===this._activeConnections},t.prototype.teardown=function(){for(;this._requestQueue.length>0;)this._sendRequest(this._requestQueue.shift(),0,!0)},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1,this.sendQueuedRequests()},t.prototype.removeQueuedRequests=function(){this._requestQueue.length=0},t.prototype.sendSynchronousRequest=function(e,t){this._paused&&(e[t][0].priority=r(d[5]).AWTEventPriority.High),this._activeConnections++,this._sendRequest(e,0,!1,!0)},t.prototype._sendRequest=function(e,t,n,s){var i=this;void 0===s&&(s=!1);try{if(this._paused)return this._activeConnections--,void this._queueManager.addBackRequest(e);var o=0,u='';for(var l in e)e.hasOwnProperty(l)&&(this._killSwitch.isTenantKilled(l)?(r(d[6]).default.eventsRejected(e[l],r(d[5]).AWTEventsRejectedReason.KillSwitch),delete e[l]):(u.length>0&&(u+=','),u+=l,o++));if(o>0){var c=r(d[7]).default.getPayloadBlob(e,o);c.remainingRequest&&this._requestQueue.push(c.remainingRequest);var h=this._urlString+'&x-apikey='+u+'&client-time-epoch-millis='+Date.now().toString();this._clockSkewManager.shouldAddClockSkewHeaders()&&(h=h+'&time-delta-to-apply-millis='+this._clockSkewManager.getClockSkewHeaderValue());var f=void 0;for(var l in f=r(d[3]).isUint8ArrayAvailable()?new Uint8Array(c.payloadBlob):r(d[7]).default.base64Encode(c.payloadBlob),e)if(e.hasOwnProperty(l))for(var p=0;p<e[l].length;++p)e[l][p].sendAttempt>0?e[l][p].sendAttempt++:e[l][p].sendAttempt=1;if(this._useBeacons&&n&&r(d[3]).isBeaconsSupported()&&navigator.sendBeacon(h,f))return;this._httpInterface.sendPOST(h,f,function(l,c){i._retryRequestIfNeeded(l,c,e,o,u,t,n,s)},function(l,c){i._retryRequestIfNeeded(l,c,e,o,u,t,n,s)},function(l,c){i._retryRequestIfNeeded(l,c,e,o,u,t,n,s)},n||s)}else n||this._handleRequestFinished(!1,{},n,s)}catch(e){this._handleRequestFinished(!1,{},n,s)}},t.prototype._retryRequestIfNeeded=function(e,t,n,s,i,o,u,l){var c=this,h=!0;if(void 0!==e){if(t){var f=this._killSwitch.setKillSwitchTenants(t['kill-tokens'],t['kill-duration-seconds']);this._clockSkewManager.setClockSkew(t['time-delta-millis']);for(var p=0;p<f.length;++p)r(d[6]).default.eventsRejected(n[f[p]],r(d[5]).AWTEventsRejectedReason.KillSwitch),delete n[f[p]],s--}else this._clockSkewManager.setClockSkew(null);if(200===e)return void this._handleRequestFinished(!0,n,u,l);(!r(d[8]).default.shouldRetryForStatus(e)||s<=0)&&(h=!1)}if(h)if(l)this._activeConnections--,n[i][0].priority=r(d[5]).AWTEventPriority.High,this._queueManager.addBackRequest(n);else if(o<1){for(var _ in n)n.hasOwnProperty(_)&&r(d[6]).default.eventsRetrying(n[_]);setTimeout(function(){return c._sendRequest(n,o+1,!1)},r(d[8]).default.getMillisToBackoffForRetry(o))}else this._activeConnections--,r(d[4]).default.backOffTransmission(),this._queueManager.addBackRequest(n);else this._handleRequestFinished(!1,n,u,l)},t.prototype._handleRequestFinished=function(e,t,n,s){for(var i in e&&r(d[4]).default.clearBackOff(),t)t.hasOwnProperty(i)&&(e?r(d[6]).default.eventsSent(t[i]):r(d[6]).default.eventsDropped(t[i],r(d[5]).AWTEventsDroppedReason.NonRetryableStatus));this._activeConnections--,s||n||this.sendQueuedRequests()},t.prototype._convertAllHeadersToMap=function(e){var t={};if(e)for(var n=e.split('\n'),s=0;s<n.length;++s){var i=n[s].split(': ');t[i[0]]=i[1]}return t},t})();_e.default=t},434,[435,436,437,424,431,423,438,439,446]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Version='1.8.7',e.FullVersionString='AWT-Web-JS-'+e.Version},435,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){this._killedTokenDictionary={}}return t.prototype.setKillSwitchTenants=function(t,i){if(t&&i)try{var n=t.split(',');if('this-request-only'===i)return n;for(var o=1e3*parseInt(i,10),l=0;l<n.length;++l)this._killedTokenDictionary[n[l]]=Date.now()+o}catch(t){return[]}return[]},t.prototype.isTenantKilled=function(t){return void 0!==this._killedTokenDictionary[t]&&this._killedTokenDictionary[t]>Date.now()||(delete this._killedTokenDictionary[t],!1)},t})();e.default=t},436,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(t){this.clockSkewRefreshDurationInMins=t,this._reset()}return t.prototype.allowRequestSending=function(){return this._isFirstRequest&&!this._clockSkewSet?(this._isFirstRequest=!1,this._allowRequestSending=!1,!0):this._allowRequestSending},t.prototype.shouldAddClockSkewHeaders=function(){return this._shouldAddClockSkewHeaders},t.prototype.getClockSkewHeaderValue=function(){return this._clockSkewHeaderValue},t.prototype.setClockSkew=function(t){this._clockSkewSet||(t?this._clockSkewHeaderValue=t:this._shouldAddClockSkewHeaders=!1,this._clockSkewSet=!0,this._allowRequestSending=!0)},t.prototype._reset=function(){var t=this;this._isFirstRequest=!0,this._clockSkewSet=!1,this._allowRequestSending=!0,this._shouldAddClockSkewHeaders=!0,this._clockSkewHeaderValue='use-collector-delta',this.clockSkewRefreshDurationInMins>0&&setTimeout(function(){return t._reset()},6e4*this.clockSkewRefreshDurationInMins)},t})();e.default=t},437,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.addNotificationListener=function(t){this.listeners.push(t)},t.removeNotificationListener=function(t){for(var n=this.listeners.indexOf(t);n>-1;)this.listeners.splice(n,1),n=this.listeners.indexOf(t)},t.eventsSent=function(t){for(var n=this,s=function(s){i.listeners[s].eventsSent&&setTimeout(function(){return n.listeners[s].eventsSent(t)},0)},i=this,o=0;o<this.listeners.length;++o)s(o)},t.eventsDropped=function(t,n){for(var s=this,i=function(i){o.listeners[i].eventsDropped&&setTimeout(function(){return s.listeners[i].eventsDropped(t,n)},0)},o=this,u=0;u<this.listeners.length;++u)i(u)},t.eventsRetrying=function(t){for(var n=this,s=function(s){i.listeners[s].eventsRetrying&&setTimeout(function(){return n.listeners[s].eventsRetrying(t)},0)},i=this,o=0;o<this.listeners.length;++o)s(o)},t.eventsRejected=function(t,n){for(var s=this,i=function(i){o.listeners[i].eventsRejected&&setTimeout(function(){return s.listeners[i].eventsRejected(t,n)},0)},o=this,u=0;u<this.listeners.length;++u)i(u)},t.listeners=[],t})();e.default=t},438,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.getPayloadBlob=function(t,n){var i,_=!1,B=new(r(d[0]).IO.MemoryStream),T=new(r(d[0]).CompactBinaryProtocolWriter)(B);for(var o in T._WriteFieldBegin(r(d[0])._BondDataType._BT_MAP,3,null),T._WriteMapContainerBegin(n,r(d[0])._BondDataType._BT_STRING,r(d[0])._BondDataType._BT_LIST),t)if(_)i||(i={}),i[o]=t[o],delete t[o];else if(t.hasOwnProperty(o)){T._WriteString(o);var l=t[o];T._WriteContainerBegin(1,r(d[0])._BondDataType._BT_STRUCT),T._WriteFieldBegin(r(d[0])._BondDataType._BT_STRING,2,null),T._WriteString('act_default_source'),T._WriteFieldBegin(r(d[0])._BondDataType._BT_STRING,5,null),T._WriteString(r(d[1]).newGuid()),T._WriteFieldBegin(r(d[0])._BondDataType._BT_INT64,6,null),T._WriteInt64(r(d[1]).numberToBondInt64(Date.now())),T._WriteFieldBegin(r(d[0])._BondDataType._BT_LIST,8,null);var p=B._GetBuffer().length+1;T._WriteContainerBegin(t[o].length,r(d[0])._BondDataType._BT_STRUCT);for(var u=B._GetBuffer().length-p,W=0;W<l.length;++W){var y=B._GetBuffer().length;if(this.writeEvent(l[W],T),B._GetBuffer().length-y>2936012)r(d[2]).default.eventsRejected([l[W]],r(d[3]).AWTEventsRejectedReason.SizeLimitExceeded),l.splice(W--,1),B._GetBuffer().splice(y),this._addNewDataPackageSize(l.length,B,u,p);else if(B._GetBuffer().length>2936012){B._GetBuffer().splice(y),i||(i={}),t[o]=l.splice(0,W),i[o]=l,this._addNewDataPackageSize(t[o].length,B,u,p),_=!0;break}}T._WriteStructEnd(!1)}return T._WriteStructEnd(!1),{payloadBlob:B._GetBuffer(),remainingRequest:i}},t._addNewDataPackageSize=function(t,n,i,_){for(var B=r(d[0])._Encoding._Varint_GetBytes(r(d[0]).Number._ToUInt32(t)),T=0;T<i;++T){if(!(T<B.length)){n._GetBuffer().slice(_+T,i-T);break}n._GetBuffer()[_+T]=B[T]}},t.writeEvent=function(t,n){n._WriteFieldBegin(r(d[0])._BondDataType._BT_STRING,1,null),n._WriteString(t.id),n._WriteFieldBegin(r(d[0])._BondDataType._BT_INT64,3,null),n._WriteInt64(r(d[1]).numberToBondInt64(t.timestamp)),n._WriteFieldBegin(r(d[0])._BondDataType._BT_STRING,5,null),n._WriteString(t.type),n._WriteFieldBegin(r(d[0])._BondDataType._BT_STRING,6,null),n._WriteString(t.name);var i={},_=0,B={},T=0,o={},l=0,p={},u=0,W={},y=0,f={},S=0,D={},c=0;for(var s in t.properties){if(t.properties.hasOwnProperty(s))if((v=t.properties[s]).cc>0)D[s]=v,c++;else if(v.pii>0)f[s]=v,S++;else switch(v.type){case r(d[3]).AWTPropertyType.String:i[s]=v.value,_++;break;case r(d[3]).AWTPropertyType.Int64:B[s]=v.value,T++;break;case r(d[3]).AWTPropertyType.Double:o[s]=v.value,l++;break;case r(d[3]).AWTPropertyType.Boolean:p[s]=v.value,u++;break;case r(d[3]).AWTPropertyType.Date:W[s]=v.value,y++}}if(_)for(var s in n._WriteFieldBegin(r(d[0])._BondDataType._BT_MAP,13,null),n._WriteMapContainerBegin(_,r(d[0])._BondDataType._BT_STRING,r(d[0])._BondDataType._BT_STRING),i)if(i.hasOwnProperty(s)){var I=i[s];n._WriteString(s),n._WriteString(I.toString())}if(S)for(var s in n._WriteFieldBegin(r(d[0])._BondDataType._BT_MAP,30,null),n._WriteMapContainerBegin(S,r(d[0])._BondDataType._BT_STRING,r(d[0])._BondDataType._BT_STRUCT),f)if(f.hasOwnProperty(s)){var v=f[s];n._WriteString(s),n._WriteFieldBegin(r(d[0])._BondDataType._BT_INT32,1,null),n._WriteInt32(1),n._WriteFieldBegin(r(d[0])._BondDataType._BT_INT32,2,null),n._WriteInt32(v.pii),n._WriteFieldBegin(r(d[0])._BondDataType._BT_STRING,3,null),n._WriteString(v.value.toString()),n._WriteStructEnd(!1)}if(u)for(var s in n._WriteFieldBegin(r(d[0])._BondDataType._BT_MAP,31,null),n._WriteMapContainerBegin(u,r(d[0])._BondDataType._BT_STRING,r(d[0])._BondDataType._BT_BOOL),p)if(p.hasOwnProperty(s)){I=p[s];n._WriteString(s),n._WriteBool(I)}if(y)for(var s in n._WriteFieldBegin(r(d[0])._BondDataType._BT_MAP,32,null),n._WriteMapContainerBegin(y,r(d[0])._BondDataType._BT_STRING,r(d[0])._BondDataType._BT_INT64),W)if(W.hasOwnProperty(s)){I=W[s];n._WriteString(s),n._WriteInt64(r(d[1]).numberToBondInt64(I))}if(T)for(var s in n._WriteFieldBegin(r(d[0])._BondDataType._BT_MAP,33,null),n._WriteMapContainerBegin(T,r(d[0])._BondDataType._BT_STRING,r(d[0])._BondDataType._BT_INT64),B)if(B.hasOwnProperty(s)){I=B[s];n._WriteString(s),n._WriteInt64(r(d[1]).numberToBondInt64(I))}if(l)for(var s in n._WriteFieldBegin(r(d[0])._BondDataType._BT_MAP,34,null),n._WriteMapContainerBegin(l,r(d[0])._BondDataType._BT_STRING,r(d[0])._BondDataType._BT_DOUBLE),o)if(o.hasOwnProperty(s)){I=o[s];n._WriteString(s),n._WriteDouble(I)}if(c)for(var s in n._WriteFieldBegin(r(d[0])._BondDataType._BT_MAP,36,null),n._WriteMapContainerBegin(c,r(d[0])._BondDataType._BT_STRING,r(d[0])._BondDataType._BT_STRUCT),D)if(D.hasOwnProperty(s)){v=D[s];n._WriteString(s),n._WriteFieldBegin(r(d[0])._BondDataType._BT_INT32,1,null),n._WriteInt32(v.cc),n._WriteFieldBegin(r(d[0])._BondDataType._BT_STRING,2,null),n._WriteString(v.value.toString()),n._WriteStructEnd(!1)}n._WriteStructEnd(!1)},t.base64Encode=function(t){return r(d[0])._Encoding._Base64_GetString(t)},t})();e.default=t},439,[440,424,438,423]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._BondDataType=r(d[0])._BondDataType,e._Encoding=r(d[1]),e.IO=r(d[2]),e.Int64=r(d[3]).Int64,e.UInt64=r(d[3]).UInt64,e.Number=r(d[3]).Number;var t=(function(){function t(t){this._stream=t}return t.prototype._WriteBlob=function(t){this._stream._Write(t,0,t.length)},t.prototype._WriteBool=function(t){this._stream._WriteByte(t?1:0)},t.prototype._WriteContainerBegin=function(t,n){this._WriteUInt8(n),this._WriteUInt32(t)},t.prototype._WriteMapContainerBegin=function(t,n,_){this._WriteUInt8(n),this._WriteUInt8(_),this._WriteUInt32(t)},t.prototype._WriteDouble=function(t){var n=r(d[1])._Double_GetBytes(t);this._stream._Write(n,0,n.length)},t.prototype._WriteFieldBegin=function(t,n,_){n<=5?this._stream._WriteByte(t|n<<5):n<=255?(this._stream._WriteByte(192|t),this._stream._WriteByte(n)):(this._stream._WriteByte(224|t),this._stream._WriteByte(n),this._stream._WriteByte(n>>8))},t.prototype._WriteInt32=function(t){t=r(d[1])._Zigzag_EncodeZigzag32(t),this._WriteUInt32(t)},t.prototype._WriteInt64=function(t){this._WriteUInt64(r(d[1])._Zigzag_EncodeZigzag64(t))},t.prototype._WriteString=function(t){if(''===t)this._WriteUInt32(0);else{var n=r(d[1])._Utf8_GetBytes(t);this._WriteUInt32(n.length),this._stream._Write(n,0,n.length)}},t.prototype._WriteStructEnd=function(t){this._WriteUInt8(t?r(d[0])._BondDataType._BT_STOP_BASE:r(d[0])._BondDataType._BT_STOP)},t.prototype._WriteUInt32=function(t){var n=r(d[1])._Varint_GetBytes(r(d[3]).Number._ToUInt32(t));this._stream._Write(n,0,n.length)},t.prototype._WriteUInt64=function(t){var n=r(d[1])._Varint64_GetBytes(t);this._stream._Write(n,0,n.length)},t.prototype._WriteUInt8=function(t){this._stream._WriteByte(r(d[3]).Number._ToUInt8(t))},t})();e.CompactBinaryProtocolWriter=t},440,[441,442,445,425]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(function(_){_[_._BT_STOP=0]="_BT_STOP",_[_._BT_STOP_BASE=1]="_BT_STOP_BASE",_[_._BT_BOOL=2]="_BT_BOOL",_[_._BT_DOUBLE=8]="_BT_DOUBLE",_[_._BT_STRING=9]="_BT_STRING",_[_._BT_STRUCT=10]="_BT_STRUCT",_[_._BT_LIST=11]="_BT_LIST",_[_._BT_MAP=13]="_BT_MAP",_[_._BT_INT32=16]="_BT_INT32",_[_._BT_INT64=17]="_BT_INT64"})(e._BondDataType||(e._BondDataType={}))},441,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._Utf8_GetBytes=function(t){for(var n=[],h=0;h<t.length;++h){var u=t.charCodeAt(h);u<128?n.push(u):u<2048?n.push(192|u>>6,128|63&u):u<55296||u>=57344?n.push(224|u>>12,128|u>>6&63,128|63&u):(u=65536+((1023&u)<<10|1023&t.charCodeAt(++h)),n.push(240|u>>18,128|u>>12&63,128|u>>6&63,128|63&u))}return n},e._Base64_GetString=function(t){for(var n,h='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',u=[],o=t.length%3,s=0,i=t.length-o;s<i;s+=3){var c=(t[s]<<16)+(t[s+1]<<8)+t[s+2];u.push([h.charAt((n=c)>>18&63),h.charAt(n>>12&63),h.charAt(n>>6&63),h.charAt(63&n)].join(''))}switch(o){case 1:c=t[t.length-1],u.push(h.charAt(c>>2)),u.push(h.charAt(c<<4&63)),u.push('==');break;case 2:var p=(t[t.length-2]<<8)+t[t.length-1];u.push(h.charAt(p>>10)),u.push(h.charAt(p>>4&63)),u.push(h.charAt(p<<2&63)),u.push('=')}return u.join('')},e._Varint_GetBytes=function(t){for(var n=[];4294967168&t;)n.push(127&t|128),t>>>=7;return n.push(127&t),n},e._Varint64_GetBytes=function(t){for(var n=t.low,h=t.high,u=[];h||4294967168&n;)u.push(127&n|128),n=(127&h)<<25|n>>>7,h>>>=7;return u.push(127&n),u},e._Double_GetBytes=function(t){if(r(d[0]).BrowserChecker._IsDataViewSupport()){var n=new DataView(new ArrayBuffer(8));n.setFloat64(0,t,!0);for(var h=[],u=0;u<8;++u)h.push(n.getUint8(u));return h}return r(d[1]).FloatUtils._ConvertNumberToArray(t,!0)},e._Zigzag_EncodeZigzag32=function(t){return(t=r(d[2]).Number._ToInt32(t))<<1^t>>31},e._Zigzag_EncodeZigzag64=function(t){var n=t.low,h=t.high,u=h<<1|n>>>31,o=n<<1;2147483648&h&&(u=~u,o=~o);var s=new(r(d[2]).UInt64)('0');return s.low=o,s.high=u,s}},442,[443,444,425]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(function(){function n(){}return n._IsDataViewSupport=function(){return'undefined'!=typeof ArrayBuffer&&'undefined'!=typeof DataView},n})();e.BrowserChecker=n},443,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(function(){function i(){}return i._ConvertNumberToArray=function(i,t){if(!i)return t?this._doubleZero:this._floatZero;var o=t?52:23,f=(1<<(t?11:8)-1)-1,n=1-f,u=f,l=i<0?1:0;i=Math.abs(i);for(var _=Math.floor(i),s=i-_,h=2*(f+2)+o,y=new Array(h),b=0;b<h;)y[b++]=0;for(b=f+2;b&&_;)y[--b]=_%2,_=Math.floor(_/2);for(b=f+1;b<h-1&&s>0;)(s*=2)>=1?(y[++b]=1,--s):y[++b]=0;for(var v=0;v<h&&!y[v];)v++;var I=f+1-v,c=v+o;if(y[c+1]){for(b=c;b>v&&(y[b]=1-y[b],!y);--b);b===v&&++I}if(I>u||_)return l?t?this._doubleNegInifinity:this._floatNegInifinity:t?this._doubleInifinity:this._floatInifinity;if(I<n)return t?this._doubleZero:this._floatZero;if(t){var Z=0;for(b=0;b<20;++b)Z=Z<<1|y[++v];for(var N=0;b<52;++b)N=N<<1|y[++v];return[255&N,N>>8&255,N>>16&255,N>>>24,255&(Z=l<<31|2147483647&(Z|=I+f<<20)),Z>>8&255,Z>>16&255,Z>>>24]}var M=0;for(b=0;b<23;++b)M=M<<1|y[++v];return[255&(M=l<<31|2147483647&(M|=I+f<<23)),M>>8&255,M>>16&255,M>>>24]},i._floatZero=[0,0,0,0],i._doubleZero=[0,0,0,0,0,0,0,0],i._floatInifinity=[0,0,128,127],i._floatNegInifinity=[0,0,128,255],i._doubleInifinity=[0,0,0,0,0,0,240,127],i._doubleNegInifinity=[0,0,0,0,0,0,240,255],i})();e.FloatUtils=i},444,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){this._buffer=[]}return t.prototype._WriteByte=function(t){this._buffer.push(r(d[0]).Number._ToByte(t))},t.prototype._Write=function(t,o,u){for(;u--;)this._WriteByte(t[o++])},t.prototype._GetBuffer=function(){return this._buffer},t})();e.MemoryStream=t},445,[425]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.shouldRetryForStatus=function(t){return!(t>=300&&t<500&&408!==t||501===t||505===t)},t.getMillisToBackoffForRetry=function(t){var n,o=Math.floor(1200*Math.random())+2400;return n=Math.pow(4,t)*o,Math.min(n,12e4)},t})();e.default=t},446,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.initialize=function(t){var s=this;this._sendStats=t,this._isInitalized=!0,r(d[0]).default.addNotificationListener({eventsSent:function(t){s._addStat('records_sent_count',t.length,t[0].apiKey)},eventsDropped:function(t,n){switch(n){case r(d[1]).AWTEventsDroppedReason.NonRetryableStatus:s._addStat('d_send_fail',t.length,t[0].apiKey),s._addStat('records_dropped_count',t.length,t[0].apiKey);break;case r(d[1]).AWTEventsDroppedReason.MaxRetryLimit:s._addStat('d_retry_limit',t.length,t[0].apiKey),s._addStat('records_dropped_count',t.length,t[0].apiKey);break;case r(d[1]).AWTEventsDroppedReason.QueueFull:s._addStat('d_queue_full',t.length,t[0].apiKey)}},eventsRejected:function(t,n){switch(n){case r(d[1]).AWTEventsRejectedReason.InvalidEvent:s._addStat('r_inv',t.length,t[0].apiKey);break;case r(d[1]).AWTEventsRejectedReason.KillSwitch:s._addStat('r_kl',t.length,t[0].apiKey);break;case r(d[1]).AWTEventsRejectedReason.SizeLimitExceeded:s._addStat('r_size',t.length,t[0].apiKey)}s._addStat('r_count',t.length,t[0].apiKey)},eventsRetrying:null}),setTimeout(function(){return s.flush()},6e4)},t.teardown=function(){this._isInitalized&&(this.flush(),this._isInitalized=!1)},t.eventReceived=function(s){t._addStat('records_received_count',1,s)},t.flush=function(){var t=this;if(this._isInitalized){for(var s in this._stats)this._stats.hasOwnProperty(s)&&this._sendStats(this._stats[s],s);this._stats={},setTimeout(function(){return t.flush()},6e4)}},t._addStat=function(t,s,n){if(this._isInitalized&&n!==r(d[2]).StatsApiKey){var _=r(d[2]).getTenantId(n);this._stats[_]||(this._stats[_]={}),this._stats[_][t]?this._stats[_][t]=this._stats[_][t]+s:this._stats[_][t]=s}},t._isInitalized=!1,t._stats={},t})();e.default=t},447,[438,423,424]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AWT_REAL_TIME='REAL_TIME',e.AWT_NEAR_REAL_TIME='NEAR_REAL_TIME',e.AWT_BEST_EFFORT='BEST_EFFORT'},448,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(t){this._apiKey=t,this._contextProperties=new(r(d[0]).default),this._semanticContext=new(r(d[1]).default)(!1,this._contextProperties),this._sessionStartTime=0,this._createInitId()}return t.prototype.setContext=function(t,n,o){void 0===o&&(o=r(d[2]).AWTPropertyType.Unspecified),this._contextProperties.setProperty(t,n,o)},t.prototype.setContextWithPii=function(t,n,o,s){void 0===s&&(s=r(d[2]).AWTPropertyType.Unspecified),this._contextProperties.setPropertyWithPii(t,n,o,s)},t.prototype.setContextWithCustomerContent=function(t,n,o,s){void 0===s&&(s=r(d[2]).AWTPropertyType.Unspecified),this._contextProperties.setPropertyWithCustomerContent(t,n,o,s)},t.prototype.getSemanticContext=function(){return this._semanticContext},t.prototype.logEvent=function(n){if(r(d[3]).default.loggingEnabled){this._apiKey||(this._apiKey=r(d[3]).default.defaultTenantToken,this._createInitId());var o=!0;r(d[4]).isString(n)?n={name:n}:n instanceof r(d[0]).default&&(n=n.getEvent(),o=!1),r(d[5]).default.eventReceived(this._apiKey),t._logEvent(t._getInternalEvent(n,this._apiKey,o),this._contextProperties)}},t.prototype.logSession=function(n,o){if(r(d[3]).default.sessionEnabled){var s={name:'session',type:'session',properties:{}};if(t._addPropertiesToEvent(s,o),s.priority=r(d[2]).AWTEventPriority.High,n===r(d[6]).AWTSessionState.Started){if(this._sessionStartTime>0)return;this._sessionStartTime=(new Date).getTime(),this._sessionId=r(d[4]).newGuid(),this.setContext('Session.Id',this._sessionId),s.properties['Session.State']='Started'}else{if(n!==r(d[6]).AWTSessionState.Ended)return;if(0===this._sessionStartTime)return;var p=Math.floor(((new Date).getTime()-this._sessionStartTime)/1e3);s.properties['Session.Id']=this._sessionId,s.properties['Session.State']='Ended',s.properties['Session.Duration']=p.toString(),s.properties['Session.DurationBucket']=t._getSessionDurationFromTime(p),this._sessionStartTime=0,this.setContext('Session.Id',null),this._sessionId=void 0}s.properties['Session.FirstLaunchTime']=r(d[7]).default.firstLaunchTime,this.logEvent(s)}},t.prototype.getSessionId=function(){return this._sessionId},t.prototype.logFailure=function(n,o,s,p,u){if(n&&o){var f={name:'failure',type:'failure',properties:{}};t._addPropertiesToEvent(f,u),f.properties['Failure.Signature']=n,f.properties['Failure.Detail']=o,s&&(f.properties['Failure.Category']=s),p&&(f.properties['Failure.Id']=p),f.priority=r(d[2]).AWTEventPriority.High,this.logEvent(f)}},t.prototype.logPageView=function(n,o,s,p,u,f){if(n&&o){var y={name:'pageview',type:'pageview',properties:{}};t._addPropertiesToEvent(y,f),y.properties['PageView.Id']=n,y.properties['PageView.Name']=o,s&&(y.properties['PageView.Category']=s),p&&(y.properties['PageView.Uri']=p),u&&(y.properties['PageView.ReferrerUri']=u),this.logEvent(y)}},t.prototype._createInitId=function(){!t._initIdMap[this._apiKey]&&this._apiKey&&(t._initIdMap[this._apiKey]=r(d[4]).newGuid())},t._addPropertiesToEvent=function(t,n){if(n)for(var o in n instanceof r(d[0]).default&&(n=n.getEvent()),n.name&&(t.name=n.name),n.priority&&(t.priority=n.priority),n.properties)n.properties.hasOwnProperty(o)&&(t.properties[o]=n.properties[o])},t._getSessionDurationFromTime=function(t){return t<0?'Undefined':t<=3?'UpTo3Sec':t<=10?'UpTo10Sec':t<=30?'UpTo30Sec':t<=60?'UpTo60Sec':t<=180?'UpTo3Min':t<=600?'UpTo10Min':t<=1800?'UpTo30Min':'Above30Min'},t._logEvent=function(t,n){t.name&&r(d[4]).isString(t.name)?(t.name=t.name.toLowerCase(),t.name=t.name.replace(r(d[4]).EventNameDotRegex,'_'),t.type&&r(d[4]).isString(t.type)?t.type=t.type.toLowerCase():t.type='custom',r(d[4]).EventNameAndTypeRegex.test(t.name)&&r(d[4]).EventNameAndTypeRegex.test(t.type)?((!r(d[4]).isNumber(t.timestamp)||t.timestamp<0)&&(t.timestamp=(new Date).getTime()),t.properties||(t.properties={}),this._addContextIfAbsent(t,n.getPropertyMap()),this._addContextIfAbsent(t,r(d[3]).default.logManagerContext.getPropertyMap()),this._setDefaultProperty(t,'EventInfo.InitId',this._getInitId(t.apiKey)),this._setDefaultProperty(t,'EventInfo.Sequence',this._getSequenceId(t.apiKey)),this._setDefaultProperty(t,'EventInfo.SdkVersion',r(d[9]).FullVersionString),this._setDefaultProperty(t,'EventInfo.Name',t.name),this._setDefaultProperty(t,'EventInfo.Time',new Date(t.timestamp).toISOString()),r(d[4]).isPriority(t.priority)||(t.priority=r(d[2]).AWTEventPriority.Normal),this._sendEvent(t)):r(d[8]).default.eventsRejected([t],r(d[2]).AWTEventsRejectedReason.InvalidEvent)):r(d[8]).default.eventsRejected([t],r(d[2]).AWTEventsRejectedReason.InvalidEvent)},t._addContextIfAbsent=function(t,n){if(n)for(var o in n)n.hasOwnProperty(o)&&(t.properties[o]||(t.properties[o]=n[o]))},t._setDefaultProperty=function(t,n,o){t.properties[n]={value:o,pii:r(d[2]).AWTPiiKind.NotSet,type:r(d[2]).AWTPropertyType.String}},t._sendEvent=function(t){r(d[10]).default.sendEvent(t)},t._getInternalEvent=function(t,n,o){if(t.properties=t.properties||{},o)for(var s in t.properties)t.properties.hasOwnProperty(s)&&(t.properties[s]=r(d[4]).sanitizeProperty(s,t.properties[s]),null===t.properties[s]&&delete t.properties[s]);var p=t;return p.id=r(d[4]).newGuid(),p.apiKey=n,p},t._getInitId=function(n){return t._initIdMap[n]},t._getSequenceId=function(n){return void 0===t._sequenceIdMap[n]&&(t._sequenceIdMap[n]=0),(++t._sequenceIdMap[n]).toString()},t._sequenceIdMap={},t._initIdMap={},t})();e.default=t},449,[422,428,423,427,424,447,430,429,438,435,431]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.consoleLog=void 0;e.consoleLog=function(o,t){var n=null!=t&&t.payload&&Object.keys(null==t?void 0:t.payload).length>0?null==t?void 0:t.payload:'';try{switch(o){case r(d[0]).LogLevel.INFO:console.info(r(d[0]).TelemetryConstants.LiveChatWidgetApplicationName,n);break;case r(d[0]).LogLevel.DEBUG:console.debug(r(d[0]).TelemetryConstants.LiveChatWidgetApplicationName,n);break;case r(d[0]).LogLevel.WARN:console.warn(r(d[0]).TelemetryConstants.LiveChatWidgetApplicationName,n);break;case r(d[0]).LogLevel.ERROR:console.error(r(d[0]).TelemetryConstants.LiveChatWidgetApplicationName,n);break;default:console.debug(r(d[0]).TelemetryConstants.LiveChatWidgetApplicationName,n)}}catch(o){console.error('An unexpected error occurred in the Telemetry client: '+o)}}},450,[411]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultLocaleString=e.defaultLocaleId=e.getLocaleIdFromString=e.getLocaleStringFromId=e.isCustomerMessage=e.isSystemMessage=e.PersonType=e.MessageType=e.DeliveryMode=e.MessageContentType=e.ChatSDKError=e.ChatSDKErrorName=e.uuidv4=e.OCSDKProvider=e.IC3SDKProvider=e.OmnichannelChatSDK=void 0,Object.defineProperty(e,"ChatSDKError",{enumerable:!0,get:function(){return r(d[0]).ChatSDKError}}),Object.defineProperty(e,"ChatSDKErrorName",{enumerable:!0,get:function(){return r(d[0]).ChatSDKErrorName}}),Object.defineProperty(e,"OCSDKProvider",{enumerable:!0,get:function(){return r(d[1]).SDKProvider}}),Object.defineProperty(e,"uuidv4",{enumerable:!0,get:function(){return r(d[1]).uuidv4}}),Object.defineProperty(e,"defaultLocaleId",{enumerable:!0,get:function(){return r(d[2]).defaultLocaleId}}),Object.defineProperty(e,"defaultLocaleString",{enumerable:!0,get:function(){return r(d[2]).defaultLocaleString}}),Object.defineProperty(e,"getLocaleIdFromString",{enumerable:!0,get:function(){return r(d[2]).getLocaleIdFromString}}),Object.defineProperty(e,"getLocaleStringFromId",{enumerable:!0,get:function(){return r(d[2]).getLocaleStringFromId}}),Object.defineProperty(e,"isCustomerMessage",{enumerable:!0,get:function(){return r(d[3]).isCustomerMessage}}),Object.defineProperty(e,"isSystemMessage",{enumerable:!0,get:function(){return r(d[3]).isSystemMessage}}),e.DeliveryMode=r(d[4]).default,Object.defineProperty(e,"IC3SDKProvider",{enumerable:!0,get:function(){return r(d[5]).SDKProvider}}),e.MessageContentType=r(d[6]).default,e.MessageType=r(d[7]).default,e.OmnichannelChatSDK=r(d[8]).default,e.PersonType=r(d[9]).default,e.default={OmnichannelChatSDK:r(d[8]).default,ic3sdk:{IC3SDKProvider:r(d[5]).SDKProvider},ocsdk:{OCSDKProvider:r(d[1]).SDKProvider,uuidv4:r(d[1]).uuidv4}}},451,[452,453,695,696,699,700,717,697,738,721]);
__d(function(g,r,i,a,m,e,d){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ChatSDKError=e.ChatSDKErrorName=void 0,(function(t){t.ChatAdapterInitializationFailure="ChatAdapterInitializationFailure",t.UnsupportedLiveChatVersion="UnsupportedLiveChatVersion",t.OmnichannelClientInitializationFailure="OmnichannelClientInitializationFailure",t.MessagingClientCreationFailure="MessagingClientCreationFailure",t.ChatConfigRetrievalFailure="ChatConfigRetrievalFailure",t.UninitializedChatSDK="UninitializedChatSDK",t.ChatTokenRetrievalFailure="ChatTokenRetrievalFailure",t.ScriptLoadFailure="ScriptLoadFailure",t.UnsupportedPlatform="UnsupportedPlatform",t.FeatureDisabled="FeatureDisabled",t.ClosedConversation="ClosedConversation",t.InvalidConversation="InvalidConversation",t.AuthenticatedChatConversationRetrievalFailure="AuthenticatedChatConversationRetrievalFailure",t.PersistentChatConversationRetrievalFailure="PersistentChatConversationRetrievalFailure",t.WidgetUseOutsideOperatingHour="WidgetUseOutsideOperatingHour",t.ConversationInitializationFailure="ConversationInitializationFailure",t.ConversationClosureFailure="ConversationClosureFailure",t.MessagingClientInitializationFailure="MessagingClientInitializationFailure",t.MessagingClientConversationJoinFailure="MessagingClientConversationJoinFailure",t.LiveChatTranscriptRetrievalFailure="LiveChatTranscriptRetrievalFailure",t.ConversationDetailsRetrievalFailure="ConversationDetailsRetrievalFailure",t.AuthContactIdNotFoundFailure="AuthContactIdNotFoundFailure",t.GetAuthTokenNotFound="GetAuthTokenNotFound",t.GetAuthTokenFailed="GetAuthTokenFailed",t.UndefinedAuthToken="UndefinedAuthToken",t.UnknownAMSLoadState="UnknownAMSLoadState"})(t||(e.ChatSDKErrorName=t={}));var n=(function(){function t(t,n){this.message=t,this.httpResponseStatusCode=n}return t.prototype.toString=function(){return this.message},t})();e.ChatSDKError=n},452,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"SDKProvider",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"uuidv4",{enumerable:!0,get:function(){return r(d[0]).uuidv4}});var n=r(d[1])(r(d[2])),o=r(d[1])(r(d[3])),t=r(d[1])(r(d[4]));!(function(){if(void 0===g.window&&(g.window=g),!window)throw new Error("window object not found");"Microsoft"in window||(window.Microsoft={}),"CRM"in window.Microsoft||(window.Microsoft.CRM={}),"Omnichannel"in window.Microsoft.CRM||(window.Microsoft.CRM.Omnichannel={}),"SDK"in window.Microsoft.CRM.Omnichannel||(window.Microsoft.CRM.Omnichannel.SDK={SDKProvider:o.default,Util:{uuidv4:r(d[0]).uuidv4}}),window.document&&t.default.raiseCustomEvent(n.default.OCSDKLOAD)})()},453,[454,3,455,456,694]);
__d(function(g,_r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uuidv4=void 0;e.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(x){var t=16*Math.random()|0;return("x"===x?t:3&t|8).toString(16)})}},454,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])),u=r(d[0])(r(d[2])),n=(function(){function n(){(0,t.default)(this,n)}return(0,u.default)(n,null,[{key:"OCSDKLOAD",get:function(){return"oc:sdk:load"}}]),n})();e.default=n},455,[3,12,13]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),u=r(d[0])(r(d[3])),l=r(d[0])(r(d[4])),f=r(d[0])(r(d[5])),o=(function(){function o(){(0,t.default)(this,o)}return(0,n.default)(o,null,[{key:"getSDK",value:function(t,n,o){var c=new l.default(o);return new f.default({channelId:t.channelId||u.default.defaultChannelId,orgId:t.orgId,orgUrl:t.orgUrl,widgetId:t.widgetId},n||{},c)}}]),o})();e.default=o},456,[3,12,13,457,459,461]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])),o=r(d[0])(r(d[2])),n=function o(){(0,t.default)(this,o)};e.default=n,(0,o.default)(n,"requiredOmnichannelConfigurationParameters",["orgUrl","orgId","widgetId"]),(0,o.default)(n,"defaultHeaders",{"Content-Type":"application/json"}),(0,o.default)(n,"bypassCacheHeaders",{"Cache-Control":"no-store, must-revalidate, no-cache","X-Cache-Control":"no-store"}),(0,o.default)(n,"defaultChannelId",r(d[3]).ChannelId.LCW),(0,o.default)(n,"defaultLocale","en-us"),(0,o.default)(n,"noContentStatusCode",204),(0,o.default)(n,"tooManyRequestsStatusCode",429),(0,o.default)(n,"notFoundStatusCode",404),(0,o.default)(n,"badRequestStatusCode",400),(0,o.default)(n,"outOfOfficeErrorCode",705),(0,o.default)(n,"sensitiveProperties",["AuthenticatedUserToken"]),(0,o.default)(n,"transactionid","transaction-id"),(0,o.default)(n,"customerDisplayName","customerDisplayName"),(0,o.default)(n,"hiddenContentPlaceholder","*content hidden*"),(0,o.default)(n,"axiosTimeoutErrorCode","ECONNABORTED")},457,[3,12,240,458]);
__d(function(g,r,i,a,m,e,d){"use strict";var E,T,t,S,C,A,n,I;Object.defineProperty(e,"__esModule",{value:!0}),e.SDKError=e.LiveChatVersion=e.OCSDKTelemetryEvent=e.ChannelId=e.OperatingSystem=e.DeviceType=e.Browser=e.BrowserVendor=void 0,e.BrowserVendor=E,(function(E){E.IE="IE",E.CHROME="Chrome",E.FIREFOX="Firefox",E.SAFARI="Safari",E.EDGE="Edge",E.EDGE_CHROMIUM="Edg",E.OPERA="Opera",E.UNKNOWN="Unknown"})(E||(e.BrowserVendor=E={})),e.Browser=T,(function(E){E[E.Chrome=0]="Chrome",E[E.Firefox=1]="Firefox",E[E.Ie=2]="Ie",E[E.Edge=3]="Edge",E[E.Safari=4]="Safari",E[E.None=5]="None"})(T||(e.Browser=T={})),e.DeviceType=t,(function(E){E.Desktop="Desktop",E.Mobile="Mobile",E.Tablet="Tablet"})(t||(e.DeviceType=t={})),e.OperatingSystem=S,(function(E){E.WINDOWS="Windows",E.MACOSX="Mac OS X",E.WINDOWS_PHONE="Windows Phone",E.WINDOWS_RT="Windows RT",E.IOS="iOS",E.ANDROID="Android",E.LINUX="Linux",E.UNKNOWN="Unknown"})(S||(e.OperatingSystem=S={})),e.ChannelId=C,(function(E){E.LCW="lcw",E.SMS="sms",E.FACEBOOK="facebook",E.WECHAT="wechat"})(C||(e.ChannelId=C={})),e.OCSDKTelemetryEvent=A,(function(E){E.GETLCWFCSDETAILSSTARTED="GetLcwFcsDetailsStarted",E.GETLCWFCSDETAILSSUCCEEDED="GetLcwFcsDetailsSucceeded",E.GETLCWFCSDETAILSFAILED="GetLcwFcsDetailsFailed",E.GETCHATCONFIGFSTARTED="GetChatConfig",E.GETCHATCONFIGSUCCEEDED="GetChatConfigSucceeded",E.GETCHATCONFIGFAILED="GetChatConfigFailed",E.GETRECONNECTABLECHATSSTARTED="GetReconnnectableChatsStarted",E.GETRECONNECTABLECHATSSUCCEEDED="GetReconnnectableChatsSucceeded",E.GETRECONNECTABLECHATSFAILED="GetReconnnectableChatsFailed",E.GETRECONNECTAVAILABILITYSUCCEEDED="GetReconnnectableAvailabilitySucceeded",E.GETRECONNECTAVAILABILITYSTARTED="GetReconnnectableAvailabilityStarted",E.GETRECONNECTAVAILABILITYFAILED="GetReconnnectableAvailabilityFailed",E.GETCHATTOKENSTARTED="GetChatTokenStarted",E.GETCHATTOKENSUCCEEDED="GetChatTokenSucceeded",E.GETCHATTOKENFAILED="GetChatTokenFailed",E.GETLWISTATUSSTARTED="GetLwiStatusStarted",E.GETLWISTATUSSUCCEEDED="GetLwiStatusSucceeded",E.GETLWISTATUSFAILED="GetLwiStatusFailed",E.SESSIONINITSTARTED="SessionInitStarted",E.SESSIONINITSUCCEEDED="SessionInitSucceeded",E.SESSIONINITFAILED="SessionInitFailed",E.SESSIONCLOSESTARTED="SessionCloseStarted",E.SESSIONCLOSESUCCEEDED="SessionCloseSucceeded",E.SESSIONCLOSEFAILED="SessionCloseFailed",E.SUBMITPOSTCHATSTARTED="SubmitPostChatStarted",E.SUBMITPOSTCHATSUCCEEDED="SubmitPostChatSucceeded",E.SUBMITPOSTCHATFAILED="SubmitPostChatFailed",E.GETCHATTRANSCRIPTSTARTED="GetChatTranscriptStarted",E.GETCHATTRANSCRIPTSUCCEEDED="GetChatTranscriptSucceeded",E.GETCHATTRANSCRIPTFAILED="GetChatTranscriptFailed",E.EMAILTRANSCRIPTSTARTED="EmailTranscriptStarted",E.EMAILTRANSCRIPTSUCCEEDED="EmailTranscriptSucceeded",E.EMAILTRANSCRIPTFAILED="EmailTranscriptFailed",E.FETCHDATAMASKINGSTARTED="FetchDataMaskingStarted",E.FETCHDATAMASKINGSUCCEEDED="FetchDataMaskingSucceeded",E.FETCHDATAMASKINGFAILED="FetchDataMaskingFailed",E.SECONDARYCHANNELEVENTREQUESTSTARTED="SecondaryChannelEventRequestStarted",E.SECONDARYCHANNELEVENTREQUESTSUCCEEDED="SecondaryChannelEventRequestSucceeded",E.SECONDARYCHANNELEVENTREQUESTFAILED="SecondaryChannelEventRequestFailed",E.GETSURVEYINVITELINKSTARTED="GetSurveyInviteLinkStarted",E.GETSURVEYINVITELINKSUCCEEDED="GetSurveyInviteLinkSucceeded",E.GETSURVEYINVITELINKFAILED="GetSurveyInviteLinkFailed",E.VALIDATEAUTHCHATRECORDSTARTED="ValidateAuthChatRecordStarted",E.VALIDATEAUTHCHATRECORDSUCCEEDED="ValidateAuthChatRecordSucceeded",E.VALIDATEAUTHCHATRECORDFAILED="ValidateAuthChatRecordFailed",E.GETAGENTAVAILABILITYSTARTED="GetAgentAvailabilityStarted",E.GETAGENTAVAILABILITYSUCCEEDED="GetAgentAvailabilitySucceeded",E.GETAGENTAVAILABILITYFAILED="GetAgentAvailabilityFailed",E.SENDTYPINGINDICATORFAILED="SendTypingIndicatorFailed",E.SENDTYPINGINDICATORSUCCEEDED="SendTypingIndicatorSucceeded"})(A||(e.OCSDKTelemetryEvent=A={})),e.LiveChatVersion=n,(function(E){E[E.V1=1]="V1",E[E.V2=2]="V2",E[E.V3=3]="V3"})(n||(e.LiveChatVersion=n={})),e.SDKError=I,(function(E){E.ClientHTTPTimeoutErrorName="ClientHTTPTimeoutError",E.ClientHTTPTimeoutErrorMessage="Server took too long to respond"})(I||(e.SDKError=I={}))},458,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),l=r(d[0])(r(d[3])),u=r(d[0])(r(d[4])),o=(function(){function o(n){(0,t.default)(this,o),(0,l.default)(this,"logger",void 0),this.logger=n}return(0,n.default)(o,[{key:"log",value:function(t,n,l,o){if(this.isLoggingEnabled()){var s=u.default.GETTELEMETRYEVENTDATA(n,l,o);this.logEvent(t,s)}}},{key:"logEvent",value:function(t,n){this.isLoggingEnabled()&&setTimeout(this.logger.logClientSdkTelemetryEvent.bind(this.logger),0,t,n)}},{key:"isLoggingEnabled",value:function(){return!this.isNullOrUndefined(this.logger)}},{key:"isNullOrUndefined",value:function(t){return null==t}}]),o})();e.default=o},459,[3,12,13,240,460]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])),s=r(d[0])(r(d[2])),n=(function(){function n(){(0,t.default)(this,n)}return(0,s.default)(n,null,[{key:"GETTELEMETRYEVENTDATA",value:function(t,s,n){return{Description:n,ElapsedTimeInMilliseconds:s.ElapsedTimeInMilliseconds,Event:t,ExceptionDetails:s.ExceptionDetails,Region:s.Region,RequestId:s.RequestId,TransactionId:s.TransactionId,RequestHeaders:s.RequestHeaders,RequestPayload:s.RequestPayload,RequestPath:s.RequestPath,RequestMethod:s.RequestMethod,ResponseStatusCode:s.ResponseStatusCode,ResponseErrorcode:s.ResponseErrorcode}}}]),n})();e.default=n},460,[3,12,13]);
__d(function(e,t,n,a,i,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=t(o[0])(t(o[1])),s=t(o[0])(t(o[2])),c=t(o[0])(t(o[3])),d=t(o[0])(t(o[4])),l=t(o[0])(t(o[5])),h=t(o[0])(t(o[6])),f=L(t(o[7])),g=t(o[0])(t(o[8])),v=t(o[0])(t(o[9])),T=t(o[0])(t(o[10])),C=t(o[0])(t(o[11])),m=t(o[0])(t(o[12])),E=L(t(o[13])),p=t(o[0])(t(o[14])),I=t(o[0])(t(o[15]));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function L(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==t(o[3])(e)&&"function"!=typeof e)return{default:e};var a=S(n);if(a&&a.has(e))return a.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=r?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(i,u,s):i[u]=e[u]}return i.default=e,a&&a.set(e,i),i}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,h.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=y(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw r}}}}function y(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var D=(function(){function e(n){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.defaultConfiguration,r=arguments.length>2?arguments[2]:void 0;(0,d.default)(this,e),this.omnichannelConfiguration=n,this.configuration=i,this.logger=r,(0,h.default)(this,"liveChatVersion",void 0),(0,h.default)(this,"sessionId",void 0),(0,h.default)(this,"ocUserAgent",void 0),(0,h.default)(this,"HTTPTimeOutErrorMessage","".concat(t(o[16]).SDKError.ClientHTTPTimeoutErrorName,": ").concat(t(o[16]).SDKError.ClientHTTPTimeoutErrorMessage)),(0,h.default)(this,"setAuthCodeNonce",function(e){null!=e&&e.authcodenonce&&(a.configuration.authCodeNonce=null==e?void 0:e.authcodenonce)}),(0,h.default)(this,"setSessionIdHeader",function(e,t){e&&(t[m.default.ocSessionId]=e)}),Object.keys(this.configuration).length&&"object"===(0,c.default)(i)||(this.configuration=e.defaultConfiguration);for(var u=0,s=Object.keys(e.defaultConfiguration);u<s.length;u++){var l=s[u];this.configuration.hasOwnProperty(l)||(this.configuration["".concat(l)]=e.defaultConfiguration["".concat(l)])}for(var f=0,g=Object.keys(e.defaultConfiguration.requestTimeoutConfig);f<g.length;f++){var T=g[f];this.configuration.requestTimeoutConfig.hasOwnProperty(T)||(this.configuration.requestTimeoutConfig["".concat(T)]=e.defaultConfiguration.requestTimeoutConfig["".concat(T)])}var C=n.channelId;if(!Object.values(t(o[16]).ChannelId).includes(C))throw new Error("Invalid channelId");var E,p=Object.keys(n),I=w(v.default.requiredOmnichannelConfigurationParameters);try{for(I.s();!(E=I.n()).done;){var S=E.value;if(!p.includes(S))throw new Error("Missing '".concat(S,"' in OmnichannelConfiguration"))}}catch(e){I.e(e)}finally{I.f()}this.ocUserAgent=this.configuration.ocUserAgent,this.liveChatVersion=t(o[16]).LiveChatVersion.V2}return(0,l.default)(e,[{key:"getLcwFcsDetails",value:(function(){var e=(0,s.default)(u.default.mark(function e(){var n,a,i,r,s,c,d,l,h,f,v;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t(o[17]).Timer.TIMER(),this.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.GETLCWFCSDETAILSSTARTED,"Get LCW FCS details started",""),a="/".concat(C.default.LcwFcsDetailsPath,"/").concat(this.omnichannelConfiguration.orgId),i="GET",r="".concat(this.omnichannelConfiguration.orgUrl).concat(a),s=g.default.create(),(0,E.default)(s,{retries:this.configuration.maxRequestRetriesOnFailure,waitTimeInMsBetweenRetries:this.configuration.waitTimeBetweenRetriesConfig.getChatConfig}),c={},(0,t(o[19]).addOcUserAgentHeader)(this.ocUserAgent,c),e.prev=9,e.next=12,s.get(r,{headers:c,timeout:null!==(d=this.configuration.defaultRequestTimeout)&&void 0!==d?d:this.configuration.requestTimeoutConfig.getChatConfig});case 12:return l=e.sent,h=n.milliSecondsElapsed,f=l.data,this.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.GETLCWFCSDETAILSSUCCEEDED,"Get LCW FCS details succeeded","",l,h,a,i,void 0,void 0,c),e.abrupt("return",f);case 19:throw e.prev=19,e.t0=e.catch(9),v=n.milliSecondsElapsed,this.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.GETLCWFCSDETAILSFAILED,"Get LCW FCS details failed","",void 0,v,a,i,e.t0,void 0,c),e.t0;case 24:case"end":return e.stop()}},e,this,[[9,19]])}));return function(){return e.apply(this,arguments)}})()},{key:"getChatConfig",value:(function(){var e=(0,s.default)(u.default.mark(function e(n){var a,i,r,s,c,d,l,h,f,T,m,p,I=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=I.length>1&&void 0!==I[1]&&I[1],i=t(o[17]).Timer.TIMER(),this.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.GETCHATCONFIGFSTARTED,"Get Chat config started",n),n||(n=(0,t(o[20]).uuidv4)()),r="/".concat(C.default.LiveChatConfigPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"?requestId=").concat(n,"&channelId=").concat(this.omnichannelConfiguration.channelId),s="GET",c="".concat(this.omnichannelConfiguration.orgUrl).concat(r),d=g.default.create(),(0,E.default)(d,{retries:this.configuration.maxRequestRetriesOnFailure,waitTimeInMsBetweenRetries:this.configuration.waitTimeBetweenRetriesConfig.getChatConfig}),l={},(0,t(o[19]).addOcUserAgentHeader)(this.ocUserAgent,l),a&&(l=R(R({},v.default.bypassCacheHeaders),l)),e.prev=12,e.next=15,d.get(c,{headers:l,timeout:null!==(h=this.configuration.defaultRequestTimeout)&&void 0!==h?h:this.configuration.requestTimeoutConfig.getChatConfig});case 15:return f=e.sent,T=i.milliSecondsElapsed,(m=f.data).LiveChatVersion&&(this.liveChatVersion=m.LiveChatVersion),m.headers={},f.headers&&f.headers.date&&(m.headers.date=f.headers.date),this.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.GETCHATCONFIGSUCCEEDED,"Get Chat config succeeded",n,f,T,r,s,void 0,void 0,l),e.abrupt("return",m);case 25:return e.prev=25,e.t0=e.catch(12),p=i.milliSecondsElapsed,this.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.GETCHATCONFIGFAILED,"Get Chat config failed",n,void 0,p,r,s,e.t0,void 0,l),e.abrupt("return",Promise.reject(e.t0));case 30:case"end":return e.stop()}},e,this,[[12,25]])}));return function(t){return e.apply(this,arguments)}})()},{key:"getLWIDetails",value:(function(){var e=(0,s.default)(u.default.mark(function e(n){var a,i,r,c,d,l,h,f,T,I,S,L,O=this,R=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=R.length>1&&void 0!==R[1]?R[1]:{},r=t(o[17]).Timer.TIMER(),this.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.GETLWISTATUSSTARTED,"Get LWI Details Started",n),n||(n=(0,t(o[20]).uuidv4)()),c="/".concat(C.default.LiveChatLiveWorkItemDetailsPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(n),d=g.default.create(),(0,E.axiosRetryHandlerWithNotFound)(d,{headerOverwrites:[m.default.authCodeNonce],retries:this.configuration.maxRequestRetriesOnFailure,waitTimeInMsBetweenRetries:this.configuration.waitTimeBetweenRetriesConfig.getLWIDetails}),l=i.authenticatedUserToken,h=i.reconnectId,f=v.default.defaultHeaders,l&&(c="/".concat(C.default.LiveChatAuthLiveWorkItemDetailsPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(n),f[m.default.authenticatedUserToken]=l,f[m.default.authCodeNonce]=this.configuration.authCodeNonce),(0,t(o[19]).addOcUserAgentHeader)(this.ocUserAgent,f),this.setSessionIdHeader(this.sessionId,f),T=!l&&!0===this.configuration.useUnauthReconnectIdSigQueryParam,h&&(T||(c+="/".concat(h))),I={channelId:this.omnichannelConfiguration.channelId},h&&T&&(I.sig=h),S="".concat(this.omnichannelConfiguration.orgUrl).concat(c),"GET",L={headers:f,method:"GET",url:S,params:I,timeout:null!==(a=this.configuration.defaultRequestTimeout)&&void 0!==a?a:this.configuration.requestTimeoutConfig.getLWIDetails},e.abrupt("return",new Promise((function(){var e=(0,s.default)(u.default.mark(function e(a,i){var s,l,h,g,T;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(L);case 3:s=e.sent,l=r.milliSecondsElapsed,h=s.data,g=s.headers,O.setAuthCodeNonce(g),O.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.GETLWISTATUSSUCCEEDED,"Get LWI Details succeeded",n,s,l,c,"GET",void 0,void 0,f),a(h),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(0),T=r.milliSecondsElapsed,O.logWithLogger(t(o[18]).LogLevel.ERROR,t(o[16]).OCSDKTelemetryEvent.GETLWISTATUSFAILED,"Get LWI Details failed",n,void 0,T,c,"GET",e.t0,void 0,f),(0,p.default)(e.t0,v.default.axiosTimeoutErrorCode)&&i(new Error(O.HTTPTimeOutErrorMessage)),i(e.t0);case 17:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,n){return e.apply(this,arguments)}})()));case 20:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}})()},{key:"getChatToken",value:(function(){var e=(0,s.default)(u.default.mark(function e(n){var a,i,r,c,d,l,h,f,T,C,I,S,L,O,R,w,y=this,A=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=A.length>1&&void 0!==A[1]?A[1]:{},r=A.length>2&&void 0!==A[2]?A[2]:0,c=t(o[17]).Timer.TIMER(),d=i.reconnectId,l=i.authenticatedUserToken,h=i.currentLiveChatVersion,f=i.refreshToken,this.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.GETCHATTOKENSTARTED,"Get Chat Token Started",n),!(r<0)){e.next=7;break}throw new Error("Invalid currentRetryCount");case 7:return n||(n=(0,t(o[20]).uuidv4)()),T=v.default.defaultHeaders,(0,t(o[19]).addOcUserAgentHeader)(this.ocUserAgent,T),C=(0,t(o[21]).createGetChatTokenEndpoint)(h||this.liveChatVersion,!!l),l&&(T[m.default.authenticatedUserToken]=l,T[m.default.authCodeNonce]=this.configuration.authCodeNonce),I="/".concat(C,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(n),S=!l&&!0===this.configuration.useUnauthReconnectIdSigQueryParam,d&&(S||(I+="/".concat(d))),L={channelId:this.omnichannelConfiguration.channelId},f&&(L.refreshToken='true'),d&&S&&(L.sig=d),O="".concat(this.omnichannelConfiguration.orgUrl).concat(I),"GET",R={headers:T,method:"GET",url:O,params:L,timeout:null!==(a=this.configuration.defaultRequestTimeout)&&void 0!==a?a:this.configuration.requestTimeoutConfig.getChatToken},w=g.default.create(),(0,E.default)(w,{headerOverwrites:[m.default.authCodeNonce],retries:r>this.configuration.maxRequestRetriesOnFailure?r:this.configuration.maxRequestRetriesOnFailure,retryOn429:this.configuration.getChatTokenRetryOn429,waitTimeInMsBetweenRetries:this.configuration.waitTimeBetweenRetriesConfig.getChatToken}),e.abrupt("return",new Promise((function(){var e=(0,s.default)(u.default.mark(function e(a,i){var r,s,l,h,f;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(R);case 3:if(r=e.sent,s=c.milliSecondsElapsed,l=r.data,h=r.headers,y.setAuthCodeNonce(h),h&&h[m.default.ocSessionId.toLowerCase()]&&(y.sessionId=h[m.default.ocSessionId.toLowerCase()]),!l){e.next=16;break}if(0!==Object.keys(l).length){e.next=12;break}return i(new Error("Empty data received from getChatToken")),e.abrupt("return");case 12:return l.requestId=n,y.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.GETCHATTOKENSUCCEEDED,"Get Chat Token succeeded",n,r,s,I,"GET",void 0,void 0,T),a(l),e.abrupt("return");case 16:if(!d||r.status!==v.default.noContentStatusCode){e.next=19;break}return i(r),e.abrupt("return");case 19:e.next=27;break;case 21:e.prev=21,e.t0=e.catch(0),f=c.milliSecondsElapsed,y.logWithLogger(t(o[18]).LogLevel.ERROR,t(o[16]).OCSDKTelemetryEvent.GETCHATTOKENFAILED,"Get Chat Token failed",n,void 0,f,I,"GET",e.t0,void 0,T),(0,p.default)(e.t0,v.default.axiosTimeoutErrorCode)&&i(new Error(y.HTTPTimeOutErrorMessage)),i(e.t0);case 27:case"end":return e.stop()}},e,null,[[0,21]])}));return function(t,n){return e.apply(this,arguments)}})()));case 24:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}})()},{key:"getReconnectableChats",value:(function(){var e=(0,s.default)(u.default.mark(function e(n){var a,i,r,c,d,l,h,f,T,E=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t(o[17]).Timer.TIMER(),r=n.authenticatedUserToken,this.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.GETRECONNECTABLECHATSSTARTED,"Get Reconnectable chat Started"),c="/".concat(C.default.LiveChatGetReconnectableChatsPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat((null==n?void 0:n.requestId)||this.omnichannelConfiguration.orgId,"?channelId=").concat(this.omnichannelConfiguration.channelId),(d=v.default.defaultHeaders)[m.default.authenticatedUserToken]=r,d[m.default.authCodeNonce]=this.configuration.authCodeNonce,this.setSessionIdHeader(this.sessionId,d),(0,t(o[19]).addOcUserAgentHeader)(this.ocUserAgent,d),l="".concat(this.omnichannelConfiguration.orgUrl).concat(c),"GET",h={headers:d,method:"GET",url:l,timeout:null!==(a=this.configuration.defaultRequestTimeout)&&void 0!==a?a:this.configuration.requestTimeoutConfig.getReconnectableChats},f=g.default.create(),T=this.omnichannelConfiguration.orgId,e.abrupt("return",new Promise((function(){var e=(0,s.default)(u.default.mark(function e(n,a){var r,s,l,g,C;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(h);case 3:if(r=e.sent,s=i.milliSecondsElapsed,l=r.data,g=r.headers,E.setAuthCodeNonce(g),!l){e.next=11;break}return E.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.GETRECONNECTABLECHATSSUCCEEDED,"Get Reconnectable Chats Succeeded and old session returned",T,r,s,c,"GET",void 0,void 0,d),n(l),e.abrupt("return");case 11:return n(),e.abrupt("return");case 15:return e.prev=15,e.t0=e.catch(0),C=i.milliSecondsElapsed,E.logWithLogger(t(o[18]).LogLevel.ERROR,t(o[16]).OCSDKTelemetryEvent.GETRECONNECTABLECHATSFAILED,"Get Reconnectable Chats failed",T,void 0,C,c,"GET",e.t0,void 0,d),(0,p.default)(e.t0,v.default.axiosTimeoutErrorCode)&&a(new Error(E.HTTPTimeOutErrorMessage)),a(e.t0),e.abrupt("return");case 22:case"end":return e.stop()}},e,null,[[0,15]])}));return function(t,n){return e.apply(this,arguments)}})()));case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}})()},{key:"getReconnectAvailability",value:(function(){var e=(0,s.default)(u.default.mark(function e(n){var a,i,r,c,d,l,h,f=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t(o[17]).Timer.TIMER(),this.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.GETRECONNECTAVAILABILITYSTARTED,"Get Reconnectable availability Started"),r="/".concat(C.default.LiveChatReconnectAvailabilityPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(n),c=v.default.defaultHeaders,this.setSessionIdHeader(this.sessionId,c),(0,t(o[19]).addOcUserAgentHeader)(this.ocUserAgent,c),d="".concat(this.omnichannelConfiguration.orgUrl).concat(r),"GET",l={headers:c,method:"GET",url:d,timeout:null!==(a=this.configuration.defaultRequestTimeout)&&void 0!==a?a:this.configuration.requestTimeoutConfig.getReconnectAvailability},h=g.default.create(),e.abrupt("return",new Promise((function(){var e=(0,s.default)(u.default.mark(function e(n,a){var s,d,g,T;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(l);case 3:if(s=e.sent,d=i.milliSecondsElapsed,!(g=s.data)){e.next=10;break}return f.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.GETRECONNECTAVAILABILITYSUCCEEDED,"Get Reconnect availability succeeded",void 0,s,d,r,"GET",void 0,void 0,c),n(g),e.abrupt("return");case 10:return f.logWithLogger(t(o[18]).LogLevel.WARN,t(o[16]).OCSDKTelemetryEvent.GETRECONNECTAVAILABILITYSUCCEEDED,"Get Reconnect availability didn't send any valid data",void 0,s,d,r,"GET",void 0,void 0,c),n(),e.abrupt("return");case 15:return e.prev=15,e.t0=e.catch(0),T=i.milliSecondsElapsed,f.logWithLogger(t(o[18]).LogLevel.ERROR,t(o[16]).OCSDKTelemetryEvent.GETRECONNECTAVAILABILITYFAILED,"Get Reconnect Availability failed",void 0,void 0,T,r,"GET",e.t0,void 0,c),(0,p.default)(e.t0,v.default.axiosTimeoutErrorCode)&&a(new Error(f.HTTPTimeOutErrorMessage)),a(e.t0),e.abrupt("return");case 22:case"end":return e.stop()}},e,null,[[0,15]])}));return function(t,n){return e.apply(this,arguments)}})()));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}})()},{key:"getAgentAvailability",value:(function(){var e=(0,s.default)(u.default.mark(function e(n){var a,i,r,c,d,l,h,I,S,L,O,R,w,y,A=this,D=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=D.length>1&&void 0!==D[1]?D[1]:{},r=t(o[17]).Timer.TIMER(),this.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.GETAGENTAVAILABILITYSTARTED,"Get agent availability Started",n),c="/".concat(C.default.GetAgentAvailabilityPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(n,"?channelId=lcw"),d=g.default.create(),(0,E.default)(d,{headerOverwrites:[m.default.authCodeNonce],retries:this.configuration.maxRequestRetriesOnFailure,waitTimeInMsBetweenRetries:this.configuration.waitTimeBetweenRetriesConfig.getAgentAvailability}),l=i.authenticatedUserToken,h=i.initContext,I=i.getContext,S=v.default.defaultHeaders,l&&(S[m.default.authenticatedUserToken]=l,S[m.default.authCodeNonce]=this.configuration.authCodeNonce),this.setSessionIdHeader(this.sessionId,S),(0,t(o[19]).addOcUserAgentHeader)(this.ocUserAgent,S),L=h||{},O={orgId:this.omnichannelConfiguration.orgId,widgetId:this.omnichannelConfiguration.widgetId},L&&L.customContextData&&(R=t(o[22]).CustomContextData.sort(L.customContextData),Object.assign(O,{customContext:R})),L.portalcontactid&&Object.assign(O,{portalcontactid:L.portalcontactid}),L.cacheKey=f.createHash('sha256').update(JSON.stringify(O)).digest('hex').toString(),!I||window.document){e.next=18;break}return e.abrupt("return",Promise.reject(new Error("getContext is only supported on web browsers")));case 18:if(I&&(L.browser=t(o[23]).BrowserInfo.getBrowserName(),L.device=t(o[24]).DeviceInfo.getDeviceType(),L.originurl=window.location.href,L.os=t(o[25]).OSInfo.getOsType()),L.locale||(L.locale=v.default.defaultLocale),!L.locale||T.default.supportedLocales.includes(L.locale)){e.next=22;break}return e.abrupt("return",Promise.reject(new Error("Unsupported locale: '".concat(L.locale,"'"))));case 22:return w="".concat(this.omnichannelConfiguration.orgUrl).concat(c),"POST",y={data:L,headers:S,method:"POST",url:w,timeout:null!==(a=this.configuration.defaultRequestTimeout)&&void 0!==a?a:this.configuration.requestTimeoutConfig.getAgentAvailability},e.abrupt("return",new Promise((function(){var e=(0,s.default)(u.default.mark(function e(a,i){var s,l,h,f,g;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(y);case 3:s=e.sent,l=r.milliSecondsElapsed,h=s.data,f=s.headers,A.setAuthCodeNonce(f),h&&(A.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.GETAGENTAVAILABILITYSUCCEEDED,"Get agent availability succeeded",n,s,l,c,"POST",void 0,void 0,S),a(h)),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(0),g=r.milliSecondsElapsed,A.logWithLogger(t(o[18]).LogLevel.ERROR,t(o[16]).OCSDKTelemetryEvent.GETAGENTAVAILABILITYFAILED,"Get agent availability failed",n,void 0,g,c,"POST",e.t0,void 0,S),(0,p.default)(e.t0,v.default.axiosTimeoutErrorCode)&&i(new Error(A.HTTPTimeOutErrorMessage)),i(e.t0);case 16:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,n){return e.apply(this,arguments)}})()));case 26:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}})()},{key:"sessionInit",value:(function(){var e=(0,s.default)(u.default.mark(function e(n){var a,i,r,c,d,l,h,f,S,L,O,R,w,y,A,D=this,N=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=N.length>1&&void 0!==N[1]?N[1]:{},r=t(o[17]).Timer.TIMER(),this.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.SESSIONINITSTARTED,"Session Init Started",n),c=g.default.create(),!0,(0,E.default)(c,{retries:this.configuration.maxRequestRetriesOnFailure,waitTimeInMsBetweenRetries:this.configuration.waitTimeBetweenRetriesConfig.sessionInit,shouldRetry:function(e){return(0,I.default)(e,!0)},headerOverwrites:[m.default.authCodeNonce]}),d=i.reconnectId,l=i.authenticatedUserToken,h=i.initContext,f=i.getContext,S=v.default.defaultHeaders,L="/".concat(C.default.LiveChatSessionInitPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(n),l&&(L="/".concat(C.default.LiveChatAuthSessionInitPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(n),S[m.default.authenticatedUserToken]=l,S[m.default.authCodeNonce]=this.configuration.authCodeNonce),this.setSessionIdHeader(this.sessionId,S),(0,t(o[19]).addOcUserAgentHeader)(this.ocUserAgent,S),O=!l&&!0===this.configuration.useUnauthReconnectIdSigQueryParam,d&&(O||(L+="/".concat(d))),R={channelId:this.omnichannelConfiguration.channelId},d&&O&&(R.sig=d),w=h||{},!f||window.document){e.next=19;break}return e.abrupt("return",Promise.reject(new Error("getContext is only supported on web browsers")));case 19:if(f&&(w.browser=t(o[23]).BrowserInfo.getBrowserName(),w.device=t(o[24]).DeviceInfo.getDeviceType(),w.originurl=window.location.href,w.os=t(o[25]).OSInfo.getOsType()),w.locale||(w.locale=v.default.defaultLocale),!w.locale||T.default.supportedLocales.includes(w.locale)){e.next=23;break}return e.abrupt("return",Promise.reject(new Error("Unsupported locale: '".concat(w.locale,"'"))));case 23:return y="".concat(this.omnichannelConfiguration.orgUrl).concat(L),"POST",A={data:w,headers:S,method:"POST",url:y,params:R,timeout:null!==(a=this.configuration.defaultRequestTimeout)&&void 0!==a?a:this.configuration.requestTimeoutConfig.sessionInit},e.abrupt("return",new Promise((function(){var e=(0,s.default)(u.default.mark(function e(a,i){var s,d,l,h;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(A);case 3:s=e.sent,d=r.milliSecondsElapsed,l=s.headers,D.setAuthCodeNonce(l),D.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.SESSIONINITSUCCEEDED,"Session Init Succeeded",n,s,d,L,"POST",void 0,w,S),a(),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(0),h=r.milliSecondsElapsed,D.logWithLogger(t(o[18]).LogLevel.ERROR,t(o[16]).OCSDKTelemetryEvent.SESSIONINITFAILED,"Session Init failed",n,void 0,h,L,"POST",e.t0,w,S),(0,p.default)(e.t0,v.default.axiosTimeoutErrorCode)&&i(new Error(D.HTTPTimeOutErrorMessage)),i(e.t0);case 17:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,n){return e.apply(this,arguments)}})()));case 27:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}})()},{key:"sessionClose",value:(function(){var e=(0,s.default)(u.default.mark(function e(n){var a,i,r,c,d,l,h,f,T,p,I,S,L,O=this,R=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=R.length>1&&void 0!==R[1]?R[1]:{},r=t(o[17]).Timer.TIMER(),this.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.SESSIONCLOSESTARTED,"Session Close Started",n),c="/".concat(C.default.LiveChatSessionClosePath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(n,"?channelId=").concat(this.omnichannelConfiguration.channelId),d=g.default.create(),(0,E.default)(d,{headerOverwrites:[m.default.authCodeNonce],retries:this.configuration.maxRequestRetriesOnFailure,waitTimeInMsBetweenRetries:this.configuration.waitTimeBetweenRetriesConfig.sessionClose}),l=i.authenticatedUserToken,h=i.isReconnectChat,f=i.isPersistentChat,T=i.chatId,p=v.default.defaultHeaders,(I={}).chatId=T,l&&(c="/".concat(C.default.LiveChatAuthSessionClosePath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(n,"?channelId=").concat(this.omnichannelConfiguration.channelId),p[m.default.authenticatedUserToken]=l,p[m.default.authCodeNonce]=this.configuration.authCodeNonce),this.setSessionIdHeader(this.sessionId,p),(0,t(o[19]).addOcUserAgentHeader)(this.ocUserAgent,p),h&&(c+="&isReconnectChat=true"),f&&(c+="&isPersistentChat=true"),S="".concat(this.omnichannelConfiguration.orgUrl).concat(c),"POST",L={data:I,headers:p,method:"POST",url:S,timeout:null!==(a=this.configuration.defaultRequestTimeout)&&void 0!==a?a:this.configuration.requestTimeoutConfig.sessionClose},e.abrupt("return",new Promise((function(){var e=(0,s.default)(u.default.mark(function e(a,i){var s,l,h,f;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(L);case 3:s=e.sent,l=s.headers,O.setAuthCodeNonce(l),h=r.milliSecondsElapsed,O.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.SESSIONCLOSESUCCEEDED,"Session Close succeeded",n,s,h,c,"POST",void 0,void 0,p),a(),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(0),f=r.milliSecondsElapsed,O.logWithLogger(t(o[18]).LogLevel.ERROR,t(o[16]).OCSDKTelemetryEvent.SESSIONCLOSEFAILED,"Session close failed",n,void 0,f,c,"POST",e.t0,void 0,p),e.t0.code===v.default.axiosTimeoutErrorCode&&i(new Error(O.HTTPTimeOutErrorMessage)),i(e.t0);case 17:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,n){return e.apply(this,arguments)}})()));case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}})()},{key:"validateAuthChatRecord",value:(function(){var e=(0,s.default)(u.default.mark(function e(n,a){var i,r,c,d,l,h,f,T,I,S=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t(o[17]).Timer.TIMER(),this.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.VALIDATEAUTHCHATRECORDSTARTED,"Validate Auth Chat Record Started",n),c=a.authenticatedUserToken,d=a.chatId,l="/".concat(C.default.LiveChatValidateAuthChatMapRecordPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(d,"/").concat(n,"?channelId=").concat(this.omnichannelConfiguration.channelId),h=g.default.create(),(0,E.default)(h,{headerOverwrites:[m.default.authCodeNonce],retries:this.configuration.maxRequestRetriesOnFailure,waitTimeInMsBetweenRetries:this.configuration.waitTimeBetweenRetriesConfig.validateAuthChatRecord}),f=v.default.defaultHeaders,c&&(f[m.default.authenticatedUserToken]=c,f[m.default.authCodeNonce]=this.configuration.authCodeNonce),this.setSessionIdHeader(this.sessionId,f),(0,t(o[19]).addOcUserAgentHeader)(this.ocUserAgent,f),T="".concat(this.omnichannelConfiguration.orgUrl).concat(l),"GET",I={headers:f,method:"GET",url:T,timeout:null!==(i=this.configuration.defaultRequestTimeout)&&void 0!==i?i:this.configuration.requestTimeoutConfig.validateAuthChatRecordTimeout},e.abrupt("return",new Promise((function(){var e=(0,s.default)(u.default.mark(function e(a,i){var s,c,d,g,T;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(I);case 3:c=e.sent,d=c.headers,S.setAuthCodeNonce(d),g=r.milliSecondsElapsed,!0===(null===(s=c.data)||void 0===s?void 0:s.authChatExist)?(S.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.VALIDATEAUTHCHATRECORDSUCCEEDED,"Validate Auth Chat Record succeeded",n,c,g,l,"GET",void 0,void 0,f),a(c.data)):(S.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.VALIDATEAUTHCHATRECORDFAILED,"Validate Auth Chat Record Failed. Record is not found or request is not authorized",n,c,g,l,"GET",void 0,void 0,f),i(new Error("Validate Auth Chat Record Failed. Record is not found or request is not authorized"))),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(0),T=r.milliSecondsElapsed,S.logWithLogger(t(o[18]).LogLevel.ERROR,t(o[16]).OCSDKTelemetryEvent.VALIDATEAUTHCHATRECORDFAILED,"Validate Auth Chat Record failed",n,void 0,T,l,"GET",e.t0,void 0,f),(0,p.default)(e.t0,v.default.axiosTimeoutErrorCode)&&i(new Error(S.HTTPTimeOutErrorMessage)),"Error: Request failed with status code 404"===e.t0.toString()?a({}):i(e.t0);case 16:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,n){return e.apply(this,arguments)}})()));case 14:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}})()},{key:"submitPostChatResponse",value:(function(){var e=(0,s.default)(u.default.mark(function e(n,a){var i,r,c,d,l,h,f,T,I,S=this,L=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=L.length>2&&void 0!==L[2]?L[2]:{},c=t(o[17]).Timer.TIMER(),this.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.SUBMITPOSTCHATSTARTED,"Submit Post Chat Started",n),d="/".concat(C.default.LiveChatSubmitPostChatPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(n,"?channelId=").concat(this.omnichannelConfiguration.channelId),l=g.default.create(),(0,E.default)(l,{headerOverwrites:[m.default.authCodeNonce],retries:this.configuration.maxRequestRetriesOnFailure,waitTimeInMsBetweenRetries:this.configuration.waitTimeBetweenRetriesConfig.submitPostChatResponse}),h=r.authenticatedUserToken,f=v.default.defaultHeaders,h&&(d="/".concat(C.default.LiveChatAuthSubmitPostChatPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(n,"?channelId=").concat(this.omnichannelConfiguration.channelId),f[m.default.authenticatedUserToken]=h,f[m.default.authCodeNonce]=this.configuration.authCodeNonce),T="".concat(this.omnichannelConfiguration.orgUrl).concat(d),"POST",I={data:JSON.stringify(a),headers:f,method:"POST",url:T,timeout:null!==(i=this.configuration.defaultRequestTimeout)&&void 0!==i?i:this.configuration.requestTimeoutConfig.submitPostChatResponse},e.abrupt("return",new Promise((function(){var e=(0,s.default)(u.default.mark(function e(a,i){var r,s,h,g;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(I);case 3:r=e.sent,s=r.headers,S.setAuthCodeNonce(s),h=c.milliSecondsElapsed,S.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.SUBMITPOSTCHATSUCCEEDED,"Submit Post Chat succeeded",n,r,h,d,"POST",void 0,void 0,f),a(),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(0),g=c.milliSecondsElapsed,S.logWithLogger(t(o[18]).LogLevel.ERROR,t(o[16]).OCSDKTelemetryEvent.SUBMITPOSTCHATFAILED,"Submit Post Chat Failed",n,void 0,g,d,"POST",e.t0,void 0,f),(0,p.default)(e.t0,v.default.axiosTimeoutErrorCode)&&i(new Error(S.HTTPTimeOutErrorMessage)),i(e.t0);case 17:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,n){return e.apply(this,arguments)}})()));case 13:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}})()},{key:"getSurveyInviteLink",value:(function(){var e=(0,s.default)(u.default.mark(function e(n,a){var i,r,c,d,l,h,f,T,I,S,L=this,O=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=O.length>2&&void 0!==O[2]?O[2]:{},c=t(o[17]).Timer.TIMER(),this.logger&&this.logger.log(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.GETSURVEYINVITELINKSTARTED,{SurveyOwnerId:n},"Get Survey Invite Link Started"),d="/".concat(C.default.LiveChatGetSurveyInviteLinkPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(n),l=g.default.create(),(0,E.default)(l,{headerOverwrites:[m.default.authCodeNonce],retries:this.configuration.maxRequestRetriesOnFailure,waitTimeInMsBetweenRetries:this.configuration.waitTimeBetweenRetriesConfig.getSurveyInviteLink}),h=r.authenticatedUserToken,f=r.requestId,T=v.default.defaultHeaders,h&&(d="/".concat(C.default.LiveChatAuthGetSurveyInviteLinkPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(n),T[m.default.authenticatedUserToken]=h,T[m.default.authCodeNonce]=this.configuration.authCodeNonce,T[m.default.widgetAppId]=this.omnichannelConfiguration.widgetId),this.setSessionIdHeader(this.sessionId,T),(0,t(o[19]).addOcUserAgentHeader)(this.ocUserAgent,T),f&&(T[m.default.requestId]=f),I="".concat(this.omnichannelConfiguration.orgUrl).concat(d),"POST",S={data:JSON.stringify(a),headers:T,method:"POST",url:I,timeout:null!==(i=this.configuration.defaultRequestTimeout)&&void 0!==i?i:this.configuration.requestTimeoutConfig.getSurveyInviteLink},e.abrupt("return",new Promise((function(){var e=(0,s.default)(u.default.mark(function e(n,a){var i,r,s,h,g;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(S);case 3:i=e.sent,r=i.data,s=i.headers,L.setAuthCodeNonce(s),h=c.milliSecondsElapsed,L.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.GETSURVEYINVITELINKSUCCEEDED,"Get Survey Invite Link Succeeded",f,i,h,d,"POST",void 0,void 0,T),n(r),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(0),g=c.milliSecondsElapsed,L.logWithLogger(t(o[18]).LogLevel.ERROR,t(o[16]).OCSDKTelemetryEvent.GETSURVEYINVITELINKFAILED,"Get Survey Invite Link failed",f,void 0,g,d,"POST",e.t0,void 0,T),(0,p.default)(e.t0,v.default.axiosTimeoutErrorCode)&&a(new Error(L.HTTPTimeOutErrorMessage)),a(e.t0);case 17:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,n){return e.apply(this,arguments)}})()));case 16:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}})()},{key:"getChatTranscripts",value:(function(){var e=(0,s.default)(u.default.mark(function e(n,a,i){var r,c,d,l,h,f,T,I,S,L,O=this,R=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=R.length>3&&void 0!==R[3]?R[3]:{},d=t(o[17]).Timer.TIMER(),this.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.GETCHATTRANSCRIPTSTARTED,"Get Chat Transcript Started",n),l="/".concat(C.default.LiveChatGetChatTranscriptPath,"/").concat(a,"/").concat(n,"?channelId=").concat(this.omnichannelConfiguration.channelId),h=g.default.create(),(0,E.default)(h,{headerOverwrites:[m.default.authCodeNonce],retries:this.configuration.maxRequestRetriesOnFailure,waitTimeInMsBetweenRetries:this.configuration.waitTimeBetweenRetriesConfig.getChatTranscripts}),f=c.authenticatedUserToken,T=c.currentLiveChatVersion,(I=v.default.defaultHeaders)[m.default.organizationId]=this.omnichannelConfiguration.orgId,I[m.default.widgetAppId]=this.omnichannelConfiguration.widgetId,I[m.default.authorization]=i,this.liveChatVersion===t(o[16]).LiveChatVersion.V2||T&&T===t(o[16]).LiveChatVersion.V2?(l="/".concat(C.default.LiveChatv2GetChatTranscriptPath,"/").concat(a,"/").concat(n,"?channelId=").concat(this.omnichannelConfiguration.channelId),f&&(I[m.default.authenticatedUserToken]=f,I[m.default.authCodeNonce]=this.configuration.authCodeNonce,l="/".concat(C.default.LiveChatv2AuthGetChatTranscriptPath,"/").concat(a,"/").concat(n,"?channelId=").concat(this.omnichannelConfiguration.channelId))):f&&(I[m.default.authenticatedUserToken]=f,I[m.default.authCodeNonce]=this.configuration.authCodeNonce,l="/".concat(C.default.LiveChatAuthGetChatTranscriptPath,"/").concat(a,"/").concat(n,"?channelId=").concat(this.omnichannelConfiguration.channelId)),this.setSessionIdHeader(this.sessionId,I),(0,t(o[19]).addOcUserAgentHeader)(this.ocUserAgent,I),S="".concat(this.omnichannelConfiguration.orgUrl).concat(l),"GET",L={headers:I,method:"GET",url:S,timeout:null!==(r=this.configuration.defaultRequestTimeout)&&void 0!==r?r:this.configuration.requestTimeoutConfig.getChatTranscripts},e.abrupt("return",new Promise((function(){var e=(0,s.default)(u.default.mark(function e(a,i){var r,s,c,f,g;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(L);case 3:r=e.sent,s=d.milliSecondsElapsed,c=r.data,f=r.headers,O.setAuthCodeNonce(f),O.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.GETCHATTRANSCRIPTSUCCEEDED,"Get Chat Transcript succeeded",n,r,s,l,"GET",void 0,void 0,I),a(c),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(0),g=d.milliSecondsElapsed,O.logWithLogger(t(o[18]).LogLevel.ERROR,t(o[16]).OCSDKTelemetryEvent.GETCHATTRANSCRIPTFAILED,"Get Chat Transcript failed",n,void 0,g,l,"GET",e.t0,void 0,I),(0,p.default)(e.t0,v.default.axiosTimeoutErrorCode)&&i(new Error(O.HTTPTimeOutErrorMessage)),i(e.t0);case 17:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,n){return e.apply(this,arguments)}})()));case 18:case"end":return e.stop()}},e,this)}));return function(t,n,a){return e.apply(this,arguments)}})()},{key:"emailTranscript",value:(function(){var e=(0,s.default)(u.default.mark(function e(n,a,i){var r,c,d,l,h,f,T,I,S,L=this,O=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=O.length>3&&void 0!==O[3]?O[3]:{},d=t(o[17]).Timer.TIMER(),this.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.EMAILTRANSCRIPTSTARTED,"Email Transcript Started",n),l="/".concat(C.default.LiveChatTranscriptEmailRequestPath,"/").concat(n,"?channelId=").concat(this.omnichannelConfiguration.channelId),h=g.default.create(),(0,E.default)(h,{headerOverwrites:[m.default.authCodeNonce],retries:this.configuration.maxRequestRetriesOnFailure,waitTimeInMsBetweenRetries:this.configuration.waitTimeBetweenRetriesConfig.emailTranscript}),f=c.authenticatedUserToken,(T=v.default.defaultHeaders)[m.default.organizationId]=this.omnichannelConfiguration.orgId,T[m.default.widgetAppId]=this.omnichannelConfiguration.widgetId,T[m.default.authorization]=a,f&&(T[m.default.authenticatedUserToken]=f,T[m.default.authCodeNonce]=this.configuration.authCodeNonce,l="/".concat(C.default.LiveChatAuthTranscriptEmailRequestPath,"/").concat(n,"?channelId=").concat(this.omnichannelConfiguration.channelId)),this.setSessionIdHeader(this.sessionId,T),(0,t(o[19]).addOcUserAgentHeader)(this.ocUserAgent,T),I="".concat(this.omnichannelConfiguration.orgUrl).concat(l),"POST",S={data:JSON.stringify(i),headers:T,method:"POST",url:I,timeout:null!==(r=this.configuration.defaultRequestTimeout)&&void 0!==r?r:this.configuration.requestTimeoutConfig.emailTranscript},e.abrupt("return",new Promise((function(){var e=(0,s.default)(u.default.mark(function e(a,i){var r,s,c,f;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(S);case 3:r=e.sent,s=r.headers,L.setAuthCodeNonce(s),c=d.milliSecondsElapsed,L.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.EMAILTRANSCRIPTSUCCEEDED,"Email Transcript succeeded",n,r,c,l,"POST",void 0,void 0,T),a(),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(0),f=d.milliSecondsElapsed,L.logWithLogger(t(o[18]).LogLevel.ERROR,t(o[16]).OCSDKTelemetryEvent.EMAILTRANSCRIPTFAILED,"Email Transcript Failed",n,void 0,f,l,"POST",e.t0,void 0,T),(0,p.default)(e.t0,v.default.axiosTimeoutErrorCode)&&i(new Error(L.HTTPTimeOutErrorMessage)),i(e.t0);case 17:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,n){return e.apply(this,arguments)}})()));case 18:case"end":return e.stop()}},e,this)}));return function(t,n,a){return e.apply(this,arguments)}})()},{key:"fetchDataMaskingInfo",value:(function(){var e=(0,s.default)(u.default.mark(function e(n){var a,i,r,c,d,l,h,f=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t(o[17]).Timer.TIMER(),this.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.FETCHDATAMASKINGSTARTED,"Fetch Data Masking Started",n),n||(n=(0,t(o[20]).uuidv4)()),r="/".concat(C.default.LiveChatFetchDataMaskingInfoPath,"/").concat(this.omnichannelConfiguration.orgId),c=g.default.create(),(0,E.default)(c,{retries:this.configuration.maxRequestRetriesOnFailure,waitTimeInMsBetweenRetries:this.configuration.waitTimeBetweenRetriesConfig.fetchDataMaskingInfo}),(d=v.default.defaultHeaders)[m.default.organizationId]=this.omnichannelConfiguration.orgId,d[m.default.requestId]=n,this.setSessionIdHeader(this.sessionId,d),(0,t(o[19]).addOcUserAgentHeader)(this.ocUserAgent,d),l="".concat(this.omnichannelConfiguration.orgUrl).concat(r),"GET",h={headers:d,method:"GET",url:l,timeout:null!==(a=this.configuration.defaultRequestTimeout)&&void 0!==a?a:this.configuration.requestTimeoutConfig.fetchDataMaskingInfo},e.abrupt("return",new Promise((function(){var e=(0,s.default)(u.default.mark(function e(a,s){var l,g,T,C;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(h);case 3:l=e.sent,g=i.milliSecondsElapsed,T=l.data,f.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.FETCHDATAMASKINGSUCCEEDED,"Fetch Data Masking succeeded",n,l,g,r,"GET",void 0,void 0,d),a(T),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(0),C=i.milliSecondsElapsed,f.logWithLogger(t(o[18]).LogLevel.ERROR,t(o[16]).OCSDKTelemetryEvent.FETCHDATAMASKINGFAILED,"Fetch Data Masking Failed",n,void 0,C,r,"GET",e.t0,void 0,d),(0,p.default)(e.t0,v.default.axiosTimeoutErrorCode)&&s(new Error(f.HTTPTimeOutErrorMessage)),s(e.t0);case 16:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,n){return e.apply(this,arguments)}})()));case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}})()},{key:"makeSecondaryChannelEventRequest",value:(function(){var e=(0,s.default)(u.default.mark(function e(n,a){var i,r,c,d,l,h,f,T,I,S=this,L=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=L.length>2&&void 0!==L[2]?L[2]:{},c=t(o[17]).Timer.TIMER(),this.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.SECONDARYCHANNELEVENTREQUESTSTARTED,"Secondary Channel Event Request Started",n),d="/".concat(C.default.LiveChatSecondaryChannelEventPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(n),l=g.default.create(),(0,E.default)(l,{headerOverwrites:[m.default.authCodeNonce],retries:this.configuration.maxRequestRetriesOnFailure,waitTimeInMsBetweenRetries:this.configuration.waitTimeBetweenRetriesConfig.makeSecondaryChannelEventRequest}),h=r.authenticatedUserToken,(f=v.default.defaultHeaders)[m.default.organizationId]=this.omnichannelConfiguration.orgId,h&&(f[m.default.authenticatedUserToken]=h,f[m.default.authCodeNonce]=this.configuration.authCodeNonce,d="/".concat(C.default.LiveChatAuthSecondaryChannelEventPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(n)),this.setSessionIdHeader(this.sessionId,f),(0,t(o[19]).addOcUserAgentHeader)(this.ocUserAgent,f),d+="?channelId="+v.default.defaultChannelId,T="".concat(this.omnichannelConfiguration.orgUrl).concat(d),"POST",I={data:JSON.stringify(a),headers:f,method:"POST",url:T,timeout:null!==(i=this.configuration.defaultRequestTimeout)&&void 0!==i?i:this.configuration.requestTimeoutConfig.makeSecondaryChannelEventRequest},e.abrupt("return",new Promise((function(){var e=(0,s.default)(u.default.mark(function e(a,i){var r,s,h,g;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(I);case 3:r=e.sent,s=r.headers,S.setAuthCodeNonce(s),h=c.milliSecondsElapsed,S.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.SECONDARYCHANNELEVENTREQUESTSUCCEEDED,"Secondary Channel Event Request Succeeded",n,r,h,d,"POST",void 0,void 0,f),a(),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(0),g=c.milliSecondsElapsed,S.logWithLogger(t(o[18]).LogLevel.ERROR,t(o[16]).OCSDKTelemetryEvent.SECONDARYCHANNELEVENTREQUESTFAILED,"Secondary Channel Event Request Failed",n,void 0,g,d,"POST",e.t0,void 0,f),(0,p.default)(e.t0,v.default.axiosTimeoutErrorCode)&&i(new Error(S.HTTPTimeOutErrorMessage)),i(e.t0);case 17:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,n){return e.apply(this,arguments)}})()));case 17:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}})()},{key:"sendTypingIndicator",value:(function(){var e=(0,s.default)(u.default.mark(function e(n,a){var i,r,c,d,l,h,f,T,E,I=this,S=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=S.length>2&&void 0!==S[2]?S[2]:{},a&&a===t(o[16]).LiveChatVersion.V2){e.next=3;break}return e.abrupt("return",Promise.resolve());case 3:if(c=t(o[17]).Timer.TIMER(),d=r.customerDisplayName,a&&a===t(o[16]).LiveChatVersion.V2){e.next=7;break}throw new Error('Typing indicator is only supported on v2');case 7:return l="/".concat(C.default.SendTypingIndicatorPath,"/").concat(n),h=g.default.create(),(f=v.default.defaultHeaders)[m.default.organizationId]=this.omnichannelConfiguration.orgId,d&&(f[v.default.customerDisplayName]=d),this.setSessionIdHeader(this.sessionId,f),(0,t(o[19]).addOcUserAgentHeader)(this.ocUserAgent,f),T="".concat(this.omnichannelConfiguration.orgUrl).concat(l),"POST",E={headers:f,method:"POST",url:T,timeout:null!==(i=this.configuration.defaultRequestTimeout)&&void 0!==i?i:this.configuration.requestTimeoutConfig.sendTypingIndicator},e.abrupt("return",new Promise((function(){var e=(0,s.default)(u.default.mark(function e(a,i){var r,s,d;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(E);case 3:r=e.sent,s=c.milliSecondsElapsed,I.logWithLogger(t(o[18]).LogLevel.INFO,t(o[16]).OCSDKTelemetryEvent.SENDTYPINGINDICATORSUCCEEDED,"Send Typing Indicator Succeeded",n,r,s,l,"POST",void 0,void 0,f),a(),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(0),d=c.milliSecondsElapsed,I.logWithLogger(t(o[18]).LogLevel.ERROR,t(o[16]).OCSDKTelemetryEvent.SENDTYPINGINDICATORFAILED,"Send Typing Indicator Failed",n,void 0,d,l,"POST",e.t0,void 0,f),(0,p.default)(e.t0,v.default.axiosTimeoutErrorCode)&&i(new Error(I.HTTPTimeOutErrorMessage)),i(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t,n){return e.apply(this,arguments)}})()));case 18:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}})()},{key:"logWithLogger",value:function(e,n,a,i,r,u,s,c,d,l,h){var f,g,T,C;if(this.logger){d&&t(o[26]).LoggingSanitizer.stripErrorSensitiveProperties(d);var m=void 0;l&&((m=R({},l)).customContextData&&t(o[26]).LoggingSanitizer.stripCustomContextDataValues(m.customContextData),m.preChatResponse&&t(o[26]).LoggingSanitizer.stripPreChatResponse(m.preChatResponse),t(o[26]).LoggingSanitizer.stripGeolocation(m));var E=void 0;h&&(E=R({},h),t(o[26]).LoggingSanitizer.stripRequestHeadersSensitiveProperties(E));var p={RequestId:i,Region:null==r?void 0:r.data.Region,ElapsedTimeInMilliseconds:u,TransactionId:null==r?void 0:r.headers[v.default.transactionid],RequestPath:s,RequestMethod:c,ResponseStatusCode:r?r.status:d?null===(f=d.response)||void 0===f?void 0:f.status:void 0,ExceptionDetails:d?(null===(g=d.response)||void 0===g?void 0:g.data)||d:void 0,RequestPayload:m,RequestHeaders:E,ResponseErrorcode:d?null===(T=d.response)||void 0===T?void 0:null===(C=T.headers)||void 0===C?void 0:C.errorcode:void 0};this.logger.log(e,n,p,a)}}}]),e})();r.default=D,(0,h.default)(D,"defaultRequestTimeoutConfig",{getChatConfig:12e4,getLWIDetails:15e3,getChatToken:15e3,sessionInit:15e3,sessionClose:15e3,getReconnectableChats:15e3,getReconnectAvailability:15e3,submitPostChatResponse:15e3,getSurveyInviteLink:15e3,getChatTranscripts:3e4,emailTranscript:5e3,fetchDataMaskingInfo:5e3,makeSecondaryChannelEventRequest:15e3,getAgentAvailability:15e3,sendTypingIndicator:5e3,validateAuthChatRecordTimeout:15e3}),(0,h.default)(D,"defaultConfiguration",{authCodeNonce:(0,t(o[20]).uuidv4)().substring(0,8),getChatTokenRetryCount:10,getChatTokenTimeBetweenRetriesOnFailure:1e4,getChatTokenRetryOn429:!0,maxRequestRetriesOnFailure:5,defaultRequestTimeout:void 0,requestTimeoutConfig:D.defaultRequestTimeoutConfig,useUnauthReconnectIdSigQueryParam:!1,waitTimeBetweenRetriesConfig:t(o[27]).waitTimeBetweenRetriesConfigs,ocUserAgent:[]})},461,[3,462,270,16,12,13,240,464,619,457,674,675,676,677,681,682,458,683,684,685,454,687,688,689,690,691,692,693]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])();m.exports=t;try{regeneratorRuntime=t}catch(n){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},462,[463]);
__d(function(_g,_r,_i,_a,m,_e,_d){function t(){"use strict";m.exports=t=function(){return e},m.exports.__esModule=!0,m.exports.default=m.exports;var r,e={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(t,r,e){t[r]=e.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",h=a.toStringTag||"@@toStringTag";function l(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{l({},"")}catch(r){l=function(t,r,e){return t[r]=e}}function f(t,r,e,n){var o=r&&r.prototype instanceof w?r:w,a=Object.create(o.prototype),c=new T(n||[]);return i(a,"_invoke",{value:G(t,e,c)}),a}function s(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",y="suspendedYield",v="executing",d="completed",g={};function w(){}function x(){}function L(){}var b={};l(b,c,function(){return this});var E=Object.getPrototypeOf,_=E&&E(E(F([])));_&&_!==n&&o.call(_,c)&&(b=_);var O=L.prototype=w.prototype=Object.create(b);function j(t){["next","throw","return"].forEach(function(r){l(t,r,function(t){return this._invoke(r,t)})})}function k(t,r){function e(n,i,a,c){var u=s(t[n],t,i);if("throw"!==u.type){var h=u.arg,l=h.value;return l&&"object"==_r(_d[0]).default(l)&&o.call(l,"__await")?r.resolve(l.__await).then(function(t){e("next",t,a,c)},function(t){e("throw",t,a,c)}):r.resolve(l).then(function(t){h.value=t,a(h)},function(t){return e("throw",t,a,c)})}c(u.arg)}var n;i(this,"_invoke",{value:function(t,o){function i(){return new r(function(r,n){e(t,o,r,n)})}return n=n?n.then(i,i):i()}})}function G(t,e,n){var o=p;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:r,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=N(c,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var h=s(t,e,n);if("normal"===h.type){if(o=n.done?d:y,h.arg===g)continue;return{value:h.arg,done:n.done}}"throw"===h.type&&(o=d,n.method="throw",n.arg=h.arg)}}}function N(t,e){var n=e.method,o=t.iterator[n];if(o===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=r,N(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=s(o,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,g):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function P(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function S(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function F(t){if(t||""===t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return i.next=i}}throw new TypeError(_r(_d[0]).default(t)+" is not iterable")}return x.prototype=L,i(O,"constructor",{value:L,configurable:!0}),i(L,"constructor",{value:x,configurable:!0}),x.displayName=l(L,h,"GeneratorFunction"),e.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===x||"GeneratorFunction"===(r.displayName||r.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,L):(t.__proto__=L,l(t,h,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},j(k.prototype),l(k.prototype,u,function(){return this}),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(O),l(O,h,"Generator"),l(O,c,function(){return this}),l(O,"toString",function(){return"[object Generator]"}),e.keys=function(t){var r=Object(t),e=[];for(var n in r)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=F,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),h=o.call(a,"finallyLoc");if(u&&h){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!h)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),S(e),g}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;S(e)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:F(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),g}},e}m.exports=t,m.exports.__esModule=!0,m.exports.default=m.exports},463,[16]);
__d(function(g,r,_i,a,m,e,d){'use strict';e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=r(d[0]).randomBytes,'object'==typeof window&&(window.crypto||(window.crypto={}),window.crypto.getRandomValues||(window.crypto.getRandomValues=function(t){var n=t;t.byteLength!=t.length&&(t=new Uint8Array(t.buffer));for(var i=(0,r(d[0]).randomBytes)(t.length),c=0;c<i.length;c++)t[c]=i[c];return n})),e.createHash=e.Hash=r(d[1]),e.createHmac=e.Hmac=r(d[2]);var t=['sha1','sha224','sha256','sha384','sha512','md5','rmd160'].concat(Object.keys(r(d[3])));e.getHashes=function(){return t},e.pbkdf2=r(d[4]).pbkdf2,e.pbkdf2Sync=r(d[4]).pbkdf2Sync,['Cipher','createCipher','Cipheriv','createCipheriv','Decipher','createDecipher','Decipheriv','createDecipheriv','getCiphers','listCiphers'].forEach(function(t){e[t]=r(d[5])[t]}),['DiffieHellmanGroup','createDiffieHellmanGroup','getDiffieHellman','createDiffieHellman','DiffieHellman'].forEach(function(t){e[t]=r(d[6])[t]}),['createSign','Sign','createVerify','Verify'].forEach(function(t){e[t]=r(d[7])[t]}),e.createECDH=r(d[8]),['publicEncrypt','privateEncrypt','publicDecrypt','privateDecrypt'].forEach(function(t){e[t]=r(d[9])[t]}),e.randomFill=r(d[10]).randomFill,e.randomFillSync=r(d[10]).randomFillSync,['createCredentials'].forEach(function(t){e[t]=function(){throw new Error(['sorry, '+t+' is not implemented yet','we accept pull requests','https://github.com/crypto-browserify/crypto-browserify'].join('\n'))}})},464,[465,469,501,504,506,508,537,546,609,611,618]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=c,e.seedSJCL=u,'undefined'==typeof Buffer&&(g.Buffer=r(d[0]).Buffer);var n=r(d[1]).NativeModules.RNRandomBytes;function t(){}function o(n){return new Buffer(n,'base64')}function f(n){var t=n.toString('hex'),o=r(d[2]).codec.hex.toBits(t);r(d[2]).random.addEntropy(o)}function u(n){n=n||t,c(4096,function(t,o){if(t)return n(t);f(o)})}function c(t,f){if(!f){var u=t,c=Math.ceil(.25*u),s=r(d[2]).random.randomWords(c,10),B=r(d[2]).codec.hex.fromBits(s);return B=B.substr(0,2*u),new Buffer(B,'hex')}n.randomBytes(t,function(n,t){n?f(n):f(null,o(t))})}n.seed?f(o(n.seed)):u()},465,[466,1,468]);
__d(function(g,r,_i,_a,_m,_e,d){'use strict';function t(){return n.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(e,i){if(t()<i)throw new RangeError('Invalid typed array length');return n.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(i)).__proto__=n.prototype:(null===e&&(e=new n(i)),e.length=i),e}function n(t,e,o){if(!(n.TYPED_ARRAY_SUPPORT||this instanceof n))return new n(t,e,o);if('number'==typeof t){if('string'==typeof e)throw new Error('If encoding is specified then the first argument must be a string');return u(this,t)}return i(this,t,e,o)}function i(t,e,n,i){if('number'==typeof e)throw new TypeError('"value" argument must not be a number');return'undefined'!=typeof ArrayBuffer&&e instanceof ArrayBuffer?a(t,e,n,i):'string'==typeof e?s(t,e,n):c(t,e)}function o(t){if('number'!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,n,i,f){return o(n),n<=0?e(t,n):void 0!==i?'string'==typeof f?e(t,n).fill(i,f):e(t,n).fill(i):e(t,n)}function u(t,i){if(o(i),t=e(t,i<0?0:0|l(i)),!n.TYPED_ARRAY_SUPPORT)for(var f=0;f<i;++f)t[f]=0;return t}function s(t,i,o){if('string'==typeof o&&''!==o||(o='utf8'),!n.isEncoding(o))throw new TypeError('"encoding" must be a valid string encoding');var f=0|p(i,o),u=(t=e(t,f)).write(i,o);return u!==f&&(t=t.slice(0,u)),t}function h(t,n){var i=n.length<0?0:0|l(n.length);t=e(t,i);for(var o=0;o<i;o+=1)t[o]=255&n[o];return t}function a(t,e,i,o){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError('\'offset\' is out of bounds');if(e.byteLength<i+(o||0))throw new RangeError('\'length\' is out of bounds');return e=void 0===i&&void 0===o?new Uint8Array(e):void 0===o?new Uint8Array(e,i):new Uint8Array(e,i,o),n.TYPED_ARRAY_SUPPORT?(t=e).__proto__=n.prototype:t=h(t,e),t}function c(t,i){if(n.isBuffer(i)){var o=0|l(i.length);return 0===(t=e(t,o)).length?t:(i.copy(t,0,0,o),t)}if(i){if('undefined'!=typeof ArrayBuffer&&i.buffer instanceof ArrayBuffer||'length'in i)return'number'!=typeof i.length||(f=i.length)!=f?e(t,0):h(t,i);if('Buffer'===i.type&&r(d[0])(i.data))return h(t,i.data)}var f;throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')}function l(e){if(e>=t())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+t().toString(16)+' bytes');return 0|e}function p(t,e){if(n.isBuffer(t))return t.length;if('undefined'!=typeof ArrayBuffer&&'function'==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;'string'!=typeof t&&(t=''+t);var i=t.length;if(0===i)return 0;for(var o=!1;;)switch(e){case'ascii':case'latin1':case'binary':return i;case'utf8':case'utf-8':case void 0:return q(t).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return 2*i;case'hex':return i>>>1;case'base64':return $(t).length;default:if(o)return q(t).length;e=(''+e).toLowerCase(),o=!0}}function y(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return'';if((void 0===n||n>this.length)&&(n=this.length),n<=0)return'';if((n>>>=0)<=(e>>>=0))return'';for(t||(t='utf8');;)switch(t){case'hex':return O(this,e,n);case'utf8':case'utf-8':return B(this,e,n);case'ascii':return Y(this,e,n);case'latin1':case'binary':return I(this,e,n);case'base64':return T(this,e,n);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return L(this,e,n);default:if(i)throw new TypeError('Unknown encoding: '+t);t=(t+'').toLowerCase(),i=!0}}function w(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function v(t,e,i,o,f){if(0===t.length)return-1;if('string'==typeof i?(o=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=f?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(f)return-1;i=t.length-1}else if(i<0){if(!f)return-1;i=0}if('string'==typeof e&&(e=n.from(e,o)),n.isBuffer(e))return 0===e.length?-1:E(t,e,i,o,f);if('number'==typeof e)return e&=255,n.TYPED_ARRAY_SUPPORT&&'function'==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):E(t,[e],i,o,f);throw new TypeError('val must be string, number or Buffer')}function E(t,e,n,i,o){var f,u=1,s=t.length,h=e.length;if(void 0!==i&&('ucs2'===(i=String(i).toLowerCase())||'ucs-2'===i||'utf16le'===i||'utf-16le'===i)){if(t.length<2||e.length<2)return-1;u=2,s/=2,h/=2,n/=2}function a(t,e){return 1===u?t[e]:t.readUInt16BE(e*u)}if(o){var c=-1;for(f=n;f<s;f++)if(a(t,f)===a(e,-1===c?0:f-c)){if(-1===c&&(c=f),f-c+1===h)return c*u}else-1!==c&&(f-=f-c),c=-1}else for(n+h>s&&(n=s-h),f=n;f>=0;f--){for(var l=!0,p=0;p<h;p++)if(a(t,f+p)!==a(e,p)){l=!1;break}if(l)return f}return-1}function _(t,e,n,i){n=Number(n)||0;var o=t.length-n;i?(i=Number(i))>o&&(i=o):i=o;var f=e.length;if(f%2!=0)throw new TypeError('Invalid hex string');i>f/2&&(i=f/2);for(var u=0;u<i;++u){var s=parseInt(e.substr(2*u,2),16);if(isNaN(s))return u;t[n+u]=s}return u}function R(t,e,n,i){return G(q(e,t.length-n),t,n,i)}function b(t,e,n,i){return G(J(e),t,n,i)}function A(t,e,n,i){return b(t,e,n,i)}function m(t,e,n,i){return G($(e),t,n,i)}function P(t,e,n,i){return G(Z(e,t.length-n),t,n,i)}function T(t,e,n){return 0===e&&n===t.length?r(d[1]).fromByteArray(t):r(d[1]).fromByteArray(t.slice(e,n))}function B(t,e,n){n=Math.min(t.length,n);for(var i=[],o=e;o<n;){var f,u,s,h,a=t[o],c=null,l=a>239?4:a>223?3:a>191?2:1;if(o+l<=n)switch(l){case 1:a<128&&(c=a);break;case 2:128==(192&(f=t[o+1]))&&(h=(31&a)<<6|63&f)>127&&(c=h);break;case 3:f=t[o+1],u=t[o+2],128==(192&f)&&128==(192&u)&&(h=(15&a)<<12|(63&f)<<6|63&u)>2047&&(h<55296||h>57343)&&(c=h);break;case 4:f=t[o+1],u=t[o+2],s=t[o+3],128==(192&f)&&128==(192&u)&&128==(192&s)&&(h=(15&a)<<18|(63&f)<<12|(63&u)<<6|63&s)>65535&&h<1114112&&(c=h)}null===c?(c=65533,l=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),o+=l}return S(i)}_e.Buffer=n,_e.SlowBuffer=function(t){+t!=t&&(t=0);return n.alloc(+t)},_e.INSPECT_MAX_BYTES=50,n.TYPED_ARRAY_SUPPORT=void 0!==g.TYPED_ARRAY_SUPPORT?g.TYPED_ARRAY_SUPPORT:(function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&'function'==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}})(),_e.kMaxLength=t(),n.poolSize=8192,n._augment=function(t){return t.__proto__=n.prototype,t},n.from=function(t,e,n){return i(null,t,e,n)},n.TYPED_ARRAY_SUPPORT&&(n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array,'undefined'!=typeof Symbol&&Symbol.species&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0})),n.alloc=function(t,e,n){return f(null,t,e,n)},n.allocUnsafe=function(t){return u(null,t)},n.allocUnsafeSlow=function(t){return u(null,t)},n.isBuffer=function(t){return!(null==t||!t._isBuffer)},n.compare=function(t,e){if(!n.isBuffer(t)||!n.isBuffer(e))throw new TypeError('Arguments must be Buffers');if(t===e)return 0;for(var i=t.length,o=e.length,f=0,u=Math.min(i,o);f<u;++f)if(t[f]!==e[f]){i=t[f],o=e[f];break}return i<o?-1:o<i?1:0},n.isEncoding=function(t){switch(String(t).toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0;default:return!1}},n.concat=function(t,e){if(!r(d[0])(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return n.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var o=n.allocUnsafe(e),f=0;for(i=0;i<t.length;++i){var u=t[i];if(!n.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(o,f),f+=u.length}return o},n.byteLength=p,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError('Buffer size must be a multiple of 16-bits');for(var e=0;e<t;e+=2)w(this,e,e+1);return this},n.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError('Buffer size must be a multiple of 32-bits');for(var e=0;e<t;e+=4)w(this,e,e+3),w(this,e+1,e+2);return this},n.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError('Buffer size must be a multiple of 64-bits');for(var e=0;e<t;e+=8)w(this,e,e+7),w(this,e+1,e+6),w(this,e+2,e+5),w(this,e+3,e+4);return this},n.prototype.toString=function(){var t=0|this.length;return 0===t?'':0===arguments.length?B(this,0,t):y.apply(this,arguments)},n.prototype.equals=function(t){if(!n.isBuffer(t))throw new TypeError('Argument must be a Buffer');return this===t||0===n.compare(this,t)},n.prototype.inspect=function(){var t='',e=_e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString('hex',0,e).match(/.{2}/g).join(' '),this.length>e&&(t+=' ... ')),'<Buffer '+t+'>'},n.prototype.compare=function(t,e,i,o,f){if(!n.isBuffer(t))throw new TypeError('Argument must be a Buffer');if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===o&&(o=0),void 0===f&&(f=this.length),e<0||i>t.length||o<0||f>this.length)throw new RangeError('out of range index');if(o>=f&&e>=i)return 0;if(o>=f)return-1;if(e>=i)return 1;if(this===t)return 0;for(var u=(f>>>=0)-(o>>>=0),s=(i>>>=0)-(e>>>=0),h=Math.min(u,s),a=this.slice(o,f),c=t.slice(e,i),l=0;l<h;++l)if(a[l]!==c[l]){u=a[l],s=c[l];break}return u<s?-1:s<u?1:0},n.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},n.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},n.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},n.prototype.write=function(t,e,n,i){if(void 0===e)i='utf8',n=this.length,e=0;else if(void 0===n&&'string'==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');e|=0,isFinite(n)?(n|=0,void 0===i&&(i='utf8')):(i=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError('Attempt to write outside buffer bounds');i||(i='utf8');for(var f=!1;;)switch(i){case'hex':return _(this,t,e,n);case'utf8':case'utf-8':return R(this,t,e,n);case'ascii':return b(this,t,e,n);case'latin1':case'binary':return A(this,t,e,n);case'base64':return m(this,t,e,n);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return P(this,t,e,n);default:if(f)throw new TypeError('Unknown encoding: '+i);i=(''+i).toLowerCase(),f=!0}},n.prototype.toJSON=function(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};var U=4096;function S(t){var e=t.length;if(e<=U)return String.fromCharCode.apply(String,t);for(var n='',i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=U));return n}function Y(t,e,n){var i='';n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(127&t[o]);return i}function I(t,e,n){var i='';n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(t[o]);return i}function O(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var o='',f=e;f<n;++f)o+=X(t[f]);return o}function L(t,e,n){for(var i=t.slice(e,n),o='',f=0;f<i.length;f+=2)o+=String.fromCharCode(i[f]+256*i[f+1]);return o}function D(t,e,n){if(t%1!=0||t<0)throw new RangeError('offset is not uint');if(t+e>n)throw new RangeError('Trying to access beyond buffer length')}function C(t,e,i,o,f,u){if(!n.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>f||e<u)throw new RangeError('"value" argument is out of bounds');if(i+o>t.length)throw new RangeError('Index out of range')}function x(t,e,n,i){e<0&&(e=65535+e+1);for(var o=0,f=Math.min(t.length-n,2);o<f;++o)t[n+o]=(e&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function M(t,e,n,i){e<0&&(e=4294967295+e+1);for(var o=0,f=Math.min(t.length-n,4);o<f;++o)t[n+o]=e>>>8*(i?o:3-o)&255}function k(t,e,n,i,o,f){if(n+i>t.length)throw new RangeError('Index out of range');if(n<0)throw new RangeError('Index out of range')}function N(t,e,n,i,o){return o||k(t,0,n,4),r(d[2]).write(t,e,n,i,23,4),n+4}function z(t,e,n,i,o){return o||k(t,0,n,8),r(d[2]).write(t,e,n,i,52,8),n+8}n.prototype.slice=function(t,e){var i,o=this.length;if((t=~~t)<0?(t+=o)<0&&(t=0):t>o&&(t=o),(e=void 0===e?o:~~e)<0?(e+=o)<0&&(e=0):e>o&&(e=o),e<t&&(e=t),n.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=n.prototype;else{var f=e-t;i=new n(f,void 0);for(var u=0;u<f;++u)i[u]=this[u+t]}return i},n.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var i=this[t],o=1,f=0;++f<e&&(o*=256);)i+=this[t+f]*o;return i},n.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i},n.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},n.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},n.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},n.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},n.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},n.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var i=this[t],o=1,f=0;++f<e&&(o*=256);)i+=this[t+f]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},n.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var i=e,o=1,f=this[t+--i];i>0&&(o*=256);)f+=this[t+--i]*o;return f>=(o*=128)&&(f-=Math.pow(2,8*e)),f},n.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},n.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},n.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},n.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},n.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},n.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),r(d[2]).read(this,t,!0,23,4)},n.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),r(d[2]).read(this,t,!1,23,4)},n.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),r(d[2]).read(this,t,!0,52,8)},n.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),r(d[2]).read(this,t,!1,52,8)},n.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||C(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,f=0;for(this[e]=255&t;++f<n&&(o*=256);)this[e+f]=t/o&255;return e+n},n.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||C(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,f=1;for(this[e+o]=255&t;--o>=0&&(f*=256);)this[e+o]=t/f&255;return e+n},n.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||C(this,t,e,1,255,0),n.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},n.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||C(this,t,e,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):x(this,t,e,!0),e+2},n.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||C(this,t,e,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):x(this,t,e,!1),e+2},n.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||C(this,t,e,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},n.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||C(this,t,e,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},n.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var o=Math.pow(2,8*n-1);C(this,t,e,n,o-1,-o)}var f=0,u=1,s=0;for(this[e]=255&t;++f<n&&(u*=256);)t<0&&0===s&&0!==this[e+f-1]&&(s=1),this[e+f]=(t/u>>0)-s&255;return e+n},n.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var o=Math.pow(2,8*n-1);C(this,t,e,n,o-1,-o)}var f=n-1,u=1,s=0;for(this[e+f]=255&t;--f>=0&&(u*=256);)t<0&&0===s&&0!==this[e+f+1]&&(s=1),this[e+f]=(t/u>>0)-s&255;return e+n},n.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||C(this,t,e,1,127,-128),n.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},n.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||C(this,t,e,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):x(this,t,e,!0),e+2},n.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||C(this,t,e,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):x(this,t,e,!1),e+2},n.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||C(this,t,e,4,2147483647,-2147483648),n.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},n.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},n.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},n.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},n.prototype.writeDoubleLE=function(t,e,n){return z(this,t,e,!0,n)},n.prototype.writeDoubleBE=function(t,e,n){return z(this,t,e,!1,n)},n.prototype.copy=function(t,e,i,o){if(i||(i=0),o||0===o||(o=this.length),e>=t.length&&(e=t.length),e||(e=0),o>0&&o<i&&(o=i),o===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError('targetStart out of bounds');if(i<0||i>=this.length)throw new RangeError('sourceStart out of bounds');if(o<0)throw new RangeError('sourceEnd out of bounds');o>this.length&&(o=this.length),t.length-e<o-i&&(o=t.length-e+i);var f,u=o-i;if(this===t&&i<e&&e<o)for(f=u-1;f>=0;--f)t[f+e]=this[f+i];else if(u<1e3||!n.TYPED_ARRAY_SUPPORT)for(f=0;f<u;++f)t[f+e]=this[f+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+u),e);return u},n.prototype.fill=function(t,e,i,o){if('string'==typeof t){if('string'==typeof e?(o=e,e=0,i=this.length):'string'==typeof i&&(o=i,i=this.length),1===t.length){var f=t.charCodeAt(0);f<256&&(t=f)}if(void 0!==o&&'string'!=typeof o)throw new TypeError('encoding must be a string');if('string'==typeof o&&!n.isEncoding(o))throw new TypeError('Unknown encoding: '+o)}else'number'==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError('Out of range index');if(i<=e)return this;var u;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),'number'==typeof t)for(u=e;u<i;++u)this[u]=t;else{var s=n.isBuffer(t)?t:q(new n(t,o).toString()),h=s.length;for(u=0;u<i-e;++u)this[u+e]=s[u%h]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function j(t){if((t=V(t).replace(F,'')).length<2)return'';for(;t.length%4!=0;)t+='=';return t}function V(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,'')}function X(t){return t<16?'0'+t.toString(16):t.toString(16)}function q(t,e){var n;e=e||1/0;for(var i=t.length,o=null,f=[],u=0;u<i;++u){if((n=t.charCodeAt(u))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&f.push(239,191,189);continue}if(u+1===i){(e-=3)>-1&&f.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&f.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&f.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;f.push(n)}else if(n<2048){if((e-=2)<0)break;f.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;f.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error('Invalid code point');if((e-=4)<0)break;f.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return f}function J(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function Z(t,e){for(var n,i,o,f=[],u=0;u<t.length&&!((e-=2)<0);++u)i=(n=t.charCodeAt(u))>>8,o=n%256,f.push(o),f.push(i);return f}function $(t){return r(d[1]).toByteArray(j(t))}function G(t,e,n,i){for(var o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}},466,[467,82,382]);
__d(function(g,r,i,a,m,e,d){var t={}.toString;m.exports=Array.isArray||function(n){return'[object Array]'==t.call(n)}},467,[]);
__d(function(_g,_r,_i,_a,_m,_e,_d){"use strict";var t={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(t){this.toString=function(){return"CORRUPT: "+this.message},this.message=t},invalid:function(t){this.toString=function(){return"INVALID: "+this.message},this.message=t},bug:function(t){this.toString=function(){return"BUG: "+this.message},this.message=t},notReady:function(t){this.toString=function(){return"NOT READY: "+this.message},this.message=t}}};function e(e,i,n){if(4!==i.length)throw new t.exception.invalid("invalid aes block size");var r=e.b[n],o=i[0]^r[0],a=i[n?3:1]^r[1],c=i[2]^r[2];i=i[n?1:3]^r[3];var s,h,l,d,f=r.length/4-2,u=4,p=[0,0,0,0];e=(s=e.s[n])[0];var m=s[1],y=s[2],g=s[3],b=s[4];for(d=0;d<f;d++)s=e[o>>>24]^m[a>>16&255]^y[c>>8&255]^g[255&i]^r[u],h=e[a>>>24]^m[c>>16&255]^y[i>>8&255]^g[255&o]^r[u+1],l=e[c>>>24]^m[i>>16&255]^y[o>>8&255]^g[255&a]^r[u+2],i=e[i>>>24]^m[o>>16&255]^y[a>>8&255]^g[255&c]^r[u+3],u+=4,o=s,a=h,c=l;for(d=0;4>d;d++)p[n?3&-d:d]=b[o>>>24]<<24^b[a>>16&255]<<16^b[c>>8&255]<<8^b[255&i]^r[u++],s=o,o=a,a=c,c=i,i=s;return p}function i(t,e){var i,n,r,o=t.F,a=t.b,c=o[0],s=o[1],h=o[2],l=o[3],d=o[4],f=o[5],u=o[6],p=o[7];for(i=0;64>i;i++)16>i?n=e[i]:(n=e[i+1&15],r=e[i+14&15],n=e[15&i]=(n>>>7^n>>>18^n>>>3^n<<25^n<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+e[15&i]+e[i+9&15]|0),n=n+p+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(u^d&(f^u))+a[i],p=u,u=f,f=d,d=l+n|0,l=h,h=s,c=n+((s=c)&h^l&(s^h))+(s>>>2^s>>>13^s>>>22^s<<30^s<<19^s<<10)|0;o[0]=o[0]+c|0,o[1]=o[1]+s|0,o[2]=o[2]+h|0,o[3]=o[3]+l|0,o[4]=o[4]+d|0,o[5]=o[5]+f|0,o[6]=o[6]+u|0,o[7]=o[7]+p|0}function n(e,i){var n,r=t.random.K[e],o=[];for(n in r)r.hasOwnProperty(n)&&o.push(r[n]);for(n=0;n<o.length;n++)o[n](i)}function r(t,e){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?t.addEntropy(window.performance.now(),e,"loadtime"):t.addEntropy((new Date).valueOf(),e,"loadtime")}function o(e){e.b=a(e).concat(a(e)),e.L=new t.cipher.aes(e.b)}function a(t){for(var e=0;4>e&&(t.h[e]=t.h[e]+1|0,!t.h[e]);e++);return t.L.encrypt(t.h)}function c(t,e){return function(){e.apply(t,arguments)}}t.cipher.aes=function(e){this.s[0][0][0]||this.O();var i,n,r,o,a=this.s[0][4],c=this.s[1],s=1;if(4!==(i=e.length)&&6!==i&&8!==i)throw new t.exception.invalid("invalid aes key size");for(this.b=[r=e.slice(0),o=[]],e=i;e<4*i+28;e++)n=r[e-1],(0==e%i||8===i&&4==e%i)&&(n=a[n>>>24]<<24^a[n>>16&255]<<16^a[n>>8&255]<<8^a[255&n],0==e%i&&(n=n<<8^n>>>24^s<<24,s=s<<1^283*(s>>7))),r[e]=r[e-i]^n;for(i=0;e;i++,e--)n=r[3&i?e:e-4],o[i]=4>=e||4>i?n:c[0][a[n>>>24]]^c[1][a[n>>16&255]]^c[2][a[n>>8&255]]^c[3][a[255&n]]},t.cipher.aes.prototype={encrypt:function(t){return e(this,t,0)},decrypt:function(t){return e(this,t,1)},s:[[[],[],[],[],[]],[[],[],[],[],[]]],O:function(){var t,e,i,n,r,o,a,c=this.s[0],s=this.s[1],h=c[4],l=s[4],d=[],f=[];for(t=0;256>t;t++)f[(d[t]=t<<1^283*(t>>7))^t]=t;for(e=i=0;!h[e];e^=n||1,i=f[i]||1)for(o=(o=i^i<<1^i<<2^i<<3^i<<4)>>8^255&o^99,h[e]=o,l[o]=e,a=16843009*(r=d[t=d[n=d[e]]])^65537*t^257*n^16843008*e,r=257*d[o]^16843008*o,t=0;4>t;t++)c[t][e]=r=r<<24^r>>>8,s[t][o]=a=a<<24^a>>>8;for(t=0;5>t;t++)c[t]=c[t].slice(0),s[t]=s[t].slice(0)}},t.bitArray={bitSlice:function(e,i,n){return e=t.bitArray.$(e.slice(i/32),32-(31&i)).slice(1),void 0===n?e:t.bitArray.clamp(e,n-i)},extract:function(t,e,i){var n=Math.floor(-e-i&31);return(-32&(e+i-1^e)?t[e/32|0]<<32-n^t[e/32+1|0]>>>n:t[e/32|0]>>>n)&(1<<i)-1},concat:function(e,i){if(0===e.length||0===i.length)return e.concat(i);var n=e[e.length-1],r=t.bitArray.getPartial(n);return 32===r?e.concat(i):t.bitArray.$(i,r,0|n,e.slice(0,e.length-1))},bitLength:function(e){var i=e.length;return 0===i?0:32*(i-1)+t.bitArray.getPartial(e[i-1])},clamp:function(e,i){if(32*e.length<i)return e;var n=(e=e.slice(0,Math.ceil(i/32))).length;return i&=31,0<n&&i&&(e[n-1]=t.bitArray.partial(i,e[n-1]&2147483648>>i-1,1)),e},partial:function(t,e,i){return 32===t?e:(i?0|e:e<<32-t)+1099511627776*t},getPartial:function(t){return Math.round(t/1099511627776)||32},equal:function(e,i){if(t.bitArray.bitLength(e)!==t.bitArray.bitLength(i))return!1;var n,r=0;for(n=0;n<e.length;n++)r|=e[n]^i[n];return 0===r},$:function(e,i,n,r){var o;for(o=0,void 0===r&&(r=[]);32<=i;i-=32)r.push(n),n=0;if(0===i)return r.concat(e);for(o=0;o<e.length;o++)r.push(n|e[o]>>>i),n=e[o]<<32-i;return o=e.length?e[e.length-1]:0,e=t.bitArray.getPartial(o),r.push(t.bitArray.partial(i+e&31,32<i+e?n:r.pop(),1)),r},i:function(t,e){return[t[0]^e[0],t[1]^e[1],t[2]^e[2],t[3]^e[3]]},byteswapM:function(t){var e,i;for(e=0;e<t.length;++e)i=t[e],t[e]=i>>>24|i>>>8&65280|(65280&i)<<8|i<<24;return t}},t.codec.utf8String={fromBits:function(e){var i,n,r="",o=t.bitArray.bitLength(e);for(i=0;i<o/8;i++)0==(3&i)&&(n=e[i/4]),r+=String.fromCharCode(n>>>8>>>8>>>8),n<<=8;return decodeURIComponent(escape(r))},toBits:function(e){e=unescape(encodeURIComponent(e));var i,n=[],r=0;for(i=0;i<e.length;i++)r=r<<8|e.charCodeAt(i),3==(3&i)&&(n.push(r),r=0);return 3&i&&n.push(t.bitArray.partial(8*(3&i),r)),n}},t.codec.hex={fromBits:function(e){var i,n="";for(i=0;i<e.length;i++)n+=(0xf00000000000+(0|e[i])).toString(16).substr(4);return n.substr(0,t.bitArray.bitLength(e)/4)},toBits:function(e){var i,n,r=[];for(n=(e=e.replace(/\s|0x/g,"")).length,e+="00000000",i=0;i<e.length;i+=8)r.push(0^parseInt(e.substr(i,8),16));return t.bitArray.clamp(r,4*n)}},t.codec.base32={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",X:"0123456789ABCDEFGHIJKLMNOPQRSTUV",BITS:32,BASE:5,REMAINING:27,fromBits:function(e,i,n){var r=t.codec.base32.BASE,o=t.codec.base32.REMAINING,a="",c=0,s=t.codec.base32.B,h=0,l=t.bitArray.bitLength(e);for(n&&(s=t.codec.base32.X),n=0;a.length*r<l;)a+=s.charAt((h^e[n]>>>c)>>>o),c<r?(h=e[n]<<r-c,c+=o,n++):(h<<=r,c-=r);for(;7&a.length&&!i;)a+="=";return a},toBits:function(e,i){e=e.replace(/\s|=/g,"").toUpperCase();var n,r,o=t.codec.base32.BITS,a=t.codec.base32.BASE,c=t.codec.base32.REMAINING,s=[],h=0,l=t.codec.base32.B,d=0,f="base32";for(i&&(l=t.codec.base32.X,f="base32hex"),n=0;n<e.length;n++){if(0>(r=l.indexOf(e.charAt(n)))){if(!i)try{return t.codec.base32hex.toBits(e)}catch(t){}throw new t.exception.invalid("this isn't "+f+"!")}h>c?(h-=c,s.push(d^r>>>h),d=r<<o-h):d^=r<<o-(h+=a)}return 56&h&&s.push(t.bitArray.partial(56&h,d,1)),s}},t.codec.base32hex={fromBits:function(e,i){return t.codec.base32.fromBits(e,i,1)},toBits:function(e){return t.codec.base32.toBits(e,1)}},t.codec.base64={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(e,i,n){var r="",o=0,a=t.codec.base64.B,c=0,s=t.bitArray.bitLength(e);for(n&&(a=a.substr(0,62)+"-_"),n=0;6*r.length<s;)r+=a.charAt((c^e[n]>>>o)>>>26),6>o?(c=e[n]<<6-o,o+=26,n++):(c<<=6,o-=6);for(;3&r.length&&!i;)r+="=";return r},toBits:function(e,i){e=e.replace(/\s|=/g,"");var n,r,o=[],a=0,c=t.codec.base64.B,s=0;for(i&&(c=c.substr(0,62)+"-_"),n=0;n<e.length;n++){if(0>(r=c.indexOf(e.charAt(n))))throw new t.exception.invalid("this isn't base64!");26<a?(a-=26,o.push(s^r>>>a),s=r<<32-a):s^=r<<32-(a+=6)}return 56&a&&o.push(t.bitArray.partial(56&a,s,1)),o}},t.codec.base64url={fromBits:function(e){return t.codec.base64.fromBits(e,1,1)},toBits:function(e){return t.codec.base64.toBits(e,1)}},t.hash.sha256=function(t){this.b[0]||this.O(),t?(this.F=t.F.slice(0),this.A=t.A.slice(0),this.l=t.l):this.reset()},t.hash.sha256.hash=function(e){return(new t.hash.sha256).update(e).finalize()},t.hash.sha256.prototype={blockSize:512,reset:function(){return this.F=this.Y.slice(0),this.A=[],this.l=0,this},update:function(e){"string"==typeof e&&(e=t.codec.utf8String.toBits(e));var n,r=this.A=t.bitArray.concat(this.A,e);if(n=this.l,9007199254740991<(e=this.l=n+t.bitArray.bitLength(e)))throw new t.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!=typeof Uint32Array){var o=new Uint32Array(r),a=0;for(n=512+n-(512+n&511);n<=e;n+=512)i(this,o.subarray(16*a,16*(a+1))),a+=1;r.splice(0,16*a)}else for(n=512+n-(512+n&511);n<=e;n+=512)i(this,r.splice(0,16));return this},finalize:function(){var e,n=this.A,r=this.F;for(e=(n=t.bitArray.concat(n,[t.bitArray.partial(1,1)])).length+2;15&e;e++)n.push(0);for(n.push(Math.floor(this.l/4294967296)),n.push(0|this.l);n.length;)i(this,n.splice(0,16));return this.reset(),r},Y:[],b:[],O:function(){function t(t){return 4294967296*(t-Math.floor(t))|0}for(var e,i,n=0,r=2;64>n;r++){for(i=!0,e=2;e*e<=r;e++)if(0==r%e){i=!1;break}i&&(8>n&&(this.Y[n]=t(Math.pow(r,.5))),this.b[n]=t(Math.pow(r,.3333333333333333)),n++)}}},t.mode.ccm={name:"ccm",G:[],listenProgress:function(e){t.mode.ccm.G.push(e)},unListenProgress:function(e){-1<(e=t.mode.ccm.G.indexOf(e))&&t.mode.ccm.G.splice(e,1)},fa:function(e){var i,n=t.mode.ccm.G.slice();for(i=0;i<n.length;i+=1)n[i](e)},encrypt:function(e,i,n,r,o){var a,c=i.slice(0),s=t.bitArray,h=s.bitLength(n)/8,l=s.bitLength(c)/8;if(o=o||64,r=r||[],7>h)throw new t.exception.invalid("ccm: iv must be at least 7 bytes");for(a=2;4>a&&l>>>8*a;a++);return a<15-h&&(a=15-h),n=s.clamp(n,8*(15-a)),i=t.mode.ccm.V(e,i,n,r,o,a),c=t.mode.ccm.C(e,c,n,i,o,a),s.concat(c.data,c.tag)},decrypt:function(e,i,n,r,o){o=o||64,r=r||[];var a=t.bitArray,c=a.bitLength(n)/8,s=a.bitLength(i),h=a.clamp(i,s-o),l=a.bitSlice(i,s-o);s=(s-o)/8;if(7>c)throw new t.exception.invalid("ccm: iv must be at least 7 bytes");for(i=2;4>i&&s>>>8*i;i++);if(i<15-c&&(i=15-c),n=a.clamp(n,8*(15-i)),h=t.mode.ccm.C(e,h,n,l,o,i),e=t.mode.ccm.V(e,h.data,n,r,o,i),!a.equal(h.tag,e))throw new t.exception.corrupt("ccm: tag doesn't match");return h.data},na:function(e,i,n,r,o,a){var c=[],s=t.bitArray,h=s.i;if(r=[s.partial(8,(i.length?64:0)|r-2<<2|a-1)],(r=s.concat(r,n))[3]|=o,r=e.encrypt(r),i.length)for(65279>=(n=s.bitLength(i)/8)?c=[s.partial(16,n)]:4294967295>=n&&(c=s.concat([s.partial(16,65534)],[n])),c=s.concat(c,i),i=0;i<c.length;i+=4)r=e.encrypt(h(r,c.slice(i,i+4).concat([0,0,0])));return r},V:function(e,i,n,r,o,a){var c=t.bitArray,s=c.i;if((o/=8)%2||4>o||16<o)throw new t.exception.invalid("ccm: invalid tag length");if(4294967295<r.length||4294967295<i.length)throw new t.exception.bug("ccm: can't deal with 4GiB or more data");for(n=t.mode.ccm.na(e,r,n,o,c.bitLength(i)/8,a),r=0;r<i.length;r+=4)n=e.encrypt(s(n,i.slice(r,r+4).concat([0,0,0])));return c.clamp(n,8*o)},C:function(e,i,n,r,o,a){var c,s=t.bitArray;c=s.i;var h=i.length,l=s.bitLength(i),d=h/50,f=d;if(n=s.concat([s.partial(8,a-1)],n).concat([0,0,0]).slice(0,4),r=s.bitSlice(c(r,e.encrypt(n)),0,o),!h)return{tag:r,data:[]};for(c=0;c<h;c+=4)c>d&&(t.mode.ccm.fa(c/h),d+=f),n[3]++,o=e.encrypt(n),i[c]^=o[0],i[c+1]^=o[1],i[c+2]^=o[2],i[c+3]^=o[3];return{tag:r,data:s.clamp(i,l)}}},t.mode.ocb2={name:"ocb2",encrypt:function(e,i,n,r,o,a){if(128!==t.bitArray.bitLength(n))throw new t.exception.invalid("ocb iv must be 128 bits");var c,s=t.mode.ocb2.S,h=t.bitArray,l=h.i,d=[0,0,0,0];n=s(e.encrypt(n));var f,u=[];for(r=r||[],o=o||64,c=0;c+4<i.length;c+=4)d=l(d,f=i.slice(c,c+4)),u=u.concat(l(n,e.encrypt(l(n,f)))),n=s(n);return f=i.slice(c),i=h.bitLength(f),c=e.encrypt(l(n,[0,0,0,i])),d=l(d,l((f=h.clamp(l(f.concat([0,0,0]),c),i)).concat([0,0,0]),c)),d=e.encrypt(l(d,l(n,s(n)))),r.length&&(d=l(d,a?r:t.mode.ocb2.pmac(e,r))),u.concat(h.concat(f,h.clamp(d,o)))},decrypt:function(e,i,n,r,o,a){if(128!==t.bitArray.bitLength(n))throw new t.exception.invalid("ocb iv must be 128 bits");o=o||64;var c,s,h=t.mode.ocb2.S,l=t.bitArray,d=l.i,f=[0,0,0,0],u=h(e.encrypt(n)),p=t.bitArray.bitLength(i)-o,m=[];for(r=r||[],n=0;n+4<p/32;n+=4)f=d(f,c=d(u,e.decrypt(d(u,i.slice(n,n+4))))),m=m.concat(c),u=h(u);if(s=p-32*n,f=d(f,c=d(c=e.encrypt(d(u,[0,0,0,s])),l.clamp(i.slice(n),s).concat([0,0,0]))),f=e.encrypt(d(f,d(u,h(u)))),r.length&&(f=d(f,a?r:t.mode.ocb2.pmac(e,r))),!l.equal(l.clamp(f,o),l.bitSlice(i,p)))throw new t.exception.corrupt("ocb: tag doesn't match");return m.concat(l.clamp(c,s))},pmac:function(e,i){var n,r=t.mode.ocb2.S,o=t.bitArray,a=o.i,c=[0,0,0,0],s=a(s=e.encrypt([0,0,0,0]),r(r(s)));for(n=0;n+4<i.length;n+=4)s=r(s),c=a(c,e.encrypt(a(s,i.slice(n,n+4))));return n=i.slice(n),128>o.bitLength(n)&&(s=a(s,r(s)),n=o.concat(n,[-2147483648,0,0,0])),c=a(c,n),e.encrypt(a(r(a(s,r(s))),c))},S:function(t){return[t[0]<<1^t[1]>>>31,t[1]<<1^t[2]>>>31,t[2]<<1^t[3]>>>31,t[3]<<1^135*(t[0]>>>31)]}},t.mode.gcm={name:"gcm",encrypt:function(e,i,n,r,o){var a=i.slice(0);return i=t.bitArray,r=r||[],e=t.mode.gcm.C(!0,e,a,r,n,o||128),i.concat(e.data,e.tag)},decrypt:function(e,i,n,r,o){var a=i.slice(0),c=t.bitArray,s=c.bitLength(a);if(r=r||[],(o=o||128)<=s?(i=c.bitSlice(a,s-o),a=c.bitSlice(a,0,s-o)):(i=a,a=[]),e=t.mode.gcm.C(!1,e,a,r,n,o),!c.equal(e.tag,i))throw new t.exception.corrupt("gcm: tag doesn't match");return e.data},ka:function(e,i){var n,r,o,a,c,s=t.bitArray.i;for(o=[0,0,0,0],a=i.slice(0),n=0;128>n;n++){for((r=0!=(e[Math.floor(n/32)]&1<<31-n%32))&&(o=s(o,a)),c=0!=(1&a[3]),r=3;0<r;r--)a[r]=a[r]>>>1|(1&a[r-1])<<31;a[0]>>>=1,c&&(a[0]^=-520093696)}return o},j:function(e,i,n){var r,o=n.length;for(i=i.slice(0),r=0;r<o;r+=4)i[0]^=4294967295&n[r],i[1]^=4294967295&n[r+1],i[2]^=4294967295&n[r+2],i[3]^=4294967295&n[r+3],i=t.mode.gcm.ka(i,e);return i},C:function(e,i,n,r,o,a){var c,s,h,l,d,f,u,p,m=t.bitArray;for(f=n.length,u=m.bitLength(n),p=m.bitLength(r),s=m.bitLength(o),c=i.encrypt([0,0,0,0]),96===s?(o=o.slice(0),o=m.concat(o,[1])):(o=t.mode.gcm.j(c,[0,0,0,0],o),o=t.mode.gcm.j(c,o,[0,0,Math.floor(s/4294967296),4294967295&s])),s=t.mode.gcm.j(c,[0,0,0,0],r),d=o.slice(0),r=s.slice(0),e||(r=t.mode.gcm.j(c,s,n)),l=0;l<f;l+=4)d[3]++,h=i.encrypt(d),n[l]^=h[0],n[l+1]^=h[1],n[l+2]^=h[2],n[l+3]^=h[3];return n=m.clamp(n,u),e&&(r=t.mode.gcm.j(c,s,n)),e=[Math.floor(p/4294967296),4294967295&p,Math.floor(u/4294967296),4294967295&u],r=t.mode.gcm.j(c,r,e),h=i.encrypt(o),r[0]^=h[0],r[1]^=h[1],r[2]^=h[2],r[3]^=h[3],{tag:m.bitSlice(r,0,a),data:n}}},t.misc.hmac=function(e,i){this.W=i=i||t.hash.sha256;var n,r=[[],[]],o=i.prototype.blockSize/32;for(this.w=[new i,new i],e.length>o&&(e=i.hash(e)),n=0;n<o;n++)r[0][n]=909522486^e[n],r[1][n]=1549556828^e[n];this.w[0].update(r[0]),this.w[1].update(r[1]),this.R=new i(this.w[0])},t.misc.hmac.prototype.encrypt=t.misc.hmac.prototype.mac=function(e){if(this.aa)throw new t.exception.invalid("encrypt on already updated hmac called!");return this.update(e),this.digest(e)},t.misc.hmac.prototype.reset=function(){this.R=new this.W(this.w[0]),this.aa=!1},t.misc.hmac.prototype.update=function(t){this.aa=!0,this.R.update(t)},t.misc.hmac.prototype.digest=function(){var t=this.R.finalize();t=new this.W(this.w[1]).update(t).finalize();return this.reset(),t},t.misc.pbkdf2=function(e,i,n,r,o){if(n=n||1e4,0>r||0>n)throw new t.exception.invalid("invalid params to pbkdf2");"string"==typeof e&&(e=t.codec.utf8String.toBits(e)),"string"==typeof i&&(i=t.codec.utf8String.toBits(i)),e=new(o=o||t.misc.hmac)(e);var a,c,s,h,l=[],d=t.bitArray;for(h=1;32*l.length<(r||1);h++){for(o=a=e.encrypt(d.concat(i,[h])),c=1;c<n;c++)for(a=e.encrypt(a),s=0;s<a.length;s++)o[s]^=a[s];l=l.concat(o)}return r&&(l=d.clamp(l,r)),l},t.prng=function(e){this.c=[new t.hash.sha256],this.m=[0],this.P=0,this.H={},this.N=0,this.U={},this.Z=this.f=this.o=this.ha=0,this.b=[0,0,0,0,0,0,0,0],this.h=[0,0,0,0],this.L=void 0,this.M=e,this.D=!1,this.K={progress:{},seeded:{}},this.u=this.ga=0,this.I=1,this.J=2,this.ca=65536,this.T=[0,48,64,96,128,192,256,384,512,768,1024],this.da=3e4,this.ba=80},t.prng.prototype={randomWords:function(e,i){var n,r,c=[];if((n=this.isReady(i))===this.u)throw new t.exception.notReady("generator isn't seeded");if(n&this.J){n=!(n&this.I),r=[];var s,h=0;for(this.Z=r[0]=(new Date).valueOf()+this.da,s=0;16>s;s++)r.push(4294967296*Math.random()|0);for(s=0;s<this.c.length&&(r=r.concat(this.c[s].finalize()),h+=this.m[s],this.m[s]=0,n||!(this.P&1<<s));s++);for(this.P>=1<<this.c.length&&(this.c.push(new t.hash.sha256),this.m.push(0)),this.f-=h,h>this.o&&(this.o=h),this.P++,this.b=t.hash.sha256.hash(this.b.concat(r)),this.L=new t.cipher.aes(this.b),n=0;4>n&&(this.h[n]=this.h[n]+1|0,!this.h[n]);n++);}for(n=0;n<e;n+=4)0==(n+1)%this.ca&&o(this),r=a(this),c.push(r[0],r[1],r[2],r[3]);return o(this),c.slice(0,e)},setDefaultParanoia:function(e,i){if(0===e&&"Setting paranoia=0 will ruin your security; use it only for testing"!==i)throw new t.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.M=e},addEntropy:function(e,i,r){r=r||"user";var o,a,c=(new Date).valueOf(),s=this.H[r],h=this.isReady(),l=0;switch(void 0===(o=this.U[r])&&(o=this.U[r]=this.ha++),void 0===s&&(s=this.H[r]=0),this.H[r]=(this.H[r]+1)%this.c.length,typeof e){case"number":void 0===i&&(i=1),this.c[s].update([o,this.N++,1,i,c,1,0|e]);break;case"object":if("[object Uint32Array]"===(r=Object.prototype.toString.call(e))){for(a=[],r=0;r<e.length;r++)a.push(e[r]);e=a}else for("[object Array]"!==r&&(l=1),r=0;r<e.length&&!l;r++)"number"!=typeof e[r]&&(l=1);if(!l){if(void 0===i)for(r=i=0;r<e.length;r++)for(a=e[r];0<a;)i++,a>>>=1;this.c[s].update([o,this.N++,2,i,c,e.length].concat(e))}break;case"string":void 0===i&&(i=e.length),this.c[s].update([o,this.N++,3,i,c,e.length]),this.c[s].update(e);break;default:l=1}if(l)throw new t.exception.bug("random: addEntropy only supports number, array of numbers or string");this.m[s]+=i,this.f+=i,h===this.u&&(this.isReady()!==this.u&&n("seeded",Math.max(this.o,this.f)),n("progress",this.getProgress()))},isReady:function(t){return t=this.T[void 0!==t?t:this.M],this.o&&this.o>=t?this.m[0]>this.ba&&(new Date).valueOf()>this.Z?this.J|this.I:this.I:this.f>=t?this.J|this.u:this.u},getProgress:function(t){return t=this.T[t||this.M],this.o>=t?1:this.f>t?1:this.f/t},startCollectors:function(){if(!this.D){if(this.a={loadTimeCollector:c(this,this.ma),mouseCollector:c(this,this.oa),keyboardCollector:c(this,this.la),accelerometerCollector:c(this,this.ea),touchCollector:c(this,this.qa)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else{if(!document.attachEvent)throw new t.exception.bug("can't attach event");document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)}this.D=!0}},stopCollectors:function(){this.D&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.D=!1)},addEventListener:function(t,e){this.K[t][this.ga++]=e},removeEventListener:function(t,e){var i,n,r=this.K[t],o=[];for(n in r)r.hasOwnProperty(n)&&r[n]===e&&o.push(n);for(i=0;i<o.length;i++)delete r[n=o[i]]},la:function(){r(this,1)},oa:function(t){var e,i;try{e=t.x||t.clientX||t.offsetX||0,i=t.y||t.clientY||t.offsetY||0}catch(t){i=e=0}0!=e&&0!=i&&this.addEntropy([e,i],2,"mouse"),r(this,0)},qa:function(t){t=t.touches[0]||t.changedTouches[0],this.addEntropy([t.pageX||t.clientX,t.pageY||t.clientY],1,"touch"),r(this,0)},ma:function(){r(this,2)},ea:function(t){if(t=t.accelerationIncludingGravity.x||t.accelerationIncludingGravity.y||t.accelerationIncludingGravity.z,window.orientation){var e=window.orientation;"number"==typeof e&&this.addEntropy(e,1,"accelerometer")}t&&this.addEntropy(t,2,"accelerometer"),r(this,0)}},t.random=new t.prng(6);t:try{var s,h,l,d;if(d=void 0!==_m&&_m.exports){var f;try{f=_r(_d[0])}catch(t){f=null}d=h=f}if(d&&h.randomBytes)s=h.randomBytes(128),s=new Uint32Array(new Uint8Array(s).buffer),t.random.addEntropy(s,1024,"crypto['randomBytes']");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){if(l=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(l);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break t;window.msCrypto.getRandomValues(l)}t.random.addEntropy(l,1024,"crypto['getRandomValues']")}}catch(t){"undefined"!=typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(t))}t.json={defaults:{v:1,iter:1e4,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},ja:function(e,i,n,r){n=n||{},r=r||{};var o,a=t.json,c=a.g({iv:t.random.randomWords(4,0)},a.defaults);if(a.g(c,n),n=c.adata,"string"==typeof c.salt&&(c.salt=t.codec.base64.toBits(c.salt)),"string"==typeof c.iv&&(c.iv=t.codec.base64.toBits(c.iv)),!t.mode[c.mode]||!t.cipher[c.cipher]||"string"==typeof e&&100>=c.iter||64!==c.ts&&96!==c.ts&&128!==c.ts||128!==c.ks&&192!==c.ks&&256!==c.ks||2>c.iv.length||4<c.iv.length)throw new t.exception.invalid("json encrypt: invalid parameters");return"string"==typeof e?(e=(o=t.misc.cachedPbkdf2(e,c)).key.slice(0,c.ks/32),c.salt=o.salt):t.ecc&&e instanceof t.ecc.elGamal.publicKey&&(o=e.kem(),c.kemtag=o.tag,e=o.key.slice(0,c.ks/32)),"string"==typeof i&&(i=t.codec.utf8String.toBits(i)),"string"==typeof n&&(c.adata=n=t.codec.utf8String.toBits(n)),o=new t.cipher[c.cipher](e),a.g(r,c),r.key=e,c.ct="ccm"===c.mode&&t.arrayBuffer&&t.arrayBuffer.ccm&&i instanceof ArrayBuffer?t.arrayBuffer.ccm.encrypt(o,i,c.iv,n,c.ts):t.mode[c.mode].encrypt(o,i,c.iv,n,c.ts),c},encrypt:function(e,i,n,r){var o=t.json,a=o.ja.apply(o,arguments);return o.encode(a)},ia:function(e,i,n,r){n=n||{},r=r||{};var o,a,c=t.json;if(o=(i=c.g(c.g(c.g({},c.defaults),i),n,!0)).adata,"string"==typeof i.salt&&(i.salt=t.codec.base64.toBits(i.salt)),"string"==typeof i.iv&&(i.iv=t.codec.base64.toBits(i.iv)),!t.mode[i.mode]||!t.cipher[i.cipher]||"string"==typeof e&&100>=i.iter||64!==i.ts&&96!==i.ts&&128!==i.ts||128!==i.ks&&192!==i.ks&&256!==i.ks||!i.iv||2>i.iv.length||4<i.iv.length)throw new t.exception.invalid("json decrypt: invalid parameters");return"string"==typeof e?(e=(a=t.misc.cachedPbkdf2(e,i)).key.slice(0,i.ks/32),i.salt=a.salt):t.ecc&&e instanceof t.ecc.elGamal.secretKey&&(e=e.unkem(t.codec.base64.toBits(i.kemtag)).slice(0,i.ks/32)),"string"==typeof o&&(o=t.codec.utf8String.toBits(o)),a=new t.cipher[i.cipher](e),o="ccm"===i.mode&&t.arrayBuffer&&t.arrayBuffer.ccm&&i.ct instanceof ArrayBuffer?t.arrayBuffer.ccm.decrypt(a,i.ct,i.iv,i.tag,o,i.ts):t.mode[i.mode].decrypt(a,i.ct,i.iv,o,i.ts),c.g(r,i),r.key=e,1===n.raw?o:t.codec.utf8String.fromBits(o)},decrypt:function(e,i,n,r){var o=t.json;return o.ia(e,o.decode(i),n,r)},encode:function(e){var i,n="{",r="";for(i in e)if(e.hasOwnProperty(i)){if(!i.match(/^[a-z0-9]+$/i))throw new t.exception.invalid("json encode: invalid property name");switch(n+=r+'"'+i+'":',r=",",typeof e[i]){case"number":case"boolean":n+=e[i];break;case"string":n+='"'+escape(e[i])+'"';break;case"object":n+='"'+t.codec.base64.fromBits(e[i],0)+'"';break;default:throw new t.exception.bug("json encode: unsupported type")}}return n+"}"},decode:function(e){if(!(e=e.replace(/\s/g,"")).match(/^\{.*\}$/))throw new t.exception.invalid("json decode: this isn't json!");e=e.replace(/^\{|\}$/g,"").split(/,/);var i,n,r={};for(i=0;i<e.length;i++){if(!(n=e[i].match(/^\s*(?:(["']?)([a-z][a-z0-9]*)\1)\s*:\s*(?:(-?\d+)|"([a-z0-9+\/%*_.@=\-]*)"|(true|false))$/i)))throw new t.exception.invalid("json decode: this isn't json!");null!=n[3]?r[n[2]]=parseInt(n[3],10):null!=n[4]?r[n[2]]=n[2].match(/^(ct|adata|salt|iv)$/)?t.codec.base64.toBits(n[4]):unescape(n[4]):null!=n[5]&&(r[n[2]]="true"===n[5])}return r},g:function(e,i,n){if(void 0===e&&(e={}),void 0===i)return e;for(var r in i)if(i.hasOwnProperty(r)){if(n&&void 0!==e[r]&&e[r]!==i[r])throw new t.exception.invalid("required parameter overridden");e[r]=i[r]}return e},sa:function(t,e){var i,n={};for(i in t)t.hasOwnProperty(i)&&t[i]!==e[i]&&(n[i]=t[i]);return n},ra:function(t,e){var i,n={};for(i=0;i<e.length;i++)void 0!==t[e[i]]&&(n[e[i]]=t[e[i]]);return n}},t.encrypt=t.json.encrypt,t.decrypt=t.json.decrypt,t.misc.pa={},t.misc.cachedPbkdf2=function(e,i){var n,r=t.misc.pa;return n=(i=i||{}).iter||1e3,(n=(r=r[e]=r[e]||{})[n]=r[n]||{firstSalt:i.salt&&i.salt.length?i.salt.slice(0):t.random.randomWords(2,0)})[r=void 0===i.salt?n.firstSalt:i.salt]=n[r]||t.misc.pbkdf2(e,r,i.iter),{key:n[r].slice(0),salt:r.slice(0)}},void 0!==_m&&_m.exports&&(_m.exports=t),"function"==typeof define&&define([],function(){return t})},468,[464]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t){r(d[0]).call(this,'digest'),this._hash=t}r(d[1])(t,r(d[0])),t.prototype._update=function(t){this._hash.update(t)},t.prototype._final=function(){return this._hash.digest()},m.exports=function(n){return'md5'===(n=n.toLowerCase())?new(r(d[2])):'rmd160'===n||'ripemd160'===n?new(r(d[3])):new t(r(d[4])(n))}},469,[470,475,490,492,493]);
__d(function(g,r,i,a,m,_e,d){'use strict';function t(t){r(d[0]).Transform.call(this),this.hashMode='string'==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(d[1])(t,r(d[0]).Transform);var e='undefined'!=typeof Uint8Array,n='undefined'!=typeof ArrayBuffer&&'undefined'!=typeof Uint8Array&&ArrayBuffer.isView&&(r(d[2]).Buffer.prototype instanceof Uint8Array||r(d[2]).Buffer.TYPED_ARRAY_SUPPORT);function o(t,o){if(t instanceof r(d[2]).Buffer)return t;if('string'==typeof t)return r(d[2]).Buffer.from(t,o);if(n&&ArrayBuffer.isView(t)){if(0===t.byteLength)return r(d[2]).Buffer.alloc(0);var f=r(d[2]).Buffer.from(t.buffer,t.byteOffset,t.byteLength);if(f.byteLength===t.byteLength)return f}if(e&&t instanceof Uint8Array)return r(d[2]).Buffer.from(t);if(r(d[2]).Buffer.isBuffer(t)&&t.constructor&&'function'==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))return r(d[2]).Buffer.from(t);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}t.prototype.update=function(t,e,n){var f=o(t,e),s=this._update(f);return this.hashMode?this:(n&&(s=this._toString(s,n)),s)},t.prototype.setAutoPadding=function(){},t.prototype.getAuthTag=function(){throw new Error('trying to get auth tag in unsupported state')},t.prototype.setAuthTag=function(){throw new Error('trying to set auth tag in unsupported state')},t.prototype.setAAD=function(){throw new Error('trying to set aad in unsupported state')},t.prototype._transform=function(t,e,n){var o;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){o=t}finally{n(o)}},t.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},t.prototype._finalOrDigest=function(t){var e=this.__final()||r(d[2]).Buffer.alloc(0);return t&&(e=this._toString(e,t,!0)),e},t.prototype._toString=function(t,e,n){if(this._decoder||(this._decoder=new(r(d[3]).StringDecoder)(e),this._encoding=e),this._encoding!==e)throw new Error('can\u2019t switch encodings');var o=this._decoder.write(t);return n&&(o+=this._decoder.end()),o},m.exports=t},470,[471,475,488,489]);
__d(function(g,r,i,a,m,e,d){(e=m.exports=r(d[0])).Stream=e,e.Readable=e,e.Writable=r(d[1]),e.Duplex=r(d[2]),e.Transform=r(d[3]),e.PassThrough=r(d[4])},471,[472,480,479,486,487]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t;m.exports=c,c.ReadableState=f;var n=function(t,n){return t.listeners(n).length},i=(void 0!==g?g:'undefined'!=typeof window?window:'undefined'!=typeof self?self:{}).Uint8Array||function(){};function o(t){return r(d[0]).Buffer.from(t)}var s=Object.create(r(d[1]));s.inherits=r(d[2]);var l,h=void 0;h=r(d[3])&&r(d[3]).debuglog?r(d[3]).debuglog('stream'):function(){},s.inherits(c,r(d[4]));var u=['error','close','destroy','pause','resume'];function p(t,n,i){if('function'==typeof t.prependListener)return t.prependListener(n,i);t._events&&t._events[n]?r(d[5])(t._events[n])?t._events[n].unshift(i):t._events[n]=[i,t._events[n]]:t.on(n,i)}function f(n,i){n=n||{};var o=i instanceof(t=t||r(d[6]));this.objectMode=!!n.objectMode,o&&(this.objectMode=this.objectMode||!!n.readableObjectMode);var s=n.highWaterMark,h=n.readableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=s||0===s?s:o&&(h||0===h)?h:u,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new(r(d[7])),this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=n.defaultEncoding||'utf8',this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,n.encoding&&(l||(l=r(d[8]).StringDecoder),this.decoder=new l(n.encoding),this.encoding=n.encoding)}function c(n){if(t=t||r(d[6]),!(this instanceof c))return new c(n);this._readableState=new f(n,this),this.readable=!0,n&&('function'==typeof n.read&&(this._read=n.read),'function'==typeof n.destroy&&(this._destroy=n.destroy)),r(d[4]).call(this)}function b(t,n,i,s,l){var h,u=t._readableState;null===n?(u.reading=!1,k(t,u)):(l||(h=y(u,n)),h?t.emit('error',h):u.objectMode||n&&n.length>0?('string'==typeof n||u.objectMode||Object.getPrototypeOf(n)===r(d[0]).Buffer.prototype||(n=o(n)),s?u.endEmitted?t.emit('error',new Error('stream.unshift() after end event')):v(t,u,n,!0):u.ended?t.emit('error',new Error('stream.push() after EOF')):(u.reading=!1,u.decoder&&!i?(n=u.decoder.write(n),u.objectMode||0!==n.length?v(t,u,n,!1):L(t,u)):v(t,u,n,!1))):s||(u.reading=!1));return w(u)}function v(t,n,i,o){n.flowing&&0===n.length&&!n.sync?(t.emit('data',i),t.read(0)):(n.length+=n.objectMode?1:i.length,o?n.buffer.unshift(i):n.buffer.push(i),n.needReadable&&j(t)),L(t,n)}function y(t,n){var o,s;return s=n,r(d[0]).Buffer.isBuffer(s)||s instanceof i||'string'==typeof n||void 0===n||t.objectMode||(o=new TypeError('Invalid non-string/buffer chunk')),o}function w(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}Object.defineProperty(c.prototype,'destroyed',{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),c.prototype.destroy=r(d[9]).destroy,c.prototype._undestroy=r(d[9]).undestroy,c.prototype._destroy=function(t,n){this.push(null),n(t)},c.prototype.push=function(t,n){var i,o=this._readableState;return o.objectMode?i=!0:'string'==typeof t&&((n=n||o.defaultEncoding)!==o.encoding&&(t=r(d[0]).Buffer.from(t,n),n=''),i=!0),b(this,t,n,!1,i)},c.prototype.unshift=function(t){return b(this,t,null,!0,!1)},c.prototype.isPaused=function(){return!1===this._readableState.flowing},c.prototype.setEncoding=function(t){return l||(l=r(d[8]).StringDecoder),this._readableState.decoder=new l(t),this._readableState.encoding=t,this};var _=8388608;function M(t){return t>=_?t=_:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function S(t,n){return t<=0||0===n.length&&n.ended?0:n.objectMode?1:t!=t?n.flowing&&n.length?n.buffer.head.data.length:n.length:(t>n.highWaterMark&&(n.highWaterMark=M(t)),t<=n.length?t:n.ended?n.length:(n.needReadable=!0,0))}function k(t,n){if(!n.ended){if(n.decoder){var i=n.decoder.end();i&&i.length&&(n.buffer.push(i),n.length+=n.objectMode?1:i.length)}n.ended=!0,j(t)}}function j(t){var n=t._readableState;n.needReadable=!1,n.emittedReadable||(h('emitReadable',n.flowing),n.emittedReadable=!0,n.sync?r(d[10]).nextTick(R,t):R(t))}function R(t){h('emit readable'),t.emit('readable'),O(t)}function L(t,n){n.readingMore||(n.readingMore=!0,r(d[10]).nextTick(E,t,n))}function E(t,n){for(var i=n.length;!n.reading&&!n.flowing&&!n.ended&&n.length<n.highWaterMark&&(h('maybeReadMore read 0'),t.read(0),i!==n.length);)i=n.length;n.readingMore=!1}function x(t){return function(){var i=t._readableState;h('pipeOnDrain',i.awaitDrain),i.awaitDrain&&i.awaitDrain--,0===i.awaitDrain&&n(t,'data')&&(i.flowing=!0,O(t))}}function W(t){h('readable nexttick read 0'),t.read(0)}function C(t,n){n.resumeScheduled||(n.resumeScheduled=!0,r(d[10]).nextTick(D,t,n))}function D(t,n){n.reading||(h('resume read 0'),t.read(0)),n.resumeScheduled=!1,n.awaitDrain=0,t.emit('resume'),O(t),n.flowing&&!n.reading&&t.read(0)}function O(t){var n=t._readableState;for(h('flow',n.flowing);n.flowing&&null!==t.read(););}function T(t,n){return 0===n.length?null:(n.objectMode?i=n.buffer.shift():!t||t>=n.length?(i=n.decoder?n.buffer.join(''):1===n.buffer.length?n.buffer.head.data:n.buffer.concat(n.length),n.buffer.clear()):i=B(t,n.buffer,n.decoder),i);var i}function B(t,n,i){var o;return t<n.head.data.length?(o=n.head.data.slice(0,t),n.head.data=n.head.data.slice(t)):o=t===n.head.data.length?n.shift():i?U(t,n):P(t,n),o}function U(t,n){var i=n.head,o=1,s=i.data;for(t-=s.length;i=i.next;){var l=i.data,h=t>l.length?l.length:t;if(h===l.length?s+=l:s+=l.slice(0,t),0===(t-=h)){h===l.length?(++o,i.next?n.head=i.next:n.head=n.tail=null):(n.head=i,i.data=l.slice(h));break}++o}return n.length-=o,s}function P(t,n){var i=r(d[0]).Buffer.allocUnsafe(t),o=n.head,s=1;for(o.data.copy(i),t-=o.data.length;o=o.next;){var l=o.data,h=t>l.length?l.length:t;if(l.copy(i,i.length-t,0,h),0===(t-=h)){h===l.length?(++s,o.next?n.head=o.next:n.head=n.tail=null):(n.head=o,o.data=l.slice(h));break}++s}return n.length-=s,i}function H(t){var n=t._readableState;if(n.length>0)throw new Error('"endReadable()" called on non-empty stream');n.endEmitted||(n.ended=!0,r(d[10]).nextTick(I,n,t))}function I(t,n){t.endEmitted||0!==t.length||(t.endEmitted=!0,n.readable=!1,n.emit('end'))}function A(t,n){for(var i=0,o=t.length;i<o;i++)if(t[i]===n)return i;return-1}c.prototype.read=function(t){h('read',t),t=parseInt(t,10);var n=this._readableState,i=t;if(0!==t&&(n.emittedReadable=!1),0===t&&n.needReadable&&(n.length>=n.highWaterMark||n.ended))return h('read: emitReadable',n.length,n.ended),0===n.length&&n.ended?H(this):j(this),null;if(0===(t=S(t,n))&&n.ended)return 0===n.length&&H(this),null;var o,s=n.needReadable;return h('need readable',s),(0===n.length||n.length-t<n.highWaterMark)&&h('length less than watermark',s=!0),n.ended||n.reading?h('reading or ended',s=!1):s&&(h('do read'),n.reading=!0,n.sync=!0,0===n.length&&(n.needReadable=!0),this._read(n.highWaterMark),n.sync=!1,n.reading||(t=S(i,n))),null===(o=t>0?T(t,n):null)?(n.needReadable=!0,t=0):n.length-=t,0===n.length&&(n.ended||(n.needReadable=!0),i!==t&&n.ended&&H(this)),null!==o&&this.emit('data',o),o},c.prototype._read=function(t){this.emit('error',new Error('_read() is not implemented'))},c.prototype.pipe=function(t,i){var o=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=t;break;case 1:s.pipes=[s.pipes,t];break;default:s.pipes.push(t)}s.pipesCount+=1,h('pipe count=%d opts=%j',s.pipesCount,i);var l=(!i||!1!==i.end)&&t!==process.stdout&&t!==process.stderr?f:k;function u(t,n){h('onunpipe'),t===o&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,v())}function f(){h('onend'),t.end()}s.endEmitted?r(d[10]).nextTick(l):o.once('end',l),t.on('unpipe',u);var c=x(o);t.on('drain',c);var b=!1;function v(){h('cleanup'),t.removeListener('close',M),t.removeListener('finish',S),t.removeListener('drain',c),t.removeListener('error',_),t.removeListener('unpipe',u),o.removeListener('end',f),o.removeListener('end',k),o.removeListener('data',w),b=!0,!s.awaitDrain||t._writableState&&!t._writableState.needDrain||c()}var y=!1;function w(n){h('ondata'),y=!1,!1!==t.write(n)||y||((1===s.pipesCount&&s.pipes===t||s.pipesCount>1&&-1!==A(s.pipes,t))&&!b&&(h('false write response, pause',s.awaitDrain),s.awaitDrain++,y=!0),o.pause())}function _(i){h('onerror',i),k(),t.removeListener('error',_),0===n(t,'error')&&t.emit('error',i)}function M(){t.removeListener('finish',S),k()}function S(){h('onfinish'),t.removeListener('close',M),k()}function k(){h('unpipe'),o.unpipe(t)}return o.on('data',w),p(t,'error',_),t.once('close',M),t.once('finish',S),t.emit('pipe',o),s.flowing||(h('pipe resume'),o.resume()),t},c.prototype.unpipe=function(t){var n=this._readableState,i={hasUnpiped:!1};if(0===n.pipesCount)return this;if(1===n.pipesCount)return t&&t!==n.pipes?this:(t||(t=n.pipes),n.pipes=null,n.pipesCount=0,n.flowing=!1,t&&t.emit('unpipe',this,i),this);if(!t){var o=n.pipes,s=n.pipesCount;n.pipes=null,n.pipesCount=0,n.flowing=!1;for(var l=0;l<s;l++)o[l].emit('unpipe',this,{hasUnpiped:!1});return this}var h=A(n.pipes,t);return-1===h?this:(n.pipes.splice(h,1),n.pipesCount-=1,1===n.pipesCount&&(n.pipes=n.pipes[0]),t.emit('unpipe',this,i),this)},c.prototype.on=function(t,n){var i=r(d[4]).prototype.on.call(this,t,n);if('data'===t)!1!==this._readableState.flowing&&this.resume();else if('readable'===t){var o=this._readableState;o.endEmitted||o.readableListening||(o.readableListening=o.needReadable=!0,o.emittedReadable=!1,o.reading?o.length&&j(this):r(d[10]).nextTick(W,this))}return i},c.prototype.addListener=c.prototype.on,c.prototype.resume=function(){var t=this._readableState;return t.flowing||(h('resume'),t.flowing=!0,C(this,t)),this},c.prototype.pause=function(){return h('call pause flowing=%j',this._readableState.flowing),!1!==this._readableState.flowing&&(h('pause'),this._readableState.flowing=!1,this.emit('pause')),this},c.prototype.wrap=function(t){var n=this,i=this._readableState,o=!1;for(var s in t.on('end',function(){if(h('wrapped end'),i.decoder&&!i.ended){var t=i.decoder.end();t&&t.length&&n.push(t)}n.push(null)}),t.on('data',function(s){(h('wrapped data'),i.decoder&&(s=i.decoder.write(s)),i.objectMode&&null==s)||(i.objectMode||s&&s.length)&&(n.push(s)||(o=!0,t.pause()))}),t)void 0===this[s]&&'function'==typeof t[s]&&(this[s]=(function(n){return function(){return t[n].apply(t,arguments)}})(s));for(var l=0;l<u.length;l++)t.on(u[l],this.emit.bind(this,u[l]));return this._read=function(n){h('wrapped _read',n),o&&(o=!1,t.resume())},this},Object.defineProperty(c.prototype,'readableHighWaterMark',{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),c._fromList=T},472,[473,474,475,476,477,467,479,484,485,483,481]);
__d(function(g,r,i,a,m,e,d){function f(f,n){for(var u in f)n[u]=f[u]}function n(f,n,u){return r(d[0]).Buffer(f,n,u)}r(d[0]).Buffer.from&&r(d[0]).Buffer.alloc&&r(d[0]).Buffer.allocUnsafe&&r(d[0]).Buffer.allocUnsafeSlow?m.exports=r(d[0]):(f(r(d[0]),e),e.Buffer=n),f(r(d[0]).Buffer,n),n.from=function(f,n,u){if('number'==typeof f)throw new TypeError('Argument must not be a number');return r(d[0]).Buffer(f,n,u)},n.alloc=function(f,n,u){if('number'!=typeof f)throw new TypeError('Argument must be a number');var o=r(d[0]).Buffer(f);return void 0!==n?'string'==typeof u?o.fill(n,u):o.fill(n):o.fill(0),o},n.allocUnsafe=function(f){if('number'!=typeof f)throw new TypeError('Argument must be a number');return r(d[0]).Buffer(f)},n.allocUnsafeSlow=function(f){if('number'!=typeof f)throw new TypeError('Argument must be a number');return r(d[0]).SlowBuffer(f)}},473,[381]);
__d(function(g,r,i,a,m,_e,_d){function n(n){return Object.prototype.toString.call(n)}_e.isArray=function(t){return Array.isArray?Array.isArray(t):'[object Array]'===n(t)},_e.isBoolean=function(n){return'boolean'==typeof n},_e.isNull=function(n){return null===n},_e.isNullOrUndefined=function(n){return null==n},_e.isNumber=function(n){return'number'==typeof n},_e.isString=function(n){return'string'==typeof n},_e.isSymbol=function(n){return'symbol'==typeof n},_e.isUndefined=function(n){return void 0===n},_e.isRegExp=function(t){return'[object RegExp]'===n(t)},_e.isObject=function(n){return'object'==typeof n&&null!==n},_e.isDate=function(t){return'[object Date]'===n(t)},_e.isError=function(t){return'[object Error]'===n(t)||t instanceof Error},_e.isFunction=function(n){return'function'==typeof n},_e.isPrimitive=function(n){return null===n||'boolean'==typeof n||'number'==typeof n||'string'==typeof n||'symbol'==typeof n||void 0===n},_e.isBuffer=r(_d[0]).Buffer.isBuffer},474,[381]);
__d(function(g,r,i,a,m,e,d){'function'==typeof Object.create?m.exports=function(t,o){o&&(t.super_=o,t.prototype=Object.create(o.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:m.exports=function(t,o){if(o){t.super_=o;var p=function(){};p.prototype=o.prototype,t.prototype=new p,t.prototype.constructor=t}}},475,[]);
__d(function(g,r,i,a,m,e,d){"use strict"},476,[]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).EventEmitter},477,[478]);
__d(function(g,r,_i,a,_m,e,d){'use strict';var t,n='object'==typeof Reflect?Reflect:null,i=n&&'function'==typeof n.apply?n.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};t=n&&'function'==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}_m.exports=s,_m.exports.once=function(t,n){return new Promise(function(i,o){function s(i){t.removeListener(n,u),o(i)}function u(){'function'==typeof t.removeListener&&t.removeListener('error',s),i([].slice.call(arguments))}b(t,n,u,{once:!0}),'error'!==n&&w(t,s,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function f(t){if('function'!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function v(t,n,i,o){var s,u,v,p;if(f(i),void 0===(u=t._events)?(u=t._events=Object.create(null),t._eventsCount=0):(void 0!==u.newListener&&(t.emit('newListener',n,i.listener?i.listener:i),u=t._events),v=u[n]),void 0===v)v=u[n]=i,++t._eventsCount;else if('function'==typeof v?v=u[n]=o?[i,v]:[v,i]:o?v.unshift(i):v.push(i),(s=c(t))>0&&v.length>s&&!v.warned){v.warned=!0;var l=new Error('Possible EventEmitter memory leak detected. '+v.length+' '+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name='MaxListenersExceededWarning',l.emitter=t,l.type=n,l.count=v.length,p=l,console&&console.warn&&console.warn(p)}return t}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(t,n,i){var o={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},s=p.bind(o);return s.listener=i,o.wrapFn=s,s}function h(t,n,i){var o=t._events;if(void 0===o)return[];var s=o[n];return void 0===s?[]:'function'==typeof s?i?[s.listener||s]:[s]:i?_(s):m(s,s.length)}function y(t){var n=this._events;if(void 0!==n){var i=n[t];if('function'==typeof i)return 1;if(void 0!==i)return i.length}return 0}function m(t,n){for(var i=new Array(n),o=0;o<n;++o)i[o]=t[o];return i}function L(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}function _(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}function w(t,n,i){'function'==typeof t.on&&b(t,'error',n,i)}function b(t,n,i,o){if('function'==typeof t.on)o.once?t.once(n,i):t.on(n,i);else{if('function'!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(n,function s(u){o.once&&t.removeEventListener(n,s),i(u)})}}Object.defineProperty(s,'defaultMaxListeners',{enumerable:!0,get:function(){return u},set:function(t){if('number'!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+'.');u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if('number'!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+'.');return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var n=[],o=1;o<arguments.length;o++)n.push(arguments[o]);var s='error'===t,u=this._events;if(void 0!==u)s=s&&void 0===u.error;else if(!s)return!1;if(s){var f;if(n.length>0&&(f=n[0]),f instanceof Error)throw f;var c=new Error('Unhandled error.'+(f?' ('+f.message+')':''));throw c.context=f,c}var v=u[t];if(void 0===v)return!1;if('function'==typeof v)i(v,this,n);else{var p=v.length,l=m(v,p);for(o=0;o<p;++o)i(l[o],this,n)}return!0},s.prototype.addListener=function(t,n){return v(this,t,n,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,n){return v(this,t,n,!0)},s.prototype.once=function(t,n){return f(n),this.on(t,l(this,t,n)),this},s.prototype.prependOnceListener=function(t,n){return f(n),this.prependListener(t,l(this,t,n)),this},s.prototype.removeListener=function(t,n){var i,o,s,u,c;if(f(n),void 0===(o=this._events))return this;if(void 0===(i=o[t]))return this;if(i===n||i.listener===n)0==--this._eventsCount?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit('removeListener',t,i.listener||n));else if('function'!=typeof i){for(s=-1,u=i.length-1;u>=0;u--)if(i[u]===n||i[u].listener===n){c=i[u].listener,s=u;break}if(s<0)return this;0===s?i.shift():L(i,s),1===i.length&&(o[t]=i[0]),void 0!==o.removeListener&&this.emit('removeListener',t,c||n)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var n,i,o;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[t]),this;if(0===arguments.length){var s,u=Object.keys(i);for(o=0;o<u.length;++o)'removeListener'!==(s=u[o])&&this.removeAllListeners(s);return this.removeAllListeners('removeListener'),this._events=Object.create(null),this._eventsCount=0,this}if('function'==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(o=n.length-1;o>=0;o--)this.removeListener(t,n[o]);return this},s.prototype.listeners=function(t){return h(this,t,!0)},s.prototype.rawListeners=function(t){return h(this,t,!1)},s.listenerCount=function(t,n){return'function'==typeof t.listenerCount?t.listenerCount(n):y.call(t,n)},s.prototype.listenerCount=y,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},478,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Object.keys||function(t){var n=[];for(var o in t)n.push(o);return n};m.exports=h;var n=Object.create(r(d[0]));n.inherits=r(d[1]),n.inherits(h,r(d[2]));for(var o=t(r(d[3]).prototype),s=0;s<o.length;s++){var l=o[s];h.prototype[l]||(h.prototype[l]=r(d[3]).prototype[l])}function h(t){if(!(this instanceof h))return new h(t);r(d[2]).call(this,t),r(d[3]).call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once('end',p)}function p(){this.allowHalfOpen||this._writableState.ended||r(d[4]).nextTick(c,this)}function c(t){t.end()}Object.defineProperty(h.prototype,'writableHighWaterMark',{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,'destroyed',{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,n){this.push(null),this.end(),r(d[4]).nextTick(n,t)}},479,[474,475,472,480,481]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t){var n=this;this.next=null,this.entry=null,this.finish=function(){W(n,t)}}m.exports=p;var n,o=!process.browser&&['v0.10','v0.9.'].indexOf(process.version.slice(0,5))>-1?setImmediate:r(d[0]).nextTick;p.WritableState=b;var f=Object.create(r(d[1]));f.inherits=r(d[2]);var s,u={deprecate:r(d[3])},c=(void 0!==g?g:'undefined'!=typeof window?window:'undefined'!=typeof self?self:{}).Uint8Array||function(){};function l(t){return r(d[4]).Buffer.from(t)}function h(){}function b(o,f){n=n||r(d[6]),o=o||{};var s=f instanceof n;this.objectMode=!!o.objectMode,s&&(this.objectMode=this.objectMode||!!o.writableObjectMode);var u=o.highWaterMark,c=o.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=u||0===u?u:s&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===o.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=o.defaultEncoding||'utf8',this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){R(f,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function p(t){if(n=n||r(d[6]),!(s.call(p,this)||this instanceof n))return new p(t);this._writableState=new b(t,this),this.writable=!0,t&&('function'==typeof t.write&&(this._write=t.write),'function'==typeof t.writev&&(this._writev=t.writev),'function'==typeof t.destroy&&(this._destroy=t.destroy),'function'==typeof t.final&&(this._final=t.final)),r(d[5]).call(this)}function w(t,n){var o=new Error('write after end');t.emit('error',o),r(d[0]).nextTick(n,o)}function y(t,n,o,f){var s=!0,u=!1;return null===o?u=new TypeError('May not write null values to stream'):'string'==typeof o||void 0===o||n.objectMode||(u=new TypeError('Invalid non-string/buffer chunk')),u&&(t.emit('error',u),r(d[0]).nextTick(f,u),s=!1),s}function v(t,n,o){return t.objectMode||!1===t.decodeStrings||'string'!=typeof n||(n=r(d[4]).Buffer.from(n,o)),n}function k(t,n,o,f,s,u){if(!o){var c=v(n,f,s);f!==c&&(o=!0,s='buffer',f=c)}var l=n.objectMode?1:f.length;n.length+=l;var h=n.length<n.highWaterMark;if(h||(n.needDrain=!0),n.writing||n.corked){var b=n.lastBufferedRequest;n.lastBufferedRequest={chunk:f,encoding:s,isBuf:o,callback:u,next:null},b?b.next=n.lastBufferedRequest:n.bufferedRequest=n.lastBufferedRequest,n.bufferedRequestCount+=1}else _(t,n,!1,l,f,s,u);return h}function _(t,n,o,f,s,u,c){n.writelen=f,n.writecb=c,n.writing=!0,n.sync=!0,o?t._writev(s,n.onwrite):t._write(s,u,n.onwrite),n.sync=!1}function S(t,n,o,f,s){--n.pendingcb,o?(r(d[0]).nextTick(s,f),r(d[0]).nextTick(P,t,n),t._writableState.errorEmitted=!0,t.emit('error',f)):(s(f),t._writableState.errorEmitted=!0,t.emit('error',f),P(t,n))}function q(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function R(t,n){var f=t._writableState,s=f.sync,u=f.writecb;if(q(f),n)S(t,f,s,n,u);else{var c=j(f);c||f.corked||f.bufferProcessing||!f.bufferedRequest||B(t,f),s?o(x,t,f,c,u):x(t,f,c,u)}}function x(t,n,o,f){o||M(t,n),n.pendingcb--,f(),P(t,n)}function M(t,n){0===n.length&&n.needDrain&&(n.needDrain=!1,t.emit('drain'))}function B(n,o){o.bufferProcessing=!0;var f=o.bufferedRequest;if(n._writev&&f&&f.next){var s=o.bufferedRequestCount,u=new Array(s),c=o.corkedRequestsFree;c.entry=f;for(var l=0,h=!0;f;)u[l]=f,f.isBuf||(h=!1),f=f.next,l+=1;u.allBuffers=h,_(n,o,!0,o.length,u,'',c.finish),o.pendingcb++,o.lastBufferedRequest=null,c.next?(o.corkedRequestsFree=c.next,c.next=null):o.corkedRequestsFree=new t(o),o.bufferedRequestCount=0}else{for(;f;){var b=f.chunk,p=f.encoding,w=f.callback;if(_(n,o,!1,o.objectMode?1:b.length,b,p,w),f=f.next,o.bufferedRequestCount--,o.writing)break}null===f&&(o.lastBufferedRequest=null)}o.bufferedRequest=f,o.bufferProcessing=!1}function j(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function E(t,n){t._final(function(o){n.pendingcb--,o&&t.emit('error',o),n.prefinished=!0,t.emit('prefinish'),P(t,n)})}function C(t,n){n.prefinished||n.finalCalled||('function'==typeof t._final?(n.pendingcb++,n.finalCalled=!0,r(d[0]).nextTick(E,t,n)):(n.prefinished=!0,t.emit('prefinish')))}function P(t,n){var o=j(n);return o&&(C(t,n),0===n.pendingcb&&(n.finished=!0,t.emit('finish'))),o}function T(t,n,o){n.ending=!0,P(t,n),o&&(n.finished?r(d[0]).nextTick(o):t.once('finish',o)),n.ended=!0,t.writable=!1}function W(t,n,o){var f=t.entry;for(t.entry=null;f;){var s=f.callback;n.pendingcb--,s(o),f=f.next}n.corkedRequestsFree.next=t}f.inherits(p,r(d[5])),b.prototype.getBuffer=function(){for(var t=this.bufferedRequest,n=[];t;)n.push(t),t=t.next;return n},(function(){try{Object.defineProperty(b.prototype,'buffer',{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.",'DEP0003')})}catch(t){}})(),'function'==typeof Symbol&&Symbol.hasInstance&&'function'==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(p,Symbol.hasInstance,{value:function(t){return!!s.call(this,t)||this===p&&(t&&t._writableState instanceof b)}})):s=function(t){return t instanceof this},p.prototype.pipe=function(){this.emit('error',new Error('Cannot pipe, not readable'))},p.prototype.write=function(t,n,o){var f,s=this._writableState,u=!1,b=!s.objectMode&&(f=t,r(d[4]).Buffer.isBuffer(f)||f instanceof c);return b&&!r(d[4]).Buffer.isBuffer(t)&&(t=l(t)),'function'==typeof n&&(o=n,n=null),b?n='buffer':n||(n=s.defaultEncoding),'function'!=typeof o&&(o=h),s.ended?w(this,o):(b||y(this,s,t,o))&&(s.pendingcb++,u=k(this,s,b,t,n,o)),u},p.prototype.cork=function(){this._writableState.corked++},p.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||B(this,t))},p.prototype.setDefaultEncoding=function(t){if('string'==typeof t&&(t=t.toLowerCase()),!(['hex','utf8','utf-8','ascii','binary','base64','ucs2','ucs-2','utf16le','utf-16le','raw'].indexOf((t+'').toLowerCase())>-1))throw new TypeError('Unknown encoding: '+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(p.prototype,'writableHighWaterMark',{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),p.prototype._write=function(t,n,o){o(new Error('_write() is not implemented'))},p.prototype._writev=null,p.prototype.end=function(t,n,o){var f=this._writableState;'function'==typeof t?(o=t,t=null,n=null):'function'==typeof n&&(o=n,n=null),null!=t&&this.write(t,n),f.corked&&(f.corked=1,this.uncork()),f.ending||T(this,f,o)},Object.defineProperty(p.prototype,'destroyed',{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),p.prototype.destroy=r(d[7]).destroy,p.prototype._undestroy=r(d[7]).undestroy,p.prototype._destroy=function(t,n){this.end(),n(t)}},480,[481,474,475,482,473,477,479,483]);
__d(function(g,r,_i,a,m,e,d){'use strict';'undefined'==typeof process||!process.version||0===process.version.indexOf('v0.')||0===process.version.indexOf('v1.')&&0!==process.version.indexOf('v1.8.')?m.exports={nextTick:function(n,c,s,t){if('function'!=typeof n)throw new TypeError('"callback" argument must be a function');var o,i,u=arguments.length;switch(u){case 0:case 1:return process.nextTick(n);case 2:return process.nextTick(function(){n.call(null,c)});case 3:return process.nextTick(function(){n.call(null,c,s)});case 4:return process.nextTick(function(){n.call(null,c,s,t)});default:for(o=new Array(u-1),i=0;i<o.length;)o[i++]=arguments[i];return process.nextTick(function(){n.apply(null,o)})}}}:m.exports=process},481,[]);
__d(function(g,r,i,a,m,e,d){function t(t){try{if(!g.localStorage)return!1}catch(t){return!1}var n=g.localStorage[t];return null!=n&&'true'===String(n).toLowerCase()}m.exports=function(n,o){if(t('noDeprecation'))return n;var c=!1;return function(){if(!c){if(t('throwDeprecation'))throw new Error(o);t('traceDeprecation')?console.trace(o):console.warn(o),c=!0}return n.apply(this,arguments)}}},482,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,s){t.emit('error',s)}m.exports={destroy:function(s,h){var l=this,_=this._readableState&&this._readableState.destroyed,b=this._writableState&&this._writableState.destroyed;return _||b?(h?h(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r(d[0]).nextTick(t,this,s)):r(d[0]).nextTick(t,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(s){!h&&s?l._writableState?l._writableState.errorEmitted||(l._writableState.errorEmitted=!0,r(d[0]).nextTick(t,l,s)):r(d[0]).nextTick(t,l,s):h&&h(s)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},483,[481]);
__d(function(g,r,_i,a,m,e,d){'use strict';function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}m.exports=(function(){function n(){t(this,n),this.head=null,this.tail=null,this.length=0}return n.prototype.push=function(t){var n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},n.prototype.unshift=function(t){var n={data:t,next:this.head};0===this.length&&(this.tail=n),this.head=n,++this.length},n.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},n.prototype.clear=function(){this.head=this.tail=null,this.length=0},n.prototype.join=function(t){if(0===this.length)return'';for(var n=this.head,i=''+n.data;n=n.next;)i+=t+n.data;return i},n.prototype.concat=function(t){if(0===this.length)return r(d[0]).Buffer.alloc(0);for(var n,i,h,s=r(d[0]).Buffer.allocUnsafe(t>>>0),o=this.head,l=0;o;)n=o.data,i=s,h=l,n.copy(i,h),l+=o.data.length,o=o.next;return s},n})(),r(d[1])&&r(d[1]).inspect&&r(d[1]).inspect.custom&&(m.exports.prototype[r(d[1]).inspect.custom]=function(){var t=r(d[1]).inspect({length:this.length});return this.constructor.name+' '+t})},484,[473,476]);
__d(function(g,_r,_i,a,m,e,d){'use strict';var t=_r(d[0]).Buffer.isEncoding||function(t){switch((t=''+t)&&t.toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':case'raw':return!0;default:return!1}};function s(t){if(!t)return'utf8';for(var s;;)switch(t){case'utf8':case'utf-8':return'utf8';case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return'utf16le';case'latin1':case'binary':return'latin1';case'base64':case'ascii':case'hex':return t;default:if(s)return;t=(''+t).toLowerCase(),s=!0}}function i(i){var r=s(i);if('string'!=typeof r&&(_r(d[0]).Buffer.isEncoding===t||!t(i)))throw new Error('Unknown encoding: '+i);return r||i}function r(t){var s;switch(this.encoding=i(t),this.encoding){case'utf16le':this.text=o,this.end=c,s=4;break;case'utf8':this.fillLast=u,s=4;break;case'base64':this.text=f,this.end=N,s=3;break;default:return this.write=v,void(this.end=C)}this.lastNeed=0,this.lastTotal=0,this.lastChar=_r(d[0]).Buffer.allocUnsafe(s)}function n(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function h(t,s,i){var r=s.length-1;if(r<i)return 0;var h=n(s[r]);return h>=0?(h>0&&(t.lastNeed=h-1),h):--r<i||-2===h?0:(h=n(s[r]))>=0?(h>0&&(t.lastNeed=h-2),h):--r<i||-2===h?0:(h=n(s[r]))>=0?(h>0&&(2===h?h=0:t.lastNeed=h-3),h):0}function l(t,s,i){if(128!=(192&s[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&s.length>1){if(128!=(192&s[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&s.length>2&&128!=(192&s[2]))return t.lastNeed=2,"\ufffd"}}function u(t){var s=this.lastTotal-this.lastNeed,i=l(this,t);return void 0!==i?i:this.lastNeed<=t.length?(t.copy(this.lastChar,s,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,s,0,t.length),void(this.lastNeed-=t.length))}function o(t,s){if((t.length-s)%2==0){var i=t.toString('utf16le',s);if(i){var r=i.charCodeAt(i.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString('utf16le',s,t.length-1)}function c(t){var s=t&&t.length?this.write(t):'';if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return s+this.lastChar.toString('utf16le',0,i)}return s}function f(t,s){var i=(t.length-s)%3;return 0===i?t.toString('base64',s):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString('base64',s,t.length-i))}function N(t){var s=t&&t.length?this.write(t):'';return this.lastNeed?s+this.lastChar.toString('base64',0,3-this.lastNeed):s}function v(t){return t.toString(this.encoding)}function C(t){return t&&t.length?this.write(t):''}e.StringDecoder=r,r.prototype.write=function(t){if(0===t.length)return'';var s,i;if(this.lastNeed){if(void 0===(s=this.fillLast(t)))return'';i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?s?s+this.text(t,i):this.text(t,i):s||''},r.prototype.end=function(t){var s=t&&t.length?this.write(t):'';return this.lastNeed?s+"\ufffd":s},r.prototype.text=function(t,s){var i=h(this,t,s);if(!this.lastNeed)return t.toString('utf8',s);this.lastTotal=i;var r=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString('utf8',s,r)},r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},485,[473]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=o;var t=Object.create(r(d[0]));function n(t,n){var o=this._transformState;o.transforming=!1;var s=o.writecb;if(!s)return this.emit('error',new Error('write callback called multiple times'));o.writechunk=null,o.writecb=null,null!=n&&this.push(n),s(t);var h=this._readableState;h.reading=!1,(h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);r(d[2]).call(this,t),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&('function'==typeof t.transform&&(this._transform=t.transform),'function'==typeof t.flush&&(this._flush=t.flush)),this.on('prefinish',s)}function s(){var t=this;'function'==typeof this._flush?this._flush(function(n,o){h(t,n,o)}):h(this,null,null)}function h(t,n,o){if(n)return t.emit('error',n);if(null!=o&&t.push(o),t._writableState.length)throw new Error('Calling transform done when ws.length != 0');if(t._transformState.transforming)throw new Error('Calling transform done when still transforming');return t.push(null)}t.inherits=r(d[1]),t.inherits(o,r(d[2])),o.prototype.push=function(t,n){return this._transformState.needTransform=!1,r(d[2]).prototype.push.call(this,t,n)},o.prototype._transform=function(t,n,o){throw new Error('_transform() is not implemented')},o.prototype._write=function(t,n,o){var s=this._transformState;if(s.writecb=o,s.writechunk=t,s.writeencoding=n,!s.transforming){var h=this._readableState;(s.needTransform||h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}},o.prototype._read=function(t){var n=this._transformState;null!==n.writechunk&&n.writecb&&!n.transforming?(n.transforming=!0,this._transform(n.writechunk,n.writeencoding,n.afterTransform)):n.needTransform=!0},o.prototype._destroy=function(t,n){var o=this;r(d[2]).prototype._destroy.call(this,t,function(t){n(t),o.emit('close')})}},486,[474,475,479]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=n;var t=Object.create(r(d[0]));function n(t){if(!(this instanceof n))return new n(t);r(d[2]).call(this,t)}t.inherits=r(d[1]),t.inherits(n,r(d[2])),n.prototype._transform=function(t,n,s){s(null,t)}},487,[474,475,486]);
__d(function(g,r,i,a,m,e,d){function f(f,n){for(var u in f)n[u]=f[u]}function n(f,n,u){return r(d[0]).Buffer(f,n,u)}r(d[0]).Buffer.from&&r(d[0]).Buffer.alloc&&r(d[0]).Buffer.allocUnsafe&&r(d[0]).Buffer.allocUnsafeSlow?m.exports=r(d[0]):(f(r(d[0]),e),e.Buffer=n),n.prototype=Object.create(r(d[0]).Buffer.prototype),f(r(d[0]).Buffer,n),n.from=function(f,n,u){if('number'==typeof f)throw new TypeError('Argument must not be a number');return r(d[0]).Buffer(f,n,u)},n.alloc=function(f,n,u){if('number'!=typeof f)throw new TypeError('Argument must be a number');var o=r(d[0]).Buffer(f);return void 0!==n?'string'==typeof u?o.fill(n,u):o.fill(n):o.fill(0),o},n.allocUnsafe=function(f){if('number'!=typeof f)throw new TypeError('Argument must be a number');return r(d[0]).Buffer(f)},n.allocUnsafeSlow=function(f){if('number'!=typeof f)throw new TypeError('Argument must be a number');return r(d[0]).SlowBuffer(f)}},488,[381]);
__d(function(g,_r,_i,a,m,e,d){'use strict';var t=_r(d[0]).Buffer.isEncoding||function(t){switch((t=''+t)&&t.toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':case'raw':return!0;default:return!1}};function s(t){if(!t)return'utf8';for(var s;;)switch(t){case'utf8':case'utf-8':return'utf8';case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return'utf16le';case'latin1':case'binary':return'latin1';case'base64':case'ascii':case'hex':return t;default:if(s)return;t=(''+t).toLowerCase(),s=!0}}function i(i){var r=s(i);if('string'!=typeof r&&(_r(d[0]).Buffer.isEncoding===t||!t(i)))throw new Error('Unknown encoding: '+i);return r||i}function r(t){var s;switch(this.encoding=i(t),this.encoding){case'utf16le':this.text=o,this.end=c,s=4;break;case'utf8':this.fillLast=u,s=4;break;case'base64':this.text=f,this.end=N,s=3;break;default:return this.write=v,void(this.end=C)}this.lastNeed=0,this.lastTotal=0,this.lastChar=_r(d[0]).Buffer.allocUnsafe(s)}function n(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function h(t,s,i){var r=s.length-1;if(r<i)return 0;var h=n(s[r]);return h>=0?(h>0&&(t.lastNeed=h-1),h):--r<i||-2===h?0:(h=n(s[r]))>=0?(h>0&&(t.lastNeed=h-2),h):--r<i||-2===h?0:(h=n(s[r]))>=0?(h>0&&(2===h?h=0:t.lastNeed=h-3),h):0}function l(t,s,i){if(128!=(192&s[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&s.length>1){if(128!=(192&s[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&s.length>2&&128!=(192&s[2]))return t.lastNeed=2,"\ufffd"}}function u(t){var s=this.lastTotal-this.lastNeed,i=l(this,t);return void 0!==i?i:this.lastNeed<=t.length?(t.copy(this.lastChar,s,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,s,0,t.length),void(this.lastNeed-=t.length))}function o(t,s){if((t.length-s)%2==0){var i=t.toString('utf16le',s);if(i){var r=i.charCodeAt(i.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString('utf16le',s,t.length-1)}function c(t){var s=t&&t.length?this.write(t):'';if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return s+this.lastChar.toString('utf16le',0,i)}return s}function f(t,s){var i=(t.length-s)%3;return 0===i?t.toString('base64',s):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString('base64',s,t.length-i))}function N(t){var s=t&&t.length?this.write(t):'';return this.lastNeed?s+this.lastChar.toString('base64',0,3-this.lastNeed):s}function v(t){return t.toString(this.encoding)}function C(t){return t&&t.length?this.write(t):''}e.StringDecoder=r,r.prototype.write=function(t){if(0===t.length)return'';var s,i;if(this.lastNeed){if(void 0===(s=this.fillLast(t)))return'';i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?s?s+this.text(t,i):this.text(t,i):s||''},r.prototype.end=function(t){var s=t&&t.length?this.write(t):'';return this.lastNeed?s+"\ufffd":s},r.prototype.text=function(t,s){var i=h(this,t,s);if(!this.lastNeed)return t.toString('utf8',s);this.lastTotal=i;var r=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString('utf8',s,r)},r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},489,[488]);
__d(function(g,r,_i,_a,_m,e,_d){'use strict';var t=new Array(16);function i(){r(_d[0]).call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function s(t,i){return t<<i|t>>>32-i}function _(t,i,_,h,n,c,o){return s(t+(i&_|~i&h)+n+c|0,o)+i|0}function h(t,i,_,h,n,c,o){return s(t+(i&h|_&~h)+n+c|0,o)+i|0}function n(t,i,_,h,n,c,o){return s(t+(i^_^h)+n+c|0,o)+i|0}function c(t,i,_,h,n,c,o){return s(t+(_^(i|~h))+n+c|0,o)+i|0}r(_d[1])(i,r(_d[0])),i.prototype._update=function(){for(var i=t,s=0;s<16;++s)i[s]=this._block.readInt32LE(4*s);var o=this._a,f=this._b,l=this._c,u=this._d;f=c(f=c(f=c(f=c(f=n(f=n(f=n(f=n(f=h(f=h(f=h(f=h(f=_(f=_(f=_(f=_(f,l=_(l,u=_(u,o=_(o,f,l,u,i[0],3614090360,7),f,l,i[1],3905402710,12),o,f,i[2],606105819,17),u,o,i[3],3250441966,22),l=_(l,u=_(u,o=_(o,f,l,u,i[4],4118548399,7),f,l,i[5],1200080426,12),o,f,i[6],2821735955,17),u,o,i[7],4249261313,22),l=_(l,u=_(u,o=_(o,f,l,u,i[8],1770035416,7),f,l,i[9],2336552879,12),o,f,i[10],4294925233,17),u,o,i[11],2304563134,22),l=_(l,u=_(u,o=_(o,f,l,u,i[12],1804603682,7),f,l,i[13],4254626195,12),o,f,i[14],2792965006,17),u,o,i[15],1236535329,22),l=h(l,u=h(u,o=h(o,f,l,u,i[1],4129170786,5),f,l,i[6],3225465664,9),o,f,i[11],643717713,14),u,o,i[0],3921069994,20),l=h(l,u=h(u,o=h(o,f,l,u,i[5],3593408605,5),f,l,i[10],38016083,9),o,f,i[15],3634488961,14),u,o,i[4],3889429448,20),l=h(l,u=h(u,o=h(o,f,l,u,i[9],568446438,5),f,l,i[14],3275163606,9),o,f,i[3],4107603335,14),u,o,i[8],1163531501,20),l=h(l,u=h(u,o=h(o,f,l,u,i[13],2850285829,5),f,l,i[2],4243563512,9),o,f,i[7],1735328473,14),u,o,i[12],2368359562,20),l=n(l,u=n(u,o=n(o,f,l,u,i[5],4294588738,4),f,l,i[8],2272392833,11),o,f,i[11],1839030562,16),u,o,i[14],4259657740,23),l=n(l,u=n(u,o=n(o,f,l,u,i[1],2763975236,4),f,l,i[4],1272893353,11),o,f,i[7],4139469664,16),u,o,i[10],3200236656,23),l=n(l,u=n(u,o=n(o,f,l,u,i[13],681279174,4),f,l,i[0],3936430074,11),o,f,i[3],3572445317,16),u,o,i[6],76029189,23),l=n(l,u=n(u,o=n(o,f,l,u,i[9],3654602809,4),f,l,i[12],3873151461,11),o,f,i[15],530742520,16),u,o,i[2],3299628645,23),l=c(l,u=c(u,o=c(o,f,l,u,i[0],4096336452,6),f,l,i[7],1126891415,10),o,f,i[14],2878612391,15),u,o,i[5],4237533241,21),l=c(l,u=c(u,o=c(o,f,l,u,i[12],1700485571,6),f,l,i[3],2399980690,10),o,f,i[10],4293915773,15),u,o,i[1],2240044497,21),l=c(l,u=c(u,o=c(o,f,l,u,i[8],1873313359,6),f,l,i[15],4264355552,10),o,f,i[6],2734768916,15),u,o,i[13],1309151649,21),l=c(l,u=c(u,o=c(o,f,l,u,i[4],4149444226,6),f,l,i[11],3174756917,10),o,f,i[2],718787259,15),u,o,i[9],3951481745,21),this._a=this._a+o|0,this._b=this._b+f|0,this._c=this._c+l|0,this._d=this._d+u|0},i.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=r(_d[2]).Buffer.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},_m.exports=i},490,[491,475,488]);
__d(function(g,r,_i,a,m,e,d){'use strict';function t(t){r(d[0]).Transform.call(this),this._block=r(d[1]).Buffer.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(d[2])(t,r(d[0]).Transform),t.prototype._transform=function(t,f,i){var n=null;try{this.update(t,f)}catch(t){n=t}i(n)},t.prototype._flush=function(t){var f=null;try{this.push(this.digest())}catch(t){f=t}t(f)};var f='undefined'!=typeof Uint8Array,i='undefined'!=typeof ArrayBuffer&&'undefined'!=typeof Uint8Array&&ArrayBuffer.isView&&(r(d[1]).Buffer.prototype instanceof Uint8Array||r(d[1]).Buffer.TYPED_ARRAY_SUPPORT);function n(t,n){if(t instanceof r(d[1]).Buffer)return t;if('string'==typeof t)return r(d[1]).Buffer.from(t,n);if(i&&ArrayBuffer.isView(t)){if(0===t.byteLength)return r(d[1]).Buffer.alloc(0);var o=r(d[1]).Buffer.from(t.buffer,t.byteOffset,t.byteLength);if(o.byteLength===t.byteLength)return o}if(f&&t instanceof Uint8Array)return r(d[1]).Buffer.from(t);if(r(d[1]).Buffer.isBuffer(t)&&t.constructor&&'function'==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))return r(d[1]).Buffer.from(t);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}t.prototype.update=function(t,f){if(this._finalized)throw new Error('Digest already called');t=n(t,f);for(var i=this._block,o=0;this._blockOffset+t.length-o>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)i[s++]=t[o++];this._update(),this._blockOffset=0}for(;o<t.length;)i[this._blockOffset++]=t[o++];for(var u=0,h=8*t.length;h>0;++u)this._length[u]+=h,(h=this._length[u]/4294967296|0)>0&&(this._length[u]-=4294967296*h);return this},t.prototype._update=function(){throw new Error('_update is not implemented')},t.prototype.digest=function(t){if(this._finalized)throw new Error('Digest already called');this._finalized=!0;var f=this._digest();void 0!==t&&(f=f.toString(t)),this._block.fill(0),this._blockOffset=0;for(var i=0;i<4;++i)this._length[i]=0;return f},t.prototype._digest=function(){throw new Error('_digest is not implemented')},m.exports=t},491,[471,488,475]);
__d(function(g,r,_i,_a,_m,_e,_d){'use strict';var t=new Array(16),i=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],s=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],_=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],e=[0,1518500249,1859775393,2400959708,2840853838],n=[1352829926,1548603684,1836072691,2053994217,0];function c(){r(_d[0]).call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function f(t,i){return t<<i|t>>>32-i}function o(t,i,s,_,h,e,n,c){return f(t+(i^s^_)+e+n|0,c)+h|0}function u(t,i,s,_,h,e,n,c){return f(t+(i&s|~i&_)+e+n|0,c)+h|0}function l(t,i,s,_,h,e,n,c){return f(t+((i|~s)^_)+e+n|0,c)+h|0}function a(t,i,s,_,h,e,n,c){return f(t+(i&_|s&~_)+e+n|0,c)+h|0}function b(t,i,s,_,h,e,n,c){return f(t+(i^(s|~_))+e+n|0,c)+h|0}r(_d[1])(c,r(_d[0])),c.prototype._update=function(){for(var c=t,d=0;d<16;++d)c[d]=this._block.readInt32LE(4*d);for(var k=0|this._a,w=0|this._b,p=0|this._c,E=0|this._d,I=0|this._e,L=0|this._a,v=0|this._b,O=0|this._c,y=0|this._d,B=0|this._e,U=0;U<80;U+=1){var x,A;U<16?(x=o(k,w,p,E,I,c[i[U]],e[0],_[U]),A=b(L,v,O,y,B,c[s[U]],n[0],h[U])):U<32?(x=u(k,w,p,E,I,c[i[U]],e[1],_[U]),A=a(L,v,O,y,B,c[s[U]],n[1],h[U])):U<48?(x=l(k,w,p,E,I,c[i[U]],e[2],_[U]),A=l(L,v,O,y,B,c[s[U]],n[2],h[U])):U<64?(x=a(k,w,p,E,I,c[i[U]],e[3],_[U]),A=u(L,v,O,y,B,c[s[U]],n[3],h[U])):(x=b(k,w,p,E,I,c[i[U]],e[4],_[U]),A=o(L,v,O,y,B,c[s[U]],n[4],h[U])),k=I,I=E,E=f(p,10),p=w,w=x,L=B,B=y,y=f(O,10),O=v,v=A}var j=this._b+p+y|0;this._b=this._c+E+B|0,this._c=this._d+I+L|0,this._d=this._e+k+v|0,this._e=this._a+w+O|0,this._a=j},c.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=r(_d[2]).Buffer.alloc?r(_d[2]).Buffer.alloc(20):new(r(_d[2]).Buffer)(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},_m.exports=c},492,[491,475,381]);
__d(function(g,r,i,a,m,e,d){(e=m.exports=function(s){s=s.toLowerCase();var t=e[s];if(!t)throw new Error(s+' is not supported (we accept pull requests)');return new t}).sha=r(d[0]),e.sha1=r(d[1]),e.sha224=r(d[2]),e.sha256=r(d[3]),e.sha384=r(d[4]),e.sha512=r(d[5])},493,[494,496,497,498,499,500]);
__d(function(g,r,_i,_a,m,_e,_d){var t=[1518500249,1859775393,-1894007588,-899497514],i=new Array(80);function s(){this.init(),this._w=i,r(_d[0]).call(this,64,56)}function h(t){return t<<30|t>>>2}function _(t,i,s,h){return 0===t?i&s|~i&h:2===t?i&s|i&h|s&h:i^s^h}r(_d[1])(s,r(_d[0])),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},s.prototype._update=function(i){for(var s,n=this._w,e=0|this._a,o=0|this._b,a=0|this._c,c=0|this._d,f=0|this._e,u=0;u<16;++u)n[u]=i.readInt32BE(4*u);for(;u<80;++u)n[u]=n[u-3]^n[u-8]^n[u-14]^n[u-16];for(var d=0;d<80;++d){var p=~~(d/20),w=0|((s=e)<<5|s>>>27)+_(p,o,a,c)+f+n[d]+t[p];f=c,c=a,a=h(o),o=e,e=w}this._a=e+this._a|0,this._b=o+this._b|0,this._c=a+this._c|0,this._d=c+this._d|0,this._e=f+this._e|0},s.prototype._hash=function(){var t=r(_d[2]).Buffer.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},m.exports=s},494,[495,475,488]);
__d(function(g,r,_i,a,m,e,d){function t(t,i){this._block=r(d[0]).Buffer.alloc(t),this._finalSize=i,this._blockSize=t,this._len=0}t.prototype.update=function(t,i){'string'==typeof t&&(i=i||'utf8',t=r(d[0]).Buffer.from(t,i));for(var s=this._block,o=this._blockSize,h=t.length,l=this._len,_=0;_<h;){for(var n=l%o,c=Math.min(h-_,o-n),b=0;b<c;b++)s[n+b]=t[_+b];_+=c,(l+=c)%o==0&&this._update(s)}return this._len+=h,this},t.prototype.digest=function(t){var i=this._len%this._blockSize;this._block[i]=128,this._block.fill(0,i+1),i>=this._finalSize&&(this._update(this._block),this._block.fill(0));var s=8*this._len;if(s<=4294967295)this._block.writeUInt32BE(s,this._blockSize-4);else{var o=(4294967295&s)>>>0,h=(s-o)/4294967296;this._block.writeUInt32BE(h,this._blockSize-8),this._block.writeUInt32BE(o,this._blockSize-4)}this._update(this._block);var l=this._hash();return t?l.toString(t):l},t.prototype._update=function(){throw new Error('_update must be implemented by subclass')},m.exports=t},495,[488]);
__d(function(g,r,_i,_a,m,_e,_d){var t=[1518500249,1859775393,-1894007588,-899497514],i=new Array(80);function s(){this.init(),this._w=i,r(_d[0]).call(this,64,56)}function h(t){return t<<5|t>>>27}function n(t){return t<<30|t>>>2}function _(t,i,s,h){return 0===t?i&s|~i&h:2===t?i&s|i&h|s&h:i^s^h}r(_d[1])(s,r(_d[0])),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},s.prototype._update=function(i){for(var s,e=this._w,o=0|this._a,a=0|this._b,c=0|this._c,u=0|this._d,f=0|this._e,d=0;d<16;++d)e[d]=i.readInt32BE(4*d);for(;d<80;++d)e[d]=(s=e[d-3]^e[d-8]^e[d-14]^e[d-16])<<1|s>>>31;for(var p=0;p<80;++p){var w=~~(p/20),B=h(o)+_(w,a,c,u)+f+e[p]+t[w]|0;f=u,u=c,c=n(a),a=o,o=B}this._a=o+this._a|0,this._b=a+this._b|0,this._c=c+this._c|0,this._d=u+this._d|0,this._e=f+this._e|0},s.prototype._hash=function(){var t=r(_d[2]).Buffer.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},m.exports=s},496,[495,475,488]);
__d(function(g,r,i,a,m,e,d){var t=new Array(64);function h(){this.init(),this._w=t,r(d[0]).call(this,64,56)}r(d[1])(h,r(d[2])),h.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},h.prototype._hash=function(){var t=r(d[3]).Buffer.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},m.exports=h},497,[495,475,498,488]);
__d(function(_g,r,_i,_a,m,_e,_d){var t=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=new Array(64);function h(){this.init(),this._w=i,r(_d[0]).call(this,64,56)}function s(t,i,h){return h^t&(i^h)}function _(t,i,h){return t&i|h&(t|i)}function n(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function e(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function f(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}r(_d[1])(h,r(_d[0])),h.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},h.prototype._update=function(i){for(var h,o=this._w,u=0|this._a,a=0|this._b,c=0|this._c,w=0|this._d,B=0|this._e,E=0|this._f,I=0|this._g,d=0|this._h,p=0;p<16;++p)o[p]=i.readInt32BE(4*p);for(;p<64;++p)o[p]=0|(((h=o[p-2])>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)+o[p-7]+f(o[p-15])+o[p-16];for(var b=0;b<64;++b){var g=d+e(B)+s(B,E,I)+t[b]+o[b]|0,v=n(u)+_(u,a,c)|0;d=I,I=E,E=B,B=w+g|0,w=c,c=a,a=u,u=g+v|0}this._a=u+this._a|0,this._b=a+this._b|0,this._c=c+this._c|0,this._d=w+this._d|0,this._e=B+this._e|0,this._f=E+this._f|0,this._g=I+this._g|0,this._h=d+this._h|0},h.prototype._hash=function(){var t=r(_d[2]).Buffer.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},m.exports=h},498,[495,475,488]);
__d(function(g,r,i,a,m,e,d){var h=new Array(160);function t(){this.init(),this._w=h,r(d[0]).call(this,128,112)}r(d[1])(t,r(d[2])),t.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},t.prototype._hash=function(){var h=r(d[3]).Buffer.allocUnsafe(48);function t(t,s,_){h.writeInt32BE(t,_),h.writeInt32BE(s,_+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),h},m.exports=t},499,[495,475,500,488]);
__d(function(g,r,_i,_a,m,e,d){var h=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],t=new Array(160);function i(){this.init(),this._w=t,r(d[0]).call(this,128,112)}function s(h,t,i){return i^h&(t^i)}function _(h,t,i){return h&t|i&(h|t)}function l(h,t){return(h>>>28|t<<4)^(t>>>2|h<<30)^(t>>>7|h<<25)}function n(h,t){return(h>>>14|t<<18)^(h>>>18|t<<14)^(t>>>9|h<<23)}function f(h,t){return(h>>>1|t<<31)^(h>>>8|t<<24)^h>>>7}function c(h,t){return(h>>>1|t<<31)^(h>>>8|t<<24)^(h>>>7|t<<25)}function u(h,t){return(h>>>19|t<<13)^(t>>>29|h<<3)^h>>>6}function a(h,t){return(h>>>19|t<<13)^(t>>>29|h<<3)^(h>>>6|t<<26)}function o(h,t){return h>>>0<t>>>0?1:0}r(d[1])(i,r(d[0])),i.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},i.prototype._update=function(t){for(var i=this._w,b=0|this._ah,p=0|this._bh,v=0|this._ch,w=0|this._dh,B=0|this._eh,y=0|this._fh,E=0|this._gh,I=0|this._hh,x=0|this._al,A=0|this._bl,U=0|this._cl,j=0|this._dl,k=0|this._el,q=0|this._fl,z=0|this._gl,C=0|this._hl,D=0;D<32;D+=2)i[D]=t.readInt32BE(4*D),i[D+1]=t.readInt32BE(4*D+4);for(;D<160;D+=2){var F=i[D-30],G=i[D-30+1],H=f(F,G),J=c(G,F),K=u(F=i[D-4],G=i[D-4+1]),L=a(G,F),M=i[D-14],N=i[D-14+1],O=i[D-32],P=i[D-32+1],Q=J+N|0,R=H+M+o(Q,J)|0;R=(R=R+K+o(Q=Q+L|0,L)|0)+O+o(Q=Q+P|0,P)|0,i[D]=R,i[D+1]=Q}for(var S=0;S<160;S+=2){R=i[S],Q=i[S+1];var T=_(b,p,v),V=_(x,A,U),W=l(b,x),X=l(x,b),Y=n(B,k),Z=n(k,B),$=h[S],hh=h[S+1],th=s(B,y,E),ih=s(k,q,z),sh=C+Z|0,_h=I+Y+o(sh,C)|0;_h=(_h=(_h=_h+th+o(sh=sh+ih|0,ih)|0)+$+o(sh=sh+hh|0,hh)|0)+R+o(sh=sh+Q|0,Q)|0;var lh=X+V|0,nh=W+T+o(lh,X)|0;I=E,C=z,E=y,z=q,y=B,q=k,B=w+_h+o(k=j+sh|0,j)|0,w=v,j=U,v=p,U=A,p=b,A=x,b=_h+nh+o(x=sh+lh|0,sh)|0}this._al=this._al+x|0,this._bl=this._bl+A|0,this._cl=this._cl+U|0,this._dl=this._dl+j|0,this._el=this._el+k|0,this._fl=this._fl+q|0,this._gl=this._gl+z|0,this._hl=this._hl+C|0,this._ah=this._ah+b+o(this._al,x)|0,this._bh=this._bh+p+o(this._bl,A)|0,this._ch=this._ch+v+o(this._cl,U)|0,this._dh=this._dh+w+o(this._dl,j)|0,this._eh=this._eh+B+o(this._el,k)|0,this._fh=this._fh+y+o(this._fl,q)|0,this._gh=this._gh+E+o(this._gl,z)|0,this._hh=this._hh+I+o(this._hl,C)|0},i.prototype._hash=function(){var h=r(d[2]).Buffer.allocUnsafe(64);function t(t,i,s){h.writeInt32BE(t,s),h.writeInt32BE(i,s+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),h},m.exports=i},500,[495,475,488]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=r(d[0]).Buffer.alloc(128);function s(s,i){r(d[1]).call(this,'digest'),'string'==typeof i&&(i=r(d[0]).Buffer.from(i));var n='sha512'===s||'sha384'===s?128:64;(this._alg=s,this._key=i,i.length>n)?i=('rmd160'===s?new(r(d[2])):r(d[3])(s)).update(i).digest():i.length<n&&(i=r(d[0]).Buffer.concat([i,t],n));for(var h=this._ipad=r(d[0]).Buffer.allocUnsafe(n),f=this._opad=r(d[0]).Buffer.allocUnsafe(n),o=0;o<n;o++)h[o]=54^i[o],f[o]=92^i[o];this._hash='rmd160'===s?new(r(d[2])):r(d[3])(s),this._hash.update(h)}r(d[4])(s,r(d[1])),s.prototype._update=function(t){this._hash.update(t)},s.prototype._final=function(){var t=this._hash.digest();return('rmd160'===this._alg?new(r(d[2])):r(d[3])(this._alg)).update(this._opad).update(t).digest()},m.exports=function(t,i){return'rmd160'===(t=t.toLowerCase())||'ripemd160'===t?new s('rmd160',i):'md5'===t?new(r(d[5]))(r(d[6]),i):new s(t,i)}},501,[488,470,492,493,475,502,503]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=r(d[0]).Buffer.alloc(128),f=64;function s(s,h){r(d[1]).call(this,'digest'),'string'==typeof h&&(h=r(d[0]).Buffer.from(h)),this._alg=s,this._key=h,h.length>f?h=s(h):h.length<f&&(h=r(d[0]).Buffer.concat([h,t],f));for(var i=this._ipad=r(d[0]).Buffer.allocUnsafe(f),o=this._opad=r(d[0]).Buffer.allocUnsafe(f),n=0;n<f;n++)i[n]=54^h[n],o[n]=92^h[n];this._hash=[i]}r(d[2])(s,r(d[1])),s.prototype._update=function(t){this._hash.push(t)},s.prototype._final=function(){var t=this._alg(r(d[0]).Buffer.concat(this._hash));return this._alg(r(d[0]).Buffer.concat([this._opad,t]))},m.exports=s},502,[488,470,475]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n){return(new(r(d[0]))).update(n).digest()}},503,[490]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},504,[505]);
__d(function(s,a,h,i,d,n,A){d.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},505,[]);
__d(function(g,_r,_i,a,m,e,d){var f;if(e.pbkdf2=function(f,r,n,t,o,u){if('function'==typeof o&&(u=o,o=void 0),_r(d[0])(n,t),'function'!=typeof u)throw new Error('No callback provided to pbkdf2');setTimeout(function(){u(null,e.pbkdf2Sync(f,r,n,t,o))})},process.browser)f='utf-8';else{var r=parseInt(process.version.split('.')[0].slice(1),10);f=r>=6?'utf-8':'binary'}e.pbkdf2Sync=function(r,n,t,o,u){var i;Buffer.isBuffer(r)||(r=new Buffer(r,f)),Buffer.isBuffer(n)||(n=new Buffer(n,f)),_r(d[0])(t,o),u=u||'sha1';var c,p,s=1,l=new Buffer(o),v=new Buffer(n.length+4);n.copy(v,0,0,n.length);for(var B=1;B<=s;B++){v.writeUInt32BE(B,n.length);var w=_r(d[1])(u,r).update(v).digest();i||(i=w.length,p=new Buffer(i),c=o-((s=Math.ceil(o/i))-1)*i),w.copy(p,0,0,i);for(var y=1;y<t;y++){w=_r(d[1])(u,r).update(w).digest();for(var b=0;b<i;b++)p[b]^=w[b]}var h=(B-1)*i,k=B===s?c:i;p.copy(l,h,0,k)}return l}},506,[507,501]);
__d(function(g,r,i,a,m,e,d){var n=Math.pow(2,30)-1;m.exports=function(o,t){if('number'!=typeof o)throw new TypeError('Iterations not a number');if(o<0)throw new TypeError('Bad iterations');if('number'!=typeof t)throw new TypeError('Key length not a number');if(t<0||t>n||t!=t)throw new TypeError('Bad key length')}},507,[]);
__d(function(g,r,i,a,m,e,d){function t(t,n,o){if(t=t.toLowerCase(),r(d[0])[t])return r(d[3]).createCipheriv(t,n,o);if(r(d[1])[t])return new(r(d[4]))({key:n,iv:o,mode:t});throw new TypeError('invalid suite type')}function n(t,n,o){if(t=t.toLowerCase(),r(d[0])[t])return r(d[3]).createDecipheriv(t,n,o);if(r(d[1])[t])return new(r(d[4]))({key:n,iv:o,mode:t,decrypt:!0});throw new TypeError('invalid suite type')}e.createCipher=e.Cipher=function(n,o){var p,v;if(n=n.toLowerCase(),r(d[0])[n])p=r(d[0])[n].key,v=r(d[0])[n].iv;else{if(!r(d[1])[n])throw new TypeError('invalid suite type');p=8*r(d[1])[n].key,v=r(d[1])[n].iv}var c=r(d[2])(o,!1,p,v);return t(n,c.key,c.iv)},e.createCipheriv=e.Cipheriv=t,e.createDecipher=e.Decipher=function(t,o){var p,v;if(t=t.toLowerCase(),r(d[0])[t])p=r(d[0])[t].key,v=r(d[0])[t].iv;else{if(!r(d[1])[t])throw new TypeError('invalid suite type');p=8*r(d[1])[t].key,v=r(d[1])[t].iv}var c=r(d[2])(o,!1,p,v);return n(t,c.key,c.iv)},e.createDecipheriv=e.Decipheriv=n,e.listCiphers=e.getCiphers=function(){return Object.keys(r(d[1])).concat(r(d[3]).getCiphers())}},508,[509,520,521,522,529]);
__d(function(g,r,i,a,m,e,d){var C={ECB:r(d[0]),CBC:r(d[1]),CFB:r(d[2]),CFB8:r(d[3]),CFB1:r(d[4]),OFB:r(d[5]),CTR:r(d[6]),GCM:r(d[6])};for(var B in r(d[7]))r(d[7])[B].module=C[r(d[7])[B].mode];m.exports=r(d[7])},509,[510,511,513,514,515,516,517,519]);
__d(function(g,r,i,a,m,e,d){e.encrypt=function(c,n){return c._cipher.encryptBlock(n)},e.decrypt=function(c,n){return c._cipher.decryptBlock(n)}},510,[]);
__d(function(g,r,i,a,m,e,d){e.encrypt=function(c,p){var n=r(d[0])(p,c._prev);return c._prev=c._cipher.encryptBlock(n),c._prev},e.decrypt=function(c,p){var n=c._prev;c._prev=p;var t=c._cipher.decryptBlock(p);return r(d[0])(t,n)}},511,[512]);
__d(function(g,r,_i,_a,m,e,d){m.exports=function(n,t){for(var f=Math.min(n.length,t.length),o=new Buffer(f),u=0;u<f;++u)o[u]=n[u]^t[u];return o}},512,[]);
__d(function(g,r,i,a,m,e,d){function c(c,n,f){var t=n.length,h=r(d[0])(n,c._cache);return c._cache=c._cache.slice(t),c._prev=r(d[1]).Buffer.concat([c._prev,f?n:h]),h}e.encrypt=function(n,f,t){for(var h,l=r(d[1]).Buffer.allocUnsafe(0);f.length;){if(0===n._cache.length&&(n._cache=n._cipher.encryptBlock(n._prev),n._prev=r(d[1]).Buffer.allocUnsafe(0)),!(n._cache.length<=f.length)){l=r(d[1]).Buffer.concat([l,c(n,f,t)]);break}h=n._cache.length,l=r(d[1]).Buffer.concat([l,c(n,f.slice(0,h),t)]),f=f.slice(h)}return l}},513,[512,488]);
__d(function(g,r,_i,a,m,e,d){function n(n,f,c){var t=n._cipher.encryptBlock(n._prev)[0]^f;return n._prev=r(d[0]).Buffer.concat([n._prev.slice(1),r(d[0]).Buffer.from([c?f:t])]),t}e.encrypt=function(f,c,t){for(var o=c.length,u=r(d[0]).Buffer.allocUnsafe(o),p=-1;++p<o;)u[p]=n(f,c[p],t);return u}},514,[488]);
__d(function(g,r,_i,a,m,e,d){function n(n,t,c){for(var o,u,l=-1,p=0;++l<8;)o=t&1<<7-l?128:0,p+=(128&(u=n._cipher.encryptBlock(n._prev)[0]^o))>>l%8,n._prev=f(n._prev,c?o:u);return p}function f(n,f){var t=n.length,c=-1,o=r(d[0]).Buffer.allocUnsafe(n.length);for(n=r(d[0]).Buffer.concat([n,r(d[0]).Buffer.from([f])]);++c<t;)o[c]=n[c]<<1|n[c+1]>>7;return o}e.encrypt=function(f,t,c){for(var o=t.length,u=r(d[0]).Buffer.allocUnsafe(o),l=-1;++l<o;)u[l]=n(f,t[l],c);return u}},515,[488]);
__d(function(g,r,i,a,m,e,d){function c(c){return c._prev=c._cipher.encryptBlock(c._prev),c._prev}e.encrypt=function(n,t){for(;n._cache.length<t.length;)n._cache=Buffer.concat([n._cache,c(n)]);var _=n._cache.slice(0,t.length);return n._cache=n._cache.slice(t.length),r(d[0])(t,_)}},516,[512]);
__d(function(g,r,_i,a,m,e,d){function c(c){var t=c._cipher.encryptBlockRaw(c._prev);return r(d[0])(c._prev),t}e.encrypt=function(t,n){var h=Math.ceil(n.length/16),_=t._cache.length;t._cache=r(d[1]).Buffer.concat([t._cache,r(d[1]).Buffer.allocUnsafe(16*h)]);for(var i=0;i<h;i++){var l=c(t),f=_+16*i;t._cache.writeUInt32BE(l[0],f+0),t._cache.writeUInt32BE(l[1],f+4),t._cache.writeUInt32BE(l[2],f+8),t._cache.writeUInt32BE(l[3],f+12)}var o=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),r(d[2])(n,o)}},517,[518,488,512]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t){for(var n,f=t.length;f--;){if(255!==(n=t.readUInt8(f))){n++,t.writeUInt8(n,f);break}t.writeUInt8(0,f)}}},518,[]);
__d(function(e,c,i,p,y,t,r){y.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},519,[]);
__d(function(g,r,i,a,m,e,d){e['des-ecb']={key:8,iv:0},e['des-cbc']=e.des={key:8,iv:8},e['des-ede3-cbc']=e.des3={key:24,iv:8},e['des-ede3']={key:24,iv:0},e['des-ede-cbc']={key:16,iv:8},e['des-ede']={key:16,iv:0}},520,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(f,t,n,l){if(r(d[0]).Buffer.isBuffer(f)||(f=r(d[0]).Buffer.from(f,'binary')),t&&(r(d[0]).Buffer.isBuffer(t)||(t=r(d[0]).Buffer.from(t,'binary')),8!==t.length))throw new RangeError('salt should be Buffer with 8 byte length');for(var u=n/8,o=r(d[0]).Buffer.alloc(u),h=r(d[0]).Buffer.alloc(l||0),B=r(d[0]).Buffer.alloc(0);u>0||l>0;){var c=new(r(d[1]));c.update(B),c.update(f),t&&c.update(t),B=c.digest();var p=0;if(u>0){var s=o.length-u;p=Math.min(u,B.length),B.copy(o,s,0,p),u-=p}if(p<B.length&&l>0){var v=h.length-l,y=Math.min(l,B.length-p);B.copy(h,v,p,p+y),l-=y}}return B.fill(0),{key:o,iv:h}}},521,[488,490]);
__d(function(g,r,i,a,m,e,d){e.createCipher=e.Cipher=r(d[1]).createCipher,e.createCipheriv=e.Cipheriv=r(d[1]).createCipheriv,e.createDecipher=e.Decipher=r(d[2]).createDecipher,e.createDecipheriv=e.Decipheriv=r(d[2]).createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(r(d[0]))}},522,[519,523,528]);
__d(function(g,r,_i,a,m,e,d){function t(t,i,o){r(d[0]).call(this),this._cache=new n,this._cipher=new(r(d[1]).AES)(i),this._prev=r(d[2]).Buffer.from(o),this._mode=t,this._autopadding=!0}r(d[3])(t,r(d[0])),t.prototype._update=function(t){var i,n;this._cache.add(t);for(var o=[];i=this._cache.get();)n=this._mode.encrypt(this,i),o.push(n);return r(d[2]).Buffer.concat(o)};var i=r(d[2]).Buffer.alloc(16,16);function n(){this.cache=r(d[2]).Buffer.allocUnsafe(0)}function o(i,n,o){var h=r(d[4])[i.toLowerCase()];if(!h)throw new TypeError('invalid suite type');if('string'==typeof n&&(n=r(d[2]).Buffer.from(n)),n.length!==h.key/8)throw new TypeError('invalid key length '+n.length);if('string'==typeof o&&(o=r(d[2]).Buffer.from(o)),'GCM'!==h.mode&&o.length!==h.iv)throw new TypeError('invalid iv length '+o.length);return'stream'===h.type?new(r(d[5]))(h.module,n,o):'auth'===h.type?new(r(d[6]))(h.module,n,o):new t(h.module,n,o)}t.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(i))throw this._cipher.scrub(),new Error('data not multiple of block length')},t.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},n.prototype.add=function(t){this.cache=r(d[2]).Buffer.concat([this.cache,t])},n.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},n.prototype.flush=function(){for(var t=16-this.cache.length,i=r(d[2]).Buffer.allocUnsafe(t),n=-1;++n<t;)i.writeUInt8(t,n);return r(d[2]).Buffer.concat([this.cache,i])},e.createCipheriv=o,e.createCipher=function(t,i){var n=r(d[4])[t.toLowerCase()];if(!n)throw new TypeError('invalid suite type');var h=r(d[7])(i,!1,n.key,n.iv);return o(t,h.key,h.iv)}},523,[470,524,488,475,509,525,526,521]);
__d(function(g,r,_i,a,m,e,_d){function t(t){r(_d[0]).Buffer.isBuffer(t)||(t=r(_d[0]).Buffer.from(t));for(var n=t.length/4|0,o=new Array(n),i=0;i<n;i++)o[i]=t.readUInt32BE(4*i);return o}function n(t){for(;0<t.length;t++)t[0]=0}function o(t,n,o,i,B){for(var S,f,u,_,c=o[0],y=o[1],I=o[2],s=o[3],X=t[0]^n[0],h=t[1]^n[1],l=t[2]^n[2],p=t[3]^n[3],U=4,v=1;v<B;v++)S=c[X>>>24]^y[h>>>16&255]^I[l>>>8&255]^s[255&p]^n[U++],f=c[h>>>24]^y[l>>>16&255]^I[p>>>8&255]^s[255&X]^n[U++],u=c[l>>>24]^y[p>>>16&255]^I[X>>>8&255]^s[255&h]^n[U++],_=c[p>>>24]^y[X>>>16&255]^I[h>>>8&255]^s[255&l]^n[U++],X=S,h=f,l=u,p=_;return S=(i[X>>>24]<<24|i[h>>>16&255]<<16|i[l>>>8&255]<<8|i[255&p])^n[U++],f=(i[h>>>24]<<24|i[l>>>16&255]<<16|i[p>>>8&255]<<8|i[255&X])^n[U++],u=(i[l>>>24]<<24|i[p>>>16&255]<<16|i[X>>>8&255]<<8|i[255&h])^n[U++],_=(i[p>>>24]<<24|i[X>>>16&255]<<16|i[h>>>8&255]<<8|i[255&l])^n[U++],[S>>>=0,f>>>=0,u>>>=0,_>>>=0]}var i=[0,1,2,4,8,16,32,64,128,27,54],B=(function(){for(var t=new Array(256),n=0;n<256;n++)t[n]=n<128?n<<1:n<<1^283;for(var o=[],i=[],B=[[],[],[],[]],S=[[],[],[],[]],f=0,u=0,_=0;_<256;++_){var c=u^u<<1^u<<2^u<<3^u<<4;c=c>>>8^255&c^99,o[f]=c,i[c]=f;var y=t[f],I=t[y],s=t[I],X=257*t[c]^16843008*c;B[0][f]=X<<24|X>>>8,B[1][f]=X<<16|X>>>16,B[2][f]=X<<8|X>>>24,B[3][f]=X,X=16843009*s^65537*I^257*y^16843008*f,S[0][c]=X<<24|X>>>8,S[1][c]=X<<16|X>>>16,S[2][c]=X<<8|X>>>24,S[3][c]=X,0===f?f=u=1:(f=y^t[t[t[s^y]]],u^=t[t[u]])}return{SBOX:o,INV_SBOX:i,SUB_MIX:B,INV_SUB_MIX:S}})();function S(n){this._key=t(n),this._reset()}S.blockSize=16,S.keySize=32,S.prototype.blockSize=S.blockSize,S.prototype.keySize=S.keySize,S.prototype._reset=function(){for(var t=this._key,n=t.length,o=n+6,S=4*(o+1),f=[],u=0;u<n;u++)f[u]=t[u];for(u=n;u<S;u++){var _=f[u-1];u%n==0?(_=_<<8|_>>>24,_=B.SBOX[_>>>24]<<24|B.SBOX[_>>>16&255]<<16|B.SBOX[_>>>8&255]<<8|B.SBOX[255&_],_^=i[u/n|0]<<24):n>6&&u%n==4&&(_=B.SBOX[_>>>24]<<24|B.SBOX[_>>>16&255]<<16|B.SBOX[_>>>8&255]<<8|B.SBOX[255&_]),f[u]=f[u-n]^_}for(var c=[],y=0;y<S;y++){var I=S-y,s=f[I-(y%4?0:4)];c[y]=y<4||I<=4?s:B.INV_SUB_MIX[0][B.SBOX[s>>>24]]^B.INV_SUB_MIX[1][B.SBOX[s>>>16&255]]^B.INV_SUB_MIX[2][B.SBOX[s>>>8&255]]^B.INV_SUB_MIX[3][B.SBOX[255&s]]}this._nRounds=o,this._keySchedule=f,this._invKeySchedule=c},S.prototype.encryptBlockRaw=function(n){return o(n=t(n),this._keySchedule,B.SUB_MIX,B.SBOX,this._nRounds)},S.prototype.encryptBlock=function(t){var n=this.encryptBlockRaw(t),o=r(_d[0]).Buffer.allocUnsafe(16);return o.writeUInt32BE(n[0],0),o.writeUInt32BE(n[1],4),o.writeUInt32BE(n[2],8),o.writeUInt32BE(n[3],12),o},S.prototype.decryptBlock=function(n){var i=(n=t(n))[1];n[1]=n[3],n[3]=i;var S=o(n,this._invKeySchedule,B.INV_SUB_MIX,B.INV_SBOX,this._nRounds),f=r(_d[0]).Buffer.allocUnsafe(16);return f.writeUInt32BE(S[0],0),f.writeUInt32BE(S[3],4),f.writeUInt32BE(S[2],8),f.writeUInt32BE(S[1],12),f},S.prototype.scrub=function(){n(this._keySchedule),n(this._invKeySchedule),n(this._key)},m.exports.AES=S},524,[488]);
__d(function(g,r,i,a,m,e,d){function t(t,c,s,h){r(d[0]).call(this),this._cipher=new(r(d[1]).AES)(c),this._prev=r(d[2]).Buffer.from(s),this._cache=r(d[2]).Buffer.allocUnsafe(0),this._secCache=r(d[2]).Buffer.allocUnsafe(0),this._decrypt=h,this._mode=t}r(d[3])(t,r(d[0])),t.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},t.prototype._final=function(){this._cipher.scrub()},m.exports=t},525,[470,524,488,475]);
__d(function(g,r,_i,_a,m,e,d){function t(t,h){var a=0;t.length!==h.length&&a++;for(var i=Math.min(t.length,h.length),n=0;n<i;++n)a+=t[n]^h[n];return a}function h(t,h,a){if(12===h.length)return t._finID=r(d[0]).Buffer.concat([h,r(d[0]).Buffer.from([0,0,0,1])]),r(d[0]).Buffer.concat([h,r(d[0]).Buffer.from([0,0,0,2])]);var i=new(r(d[1]))(a),n=h.length,s=n%16;i.update(h),s&&(s=16-s,i.update(r(d[0]).Buffer.alloc(s,0))),i.update(r(d[0]).Buffer.alloc(8,0));var u=8*n,o=r(d[0]).Buffer.alloc(8);o.writeUIntBE(u,0,8),i.update(o),t._finID=i.state;var f=r(d[0]).Buffer.from(t._finID);return r(d[2])(f),f}function a(t,a,i,n){r(d[3]).call(this);var s=r(d[0]).Buffer.alloc(4,0);this._cipher=new(r(d[4]).AES)(a);var u=this._cipher.encryptBlock(s);this._ghash=new(r(d[1]))(u),i=h(this,i,u),this._prev=r(d[0]).Buffer.from(i),this._cache=r(d[0]).Buffer.allocUnsafe(0),this._secCache=r(d[0]).Buffer.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}r(d[5])(a,r(d[3])),a.prototype._update=function(t){if(!this._called&&this._alen){var h=16-this._alen%16;h<16&&(h=r(d[0]).Buffer.alloc(h,0),this._ghash.update(h))}this._called=!0;var a=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(a),this._len+=t.length,a},a.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error('Unsupported state or unable to authenticate data');var h=r(d[6])(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&t(h,this._authTag))throw new Error('Unsupported state or unable to authenticate data');this._authTag=h,this._cipher.scrub()},a.prototype.getAuthTag=function(){if(this._decrypt||!r(d[0]).Buffer.isBuffer(this._authTag))throw new Error('Attempting to get auth tag in unsupported state');return this._authTag},a.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error('Attempting to set auth tag in unsupported state');this._authTag=t},a.prototype.setAAD=function(t){if(this._called)throw new Error('Attempting to set AAD in unsupported state');this._ghash.update(t),this._alen+=t.length},m.exports=a},526,[488,527,518,470,524,475,512]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]).Buffer.alloc(16,0);function h(t){var h=r(d[0]).Buffer.allocUnsafe(16);return h.writeUInt32BE(t[0]>>>0,0),h.writeUInt32BE(t[1]>>>0,4),h.writeUInt32BE(t[2]>>>0,8),h.writeUInt32BE(t[3]>>>0,12),h}function i(t){this.h=t,this.state=r(d[0]).Buffer.alloc(16,0),this.cache=r(d[0]).Buffer.allocUnsafe(0)}i.prototype.ghash=function(t){for(var h=-1;++h<t.length;)this.state[h]^=t[h];this._multiply()},i.prototype._multiply=function(){for(var t,i,c,s=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],n=[0,0,0,0],f=-1;++f<128;){for(0!=(this.state[~~(f/8)]&1<<7-f%8)&&(n[0]^=s[0],n[1]^=s[1],n[2]^=s[2],n[3]^=s[3]),c=0!=(1&s[3]),i=3;i>0;i--)s[i]=s[i]>>>1|(1&s[i-1])<<31;s[0]=s[0]>>>1,c&&(s[0]=-520093696^s[0])}this.state=h(n)},i.prototype.update=function(t){var h;for(this.cache=r(d[0]).Buffer.concat([this.cache,t]);this.cache.length>=16;)h=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(h)},i.prototype.final=function(i,c){return this.cache.length&&this.ghash(r(d[0]).Buffer.concat([this.cache,t],16)),this.ghash(h([0,i,0,c])),this.state},m.exports=i},527,[488]);
__d(function(g,r,_i,a,m,e,d){function t(t,n,h){r(d[0]).call(this),this._cache=new i,this._last=void 0,this._cipher=new(r(d[1]).AES)(n),this._prev=r(d[2]).Buffer.from(h),this._mode=t,this._autopadding=!0}function i(){this.cache=r(d[2]).Buffer.allocUnsafe(0)}function n(t){var i=t[15];if(i<1||i>16)throw new Error('unable to decrypt data');for(var n=-1;++n<i;)if(t[n+(16-i)]!==i)throw new Error('unable to decrypt data');if(16!==i)return t.slice(0,16-i)}function h(i,n,h){var o=r(d[4])[i.toLowerCase()];if(!o)throw new TypeError('invalid suite type');if('string'==typeof h&&(h=r(d[2]).Buffer.from(h)),'GCM'!==o.mode&&h.length!==o.iv)throw new TypeError('invalid iv length '+h.length);if('string'==typeof n&&(n=r(d[2]).Buffer.from(n)),n.length!==o.key/8)throw new TypeError('invalid key length '+n.length);return'stream'===o.type?new(r(d[5]))(o.module,n,h,!0):'auth'===o.type?new(r(d[6]))(o.module,n,h,!0):new t(o.module,n,h)}r(d[3])(t,r(d[0])),t.prototype._update=function(t){var i,n;this._cache.add(t);for(var h=[];i=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,i),h.push(n);return r(d[2]).Buffer.concat(h)},t.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return n(this._mode.decrypt(this,t));if(t)throw new Error('data not multiple of block length')},t.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},i.prototype.add=function(t){this.cache=r(d[2]).Buffer.concat([this.cache,t])},i.prototype.get=function(t){var i;if(t){if(this.cache.length>16)return i=this.cache.slice(0,16),this.cache=this.cache.slice(16),i}else if(this.cache.length>=16)return i=this.cache.slice(0,16),this.cache=this.cache.slice(16),i;return null},i.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=function(t,i){var n=r(d[4])[t.toLowerCase()];if(!n)throw new TypeError('invalid suite type');var o=r(d[7])(i,!1,n.key,n.iv);return h(t,o.key,o.iv)},e.createDecipheriv=h},528,[470,524,488,475,509,525,526,521]);
__d(function(g,r,i,a,m,e,d){var t={'des-ede3-cbc':r(d[0]).CBC.instantiate(r(d[0]).EDE),'des-ede3':r(d[0]).EDE,'des-ede-cbc':r(d[0]).CBC.instantiate(r(d[0]).EDE),'des-ede':r(d[0]).EDE,'des-cbc':r(d[0]).CBC.instantiate(r(d[0]).DES),'des-ecb':r(d[0]).DES};function f(f){r(d[2]).call(this);var s,c=f.mode.toLowerCase(),n=t[c];s=f.decrypt?'decrypt':'encrypt';var o=f.key;r(d[3]).Buffer.isBuffer(o)||(o=r(d[3]).Buffer.from(o)),'des-ede'!==c&&'des-ede-cbc'!==c||(o=r(d[3]).Buffer.concat([o,o.slice(0,8)]));var u=f.iv;r(d[3]).Buffer.isBuffer(u)||(u=r(d[3]).Buffer.from(u)),this._des=n.create({key:o,iv:u,type:s})}t.des=t['des-cbc'],t.des3=t['des-ede3-cbc'],m.exports=f,r(d[1])(f,r(d[2])),f.prototype._update=function(t){return r(d[3]).Buffer.from(this._des.update(t))},f.prototype._final=function(){return r(d[3]).Buffer.from(this._des.final())}},529,[530,475,470,488]);
__d(function(g,r,i,a,m,e,d){'use strict';e.utils=r(d[0]),e.Cipher=r(d[1]),e.DES=r(d[2]),e.CBC=r(d[3]),e.EDE=r(d[4])},530,[531,532,534,535,536]);
__d(function(g,_r,_i,a,m,e,d){'use strict';e.readUInt32BE=function(r,o){return(r[0+o]<<24|r[1+o]<<16|r[2+o]<<8|r[3+o])>>>0},e.writeUInt32BE=function(r,o,f){r[0+f]=o>>>24,r[1+f]=o>>>16&255,r[2+f]=o>>>8&255,r[3+f]=255&o},e.ip=function(r,o,f,n){for(var t=0,u=0,i=6;i>=0;i-=2){for(var c=0;c<=24;c+=8)t<<=1,t|=o>>>c+i&1;for(c=0;c<=24;c+=8)t<<=1,t|=r>>>c+i&1}for(i=6;i>=0;i-=2){for(c=1;c<=25;c+=8)u<<=1,u|=o>>>c+i&1;for(c=1;c<=25;c+=8)u<<=1,u|=r>>>c+i&1}f[n+0]=t>>>0,f[n+1]=u>>>0},e.rip=function(r,o,f,n){for(var t=0,u=0,i=0;i<4;i++)for(var c=24;c>=0;c-=8)t<<=1,t|=o>>>c+i&1,t<<=1,t|=r>>>c+i&1;for(i=4;i<8;i++)for(c=24;c>=0;c-=8)u<<=1,u|=o>>>c+i&1,u<<=1,u|=r>>>c+i&1;f[n+0]=t>>>0,f[n+1]=u>>>0},e.pc1=function(r,o,f,n){for(var t=0,u=0,i=7;i>=5;i--){for(var c=0;c<=24;c+=8)t<<=1,t|=o>>c+i&1;for(c=0;c<=24;c+=8)t<<=1,t|=r>>c+i&1}for(c=0;c<=24;c+=8)t<<=1,t|=o>>c+i&1;for(i=1;i<=3;i++){for(c=0;c<=24;c+=8)u<<=1,u|=o>>c+i&1;for(c=0;c<=24;c+=8)u<<=1,u|=r>>c+i&1}for(c=0;c<=24;c+=8)u<<=1,u|=r>>c+i&1;f[n+0]=t>>>0,f[n+1]=u>>>0},e.r28shl=function(r,o){return r<<o&268435455|r>>>28-o};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];e.pc2=function(o,f,n,t){for(var u=0,i=0,c=r.length>>>1,v=0;v<c;v++)u<<=1,u|=o>>>r[v]&1;for(v=c;v<r.length;v++)i<<=1,i|=f>>>r[v]&1;n[t+0]=u>>>0,n[t+1]=i>>>0},e.expand=function(r,o,f){var n=0,t=0;n=(1&r)<<5|r>>>27;for(var u=23;u>=15;u-=4)n<<=6,n|=r>>>u&63;for(u=11;u>=3;u-=4)t|=r>>>u&63,t<<=6;t|=(31&r)<<1|r>>>31,o[f+0]=n>>>0,o[f+1]=t>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];e.substitute=function(r,f){for(var n=0,t=0;t<4;t++){n<<=4,n|=o[64*t+(r>>>18-6*t&63)]}for(t=0;t<4;t++){n<<=4,n|=o[256+64*t+(f>>>18-6*t&63)]}return n>>>0};var f=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];e.permute=function(r){for(var o=0,n=0;n<f.length;n++)o<<=1,o|=r>>>f[n]&1;return o>>>0},e.padSplit=function(r,o,f){for(var n=r.toString(2);n.length<o;)n='0'+n;for(var t=[],u=0;u<o;u+=f)t.push(n.slice(u,u+f));return t.join(' ')}},531,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';function t(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==t.padding}m.exports=t,t.prototype._init=function(){},t.prototype.update=function(t){return 0===t.length?[]:'decrypt'===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},t.prototype._buffer=function(t,f){for(var i=Math.min(this.buffer.length-this.bufferOff,t.length-f),h=0;h<i;h++)this.buffer[this.bufferOff+h]=t[f+h];return this.bufferOff+=i,i},t.prototype._flushBuffer=function(t,f){return this._update(this.buffer,0,t,f),this.bufferOff=0,this.blockSize},t.prototype._updateEncrypt=function(t){var f=0,i=0,h=(this.bufferOff+t.length)/this.blockSize|0,n=new Array(h*this.blockSize);0!==this.bufferOff&&(f+=this._buffer(t,f),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(n,i)));for(var u=t.length-(t.length-f)%this.blockSize;f<u;f+=this.blockSize)this._update(t,f,n,i),i+=this.blockSize;for(;f<t.length;f++,this.bufferOff++)this.buffer[this.bufferOff]=t[f];return n},t.prototype._updateDecrypt=function(t){for(var f=0,i=0,h=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,n=new Array(h*this.blockSize);h>0;h--)f+=this._buffer(t,f),i+=this._flushBuffer(n,i);return f+=this._buffer(t,f),n},t.prototype.final=function(t){var f,i;return t&&(f=this.update(t)),i='encrypt'===this.type?this._finalEncrypt():this._finalDecrypt(),f?f.concat(i):i},t.prototype._pad=function(t,f){if(0===f)return!1;for(;f<t.length;)t[f++]=0;return!0},t.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},t.prototype._unpad=function(t){return t},t.prototype._finalDecrypt=function(){r(d[0]).equal(this.bufferOff,this.blockSize,'Not enough data to decrypt');var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},532,[533]);
__d(function(g,_r,i,a,m,e,d){function r(r,n){if(!r)throw new Error(n||'Assertion failed')}m.exports=r,r.equal=function(r,n,o){if(r!=n)throw new Error(o||'Assertion failed: '+r+' != '+n)}},533,[]);
__d(function(g,_r,_i,a,m,e,d){'use strict';function t(){this.tmp=new Array(2),this.keys=null}function r(r){_r(d[0]).call(this,r);var n=new t;this._desState=n,this.deriveKeys(n,r.key)}_r(d[1])(r,_r(d[0])),m.exports=r,r.create=function(t){return new r(t)};var n=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];r.prototype.deriveKeys=function(t,r){t.keys=new Array(32),_r(d[2]).equal(r.length,this.blockSize,'Invalid key length');var p=_r(d[3]).readUInt32BE(r,0),i=_r(d[3]).readUInt32BE(r,4);_r(d[3]).pc1(p,i,t.tmp,0),p=t.tmp[0],i=t.tmp[1];for(var s=0;s<t.keys.length;s+=2){var o=n[s>>>1];p=_r(d[3]).r28shl(p,o),i=_r(d[3]).r28shl(i,o),_r(d[3]).pc2(p,i,t.keys,s)}},r.prototype._update=function(t,r,n,p){var i=this._desState,s=_r(d[3]).readUInt32BE(t,r),o=_r(d[3]).readUInt32BE(t,r+4);_r(d[3]).ip(s,o,i.tmp,0),s=i.tmp[0],o=i.tmp[1],'encrypt'===this.type?this._encrypt(i,s,o,i.tmp,0):this._decrypt(i,s,o,i.tmp,0),s=i.tmp[0],o=i.tmp[1],_r(d[3]).writeUInt32BE(n,s,p),_r(d[3]).writeUInt32BE(n,o,p+4)},r.prototype._pad=function(t,r){if(!1===this.padding)return!1;for(var n=t.length-r,p=r;p<t.length;p++)t[p]=n;return!0},r.prototype._unpad=function(t){if(!1===this.padding)return t;for(var r=t[t.length-1],n=t.length-r;n<t.length;n++)_r(d[2]).equal(t[n],r);return t.slice(0,t.length-r)},r.prototype._encrypt=function(t,r,n,p,i){for(var s=r,o=n,y=0;y<t.keys.length;y+=2){var u=t.keys[y],h=t.keys[y+1];_r(d[3]).expand(o,t.tmp,0),u^=t.tmp[0],h^=t.tmp[1];var c=_r(d[3]).substitute(u,h),l=o;o=(s^_r(d[3]).permute(c))>>>0,s=l}_r(d[3]).rip(o,s,p,i)},r.prototype._decrypt=function(t,r,n,p,i){for(var s=n,o=r,y=t.keys.length-2;y>=0;y-=2){var u=t.keys[y],h=t.keys[y+1];_r(d[3]).expand(s,t.tmp,0),u^=t.tmp[0],h^=t.tmp[1];var c=_r(d[3]).substitute(u,h),l=s;s=(o^_r(d[3]).permute(c))>>>0,o=l}_r(d[3]).rip(s,o,p,i)}},534,[532,475,533,531]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t={};function i(t){r(d[0]).equal(t.length,8,'Invalid IV length'),this.iv=new Array(8);for(var i=0;i<this.iv.length;i++)this.iv[i]=t[i]}e.instantiate=function(i){function n(t){i.call(this,t),this._cbcInit()}r(d[1])(n,i);for(var c=Object.keys(t),o=0;o<c.length;o++){var s=c[o];n.prototype[s]=t[s]}return n.create=function(t){return new n(t)},n},t._cbcInit=function(){var t=new i(this.options.iv);this._cbcState=t},t._update=function(t,i,n,c){var o=this._cbcState,s=this.constructor.super_.prototype,h=o.iv;if('encrypt'===this.type){for(var l=0;l<this.blockSize;l++)h[l]^=t[i+l];s._update.call(this,h,0,n,c);for(l=0;l<this.blockSize;l++)h[l]=n[c+l]}else{s._update.call(this,t,i,n,c);for(l=0;l<this.blockSize;l++)n[c+l]^=h[l];for(l=0;l<this.blockSize;l++)h[l]=t[i+l]}}},535,[533,475]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,p){r(d[0]).equal(p.length,24,'Invalid key length');var c=p.slice(0,8),y=p.slice(8,16),n=p.slice(16,24);this.ciphers='encrypt'===t?[r(d[1]).create({type:'encrypt',key:c}),r(d[1]).create({type:'decrypt',key:y}),r(d[1]).create({type:'encrypt',key:n})]:[r(d[1]).create({type:'decrypt',key:n}),r(d[1]).create({type:'encrypt',key:y}),r(d[1]).create({type:'decrypt',key:c})]}function p(p){r(d[2]).call(this,p);var c=new t(this.type,this.options.key);this._edeState=c}r(d[3])(p,r(d[2])),m.exports=p,p.create=function(t){return new p(t)},p.prototype._update=function(t,p,c,y){var n=this._edeState;n.ciphers[0]._update(t,p,c,y),n.ciphers[1]._update(c,y,c,y),n.ciphers[2]._update(c,y,c,y)},p.prototype._pad=r(d[1]).prototype._pad,p.prototype._unpad=r(d[1]).prototype._unpad},536,[533,534,532,475]);
__d(function(g,r,i,a,m,e,d){var f={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=function(f){var n=new Buffer(r(d[0])[f].prime,'hex'),u=new Buffer(r(d[0])[f].gen,'hex');return new(r(d[1]))(n,u)},e.createDiffieHellman=e.DiffieHellman=function n(u,B,l,t){return Buffer.isBuffer(B)||void 0===f[B]?n(u,'binary',B,l):(B=B||'binary',t=t||'binary',l=l||new Buffer([2]),Buffer.isBuffer(l)||(l=new Buffer(l,t)),'number'==typeof u?new(r(d[1]))(r(d[2])(u,l),l,!0):(Buffer.isBuffer(u)||(u=new Buffer(u,B)),new(r(d[1]))(u,l,!0)))}},537,[538,539,544]);
__d(function(f,e,c,b,a,d,p){a.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},538,[]);
__d(function(g,r,i,a,m,e,d){var t=new(r(d[0])),n=new(r(d[1]))(24),o=new(r(d[1]))(11),s=new(r(d[1]))(10),u=new(r(d[1]))(3),f=new(r(d[1]))(7);function p(t,n){return n=n||'utf8',Buffer.isBuffer(t)||(t=new Buffer(t,n)),this._pub=new(r(d[1]))(t),this}function h(t,n){return n=n||'utf8',Buffer.isBuffer(t)||(t=new Buffer(t,n)),this._priv=new(r(d[1]))(t),this}m.exports=v;var _={};function c(p,h){var c=h.toString('hex'),v=[c,p.toString(16)].join('_');if(v in _)return _[v];var w,y=0;if(p.isEven()||!r(d[2]).simpleSieve||!r(d[2]).fermatTest(p)||!t.test(p))return y+=1,y+='02'===c||'05'===c?8:4,_[v]=y,y;switch(t.test(p.shrn(1))||(y+=2),c){case'02':p.mod(n).cmp(o)&&(y+=8);break;case'05':(w=p.mod(s)).cmp(u)&&w.cmp(f)&&(y+=8);break;default:y+=4}return _[v]=y,y}function v(t,n,o){this.setGenerator(n),this.__prime=new(r(d[1]))(t),this._prime=r(d[1]).mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,o?(this.setPublicKey=p,this.setPrivateKey=h):this._primeCode=8}function w(t,n){var o=new Buffer(t.toArray());return n?o.toString(n):o}Object.defineProperty(v.prototype,'verifyError',{enumerable:!0,get:function(){return'number'!=typeof this._primeCode&&(this._primeCode=c(this.__prime,this.__gen)),this._primeCode}}),v.prototype.generateKeys=function(){return this._priv||(this._priv=new(r(d[1]))(r(d[3])(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},v.prototype.computeSecret=function(t){var n=(t=(t=new(r(d[1]))(t)).toRed(this._prime)).redPow(this._priv).fromRed(),o=new Buffer(n.toArray()),s=this.getPrime();if(o.length<s.length){var u=new Buffer(s.length-o.length);u.fill(0),o=Buffer.concat([u,o])}return o},v.prototype.getPublicKey=function(t){return w(this._pub,t)},v.prototype.getPrivateKey=function(t){return w(this._priv,t)},v.prototype.getPrime=function(t){return w(this.__prime,t)},v.prototype.getGenerator=function(t){return w(this._gen,t)},v.prototype.setGenerator=function(t,n){return n=n||'utf8',Buffer.isBuffer(t)||(t=new Buffer(t,n)),this.__gen=t,this._gen=new(r(d[1]))(t),this}},539,[540,543,544,545]);
__d(function(_g,r,_i,_a,m,e,_d){function n(n){this.rand=n||new(r(_d[0]).Rand)}m.exports=n,n.create=function(t){return new n(t)},n.prototype._randbelow=function(n){var t=n.bitLength(),o=Math.ceil(t/8);do{var a=new(r(_d[1]))(this.rand.generate(o))}while(a.cmp(n)>=0);return a},n.prototype._randrange=function(n,t){var o=t.sub(n);return n.add(this._randbelow(o))},n.prototype.test=function(n,t,o){var a=n.bitLength(),d=r(_d[1]).mont(n),i=new(r(_d[1]))(1).toRed(d);t||(t=Math.max(1,a/48|0));for(var f=n.subn(1),c=0;!f.testn(c);c++);for(var u=n.shrn(c),p=f.toRed(d);t>0;t--){var s=this._randrange(new(r(_d[1]))(2),f);o&&o(s);var v=s.toRed(d).redPow(u);if(0!==v.cmp(i)&&0!==v.cmp(p)){for(var h=1;h<c;h++){if(0===(v=v.redSqr()).cmp(i))return!1;if(0===v.cmp(p))break}if(h===c)return!1}}return!0},n.prototype.getDivisor=function(n,t){var o=n.bitLength(),a=r(_d[1]).mont(n),d=new(r(_d[1]))(1).toRed(a);t||(t=Math.max(1,o/48|0));for(var i=n.subn(1),f=0;!i.testn(f);f++);for(var c=n.shrn(f),u=i.toRed(a);t>0;t--){var p=this._randrange(new(r(_d[1]))(2),i),s=n.gcd(p);if(0!==s.cmpn(1))return s;var v=p.toRed(a).redPow(c);if(0!==v.cmp(d)&&0!==v.cmp(u)){for(var h=1;h<f;h++){if(0===(v=v.redSqr()).cmp(d))return v.fromRed().subn(1).gcd(n);if(0===v.cmp(u))break}if(h===f)return(v=v.redSqr()).fromRed().subn(1).gcd(n)}}return!1}},540,[541,542]);
__d(function(g,_r,_i,a,m,_e,d){var t;function r(t){this.rand=t}if(m.exports=function(e){return t||(t=new r(null)),t.generate(e)},m.exports.Rand=r,r.prototype.generate=function(t){return this._rand(t)},r.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var r=new Uint8Array(t),e=0;e<r.length;e++)r[e]=this.rand.getByte();return r},'object'==typeof self)self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(t){var r=new Uint8Array(t);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(t){var r=new Uint8Array(t);return self.msCrypto.getRandomValues(r),r}:'object'==typeof window&&(r.prototype._rand=function(){throw new Error('Not implemented yet')});else try{var e=_r(d[0]);if('function'!=typeof e.randomBytes)throw new Error('Not supported');r.prototype._rand=function(t){return e.randomBytes(t)}}catch(t){}},541,[476]);
__d(function(_g,_r,_i,_a,_m,_e,d){!(function(t,i){'use strict';function r(t,i){if(!t)throw new Error(i||'Assertion failed')}function n(t,i){t.super_=i;var r=function(){};r.prototype=i.prototype,t.prototype=new r,t.prototype.constructor=t}function h(t,i,r){if(h.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&('le'!==i&&'be'!==i||(r=i,i=10),this._init(t||0,i||10,r||'be'))}var e;'object'==typeof t?t.exports=h:i.BN=h,h.BN=h,h.wordSize=26;try{e='undefined'!=typeof window&&void 0!==window.Buffer?window.Buffer:_r(d[0]).Buffer}catch(t){}function o(t,i){var r=t.charCodeAt(i);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function s(t,i,r){var n=o(t,r);return r-1>=i&&(n|=o(t,r-1)<<4),n}function u(t,i,r,n){for(var h=0,e=Math.min(t.length,r),o=i;o<e;o++){var s=t.charCodeAt(o)-48;h*=n,h+=s>=49?s-49+10:s>=17?s-17+10:s}return h}h.isBN=function(t){return t instanceof h||null!==t&&'object'==typeof t&&t.constructor.wordSize===h.wordSize&&Array.isArray(t.words)},h.max=function(t,i){return t.cmp(i)>0?t:i},h.min=function(t,i){return t.cmp(i)<0?t:i},h.prototype._init=function(t,i,n){if('number'==typeof t)return this._initNumber(t,i,n);if('object'==typeof t)return this._initArray(t,i,n);'hex'===i&&(i=16),r(i===(0|i)&&i>=2&&i<=36);var h=0;'-'===(t=t.toString().replace(/\s+/g,''))[0]&&(h++,this.negative=1),h<t.length&&(16===i?this._parseHex(t,h,n):(this._parseBase(t,i,h),'le'===n&&this._initArray(this.toArray(),i,n)))},h.prototype._initNumber=function(t,i,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),'le'===n&&this._initArray(this.toArray(),i,n)},h.prototype._initArray=function(t,i,n){if(r('number'==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var e,o,s=0;if('be'===n)for(h=t.length-1,e=0;h>=0;h-=3)o=t[h]|t[h-1]<<8|t[h-2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);else if('le'===n)for(h=0,e=0;h<t.length;h+=3)o=t[h]|t[h+1]<<8|t[h+2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);return this.strip()},h.prototype._parseHex=function(t,i,r){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var h,e=0,o=0;if('be'===r)for(n=t.length-1;n>=i;n-=2)h=s(t,i,n)<<e,this.words[o]|=67108863&h,e>=18?(e-=18,o+=1,this.words[o]|=h>>>26):e+=8;else for(n=(t.length-i)%2==0?i+1:i;n<t.length;n+=2)h=s(t,i,n)<<e,this.words[o]|=67108863&h,e>=18?(e-=18,o+=1,this.words[o]|=h>>>26):e+=8;this.strip()},h.prototype._parseBase=function(t,i,r){this.words=[0],this.length=1;for(var n=0,h=1;h<=67108863;h*=i)n++;n--,h=h/i|0;for(var e=t.length-r,o=e%n,s=Math.min(e,e-o)+r,a=0,l=r;l<s;l+=n)a=u(t,l,l+n,i),this.imuln(h),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==o){var m=1;for(a=u(t,l,t.length,i),l=0;l<o;l++)m*=i;this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},h.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},h.prototype.clone=function(){var t=new h(null);return this.copy(t),t},h.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},h.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},h.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},h.prototype.inspect=function(){return(this.red?'<BN-R: ':'<BN: ')+this.toString(16)+'>'};var a=['','0','00','000','0000','00000','000000','0000000','00000000','000000000','0000000000','00000000000','000000000000','0000000000000','00000000000000','000000000000000','0000000000000000','00000000000000000','000000000000000000','0000000000000000000','00000000000000000000','000000000000000000000','0000000000000000000000','00000000000000000000000','000000000000000000000000','0000000000000000000000000'],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t){for(var i=new Array(t.bitLength()),r=0;r<i.length;r++){var n=r/26|0,h=r%26;i[r]=(t.words[n]&1<<h)>>>h}return i}function p(t,i,r){r.negative=i.negative^t.negative;var n=t.length+i.length|0;r.length=n,n=n-1|0;var h=0|t.words[0],e=0|i.words[0],o=h*e,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var a=1;a<n;a++){for(var l=u>>>26,m=67108863&u,f=Math.min(a,i.length-1),p=Math.max(0,a-t.length+1);p<=f;p++){var M=a-p|0;l+=(o=(h=0|t.words[M])*(e=0|i.words[p])+m)/67108864|0,m=67108863&o}r.words[a]=0|m,u=0|l}return 0!==u?r.words[a]=0|u:r.length--,r.strip()}h.prototype.toString=function(t,i){var n;if(i=0|i||1,16===(t=t||10)||'hex'===t){n='';for(var h=0,e=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<h|e)).toString(16);e=s>>>24-h&16777215,(h+=2)>=26&&(h-=26,o--),n=0!==e||o!==this.length-1?a[6-u.length]+u+n:u+n}for(0!==e&&(n=e.toString(16)+n);n.length%i!=0;)n='0'+n;return 0!==this.negative&&(n='-'+n),n}if(t===(0|t)&&t>=2&&t<=36){var f=l[t],p=m[t];n='';var M=this.clone();for(M.negative=0;!M.isZero();){var v=M.modn(p).toString(t);n=(M=M.idivn(p)).isZero()?v+n:a[f-v.length]+v+n}for(this.isZero()&&(n='0'+n);n.length%i!=0;)n='0'+n;return 0!==this.negative&&(n='-'+n),n}r(!1,'Base should be between 2 and 36')},h.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,'Number can only safely store up to 53 bits'),0!==this.negative?-t:t},h.prototype.toJSON=function(){return this.toString(16)},h.prototype.toBuffer=function(t,i){return r(void 0!==e),this.toArrayLike(e,t,i)},h.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)},h.prototype.toArrayLike=function(t,i,n){var h=this.byteLength(),e=n||Math.max(1,h);r(h<=e,'byte array longer than desired length'),r(e>0,'Requested array length <= 0'),this.strip();var o,s,u='le'===i,a=new t(e),l=this.clone();if(u){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[s]=o;for(;s<e;s++)a[s]=0}else{for(s=0;s<e-h;s++)a[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[e-s-1]=o}return a},Math.clz32?h.prototype._countBits=function(t){return 32-Math.clz32(t)}:h.prototype._countBits=function(t){var i=t,r=0;return i>=4096&&(r+=13,i>>>=13),i>=64&&(r+=7,i>>>=7),i>=8&&(r+=4,i>>>=4),i>=2&&(r+=2,i>>>=2),r+i},h.prototype._zeroBits=function(t){if(0===t)return 26;var i=t,r=0;return 0==(8191&i)&&(r+=13,i>>>=13),0==(127&i)&&(r+=7,i>>>=7),0==(15&i)&&(r+=4,i>>>=4),0==(3&i)&&(r+=2,i>>>=2),0==(1&i)&&r++,r},h.prototype.bitLength=function(){var t=this.words[this.length-1],i=this._countBits(t);return 26*(this.length-1)+i},h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var r=this._zeroBits(this.words[i]);if(t+=r,26!==r)break}return t},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},h.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return 0!==this.negative},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this.strip()},h.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},h.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},h.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},h.prototype.iuand=function(t){var i;i=this.length>t.length?t:this;for(var r=0;r<i.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=i.length,this.strip()},h.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},h.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},h.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},h.prototype.iuxor=function(t){var i,r;this.length>t.length?(i=this,r=t):(i=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=i.words[n]^r.words[n];if(this!==i)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=i.length,this.strip()},h.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},h.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},h.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},h.prototype.inotn=function(t){r('number'==typeof t&&t>=0);var i=0|Math.ceil(t/26),n=t%26;this._expand(i),n>0&&i--;for(var h=0;h<i;h++)this.words[h]=67108863&~this.words[h];return n>0&&(this.words[h]=~this.words[h]&67108863>>26-n),this.strip()},h.prototype.notn=function(t){return this.clone().inotn(t)},h.prototype.setn=function(t,i){r('number'==typeof t&&t>=0);var n=t/26|0,h=t%26;return this._expand(n+1),this.words[n]=i?this.words[n]|1<<h:this.words[n]&~(1<<h),this.strip()},h.prototype.iadd=function(t){var i,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var h=0,e=0;e<n.length;e++)i=(0|r.words[e])+(0|n.words[e])+h,this.words[e]=67108863&i,h=i>>>26;for(;0!==h&&e<r.length;e++)i=(0|r.words[e])+h,this.words[e]=67108863&i,h=i>>>26;if(this.length=r.length,0!==h)this.words[this.length]=h,this.length++;else if(r!==this)for(;e<r.length;e++)this.words[e]=r.words[e];return this},h.prototype.add=function(t){var i;return 0!==t.negative&&0===this.negative?(t.negative=0,i=this.sub(t),t.negative^=1,i):0===t.negative&&0!==this.negative?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},h.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,h=this.cmp(t);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(r=this,n=t):(r=t,n=this);for(var e=0,o=0;o<n.length;o++)e=(i=(0|r.words[o])-(0|n.words[o])+e)>>26,this.words[o]=67108863&i;for(;0!==e&&o<r.length;o++)e=(i=(0|r.words[o])+e)>>26,this.words[o]=67108863&i;if(0===e&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},h.prototype.sub=function(t){return this.clone().isub(t)};var M=function(t,i,r){var n,h,e,o=t.words,s=i.words,u=r.words,a=0,l=0|o[0],m=8191&l,f=l>>>13,p=0|o[1],M=8191&p,v=p>>>13,g=0|o[2],c=8191&g,w=g>>>13,y=0|o[3],b=8191&y,_=y>>>13,k=0|o[4],A=8191&k,x=k>>>13,S=0|o[5],Z=8191&S,B=S>>>13,R=0|o[6],q=8191&R,N=R>>>13,L=0|o[7],I=8191&L,z=L>>>13,T=0|o[8],E=8191&T,O=T>>>13,j=0|o[9],K=8191&j,P=j>>>13,F=0|s[0],C=8191&F,D=F>>>13,H=0|s[1],J=8191&H,U=H>>>13,G=0|s[2],Q=8191&G,V=G>>>13,W=0|s[3],X=8191&W,Y=W>>>13,$=0|s[4],tt=8191&$,it=$>>>13,rt=0|s[5],nt=8191&rt,ht=rt>>>13,et=0|s[6],ot=8191&et,st=et>>>13,ut=0|s[7],at=8191&ut,lt=ut>>>13,mt=0|s[8],ft=8191&mt,dt=mt>>>13,pt=0|s[9],Mt=8191&pt,vt=pt>>>13;r.negative=t.negative^i.negative,r.length=19;var gt=(a+(n=Math.imul(m,C))|0)+((8191&(h=(h=Math.imul(m,D))+Math.imul(f,C)|0))<<13)|0;a=((e=Math.imul(f,D))+(h>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(M,C),h=(h=Math.imul(M,D))+Math.imul(v,C)|0,e=Math.imul(v,D);var ct=(a+(n=n+Math.imul(m,J)|0)|0)+((8191&(h=(h=h+Math.imul(m,U)|0)+Math.imul(f,J)|0))<<13)|0;a=((e=e+Math.imul(f,U)|0)+(h>>>13)|0)+(ct>>>26)|0,ct&=67108863,n=Math.imul(c,C),h=(h=Math.imul(c,D))+Math.imul(w,C)|0,e=Math.imul(w,D),n=n+Math.imul(M,J)|0,h=(h=h+Math.imul(M,U)|0)+Math.imul(v,J)|0,e=e+Math.imul(v,U)|0;var wt=(a+(n=n+Math.imul(m,Q)|0)|0)+((8191&(h=(h=h+Math.imul(m,V)|0)+Math.imul(f,Q)|0))<<13)|0;a=((e=e+Math.imul(f,V)|0)+(h>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(b,C),h=(h=Math.imul(b,D))+Math.imul(_,C)|0,e=Math.imul(_,D),n=n+Math.imul(c,J)|0,h=(h=h+Math.imul(c,U)|0)+Math.imul(w,J)|0,e=e+Math.imul(w,U)|0,n=n+Math.imul(M,Q)|0,h=(h=h+Math.imul(M,V)|0)+Math.imul(v,Q)|0,e=e+Math.imul(v,V)|0;var yt=(a+(n=n+Math.imul(m,X)|0)|0)+((8191&(h=(h=h+Math.imul(m,Y)|0)+Math.imul(f,X)|0))<<13)|0;a=((e=e+Math.imul(f,Y)|0)+(h>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(A,C),h=(h=Math.imul(A,D))+Math.imul(x,C)|0,e=Math.imul(x,D),n=n+Math.imul(b,J)|0,h=(h=h+Math.imul(b,U)|0)+Math.imul(_,J)|0,e=e+Math.imul(_,U)|0,n=n+Math.imul(c,Q)|0,h=(h=h+Math.imul(c,V)|0)+Math.imul(w,Q)|0,e=e+Math.imul(w,V)|0,n=n+Math.imul(M,X)|0,h=(h=h+Math.imul(M,Y)|0)+Math.imul(v,X)|0,e=e+Math.imul(v,Y)|0;var bt=(a+(n=n+Math.imul(m,tt)|0)|0)+((8191&(h=(h=h+Math.imul(m,it)|0)+Math.imul(f,tt)|0))<<13)|0;a=((e=e+Math.imul(f,it)|0)+(h>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(Z,C),h=(h=Math.imul(Z,D))+Math.imul(B,C)|0,e=Math.imul(B,D),n=n+Math.imul(A,J)|0,h=(h=h+Math.imul(A,U)|0)+Math.imul(x,J)|0,e=e+Math.imul(x,U)|0,n=n+Math.imul(b,Q)|0,h=(h=h+Math.imul(b,V)|0)+Math.imul(_,Q)|0,e=e+Math.imul(_,V)|0,n=n+Math.imul(c,X)|0,h=(h=h+Math.imul(c,Y)|0)+Math.imul(w,X)|0,e=e+Math.imul(w,Y)|0,n=n+Math.imul(M,tt)|0,h=(h=h+Math.imul(M,it)|0)+Math.imul(v,tt)|0,e=e+Math.imul(v,it)|0;var _t=(a+(n=n+Math.imul(m,nt)|0)|0)+((8191&(h=(h=h+Math.imul(m,ht)|0)+Math.imul(f,nt)|0))<<13)|0;a=((e=e+Math.imul(f,ht)|0)+(h>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(q,C),h=(h=Math.imul(q,D))+Math.imul(N,C)|0,e=Math.imul(N,D),n=n+Math.imul(Z,J)|0,h=(h=h+Math.imul(Z,U)|0)+Math.imul(B,J)|0,e=e+Math.imul(B,U)|0,n=n+Math.imul(A,Q)|0,h=(h=h+Math.imul(A,V)|0)+Math.imul(x,Q)|0,e=e+Math.imul(x,V)|0,n=n+Math.imul(b,X)|0,h=(h=h+Math.imul(b,Y)|0)+Math.imul(_,X)|0,e=e+Math.imul(_,Y)|0,n=n+Math.imul(c,tt)|0,h=(h=h+Math.imul(c,it)|0)+Math.imul(w,tt)|0,e=e+Math.imul(w,it)|0,n=n+Math.imul(M,nt)|0,h=(h=h+Math.imul(M,ht)|0)+Math.imul(v,nt)|0,e=e+Math.imul(v,ht)|0;var kt=(a+(n=n+Math.imul(m,ot)|0)|0)+((8191&(h=(h=h+Math.imul(m,st)|0)+Math.imul(f,ot)|0))<<13)|0;a=((e=e+Math.imul(f,st)|0)+(h>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(I,C),h=(h=Math.imul(I,D))+Math.imul(z,C)|0,e=Math.imul(z,D),n=n+Math.imul(q,J)|0,h=(h=h+Math.imul(q,U)|0)+Math.imul(N,J)|0,e=e+Math.imul(N,U)|0,n=n+Math.imul(Z,Q)|0,h=(h=h+Math.imul(Z,V)|0)+Math.imul(B,Q)|0,e=e+Math.imul(B,V)|0,n=n+Math.imul(A,X)|0,h=(h=h+Math.imul(A,Y)|0)+Math.imul(x,X)|0,e=e+Math.imul(x,Y)|0,n=n+Math.imul(b,tt)|0,h=(h=h+Math.imul(b,it)|0)+Math.imul(_,tt)|0,e=e+Math.imul(_,it)|0,n=n+Math.imul(c,nt)|0,h=(h=h+Math.imul(c,ht)|0)+Math.imul(w,nt)|0,e=e+Math.imul(w,ht)|0,n=n+Math.imul(M,ot)|0,h=(h=h+Math.imul(M,st)|0)+Math.imul(v,ot)|0,e=e+Math.imul(v,st)|0;var At=(a+(n=n+Math.imul(m,at)|0)|0)+((8191&(h=(h=h+Math.imul(m,lt)|0)+Math.imul(f,at)|0))<<13)|0;a=((e=e+Math.imul(f,lt)|0)+(h>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(E,C),h=(h=Math.imul(E,D))+Math.imul(O,C)|0,e=Math.imul(O,D),n=n+Math.imul(I,J)|0,h=(h=h+Math.imul(I,U)|0)+Math.imul(z,J)|0,e=e+Math.imul(z,U)|0,n=n+Math.imul(q,Q)|0,h=(h=h+Math.imul(q,V)|0)+Math.imul(N,Q)|0,e=e+Math.imul(N,V)|0,n=n+Math.imul(Z,X)|0,h=(h=h+Math.imul(Z,Y)|0)+Math.imul(B,X)|0,e=e+Math.imul(B,Y)|0,n=n+Math.imul(A,tt)|0,h=(h=h+Math.imul(A,it)|0)+Math.imul(x,tt)|0,e=e+Math.imul(x,it)|0,n=n+Math.imul(b,nt)|0,h=(h=h+Math.imul(b,ht)|0)+Math.imul(_,nt)|0,e=e+Math.imul(_,ht)|0,n=n+Math.imul(c,ot)|0,h=(h=h+Math.imul(c,st)|0)+Math.imul(w,ot)|0,e=e+Math.imul(w,st)|0,n=n+Math.imul(M,at)|0,h=(h=h+Math.imul(M,lt)|0)+Math.imul(v,at)|0,e=e+Math.imul(v,lt)|0;var xt=(a+(n=n+Math.imul(m,ft)|0)|0)+((8191&(h=(h=h+Math.imul(m,dt)|0)+Math.imul(f,ft)|0))<<13)|0;a=((e=e+Math.imul(f,dt)|0)+(h>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(K,C),h=(h=Math.imul(K,D))+Math.imul(P,C)|0,e=Math.imul(P,D),n=n+Math.imul(E,J)|0,h=(h=h+Math.imul(E,U)|0)+Math.imul(O,J)|0,e=e+Math.imul(O,U)|0,n=n+Math.imul(I,Q)|0,h=(h=h+Math.imul(I,V)|0)+Math.imul(z,Q)|0,e=e+Math.imul(z,V)|0,n=n+Math.imul(q,X)|0,h=(h=h+Math.imul(q,Y)|0)+Math.imul(N,X)|0,e=e+Math.imul(N,Y)|0,n=n+Math.imul(Z,tt)|0,h=(h=h+Math.imul(Z,it)|0)+Math.imul(B,tt)|0,e=e+Math.imul(B,it)|0,n=n+Math.imul(A,nt)|0,h=(h=h+Math.imul(A,ht)|0)+Math.imul(x,nt)|0,e=e+Math.imul(x,ht)|0,n=n+Math.imul(b,ot)|0,h=(h=h+Math.imul(b,st)|0)+Math.imul(_,ot)|0,e=e+Math.imul(_,st)|0,n=n+Math.imul(c,at)|0,h=(h=h+Math.imul(c,lt)|0)+Math.imul(w,at)|0,e=e+Math.imul(w,lt)|0,n=n+Math.imul(M,ft)|0,h=(h=h+Math.imul(M,dt)|0)+Math.imul(v,ft)|0,e=e+Math.imul(v,dt)|0;var St=(a+(n=n+Math.imul(m,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(m,vt)|0)+Math.imul(f,Mt)|0))<<13)|0;a=((e=e+Math.imul(f,vt)|0)+(h>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(K,J),h=(h=Math.imul(K,U))+Math.imul(P,J)|0,e=Math.imul(P,U),n=n+Math.imul(E,Q)|0,h=(h=h+Math.imul(E,V)|0)+Math.imul(O,Q)|0,e=e+Math.imul(O,V)|0,n=n+Math.imul(I,X)|0,h=(h=h+Math.imul(I,Y)|0)+Math.imul(z,X)|0,e=e+Math.imul(z,Y)|0,n=n+Math.imul(q,tt)|0,h=(h=h+Math.imul(q,it)|0)+Math.imul(N,tt)|0,e=e+Math.imul(N,it)|0,n=n+Math.imul(Z,nt)|0,h=(h=h+Math.imul(Z,ht)|0)+Math.imul(B,nt)|0,e=e+Math.imul(B,ht)|0,n=n+Math.imul(A,ot)|0,h=(h=h+Math.imul(A,st)|0)+Math.imul(x,ot)|0,e=e+Math.imul(x,st)|0,n=n+Math.imul(b,at)|0,h=(h=h+Math.imul(b,lt)|0)+Math.imul(_,at)|0,e=e+Math.imul(_,lt)|0,n=n+Math.imul(c,ft)|0,h=(h=h+Math.imul(c,dt)|0)+Math.imul(w,ft)|0,e=e+Math.imul(w,dt)|0;var Zt=(a+(n=n+Math.imul(M,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(M,vt)|0)+Math.imul(v,Mt)|0))<<13)|0;a=((e=e+Math.imul(v,vt)|0)+(h>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,n=Math.imul(K,Q),h=(h=Math.imul(K,V))+Math.imul(P,Q)|0,e=Math.imul(P,V),n=n+Math.imul(E,X)|0,h=(h=h+Math.imul(E,Y)|0)+Math.imul(O,X)|0,e=e+Math.imul(O,Y)|0,n=n+Math.imul(I,tt)|0,h=(h=h+Math.imul(I,it)|0)+Math.imul(z,tt)|0,e=e+Math.imul(z,it)|0,n=n+Math.imul(q,nt)|0,h=(h=h+Math.imul(q,ht)|0)+Math.imul(N,nt)|0,e=e+Math.imul(N,ht)|0,n=n+Math.imul(Z,ot)|0,h=(h=h+Math.imul(Z,st)|0)+Math.imul(B,ot)|0,e=e+Math.imul(B,st)|0,n=n+Math.imul(A,at)|0,h=(h=h+Math.imul(A,lt)|0)+Math.imul(x,at)|0,e=e+Math.imul(x,lt)|0,n=n+Math.imul(b,ft)|0,h=(h=h+Math.imul(b,dt)|0)+Math.imul(_,ft)|0,e=e+Math.imul(_,dt)|0;var Bt=(a+(n=n+Math.imul(c,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(c,vt)|0)+Math.imul(w,Mt)|0))<<13)|0;a=((e=e+Math.imul(w,vt)|0)+(h>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(K,X),h=(h=Math.imul(K,Y))+Math.imul(P,X)|0,e=Math.imul(P,Y),n=n+Math.imul(E,tt)|0,h=(h=h+Math.imul(E,it)|0)+Math.imul(O,tt)|0,e=e+Math.imul(O,it)|0,n=n+Math.imul(I,nt)|0,h=(h=h+Math.imul(I,ht)|0)+Math.imul(z,nt)|0,e=e+Math.imul(z,ht)|0,n=n+Math.imul(q,ot)|0,h=(h=h+Math.imul(q,st)|0)+Math.imul(N,ot)|0,e=e+Math.imul(N,st)|0,n=n+Math.imul(Z,at)|0,h=(h=h+Math.imul(Z,lt)|0)+Math.imul(B,at)|0,e=e+Math.imul(B,lt)|0,n=n+Math.imul(A,ft)|0,h=(h=h+Math.imul(A,dt)|0)+Math.imul(x,ft)|0,e=e+Math.imul(x,dt)|0;var Rt=(a+(n=n+Math.imul(b,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(b,vt)|0)+Math.imul(_,Mt)|0))<<13)|0;a=((e=e+Math.imul(_,vt)|0)+(h>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(K,tt),h=(h=Math.imul(K,it))+Math.imul(P,tt)|0,e=Math.imul(P,it),n=n+Math.imul(E,nt)|0,h=(h=h+Math.imul(E,ht)|0)+Math.imul(O,nt)|0,e=e+Math.imul(O,ht)|0,n=n+Math.imul(I,ot)|0,h=(h=h+Math.imul(I,st)|0)+Math.imul(z,ot)|0,e=e+Math.imul(z,st)|0,n=n+Math.imul(q,at)|0,h=(h=h+Math.imul(q,lt)|0)+Math.imul(N,at)|0,e=e+Math.imul(N,lt)|0,n=n+Math.imul(Z,ft)|0,h=(h=h+Math.imul(Z,dt)|0)+Math.imul(B,ft)|0,e=e+Math.imul(B,dt)|0;var qt=(a+(n=n+Math.imul(A,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(A,vt)|0)+Math.imul(x,Mt)|0))<<13)|0;a=((e=e+Math.imul(x,vt)|0)+(h>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(K,nt),h=(h=Math.imul(K,ht))+Math.imul(P,nt)|0,e=Math.imul(P,ht),n=n+Math.imul(E,ot)|0,h=(h=h+Math.imul(E,st)|0)+Math.imul(O,ot)|0,e=e+Math.imul(O,st)|0,n=n+Math.imul(I,at)|0,h=(h=h+Math.imul(I,lt)|0)+Math.imul(z,at)|0,e=e+Math.imul(z,lt)|0,n=n+Math.imul(q,ft)|0,h=(h=h+Math.imul(q,dt)|0)+Math.imul(N,ft)|0,e=e+Math.imul(N,dt)|0;var Nt=(a+(n=n+Math.imul(Z,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(Z,vt)|0)+Math.imul(B,Mt)|0))<<13)|0;a=((e=e+Math.imul(B,vt)|0)+(h>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(K,ot),h=(h=Math.imul(K,st))+Math.imul(P,ot)|0,e=Math.imul(P,st),n=n+Math.imul(E,at)|0,h=(h=h+Math.imul(E,lt)|0)+Math.imul(O,at)|0,e=e+Math.imul(O,lt)|0,n=n+Math.imul(I,ft)|0,h=(h=h+Math.imul(I,dt)|0)+Math.imul(z,ft)|0,e=e+Math.imul(z,dt)|0;var Lt=(a+(n=n+Math.imul(q,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(q,vt)|0)+Math.imul(N,Mt)|0))<<13)|0;a=((e=e+Math.imul(N,vt)|0)+(h>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(K,at),h=(h=Math.imul(K,lt))+Math.imul(P,at)|0,e=Math.imul(P,lt),n=n+Math.imul(E,ft)|0,h=(h=h+Math.imul(E,dt)|0)+Math.imul(O,ft)|0,e=e+Math.imul(O,dt)|0;var It=(a+(n=n+Math.imul(I,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(I,vt)|0)+Math.imul(z,Mt)|0))<<13)|0;a=((e=e+Math.imul(z,vt)|0)+(h>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(K,ft),h=(h=Math.imul(K,dt))+Math.imul(P,ft)|0,e=Math.imul(P,dt);var zt=(a+(n=n+Math.imul(E,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(E,vt)|0)+Math.imul(O,Mt)|0))<<13)|0;a=((e=e+Math.imul(O,vt)|0)+(h>>>13)|0)+(zt>>>26)|0,zt&=67108863;var Tt=(a+(n=Math.imul(K,Mt))|0)+((8191&(h=(h=Math.imul(K,vt))+Math.imul(P,Mt)|0))<<13)|0;return a=((e=Math.imul(P,vt))+(h>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,u[0]=gt,u[1]=ct,u[2]=wt,u[3]=yt,u[4]=bt,u[5]=_t,u[6]=kt,u[7]=At,u[8]=xt,u[9]=St,u[10]=Zt,u[11]=Bt,u[12]=Rt,u[13]=qt,u[14]=Nt,u[15]=Lt,u[16]=It,u[17]=zt,u[18]=Tt,0!==a&&(u[19]=a,r.length++),r};function v(t,i,r){r.negative=i.negative^t.negative,r.length=t.length+i.length;for(var n=0,h=0,e=0;e<r.length-1;e++){var o=h;h=0;for(var s=67108863&n,u=Math.min(e,i.length-1),a=Math.max(0,e-t.length+1);a<=u;a++){var l=e-a,m=(0|t.words[l])*(0|i.words[a]),f=67108863&m;s=67108863&(f=f+s|0),h+=(o=(o=o+(m/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[e]=s,n=o,o=h}return 0!==n?r.words[e]=n:r.length--,r.strip()}function g(t,i,r){return(new c).mulp(t,i,r)}function c(t,i){this.x=t,this.y=i}Math.imul||(M=p),h.prototype.mulTo=function(t,i){var r=this.length+t.length;return 10===this.length&&10===t.length?M(this,t,i):r<63?p(this,t,i):r<1024?v(this,t,i):g(this,t,i)},c.prototype.makeRBT=function(t){for(var i=new Array(t),r=h.prototype._countBits(t)-1,n=0;n<t;n++)i[n]=this.revBin(n,r,t);return i},c.prototype.revBin=function(t,i,r){if(0===t||t===r-1)return t;for(var n=0,h=0;h<i;h++)n|=(1&t)<<i-h-1,t>>=1;return n},c.prototype.permute=function(t,i,r,n,h,e){for(var o=0;o<e;o++)n[o]=i[t[o]],h[o]=r[t[o]]},c.prototype.transform=function(t,i,r,n,h,e){this.permute(e,t,i,r,n,h);for(var o=1;o<h;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),a=Math.sin(2*Math.PI/s),l=0;l<h;l+=s)for(var m=u,f=a,p=0;p<o;p++){var M=r[l+p],v=n[l+p],g=r[l+p+o],c=n[l+p+o],w=m*g-f*c;c=m*c+f*g,g=w,r[l+p]=M+g,n[l+p]=v+c,r[l+p+o]=M-g,n[l+p+o]=v-c,p!==s&&(w=u*m-a*f,f=u*f+a*m,m=w)}},c.prototype.guessLen13b=function(t,i){var r=1|Math.max(i,t),n=1&r,h=0;for(r=r/2|0;r;r>>>=1)h++;return 1<<h+1+n},c.prototype.conjugate=function(t,i,r){if(!(r<=1))for(var n=0;n<r/2;n++){var h=t[n];t[n]=t[r-n-1],t[r-n-1]=h,h=i[n],i[n]=-i[r-n-1],i[r-n-1]=-h}},c.prototype.normalize13b=function(t,i){for(var r=0,n=0;n<i/2;n++){var h=8192*Math.round(t[2*n+1]/i)+Math.round(t[2*n]/i)+r;t[n]=67108863&h,r=h<67108864?0:h/67108864|0}return t},c.prototype.convert13b=function(t,i,n,h){for(var e=0,o=0;o<i;o++)e+=0|t[o],n[2*o]=8191&e,e>>>=13,n[2*o+1]=8191&e,e>>>=13;for(o=2*i;o<h;++o)n[o]=0;r(0===e),r(0==(-8192&e))},c.prototype.stub=function(t){for(var i=new Array(t),r=0;r<t;r++)i[r]=0;return i},c.prototype.mulp=function(t,i,r){var n=2*this.guessLen13b(t.length,i.length),h=this.makeRBT(n),e=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),a=new Array(n),l=new Array(n),m=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(i.words,i.length,a,n),this.transform(o,e,s,u,n,h),this.transform(a,e,l,m,n,h);for(var p=0;p<n;p++){var M=s[p]*l[p]-u[p]*m[p];u[p]=s[p]*m[p]+u[p]*l[p],s[p]=M}return this.conjugate(s,u,n),this.transform(s,u,f,e,n,h),this.conjugate(f,e,n),this.normalize13b(f,n),r.negative=t.negative^i.negative,r.length=t.length+i.length,r.strip()},h.prototype.mul=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},h.prototype.mulf=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),g(this,t,i)},h.prototype.imul=function(t){return this.clone().mulTo(t,this)},h.prototype.imuln=function(t){r('number'==typeof t),r(t<67108864);for(var i=0,n=0;n<this.length;n++){var h=(0|this.words[n])*t,e=(67108863&h)+(67108863&i);i>>=26,i+=h/67108864|0,i+=e>>>26,this.words[n]=67108863&e}return 0!==i&&(this.words[n]=i,this.length++),this},h.prototype.muln=function(t){return this.clone().imuln(t)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(t){var i=f(t);if(0===i.length)return new h(1);for(var r=this,n=0;n<i.length&&0===i[n];n++,r=r.sqr());if(++n<i.length)for(var e=r.sqr();n<i.length;n++,e=e.sqr())0!==i[n]&&(r=r.mul(e));return r},h.prototype.iushln=function(t){r('number'==typeof t&&t>=0);var i,n=t%26,h=(t-n)/26,e=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(i=0;i<this.length;i++){var s=this.words[i]&e,u=(0|this.words[i])-s<<n;this.words[i]=u|o,o=s>>>26-n}o&&(this.words[i]=o,this.length++)}if(0!==h){for(i=this.length-1;i>=0;i--)this.words[i+h]=this.words[i];for(i=0;i<h;i++)this.words[i]=0;this.length+=h}return this.strip()},h.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},h.prototype.iushrn=function(t,i,n){var h;r('number'==typeof t&&t>=0),h=i?(i-i%26)/26:0;var e=t%26,o=Math.min((t-e)/26,this.length),s=67108863^67108863>>>e<<e,u=n;if(h-=o,h=Math.max(0,h),u){for(var a=0;a<o;a++)u.words[a]=this.words[a];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,a=0;a<this.length;a++)this.words[a]=this.words[a+o];else this.words[0]=0,this.length=1;var l=0;for(a=this.length-1;a>=0&&(0!==l||a>=h);a--){var m=0|this.words[a];this.words[a]=l<<26-e|m>>>e,l=m&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},h.prototype.ishrn=function(t,i,n){return r(0===this.negative),this.iushrn(t,i,n)},h.prototype.shln=function(t){return this.clone().ishln(t)},h.prototype.ushln=function(t){return this.clone().iushln(t)},h.prototype.shrn=function(t){return this.clone().ishrn(t)},h.prototype.ushrn=function(t){return this.clone().iushrn(t)},h.prototype.testn=function(t){r('number'==typeof t&&t>=0);var i=t%26,n=(t-i)/26,h=1<<i;return!(this.length<=n)&&!!(this.words[n]&h)},h.prototype.imaskn=function(t){r('number'==typeof t&&t>=0);var i=t%26,n=(t-i)/26;if(r(0===this.negative,'imaskn works only with positive numbers'),this.length<=n)return this;if(0!==i&&n++,this.length=Math.min(n,this.length),0!==i){var h=67108863^67108863>>>i<<i;this.words[this.length-1]&=h}return this.strip()},h.prototype.maskn=function(t){return this.clone().imaskn(t)},h.prototype.iaddn=function(t){return r('number'==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},h.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},h.prototype.isubn=function(t){if(r('number'==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},h.prototype.addn=function(t){return this.clone().iaddn(t)},h.prototype.subn=function(t){return this.clone().isubn(t)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(t,i,n){var h,e,o=t.length+n;this._expand(o);var s=0;for(h=0;h<t.length;h++){e=(0|this.words[h+n])+s;var u=(0|t.words[h])*i;s=((e-=67108863&u)>>26)-(u/67108864|0),this.words[h+n]=67108863&e}for(;h<this.length-n;h++)s=(e=(0|this.words[h+n])+s)>>26,this.words[h+n]=67108863&e;if(0===s)return this.strip();for(r(-1===s),s=0,h=0;h<this.length;h++)s=(e=-(0|this.words[h])+s)>>26,this.words[h]=67108863&e;return this.negative=1,this.strip()},h.prototype._wordDiv=function(t,i){var r=(this.length,t.length),n=this.clone(),e=t,o=0|e.words[e.length-1];0!==(r=26-this._countBits(o))&&(e=e.ushln(r),n.iushln(r),o=0|e.words[e.length-1]);var s,u=n.length-e.length;if('mod'!==i){(s=new h(null)).length=u+1,s.words=new Array(s.length);for(var a=0;a<s.length;a++)s.words[a]=0}var l=n.clone()._ishlnsubmul(e,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var m=u-1;m>=0;m--){var f=67108864*(0|n.words[e.length+m])+(0|n.words[e.length+m-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(e,f,m);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(e,1,m),n.isZero()||(n.negative^=1);s&&(s.words[m]=f)}return s&&s.strip(),n.strip(),'div'!==i&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},h.prototype.divmod=function(t,i,n){return r(!t.isZero()),this.isZero()?{div:new h(0),mod:new h(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,i),'mod'!==i&&(e=s.div.neg()),'div'!==i&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:e,mod:o}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),i),'mod'!==i&&(e=s.div.neg()),{div:e,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),i),'div'!==i&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:s.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new h(0),mod:this}:1===t.length?'div'===i?{div:this.divn(t.words[0]),mod:null}:'mod'===i?{div:null,mod:new h(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new h(this.modn(t.words[0]))}:this._wordDiv(t,i);var e,o,s},h.prototype.div=function(t){return this.divmod(t,'div',!1).div},h.prototype.mod=function(t){return this.divmod(t,'mod',!1).mod},h.prototype.umod=function(t){return this.divmod(t,'mod',!0).mod},h.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var r=0!==i.div.negative?i.mod.isub(t):i.mod,n=t.ushrn(1),h=t.andln(1),e=r.cmp(n);return e<0||1===h&&0===e?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},h.prototype.modn=function(t){r(t<=67108863);for(var i=67108864%t,n=0,h=this.length-1;h>=0;h--)n=(i*n+(0|this.words[h]))%t;return n},h.prototype.idivn=function(t){r(t<=67108863);for(var i=0,n=this.length-1;n>=0;n--){var h=(0|this.words[n])+67108864*i;this.words[n]=h/t|0,i=h%t}return this.strip()},h.prototype.divn=function(t){return this.clone().idivn(t)},h.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var i=this,n=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e=new h(1),o=new h(0),s=new h(0),u=new h(1),a=0;i.isEven()&&n.isEven();)i.iushrn(1),n.iushrn(1),++a;for(var l=n.clone(),m=i.clone();!i.isZero();){for(var f=0,p=1;0==(i.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(i.iushrn(f);f-- >0;)(e.isOdd()||o.isOdd())&&(e.iadd(l),o.isub(m)),e.iushrn(1),o.iushrn(1);for(var M=0,v=1;0==(n.words[0]&v)&&M<26;++M,v<<=1);if(M>0)for(n.iushrn(M);M-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(m)),s.iushrn(1),u.iushrn(1);i.cmp(n)>=0?(i.isub(n),e.isub(s),o.isub(u)):(n.isub(i),s.isub(e),u.isub(o))}return{a:s,b:u,gcd:n.iushln(a)}},h.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var i=this,n=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e,o=new h(1),s=new h(0),u=n.clone();i.cmpn(1)>0&&n.cmpn(1)>0;){for(var a=0,l=1;0==(i.words[0]&l)&&a<26;++a,l<<=1);if(a>0)for(i.iushrn(a);a-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var m=0,f=1;0==(n.words[0]&f)&&m<26;++m,f<<=1);if(m>0)for(n.iushrn(m);m-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);i.cmp(n)>=0?(i.isub(n),o.isub(s)):(n.isub(i),s.isub(o))}return(e=0===i.cmpn(1)?o:s).cmpn(0)<0&&e.iadd(t),e},h.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),r=t.clone();i.negative=0,r.negative=0;for(var n=0;i.isEven()&&r.isEven();n++)i.iushrn(1),r.iushrn(1);for(;;){for(;i.isEven();)i.iushrn(1);for(;r.isEven();)r.iushrn(1);var h=i.cmp(r);if(h<0){var e=i;i=r,r=e}else if(0===h||0===r.cmpn(1))break;i.isub(r)}return r.iushln(n)},h.prototype.invm=function(t){return this.egcd(t).a.umod(t)},h.prototype.isEven=function(){return 0==(1&this.words[0])},h.prototype.isOdd=function(){return 1==(1&this.words[0])},h.prototype.andln=function(t){return this.words[0]&t},h.prototype.bincn=function(t){r('number'==typeof t);var i=t%26,n=(t-i)/26,h=1<<i;if(this.length<=n)return this._expand(n+1),this.words[n]|=h,this;for(var e=h,o=n;0!==e&&o<this.length;o++){var s=0|this.words[o];e=(s+=e)>>>26,s&=67108863,this.words[o]=s}return 0!==e&&(this.words[o]=e,this.length++),this},h.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},h.prototype.cmpn=function(t){var i,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)i=1;else{n&&(t=-t),r(t<=67108863,'Number is too big');var h=0|this.words[0];i=h===t?0:h<t?-1:1}return 0!==this.negative?0|-i:i},h.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var i=this.ucmp(t);return 0!==this.negative?0|-i:i},h.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],h=0|t.words[r];if(n!==h){n<h?i=-1:n>h&&(i=1);break}}return i},h.prototype.gtn=function(t){return 1===this.cmpn(t)},h.prototype.gt=function(t){return 1===this.cmp(t)},h.prototype.gten=function(t){return this.cmpn(t)>=0},h.prototype.gte=function(t){return this.cmp(t)>=0},h.prototype.ltn=function(t){return-1===this.cmpn(t)},h.prototype.lt=function(t){return-1===this.cmp(t)},h.prototype.lten=function(t){return this.cmpn(t)<=0},h.prototype.lte=function(t){return this.cmp(t)<=0},h.prototype.eqn=function(t){return 0===this.cmpn(t)},h.prototype.eq=function(t){return 0===this.cmp(t)},h.red=function(t){return new x(t)},h.prototype.toRed=function(t){return r(!this.red,'Already a number in reduction context'),r(0===this.negative,'red works only with positives'),t.convertTo(this)._forceRed(t)},h.prototype.fromRed=function(){return r(this.red,'fromRed works only with numbers in reduction context'),this.red.convertFrom(this)},h.prototype._forceRed=function(t){return this.red=t,this},h.prototype.forceRed=function(t){return r(!this.red,'Already a number in reduction context'),this._forceRed(t)},h.prototype.redAdd=function(t){return r(this.red,'redAdd works only with red numbers'),this.red.add(this,t)},h.prototype.redIAdd=function(t){return r(this.red,'redIAdd works only with red numbers'),this.red.iadd(this,t)},h.prototype.redSub=function(t){return r(this.red,'redSub works only with red numbers'),this.red.sub(this,t)},h.prototype.redISub=function(t){return r(this.red,'redISub works only with red numbers'),this.red.isub(this,t)},h.prototype.redShl=function(t){return r(this.red,'redShl works only with red numbers'),this.red.shl(this,t)},h.prototype.redMul=function(t){return r(this.red,'redMul works only with red numbers'),this.red._verify2(this,t),this.red.mul(this,t)},h.prototype.redIMul=function(t){return r(this.red,'redMul works only with red numbers'),this.red._verify2(this,t),this.red.imul(this,t)},h.prototype.redSqr=function(){return r(this.red,'redSqr works only with red numbers'),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return r(this.red,'redISqr works only with red numbers'),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return r(this.red,'redSqrt works only with red numbers'),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return r(this.red,'redInvm works only with red numbers'),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return r(this.red,'redNeg works only with red numbers'),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(t){return r(this.red&&!t.red,'redPow(normalNum)'),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function y(t,i){this.name=t,this.p=new h(i,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,'k256','ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f')}function _(){y.call(this,'p224','ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001')}function k(){y.call(this,'p192','ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff')}function A(){y.call(this,'25519','7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed')}function x(t){if('string'==typeof t){var i=h._prime(t);this.m=i.p,this.prime=i}else r(t.gtn(1),'modulus must be greater than 1'),this.m=t,this.prime=null}function S(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new h(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var i,r=t;do{this.split(r,this.tmp),i=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(i>this.n);var n=i<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,i){t.iushrn(this.n,0,i)},y.prototype.imulK=function(t){return t.imul(this.k)},n(b,y),b.prototype.split=function(t,i){for(var r=Math.min(t.length,9),n=0;n<r;n++)i.words[n]=t.words[n];if(i.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var h=t.words[9];for(i.words[i.length++]=4194303&h,n=10;n<t.length;n++){var e=0|t.words[n];t.words[n-10]=(4194303&e)<<4|h>>>22,h=e}h>>>=22,t.words[n-10]=h,0===h&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,r=0;r<t.length;r++){var n=0|t.words[r];i+=977*n,t.words[r]=67108863&i,i=64*n+(i/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(_,y),n(k,y),n(A,y),A.prototype.imulK=function(t){for(var i=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+i,h=67108863&n;n>>>=26,t.words[r]=h,i=n}return 0!==i&&(t.words[t.length++]=i),t},h._prime=function(t){if(w[t])return w[t];var i;if('k256'===t)i=new b;else if('p224'===t)i=new _;else if('p192'===t)i=new k;else{if('p25519'!==t)throw new Error('Unknown prime '+t);i=new A}return w[t]=i,i},x.prototype._verify1=function(t){r(0===t.negative,'red works only with positives'),r(t.red,'red works only with red numbers')},x.prototype._verify2=function(t,i){r(0==(t.negative|i.negative),'red works only with positives'),r(t.red&&t.red===i.red,'red works only with red numbers')},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,i){this._verify2(t,i);var r=t.add(i);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(t,i){this._verify2(t,i);var r=t.iadd(i);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(t,i){this._verify2(t,i);var r=t.sub(i);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(t,i){this._verify2(t,i);var r=t.isub(i);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},x.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},x.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(r(i%2==1),3===i){var n=this.m.add(new h(1)).iushrn(2);return this.pow(t,n)}for(var e=this.m.subn(1),o=0;!e.isZero()&&0===e.andln(1);)o++,e.iushrn(1);r(!e.isZero());var s=new h(1).toRed(this),u=s.redNeg(),a=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new h(2*l*l).toRed(this);0!==this.pow(l,a).cmp(u);)l.redIAdd(u);for(var m=this.pow(l,e),f=this.pow(t,e.addn(1).iushrn(1)),p=this.pow(t,e),M=o;0!==p.cmp(s);){for(var v=p,g=0;0!==v.cmp(s);g++)v=v.redSqr();r(g<M);var c=this.pow(m,new h(1).iushln(M-g-1));f=f.redMul(c),m=c.redSqr(),p=p.redMul(m),M=g}return f},x.prototype.invm=function(t){var i=t._invmp(this.m);return 0!==i.negative?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},x.prototype.pow=function(t,i){if(i.isZero())return new h(1).toRed(this);if(0===i.cmpn(1))return t.clone();var r=new Array(16);r[0]=new h(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var e=r[0],o=0,s=0,u=i.bitLength()%26;for(0===u&&(u=26),n=i.length-1;n>=0;n--){for(var a=i.words[n],l=u-1;l>=0;l--){var m=a>>l&1;e!==r[0]&&(e=this.sqr(e)),0!==m||0!==o?(o<<=1,o|=m,(4===++s||0===n&&0===l)&&(e=this.mul(e,r[o]),s=0,o=0)):s=0}u=26}return e},x.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},x.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},h.mont=function(t){return new S(t)},n(S,x),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},S.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=r.isub(n).iushrn(this.shift),e=h;return h.cmp(this.m)>=0?e=h.isub(this.m):h.cmpn(0)<0&&(e=h.iadd(this.m)),e._forceRed(this)},S.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new h(0)._forceRed(this);var r=t.mul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=r.isub(n).iushrn(this.shift),o=e;return e.cmp(this.m)>=0?o=e.isub(this.m):e.cmpn(0)<0&&(o=e.iadd(this.m)),o._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}})(void 0===_m||_m,this)},542,[476]);
__d(function(_g,_r,_i,_a,_m,_e,d){!(function(t,i){'use strict';function r(t,i){if(!t)throw new Error(i||'Assertion failed')}function n(t,i){t.super_=i;var r=function(){};r.prototype=i.prototype,t.prototype=new r,t.prototype.constructor=t}function h(t,i,r){if(h.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&('le'!==i&&'be'!==i||(r=i,i=10),this._init(t||0,i||10,r||'be'))}var e;'object'==typeof t?t.exports=h:i.BN=h,h.BN=h,h.wordSize=26;try{e='undefined'!=typeof window&&void 0!==window.Buffer?window.Buffer:_r(d[0]).Buffer}catch(t){}function o(t,i){var r=t.charCodeAt(i);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function s(t,i,r){var n=o(t,r);return r-1>=i&&(n|=o(t,r-1)<<4),n}function u(t,i,r,n){for(var h=0,e=Math.min(t.length,r),o=i;o<e;o++){var s=t.charCodeAt(o)-48;h*=n,h+=s>=49?s-49+10:s>=17?s-17+10:s}return h}h.isBN=function(t){return t instanceof h||null!==t&&'object'==typeof t&&t.constructor.wordSize===h.wordSize&&Array.isArray(t.words)},h.max=function(t,i){return t.cmp(i)>0?t:i},h.min=function(t,i){return t.cmp(i)<0?t:i},h.prototype._init=function(t,i,n){if('number'==typeof t)return this._initNumber(t,i,n);if('object'==typeof t)return this._initArray(t,i,n);'hex'===i&&(i=16),r(i===(0|i)&&i>=2&&i<=36);var h=0;'-'===(t=t.toString().replace(/\s+/g,''))[0]&&(h++,this.negative=1),h<t.length&&(16===i?this._parseHex(t,h,n):(this._parseBase(t,i,h),'le'===n&&this._initArray(this.toArray(),i,n)))},h.prototype._initNumber=function(t,i,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),'le'===n&&this._initArray(this.toArray(),i,n)},h.prototype._initArray=function(t,i,n){if(r('number'==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var e,o,s=0;if('be'===n)for(h=t.length-1,e=0;h>=0;h-=3)o=t[h]|t[h-1]<<8|t[h-2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);else if('le'===n)for(h=0,e=0;h<t.length;h+=3)o=t[h]|t[h+1]<<8|t[h+2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);return this.strip()},h.prototype._parseHex=function(t,i,r){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var h,e=0,o=0;if('be'===r)for(n=t.length-1;n>=i;n-=2)h=s(t,i,n)<<e,this.words[o]|=67108863&h,e>=18?(e-=18,o+=1,this.words[o]|=h>>>26):e+=8;else for(n=(t.length-i)%2==0?i+1:i;n<t.length;n+=2)h=s(t,i,n)<<e,this.words[o]|=67108863&h,e>=18?(e-=18,o+=1,this.words[o]|=h>>>26):e+=8;this.strip()},h.prototype._parseBase=function(t,i,r){this.words=[0],this.length=1;for(var n=0,h=1;h<=67108863;h*=i)n++;n--,h=h/i|0;for(var e=t.length-r,o=e%n,s=Math.min(e,e-o)+r,a=0,l=r;l<s;l+=n)a=u(t,l,l+n,i),this.imuln(h),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==o){var m=1;for(a=u(t,l,t.length,i),l=0;l<o;l++)m*=i;this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},h.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},h.prototype.clone=function(){var t=new h(null);return this.copy(t),t},h.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},h.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},h.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},h.prototype.inspect=function(){return(this.red?'<BN-R: ':'<BN: ')+this.toString(16)+'>'};var a=['','0','00','000','0000','00000','000000','0000000','00000000','000000000','0000000000','00000000000','000000000000','0000000000000','00000000000000','000000000000000','0000000000000000','00000000000000000','000000000000000000','0000000000000000000','00000000000000000000','000000000000000000000','0000000000000000000000','00000000000000000000000','000000000000000000000000','0000000000000000000000000'],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t){for(var i=new Array(t.bitLength()),r=0;r<i.length;r++){var n=r/26|0,h=r%26;i[r]=(t.words[n]&1<<h)>>>h}return i}function p(t,i,r){r.negative=i.negative^t.negative;var n=t.length+i.length|0;r.length=n,n=n-1|0;var h=0|t.words[0],e=0|i.words[0],o=h*e,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var a=1;a<n;a++){for(var l=u>>>26,m=67108863&u,f=Math.min(a,i.length-1),p=Math.max(0,a-t.length+1);p<=f;p++){var M=a-p|0;l+=(o=(h=0|t.words[M])*(e=0|i.words[p])+m)/67108864|0,m=67108863&o}r.words[a]=0|m,u=0|l}return 0!==u?r.words[a]=0|u:r.length--,r.strip()}h.prototype.toString=function(t,i){var n;if(i=0|i||1,16===(t=t||10)||'hex'===t){n='';for(var h=0,e=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<h|e)).toString(16);e=s>>>24-h&16777215,(h+=2)>=26&&(h-=26,o--),n=0!==e||o!==this.length-1?a[6-u.length]+u+n:u+n}for(0!==e&&(n=e.toString(16)+n);n.length%i!=0;)n='0'+n;return 0!==this.negative&&(n='-'+n),n}if(t===(0|t)&&t>=2&&t<=36){var f=l[t],p=m[t];n='';var M=this.clone();for(M.negative=0;!M.isZero();){var v=M.modn(p).toString(t);n=(M=M.idivn(p)).isZero()?v+n:a[f-v.length]+v+n}for(this.isZero()&&(n='0'+n);n.length%i!=0;)n='0'+n;return 0!==this.negative&&(n='-'+n),n}r(!1,'Base should be between 2 and 36')},h.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,'Number can only safely store up to 53 bits'),0!==this.negative?-t:t},h.prototype.toJSON=function(){return this.toString(16)},h.prototype.toBuffer=function(t,i){return r(void 0!==e),this.toArrayLike(e,t,i)},h.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)},h.prototype.toArrayLike=function(t,i,n){var h=this.byteLength(),e=n||Math.max(1,h);r(h<=e,'byte array longer than desired length'),r(e>0,'Requested array length <= 0'),this.strip();var o,s,u='le'===i,a=new t(e),l=this.clone();if(u){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[s]=o;for(;s<e;s++)a[s]=0}else{for(s=0;s<e-h;s++)a[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[e-s-1]=o}return a},Math.clz32?h.prototype._countBits=function(t){return 32-Math.clz32(t)}:h.prototype._countBits=function(t){var i=t,r=0;return i>=4096&&(r+=13,i>>>=13),i>=64&&(r+=7,i>>>=7),i>=8&&(r+=4,i>>>=4),i>=2&&(r+=2,i>>>=2),r+i},h.prototype._zeroBits=function(t){if(0===t)return 26;var i=t,r=0;return 0==(8191&i)&&(r+=13,i>>>=13),0==(127&i)&&(r+=7,i>>>=7),0==(15&i)&&(r+=4,i>>>=4),0==(3&i)&&(r+=2,i>>>=2),0==(1&i)&&r++,r},h.prototype.bitLength=function(){var t=this.words[this.length-1],i=this._countBits(t);return 26*(this.length-1)+i},h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var r=this._zeroBits(this.words[i]);if(t+=r,26!==r)break}return t},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},h.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return 0!==this.negative},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this.strip()},h.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},h.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},h.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},h.prototype.iuand=function(t){var i;i=this.length>t.length?t:this;for(var r=0;r<i.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=i.length,this.strip()},h.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},h.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},h.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},h.prototype.iuxor=function(t){var i,r;this.length>t.length?(i=this,r=t):(i=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=i.words[n]^r.words[n];if(this!==i)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=i.length,this.strip()},h.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},h.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},h.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},h.prototype.inotn=function(t){r('number'==typeof t&&t>=0);var i=0|Math.ceil(t/26),n=t%26;this._expand(i),n>0&&i--;for(var h=0;h<i;h++)this.words[h]=67108863&~this.words[h];return n>0&&(this.words[h]=~this.words[h]&67108863>>26-n),this.strip()},h.prototype.notn=function(t){return this.clone().inotn(t)},h.prototype.setn=function(t,i){r('number'==typeof t&&t>=0);var n=t/26|0,h=t%26;return this._expand(n+1),this.words[n]=i?this.words[n]|1<<h:this.words[n]&~(1<<h),this.strip()},h.prototype.iadd=function(t){var i,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var h=0,e=0;e<n.length;e++)i=(0|r.words[e])+(0|n.words[e])+h,this.words[e]=67108863&i,h=i>>>26;for(;0!==h&&e<r.length;e++)i=(0|r.words[e])+h,this.words[e]=67108863&i,h=i>>>26;if(this.length=r.length,0!==h)this.words[this.length]=h,this.length++;else if(r!==this)for(;e<r.length;e++)this.words[e]=r.words[e];return this},h.prototype.add=function(t){var i;return 0!==t.negative&&0===this.negative?(t.negative=0,i=this.sub(t),t.negative^=1,i):0===t.negative&&0!==this.negative?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},h.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,h=this.cmp(t);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(r=this,n=t):(r=t,n=this);for(var e=0,o=0;o<n.length;o++)e=(i=(0|r.words[o])-(0|n.words[o])+e)>>26,this.words[o]=67108863&i;for(;0!==e&&o<r.length;o++)e=(i=(0|r.words[o])+e)>>26,this.words[o]=67108863&i;if(0===e&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},h.prototype.sub=function(t){return this.clone().isub(t)};var M=function(t,i,r){var n,h,e,o=t.words,s=i.words,u=r.words,a=0,l=0|o[0],m=8191&l,f=l>>>13,p=0|o[1],M=8191&p,v=p>>>13,g=0|o[2],c=8191&g,w=g>>>13,y=0|o[3],b=8191&y,_=y>>>13,k=0|o[4],A=8191&k,x=k>>>13,S=0|o[5],Z=8191&S,B=S>>>13,R=0|o[6],q=8191&R,N=R>>>13,L=0|o[7],I=8191&L,z=L>>>13,T=0|o[8],E=8191&T,O=T>>>13,j=0|o[9],K=8191&j,P=j>>>13,F=0|s[0],C=8191&F,D=F>>>13,H=0|s[1],J=8191&H,U=H>>>13,G=0|s[2],Q=8191&G,V=G>>>13,W=0|s[3],X=8191&W,Y=W>>>13,$=0|s[4],tt=8191&$,it=$>>>13,rt=0|s[5],nt=8191&rt,ht=rt>>>13,et=0|s[6],ot=8191&et,st=et>>>13,ut=0|s[7],at=8191&ut,lt=ut>>>13,mt=0|s[8],ft=8191&mt,dt=mt>>>13,pt=0|s[9],Mt=8191&pt,vt=pt>>>13;r.negative=t.negative^i.negative,r.length=19;var gt=(a+(n=Math.imul(m,C))|0)+((8191&(h=(h=Math.imul(m,D))+Math.imul(f,C)|0))<<13)|0;a=((e=Math.imul(f,D))+(h>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(M,C),h=(h=Math.imul(M,D))+Math.imul(v,C)|0,e=Math.imul(v,D);var ct=(a+(n=n+Math.imul(m,J)|0)|0)+((8191&(h=(h=h+Math.imul(m,U)|0)+Math.imul(f,J)|0))<<13)|0;a=((e=e+Math.imul(f,U)|0)+(h>>>13)|0)+(ct>>>26)|0,ct&=67108863,n=Math.imul(c,C),h=(h=Math.imul(c,D))+Math.imul(w,C)|0,e=Math.imul(w,D),n=n+Math.imul(M,J)|0,h=(h=h+Math.imul(M,U)|0)+Math.imul(v,J)|0,e=e+Math.imul(v,U)|0;var wt=(a+(n=n+Math.imul(m,Q)|0)|0)+((8191&(h=(h=h+Math.imul(m,V)|0)+Math.imul(f,Q)|0))<<13)|0;a=((e=e+Math.imul(f,V)|0)+(h>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(b,C),h=(h=Math.imul(b,D))+Math.imul(_,C)|0,e=Math.imul(_,D),n=n+Math.imul(c,J)|0,h=(h=h+Math.imul(c,U)|0)+Math.imul(w,J)|0,e=e+Math.imul(w,U)|0,n=n+Math.imul(M,Q)|0,h=(h=h+Math.imul(M,V)|0)+Math.imul(v,Q)|0,e=e+Math.imul(v,V)|0;var yt=(a+(n=n+Math.imul(m,X)|0)|0)+((8191&(h=(h=h+Math.imul(m,Y)|0)+Math.imul(f,X)|0))<<13)|0;a=((e=e+Math.imul(f,Y)|0)+(h>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(A,C),h=(h=Math.imul(A,D))+Math.imul(x,C)|0,e=Math.imul(x,D),n=n+Math.imul(b,J)|0,h=(h=h+Math.imul(b,U)|0)+Math.imul(_,J)|0,e=e+Math.imul(_,U)|0,n=n+Math.imul(c,Q)|0,h=(h=h+Math.imul(c,V)|0)+Math.imul(w,Q)|0,e=e+Math.imul(w,V)|0,n=n+Math.imul(M,X)|0,h=(h=h+Math.imul(M,Y)|0)+Math.imul(v,X)|0,e=e+Math.imul(v,Y)|0;var bt=(a+(n=n+Math.imul(m,tt)|0)|0)+((8191&(h=(h=h+Math.imul(m,it)|0)+Math.imul(f,tt)|0))<<13)|0;a=((e=e+Math.imul(f,it)|0)+(h>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(Z,C),h=(h=Math.imul(Z,D))+Math.imul(B,C)|0,e=Math.imul(B,D),n=n+Math.imul(A,J)|0,h=(h=h+Math.imul(A,U)|0)+Math.imul(x,J)|0,e=e+Math.imul(x,U)|0,n=n+Math.imul(b,Q)|0,h=(h=h+Math.imul(b,V)|0)+Math.imul(_,Q)|0,e=e+Math.imul(_,V)|0,n=n+Math.imul(c,X)|0,h=(h=h+Math.imul(c,Y)|0)+Math.imul(w,X)|0,e=e+Math.imul(w,Y)|0,n=n+Math.imul(M,tt)|0,h=(h=h+Math.imul(M,it)|0)+Math.imul(v,tt)|0,e=e+Math.imul(v,it)|0;var _t=(a+(n=n+Math.imul(m,nt)|0)|0)+((8191&(h=(h=h+Math.imul(m,ht)|0)+Math.imul(f,nt)|0))<<13)|0;a=((e=e+Math.imul(f,ht)|0)+(h>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(q,C),h=(h=Math.imul(q,D))+Math.imul(N,C)|0,e=Math.imul(N,D),n=n+Math.imul(Z,J)|0,h=(h=h+Math.imul(Z,U)|0)+Math.imul(B,J)|0,e=e+Math.imul(B,U)|0,n=n+Math.imul(A,Q)|0,h=(h=h+Math.imul(A,V)|0)+Math.imul(x,Q)|0,e=e+Math.imul(x,V)|0,n=n+Math.imul(b,X)|0,h=(h=h+Math.imul(b,Y)|0)+Math.imul(_,X)|0,e=e+Math.imul(_,Y)|0,n=n+Math.imul(c,tt)|0,h=(h=h+Math.imul(c,it)|0)+Math.imul(w,tt)|0,e=e+Math.imul(w,it)|0,n=n+Math.imul(M,nt)|0,h=(h=h+Math.imul(M,ht)|0)+Math.imul(v,nt)|0,e=e+Math.imul(v,ht)|0;var kt=(a+(n=n+Math.imul(m,ot)|0)|0)+((8191&(h=(h=h+Math.imul(m,st)|0)+Math.imul(f,ot)|0))<<13)|0;a=((e=e+Math.imul(f,st)|0)+(h>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(I,C),h=(h=Math.imul(I,D))+Math.imul(z,C)|0,e=Math.imul(z,D),n=n+Math.imul(q,J)|0,h=(h=h+Math.imul(q,U)|0)+Math.imul(N,J)|0,e=e+Math.imul(N,U)|0,n=n+Math.imul(Z,Q)|0,h=(h=h+Math.imul(Z,V)|0)+Math.imul(B,Q)|0,e=e+Math.imul(B,V)|0,n=n+Math.imul(A,X)|0,h=(h=h+Math.imul(A,Y)|0)+Math.imul(x,X)|0,e=e+Math.imul(x,Y)|0,n=n+Math.imul(b,tt)|0,h=(h=h+Math.imul(b,it)|0)+Math.imul(_,tt)|0,e=e+Math.imul(_,it)|0,n=n+Math.imul(c,nt)|0,h=(h=h+Math.imul(c,ht)|0)+Math.imul(w,nt)|0,e=e+Math.imul(w,ht)|0,n=n+Math.imul(M,ot)|0,h=(h=h+Math.imul(M,st)|0)+Math.imul(v,ot)|0,e=e+Math.imul(v,st)|0;var At=(a+(n=n+Math.imul(m,at)|0)|0)+((8191&(h=(h=h+Math.imul(m,lt)|0)+Math.imul(f,at)|0))<<13)|0;a=((e=e+Math.imul(f,lt)|0)+(h>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(E,C),h=(h=Math.imul(E,D))+Math.imul(O,C)|0,e=Math.imul(O,D),n=n+Math.imul(I,J)|0,h=(h=h+Math.imul(I,U)|0)+Math.imul(z,J)|0,e=e+Math.imul(z,U)|0,n=n+Math.imul(q,Q)|0,h=(h=h+Math.imul(q,V)|0)+Math.imul(N,Q)|0,e=e+Math.imul(N,V)|0,n=n+Math.imul(Z,X)|0,h=(h=h+Math.imul(Z,Y)|0)+Math.imul(B,X)|0,e=e+Math.imul(B,Y)|0,n=n+Math.imul(A,tt)|0,h=(h=h+Math.imul(A,it)|0)+Math.imul(x,tt)|0,e=e+Math.imul(x,it)|0,n=n+Math.imul(b,nt)|0,h=(h=h+Math.imul(b,ht)|0)+Math.imul(_,nt)|0,e=e+Math.imul(_,ht)|0,n=n+Math.imul(c,ot)|0,h=(h=h+Math.imul(c,st)|0)+Math.imul(w,ot)|0,e=e+Math.imul(w,st)|0,n=n+Math.imul(M,at)|0,h=(h=h+Math.imul(M,lt)|0)+Math.imul(v,at)|0,e=e+Math.imul(v,lt)|0;var xt=(a+(n=n+Math.imul(m,ft)|0)|0)+((8191&(h=(h=h+Math.imul(m,dt)|0)+Math.imul(f,ft)|0))<<13)|0;a=((e=e+Math.imul(f,dt)|0)+(h>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(K,C),h=(h=Math.imul(K,D))+Math.imul(P,C)|0,e=Math.imul(P,D),n=n+Math.imul(E,J)|0,h=(h=h+Math.imul(E,U)|0)+Math.imul(O,J)|0,e=e+Math.imul(O,U)|0,n=n+Math.imul(I,Q)|0,h=(h=h+Math.imul(I,V)|0)+Math.imul(z,Q)|0,e=e+Math.imul(z,V)|0,n=n+Math.imul(q,X)|0,h=(h=h+Math.imul(q,Y)|0)+Math.imul(N,X)|0,e=e+Math.imul(N,Y)|0,n=n+Math.imul(Z,tt)|0,h=(h=h+Math.imul(Z,it)|0)+Math.imul(B,tt)|0,e=e+Math.imul(B,it)|0,n=n+Math.imul(A,nt)|0,h=(h=h+Math.imul(A,ht)|0)+Math.imul(x,nt)|0,e=e+Math.imul(x,ht)|0,n=n+Math.imul(b,ot)|0,h=(h=h+Math.imul(b,st)|0)+Math.imul(_,ot)|0,e=e+Math.imul(_,st)|0,n=n+Math.imul(c,at)|0,h=(h=h+Math.imul(c,lt)|0)+Math.imul(w,at)|0,e=e+Math.imul(w,lt)|0,n=n+Math.imul(M,ft)|0,h=(h=h+Math.imul(M,dt)|0)+Math.imul(v,ft)|0,e=e+Math.imul(v,dt)|0;var St=(a+(n=n+Math.imul(m,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(m,vt)|0)+Math.imul(f,Mt)|0))<<13)|0;a=((e=e+Math.imul(f,vt)|0)+(h>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(K,J),h=(h=Math.imul(K,U))+Math.imul(P,J)|0,e=Math.imul(P,U),n=n+Math.imul(E,Q)|0,h=(h=h+Math.imul(E,V)|0)+Math.imul(O,Q)|0,e=e+Math.imul(O,V)|0,n=n+Math.imul(I,X)|0,h=(h=h+Math.imul(I,Y)|0)+Math.imul(z,X)|0,e=e+Math.imul(z,Y)|0,n=n+Math.imul(q,tt)|0,h=(h=h+Math.imul(q,it)|0)+Math.imul(N,tt)|0,e=e+Math.imul(N,it)|0,n=n+Math.imul(Z,nt)|0,h=(h=h+Math.imul(Z,ht)|0)+Math.imul(B,nt)|0,e=e+Math.imul(B,ht)|0,n=n+Math.imul(A,ot)|0,h=(h=h+Math.imul(A,st)|0)+Math.imul(x,ot)|0,e=e+Math.imul(x,st)|0,n=n+Math.imul(b,at)|0,h=(h=h+Math.imul(b,lt)|0)+Math.imul(_,at)|0,e=e+Math.imul(_,lt)|0,n=n+Math.imul(c,ft)|0,h=(h=h+Math.imul(c,dt)|0)+Math.imul(w,ft)|0,e=e+Math.imul(w,dt)|0;var Zt=(a+(n=n+Math.imul(M,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(M,vt)|0)+Math.imul(v,Mt)|0))<<13)|0;a=((e=e+Math.imul(v,vt)|0)+(h>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,n=Math.imul(K,Q),h=(h=Math.imul(K,V))+Math.imul(P,Q)|0,e=Math.imul(P,V),n=n+Math.imul(E,X)|0,h=(h=h+Math.imul(E,Y)|0)+Math.imul(O,X)|0,e=e+Math.imul(O,Y)|0,n=n+Math.imul(I,tt)|0,h=(h=h+Math.imul(I,it)|0)+Math.imul(z,tt)|0,e=e+Math.imul(z,it)|0,n=n+Math.imul(q,nt)|0,h=(h=h+Math.imul(q,ht)|0)+Math.imul(N,nt)|0,e=e+Math.imul(N,ht)|0,n=n+Math.imul(Z,ot)|0,h=(h=h+Math.imul(Z,st)|0)+Math.imul(B,ot)|0,e=e+Math.imul(B,st)|0,n=n+Math.imul(A,at)|0,h=(h=h+Math.imul(A,lt)|0)+Math.imul(x,at)|0,e=e+Math.imul(x,lt)|0,n=n+Math.imul(b,ft)|0,h=(h=h+Math.imul(b,dt)|0)+Math.imul(_,ft)|0,e=e+Math.imul(_,dt)|0;var Bt=(a+(n=n+Math.imul(c,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(c,vt)|0)+Math.imul(w,Mt)|0))<<13)|0;a=((e=e+Math.imul(w,vt)|0)+(h>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(K,X),h=(h=Math.imul(K,Y))+Math.imul(P,X)|0,e=Math.imul(P,Y),n=n+Math.imul(E,tt)|0,h=(h=h+Math.imul(E,it)|0)+Math.imul(O,tt)|0,e=e+Math.imul(O,it)|0,n=n+Math.imul(I,nt)|0,h=(h=h+Math.imul(I,ht)|0)+Math.imul(z,nt)|0,e=e+Math.imul(z,ht)|0,n=n+Math.imul(q,ot)|0,h=(h=h+Math.imul(q,st)|0)+Math.imul(N,ot)|0,e=e+Math.imul(N,st)|0,n=n+Math.imul(Z,at)|0,h=(h=h+Math.imul(Z,lt)|0)+Math.imul(B,at)|0,e=e+Math.imul(B,lt)|0,n=n+Math.imul(A,ft)|0,h=(h=h+Math.imul(A,dt)|0)+Math.imul(x,ft)|0,e=e+Math.imul(x,dt)|0;var Rt=(a+(n=n+Math.imul(b,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(b,vt)|0)+Math.imul(_,Mt)|0))<<13)|0;a=((e=e+Math.imul(_,vt)|0)+(h>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(K,tt),h=(h=Math.imul(K,it))+Math.imul(P,tt)|0,e=Math.imul(P,it),n=n+Math.imul(E,nt)|0,h=(h=h+Math.imul(E,ht)|0)+Math.imul(O,nt)|0,e=e+Math.imul(O,ht)|0,n=n+Math.imul(I,ot)|0,h=(h=h+Math.imul(I,st)|0)+Math.imul(z,ot)|0,e=e+Math.imul(z,st)|0,n=n+Math.imul(q,at)|0,h=(h=h+Math.imul(q,lt)|0)+Math.imul(N,at)|0,e=e+Math.imul(N,lt)|0,n=n+Math.imul(Z,ft)|0,h=(h=h+Math.imul(Z,dt)|0)+Math.imul(B,ft)|0,e=e+Math.imul(B,dt)|0;var qt=(a+(n=n+Math.imul(A,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(A,vt)|0)+Math.imul(x,Mt)|0))<<13)|0;a=((e=e+Math.imul(x,vt)|0)+(h>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(K,nt),h=(h=Math.imul(K,ht))+Math.imul(P,nt)|0,e=Math.imul(P,ht),n=n+Math.imul(E,ot)|0,h=(h=h+Math.imul(E,st)|0)+Math.imul(O,ot)|0,e=e+Math.imul(O,st)|0,n=n+Math.imul(I,at)|0,h=(h=h+Math.imul(I,lt)|0)+Math.imul(z,at)|0,e=e+Math.imul(z,lt)|0,n=n+Math.imul(q,ft)|0,h=(h=h+Math.imul(q,dt)|0)+Math.imul(N,ft)|0,e=e+Math.imul(N,dt)|0;var Nt=(a+(n=n+Math.imul(Z,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(Z,vt)|0)+Math.imul(B,Mt)|0))<<13)|0;a=((e=e+Math.imul(B,vt)|0)+(h>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(K,ot),h=(h=Math.imul(K,st))+Math.imul(P,ot)|0,e=Math.imul(P,st),n=n+Math.imul(E,at)|0,h=(h=h+Math.imul(E,lt)|0)+Math.imul(O,at)|0,e=e+Math.imul(O,lt)|0,n=n+Math.imul(I,ft)|0,h=(h=h+Math.imul(I,dt)|0)+Math.imul(z,ft)|0,e=e+Math.imul(z,dt)|0;var Lt=(a+(n=n+Math.imul(q,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(q,vt)|0)+Math.imul(N,Mt)|0))<<13)|0;a=((e=e+Math.imul(N,vt)|0)+(h>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(K,at),h=(h=Math.imul(K,lt))+Math.imul(P,at)|0,e=Math.imul(P,lt),n=n+Math.imul(E,ft)|0,h=(h=h+Math.imul(E,dt)|0)+Math.imul(O,ft)|0,e=e+Math.imul(O,dt)|0;var It=(a+(n=n+Math.imul(I,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(I,vt)|0)+Math.imul(z,Mt)|0))<<13)|0;a=((e=e+Math.imul(z,vt)|0)+(h>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(K,ft),h=(h=Math.imul(K,dt))+Math.imul(P,ft)|0,e=Math.imul(P,dt);var zt=(a+(n=n+Math.imul(E,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(E,vt)|0)+Math.imul(O,Mt)|0))<<13)|0;a=((e=e+Math.imul(O,vt)|0)+(h>>>13)|0)+(zt>>>26)|0,zt&=67108863;var Tt=(a+(n=Math.imul(K,Mt))|0)+((8191&(h=(h=Math.imul(K,vt))+Math.imul(P,Mt)|0))<<13)|0;return a=((e=Math.imul(P,vt))+(h>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,u[0]=gt,u[1]=ct,u[2]=wt,u[3]=yt,u[4]=bt,u[5]=_t,u[6]=kt,u[7]=At,u[8]=xt,u[9]=St,u[10]=Zt,u[11]=Bt,u[12]=Rt,u[13]=qt,u[14]=Nt,u[15]=Lt,u[16]=It,u[17]=zt,u[18]=Tt,0!==a&&(u[19]=a,r.length++),r};function v(t,i,r){r.negative=i.negative^t.negative,r.length=t.length+i.length;for(var n=0,h=0,e=0;e<r.length-1;e++){var o=h;h=0;for(var s=67108863&n,u=Math.min(e,i.length-1),a=Math.max(0,e-t.length+1);a<=u;a++){var l=e-a,m=(0|t.words[l])*(0|i.words[a]),f=67108863&m;s=67108863&(f=f+s|0),h+=(o=(o=o+(m/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[e]=s,n=o,o=h}return 0!==n?r.words[e]=n:r.length--,r.strip()}function g(t,i,r){return(new c).mulp(t,i,r)}function c(t,i){this.x=t,this.y=i}Math.imul||(M=p),h.prototype.mulTo=function(t,i){var r=this.length+t.length;return 10===this.length&&10===t.length?M(this,t,i):r<63?p(this,t,i):r<1024?v(this,t,i):g(this,t,i)},c.prototype.makeRBT=function(t){for(var i=new Array(t),r=h.prototype._countBits(t)-1,n=0;n<t;n++)i[n]=this.revBin(n,r,t);return i},c.prototype.revBin=function(t,i,r){if(0===t||t===r-1)return t;for(var n=0,h=0;h<i;h++)n|=(1&t)<<i-h-1,t>>=1;return n},c.prototype.permute=function(t,i,r,n,h,e){for(var o=0;o<e;o++)n[o]=i[t[o]],h[o]=r[t[o]]},c.prototype.transform=function(t,i,r,n,h,e){this.permute(e,t,i,r,n,h);for(var o=1;o<h;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),a=Math.sin(2*Math.PI/s),l=0;l<h;l+=s)for(var m=u,f=a,p=0;p<o;p++){var M=r[l+p],v=n[l+p],g=r[l+p+o],c=n[l+p+o],w=m*g-f*c;c=m*c+f*g,g=w,r[l+p]=M+g,n[l+p]=v+c,r[l+p+o]=M-g,n[l+p+o]=v-c,p!==s&&(w=u*m-a*f,f=u*f+a*m,m=w)}},c.prototype.guessLen13b=function(t,i){var r=1|Math.max(i,t),n=1&r,h=0;for(r=r/2|0;r;r>>>=1)h++;return 1<<h+1+n},c.prototype.conjugate=function(t,i,r){if(!(r<=1))for(var n=0;n<r/2;n++){var h=t[n];t[n]=t[r-n-1],t[r-n-1]=h,h=i[n],i[n]=-i[r-n-1],i[r-n-1]=-h}},c.prototype.normalize13b=function(t,i){for(var r=0,n=0;n<i/2;n++){var h=8192*Math.round(t[2*n+1]/i)+Math.round(t[2*n]/i)+r;t[n]=67108863&h,r=h<67108864?0:h/67108864|0}return t},c.prototype.convert13b=function(t,i,n,h){for(var e=0,o=0;o<i;o++)e+=0|t[o],n[2*o]=8191&e,e>>>=13,n[2*o+1]=8191&e,e>>>=13;for(o=2*i;o<h;++o)n[o]=0;r(0===e),r(0==(-8192&e))},c.prototype.stub=function(t){for(var i=new Array(t),r=0;r<t;r++)i[r]=0;return i},c.prototype.mulp=function(t,i,r){var n=2*this.guessLen13b(t.length,i.length),h=this.makeRBT(n),e=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),a=new Array(n),l=new Array(n),m=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(i.words,i.length,a,n),this.transform(o,e,s,u,n,h),this.transform(a,e,l,m,n,h);for(var p=0;p<n;p++){var M=s[p]*l[p]-u[p]*m[p];u[p]=s[p]*m[p]+u[p]*l[p],s[p]=M}return this.conjugate(s,u,n),this.transform(s,u,f,e,n,h),this.conjugate(f,e,n),this.normalize13b(f,n),r.negative=t.negative^i.negative,r.length=t.length+i.length,r.strip()},h.prototype.mul=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},h.prototype.mulf=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),g(this,t,i)},h.prototype.imul=function(t){return this.clone().mulTo(t,this)},h.prototype.imuln=function(t){r('number'==typeof t),r(t<67108864);for(var i=0,n=0;n<this.length;n++){var h=(0|this.words[n])*t,e=(67108863&h)+(67108863&i);i>>=26,i+=h/67108864|0,i+=e>>>26,this.words[n]=67108863&e}return 0!==i&&(this.words[n]=i,this.length++),this},h.prototype.muln=function(t){return this.clone().imuln(t)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(t){var i=f(t);if(0===i.length)return new h(1);for(var r=this,n=0;n<i.length&&0===i[n];n++,r=r.sqr());if(++n<i.length)for(var e=r.sqr();n<i.length;n++,e=e.sqr())0!==i[n]&&(r=r.mul(e));return r},h.prototype.iushln=function(t){r('number'==typeof t&&t>=0);var i,n=t%26,h=(t-n)/26,e=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(i=0;i<this.length;i++){var s=this.words[i]&e,u=(0|this.words[i])-s<<n;this.words[i]=u|o,o=s>>>26-n}o&&(this.words[i]=o,this.length++)}if(0!==h){for(i=this.length-1;i>=0;i--)this.words[i+h]=this.words[i];for(i=0;i<h;i++)this.words[i]=0;this.length+=h}return this.strip()},h.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},h.prototype.iushrn=function(t,i,n){var h;r('number'==typeof t&&t>=0),h=i?(i-i%26)/26:0;var e=t%26,o=Math.min((t-e)/26,this.length),s=67108863^67108863>>>e<<e,u=n;if(h-=o,h=Math.max(0,h),u){for(var a=0;a<o;a++)u.words[a]=this.words[a];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,a=0;a<this.length;a++)this.words[a]=this.words[a+o];else this.words[0]=0,this.length=1;var l=0;for(a=this.length-1;a>=0&&(0!==l||a>=h);a--){var m=0|this.words[a];this.words[a]=l<<26-e|m>>>e,l=m&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},h.prototype.ishrn=function(t,i,n){return r(0===this.negative),this.iushrn(t,i,n)},h.prototype.shln=function(t){return this.clone().ishln(t)},h.prototype.ushln=function(t){return this.clone().iushln(t)},h.prototype.shrn=function(t){return this.clone().ishrn(t)},h.prototype.ushrn=function(t){return this.clone().iushrn(t)},h.prototype.testn=function(t){r('number'==typeof t&&t>=0);var i=t%26,n=(t-i)/26,h=1<<i;return!(this.length<=n)&&!!(this.words[n]&h)},h.prototype.imaskn=function(t){r('number'==typeof t&&t>=0);var i=t%26,n=(t-i)/26;if(r(0===this.negative,'imaskn works only with positive numbers'),this.length<=n)return this;if(0!==i&&n++,this.length=Math.min(n,this.length),0!==i){var h=67108863^67108863>>>i<<i;this.words[this.length-1]&=h}return this.strip()},h.prototype.maskn=function(t){return this.clone().imaskn(t)},h.prototype.iaddn=function(t){return r('number'==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},h.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},h.prototype.isubn=function(t){if(r('number'==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},h.prototype.addn=function(t){return this.clone().iaddn(t)},h.prototype.subn=function(t){return this.clone().isubn(t)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(t,i,n){var h,e,o=t.length+n;this._expand(o);var s=0;for(h=0;h<t.length;h++){e=(0|this.words[h+n])+s;var u=(0|t.words[h])*i;s=((e-=67108863&u)>>26)-(u/67108864|0),this.words[h+n]=67108863&e}for(;h<this.length-n;h++)s=(e=(0|this.words[h+n])+s)>>26,this.words[h+n]=67108863&e;if(0===s)return this.strip();for(r(-1===s),s=0,h=0;h<this.length;h++)s=(e=-(0|this.words[h])+s)>>26,this.words[h]=67108863&e;return this.negative=1,this.strip()},h.prototype._wordDiv=function(t,i){var r=(this.length,t.length),n=this.clone(),e=t,o=0|e.words[e.length-1];0!==(r=26-this._countBits(o))&&(e=e.ushln(r),n.iushln(r),o=0|e.words[e.length-1]);var s,u=n.length-e.length;if('mod'!==i){(s=new h(null)).length=u+1,s.words=new Array(s.length);for(var a=0;a<s.length;a++)s.words[a]=0}var l=n.clone()._ishlnsubmul(e,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var m=u-1;m>=0;m--){var f=67108864*(0|n.words[e.length+m])+(0|n.words[e.length+m-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(e,f,m);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(e,1,m),n.isZero()||(n.negative^=1);s&&(s.words[m]=f)}return s&&s.strip(),n.strip(),'div'!==i&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},h.prototype.divmod=function(t,i,n){return r(!t.isZero()),this.isZero()?{div:new h(0),mod:new h(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,i),'mod'!==i&&(e=s.div.neg()),'div'!==i&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:e,mod:o}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),i),'mod'!==i&&(e=s.div.neg()),{div:e,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),i),'div'!==i&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:s.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new h(0),mod:this}:1===t.length?'div'===i?{div:this.divn(t.words[0]),mod:null}:'mod'===i?{div:null,mod:new h(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new h(this.modn(t.words[0]))}:this._wordDiv(t,i);var e,o,s},h.prototype.div=function(t){return this.divmod(t,'div',!1).div},h.prototype.mod=function(t){return this.divmod(t,'mod',!1).mod},h.prototype.umod=function(t){return this.divmod(t,'mod',!0).mod},h.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var r=0!==i.div.negative?i.mod.isub(t):i.mod,n=t.ushrn(1),h=t.andln(1),e=r.cmp(n);return e<0||1===h&&0===e?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},h.prototype.modn=function(t){r(t<=67108863);for(var i=67108864%t,n=0,h=this.length-1;h>=0;h--)n=(i*n+(0|this.words[h]))%t;return n},h.prototype.idivn=function(t){r(t<=67108863);for(var i=0,n=this.length-1;n>=0;n--){var h=(0|this.words[n])+67108864*i;this.words[n]=h/t|0,i=h%t}return this.strip()},h.prototype.divn=function(t){return this.clone().idivn(t)},h.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var i=this,n=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e=new h(1),o=new h(0),s=new h(0),u=new h(1),a=0;i.isEven()&&n.isEven();)i.iushrn(1),n.iushrn(1),++a;for(var l=n.clone(),m=i.clone();!i.isZero();){for(var f=0,p=1;0==(i.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(i.iushrn(f);f-- >0;)(e.isOdd()||o.isOdd())&&(e.iadd(l),o.isub(m)),e.iushrn(1),o.iushrn(1);for(var M=0,v=1;0==(n.words[0]&v)&&M<26;++M,v<<=1);if(M>0)for(n.iushrn(M);M-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(m)),s.iushrn(1),u.iushrn(1);i.cmp(n)>=0?(i.isub(n),e.isub(s),o.isub(u)):(n.isub(i),s.isub(e),u.isub(o))}return{a:s,b:u,gcd:n.iushln(a)}},h.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var i=this,n=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e,o=new h(1),s=new h(0),u=n.clone();i.cmpn(1)>0&&n.cmpn(1)>0;){for(var a=0,l=1;0==(i.words[0]&l)&&a<26;++a,l<<=1);if(a>0)for(i.iushrn(a);a-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var m=0,f=1;0==(n.words[0]&f)&&m<26;++m,f<<=1);if(m>0)for(n.iushrn(m);m-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);i.cmp(n)>=0?(i.isub(n),o.isub(s)):(n.isub(i),s.isub(o))}return(e=0===i.cmpn(1)?o:s).cmpn(0)<0&&e.iadd(t),e},h.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),r=t.clone();i.negative=0,r.negative=0;for(var n=0;i.isEven()&&r.isEven();n++)i.iushrn(1),r.iushrn(1);for(;;){for(;i.isEven();)i.iushrn(1);for(;r.isEven();)r.iushrn(1);var h=i.cmp(r);if(h<0){var e=i;i=r,r=e}else if(0===h||0===r.cmpn(1))break;i.isub(r)}return r.iushln(n)},h.prototype.invm=function(t){return this.egcd(t).a.umod(t)},h.prototype.isEven=function(){return 0==(1&this.words[0])},h.prototype.isOdd=function(){return 1==(1&this.words[0])},h.prototype.andln=function(t){return this.words[0]&t},h.prototype.bincn=function(t){r('number'==typeof t);var i=t%26,n=(t-i)/26,h=1<<i;if(this.length<=n)return this._expand(n+1),this.words[n]|=h,this;for(var e=h,o=n;0!==e&&o<this.length;o++){var s=0|this.words[o];e=(s+=e)>>>26,s&=67108863,this.words[o]=s}return 0!==e&&(this.words[o]=e,this.length++),this},h.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},h.prototype.cmpn=function(t){var i,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)i=1;else{n&&(t=-t),r(t<=67108863,'Number is too big');var h=0|this.words[0];i=h===t?0:h<t?-1:1}return 0!==this.negative?0|-i:i},h.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var i=this.ucmp(t);return 0!==this.negative?0|-i:i},h.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],h=0|t.words[r];if(n!==h){n<h?i=-1:n>h&&(i=1);break}}return i},h.prototype.gtn=function(t){return 1===this.cmpn(t)},h.prototype.gt=function(t){return 1===this.cmp(t)},h.prototype.gten=function(t){return this.cmpn(t)>=0},h.prototype.gte=function(t){return this.cmp(t)>=0},h.prototype.ltn=function(t){return-1===this.cmpn(t)},h.prototype.lt=function(t){return-1===this.cmp(t)},h.prototype.lten=function(t){return this.cmpn(t)<=0},h.prototype.lte=function(t){return this.cmp(t)<=0},h.prototype.eqn=function(t){return 0===this.cmpn(t)},h.prototype.eq=function(t){return 0===this.cmp(t)},h.red=function(t){return new x(t)},h.prototype.toRed=function(t){return r(!this.red,'Already a number in reduction context'),r(0===this.negative,'red works only with positives'),t.convertTo(this)._forceRed(t)},h.prototype.fromRed=function(){return r(this.red,'fromRed works only with numbers in reduction context'),this.red.convertFrom(this)},h.prototype._forceRed=function(t){return this.red=t,this},h.prototype.forceRed=function(t){return r(!this.red,'Already a number in reduction context'),this._forceRed(t)},h.prototype.redAdd=function(t){return r(this.red,'redAdd works only with red numbers'),this.red.add(this,t)},h.prototype.redIAdd=function(t){return r(this.red,'redIAdd works only with red numbers'),this.red.iadd(this,t)},h.prototype.redSub=function(t){return r(this.red,'redSub works only with red numbers'),this.red.sub(this,t)},h.prototype.redISub=function(t){return r(this.red,'redISub works only with red numbers'),this.red.isub(this,t)},h.prototype.redShl=function(t){return r(this.red,'redShl works only with red numbers'),this.red.shl(this,t)},h.prototype.redMul=function(t){return r(this.red,'redMul works only with red numbers'),this.red._verify2(this,t),this.red.mul(this,t)},h.prototype.redIMul=function(t){return r(this.red,'redMul works only with red numbers'),this.red._verify2(this,t),this.red.imul(this,t)},h.prototype.redSqr=function(){return r(this.red,'redSqr works only with red numbers'),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return r(this.red,'redISqr works only with red numbers'),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return r(this.red,'redSqrt works only with red numbers'),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return r(this.red,'redInvm works only with red numbers'),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return r(this.red,'redNeg works only with red numbers'),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(t){return r(this.red&&!t.red,'redPow(normalNum)'),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function y(t,i){this.name=t,this.p=new h(i,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,'k256','ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f')}function _(){y.call(this,'p224','ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001')}function k(){y.call(this,'p192','ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff')}function A(){y.call(this,'25519','7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed')}function x(t){if('string'==typeof t){var i=h._prime(t);this.m=i.p,this.prime=i}else r(t.gtn(1),'modulus must be greater than 1'),this.m=t,this.prime=null}function S(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new h(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var i,r=t;do{this.split(r,this.tmp),i=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(i>this.n);var n=i<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,i){t.iushrn(this.n,0,i)},y.prototype.imulK=function(t){return t.imul(this.k)},n(b,y),b.prototype.split=function(t,i){for(var r=Math.min(t.length,9),n=0;n<r;n++)i.words[n]=t.words[n];if(i.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var h=t.words[9];for(i.words[i.length++]=4194303&h,n=10;n<t.length;n++){var e=0|t.words[n];t.words[n-10]=(4194303&e)<<4|h>>>22,h=e}h>>>=22,t.words[n-10]=h,0===h&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,r=0;r<t.length;r++){var n=0|t.words[r];i+=977*n,t.words[r]=67108863&i,i=64*n+(i/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(_,y),n(k,y),n(A,y),A.prototype.imulK=function(t){for(var i=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+i,h=67108863&n;n>>>=26,t.words[r]=h,i=n}return 0!==i&&(t.words[t.length++]=i),t},h._prime=function(t){if(w[t])return w[t];var i;if('k256'===t)i=new b;else if('p224'===t)i=new _;else if('p192'===t)i=new k;else{if('p25519'!==t)throw new Error('Unknown prime '+t);i=new A}return w[t]=i,i},x.prototype._verify1=function(t){r(0===t.negative,'red works only with positives'),r(t.red,'red works only with red numbers')},x.prototype._verify2=function(t,i){r(0==(t.negative|i.negative),'red works only with positives'),r(t.red&&t.red===i.red,'red works only with red numbers')},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,i){this._verify2(t,i);var r=t.add(i);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(t,i){this._verify2(t,i);var r=t.iadd(i);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(t,i){this._verify2(t,i);var r=t.sub(i);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(t,i){this._verify2(t,i);var r=t.isub(i);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},x.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},x.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(r(i%2==1),3===i){var n=this.m.add(new h(1)).iushrn(2);return this.pow(t,n)}for(var e=this.m.subn(1),o=0;!e.isZero()&&0===e.andln(1);)o++,e.iushrn(1);r(!e.isZero());var s=new h(1).toRed(this),u=s.redNeg(),a=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new h(2*l*l).toRed(this);0!==this.pow(l,a).cmp(u);)l.redIAdd(u);for(var m=this.pow(l,e),f=this.pow(t,e.addn(1).iushrn(1)),p=this.pow(t,e),M=o;0!==p.cmp(s);){for(var v=p,g=0;0!==v.cmp(s);g++)v=v.redSqr();r(g<M);var c=this.pow(m,new h(1).iushln(M-g-1));f=f.redMul(c),m=c.redSqr(),p=p.redMul(m),M=g}return f},x.prototype.invm=function(t){var i=t._invmp(this.m);return 0!==i.negative?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},x.prototype.pow=function(t,i){if(i.isZero())return new h(1).toRed(this);if(0===i.cmpn(1))return t.clone();var r=new Array(16);r[0]=new h(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var e=r[0],o=0,s=0,u=i.bitLength()%26;for(0===u&&(u=26),n=i.length-1;n>=0;n--){for(var a=i.words[n],l=u-1;l>=0;l--){var m=a>>l&1;e!==r[0]&&(e=this.sqr(e)),0!==m||0!==o?(o<<=1,o|=m,(4===++s||0===n&&0===l)&&(e=this.mul(e,r[o]),s=0,o=0)):s=0}u=26}return e},x.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},x.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},h.mont=function(t){return new S(t)},n(S,x),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},S.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=r.isub(n).iushrn(this.shift),e=h;return h.cmp(this.m)>=0?e=h.isub(this.m):h.cmpn(0)<0&&(e=h.iadd(this.m)),e._forceRed(this)},S.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new h(0)._forceRed(this);var r=t.mul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=r.isub(n).iushrn(this.shift),o=e;return e.cmp(this.m)>=0?o=e.isub(this.m):e.cmpn(0)<0&&(o=e.iadd(this.m)),o._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}})(void 0===_m||_m,this)},543,[476]);
__d(function(g,r,_i,a,m,e,d){m.exports=M,M.simpleSieve=p,M.fermatTest=h;var n=new(r(d[0]))(24),t=new(r(d[1])),i=new(r(d[0]))(1),f=new(r(d[0]))(2),o=new(r(d[0]))(5),w=(new(r(d[0]))(16),new(r(d[0]))(8),new(r(d[0]))(10)),u=new(r(d[0]))(3),c=(new(r(d[0]))(7),new(r(d[0]))(11)),s=new(r(d[0]))(4),l=(new(r(d[0]))(12),null);function v(){if(null!==l)return l;var n=[];n[0]=2;for(var t=1,i=3;i<1048576;i+=2){for(var f=Math.ceil(Math.sqrt(i)),o=0;o<t&&n[o]<=f&&i%n[o]!=0;o++);t!==o&&n[o]<=f||(n[t++]=i)}return l=n,n}function p(n){for(var t=v(),i=0;i<t.length;i++)if(0===n.modn(t[i]))return 0===n.cmpn(t[i]);return!0}function h(n){var t=r(d[0]).mont(n);return 0===f.toRed(t).redPow(n.subn(1)).fromRed().cmpn(1)}function M(l,v){if(l<16)return 2===v||5===v?new(r(d[0]))([140,123]):new(r(d[0]))([140,39]);var M,b;for(v=new(r(d[0]))(v);;){for(M=new(r(d[0]))(r(d[2])(Math.ceil(l/8)));M.bitLength()>l;)M.ishrn(1);if(M.isEven()&&M.iadd(i),M.testn(1)||M.iadd(f),v.cmp(f)){if(!v.cmp(o))for(;M.mod(w).cmp(u);)M.iadd(s)}else for(;M.mod(n).cmp(c);)M.iadd(s);if(p(b=M.shrn(1))&&p(M)&&h(b)&&h(M)&&t.test(b)&&t.test(M))return M}}},544,[543,540,545]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=65536,n=4294967295;var t=g.crypto||g.msCrypto;t&&t.getRandomValues?m.exports=function(s,u){if(s>n)throw new RangeError('requested too many random bytes');var f=r(d[0]).Buffer.allocUnsafe(s);if(s>0)if(s>o)for(var c=0;c<s;c+=o)t.getRandomValues(f.slice(c,c+o));else t.getRandomValues(f);if('function'==typeof u)return process.nextTick(function(){u(null,f)});return f}:m.exports=function(){throw new Error('Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11')}},545,[488]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t){r(d[2]).Writable.call(this);var s=r(d[0])[t];if(!s)throw new Error('Unknown message digest');this._hashType=s.hash,this._hash=r(d[3])(s.hash),this._tag=s.id,this._signType=s.sign}function s(t){r(d[2]).Writable.call(this);var s=r(d[0])[t];if(!s)throw new Error('Unknown message digest');this._hash=r(d[3])(s.hash),this._tag=s.id,this._signType=s.sign}function n(s){return new t(s)}function h(t){return new s(t)}Object.keys(r(d[0])).forEach(function(t){r(d[0])[t].id=r(d[1]).Buffer.from(r(d[0])[t].id,'hex'),r(d[0])[t.toLowerCase()]=r(d[0])[t]}),r(d[4])(t,r(d[2]).Writable),t.prototype._write=function(t,s,n){this._hash.update(t),n()},t.prototype.update=function(t,s){return this._hash.update('string'==typeof t?r(d[1]).Buffer.from(t,s):t),this},t.prototype.sign=function(t,s){this.end();var n=this._hash.digest(),h=r(d[5])(n,t,this._hashType,this._signType,this._tag);return s?h.toString(s):h},r(d[4])(s,r(d[2]).Writable),s.prototype._write=function(t,s,n){this._hash.update(t),n()},s.prototype.update=function(t,s){return this._hash.update('string'==typeof t?r(d[1]).Buffer.from(t,s):t),this},s.prototype.verify=function(t,s,n){var h='string'==typeof s?r(d[1]).Buffer.from(s,n):s;this.end();var o=this._hash.digest();return r(d[6])(h,o,t,this._signType,this._tag)},m.exports={Sign:n,Verify:h,createSign:n,createVerify:h}},546,[505,488,471,469,475,547,608]);
__d(function(_g,_r,_i,a,m,e,d){'use strict';var r=1;function t(r,t){var n=_r(d[3])[t.curve.join('.')];if(!n)throw new Error('unknown curve '+t.curve.join('.'));var o=new(_r(d[4]).ec)(n).keyFromPrivate(t.privateKey).sign(r);return _r(d[1]).Buffer.from(o.toDER())}function n(r,t,n){for(var i,g=t.params.priv_key,v=t.params.p,l=t.params.q,h=t.params.g,s=new(_r(d[5]))(0),y=f(r,l).mod(l),w=!1,B=u(g,l,r,n);!1===w;)s=c(h,i=p(l,B,n),v,l),0===(w=i.invm(l).imul(y.add(g.mul(s))).mod(l)).cmpn(0)&&(w=!1,s=new(_r(d[5]))(0));return o(s,w)}function o(r,t){r=r.toArray(),t=t.toArray(),128&r[0]&&(r=[0].concat(r)),128&t[0]&&(t=[0].concat(t));var n=[48,r.length+t.length+4,2,r.length];return n=n.concat(r,[2,t.length],t),_r(d[1]).Buffer.from(n)}function u(r,t,n,o){if((r=_r(d[1]).Buffer.from(r.toArray())).length<t.byteLength()){var u=_r(d[1]).Buffer.alloc(t.byteLength()-r.length);r=_r(d[1]).Buffer.concat([u,r])}var f=n.length,p=i(n,t),c=_r(d[1]).Buffer.alloc(f);c.fill(1);var g=_r(d[1]).Buffer.alloc(f);return g=_r(d[6])(o,g).update(c).update(_r(d[1]).Buffer.from([0])).update(r).update(p).digest(),c=_r(d[6])(o,g).update(c).digest(),{k:g=_r(d[6])(o,g).update(c).update(_r(d[1]).Buffer.from([1])).update(r).update(p).digest(),v:c=_r(d[6])(o,g).update(c).digest()}}function f(r,t){var n=new(_r(d[5]))(r),o=(r.length<<3)-t.bitLength();return o>0&&n.ishrn(o),n}function i(r,t){r=(r=f(r,t)).mod(t);var n=_r(d[1]).Buffer.from(r.toArray());if(n.length<t.byteLength()){var o=_r(d[1]).Buffer.alloc(t.byteLength()-n.length);n=_r(d[1]).Buffer.concat([o,n])}return n}function p(r,t,n){var o,u;do{for(o=_r(d[1]).Buffer.alloc(0);8*o.length<r.bitLength();)t.v=_r(d[6])(n,t.k).update(t.v).digest(),o=_r(d[1]).Buffer.concat([o,t.v]);u=f(o,r),t.k=_r(d[6])(n,t.k).update(t.v).update(_r(d[1]).Buffer.from([0])).digest(),t.v=_r(d[6])(n,t.k).update(t.v).digest()}while(-1!==u.cmp(r));return u}function c(r,t,n,o){return r.toRed(_r(d[5]).mont(n)).redPow(t).fromRed().mod(o)}m.exports=function(o,u,f,i,p){var c=_r(d[0])(u);if(c.curve){if('ecdsa'!==i&&'ecdsa/rsa'!==i)throw new Error('wrong private key type');return t(o,c)}if('dsa'===c.type){if('dsa'!==i)throw new Error('wrong private key type');return n(o,c,f)}if('rsa'!==i&&'ecdsa/rsa'!==i)throw new Error('wrong private key type');if(void 0!==u.padding&&u.padding!==r)throw new Error('illegal or unsupported padding mode');o=_r(d[1]).Buffer.concat([p,o]);for(var g=c.modulus.byteLength(),v=[0,1];o.length+v.length+1<g;)v.push(255);v.push(0);for(var l=-1;++l<o.length;)v.push(o[l]);return _r(d[2])(v,c)},m.exports.getKey=u,m.exports.makeKey=p},547,[548,488,574,576,577,575,501]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,c){var s=t.algorithm.decrypt.kde.kdeparams.salt,u=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=r(d[0])[t.algorithm.decrypt.cipher.algo.join('.')],n=t.algorithm.decrypt.cipher.iv,p=t.subjectPrivateKey,y=parseInt(o.split('-')[1],10)/8,K=r(d[1]).pbkdf2Sync(c,s,u,y,'sha1'),l=r(d[2]).createDecipheriv(o,K,n),P=[];return P.push(l.update(p)),P.push(l.final()),r(d[3]).Buffer.concat(P)}function c(c){var s;'object'!=typeof c||r(d[3]).Buffer.isBuffer(c)||(s=c.passphrase,c=c.key),'string'==typeof c&&(c=r(d[3]).Buffer.from(c));var u,o,n=r(d[4])(c,s),p=n.tag,y=n.data;switch(p){case'CERTIFICATE':o=r(d[5]).certificate.decode(y,'der').tbsCertificate.subjectPublicKeyInfo;case'PUBLIC KEY':switch(o||(o=r(d[5]).PublicKey.decode(y,'der')),u=o.algorithm.algorithm.join('.')){case'1.2.840.113549.1.1.1':return r(d[5]).RSAPublicKey.decode(o.subjectPublicKey.data,'der');case'1.2.840.10045.2.1':return o.subjectPrivateKey=o.subjectPublicKey,{type:'ec',data:o};case'1.2.840.10040.4.1':return o.algorithm.params.pub_key=r(d[5]).DSAparam.decode(o.subjectPublicKey.data,'der'),{type:'dsa',data:o.algorithm.params};default:throw new Error('unknown key id '+u)}case'ENCRYPTED PRIVATE KEY':y=t(y=r(d[5]).EncryptedPrivateKey.decode(y,'der'),s);case'PRIVATE KEY':switch(u=(o=r(d[5]).PrivateKey.decode(y,'der')).algorithm.algorithm.join('.')){case'1.2.840.113549.1.1.1':return r(d[5]).RSAPrivateKey.decode(o.subjectPrivateKey,'der');case'1.2.840.10045.2.1':return{curve:o.algorithm.curve,privateKey:r(d[5]).ECPrivateKey.decode(o.subjectPrivateKey,'der').privateKey};case'1.2.840.10040.4.1':return o.algorithm.params.priv_key=r(d[5]).DSAparam.decode(o.subjectPrivateKey,'der'),{type:'dsa',params:o.algorithm.params};default:throw new Error('unknown key id '+u)}case'RSA PUBLIC KEY':return r(d[5]).RSAPublicKey.decode(y,'der');case'RSA PRIVATE KEY':return r(d[5]).RSAPrivateKey.decode(y,'der');case'DSA PRIVATE KEY':return{type:'dsa',params:r(d[5]).DSAPrivateKey.decode(y,'der')};case'EC PRIVATE KEY':return{curve:(y=r(d[5]).ECPrivateKey.decode(y,'der')).parameters.value,privateKey:y.privateKey};default:throw new Error('unknown key type '+p)}}c.signature=r(d[5]).signature,m.exports=c},548,[549,550,522,488,556,557]);
__d(function(e,c,s,a,b,f,o){b.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},549,[]);
__d(function(g,r,i,a,m,e,d){e.pbkdf2=r(d[0]),e.pbkdf2Sync=r(d[1])},550,[551,552]);
__d(function(g,r,i,a,m,_e,d){var e,t,n=g.crypto&&g.crypto.subtle,o={sha:'SHA-1','sha-1':'SHA-1',sha1:'SHA-1',sha256:'SHA-256','sha-256':'SHA-256',sha384:'SHA-384','sha-384':'SHA-384','sha-512':'SHA-512',sha512:'SHA-512'},s=[];function u(t){if(g.process&&!g.process.browser)return Promise.resolve(!1);if(!n||!n.importKey||!n.deriveBits)return Promise.resolve(!1);if(void 0!==s[t])return s[t];var o=f(e=e||r(d[0]).Buffer.alloc(8),e,10,128,t).then(function(){return!0}).catch(function(){return!1});return s[t]=o,o}function c(){return t||(t=g.process&&g.process.nextTick?g.process.nextTick:g.queueMicrotask?g.queueMicrotask:g.setImmediate?g.setImmediate:g.setTimeout)}function f(e,t,o,s,u){return n.importKey('raw',e,{name:'PBKDF2'},!1,['deriveBits']).then(function(e){return n.deriveBits({name:'PBKDF2',salt:t,iterations:o,hash:{name:u}},e,s<<3)}).then(function(e){return r(d[0]).Buffer.from(e)})}function h(e,t){e.then(function(e){c()(function(){t(null,e)})},function(e){c()(function(){t(e)})})}m.exports=function(e,t,n,s,p,l){'function'==typeof p&&(l=p,p=void 0);var v=o[(p=p||'sha1').toLowerCase()];if(v&&'function'==typeof g.Promise){if(r(d[2])(n,s),e=r(d[3])(e,r(d[4]),'Password'),t=r(d[3])(t,r(d[4]),'Salt'),'function'!=typeof l)throw new Error('No callback provided to pbkdf2');h(u(v).then(function(o){return o?f(e,t,n,s,v):r(d[1])(e,t,n,s,p)}),l)}else c()(function(){var o;try{o=r(d[1])(e,t,n,s,p)}catch(e){return l(e)}l(null,o)})}},551,[488,552,553,554,555]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]).Buffer.alloc(128),s={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function n(n,i,o){var f=h(n),c='sha512'===n||'sha384'===n?128:64;i.length>c?i=f(i):i.length<c&&(i=r(d[0]).Buffer.concat([i,t],c));for(var l=r(d[0]).Buffer.allocUnsafe(c+s[n]),u=r(d[0]).Buffer.allocUnsafe(c+s[n]),p=0;p<c;p++)l[p]=54^i[p],u[p]=92^i[p];var v=r(d[0]).Buffer.allocUnsafe(c+o+4);l.copy(v,0,0,c),this.ipad1=v,this.ipad2=l,this.opad=u,this.alg=n,this.blocksize=c,this.hash=f,this.size=s[n]}function h(t){return'rmd160'===t||'ripemd160'===t?function(t){return(new(r(d[2]))).update(t).digest()}:'md5'===t?r(d[3]):function(s){return r(d[1])(t).update(s).digest()}}n.prototype.run=function(t,s){return t.copy(s,this.blocksize),this.hash(s).copy(this.opad,this.blocksize),this.hash(this.opad)},m.exports=function(t,h,i,o,f){r(d[4])(i,o);var c=new n(f=f||'sha1',t=r(d[5])(t,r(d[6]),'Password'),(h=r(d[5])(h,r(d[6]),'Salt')).length),l=r(d[0]).Buffer.allocUnsafe(o),u=r(d[0]).Buffer.allocUnsafe(h.length+4);h.copy(u,0,0,h.length);for(var p=0,v=s[f],B=Math.ceil(o/v),y=1;y<=B;y++){u.writeUInt32BE(y,h.length);for(var U=c.run(u,c.ipad1),w=U,z=1;z<i;z++){w=c.run(w,c.ipad2);for(var b=0;b<v;b++)U[b]^=w[b]}U.copy(l,p),p+=v}return l}},552,[488,493,492,503,553,554,555]);
__d(function(g,r,i,a,m,e,d){var n=Math.pow(2,30)-1;m.exports=function(o,t){if('number'!=typeof o)throw new TypeError('Iterations not a number');if(o<0)throw new TypeError('Bad iterations');if('number'!=typeof t)throw new TypeError('Key length not a number');if(t<0||t>n||t!=t)throw new TypeError('Bad key length')}},553,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(f,t,u){if(r(d[0]).Buffer.isBuffer(f))return f;if('string'==typeof f)return r(d[0]).Buffer.from(f,t);if(ArrayBuffer.isView(f))return r(d[0]).Buffer.from(f.buffer);throw new TypeError(u+' must be a string, a Buffer, a typed array or a DataView')}},554,[488]);
__d(function(g,r,i,a,m,e,d){var s;if(g.process&&g.process.browser)s='utf-8';else if(g.process&&g.process.version){s=parseInt(process.version.split('.')[0].slice(1),10)>=6?'utf-8':'binary'}else s='utf-8';m.exports=s},555,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,t=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,f=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m;m.exports=function(c,E){var s,u=c.toString(),o=u.match(n);if(o){var p='aes'+o[1],I=r(d[0]).Buffer.from(o[2],'hex'),h=r(d[0]).Buffer.from(o[3].replace(/[\r\n]/g,''),'base64'),B=r(d[1])(E,I.slice(0,8),parseInt(o[1],10)).key,C=[],A=r(d[2]).createDecipheriv(p,B,I);C.push(A.update(h)),C.push(A.final()),s=r(d[0]).Buffer.concat(C)}else{var T=u.match(f);s=r(d[0]).Buffer.from(T[2].replace(/[\r\n]/g,''),'base64')}return{tag:u.match(t)[1],data:s}}},556,[488,521,522]);
__d(function(g,r,i,a,m,e,d){'use strict';e.certificate=r(d[0]);var t=r(d[1]).define('RSAPrivateKey',function(){this.seq().obj(this.key('version').int(),this.key('modulus').int(),this.key('publicExponent').int(),this.key('privateExponent').int(),this.key('prime1').int(),this.key('prime2').int(),this.key('exponent1').int(),this.key('exponent2').int(),this.key('coefficient').int())});e.RSAPrivateKey=t;var s=r(d[1]).define('RSAPublicKey',function(){this.seq().obj(this.key('modulus').int(),this.key('publicExponent').int())});e.RSAPublicKey=s;var n=r(d[1]).define('AlgorithmIdentifier',function(){this.seq().obj(this.key('algorithm').objid(),this.key('none').null_().optional(),this.key('curve').objid().optional(),this.key('params').seq().obj(this.key('p').int(),this.key('q').int(),this.key('g').int()).optional())}),o=r(d[1]).define('SubjectPublicKeyInfo',function(){this.seq().obj(this.key('algorithm').use(n),this.key('subjectPublicKey').bitstr())});e.PublicKey=o;var y=r(d[1]).define('PrivateKeyInfo',function(){this.seq().obj(this.key('version').int(),this.key('algorithm').use(n),this.key('subjectPrivateKey').octstr())});e.PrivateKey=y;var h=r(d[1]).define('EncryptedPrivateKeyInfo',function(){this.seq().obj(this.key('algorithm').seq().obj(this.key('id').objid(),this.key('decrypt').seq().obj(this.key('kde').seq().obj(this.key('id').objid(),this.key('kdeparams').seq().obj(this.key('salt').octstr(),this.key('iters').int())),this.key('cipher').seq().obj(this.key('algo').objid(),this.key('iv').octstr()))),this.key('subjectPrivateKey').octstr())});e.EncryptedPrivateKey=h;var k=r(d[1]).define('DSAPrivateKey',function(){this.seq().obj(this.key('version').int(),this.key('p').int(),this.key('q').int(),this.key('g').int(),this.key('pub_key').int(),this.key('priv_key').int())});e.DSAPrivateKey=k,e.DSAparam=r(d[1]).define('DSAparam',function(){this.int()});var c=r(d[1]).define('ECParameters',function(){this.choice({namedCurve:this.objid()})}),u=r(d[1]).define('ECPrivateKey',function(){this.seq().obj(this.key('version').int(),this.key('privateKey').octstr(),this.key('parameters').optional().explicit(0).use(c),this.key('publicKey').optional().explicit(1).bitstr())});e.ECPrivateKey=u,e.signature=r(d[1]).define('signature',function(){this.seq().obj(this.key('r').int(),this.key('s').int())})},557,[558,559]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]).define('Time',function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),s=r(d[0]).define('AttributeTypeValue',function(){this.seq().obj(this.key('type').objid(),this.key('value').any())}),n=r(d[0]).define('AlgorithmIdentifier',function(){this.seq().obj(this.key('algorithm').objid(),this.key('parameters').optional(),this.key('curve').objid().optional())}),o=r(d[0]).define('SubjectPublicKeyInfo',function(){this.seq().obj(this.key('algorithm').use(n),this.key('subjectPublicKey').bitstr())}),u=r(d[0]).define('RelativeDistinguishedName',function(){this.setof(s)}),h=r(d[0]).define('RDNSequence',function(){this.seqof(u)}),c=r(d[0]).define('Name',function(){this.choice({rdnSequence:this.use(h)})}),f=r(d[0]).define('Validity',function(){this.seq().obj(this.key('notBefore').use(t),this.key('notAfter').use(t))}),y=r(d[0]).define('Extension',function(){this.seq().obj(this.key('extnID').objid(),this.key('critical').bool().def(!1),this.key('extnValue').octstr())}),l=r(d[0]).define('TBSCertificate',function(){this.seq().obj(this.key('version').explicit(0).int().optional(),this.key('serialNumber').int(),this.key('signature').use(n),this.key('issuer').use(c),this.key('validity').use(f),this.key('subject').use(c),this.key('subjectPublicKeyInfo').use(o),this.key('issuerUniqueID').implicit(1).bitstr().optional(),this.key('subjectUniqueID').implicit(2).bitstr().optional(),this.key('extensions').explicit(3).seqof(y).optional())}),b=r(d[0]).define('X509Certificate',function(){this.seq().obj(this.key('tbsCertificate').use(l),this.key('signatureAlgorithm').use(n),this.key('signatureValue').bitstr())});m.exports=b},558,[559]);
__d(function(g,r,i,a,m,e,d){var n=e;n.bignum=r(d[0]),n.define=r(d[1]).define,n.base=r(d[2]),n.constants=r(d[3]),n.decoders=r(d[4]),n.encoders=r(d[5])},559,[560,561,562,566,568,571]);
__d(function(_g,_r,_i,_a,_m,_e,d){!(function(t,i){'use strict';function r(t,i){if(!t)throw new Error(i||'Assertion failed')}function n(t,i){t.super_=i;var r=function(){};r.prototype=i.prototype,t.prototype=new r,t.prototype.constructor=t}function h(t,i,r){if(h.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&('le'!==i&&'be'!==i||(r=i,i=10),this._init(t||0,i||10,r||'be'))}var e;'object'==typeof t?t.exports=h:i.BN=h,h.BN=h,h.wordSize=26;try{e='undefined'!=typeof window&&void 0!==window.Buffer?window.Buffer:_r(d[0]).Buffer}catch(t){}function o(t,i){var r=t.charCodeAt(i);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function s(t,i,r){var n=o(t,r);return r-1>=i&&(n|=o(t,r-1)<<4),n}function u(t,i,r,n){for(var h=0,e=Math.min(t.length,r),o=i;o<e;o++){var s=t.charCodeAt(o)-48;h*=n,h+=s>=49?s-49+10:s>=17?s-17+10:s}return h}h.isBN=function(t){return t instanceof h||null!==t&&'object'==typeof t&&t.constructor.wordSize===h.wordSize&&Array.isArray(t.words)},h.max=function(t,i){return t.cmp(i)>0?t:i},h.min=function(t,i){return t.cmp(i)<0?t:i},h.prototype._init=function(t,i,n){if('number'==typeof t)return this._initNumber(t,i,n);if('object'==typeof t)return this._initArray(t,i,n);'hex'===i&&(i=16),r(i===(0|i)&&i>=2&&i<=36);var h=0;'-'===(t=t.toString().replace(/\s+/g,''))[0]&&(h++,this.negative=1),h<t.length&&(16===i?this._parseHex(t,h,n):(this._parseBase(t,i,h),'le'===n&&this._initArray(this.toArray(),i,n)))},h.prototype._initNumber=function(t,i,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),'le'===n&&this._initArray(this.toArray(),i,n)},h.prototype._initArray=function(t,i,n){if(r('number'==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var e,o,s=0;if('be'===n)for(h=t.length-1,e=0;h>=0;h-=3)o=t[h]|t[h-1]<<8|t[h-2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);else if('le'===n)for(h=0,e=0;h<t.length;h+=3)o=t[h]|t[h+1]<<8|t[h+2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);return this.strip()},h.prototype._parseHex=function(t,i,r){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var h,e=0,o=0;if('be'===r)for(n=t.length-1;n>=i;n-=2)h=s(t,i,n)<<e,this.words[o]|=67108863&h,e>=18?(e-=18,o+=1,this.words[o]|=h>>>26):e+=8;else for(n=(t.length-i)%2==0?i+1:i;n<t.length;n+=2)h=s(t,i,n)<<e,this.words[o]|=67108863&h,e>=18?(e-=18,o+=1,this.words[o]|=h>>>26):e+=8;this.strip()},h.prototype._parseBase=function(t,i,r){this.words=[0],this.length=1;for(var n=0,h=1;h<=67108863;h*=i)n++;n--,h=h/i|0;for(var e=t.length-r,o=e%n,s=Math.min(e,e-o)+r,a=0,l=r;l<s;l+=n)a=u(t,l,l+n,i),this.imuln(h),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==o){var m=1;for(a=u(t,l,t.length,i),l=0;l<o;l++)m*=i;this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},h.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},h.prototype.clone=function(){var t=new h(null);return this.copy(t),t},h.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},h.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},h.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},h.prototype.inspect=function(){return(this.red?'<BN-R: ':'<BN: ')+this.toString(16)+'>'};var a=['','0','00','000','0000','00000','000000','0000000','00000000','000000000','0000000000','00000000000','000000000000','0000000000000','00000000000000','000000000000000','0000000000000000','00000000000000000','000000000000000000','0000000000000000000','00000000000000000000','000000000000000000000','0000000000000000000000','00000000000000000000000','000000000000000000000000','0000000000000000000000000'],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t){for(var i=new Array(t.bitLength()),r=0;r<i.length;r++){var n=r/26|0,h=r%26;i[r]=(t.words[n]&1<<h)>>>h}return i}function p(t,i,r){r.negative=i.negative^t.negative;var n=t.length+i.length|0;r.length=n,n=n-1|0;var h=0|t.words[0],e=0|i.words[0],o=h*e,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var a=1;a<n;a++){for(var l=u>>>26,m=67108863&u,f=Math.min(a,i.length-1),p=Math.max(0,a-t.length+1);p<=f;p++){var M=a-p|0;l+=(o=(h=0|t.words[M])*(e=0|i.words[p])+m)/67108864|0,m=67108863&o}r.words[a]=0|m,u=0|l}return 0!==u?r.words[a]=0|u:r.length--,r.strip()}h.prototype.toString=function(t,i){var n;if(i=0|i||1,16===(t=t||10)||'hex'===t){n='';for(var h=0,e=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<h|e)).toString(16);e=s>>>24-h&16777215,(h+=2)>=26&&(h-=26,o--),n=0!==e||o!==this.length-1?a[6-u.length]+u+n:u+n}for(0!==e&&(n=e.toString(16)+n);n.length%i!=0;)n='0'+n;return 0!==this.negative&&(n='-'+n),n}if(t===(0|t)&&t>=2&&t<=36){var f=l[t],p=m[t];n='';var M=this.clone();for(M.negative=0;!M.isZero();){var v=M.modn(p).toString(t);n=(M=M.idivn(p)).isZero()?v+n:a[f-v.length]+v+n}for(this.isZero()&&(n='0'+n);n.length%i!=0;)n='0'+n;return 0!==this.negative&&(n='-'+n),n}r(!1,'Base should be between 2 and 36')},h.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,'Number can only safely store up to 53 bits'),0!==this.negative?-t:t},h.prototype.toJSON=function(){return this.toString(16)},h.prototype.toBuffer=function(t,i){return r(void 0!==e),this.toArrayLike(e,t,i)},h.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)},h.prototype.toArrayLike=function(t,i,n){var h=this.byteLength(),e=n||Math.max(1,h);r(h<=e,'byte array longer than desired length'),r(e>0,'Requested array length <= 0'),this.strip();var o,s,u='le'===i,a=new t(e),l=this.clone();if(u){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[s]=o;for(;s<e;s++)a[s]=0}else{for(s=0;s<e-h;s++)a[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[e-s-1]=o}return a},Math.clz32?h.prototype._countBits=function(t){return 32-Math.clz32(t)}:h.prototype._countBits=function(t){var i=t,r=0;return i>=4096&&(r+=13,i>>>=13),i>=64&&(r+=7,i>>>=7),i>=8&&(r+=4,i>>>=4),i>=2&&(r+=2,i>>>=2),r+i},h.prototype._zeroBits=function(t){if(0===t)return 26;var i=t,r=0;return 0==(8191&i)&&(r+=13,i>>>=13),0==(127&i)&&(r+=7,i>>>=7),0==(15&i)&&(r+=4,i>>>=4),0==(3&i)&&(r+=2,i>>>=2),0==(1&i)&&r++,r},h.prototype.bitLength=function(){var t=this.words[this.length-1],i=this._countBits(t);return 26*(this.length-1)+i},h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var r=this._zeroBits(this.words[i]);if(t+=r,26!==r)break}return t},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},h.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return 0!==this.negative},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this.strip()},h.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},h.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},h.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},h.prototype.iuand=function(t){var i;i=this.length>t.length?t:this;for(var r=0;r<i.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=i.length,this.strip()},h.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},h.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},h.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},h.prototype.iuxor=function(t){var i,r;this.length>t.length?(i=this,r=t):(i=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=i.words[n]^r.words[n];if(this!==i)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=i.length,this.strip()},h.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},h.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},h.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},h.prototype.inotn=function(t){r('number'==typeof t&&t>=0);var i=0|Math.ceil(t/26),n=t%26;this._expand(i),n>0&&i--;for(var h=0;h<i;h++)this.words[h]=67108863&~this.words[h];return n>0&&(this.words[h]=~this.words[h]&67108863>>26-n),this.strip()},h.prototype.notn=function(t){return this.clone().inotn(t)},h.prototype.setn=function(t,i){r('number'==typeof t&&t>=0);var n=t/26|0,h=t%26;return this._expand(n+1),this.words[n]=i?this.words[n]|1<<h:this.words[n]&~(1<<h),this.strip()},h.prototype.iadd=function(t){var i,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var h=0,e=0;e<n.length;e++)i=(0|r.words[e])+(0|n.words[e])+h,this.words[e]=67108863&i,h=i>>>26;for(;0!==h&&e<r.length;e++)i=(0|r.words[e])+h,this.words[e]=67108863&i,h=i>>>26;if(this.length=r.length,0!==h)this.words[this.length]=h,this.length++;else if(r!==this)for(;e<r.length;e++)this.words[e]=r.words[e];return this},h.prototype.add=function(t){var i;return 0!==t.negative&&0===this.negative?(t.negative=0,i=this.sub(t),t.negative^=1,i):0===t.negative&&0!==this.negative?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},h.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,h=this.cmp(t);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(r=this,n=t):(r=t,n=this);for(var e=0,o=0;o<n.length;o++)e=(i=(0|r.words[o])-(0|n.words[o])+e)>>26,this.words[o]=67108863&i;for(;0!==e&&o<r.length;o++)e=(i=(0|r.words[o])+e)>>26,this.words[o]=67108863&i;if(0===e&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},h.prototype.sub=function(t){return this.clone().isub(t)};var M=function(t,i,r){var n,h,e,o=t.words,s=i.words,u=r.words,a=0,l=0|o[0],m=8191&l,f=l>>>13,p=0|o[1],M=8191&p,v=p>>>13,g=0|o[2],c=8191&g,w=g>>>13,y=0|o[3],b=8191&y,_=y>>>13,k=0|o[4],A=8191&k,x=k>>>13,S=0|o[5],Z=8191&S,B=S>>>13,R=0|o[6],q=8191&R,N=R>>>13,L=0|o[7],I=8191&L,z=L>>>13,T=0|o[8],E=8191&T,O=T>>>13,j=0|o[9],K=8191&j,P=j>>>13,F=0|s[0],C=8191&F,D=F>>>13,H=0|s[1],J=8191&H,U=H>>>13,G=0|s[2],Q=8191&G,V=G>>>13,W=0|s[3],X=8191&W,Y=W>>>13,$=0|s[4],tt=8191&$,it=$>>>13,rt=0|s[5],nt=8191&rt,ht=rt>>>13,et=0|s[6],ot=8191&et,st=et>>>13,ut=0|s[7],at=8191&ut,lt=ut>>>13,mt=0|s[8],ft=8191&mt,dt=mt>>>13,pt=0|s[9],Mt=8191&pt,vt=pt>>>13;r.negative=t.negative^i.negative,r.length=19;var gt=(a+(n=Math.imul(m,C))|0)+((8191&(h=(h=Math.imul(m,D))+Math.imul(f,C)|0))<<13)|0;a=((e=Math.imul(f,D))+(h>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(M,C),h=(h=Math.imul(M,D))+Math.imul(v,C)|0,e=Math.imul(v,D);var ct=(a+(n=n+Math.imul(m,J)|0)|0)+((8191&(h=(h=h+Math.imul(m,U)|0)+Math.imul(f,J)|0))<<13)|0;a=((e=e+Math.imul(f,U)|0)+(h>>>13)|0)+(ct>>>26)|0,ct&=67108863,n=Math.imul(c,C),h=(h=Math.imul(c,D))+Math.imul(w,C)|0,e=Math.imul(w,D),n=n+Math.imul(M,J)|0,h=(h=h+Math.imul(M,U)|0)+Math.imul(v,J)|0,e=e+Math.imul(v,U)|0;var wt=(a+(n=n+Math.imul(m,Q)|0)|0)+((8191&(h=(h=h+Math.imul(m,V)|0)+Math.imul(f,Q)|0))<<13)|0;a=((e=e+Math.imul(f,V)|0)+(h>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(b,C),h=(h=Math.imul(b,D))+Math.imul(_,C)|0,e=Math.imul(_,D),n=n+Math.imul(c,J)|0,h=(h=h+Math.imul(c,U)|0)+Math.imul(w,J)|0,e=e+Math.imul(w,U)|0,n=n+Math.imul(M,Q)|0,h=(h=h+Math.imul(M,V)|0)+Math.imul(v,Q)|0,e=e+Math.imul(v,V)|0;var yt=(a+(n=n+Math.imul(m,X)|0)|0)+((8191&(h=(h=h+Math.imul(m,Y)|0)+Math.imul(f,X)|0))<<13)|0;a=((e=e+Math.imul(f,Y)|0)+(h>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(A,C),h=(h=Math.imul(A,D))+Math.imul(x,C)|0,e=Math.imul(x,D),n=n+Math.imul(b,J)|0,h=(h=h+Math.imul(b,U)|0)+Math.imul(_,J)|0,e=e+Math.imul(_,U)|0,n=n+Math.imul(c,Q)|0,h=(h=h+Math.imul(c,V)|0)+Math.imul(w,Q)|0,e=e+Math.imul(w,V)|0,n=n+Math.imul(M,X)|0,h=(h=h+Math.imul(M,Y)|0)+Math.imul(v,X)|0,e=e+Math.imul(v,Y)|0;var bt=(a+(n=n+Math.imul(m,tt)|0)|0)+((8191&(h=(h=h+Math.imul(m,it)|0)+Math.imul(f,tt)|0))<<13)|0;a=((e=e+Math.imul(f,it)|0)+(h>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(Z,C),h=(h=Math.imul(Z,D))+Math.imul(B,C)|0,e=Math.imul(B,D),n=n+Math.imul(A,J)|0,h=(h=h+Math.imul(A,U)|0)+Math.imul(x,J)|0,e=e+Math.imul(x,U)|0,n=n+Math.imul(b,Q)|0,h=(h=h+Math.imul(b,V)|0)+Math.imul(_,Q)|0,e=e+Math.imul(_,V)|0,n=n+Math.imul(c,X)|0,h=(h=h+Math.imul(c,Y)|0)+Math.imul(w,X)|0,e=e+Math.imul(w,Y)|0,n=n+Math.imul(M,tt)|0,h=(h=h+Math.imul(M,it)|0)+Math.imul(v,tt)|0,e=e+Math.imul(v,it)|0;var _t=(a+(n=n+Math.imul(m,nt)|0)|0)+((8191&(h=(h=h+Math.imul(m,ht)|0)+Math.imul(f,nt)|0))<<13)|0;a=((e=e+Math.imul(f,ht)|0)+(h>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(q,C),h=(h=Math.imul(q,D))+Math.imul(N,C)|0,e=Math.imul(N,D),n=n+Math.imul(Z,J)|0,h=(h=h+Math.imul(Z,U)|0)+Math.imul(B,J)|0,e=e+Math.imul(B,U)|0,n=n+Math.imul(A,Q)|0,h=(h=h+Math.imul(A,V)|0)+Math.imul(x,Q)|0,e=e+Math.imul(x,V)|0,n=n+Math.imul(b,X)|0,h=(h=h+Math.imul(b,Y)|0)+Math.imul(_,X)|0,e=e+Math.imul(_,Y)|0,n=n+Math.imul(c,tt)|0,h=(h=h+Math.imul(c,it)|0)+Math.imul(w,tt)|0,e=e+Math.imul(w,it)|0,n=n+Math.imul(M,nt)|0,h=(h=h+Math.imul(M,ht)|0)+Math.imul(v,nt)|0,e=e+Math.imul(v,ht)|0;var kt=(a+(n=n+Math.imul(m,ot)|0)|0)+((8191&(h=(h=h+Math.imul(m,st)|0)+Math.imul(f,ot)|0))<<13)|0;a=((e=e+Math.imul(f,st)|0)+(h>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(I,C),h=(h=Math.imul(I,D))+Math.imul(z,C)|0,e=Math.imul(z,D),n=n+Math.imul(q,J)|0,h=(h=h+Math.imul(q,U)|0)+Math.imul(N,J)|0,e=e+Math.imul(N,U)|0,n=n+Math.imul(Z,Q)|0,h=(h=h+Math.imul(Z,V)|0)+Math.imul(B,Q)|0,e=e+Math.imul(B,V)|0,n=n+Math.imul(A,X)|0,h=(h=h+Math.imul(A,Y)|0)+Math.imul(x,X)|0,e=e+Math.imul(x,Y)|0,n=n+Math.imul(b,tt)|0,h=(h=h+Math.imul(b,it)|0)+Math.imul(_,tt)|0,e=e+Math.imul(_,it)|0,n=n+Math.imul(c,nt)|0,h=(h=h+Math.imul(c,ht)|0)+Math.imul(w,nt)|0,e=e+Math.imul(w,ht)|0,n=n+Math.imul(M,ot)|0,h=(h=h+Math.imul(M,st)|0)+Math.imul(v,ot)|0,e=e+Math.imul(v,st)|0;var At=(a+(n=n+Math.imul(m,at)|0)|0)+((8191&(h=(h=h+Math.imul(m,lt)|0)+Math.imul(f,at)|0))<<13)|0;a=((e=e+Math.imul(f,lt)|0)+(h>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(E,C),h=(h=Math.imul(E,D))+Math.imul(O,C)|0,e=Math.imul(O,D),n=n+Math.imul(I,J)|0,h=(h=h+Math.imul(I,U)|0)+Math.imul(z,J)|0,e=e+Math.imul(z,U)|0,n=n+Math.imul(q,Q)|0,h=(h=h+Math.imul(q,V)|0)+Math.imul(N,Q)|0,e=e+Math.imul(N,V)|0,n=n+Math.imul(Z,X)|0,h=(h=h+Math.imul(Z,Y)|0)+Math.imul(B,X)|0,e=e+Math.imul(B,Y)|0,n=n+Math.imul(A,tt)|0,h=(h=h+Math.imul(A,it)|0)+Math.imul(x,tt)|0,e=e+Math.imul(x,it)|0,n=n+Math.imul(b,nt)|0,h=(h=h+Math.imul(b,ht)|0)+Math.imul(_,nt)|0,e=e+Math.imul(_,ht)|0,n=n+Math.imul(c,ot)|0,h=(h=h+Math.imul(c,st)|0)+Math.imul(w,ot)|0,e=e+Math.imul(w,st)|0,n=n+Math.imul(M,at)|0,h=(h=h+Math.imul(M,lt)|0)+Math.imul(v,at)|0,e=e+Math.imul(v,lt)|0;var xt=(a+(n=n+Math.imul(m,ft)|0)|0)+((8191&(h=(h=h+Math.imul(m,dt)|0)+Math.imul(f,ft)|0))<<13)|0;a=((e=e+Math.imul(f,dt)|0)+(h>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(K,C),h=(h=Math.imul(K,D))+Math.imul(P,C)|0,e=Math.imul(P,D),n=n+Math.imul(E,J)|0,h=(h=h+Math.imul(E,U)|0)+Math.imul(O,J)|0,e=e+Math.imul(O,U)|0,n=n+Math.imul(I,Q)|0,h=(h=h+Math.imul(I,V)|0)+Math.imul(z,Q)|0,e=e+Math.imul(z,V)|0,n=n+Math.imul(q,X)|0,h=(h=h+Math.imul(q,Y)|0)+Math.imul(N,X)|0,e=e+Math.imul(N,Y)|0,n=n+Math.imul(Z,tt)|0,h=(h=h+Math.imul(Z,it)|0)+Math.imul(B,tt)|0,e=e+Math.imul(B,it)|0,n=n+Math.imul(A,nt)|0,h=(h=h+Math.imul(A,ht)|0)+Math.imul(x,nt)|0,e=e+Math.imul(x,ht)|0,n=n+Math.imul(b,ot)|0,h=(h=h+Math.imul(b,st)|0)+Math.imul(_,ot)|0,e=e+Math.imul(_,st)|0,n=n+Math.imul(c,at)|0,h=(h=h+Math.imul(c,lt)|0)+Math.imul(w,at)|0,e=e+Math.imul(w,lt)|0,n=n+Math.imul(M,ft)|0,h=(h=h+Math.imul(M,dt)|0)+Math.imul(v,ft)|0,e=e+Math.imul(v,dt)|0;var St=(a+(n=n+Math.imul(m,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(m,vt)|0)+Math.imul(f,Mt)|0))<<13)|0;a=((e=e+Math.imul(f,vt)|0)+(h>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(K,J),h=(h=Math.imul(K,U))+Math.imul(P,J)|0,e=Math.imul(P,U),n=n+Math.imul(E,Q)|0,h=(h=h+Math.imul(E,V)|0)+Math.imul(O,Q)|0,e=e+Math.imul(O,V)|0,n=n+Math.imul(I,X)|0,h=(h=h+Math.imul(I,Y)|0)+Math.imul(z,X)|0,e=e+Math.imul(z,Y)|0,n=n+Math.imul(q,tt)|0,h=(h=h+Math.imul(q,it)|0)+Math.imul(N,tt)|0,e=e+Math.imul(N,it)|0,n=n+Math.imul(Z,nt)|0,h=(h=h+Math.imul(Z,ht)|0)+Math.imul(B,nt)|0,e=e+Math.imul(B,ht)|0,n=n+Math.imul(A,ot)|0,h=(h=h+Math.imul(A,st)|0)+Math.imul(x,ot)|0,e=e+Math.imul(x,st)|0,n=n+Math.imul(b,at)|0,h=(h=h+Math.imul(b,lt)|0)+Math.imul(_,at)|0,e=e+Math.imul(_,lt)|0,n=n+Math.imul(c,ft)|0,h=(h=h+Math.imul(c,dt)|0)+Math.imul(w,ft)|0,e=e+Math.imul(w,dt)|0;var Zt=(a+(n=n+Math.imul(M,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(M,vt)|0)+Math.imul(v,Mt)|0))<<13)|0;a=((e=e+Math.imul(v,vt)|0)+(h>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,n=Math.imul(K,Q),h=(h=Math.imul(K,V))+Math.imul(P,Q)|0,e=Math.imul(P,V),n=n+Math.imul(E,X)|0,h=(h=h+Math.imul(E,Y)|0)+Math.imul(O,X)|0,e=e+Math.imul(O,Y)|0,n=n+Math.imul(I,tt)|0,h=(h=h+Math.imul(I,it)|0)+Math.imul(z,tt)|0,e=e+Math.imul(z,it)|0,n=n+Math.imul(q,nt)|0,h=(h=h+Math.imul(q,ht)|0)+Math.imul(N,nt)|0,e=e+Math.imul(N,ht)|0,n=n+Math.imul(Z,ot)|0,h=(h=h+Math.imul(Z,st)|0)+Math.imul(B,ot)|0,e=e+Math.imul(B,st)|0,n=n+Math.imul(A,at)|0,h=(h=h+Math.imul(A,lt)|0)+Math.imul(x,at)|0,e=e+Math.imul(x,lt)|0,n=n+Math.imul(b,ft)|0,h=(h=h+Math.imul(b,dt)|0)+Math.imul(_,ft)|0,e=e+Math.imul(_,dt)|0;var Bt=(a+(n=n+Math.imul(c,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(c,vt)|0)+Math.imul(w,Mt)|0))<<13)|0;a=((e=e+Math.imul(w,vt)|0)+(h>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(K,X),h=(h=Math.imul(K,Y))+Math.imul(P,X)|0,e=Math.imul(P,Y),n=n+Math.imul(E,tt)|0,h=(h=h+Math.imul(E,it)|0)+Math.imul(O,tt)|0,e=e+Math.imul(O,it)|0,n=n+Math.imul(I,nt)|0,h=(h=h+Math.imul(I,ht)|0)+Math.imul(z,nt)|0,e=e+Math.imul(z,ht)|0,n=n+Math.imul(q,ot)|0,h=(h=h+Math.imul(q,st)|0)+Math.imul(N,ot)|0,e=e+Math.imul(N,st)|0,n=n+Math.imul(Z,at)|0,h=(h=h+Math.imul(Z,lt)|0)+Math.imul(B,at)|0,e=e+Math.imul(B,lt)|0,n=n+Math.imul(A,ft)|0,h=(h=h+Math.imul(A,dt)|0)+Math.imul(x,ft)|0,e=e+Math.imul(x,dt)|0;var Rt=(a+(n=n+Math.imul(b,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(b,vt)|0)+Math.imul(_,Mt)|0))<<13)|0;a=((e=e+Math.imul(_,vt)|0)+(h>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(K,tt),h=(h=Math.imul(K,it))+Math.imul(P,tt)|0,e=Math.imul(P,it),n=n+Math.imul(E,nt)|0,h=(h=h+Math.imul(E,ht)|0)+Math.imul(O,nt)|0,e=e+Math.imul(O,ht)|0,n=n+Math.imul(I,ot)|0,h=(h=h+Math.imul(I,st)|0)+Math.imul(z,ot)|0,e=e+Math.imul(z,st)|0,n=n+Math.imul(q,at)|0,h=(h=h+Math.imul(q,lt)|0)+Math.imul(N,at)|0,e=e+Math.imul(N,lt)|0,n=n+Math.imul(Z,ft)|0,h=(h=h+Math.imul(Z,dt)|0)+Math.imul(B,ft)|0,e=e+Math.imul(B,dt)|0;var qt=(a+(n=n+Math.imul(A,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(A,vt)|0)+Math.imul(x,Mt)|0))<<13)|0;a=((e=e+Math.imul(x,vt)|0)+(h>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(K,nt),h=(h=Math.imul(K,ht))+Math.imul(P,nt)|0,e=Math.imul(P,ht),n=n+Math.imul(E,ot)|0,h=(h=h+Math.imul(E,st)|0)+Math.imul(O,ot)|0,e=e+Math.imul(O,st)|0,n=n+Math.imul(I,at)|0,h=(h=h+Math.imul(I,lt)|0)+Math.imul(z,at)|0,e=e+Math.imul(z,lt)|0,n=n+Math.imul(q,ft)|0,h=(h=h+Math.imul(q,dt)|0)+Math.imul(N,ft)|0,e=e+Math.imul(N,dt)|0;var Nt=(a+(n=n+Math.imul(Z,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(Z,vt)|0)+Math.imul(B,Mt)|0))<<13)|0;a=((e=e+Math.imul(B,vt)|0)+(h>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(K,ot),h=(h=Math.imul(K,st))+Math.imul(P,ot)|0,e=Math.imul(P,st),n=n+Math.imul(E,at)|0,h=(h=h+Math.imul(E,lt)|0)+Math.imul(O,at)|0,e=e+Math.imul(O,lt)|0,n=n+Math.imul(I,ft)|0,h=(h=h+Math.imul(I,dt)|0)+Math.imul(z,ft)|0,e=e+Math.imul(z,dt)|0;var Lt=(a+(n=n+Math.imul(q,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(q,vt)|0)+Math.imul(N,Mt)|0))<<13)|0;a=((e=e+Math.imul(N,vt)|0)+(h>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(K,at),h=(h=Math.imul(K,lt))+Math.imul(P,at)|0,e=Math.imul(P,lt),n=n+Math.imul(E,ft)|0,h=(h=h+Math.imul(E,dt)|0)+Math.imul(O,ft)|0,e=e+Math.imul(O,dt)|0;var It=(a+(n=n+Math.imul(I,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(I,vt)|0)+Math.imul(z,Mt)|0))<<13)|0;a=((e=e+Math.imul(z,vt)|0)+(h>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(K,ft),h=(h=Math.imul(K,dt))+Math.imul(P,ft)|0,e=Math.imul(P,dt);var zt=(a+(n=n+Math.imul(E,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(E,vt)|0)+Math.imul(O,Mt)|0))<<13)|0;a=((e=e+Math.imul(O,vt)|0)+(h>>>13)|0)+(zt>>>26)|0,zt&=67108863;var Tt=(a+(n=Math.imul(K,Mt))|0)+((8191&(h=(h=Math.imul(K,vt))+Math.imul(P,Mt)|0))<<13)|0;return a=((e=Math.imul(P,vt))+(h>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,u[0]=gt,u[1]=ct,u[2]=wt,u[3]=yt,u[4]=bt,u[5]=_t,u[6]=kt,u[7]=At,u[8]=xt,u[9]=St,u[10]=Zt,u[11]=Bt,u[12]=Rt,u[13]=qt,u[14]=Nt,u[15]=Lt,u[16]=It,u[17]=zt,u[18]=Tt,0!==a&&(u[19]=a,r.length++),r};function v(t,i,r){r.negative=i.negative^t.negative,r.length=t.length+i.length;for(var n=0,h=0,e=0;e<r.length-1;e++){var o=h;h=0;for(var s=67108863&n,u=Math.min(e,i.length-1),a=Math.max(0,e-t.length+1);a<=u;a++){var l=e-a,m=(0|t.words[l])*(0|i.words[a]),f=67108863&m;s=67108863&(f=f+s|0),h+=(o=(o=o+(m/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[e]=s,n=o,o=h}return 0!==n?r.words[e]=n:r.length--,r.strip()}function g(t,i,r){return(new c).mulp(t,i,r)}function c(t,i){this.x=t,this.y=i}Math.imul||(M=p),h.prototype.mulTo=function(t,i){var r=this.length+t.length;return 10===this.length&&10===t.length?M(this,t,i):r<63?p(this,t,i):r<1024?v(this,t,i):g(this,t,i)},c.prototype.makeRBT=function(t){for(var i=new Array(t),r=h.prototype._countBits(t)-1,n=0;n<t;n++)i[n]=this.revBin(n,r,t);return i},c.prototype.revBin=function(t,i,r){if(0===t||t===r-1)return t;for(var n=0,h=0;h<i;h++)n|=(1&t)<<i-h-1,t>>=1;return n},c.prototype.permute=function(t,i,r,n,h,e){for(var o=0;o<e;o++)n[o]=i[t[o]],h[o]=r[t[o]]},c.prototype.transform=function(t,i,r,n,h,e){this.permute(e,t,i,r,n,h);for(var o=1;o<h;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),a=Math.sin(2*Math.PI/s),l=0;l<h;l+=s)for(var m=u,f=a,p=0;p<o;p++){var M=r[l+p],v=n[l+p],g=r[l+p+o],c=n[l+p+o],w=m*g-f*c;c=m*c+f*g,g=w,r[l+p]=M+g,n[l+p]=v+c,r[l+p+o]=M-g,n[l+p+o]=v-c,p!==s&&(w=u*m-a*f,f=u*f+a*m,m=w)}},c.prototype.guessLen13b=function(t,i){var r=1|Math.max(i,t),n=1&r,h=0;for(r=r/2|0;r;r>>>=1)h++;return 1<<h+1+n},c.prototype.conjugate=function(t,i,r){if(!(r<=1))for(var n=0;n<r/2;n++){var h=t[n];t[n]=t[r-n-1],t[r-n-1]=h,h=i[n],i[n]=-i[r-n-1],i[r-n-1]=-h}},c.prototype.normalize13b=function(t,i){for(var r=0,n=0;n<i/2;n++){var h=8192*Math.round(t[2*n+1]/i)+Math.round(t[2*n]/i)+r;t[n]=67108863&h,r=h<67108864?0:h/67108864|0}return t},c.prototype.convert13b=function(t,i,n,h){for(var e=0,o=0;o<i;o++)e+=0|t[o],n[2*o]=8191&e,e>>>=13,n[2*o+1]=8191&e,e>>>=13;for(o=2*i;o<h;++o)n[o]=0;r(0===e),r(0==(-8192&e))},c.prototype.stub=function(t){for(var i=new Array(t),r=0;r<t;r++)i[r]=0;return i},c.prototype.mulp=function(t,i,r){var n=2*this.guessLen13b(t.length,i.length),h=this.makeRBT(n),e=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),a=new Array(n),l=new Array(n),m=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(i.words,i.length,a,n),this.transform(o,e,s,u,n,h),this.transform(a,e,l,m,n,h);for(var p=0;p<n;p++){var M=s[p]*l[p]-u[p]*m[p];u[p]=s[p]*m[p]+u[p]*l[p],s[p]=M}return this.conjugate(s,u,n),this.transform(s,u,f,e,n,h),this.conjugate(f,e,n),this.normalize13b(f,n),r.negative=t.negative^i.negative,r.length=t.length+i.length,r.strip()},h.prototype.mul=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},h.prototype.mulf=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),g(this,t,i)},h.prototype.imul=function(t){return this.clone().mulTo(t,this)},h.prototype.imuln=function(t){r('number'==typeof t),r(t<67108864);for(var i=0,n=0;n<this.length;n++){var h=(0|this.words[n])*t,e=(67108863&h)+(67108863&i);i>>=26,i+=h/67108864|0,i+=e>>>26,this.words[n]=67108863&e}return 0!==i&&(this.words[n]=i,this.length++),this},h.prototype.muln=function(t){return this.clone().imuln(t)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(t){var i=f(t);if(0===i.length)return new h(1);for(var r=this,n=0;n<i.length&&0===i[n];n++,r=r.sqr());if(++n<i.length)for(var e=r.sqr();n<i.length;n++,e=e.sqr())0!==i[n]&&(r=r.mul(e));return r},h.prototype.iushln=function(t){r('number'==typeof t&&t>=0);var i,n=t%26,h=(t-n)/26,e=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(i=0;i<this.length;i++){var s=this.words[i]&e,u=(0|this.words[i])-s<<n;this.words[i]=u|o,o=s>>>26-n}o&&(this.words[i]=o,this.length++)}if(0!==h){for(i=this.length-1;i>=0;i--)this.words[i+h]=this.words[i];for(i=0;i<h;i++)this.words[i]=0;this.length+=h}return this.strip()},h.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},h.prototype.iushrn=function(t,i,n){var h;r('number'==typeof t&&t>=0),h=i?(i-i%26)/26:0;var e=t%26,o=Math.min((t-e)/26,this.length),s=67108863^67108863>>>e<<e,u=n;if(h-=o,h=Math.max(0,h),u){for(var a=0;a<o;a++)u.words[a]=this.words[a];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,a=0;a<this.length;a++)this.words[a]=this.words[a+o];else this.words[0]=0,this.length=1;var l=0;for(a=this.length-1;a>=0&&(0!==l||a>=h);a--){var m=0|this.words[a];this.words[a]=l<<26-e|m>>>e,l=m&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},h.prototype.ishrn=function(t,i,n){return r(0===this.negative),this.iushrn(t,i,n)},h.prototype.shln=function(t){return this.clone().ishln(t)},h.prototype.ushln=function(t){return this.clone().iushln(t)},h.prototype.shrn=function(t){return this.clone().ishrn(t)},h.prototype.ushrn=function(t){return this.clone().iushrn(t)},h.prototype.testn=function(t){r('number'==typeof t&&t>=0);var i=t%26,n=(t-i)/26,h=1<<i;return!(this.length<=n)&&!!(this.words[n]&h)},h.prototype.imaskn=function(t){r('number'==typeof t&&t>=0);var i=t%26,n=(t-i)/26;if(r(0===this.negative,'imaskn works only with positive numbers'),this.length<=n)return this;if(0!==i&&n++,this.length=Math.min(n,this.length),0!==i){var h=67108863^67108863>>>i<<i;this.words[this.length-1]&=h}return this.strip()},h.prototype.maskn=function(t){return this.clone().imaskn(t)},h.prototype.iaddn=function(t){return r('number'==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},h.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},h.prototype.isubn=function(t){if(r('number'==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},h.prototype.addn=function(t){return this.clone().iaddn(t)},h.prototype.subn=function(t){return this.clone().isubn(t)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(t,i,n){var h,e,o=t.length+n;this._expand(o);var s=0;for(h=0;h<t.length;h++){e=(0|this.words[h+n])+s;var u=(0|t.words[h])*i;s=((e-=67108863&u)>>26)-(u/67108864|0),this.words[h+n]=67108863&e}for(;h<this.length-n;h++)s=(e=(0|this.words[h+n])+s)>>26,this.words[h+n]=67108863&e;if(0===s)return this.strip();for(r(-1===s),s=0,h=0;h<this.length;h++)s=(e=-(0|this.words[h])+s)>>26,this.words[h]=67108863&e;return this.negative=1,this.strip()},h.prototype._wordDiv=function(t,i){var r=(this.length,t.length),n=this.clone(),e=t,o=0|e.words[e.length-1];0!==(r=26-this._countBits(o))&&(e=e.ushln(r),n.iushln(r),o=0|e.words[e.length-1]);var s,u=n.length-e.length;if('mod'!==i){(s=new h(null)).length=u+1,s.words=new Array(s.length);for(var a=0;a<s.length;a++)s.words[a]=0}var l=n.clone()._ishlnsubmul(e,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var m=u-1;m>=0;m--){var f=67108864*(0|n.words[e.length+m])+(0|n.words[e.length+m-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(e,f,m);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(e,1,m),n.isZero()||(n.negative^=1);s&&(s.words[m]=f)}return s&&s.strip(),n.strip(),'div'!==i&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},h.prototype.divmod=function(t,i,n){return r(!t.isZero()),this.isZero()?{div:new h(0),mod:new h(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,i),'mod'!==i&&(e=s.div.neg()),'div'!==i&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:e,mod:o}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),i),'mod'!==i&&(e=s.div.neg()),{div:e,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),i),'div'!==i&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:s.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new h(0),mod:this}:1===t.length?'div'===i?{div:this.divn(t.words[0]),mod:null}:'mod'===i?{div:null,mod:new h(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new h(this.modn(t.words[0]))}:this._wordDiv(t,i);var e,o,s},h.prototype.div=function(t){return this.divmod(t,'div',!1).div},h.prototype.mod=function(t){return this.divmod(t,'mod',!1).mod},h.prototype.umod=function(t){return this.divmod(t,'mod',!0).mod},h.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var r=0!==i.div.negative?i.mod.isub(t):i.mod,n=t.ushrn(1),h=t.andln(1),e=r.cmp(n);return e<0||1===h&&0===e?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},h.prototype.modn=function(t){r(t<=67108863);for(var i=67108864%t,n=0,h=this.length-1;h>=0;h--)n=(i*n+(0|this.words[h]))%t;return n},h.prototype.idivn=function(t){r(t<=67108863);for(var i=0,n=this.length-1;n>=0;n--){var h=(0|this.words[n])+67108864*i;this.words[n]=h/t|0,i=h%t}return this.strip()},h.prototype.divn=function(t){return this.clone().idivn(t)},h.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var i=this,n=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e=new h(1),o=new h(0),s=new h(0),u=new h(1),a=0;i.isEven()&&n.isEven();)i.iushrn(1),n.iushrn(1),++a;for(var l=n.clone(),m=i.clone();!i.isZero();){for(var f=0,p=1;0==(i.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(i.iushrn(f);f-- >0;)(e.isOdd()||o.isOdd())&&(e.iadd(l),o.isub(m)),e.iushrn(1),o.iushrn(1);for(var M=0,v=1;0==(n.words[0]&v)&&M<26;++M,v<<=1);if(M>0)for(n.iushrn(M);M-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(m)),s.iushrn(1),u.iushrn(1);i.cmp(n)>=0?(i.isub(n),e.isub(s),o.isub(u)):(n.isub(i),s.isub(e),u.isub(o))}return{a:s,b:u,gcd:n.iushln(a)}},h.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var i=this,n=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e,o=new h(1),s=new h(0),u=n.clone();i.cmpn(1)>0&&n.cmpn(1)>0;){for(var a=0,l=1;0==(i.words[0]&l)&&a<26;++a,l<<=1);if(a>0)for(i.iushrn(a);a-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var m=0,f=1;0==(n.words[0]&f)&&m<26;++m,f<<=1);if(m>0)for(n.iushrn(m);m-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);i.cmp(n)>=0?(i.isub(n),o.isub(s)):(n.isub(i),s.isub(o))}return(e=0===i.cmpn(1)?o:s).cmpn(0)<0&&e.iadd(t),e},h.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),r=t.clone();i.negative=0,r.negative=0;for(var n=0;i.isEven()&&r.isEven();n++)i.iushrn(1),r.iushrn(1);for(;;){for(;i.isEven();)i.iushrn(1);for(;r.isEven();)r.iushrn(1);var h=i.cmp(r);if(h<0){var e=i;i=r,r=e}else if(0===h||0===r.cmpn(1))break;i.isub(r)}return r.iushln(n)},h.prototype.invm=function(t){return this.egcd(t).a.umod(t)},h.prototype.isEven=function(){return 0==(1&this.words[0])},h.prototype.isOdd=function(){return 1==(1&this.words[0])},h.prototype.andln=function(t){return this.words[0]&t},h.prototype.bincn=function(t){r('number'==typeof t);var i=t%26,n=(t-i)/26,h=1<<i;if(this.length<=n)return this._expand(n+1),this.words[n]|=h,this;for(var e=h,o=n;0!==e&&o<this.length;o++){var s=0|this.words[o];e=(s+=e)>>>26,s&=67108863,this.words[o]=s}return 0!==e&&(this.words[o]=e,this.length++),this},h.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},h.prototype.cmpn=function(t){var i,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)i=1;else{n&&(t=-t),r(t<=67108863,'Number is too big');var h=0|this.words[0];i=h===t?0:h<t?-1:1}return 0!==this.negative?0|-i:i},h.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var i=this.ucmp(t);return 0!==this.negative?0|-i:i},h.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],h=0|t.words[r];if(n!==h){n<h?i=-1:n>h&&(i=1);break}}return i},h.prototype.gtn=function(t){return 1===this.cmpn(t)},h.prototype.gt=function(t){return 1===this.cmp(t)},h.prototype.gten=function(t){return this.cmpn(t)>=0},h.prototype.gte=function(t){return this.cmp(t)>=0},h.prototype.ltn=function(t){return-1===this.cmpn(t)},h.prototype.lt=function(t){return-1===this.cmp(t)},h.prototype.lten=function(t){return this.cmpn(t)<=0},h.prototype.lte=function(t){return this.cmp(t)<=0},h.prototype.eqn=function(t){return 0===this.cmpn(t)},h.prototype.eq=function(t){return 0===this.cmp(t)},h.red=function(t){return new x(t)},h.prototype.toRed=function(t){return r(!this.red,'Already a number in reduction context'),r(0===this.negative,'red works only with positives'),t.convertTo(this)._forceRed(t)},h.prototype.fromRed=function(){return r(this.red,'fromRed works only with numbers in reduction context'),this.red.convertFrom(this)},h.prototype._forceRed=function(t){return this.red=t,this},h.prototype.forceRed=function(t){return r(!this.red,'Already a number in reduction context'),this._forceRed(t)},h.prototype.redAdd=function(t){return r(this.red,'redAdd works only with red numbers'),this.red.add(this,t)},h.prototype.redIAdd=function(t){return r(this.red,'redIAdd works only with red numbers'),this.red.iadd(this,t)},h.prototype.redSub=function(t){return r(this.red,'redSub works only with red numbers'),this.red.sub(this,t)},h.prototype.redISub=function(t){return r(this.red,'redISub works only with red numbers'),this.red.isub(this,t)},h.prototype.redShl=function(t){return r(this.red,'redShl works only with red numbers'),this.red.shl(this,t)},h.prototype.redMul=function(t){return r(this.red,'redMul works only with red numbers'),this.red._verify2(this,t),this.red.mul(this,t)},h.prototype.redIMul=function(t){return r(this.red,'redMul works only with red numbers'),this.red._verify2(this,t),this.red.imul(this,t)},h.prototype.redSqr=function(){return r(this.red,'redSqr works only with red numbers'),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return r(this.red,'redISqr works only with red numbers'),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return r(this.red,'redSqrt works only with red numbers'),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return r(this.red,'redInvm works only with red numbers'),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return r(this.red,'redNeg works only with red numbers'),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(t){return r(this.red&&!t.red,'redPow(normalNum)'),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function y(t,i){this.name=t,this.p=new h(i,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,'k256','ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f')}function _(){y.call(this,'p224','ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001')}function k(){y.call(this,'p192','ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff')}function A(){y.call(this,'25519','7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed')}function x(t){if('string'==typeof t){var i=h._prime(t);this.m=i.p,this.prime=i}else r(t.gtn(1),'modulus must be greater than 1'),this.m=t,this.prime=null}function S(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new h(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var i,r=t;do{this.split(r,this.tmp),i=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(i>this.n);var n=i<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,i){t.iushrn(this.n,0,i)},y.prototype.imulK=function(t){return t.imul(this.k)},n(b,y),b.prototype.split=function(t,i){for(var r=Math.min(t.length,9),n=0;n<r;n++)i.words[n]=t.words[n];if(i.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var h=t.words[9];for(i.words[i.length++]=4194303&h,n=10;n<t.length;n++){var e=0|t.words[n];t.words[n-10]=(4194303&e)<<4|h>>>22,h=e}h>>>=22,t.words[n-10]=h,0===h&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,r=0;r<t.length;r++){var n=0|t.words[r];i+=977*n,t.words[r]=67108863&i,i=64*n+(i/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(_,y),n(k,y),n(A,y),A.prototype.imulK=function(t){for(var i=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+i,h=67108863&n;n>>>=26,t.words[r]=h,i=n}return 0!==i&&(t.words[t.length++]=i),t},h._prime=function(t){if(w[t])return w[t];var i;if('k256'===t)i=new b;else if('p224'===t)i=new _;else if('p192'===t)i=new k;else{if('p25519'!==t)throw new Error('Unknown prime '+t);i=new A}return w[t]=i,i},x.prototype._verify1=function(t){r(0===t.negative,'red works only with positives'),r(t.red,'red works only with red numbers')},x.prototype._verify2=function(t,i){r(0==(t.negative|i.negative),'red works only with positives'),r(t.red&&t.red===i.red,'red works only with red numbers')},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,i){this._verify2(t,i);var r=t.add(i);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(t,i){this._verify2(t,i);var r=t.iadd(i);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(t,i){this._verify2(t,i);var r=t.sub(i);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(t,i){this._verify2(t,i);var r=t.isub(i);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},x.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},x.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(r(i%2==1),3===i){var n=this.m.add(new h(1)).iushrn(2);return this.pow(t,n)}for(var e=this.m.subn(1),o=0;!e.isZero()&&0===e.andln(1);)o++,e.iushrn(1);r(!e.isZero());var s=new h(1).toRed(this),u=s.redNeg(),a=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new h(2*l*l).toRed(this);0!==this.pow(l,a).cmp(u);)l.redIAdd(u);for(var m=this.pow(l,e),f=this.pow(t,e.addn(1).iushrn(1)),p=this.pow(t,e),M=o;0!==p.cmp(s);){for(var v=p,g=0;0!==v.cmp(s);g++)v=v.redSqr();r(g<M);var c=this.pow(m,new h(1).iushln(M-g-1));f=f.redMul(c),m=c.redSqr(),p=p.redMul(m),M=g}return f},x.prototype.invm=function(t){var i=t._invmp(this.m);return 0!==i.negative?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},x.prototype.pow=function(t,i){if(i.isZero())return new h(1).toRed(this);if(0===i.cmpn(1))return t.clone();var r=new Array(16);r[0]=new h(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var e=r[0],o=0,s=0,u=i.bitLength()%26;for(0===u&&(u=26),n=i.length-1;n>=0;n--){for(var a=i.words[n],l=u-1;l>=0;l--){var m=a>>l&1;e!==r[0]&&(e=this.sqr(e)),0!==m||0!==o?(o<<=1,o|=m,(4===++s||0===n&&0===l)&&(e=this.mul(e,r[o]),s=0,o=0)):s=0}u=26}return e},x.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},x.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},h.mont=function(t){return new S(t)},n(S,x),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},S.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=r.isub(n).iushrn(this.shift),e=h;return h.cmp(this.m)>=0?e=h.isub(this.m):h.cmpn(0)<0&&(e=h.iadd(this.m)),e._forceRed(this)},S.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new h(0)._forceRed(this);var r=t.mul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=r.isub(n).iushrn(this.shift),o=e;return e.cmp(this.m)>=0?o=e.isub(this.m):e.cmpn(0)<0&&(o=e.iadd(this.m)),o._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}})(void 0===_m||_m,this)},560,[476]);
__d(function(g,r,i,a,m,_e,d){function e(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}_e.define=function(t,n){return new e(t,n)},e.prototype._createNamed=function(e){var t;try{t=r(d[0]).runInThisContext('(function '+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){t=function(e){this._initNamed(e)}}return r(d[1])(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},e.prototype._getDecoder=function(e){return e=e||'der',this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(r(d[2]).decoders[e])),this.decoders[e]},e.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},e.prototype._getEncoder=function(e){return e=e||'der',this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(r(d[2]).encoders[e])),this.encoders[e]},e.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}},561,[475,559]);
__d(function(g,r,i,a,m,e,d){var f=e;f.Reporter=r(d[0]).Reporter,f.DecoderBuffer=r(d[1]).DecoderBuffer,f.EncoderBuffer=r(d[1]).EncoderBuffer,f.Node=r(d[2])},562,[563,564,565]);
__d(function(g,r,i,a,m,_e,d){function t(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function e(t,e){this.path=t,this.rethrow(e)}_e.Reporter=t,t.prototype.isError=function(t){return t instanceof e},t.prototype.save=function(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},t.prototype.restore=function(t){var e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},t.prototype.enterKey=function(t){return this._reporterState.path.push(t)},t.prototype.exitKey=function(t){var e=this._reporterState;e.path=e.path.slice(0,t-1)},t.prototype.leaveKey=function(t,e,o){var n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=o)},t.prototype.path=function(){return this._reporterState.path.join('/')},t.prototype.enterObject=function(){var t=this._reporterState,e=t.obj;return t.obj={},e},t.prototype.leaveObject=function(t){var e=this._reporterState,o=e.obj;return e.obj=t,o},t.prototype.error=function(t){var o,n=this._reporterState,p=t instanceof e;if(o=p?t:new e(n.path.map(function(t){return'['+JSON.stringify(t)+']'}).join(''),t.message||t,t.stack),!n.options.partial)throw o;return p||n.errors.push(o),o},t.prototype.wrapResult=function(t){var e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},r(d[0])(e,Error),e.prototype.rethrow=function(t){if(this.message=t+' at: '+(this.path||'(shallow)'),Error.captureStackTrace&&Error.captureStackTrace(this,e),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},563,[475]);
__d(function(g,r,i,a,m,e,d){function t(t,s){r(d[0]).Reporter.call(this,s),r(d[1]).Buffer.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error('Input not Buffer')}function s(t,f){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof s||(t=new s(t,f)),this.length+=t.length,t},this);else if('number'==typeof t){if(!(0<=t&&t<=255))return f.error('non-byte EncoderBuffer value');this.value=t,this.length=1}else if('string'==typeof t)this.value=t,this.length=r(d[1]).Buffer.byteLength(t);else{if(!r(d[1]).Buffer.isBuffer(t))return f.error('Unsupported type: '+typeof t);this.value=t,this.length=t.length}}r(d[2])(t,r(d[0]).Reporter),e.DecoderBuffer=t,t.prototype.save=function(){return{offset:this.offset,reporter:r(d[0]).Reporter.prototype.save.call(this)}},t.prototype.restore=function(s){var f=new t(this.base);return f.offset=s.offset,f.length=this.offset,this.offset=s.offset,r(d[0]).Reporter.prototype.restore.call(this,s.reporter),f},t.prototype.isEmpty=function(){return this.offset===this.length},t.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||'DecoderBuffer overrun')},t.prototype.skip=function(s,f){if(!(this.offset+s<=this.length))return this.error(f||'DecoderBuffer overrun');var o=new t(this.base);return o._reporterState=this._reporterState,o.offset=this.offset,o.length=this.offset+s,this.offset+=s,o},t.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=s,s.prototype.join=function(t,s){return t||(t=new(r(d[1]).Buffer)(this.length)),s||(s=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(f){f.join(t,s),s+=f.length}):('number'==typeof this.value?t[s]=this.value:'string'==typeof this.value?t.write(this.value,s):r(d[1]).Buffer.isBuffer(this.value)&&this.value.copy(t,s),s+=this.length),t)}},564,[562,381,475]);
__d(function(g,r,i,a,m,_e,d){var e=['seq','seqof','set','setof','objid','bool','gentime','utctime','null_','enum','int','objDesc','bitstr','bmpstr','charstr','genstr','graphstr','ia5str','iso646str','numstr','octstr','printstr','t61str','unistr','utf8str','videostr'],t=['key','obj','use','optional','explicit','implicit','def','choice','any','contains'].concat(e);function n(e,t){var n={};this._baseState=n,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}m.exports=n;var o=['enc','parent','children','tag','args','reverseArgs','choice','optional','any','obj','use','alteredUse','key','default','explicit','implicit','contains'];n.prototype.clone=function(){var e=this._baseState,t={};o.forEach(function(n){t[n]=e[n]});var n=new this.constructor(t.parent);return n._baseState=t,n},n.prototype._wrap=function(){var e=this._baseState;t.forEach(function(t){this[t]=function(){var n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}},this)},n.prototype._init=function(e){var t=this._baseState;r(d[0])(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),r(d[0]).equal(t.children.length,1,'Root node can have only one child')},n.prototype._useArgs=function(e){var t=this._baseState,n=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==n.length&&(r(d[0])(null===t.children),t.children=n,n.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(r(d[0])(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if('object'!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(n){n==(0|n)&&(n|=0);var o=e[n];t[o]=n}),t}))},['_peekTag','_decodeTag','_use','_decodeStr','_decodeObjid','_decodeTime','_decodeNull','_decodeInt','_decodeBool','_decodeList','_encodeComposite','_encodeStr','_encodeObjid','_encodeTime','_encodeNull','_encodeInt','_encodeBool'].forEach(function(e){n.prototype[e]=function(){var t=this._baseState;throw new Error(e+' not implemented for encoding: '+t.enc)}}),e.forEach(function(e){n.prototype[e]=function(){var t=this._baseState,n=Array.prototype.slice.call(arguments);return r(d[0])(null===t.tag),t.tag=e,this._useArgs(n),this}}),n.prototype.use=function(e){r(d[0])(e);var t=this._baseState;return r(d[0])(null===t.use),t.use=e,this},n.prototype.optional=function(){return this._baseState.optional=!0,this},n.prototype.def=function(e){var t=this._baseState;return r(d[0])(null===t.default),t.default=e,t.optional=!0,this},n.prototype.explicit=function(e){var t=this._baseState;return r(d[0])(null===t.explicit&&null===t.implicit),t.explicit=e,this},n.prototype.implicit=function(e){var t=this._baseState;return r(d[0])(null===t.explicit&&null===t.implicit),t.implicit=e,this},n.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},n.prototype.key=function(e){var t=this._baseState;return r(d[0])(null===t.key),t.key=e,this},n.prototype.any=function(){return this._baseState.any=!0,this},n.prototype.choice=function(e){var t=this._baseState;return r(d[0])(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},n.prototype.contains=function(e){var t=this._baseState;return r(d[0])(null===t.use),t.contains=e,this},n.prototype._decode=function(e,t){var n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));var o,s=n.default,c=!0,l=null;if(null!==n.key&&(l=e.enterKey(n.key)),n.optional){var u=null;if(null!==n.explicit?u=n.explicit:null!==n.implicit?u=n.implicit:null!==n.tag&&(u=n.tag),null!==u||n.any){if(c=this._peekTag(e,u,n.any),e.isError(c))return c}else{var h=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),c=!0}catch(e){c=!1}e.restore(h)}}if(n.obj&&c&&(o=e.enterObject()),c){if(null!==n.explicit){var p=this._decodeTag(e,n.explicit);if(e.isError(p))return p;e=p}var f=e.offset;if(null===n.use&&null===n.choice){if(n.any)h=e.save();var _=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(_))return _;n.any?s=e.raw(h):e=_}if(t&&t.track&&null!==n.tag&&t.track(e.path(),f,e.length,'tagged'),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,'content'),s=n.any?s:null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),e.isError(s))return s;if(n.any||null!==n.choice||null===n.children||n.children.forEach(function(n){n._decode(e,t)}),n.contains&&('octstr'===n.tag||'bitstr'===n.tag)){var y=new(r(d[1]).DecoderBuffer)(s);s=this._getUse(n.contains,e._reporterState.obj)._decode(y,t)}}return n.obj&&c&&(s=e.leaveObject(o)),null===n.key||null===s&&!0!==c?null!==l&&e.exitKey(l):e.leaveKey(l,n.key,s),s},n.prototype._decodeGeneric=function(e,t,n){var o=this._baseState;return'seq'===e||'set'===e?null:'seqof'===e||'setof'===e?this._decodeList(t,e,o.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):'objid'===e&&o.args?this._decodeObjid(t,o.args[0],o.args[1],n):'objid'===e?this._decodeObjid(t,null,null,n):'gentime'===e||'utctime'===e?this._decodeTime(t,e,n):'null_'===e?this._decodeNull(t,n):'bool'===e?this._decodeBool(t,n):'objDesc'===e?this._decodeStr(t,e,n):'int'===e||'enum'===e?this._decodeInt(t,o.args&&o.args[0],n):null!==o.use?this._getUse(o.use,t._reporterState.obj)._decode(t,n):t.error('unknown tag: '+e)},n.prototype._getUse=function(e,t){var n=this._baseState;return n.useDecoder=this._use(e,t),r(d[0])(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},n.prototype._decodeChoice=function(e,t){var n=this._baseState,o=null,s=!1;return Object.keys(n.choice).some(function(c){var l=e.save(),u=n.choice[c];try{var h=u._decode(e,t);if(e.isError(h))return!1;o={type:c,value:h},s=!0}catch(t){return e.restore(l),!1}return!0},this),s?o:e.error('Choice not matched')},n.prototype._createEncoderBuffer=function(e){return new(r(d[1]).EncoderBuffer)(e,this.reporter)},n.prototype._encode=function(e,t,n){var o=this._baseState;if(null===o.default||o.default!==e){var s=this._encodeValue(e,t,n);if(void 0!==s&&!this._skipDefault(s,t,n))return s}},n.prototype._encodeValue=function(e,t,n){var o=this._baseState;if(null===o.parent)return o.children[0]._encode(e,t||new(r(d[1]).Reporter));var s=null;if(this.reporter=t,o.optional&&void 0===e){if(null===o.default)return;e=o.default}var c=null,l=!1;if(o.any)s=this._createEncoderBuffer(e);else if(o.choice)s=this._encodeChoice(e,t);else if(o.contains)c=this._getUse(o.contains,n)._encode(e,t),l=!0;else if(o.children)c=o.children.map(function(n){if('null_'===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error('Child should have a key');var o=t.enterKey(n._baseState.key);if('object'!=typeof e)return t.error('Child expected, but input is not object');var s=n._encode(e[n._baseState.key],t,e);return t.leaveKey(o),s},this).filter(function(e){return e}),c=this._createEncoderBuffer(c);else if('seqof'===o.tag||'setof'===o.tag){if(!o.args||1!==o.args.length)return t.error('Too many args for : '+o.tag);if(!Array.isArray(e))return t.error('seqof/setof, but data is not Array');var u=this.clone();u._baseState.implicit=null,c=this._createEncoderBuffer(e.map(function(n){var o=this._baseState;return this._getUse(o.args[0],e)._encode(n,t)},u))}else null!==o.use?s=this._getUse(o.use,n)._encode(e,t):(c=this._encodePrimitive(o.tag,e),l=!0);if(!o.any&&null===o.choice){var h=null!==o.implicit?o.implicit:o.tag,p=null===o.implicit?'universal':'context';null===h?null===o.use&&t.error('Tag could be omitted only for .use()'):null===o.use&&(s=this._encodeComposite(h,l,p,c))}return null!==o.explicit&&(s=this._encodeComposite(o.explicit,!1,'context',s)),s},n.prototype._encodeChoice=function(e,t){var n=this._baseState,o=n.choice[e.type];return o||r(d[0])(!1,e.type+' not found in '+JSON.stringify(Object.keys(n.choice))),o._encode(e.value,t)},n.prototype._encodePrimitive=function(e,t){var n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if('objid'===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if('objid'===e)return this._encodeObjid(t,null,null);if('gentime'===e||'utctime'===e)return this._encodeTime(t,e);if('null_'===e)return this._encodeNull();if('int'===e||'enum'===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if('bool'===e)return this._encodeBool(t);if('objDesc'===e)return this._encodeStr(t,e);throw new Error('Unsupported tag: '+e)},n.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},n.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},565,[533,562]);
__d(function(g,r,i,a,m,e,d){var n=e;n._reverse=function(n){var c={};return Object.keys(n).forEach(function(t){(0|t)==t&&(t|=0);var f=n[t];c[f]=t}),c},n.der=r(d[0])},566,[567]);
__d(function(g,r,i,a,m,e,d){e.tagClass={0:'universal',1:'application',2:'context',3:'private'},e.tagClassByName=r(d[0])._reverse(e.tagClass),e.tag={0:'end',1:'bool',2:'int',3:'bitstr',4:'octstr',5:'null_',6:'objid',7:'objDesc',8:'external',9:'real',10:'enum',11:'embed',12:'utf8str',13:'relativeOid',16:'seq',17:'set',18:'numstr',19:'printstr',20:'t61str',21:'videostr',22:'ia5str',23:'utctime',24:'gentime',25:'graphstr',26:'iso646str',27:'genstr',28:'unistr',29:'charstr',30:'bmpstr'},e.tagByName=r(d[0])._reverse(e.tag)},567,[566]);
__d(function(g,r,i,a,m,e,d){var n=e;n.der=r(d[0]),n.pem=r(d[1])},568,[569,570]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]).constants.der;function i(t){this.enc='der',this.name=t.name,this.entity=t,this.tree=new o,this.tree._init(t.body)}function o(t){r(d[0]).base.Node.call(this,'der',t)}function n(i,o){var n=i.readUInt8(o);if(i.isError(n))return n;var s=t.tagClass[n>>6],u=0==(32&n);if(31==(31&n)){var f=n;for(n=0;128==(128&f);){if(f=i.readUInt8(o),i.isError(f))return f;n<<=7,n|=127&f}}else n&=31;return{cls:s,primitive:u,tag:n,tagStr:t.tag[n]}}function s(t,i,o){var n=t.readUInt8(o);if(t.isError(n))return n;if(!i&&128===n)return null;if(0==(128&n))return n;var s=127&n;if(s>4)return t.error('length octect is too long');n=0;for(var u=0;u<s;u++){n<<=8;var f=t.readUInt8(o);if(t.isError(f))return f;n|=f}return n}m.exports=i,i.prototype.decode=function(t,i){return t instanceof r(d[0]).base.DecoderBuffer||(t=new(r(d[0]).base.DecoderBuffer)(t,i)),this.tree._decode(t,i)},r(d[1])(o,r(d[0]).base.Node),o.prototype._peekTag=function(t,i,o){if(t.isEmpty())return!1;var s=t.save(),u=n(t,'Failed to peek tag: "'+i+'"');return t.isError(u)?u:(t.restore(s),u.tag===i||u.tagStr===i||u.tagStr+'of'===i||o)},o.prototype._decodeTag=function(t,i,o){var u=n(t,'Failed to decode tag of "'+i+'"');if(t.isError(u))return u;var f=s(t,u.primitive,'Failed to get length of "'+i+'"');if(t.isError(f))return f;if(!o&&u.tag!==i&&u.tagStr!==i&&u.tagStr+'of'!==i)return t.error('Failed to match tag: "'+i+'"');if(u.primitive||null!==f)return t.skip(f,'Failed to match body of: "'+i+'"');var c=t.save(),p=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(p)?p:(f=t.offset-c.offset,t.restore(c),t.skip(f,'Failed to match body of: "'+i+'"'))},o.prototype._skipUntilEnd=function(t,i){for(;;){var o=n(t,i);if(t.isError(o))return o;var u,f=s(t,o.primitive,i);if(t.isError(f))return f;if(u=o.primitive||null!==f?t.skip(f):this._skipUntilEnd(t,i),t.isError(u))return u;if('end'===o.tagStr)break}},o.prototype._decodeList=function(t,i,o,n){for(var s=[];!t.isEmpty();){var u=this._peekTag(t,'end');if(t.isError(u))return u;var f=o.decode(t,'der',n);if(t.isError(f)&&u)break;s.push(f)}return s},o.prototype._decodeStr=function(t,i){if('bitstr'===i){var o=t.readUInt8();return t.isError(o)?o:{unused:o,data:t.raw()}}if('bmpstr'===i){var n=t.raw();if(n.length%2==1)return t.error('Decoding of string type: bmpstr length mismatch');for(var s='',u=0;u<n.length/2;u++)s+=String.fromCharCode(n.readUInt16BE(2*u));return s}if('numstr'===i){var f=t.raw().toString('ascii');return this._isNumstr(f)?f:t.error("Decoding of string type: numstr unsupported characters")}if('octstr'===i)return t.raw();if('objDesc'===i)return t.raw();if('printstr'===i){var c=t.raw().toString('ascii');return this._isPrintstr(c)?c:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(i)?t.raw().toString():t.error('Decoding of string type: '+i+' unsupported')},o.prototype._decodeObjid=function(t,i,o){for(var n,s=[],u=0;!t.isEmpty();){var f=t.readUInt8();u<<=7,u|=127&f,0==(128&f)&&(s.push(u),u=0)}128&f&&s.push(u);var c=s[0]/40|0,p=s[0]%40;if(n=o?s:[c,p].concat(s.slice(1)),i){var l=i[n.join(' ')];void 0===l&&(l=i[n.join('.')]),void 0!==l&&(n=l)}return n},o.prototype._decodeTime=function(t,i){var o=t.raw().toString();if('gentime'===i)var n=0|o.slice(0,4),s=0|o.slice(4,6),u=0|o.slice(6,8),f=0|o.slice(8,10),c=0|o.slice(10,12),p=0|o.slice(12,14);else{if('utctime'!==i)return t.error('Decoding '+i+' time is not supported yet');n=0|o.slice(0,2),s=0|o.slice(2,4),u=0|o.slice(4,6),f=0|o.slice(6,8),c=0|o.slice(8,10),p=0|o.slice(10,12);n=n<70?2e3+n:1900+n}return Date.UTC(n,s-1,u,f,c,p,0)},o.prototype._decodeNull=function(t){return null},o.prototype._decodeBool=function(t){var i=t.readUInt8();return t.isError(i)?i:0!==i},o.prototype._decodeInt=function(t,i){var o=t.raw(),n=new(r(d[0]).bignum)(o);return i&&(n=i[n.toString(10)]||n),n},o.prototype._use=function(t,i){return'function'==typeof t&&(t=t(i)),t._getDecoder('der').tree}},569,[559,475]);
__d(function(g,r,_i,a,m,e,d){function t(t){r(d[0]).call(this,t),this.enc='pem'}r(d[1])(t,r(d[0])),m.exports=t,t.prototype.decode=function(t,o){for(var n=t.toString().split(/[\r\n]+/g),i=o.label.toUpperCase(),f=/^-----(BEGIN|END) ([^-]+)-----$/,c=-1,l=-1,p=0;p<n.length;p++){var s=n[p].match(f);if(null!==s&&s[2]===i){if(-1!==c){if('END'!==s[1])break;l=p;break}if('BEGIN'!==s[1])break;c=p}}if(-1===c||-1===l)throw new Error('PEM section not found for: '+i);var u=n.slice(c+1,l).join('');u.replace(/[^a-z0-9\+\/=]+/gi,'');var h=new(r(d[2]).Buffer)(u,'base64');return r(d[0]).prototype.decode.call(this,h,o)}},570,[569,475,381]);
__d(function(g,r,i,a,m,e,d){var n=e;n.der=r(d[0]),n.pem=r(d[1])},571,[572,573]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]).constants.der;function n(t){this.enc='der',this.name=t.name,this.entity=t,this.tree=new o,this.tree._init(t.body)}function o(t){r(d[0]).base.Node.call(this,'der',t)}function i(t){return t<10?'0'+t:t}function f(n,o,i,f){var s;if('seqof'===n?n='seq':'setof'===n&&(n='set'),t.tagByName.hasOwnProperty(n))s=t.tagByName[n];else{if('number'!=typeof n||(0|n)!==n)return f.error('Unknown tag: '+n);s=n}return s>=31?f.error('Multi-octet tag encoding unsupported'):(o||(s|=32),s|=t.tagClassByName[i||'universal']<<6)}m.exports=n,n.prototype.encode=function(t,n){return this.tree._encode(t,n).join()},r(d[1])(o,r(d[0]).base.Node),o.prototype._encodeComposite=function(t,n,o,i){var s,u=f(t,n,o,this.reporter);if(i.length<128)return(s=new(r(d[2]).Buffer)(2))[0]=u,s[1]=i.length,this._createEncoderBuffer([s,i]);for(var c=1,p=i.length;p>=256;p>>=8)c++;(s=new(r(d[2]).Buffer)(2+c))[0]=u,s[1]=128|c;p=1+c;for(var h=i.length;h>0;p--,h>>=8)s[p]=255&h;return this._createEncoderBuffer([s,i])},o.prototype._encodeStr=function(t,n){if('bitstr'===n)return this._createEncoderBuffer([0|t.unused,t.data]);if('bmpstr'===n){for(var o=new(r(d[2]).Buffer)(2*t.length),i=0;i<t.length;i++)o.writeUInt16BE(t.charCodeAt(i),2*i);return this._createEncoderBuffer(o)}return'numstr'===n?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):'printstr'===n?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(n)?this._createEncoderBuffer(t):'objDesc'===n?this._createEncoderBuffer(t):this.reporter.error('Encoding of string type: '+n+' unsupported')},o.prototype._encodeObjid=function(t,n,o){if('string'==typeof t){if(!n)return this.reporter.error('string objid given, but no values map found');if(!n.hasOwnProperty(t))return this.reporter.error('objid not found in values map');t=n[t].split(/[\s\.]+/g);for(var i=0;i<t.length;i++)t[i]|=0}else if(Array.isArray(t)){t=t.slice();for(i=0;i<t.length;i++)t[i]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!o){if(t[1]>=40)return this.reporter.error('Second objid identifier OOB');t.splice(0,2,40*t[0]+t[1])}var f=0;for(i=0;i<t.length;i++){var s=t[i];for(f++;s>=128;s>>=7)f++}var u=new(r(d[2]).Buffer)(f),c=u.length-1;for(i=t.length-1;i>=0;i--){s=t[i];for(u[c--]=127&s;(s>>=7)>0;)u[c--]=128|127&s}return this._createEncoderBuffer(u)},o.prototype._encodeTime=function(t,n){var o,f=new Date(t);return'gentime'===n?o=[i(f.getFullYear()),i(f.getUTCMonth()+1),i(f.getUTCDate()),i(f.getUTCHours()),i(f.getUTCMinutes()),i(f.getUTCSeconds()),'Z'].join(''):'utctime'===n?o=[i(f.getFullYear()%100),i(f.getUTCMonth()+1),i(f.getUTCDate()),i(f.getUTCHours()),i(f.getUTCMinutes()),i(f.getUTCSeconds()),'Z'].join(''):this.reporter.error('Encoding '+n+' time is not supported yet'),this._encodeStr(o,'octstr')},o.prototype._encodeNull=function(){return this._createEncoderBuffer('')},o.prototype._encodeInt=function(t,n){if('string'==typeof t){if(!n)return this.reporter.error('String int or enum given, but no values map');if(!n.hasOwnProperty(t))return this.reporter.error('Values map doesn\'t contain: '+JSON.stringify(t));t=n[t]}if('number'!=typeof t&&!r(d[2]).Buffer.isBuffer(t)){var o=t.toArray();!t.sign&&128&o[0]&&o.unshift(0),t=new(r(d[2]).Buffer)(o)}if(r(d[2]).Buffer.isBuffer(t)){var i=t.length;0===t.length&&i++;var f=new(r(d[2]).Buffer)(i);return t.copy(f),0===t.length&&(f[0]=0),this._createEncoderBuffer(f)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);i=1;for(var s=t;s>=256;s>>=8)i++;for(s=(f=new Array(i)).length-1;s>=0;s--)f[s]=255&t,t>>=8;return 128&f[0]&&f.unshift(0),this._createEncoderBuffer(new(r(d[2]).Buffer)(f))},o.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},o.prototype._use=function(t,n){return'function'==typeof t&&(t=t(n)),t._getEncoder('der').tree},o.prototype._skipDefault=function(t,n,o){var i,f=this._baseState;if(null===f.default)return!1;var s=t.join();if(void 0===f.defaultBuffer&&(f.defaultBuffer=this._encodeValue(f.default,n,o).join()),s.length!==f.defaultBuffer.length)return!1;for(i=0;i<s.length;i++)if(s[i]!==f.defaultBuffer[i])return!1;return!0}},572,[559,475,381]);
__d(function(g,r,_i,a,m,e,d){function t(t){r(d[0]).call(this,t),this.enc='pem'}r(d[1])(t,r(d[0])),m.exports=t,t.prototype.encode=function(t,n){for(var o=r(d[0]).prototype.encode.call(this,t).toString('base64'),l=['-----BEGIN '+n.label+'-----'],c=0;c<o.length;c+=64)l.push(o.slice(c,c+64));return l.push('-----END '+n.label+'-----'),l.join('\n')}},573,[572,475]);
__d(function(g,_r,i,a,m,e,d){'use strict';function u(u){var o,n=u.modulus.byteLength();do{o=new(_r(d[0]))(_r(d[1])(n))}while(o.cmp(u.modulus)>=0||!o.umod(u.prime1)||!o.umod(u.prime2));return o}function o(o){var n=u(o);return{blinder:n.toRed(_r(d[0]).mont(o.modulus)).redPow(new(_r(d[0]))(o.publicExponent)).fromRed(),unblinder:n.invm(o.modulus)}}function n(u,n){var r=o(n),t=n.modulus.byteLength(),l=new(_r(d[0]))(u).mul(r.blinder).umod(n.modulus),p=l.toRed(_r(d[0]).mont(n.prime1)),f=l.toRed(_r(d[0]).mont(n.prime2)),s=n.coefficient,b=n.prime1,c=n.prime2,w=p.redPow(n.exponent1).fromRed(),R=f.redPow(n.exponent2).fromRed(),v=w.isub(R).imul(s).umod(b).imul(c);return R.iadd(v).imul(r.unblinder).umod(n.modulus).toArrayLike(_r(d[2]).Buffer,'be',t)}n.getr=u,m.exports=n},574,[575,545,488]);
__d(function(_g,_r,_i,_a,_m,_e,d){!(function(t,i){'use strict';function r(t,i){if(!t)throw new Error(i||'Assertion failed')}function n(t,i){t.super_=i;var r=function(){};r.prototype=i.prototype,t.prototype=new r,t.prototype.constructor=t}function h(t,i,r){if(h.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&('le'!==i&&'be'!==i||(r=i,i=10),this._init(t||0,i||10,r||'be'))}var e;'object'==typeof t?t.exports=h:i.BN=h,h.BN=h,h.wordSize=26;try{e='undefined'!=typeof window&&void 0!==window.Buffer?window.Buffer:_r(d[0]).Buffer}catch(t){}function o(t,i){var n=t.charCodeAt(i);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,'Invalid character in '+t)}function s(t,i,r){var n=o(t,r);return r-1>=i&&(n|=o(t,r-1)<<4),n}function u(t,i,n,h){for(var e=0,o=0,s=Math.min(t.length,n),u=i;u<s;u++){var a=t.charCodeAt(u)-48;e*=h,o=a>=49?a-49+10:a>=17?a-17+10:a,r(a>=0&&o<h,'Invalid character'),e+=o}return e}function a(t,i){t.words=i.words,t.length=i.length,t.negative=i.negative,t.red=i.red}if(h.isBN=function(t){return t instanceof h||null!==t&&'object'==typeof t&&t.constructor.wordSize===h.wordSize&&Array.isArray(t.words)},h.max=function(t,i){return t.cmp(i)>0?t:i},h.min=function(t,i){return t.cmp(i)<0?t:i},h.prototype._init=function(t,i,n){if('number'==typeof t)return this._initNumber(t,i,n);if('object'==typeof t)return this._initArray(t,i,n);'hex'===i&&(i=16),r(i===(0|i)&&i>=2&&i<=36);var h=0;'-'===(t=t.toString().replace(/\s+/g,''))[0]&&(h++,this.negative=1),h<t.length&&(16===i?this._parseHex(t,h,n):(this._parseBase(t,i,h),'le'===n&&this._initArray(this.toArray(),i,n)))},h.prototype._initNumber=function(t,i,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),'le'===n&&this._initArray(this.toArray(),i,n)},h.prototype._initArray=function(t,i,n){if(r('number'==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var e,o,s=0;if('be'===n)for(h=t.length-1,e=0;h>=0;h-=3)o=t[h]|t[h-1]<<8|t[h-2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);else if('le'===n)for(h=0,e=0;h<t.length;h+=3)o=t[h]|t[h+1]<<8|t[h+2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);return this._strip()},h.prototype._parseHex=function(t,i,r){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var h,e=0,o=0;if('be'===r)for(n=t.length-1;n>=i;n-=2)h=s(t,i,n)<<e,this.words[o]|=67108863&h,e>=18?(e-=18,o+=1,this.words[o]|=h>>>26):e+=8;else for(n=(t.length-i)%2==0?i+1:i;n<t.length;n+=2)h=s(t,i,n)<<e,this.words[o]|=67108863&h,e>=18?(e-=18,o+=1,this.words[o]|=h>>>26):e+=8;this._strip()},h.prototype._parseBase=function(t,i,r){this.words=[0],this.length=1;for(var n=0,h=1;h<=67108863;h*=i)n++;n--,h=h/i|0;for(var e=t.length-r,o=e%n,s=Math.min(e,e-o)+r,a=0,l=r;l<s;l+=n)a=u(t,l,l+n,i),this.imuln(h),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==o){var m=1;for(a=u(t,l,t.length,i),l=0;l<o;l++)m*=i;this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},h.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},h.prototype._move=function(t){a(t,this)},h.prototype.clone=function(){var t=new h(null);return this.copy(t),t},h.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},h.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},h.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},'undefined'!=typeof Symbol&&'function'==typeof Symbol.for)try{h.prototype[Symbol.for('nodejs.util.inspect.custom')]=l}catch(t){h.prototype.inspect=l}else h.prototype.inspect=l;function l(){return(this.red?'<BN-R: ':'<BN: ')+this.toString(16)+'>'}var m=['','0','00','000','0000','00000','000000','0000000','00000000','000000000','0000000000','00000000000','000000000000','0000000000000','00000000000000','000000000000000','0000000000000000','00000000000000000','000000000000000000','0000000000000000000','00000000000000000000','000000000000000000000','0000000000000000000000','00000000000000000000000','000000000000000000000000','0000000000000000000000000'],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];h.prototype.toString=function(t,i){var n;if(i=0|i||1,16===(t=t||10)||'hex'===t){n='';for(var h=0,e=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<h|e)).toString(16);e=s>>>24-h&16777215,(h+=2)>=26&&(h-=26,o--),n=0!==e||o!==this.length-1?m[6-u.length]+u+n:u+n}for(0!==e&&(n=e.toString(16)+n);n.length%i!=0;)n='0'+n;return 0!==this.negative&&(n='-'+n),n}if(t===(0|t)&&t>=2&&t<=36){var a=f[t],l=p[t];n='';var M=this.clone();for(M.negative=0;!M.isZero();){var v=M.modrn(l).toString(t);n=(M=M.idivn(l)).isZero()?v+n:m[a-v.length]+v+n}for(this.isZero()&&(n='0'+n);n.length%i!=0;)n='0'+n;return 0!==this.negative&&(n='-'+n),n}r(!1,'Base should be between 2 and 36')},h.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,'Number can only safely store up to 53 bits'),0!==this.negative?-t:t},h.prototype.toJSON=function(){return this.toString(16,2)},e&&(h.prototype.toBuffer=function(t,i){return this.toArrayLike(e,t,i)}),h.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)};var M=function(t,i){return t.allocUnsafe?t.allocUnsafe(i):new t(i)};function v(t){for(var i=new Array(t.bitLength()),r=0;r<i.length;r++){var n=r/26|0,h=r%26;i[r]=t.words[n]>>>h&1}return i}function g(t,i,r){r.negative=i.negative^t.negative;var n=t.length+i.length|0;r.length=n,n=n-1|0;var h=0|t.words[0],e=0|i.words[0],o=h*e,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var a=1;a<n;a++){for(var l=u>>>26,m=67108863&u,f=Math.min(a,i.length-1),p=Math.max(0,a-t.length+1);p<=f;p++){var M=a-p|0;l+=(o=(h=0|t.words[M])*(e=0|i.words[p])+m)/67108864|0,m=67108863&o}r.words[a]=0|m,u=0|l}return 0!==u?r.words[a]=0|u:r.length--,r._strip()}h.prototype.toArrayLike=function(t,i,n){this._strip();var h=this.byteLength(),e=n||Math.max(1,h);r(h<=e,'byte array longer than desired length'),r(e>0,'Requested array length <= 0');var o=M(t,e);return this['_toArrayLike'+('le'===i?'LE':'BE')](o,h),o},h.prototype._toArrayLikeLE=function(t,i){for(var r=0,n=0,h=0,e=0;h<this.length;h++){var o=this.words[h]<<e|n;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===e?(r<t.length&&(t[r++]=o>>24&255),n=0,e=0):(n=o>>>24,e+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},h.prototype._toArrayLikeBE=function(t,i){for(var r=t.length-1,n=0,h=0,e=0;h<this.length;h++){var o=this.words[h]<<e|n;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===e?(r>=0&&(t[r--]=o>>24&255),n=0,e=0):(n=o>>>24,e+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?h.prototype._countBits=function(t){return 32-Math.clz32(t)}:h.prototype._countBits=function(t){var i=t,r=0;return i>=4096&&(r+=13,i>>>=13),i>=64&&(r+=7,i>>>=7),i>=8&&(r+=4,i>>>=4),i>=2&&(r+=2,i>>>=2),r+i},h.prototype._zeroBits=function(t){if(0===t)return 26;var i=t,r=0;return 0==(8191&i)&&(r+=13,i>>>=13),0==(127&i)&&(r+=7,i>>>=7),0==(15&i)&&(r+=4,i>>>=4),0==(3&i)&&(r+=2,i>>>=2),0==(1&i)&&r++,r},h.prototype.bitLength=function(){var t=this.words[this.length-1],i=this._countBits(t);return 26*(this.length-1)+i},h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var r=this._zeroBits(this.words[i]);if(t+=r,26!==r)break}return t},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},h.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return 0!==this.negative},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this._strip()},h.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},h.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},h.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},h.prototype.iuand=function(t){var i;i=this.length>t.length?t:this;for(var r=0;r<i.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=i.length,this._strip()},h.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},h.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},h.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},h.prototype.iuxor=function(t){var i,r;this.length>t.length?(i=this,r=t):(i=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=i.words[n]^r.words[n];if(this!==i)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=i.length,this._strip()},h.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},h.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},h.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},h.prototype.inotn=function(t){r('number'==typeof t&&t>=0);var i=0|Math.ceil(t/26),n=t%26;this._expand(i),n>0&&i--;for(var h=0;h<i;h++)this.words[h]=67108863&~this.words[h];return n>0&&(this.words[h]=~this.words[h]&67108863>>26-n),this._strip()},h.prototype.notn=function(t){return this.clone().inotn(t)},h.prototype.setn=function(t,i){r('number'==typeof t&&t>=0);var n=t/26|0,h=t%26;return this._expand(n+1),this.words[n]=i?this.words[n]|1<<h:this.words[n]&~(1<<h),this._strip()},h.prototype.iadd=function(t){var i,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var h=0,e=0;e<n.length;e++)i=(0|r.words[e])+(0|n.words[e])+h,this.words[e]=67108863&i,h=i>>>26;for(;0!==h&&e<r.length;e++)i=(0|r.words[e])+h,this.words[e]=67108863&i,h=i>>>26;if(this.length=r.length,0!==h)this.words[this.length]=h,this.length++;else if(r!==this)for(;e<r.length;e++)this.words[e]=r.words[e];return this},h.prototype.add=function(t){var i;return 0!==t.negative&&0===this.negative?(t.negative=0,i=this.sub(t),t.negative^=1,i):0===t.negative&&0!==this.negative?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},h.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,h=this.cmp(t);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(r=this,n=t):(r=t,n=this);for(var e=0,o=0;o<n.length;o++)e=(i=(0|r.words[o])-(0|n.words[o])+e)>>26,this.words[o]=67108863&i;for(;0!==e&&o<r.length;o++)e=(i=(0|r.words[o])+e)>>26,this.words[o]=67108863&i;if(0===e&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},h.prototype.sub=function(t){return this.clone().isub(t)};var c=function(t,i,r){var n,h,e,o=t.words,s=i.words,u=r.words,a=0,l=0|o[0],m=8191&l,f=l>>>13,p=0|o[1],M=8191&p,v=p>>>13,g=0|o[2],c=8191&g,w=g>>>13,y=0|o[3],b=8191&y,_=y>>>13,k=0|o[4],A=8191&k,S=k>>>13,x=0|o[5],B=8191&x,R=x>>>13,q=0|o[6],Z=8191&q,L=q>>>13,N=0|o[7],I=8191&N,E=N>>>13,z=0|o[8],T=8191&z,O=z>>>13,j=0|o[9],K=8191&j,P=j>>>13,F=0|s[0],U=8191&F,C=F>>>13,D=0|s[1],H=8191&D,J=D>>>13,G=0|s[2],Q=8191&G,V=G>>>13,W=0|s[3],X=8191&W,Y=W>>>13,$=0|s[4],tt=8191&$,it=$>>>13,rt=0|s[5],nt=8191&rt,ht=rt>>>13,et=0|s[6],ot=8191&et,st=et>>>13,ut=0|s[7],at=8191&ut,lt=ut>>>13,mt=0|s[8],ft=8191&mt,dt=mt>>>13,pt=0|s[9],Mt=8191&pt,vt=pt>>>13;r.negative=t.negative^i.negative,r.length=19;var gt=(a+(n=Math.imul(m,U))|0)+((8191&(h=(h=Math.imul(m,C))+Math.imul(f,U)|0))<<13)|0;a=((e=Math.imul(f,C))+(h>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(M,U),h=(h=Math.imul(M,C))+Math.imul(v,U)|0,e=Math.imul(v,C);var ct=(a+(n=n+Math.imul(m,H)|0)|0)+((8191&(h=(h=h+Math.imul(m,J)|0)+Math.imul(f,H)|0))<<13)|0;a=((e=e+Math.imul(f,J)|0)+(h>>>13)|0)+(ct>>>26)|0,ct&=67108863,n=Math.imul(c,U),h=(h=Math.imul(c,C))+Math.imul(w,U)|0,e=Math.imul(w,C),n=n+Math.imul(M,H)|0,h=(h=h+Math.imul(M,J)|0)+Math.imul(v,H)|0,e=e+Math.imul(v,J)|0;var wt=(a+(n=n+Math.imul(m,Q)|0)|0)+((8191&(h=(h=h+Math.imul(m,V)|0)+Math.imul(f,Q)|0))<<13)|0;a=((e=e+Math.imul(f,V)|0)+(h>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(b,U),h=(h=Math.imul(b,C))+Math.imul(_,U)|0,e=Math.imul(_,C),n=n+Math.imul(c,H)|0,h=(h=h+Math.imul(c,J)|0)+Math.imul(w,H)|0,e=e+Math.imul(w,J)|0,n=n+Math.imul(M,Q)|0,h=(h=h+Math.imul(M,V)|0)+Math.imul(v,Q)|0,e=e+Math.imul(v,V)|0;var yt=(a+(n=n+Math.imul(m,X)|0)|0)+((8191&(h=(h=h+Math.imul(m,Y)|0)+Math.imul(f,X)|0))<<13)|0;a=((e=e+Math.imul(f,Y)|0)+(h>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(A,U),h=(h=Math.imul(A,C))+Math.imul(S,U)|0,e=Math.imul(S,C),n=n+Math.imul(b,H)|0,h=(h=h+Math.imul(b,J)|0)+Math.imul(_,H)|0,e=e+Math.imul(_,J)|0,n=n+Math.imul(c,Q)|0,h=(h=h+Math.imul(c,V)|0)+Math.imul(w,Q)|0,e=e+Math.imul(w,V)|0,n=n+Math.imul(M,X)|0,h=(h=h+Math.imul(M,Y)|0)+Math.imul(v,X)|0,e=e+Math.imul(v,Y)|0;var bt=(a+(n=n+Math.imul(m,tt)|0)|0)+((8191&(h=(h=h+Math.imul(m,it)|0)+Math.imul(f,tt)|0))<<13)|0;a=((e=e+Math.imul(f,it)|0)+(h>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(B,U),h=(h=Math.imul(B,C))+Math.imul(R,U)|0,e=Math.imul(R,C),n=n+Math.imul(A,H)|0,h=(h=h+Math.imul(A,J)|0)+Math.imul(S,H)|0,e=e+Math.imul(S,J)|0,n=n+Math.imul(b,Q)|0,h=(h=h+Math.imul(b,V)|0)+Math.imul(_,Q)|0,e=e+Math.imul(_,V)|0,n=n+Math.imul(c,X)|0,h=(h=h+Math.imul(c,Y)|0)+Math.imul(w,X)|0,e=e+Math.imul(w,Y)|0,n=n+Math.imul(M,tt)|0,h=(h=h+Math.imul(M,it)|0)+Math.imul(v,tt)|0,e=e+Math.imul(v,it)|0;var _t=(a+(n=n+Math.imul(m,nt)|0)|0)+((8191&(h=(h=h+Math.imul(m,ht)|0)+Math.imul(f,nt)|0))<<13)|0;a=((e=e+Math.imul(f,ht)|0)+(h>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(Z,U),h=(h=Math.imul(Z,C))+Math.imul(L,U)|0,e=Math.imul(L,C),n=n+Math.imul(B,H)|0,h=(h=h+Math.imul(B,J)|0)+Math.imul(R,H)|0,e=e+Math.imul(R,J)|0,n=n+Math.imul(A,Q)|0,h=(h=h+Math.imul(A,V)|0)+Math.imul(S,Q)|0,e=e+Math.imul(S,V)|0,n=n+Math.imul(b,X)|0,h=(h=h+Math.imul(b,Y)|0)+Math.imul(_,X)|0,e=e+Math.imul(_,Y)|0,n=n+Math.imul(c,tt)|0,h=(h=h+Math.imul(c,it)|0)+Math.imul(w,tt)|0,e=e+Math.imul(w,it)|0,n=n+Math.imul(M,nt)|0,h=(h=h+Math.imul(M,ht)|0)+Math.imul(v,nt)|0,e=e+Math.imul(v,ht)|0;var kt=(a+(n=n+Math.imul(m,ot)|0)|0)+((8191&(h=(h=h+Math.imul(m,st)|0)+Math.imul(f,ot)|0))<<13)|0;a=((e=e+Math.imul(f,st)|0)+(h>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(I,U),h=(h=Math.imul(I,C))+Math.imul(E,U)|0,e=Math.imul(E,C),n=n+Math.imul(Z,H)|0,h=(h=h+Math.imul(Z,J)|0)+Math.imul(L,H)|0,e=e+Math.imul(L,J)|0,n=n+Math.imul(B,Q)|0,h=(h=h+Math.imul(B,V)|0)+Math.imul(R,Q)|0,e=e+Math.imul(R,V)|0,n=n+Math.imul(A,X)|0,h=(h=h+Math.imul(A,Y)|0)+Math.imul(S,X)|0,e=e+Math.imul(S,Y)|0,n=n+Math.imul(b,tt)|0,h=(h=h+Math.imul(b,it)|0)+Math.imul(_,tt)|0,e=e+Math.imul(_,it)|0,n=n+Math.imul(c,nt)|0,h=(h=h+Math.imul(c,ht)|0)+Math.imul(w,nt)|0,e=e+Math.imul(w,ht)|0,n=n+Math.imul(M,ot)|0,h=(h=h+Math.imul(M,st)|0)+Math.imul(v,ot)|0,e=e+Math.imul(v,st)|0;var At=(a+(n=n+Math.imul(m,at)|0)|0)+((8191&(h=(h=h+Math.imul(m,lt)|0)+Math.imul(f,at)|0))<<13)|0;a=((e=e+Math.imul(f,lt)|0)+(h>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(T,U),h=(h=Math.imul(T,C))+Math.imul(O,U)|0,e=Math.imul(O,C),n=n+Math.imul(I,H)|0,h=(h=h+Math.imul(I,J)|0)+Math.imul(E,H)|0,e=e+Math.imul(E,J)|0,n=n+Math.imul(Z,Q)|0,h=(h=h+Math.imul(Z,V)|0)+Math.imul(L,Q)|0,e=e+Math.imul(L,V)|0,n=n+Math.imul(B,X)|0,h=(h=h+Math.imul(B,Y)|0)+Math.imul(R,X)|0,e=e+Math.imul(R,Y)|0,n=n+Math.imul(A,tt)|0,h=(h=h+Math.imul(A,it)|0)+Math.imul(S,tt)|0,e=e+Math.imul(S,it)|0,n=n+Math.imul(b,nt)|0,h=(h=h+Math.imul(b,ht)|0)+Math.imul(_,nt)|0,e=e+Math.imul(_,ht)|0,n=n+Math.imul(c,ot)|0,h=(h=h+Math.imul(c,st)|0)+Math.imul(w,ot)|0,e=e+Math.imul(w,st)|0,n=n+Math.imul(M,at)|0,h=(h=h+Math.imul(M,lt)|0)+Math.imul(v,at)|0,e=e+Math.imul(v,lt)|0;var St=(a+(n=n+Math.imul(m,ft)|0)|0)+((8191&(h=(h=h+Math.imul(m,dt)|0)+Math.imul(f,ft)|0))<<13)|0;a=((e=e+Math.imul(f,dt)|0)+(h>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(K,U),h=(h=Math.imul(K,C))+Math.imul(P,U)|0,e=Math.imul(P,C),n=n+Math.imul(T,H)|0,h=(h=h+Math.imul(T,J)|0)+Math.imul(O,H)|0,e=e+Math.imul(O,J)|0,n=n+Math.imul(I,Q)|0,h=(h=h+Math.imul(I,V)|0)+Math.imul(E,Q)|0,e=e+Math.imul(E,V)|0,n=n+Math.imul(Z,X)|0,h=(h=h+Math.imul(Z,Y)|0)+Math.imul(L,X)|0,e=e+Math.imul(L,Y)|0,n=n+Math.imul(B,tt)|0,h=(h=h+Math.imul(B,it)|0)+Math.imul(R,tt)|0,e=e+Math.imul(R,it)|0,n=n+Math.imul(A,nt)|0,h=(h=h+Math.imul(A,ht)|0)+Math.imul(S,nt)|0,e=e+Math.imul(S,ht)|0,n=n+Math.imul(b,ot)|0,h=(h=h+Math.imul(b,st)|0)+Math.imul(_,ot)|0,e=e+Math.imul(_,st)|0,n=n+Math.imul(c,at)|0,h=(h=h+Math.imul(c,lt)|0)+Math.imul(w,at)|0,e=e+Math.imul(w,lt)|0,n=n+Math.imul(M,ft)|0,h=(h=h+Math.imul(M,dt)|0)+Math.imul(v,ft)|0,e=e+Math.imul(v,dt)|0;var xt=(a+(n=n+Math.imul(m,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(m,vt)|0)+Math.imul(f,Mt)|0))<<13)|0;a=((e=e+Math.imul(f,vt)|0)+(h>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(K,H),h=(h=Math.imul(K,J))+Math.imul(P,H)|0,e=Math.imul(P,J),n=n+Math.imul(T,Q)|0,h=(h=h+Math.imul(T,V)|0)+Math.imul(O,Q)|0,e=e+Math.imul(O,V)|0,n=n+Math.imul(I,X)|0,h=(h=h+Math.imul(I,Y)|0)+Math.imul(E,X)|0,e=e+Math.imul(E,Y)|0,n=n+Math.imul(Z,tt)|0,h=(h=h+Math.imul(Z,it)|0)+Math.imul(L,tt)|0,e=e+Math.imul(L,it)|0,n=n+Math.imul(B,nt)|0,h=(h=h+Math.imul(B,ht)|0)+Math.imul(R,nt)|0,e=e+Math.imul(R,ht)|0,n=n+Math.imul(A,ot)|0,h=(h=h+Math.imul(A,st)|0)+Math.imul(S,ot)|0,e=e+Math.imul(S,st)|0,n=n+Math.imul(b,at)|0,h=(h=h+Math.imul(b,lt)|0)+Math.imul(_,at)|0,e=e+Math.imul(_,lt)|0,n=n+Math.imul(c,ft)|0,h=(h=h+Math.imul(c,dt)|0)+Math.imul(w,ft)|0,e=e+Math.imul(w,dt)|0;var Bt=(a+(n=n+Math.imul(M,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(M,vt)|0)+Math.imul(v,Mt)|0))<<13)|0;a=((e=e+Math.imul(v,vt)|0)+(h>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(K,Q),h=(h=Math.imul(K,V))+Math.imul(P,Q)|0,e=Math.imul(P,V),n=n+Math.imul(T,X)|0,h=(h=h+Math.imul(T,Y)|0)+Math.imul(O,X)|0,e=e+Math.imul(O,Y)|0,n=n+Math.imul(I,tt)|0,h=(h=h+Math.imul(I,it)|0)+Math.imul(E,tt)|0,e=e+Math.imul(E,it)|0,n=n+Math.imul(Z,nt)|0,h=(h=h+Math.imul(Z,ht)|0)+Math.imul(L,nt)|0,e=e+Math.imul(L,ht)|0,n=n+Math.imul(B,ot)|0,h=(h=h+Math.imul(B,st)|0)+Math.imul(R,ot)|0,e=e+Math.imul(R,st)|0,n=n+Math.imul(A,at)|0,h=(h=h+Math.imul(A,lt)|0)+Math.imul(S,at)|0,e=e+Math.imul(S,lt)|0,n=n+Math.imul(b,ft)|0,h=(h=h+Math.imul(b,dt)|0)+Math.imul(_,ft)|0,e=e+Math.imul(_,dt)|0;var Rt=(a+(n=n+Math.imul(c,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(c,vt)|0)+Math.imul(w,Mt)|0))<<13)|0;a=((e=e+Math.imul(w,vt)|0)+(h>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(K,X),h=(h=Math.imul(K,Y))+Math.imul(P,X)|0,e=Math.imul(P,Y),n=n+Math.imul(T,tt)|0,h=(h=h+Math.imul(T,it)|0)+Math.imul(O,tt)|0,e=e+Math.imul(O,it)|0,n=n+Math.imul(I,nt)|0,h=(h=h+Math.imul(I,ht)|0)+Math.imul(E,nt)|0,e=e+Math.imul(E,ht)|0,n=n+Math.imul(Z,ot)|0,h=(h=h+Math.imul(Z,st)|0)+Math.imul(L,ot)|0,e=e+Math.imul(L,st)|0,n=n+Math.imul(B,at)|0,h=(h=h+Math.imul(B,lt)|0)+Math.imul(R,at)|0,e=e+Math.imul(R,lt)|0,n=n+Math.imul(A,ft)|0,h=(h=h+Math.imul(A,dt)|0)+Math.imul(S,ft)|0,e=e+Math.imul(S,dt)|0;var qt=(a+(n=n+Math.imul(b,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(b,vt)|0)+Math.imul(_,Mt)|0))<<13)|0;a=((e=e+Math.imul(_,vt)|0)+(h>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(K,tt),h=(h=Math.imul(K,it))+Math.imul(P,tt)|0,e=Math.imul(P,it),n=n+Math.imul(T,nt)|0,h=(h=h+Math.imul(T,ht)|0)+Math.imul(O,nt)|0,e=e+Math.imul(O,ht)|0,n=n+Math.imul(I,ot)|0,h=(h=h+Math.imul(I,st)|0)+Math.imul(E,ot)|0,e=e+Math.imul(E,st)|0,n=n+Math.imul(Z,at)|0,h=(h=h+Math.imul(Z,lt)|0)+Math.imul(L,at)|0,e=e+Math.imul(L,lt)|0,n=n+Math.imul(B,ft)|0,h=(h=h+Math.imul(B,dt)|0)+Math.imul(R,ft)|0,e=e+Math.imul(R,dt)|0;var Zt=(a+(n=n+Math.imul(A,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(A,vt)|0)+Math.imul(S,Mt)|0))<<13)|0;a=((e=e+Math.imul(S,vt)|0)+(h>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,n=Math.imul(K,nt),h=(h=Math.imul(K,ht))+Math.imul(P,nt)|0,e=Math.imul(P,ht),n=n+Math.imul(T,ot)|0,h=(h=h+Math.imul(T,st)|0)+Math.imul(O,ot)|0,e=e+Math.imul(O,st)|0,n=n+Math.imul(I,at)|0,h=(h=h+Math.imul(I,lt)|0)+Math.imul(E,at)|0,e=e+Math.imul(E,lt)|0,n=n+Math.imul(Z,ft)|0,h=(h=h+Math.imul(Z,dt)|0)+Math.imul(L,ft)|0,e=e+Math.imul(L,dt)|0;var Lt=(a+(n=n+Math.imul(B,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(B,vt)|0)+Math.imul(R,Mt)|0))<<13)|0;a=((e=e+Math.imul(R,vt)|0)+(h>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(K,ot),h=(h=Math.imul(K,st))+Math.imul(P,ot)|0,e=Math.imul(P,st),n=n+Math.imul(T,at)|0,h=(h=h+Math.imul(T,lt)|0)+Math.imul(O,at)|0,e=e+Math.imul(O,lt)|0,n=n+Math.imul(I,ft)|0,h=(h=h+Math.imul(I,dt)|0)+Math.imul(E,ft)|0,e=e+Math.imul(E,dt)|0;var Nt=(a+(n=n+Math.imul(Z,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(Z,vt)|0)+Math.imul(L,Mt)|0))<<13)|0;a=((e=e+Math.imul(L,vt)|0)+(h>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(K,at),h=(h=Math.imul(K,lt))+Math.imul(P,at)|0,e=Math.imul(P,lt),n=n+Math.imul(T,ft)|0,h=(h=h+Math.imul(T,dt)|0)+Math.imul(O,ft)|0,e=e+Math.imul(O,dt)|0;var It=(a+(n=n+Math.imul(I,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(I,vt)|0)+Math.imul(E,Mt)|0))<<13)|0;a=((e=e+Math.imul(E,vt)|0)+(h>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(K,ft),h=(h=Math.imul(K,dt))+Math.imul(P,ft)|0,e=Math.imul(P,dt);var Et=(a+(n=n+Math.imul(T,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(T,vt)|0)+Math.imul(O,Mt)|0))<<13)|0;a=((e=e+Math.imul(O,vt)|0)+(h>>>13)|0)+(Et>>>26)|0,Et&=67108863;var zt=(a+(n=Math.imul(K,Mt))|0)+((8191&(h=(h=Math.imul(K,vt))+Math.imul(P,Mt)|0))<<13)|0;return a=((e=Math.imul(P,vt))+(h>>>13)|0)+(zt>>>26)|0,zt&=67108863,u[0]=gt,u[1]=ct,u[2]=wt,u[3]=yt,u[4]=bt,u[5]=_t,u[6]=kt,u[7]=At,u[8]=St,u[9]=xt,u[10]=Bt,u[11]=Rt,u[12]=qt,u[13]=Zt,u[14]=Lt,u[15]=Nt,u[16]=It,u[17]=Et,u[18]=zt,0!==a&&(u[19]=a,r.length++),r};function w(t,i,r){r.negative=i.negative^t.negative,r.length=t.length+i.length;for(var n=0,h=0,e=0;e<r.length-1;e++){var o=h;h=0;for(var s=67108863&n,u=Math.min(e,i.length-1),a=Math.max(0,e-t.length+1);a<=u;a++){var l=e-a,m=(0|t.words[l])*(0|i.words[a]),f=67108863&m;s=67108863&(f=f+s|0),h+=(o=(o=o+(m/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[e]=s,n=o,o=h}return 0!==n?r.words[e]=n:r.length--,r._strip()}function y(t,i,r){return w(t,i,r)}function b(t,i){this.x=t,this.y=i}Math.imul||(c=g),h.prototype.mulTo=function(t,i){var r=this.length+t.length;return 10===this.length&&10===t.length?c(this,t,i):r<63?g(this,t,i):r<1024?w(this,t,i):y(this,t,i)},b.prototype.makeRBT=function(t){for(var i=new Array(t),r=h.prototype._countBits(t)-1,n=0;n<t;n++)i[n]=this.revBin(n,r,t);return i},b.prototype.revBin=function(t,i,r){if(0===t||t===r-1)return t;for(var n=0,h=0;h<i;h++)n|=(1&t)<<i-h-1,t>>=1;return n},b.prototype.permute=function(t,i,r,n,h,e){for(var o=0;o<e;o++)n[o]=i[t[o]],h[o]=r[t[o]]},b.prototype.transform=function(t,i,r,n,h,e){this.permute(e,t,i,r,n,h);for(var o=1;o<h;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),a=Math.sin(2*Math.PI/s),l=0;l<h;l+=s)for(var m=u,f=a,p=0;p<o;p++){var M=r[l+p],v=n[l+p],g=r[l+p+o],c=n[l+p+o],w=m*g-f*c;c=m*c+f*g,g=w,r[l+p]=M+g,n[l+p]=v+c,r[l+p+o]=M-g,n[l+p+o]=v-c,p!==s&&(w=u*m-a*f,f=u*f+a*m,m=w)}},b.prototype.guessLen13b=function(t,i){var r=1|Math.max(i,t),n=1&r,h=0;for(r=r/2|0;r;r>>>=1)h++;return 1<<h+1+n},b.prototype.conjugate=function(t,i,r){if(!(r<=1))for(var n=0;n<r/2;n++){var h=t[n];t[n]=t[r-n-1],t[r-n-1]=h,h=i[n],i[n]=-i[r-n-1],i[r-n-1]=-h}},b.prototype.normalize13b=function(t,i){for(var r=0,n=0;n<i/2;n++){var h=8192*Math.round(t[2*n+1]/i)+Math.round(t[2*n]/i)+r;t[n]=67108863&h,r=h<67108864?0:h/67108864|0}return t},b.prototype.convert13b=function(t,i,n,h){for(var e=0,o=0;o<i;o++)e+=0|t[o],n[2*o]=8191&e,e>>>=13,n[2*o+1]=8191&e,e>>>=13;for(o=2*i;o<h;++o)n[o]=0;r(0===e),r(0==(-8192&e))},b.prototype.stub=function(t){for(var i=new Array(t),r=0;r<t;r++)i[r]=0;return i},b.prototype.mulp=function(t,i,r){var n=2*this.guessLen13b(t.length,i.length),h=this.makeRBT(n),e=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),a=new Array(n),l=new Array(n),m=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(i.words,i.length,a,n),this.transform(o,e,s,u,n,h),this.transform(a,e,l,m,n,h);for(var p=0;p<n;p++){var M=s[p]*l[p]-u[p]*m[p];u[p]=s[p]*m[p]+u[p]*l[p],s[p]=M}return this.conjugate(s,u,n),this.transform(s,u,f,e,n,h),this.conjugate(f,e,n),this.normalize13b(f,n),r.negative=t.negative^i.negative,r.length=t.length+i.length,r._strip()},h.prototype.mul=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},h.prototype.mulf=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),y(this,t,i)},h.prototype.imul=function(t){return this.clone().mulTo(t,this)},h.prototype.imuln=function(t){var i=t<0;i&&(t=-t),r('number'==typeof t),r(t<67108864);for(var n=0,h=0;h<this.length;h++){var e=(0|this.words[h])*t,o=(67108863&e)+(67108863&n);n>>=26,n+=e/67108864|0,n+=o>>>26,this.words[h]=67108863&o}return 0!==n&&(this.words[h]=n,this.length++),i?this.ineg():this},h.prototype.muln=function(t){return this.clone().imuln(t)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(t){var i=v(t);if(0===i.length)return new h(1);for(var r=this,n=0;n<i.length&&0===i[n];n++,r=r.sqr());if(++n<i.length)for(var e=r.sqr();n<i.length;n++,e=e.sqr())0!==i[n]&&(r=r.mul(e));return r},h.prototype.iushln=function(t){r('number'==typeof t&&t>=0);var i,n=t%26,h=(t-n)/26,e=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(i=0;i<this.length;i++){var s=this.words[i]&e,u=(0|this.words[i])-s<<n;this.words[i]=u|o,o=s>>>26-n}o&&(this.words[i]=o,this.length++)}if(0!==h){for(i=this.length-1;i>=0;i--)this.words[i+h]=this.words[i];for(i=0;i<h;i++)this.words[i]=0;this.length+=h}return this._strip()},h.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},h.prototype.iushrn=function(t,i,n){var h;r('number'==typeof t&&t>=0),h=i?(i-i%26)/26:0;var e=t%26,o=Math.min((t-e)/26,this.length),s=67108863^67108863>>>e<<e,u=n;if(h-=o,h=Math.max(0,h),u){for(var a=0;a<o;a++)u.words[a]=this.words[a];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,a=0;a<this.length;a++)this.words[a]=this.words[a+o];else this.words[0]=0,this.length=1;var l=0;for(a=this.length-1;a>=0&&(0!==l||a>=h);a--){var m=0|this.words[a];this.words[a]=l<<26-e|m>>>e,l=m&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},h.prototype.ishrn=function(t,i,n){return r(0===this.negative),this.iushrn(t,i,n)},h.prototype.shln=function(t){return this.clone().ishln(t)},h.prototype.ushln=function(t){return this.clone().iushln(t)},h.prototype.shrn=function(t){return this.clone().ishrn(t)},h.prototype.ushrn=function(t){return this.clone().iushrn(t)},h.prototype.testn=function(t){r('number'==typeof t&&t>=0);var i=t%26,n=(t-i)/26,h=1<<i;return!(this.length<=n)&&!!(this.words[n]&h)},h.prototype.imaskn=function(t){r('number'==typeof t&&t>=0);var i=t%26,n=(t-i)/26;if(r(0===this.negative,'imaskn works only with positive numbers'),this.length<=n)return this;if(0!==i&&n++,this.length=Math.min(n,this.length),0!==i){var h=67108863^67108863>>>i<<i;this.words[this.length-1]&=h}return this._strip()},h.prototype.maskn=function(t){return this.clone().imaskn(t)},h.prototype.iaddn=function(t){return r('number'==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},h.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},h.prototype.isubn=function(t){if(r('number'==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this._strip()},h.prototype.addn=function(t){return this.clone().iaddn(t)},h.prototype.subn=function(t){return this.clone().isubn(t)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(t,i,n){var h,e,o=t.length+n;this._expand(o);var s=0;for(h=0;h<t.length;h++){e=(0|this.words[h+n])+s;var u=(0|t.words[h])*i;s=((e-=67108863&u)>>26)-(u/67108864|0),this.words[h+n]=67108863&e}for(;h<this.length-n;h++)s=(e=(0|this.words[h+n])+s)>>26,this.words[h+n]=67108863&e;if(0===s)return this._strip();for(r(-1===s),s=0,h=0;h<this.length;h++)s=(e=-(0|this.words[h])+s)>>26,this.words[h]=67108863&e;return this.negative=1,this._strip()},h.prototype._wordDiv=function(t,i){var r=(this.length,t.length),n=this.clone(),e=t,o=0|e.words[e.length-1];0!==(r=26-this._countBits(o))&&(e=e.ushln(r),n.iushln(r),o=0|e.words[e.length-1]);var s,u=n.length-e.length;if('mod'!==i){(s=new h(null)).length=u+1,s.words=new Array(s.length);for(var a=0;a<s.length;a++)s.words[a]=0}var l=n.clone()._ishlnsubmul(e,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var m=u-1;m>=0;m--){var f=67108864*(0|n.words[e.length+m])+(0|n.words[e.length+m-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(e,f,m);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(e,1,m),n.isZero()||(n.negative^=1);s&&(s.words[m]=f)}return s&&s._strip(),n._strip(),'div'!==i&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},h.prototype.divmod=function(t,i,n){return r(!t.isZero()),this.isZero()?{div:new h(0),mod:new h(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,i),'mod'!==i&&(e=s.div.neg()),'div'!==i&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:e,mod:o}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),i),'mod'!==i&&(e=s.div.neg()),{div:e,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),i),'div'!==i&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:s.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new h(0),mod:this}:1===t.length?'div'===i?{div:this.divn(t.words[0]),mod:null}:'mod'===i?{div:null,mod:new h(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new h(this.modrn(t.words[0]))}:this._wordDiv(t,i);var e,o,s},h.prototype.div=function(t){return this.divmod(t,'div',!1).div},h.prototype.mod=function(t){return this.divmod(t,'mod',!1).mod},h.prototype.umod=function(t){return this.divmod(t,'mod',!0).mod},h.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var r=0!==i.div.negative?i.mod.isub(t):i.mod,n=t.ushrn(1),h=t.andln(1),e=r.cmp(n);return e<0||1===h&&0===e?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},h.prototype.modrn=function(t){var i=t<0;i&&(t=-t),r(t<=67108863);for(var n=67108864%t,h=0,e=this.length-1;e>=0;e--)h=(n*h+(0|this.words[e]))%t;return i?-h:h},h.prototype.modn=function(t){return this.modrn(t)},h.prototype.idivn=function(t){var i=t<0;i&&(t=-t),r(t<=67108863);for(var n=0,h=this.length-1;h>=0;h--){var e=(0|this.words[h])+67108864*n;this.words[h]=e/t|0,n=e%t}return this._strip(),i?this.ineg():this},h.prototype.divn=function(t){return this.clone().idivn(t)},h.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var i=this,n=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e=new h(1),o=new h(0),s=new h(0),u=new h(1),a=0;i.isEven()&&n.isEven();)i.iushrn(1),n.iushrn(1),++a;for(var l=n.clone(),m=i.clone();!i.isZero();){for(var f=0,p=1;0==(i.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(i.iushrn(f);f-- >0;)(e.isOdd()||o.isOdd())&&(e.iadd(l),o.isub(m)),e.iushrn(1),o.iushrn(1);for(var M=0,v=1;0==(n.words[0]&v)&&M<26;++M,v<<=1);if(M>0)for(n.iushrn(M);M-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(m)),s.iushrn(1),u.iushrn(1);i.cmp(n)>=0?(i.isub(n),e.isub(s),o.isub(u)):(n.isub(i),s.isub(e),u.isub(o))}return{a:s,b:u,gcd:n.iushln(a)}},h.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var i=this,n=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e,o=new h(1),s=new h(0),u=n.clone();i.cmpn(1)>0&&n.cmpn(1)>0;){for(var a=0,l=1;0==(i.words[0]&l)&&a<26;++a,l<<=1);if(a>0)for(i.iushrn(a);a-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var m=0,f=1;0==(n.words[0]&f)&&m<26;++m,f<<=1);if(m>0)for(n.iushrn(m);m-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);i.cmp(n)>=0?(i.isub(n),o.isub(s)):(n.isub(i),s.isub(o))}return(e=0===i.cmpn(1)?o:s).cmpn(0)<0&&e.iadd(t),e},h.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),r=t.clone();i.negative=0,r.negative=0;for(var n=0;i.isEven()&&r.isEven();n++)i.iushrn(1),r.iushrn(1);for(;;){for(;i.isEven();)i.iushrn(1);for(;r.isEven();)r.iushrn(1);var h=i.cmp(r);if(h<0){var e=i;i=r,r=e}else if(0===h||0===r.cmpn(1))break;i.isub(r)}return r.iushln(n)},h.prototype.invm=function(t){return this.egcd(t).a.umod(t)},h.prototype.isEven=function(){return 0==(1&this.words[0])},h.prototype.isOdd=function(){return 1==(1&this.words[0])},h.prototype.andln=function(t){return this.words[0]&t},h.prototype.bincn=function(t){r('number'==typeof t);var i=t%26,n=(t-i)/26,h=1<<i;if(this.length<=n)return this._expand(n+1),this.words[n]|=h,this;for(var e=h,o=n;0!==e&&o<this.length;o++){var s=0|this.words[o];e=(s+=e)>>>26,s&=67108863,this.words[o]=s}return 0!==e&&(this.words[o]=e,this.length++),this},h.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},h.prototype.cmpn=function(t){var i,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)i=1;else{n&&(t=-t),r(t<=67108863,'Number is too big');var h=0|this.words[0];i=h===t?0:h<t?-1:1}return 0!==this.negative?0|-i:i},h.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var i=this.ucmp(t);return 0!==this.negative?0|-i:i},h.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],h=0|t.words[r];if(n!==h){n<h?i=-1:n>h&&(i=1);break}}return i},h.prototype.gtn=function(t){return 1===this.cmpn(t)},h.prototype.gt=function(t){return 1===this.cmp(t)},h.prototype.gten=function(t){return this.cmpn(t)>=0},h.prototype.gte=function(t){return this.cmp(t)>=0},h.prototype.ltn=function(t){return-1===this.cmpn(t)},h.prototype.lt=function(t){return-1===this.cmp(t)},h.prototype.lten=function(t){return this.cmpn(t)<=0},h.prototype.lte=function(t){return this.cmp(t)<=0},h.prototype.eqn=function(t){return 0===this.cmpn(t)},h.prototype.eq=function(t){return 0===this.cmp(t)},h.red=function(t){return new R(t)},h.prototype.toRed=function(t){return r(!this.red,'Already a number in reduction context'),r(0===this.negative,'red works only with positives'),t.convertTo(this)._forceRed(t)},h.prototype.fromRed=function(){return r(this.red,'fromRed works only with numbers in reduction context'),this.red.convertFrom(this)},h.prototype._forceRed=function(t){return this.red=t,this},h.prototype.forceRed=function(t){return r(!this.red,'Already a number in reduction context'),this._forceRed(t)},h.prototype.redAdd=function(t){return r(this.red,'redAdd works only with red numbers'),this.red.add(this,t)},h.prototype.redIAdd=function(t){return r(this.red,'redIAdd works only with red numbers'),this.red.iadd(this,t)},h.prototype.redSub=function(t){return r(this.red,'redSub works only with red numbers'),this.red.sub(this,t)},h.prototype.redISub=function(t){return r(this.red,'redISub works only with red numbers'),this.red.isub(this,t)},h.prototype.redShl=function(t){return r(this.red,'redShl works only with red numbers'),this.red.shl(this,t)},h.prototype.redMul=function(t){return r(this.red,'redMul works only with red numbers'),this.red._verify2(this,t),this.red.mul(this,t)},h.prototype.redIMul=function(t){return r(this.red,'redMul works only with red numbers'),this.red._verify2(this,t),this.red.imul(this,t)},h.prototype.redSqr=function(){return r(this.red,'redSqr works only with red numbers'),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return r(this.red,'redISqr works only with red numbers'),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return r(this.red,'redSqrt works only with red numbers'),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return r(this.red,'redInvm works only with red numbers'),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return r(this.red,'redNeg works only with red numbers'),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(t){return r(this.red&&!t.red,'redPow(normalNum)'),this.red._verify1(this),this.red.pow(this,t)};var _={k256:null,p224:null,p192:null,p25519:null};function k(t,i){this.name=t,this.p=new h(i,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function A(){k.call(this,'k256','ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f')}function S(){k.call(this,'p224','ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001')}function x(){k.call(this,'p192','ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff')}function B(){k.call(this,'25519','7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed')}function R(t){if('string'==typeof t){var i=h._prime(t);this.m=i.p,this.prime=i}else r(t.gtn(1),'modulus must be greater than 1'),this.m=t,this.prime=null}function q(t){R.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var t=new h(null);return t.words=new Array(Math.ceil(this.n/13)),t},k.prototype.ireduce=function(t){var i,r=t;do{this.split(r,this.tmp),i=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(i>this.n);var n=i<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},k.prototype.split=function(t,i){t.iushrn(this.n,0,i)},k.prototype.imulK=function(t){return t.imul(this.k)},n(A,k),A.prototype.split=function(t,i){for(var r=Math.min(t.length,9),n=0;n<r;n++)i.words[n]=t.words[n];if(i.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var h=t.words[9];for(i.words[i.length++]=4194303&h,n=10;n<t.length;n++){var e=0|t.words[n];t.words[n-10]=(4194303&e)<<4|h>>>22,h=e}h>>>=22,t.words[n-10]=h,0===h&&t.length>10?t.length-=10:t.length-=9},A.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,r=0;r<t.length;r++){var n=0|t.words[r];i+=977*n,t.words[r]=67108863&i,i=64*n+(i/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(S,k),n(x,k),n(B,k),B.prototype.imulK=function(t){for(var i=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+i,h=67108863&n;n>>>=26,t.words[r]=h,i=n}return 0!==i&&(t.words[t.length++]=i),t},h._prime=function(t){if(_[t])return _[t];var i;if('k256'===t)i=new A;else if('p224'===t)i=new S;else if('p192'===t)i=new x;else{if('p25519'!==t)throw new Error('Unknown prime '+t);i=new B}return _[t]=i,i},R.prototype._verify1=function(t){r(0===t.negative,'red works only with positives'),r(t.red,'red works only with red numbers')},R.prototype._verify2=function(t,i){r(0==(t.negative|i.negative),'red works only with positives'),r(t.red&&t.red===i.red,'red works only with red numbers')},R.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(a(t,t.umod(this.m)._forceRed(this)),t)},R.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},R.prototype.add=function(t,i){this._verify2(t,i);var r=t.add(i);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},R.prototype.iadd=function(t,i){this._verify2(t,i);var r=t.iadd(i);return r.cmp(this.m)>=0&&r.isub(this.m),r},R.prototype.sub=function(t,i){this._verify2(t,i);var r=t.sub(i);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},R.prototype.isub=function(t,i){this._verify2(t,i);var r=t.isub(i);return r.cmpn(0)<0&&r.iadd(this.m),r},R.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},R.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},R.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},R.prototype.isqr=function(t){return this.imul(t,t.clone())},R.prototype.sqr=function(t){return this.mul(t,t)},R.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(r(i%2==1),3===i){var n=this.m.add(new h(1)).iushrn(2);return this.pow(t,n)}for(var e=this.m.subn(1),o=0;!e.isZero()&&0===e.andln(1);)o++,e.iushrn(1);r(!e.isZero());var s=new h(1).toRed(this),u=s.redNeg(),a=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new h(2*l*l).toRed(this);0!==this.pow(l,a).cmp(u);)l.redIAdd(u);for(var m=this.pow(l,e),f=this.pow(t,e.addn(1).iushrn(1)),p=this.pow(t,e),M=o;0!==p.cmp(s);){for(var v=p,g=0;0!==v.cmp(s);g++)v=v.redSqr();r(g<M);var c=this.pow(m,new h(1).iushln(M-g-1));f=f.redMul(c),m=c.redSqr(),p=p.redMul(m),M=g}return f},R.prototype.invm=function(t){var i=t._invmp(this.m);return 0!==i.negative?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},R.prototype.pow=function(t,i){if(i.isZero())return new h(1).toRed(this);if(0===i.cmpn(1))return t.clone();var r=new Array(16);r[0]=new h(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var e=r[0],o=0,s=0,u=i.bitLength()%26;for(0===u&&(u=26),n=i.length-1;n>=0;n--){for(var a=i.words[n],l=u-1;l>=0;l--){var m=a>>l&1;e!==r[0]&&(e=this.sqr(e)),0!==m||0!==o?(o<<=1,o|=m,(4===++s||0===n&&0===l)&&(e=this.mul(e,r[o]),s=0,o=0)):s=0}u=26}return e},R.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},R.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},h.mont=function(t){return new q(t)},n(q,R),q.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},q.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},q.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=r.isub(n).iushrn(this.shift),e=h;return h.cmp(this.m)>=0?e=h.isub(this.m):h.cmpn(0)<0&&(e=h.iadd(this.m)),e._forceRed(this)},q.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new h(0)._forceRed(this);var r=t.mul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=r.isub(n).iushrn(this.shift),o=e;return e.cmp(this.m)>=0?o=e.isub(this.m):e.cmpn(0)<0&&(o=e.iadd(this.m)),o._forceRed(this)},q.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}})(void 0===_m||_m,this)},575,[476]);
__d(function(p,c,e,n,o,s,t){o.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},576,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=e;s.version=r(d[0]).version,s.utils=r(d[1]),s.rand=r(d[2]),s.curve=r(d[3]),s.curves=r(d[4]),s.ec=r(d[5]),s.eddsa=r(d[6])},577,[578,579,541,582,587,601,605]);
__d(function(i,t,n,e,r,s,l){r.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},578,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';var n=e;n.assert=r(d[0]),n.toArray=r(d[1]).toArray,n.zero2=r(d[1]).zero2,n.toHex=r(d[1]).toHex,n.encode=r(d[1]).encode,n.getNAF=function(n,t,o){var i,u=new Array(Math.max(n.bitLength(),o)+1);for(i=0;i<u.length;i+=1)u[i]=0;var c=1<<t+1,s=n.clone();for(i=0;i<u.length;i++){var h,l=s.andln(c-1);s.isOdd()?(h=l>(c>>1)-1?(c>>1)-l:l,s.isubn(h)):h=0,u[i]=h,s.iushrn(1)}return u},n.getJSF=function(n,t){var o=[[],[]];n=n.clone(),t=t.clone();for(var i,u=0,c=0;n.cmpn(-u)>0||t.cmpn(-c)>0;){var s,h,l=n.andln(3)+u&3,f=t.andln(3)+c&3;3===l&&(l=-1),3===f&&(f=-1),s=0==(1&l)?0:3!=(i=n.andln(7)+u&7)&&5!==i||2!==f?l:-l,o[0].push(s),h=0==(1&f)?0:3!=(i=t.andln(7)+c&7)&&5!==i||2!==l?f:-f,o[1].push(h),2*u===s+1&&(u=1-u),2*c===h+1&&(c=1-c),n.iushrn(1),t.iushrn(1)}return o},n.cachedProperty=function(n,t,o){var i='_'+t;n.prototype[t]=function(){return void 0!==this[i]?this[i]:this[i]=o.call(this)}},n.parseBytes=function(t){return'string'==typeof t?n.toArray(t,'hex'):t},n.intFromLE=function(n){return new(r(d[2]))(n,'hex','le')}},579,[533,580,581]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=e;function n(t){return 1===t.length?'0'+t:t}function o(t){for(var o='',u=0;u<t.length;u++)o+=n(t[u].toString(16));return o}t.toArray=function(t,n){if(Array.isArray(t))return t.slice();if(!t)return[];var o=[];if('string'!=typeof t){for(var u=0;u<t.length;u++)o[u]=0|t[u];return o}if('hex'===n)for((t=t.replace(/[^a-z0-9]+/gi,'')).length%2!=0&&(t='0'+t),u=0;u<t.length;u+=2)o.push(parseInt(t[u]+t[u+1],16));else for(u=0;u<t.length;u++){var i=t.charCodeAt(u),f=i>>8,h=255&i;f?o.push(f,h):o.push(h)}return o},t.zero2=n,t.toHex=o,t.encode=function(t,n){return'hex'===n?o(t):t}},580,[]);
__d(function(_g,_r,_i,_a,_m,_e,d){!(function(t,i){'use strict';function r(t,i){if(!t)throw new Error(i||'Assertion failed')}function n(t,i){t.super_=i;var r=function(){};r.prototype=i.prototype,t.prototype=new r,t.prototype.constructor=t}function h(t,i,r){if(h.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&('le'!==i&&'be'!==i||(r=i,i=10),this._init(t||0,i||10,r||'be'))}var e;'object'==typeof t?t.exports=h:i.BN=h,h.BN=h,h.wordSize=26;try{e='undefined'!=typeof window&&void 0!==window.Buffer?window.Buffer:_r(d[0]).Buffer}catch(t){}function o(t,i){var r=t.charCodeAt(i);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function s(t,i,r){var n=o(t,r);return r-1>=i&&(n|=o(t,r-1)<<4),n}function u(t,i,r,n){for(var h=0,e=Math.min(t.length,r),o=i;o<e;o++){var s=t.charCodeAt(o)-48;h*=n,h+=s>=49?s-49+10:s>=17?s-17+10:s}return h}h.isBN=function(t){return t instanceof h||null!==t&&'object'==typeof t&&t.constructor.wordSize===h.wordSize&&Array.isArray(t.words)},h.max=function(t,i){return t.cmp(i)>0?t:i},h.min=function(t,i){return t.cmp(i)<0?t:i},h.prototype._init=function(t,i,n){if('number'==typeof t)return this._initNumber(t,i,n);if('object'==typeof t)return this._initArray(t,i,n);'hex'===i&&(i=16),r(i===(0|i)&&i>=2&&i<=36);var h=0;'-'===(t=t.toString().replace(/\s+/g,''))[0]&&(h++,this.negative=1),h<t.length&&(16===i?this._parseHex(t,h,n):(this._parseBase(t,i,h),'le'===n&&this._initArray(this.toArray(),i,n)))},h.prototype._initNumber=function(t,i,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),'le'===n&&this._initArray(this.toArray(),i,n)},h.prototype._initArray=function(t,i,n){if(r('number'==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var e,o,s=0;if('be'===n)for(h=t.length-1,e=0;h>=0;h-=3)o=t[h]|t[h-1]<<8|t[h-2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);else if('le'===n)for(h=0,e=0;h<t.length;h+=3)o=t[h]|t[h+1]<<8|t[h+2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);return this.strip()},h.prototype._parseHex=function(t,i,r){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var h,e=0,o=0;if('be'===r)for(n=t.length-1;n>=i;n-=2)h=s(t,i,n)<<e,this.words[o]|=67108863&h,e>=18?(e-=18,o+=1,this.words[o]|=h>>>26):e+=8;else for(n=(t.length-i)%2==0?i+1:i;n<t.length;n+=2)h=s(t,i,n)<<e,this.words[o]|=67108863&h,e>=18?(e-=18,o+=1,this.words[o]|=h>>>26):e+=8;this.strip()},h.prototype._parseBase=function(t,i,r){this.words=[0],this.length=1;for(var n=0,h=1;h<=67108863;h*=i)n++;n--,h=h/i|0;for(var e=t.length-r,o=e%n,s=Math.min(e,e-o)+r,a=0,l=r;l<s;l+=n)a=u(t,l,l+n,i),this.imuln(h),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==o){var m=1;for(a=u(t,l,t.length,i),l=0;l<o;l++)m*=i;this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},h.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},h.prototype.clone=function(){var t=new h(null);return this.copy(t),t},h.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},h.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},h.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},h.prototype.inspect=function(){return(this.red?'<BN-R: ':'<BN: ')+this.toString(16)+'>'};var a=['','0','00','000','0000','00000','000000','0000000','00000000','000000000','0000000000','00000000000','000000000000','0000000000000','00000000000000','000000000000000','0000000000000000','00000000000000000','000000000000000000','0000000000000000000','00000000000000000000','000000000000000000000','0000000000000000000000','00000000000000000000000','000000000000000000000000','0000000000000000000000000'],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t){for(var i=new Array(t.bitLength()),r=0;r<i.length;r++){var n=r/26|0,h=r%26;i[r]=(t.words[n]&1<<h)>>>h}return i}function p(t,i,r){r.negative=i.negative^t.negative;var n=t.length+i.length|0;r.length=n,n=n-1|0;var h=0|t.words[0],e=0|i.words[0],o=h*e,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var a=1;a<n;a++){for(var l=u>>>26,m=67108863&u,f=Math.min(a,i.length-1),p=Math.max(0,a-t.length+1);p<=f;p++){var M=a-p|0;l+=(o=(h=0|t.words[M])*(e=0|i.words[p])+m)/67108864|0,m=67108863&o}r.words[a]=0|m,u=0|l}return 0!==u?r.words[a]=0|u:r.length--,r.strip()}h.prototype.toString=function(t,i){var n;if(i=0|i||1,16===(t=t||10)||'hex'===t){n='';for(var h=0,e=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<h|e)).toString(16);e=s>>>24-h&16777215,(h+=2)>=26&&(h-=26,o--),n=0!==e||o!==this.length-1?a[6-u.length]+u+n:u+n}for(0!==e&&(n=e.toString(16)+n);n.length%i!=0;)n='0'+n;return 0!==this.negative&&(n='-'+n),n}if(t===(0|t)&&t>=2&&t<=36){var f=l[t],p=m[t];n='';var M=this.clone();for(M.negative=0;!M.isZero();){var v=M.modn(p).toString(t);n=(M=M.idivn(p)).isZero()?v+n:a[f-v.length]+v+n}for(this.isZero()&&(n='0'+n);n.length%i!=0;)n='0'+n;return 0!==this.negative&&(n='-'+n),n}r(!1,'Base should be between 2 and 36')},h.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,'Number can only safely store up to 53 bits'),0!==this.negative?-t:t},h.prototype.toJSON=function(){return this.toString(16)},h.prototype.toBuffer=function(t,i){return r(void 0!==e),this.toArrayLike(e,t,i)},h.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)},h.prototype.toArrayLike=function(t,i,n){var h=this.byteLength(),e=n||Math.max(1,h);r(h<=e,'byte array longer than desired length'),r(e>0,'Requested array length <= 0'),this.strip();var o,s,u='le'===i,a=new t(e),l=this.clone();if(u){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[s]=o;for(;s<e;s++)a[s]=0}else{for(s=0;s<e-h;s++)a[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[e-s-1]=o}return a},Math.clz32?h.prototype._countBits=function(t){return 32-Math.clz32(t)}:h.prototype._countBits=function(t){var i=t,r=0;return i>=4096&&(r+=13,i>>>=13),i>=64&&(r+=7,i>>>=7),i>=8&&(r+=4,i>>>=4),i>=2&&(r+=2,i>>>=2),r+i},h.prototype._zeroBits=function(t){if(0===t)return 26;var i=t,r=0;return 0==(8191&i)&&(r+=13,i>>>=13),0==(127&i)&&(r+=7,i>>>=7),0==(15&i)&&(r+=4,i>>>=4),0==(3&i)&&(r+=2,i>>>=2),0==(1&i)&&r++,r},h.prototype.bitLength=function(){var t=this.words[this.length-1],i=this._countBits(t);return 26*(this.length-1)+i},h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var r=this._zeroBits(this.words[i]);if(t+=r,26!==r)break}return t},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},h.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return 0!==this.negative},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this.strip()},h.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},h.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},h.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},h.prototype.iuand=function(t){var i;i=this.length>t.length?t:this;for(var r=0;r<i.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=i.length,this.strip()},h.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},h.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},h.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},h.prototype.iuxor=function(t){var i,r;this.length>t.length?(i=this,r=t):(i=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=i.words[n]^r.words[n];if(this!==i)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=i.length,this.strip()},h.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},h.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},h.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},h.prototype.inotn=function(t){r('number'==typeof t&&t>=0);var i=0|Math.ceil(t/26),n=t%26;this._expand(i),n>0&&i--;for(var h=0;h<i;h++)this.words[h]=67108863&~this.words[h];return n>0&&(this.words[h]=~this.words[h]&67108863>>26-n),this.strip()},h.prototype.notn=function(t){return this.clone().inotn(t)},h.prototype.setn=function(t,i){r('number'==typeof t&&t>=0);var n=t/26|0,h=t%26;return this._expand(n+1),this.words[n]=i?this.words[n]|1<<h:this.words[n]&~(1<<h),this.strip()},h.prototype.iadd=function(t){var i,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var h=0,e=0;e<n.length;e++)i=(0|r.words[e])+(0|n.words[e])+h,this.words[e]=67108863&i,h=i>>>26;for(;0!==h&&e<r.length;e++)i=(0|r.words[e])+h,this.words[e]=67108863&i,h=i>>>26;if(this.length=r.length,0!==h)this.words[this.length]=h,this.length++;else if(r!==this)for(;e<r.length;e++)this.words[e]=r.words[e];return this},h.prototype.add=function(t){var i;return 0!==t.negative&&0===this.negative?(t.negative=0,i=this.sub(t),t.negative^=1,i):0===t.negative&&0!==this.negative?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},h.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,h=this.cmp(t);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(r=this,n=t):(r=t,n=this);for(var e=0,o=0;o<n.length;o++)e=(i=(0|r.words[o])-(0|n.words[o])+e)>>26,this.words[o]=67108863&i;for(;0!==e&&o<r.length;o++)e=(i=(0|r.words[o])+e)>>26,this.words[o]=67108863&i;if(0===e&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},h.prototype.sub=function(t){return this.clone().isub(t)};var M=function(t,i,r){var n,h,e,o=t.words,s=i.words,u=r.words,a=0,l=0|o[0],m=8191&l,f=l>>>13,p=0|o[1],M=8191&p,v=p>>>13,g=0|o[2],c=8191&g,w=g>>>13,y=0|o[3],b=8191&y,_=y>>>13,k=0|o[4],A=8191&k,x=k>>>13,S=0|o[5],Z=8191&S,B=S>>>13,R=0|o[6],q=8191&R,N=R>>>13,L=0|o[7],I=8191&L,z=L>>>13,T=0|o[8],E=8191&T,O=T>>>13,j=0|o[9],K=8191&j,P=j>>>13,F=0|s[0],C=8191&F,D=F>>>13,H=0|s[1],J=8191&H,U=H>>>13,G=0|s[2],Q=8191&G,V=G>>>13,W=0|s[3],X=8191&W,Y=W>>>13,$=0|s[4],tt=8191&$,it=$>>>13,rt=0|s[5],nt=8191&rt,ht=rt>>>13,et=0|s[6],ot=8191&et,st=et>>>13,ut=0|s[7],at=8191&ut,lt=ut>>>13,mt=0|s[8],ft=8191&mt,dt=mt>>>13,pt=0|s[9],Mt=8191&pt,vt=pt>>>13;r.negative=t.negative^i.negative,r.length=19;var gt=(a+(n=Math.imul(m,C))|0)+((8191&(h=(h=Math.imul(m,D))+Math.imul(f,C)|0))<<13)|0;a=((e=Math.imul(f,D))+(h>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(M,C),h=(h=Math.imul(M,D))+Math.imul(v,C)|0,e=Math.imul(v,D);var ct=(a+(n=n+Math.imul(m,J)|0)|0)+((8191&(h=(h=h+Math.imul(m,U)|0)+Math.imul(f,J)|0))<<13)|0;a=((e=e+Math.imul(f,U)|0)+(h>>>13)|0)+(ct>>>26)|0,ct&=67108863,n=Math.imul(c,C),h=(h=Math.imul(c,D))+Math.imul(w,C)|0,e=Math.imul(w,D),n=n+Math.imul(M,J)|0,h=(h=h+Math.imul(M,U)|0)+Math.imul(v,J)|0,e=e+Math.imul(v,U)|0;var wt=(a+(n=n+Math.imul(m,Q)|0)|0)+((8191&(h=(h=h+Math.imul(m,V)|0)+Math.imul(f,Q)|0))<<13)|0;a=((e=e+Math.imul(f,V)|0)+(h>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(b,C),h=(h=Math.imul(b,D))+Math.imul(_,C)|0,e=Math.imul(_,D),n=n+Math.imul(c,J)|0,h=(h=h+Math.imul(c,U)|0)+Math.imul(w,J)|0,e=e+Math.imul(w,U)|0,n=n+Math.imul(M,Q)|0,h=(h=h+Math.imul(M,V)|0)+Math.imul(v,Q)|0,e=e+Math.imul(v,V)|0;var yt=(a+(n=n+Math.imul(m,X)|0)|0)+((8191&(h=(h=h+Math.imul(m,Y)|0)+Math.imul(f,X)|0))<<13)|0;a=((e=e+Math.imul(f,Y)|0)+(h>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(A,C),h=(h=Math.imul(A,D))+Math.imul(x,C)|0,e=Math.imul(x,D),n=n+Math.imul(b,J)|0,h=(h=h+Math.imul(b,U)|0)+Math.imul(_,J)|0,e=e+Math.imul(_,U)|0,n=n+Math.imul(c,Q)|0,h=(h=h+Math.imul(c,V)|0)+Math.imul(w,Q)|0,e=e+Math.imul(w,V)|0,n=n+Math.imul(M,X)|0,h=(h=h+Math.imul(M,Y)|0)+Math.imul(v,X)|0,e=e+Math.imul(v,Y)|0;var bt=(a+(n=n+Math.imul(m,tt)|0)|0)+((8191&(h=(h=h+Math.imul(m,it)|0)+Math.imul(f,tt)|0))<<13)|0;a=((e=e+Math.imul(f,it)|0)+(h>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(Z,C),h=(h=Math.imul(Z,D))+Math.imul(B,C)|0,e=Math.imul(B,D),n=n+Math.imul(A,J)|0,h=(h=h+Math.imul(A,U)|0)+Math.imul(x,J)|0,e=e+Math.imul(x,U)|0,n=n+Math.imul(b,Q)|0,h=(h=h+Math.imul(b,V)|0)+Math.imul(_,Q)|0,e=e+Math.imul(_,V)|0,n=n+Math.imul(c,X)|0,h=(h=h+Math.imul(c,Y)|0)+Math.imul(w,X)|0,e=e+Math.imul(w,Y)|0,n=n+Math.imul(M,tt)|0,h=(h=h+Math.imul(M,it)|0)+Math.imul(v,tt)|0,e=e+Math.imul(v,it)|0;var _t=(a+(n=n+Math.imul(m,nt)|0)|0)+((8191&(h=(h=h+Math.imul(m,ht)|0)+Math.imul(f,nt)|0))<<13)|0;a=((e=e+Math.imul(f,ht)|0)+(h>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(q,C),h=(h=Math.imul(q,D))+Math.imul(N,C)|0,e=Math.imul(N,D),n=n+Math.imul(Z,J)|0,h=(h=h+Math.imul(Z,U)|0)+Math.imul(B,J)|0,e=e+Math.imul(B,U)|0,n=n+Math.imul(A,Q)|0,h=(h=h+Math.imul(A,V)|0)+Math.imul(x,Q)|0,e=e+Math.imul(x,V)|0,n=n+Math.imul(b,X)|0,h=(h=h+Math.imul(b,Y)|0)+Math.imul(_,X)|0,e=e+Math.imul(_,Y)|0,n=n+Math.imul(c,tt)|0,h=(h=h+Math.imul(c,it)|0)+Math.imul(w,tt)|0,e=e+Math.imul(w,it)|0,n=n+Math.imul(M,nt)|0,h=(h=h+Math.imul(M,ht)|0)+Math.imul(v,nt)|0,e=e+Math.imul(v,ht)|0;var kt=(a+(n=n+Math.imul(m,ot)|0)|0)+((8191&(h=(h=h+Math.imul(m,st)|0)+Math.imul(f,ot)|0))<<13)|0;a=((e=e+Math.imul(f,st)|0)+(h>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(I,C),h=(h=Math.imul(I,D))+Math.imul(z,C)|0,e=Math.imul(z,D),n=n+Math.imul(q,J)|0,h=(h=h+Math.imul(q,U)|0)+Math.imul(N,J)|0,e=e+Math.imul(N,U)|0,n=n+Math.imul(Z,Q)|0,h=(h=h+Math.imul(Z,V)|0)+Math.imul(B,Q)|0,e=e+Math.imul(B,V)|0,n=n+Math.imul(A,X)|0,h=(h=h+Math.imul(A,Y)|0)+Math.imul(x,X)|0,e=e+Math.imul(x,Y)|0,n=n+Math.imul(b,tt)|0,h=(h=h+Math.imul(b,it)|0)+Math.imul(_,tt)|0,e=e+Math.imul(_,it)|0,n=n+Math.imul(c,nt)|0,h=(h=h+Math.imul(c,ht)|0)+Math.imul(w,nt)|0,e=e+Math.imul(w,ht)|0,n=n+Math.imul(M,ot)|0,h=(h=h+Math.imul(M,st)|0)+Math.imul(v,ot)|0,e=e+Math.imul(v,st)|0;var At=(a+(n=n+Math.imul(m,at)|0)|0)+((8191&(h=(h=h+Math.imul(m,lt)|0)+Math.imul(f,at)|0))<<13)|0;a=((e=e+Math.imul(f,lt)|0)+(h>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(E,C),h=(h=Math.imul(E,D))+Math.imul(O,C)|0,e=Math.imul(O,D),n=n+Math.imul(I,J)|0,h=(h=h+Math.imul(I,U)|0)+Math.imul(z,J)|0,e=e+Math.imul(z,U)|0,n=n+Math.imul(q,Q)|0,h=(h=h+Math.imul(q,V)|0)+Math.imul(N,Q)|0,e=e+Math.imul(N,V)|0,n=n+Math.imul(Z,X)|0,h=(h=h+Math.imul(Z,Y)|0)+Math.imul(B,X)|0,e=e+Math.imul(B,Y)|0,n=n+Math.imul(A,tt)|0,h=(h=h+Math.imul(A,it)|0)+Math.imul(x,tt)|0,e=e+Math.imul(x,it)|0,n=n+Math.imul(b,nt)|0,h=(h=h+Math.imul(b,ht)|0)+Math.imul(_,nt)|0,e=e+Math.imul(_,ht)|0,n=n+Math.imul(c,ot)|0,h=(h=h+Math.imul(c,st)|0)+Math.imul(w,ot)|0,e=e+Math.imul(w,st)|0,n=n+Math.imul(M,at)|0,h=(h=h+Math.imul(M,lt)|0)+Math.imul(v,at)|0,e=e+Math.imul(v,lt)|0;var xt=(a+(n=n+Math.imul(m,ft)|0)|0)+((8191&(h=(h=h+Math.imul(m,dt)|0)+Math.imul(f,ft)|0))<<13)|0;a=((e=e+Math.imul(f,dt)|0)+(h>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(K,C),h=(h=Math.imul(K,D))+Math.imul(P,C)|0,e=Math.imul(P,D),n=n+Math.imul(E,J)|0,h=(h=h+Math.imul(E,U)|0)+Math.imul(O,J)|0,e=e+Math.imul(O,U)|0,n=n+Math.imul(I,Q)|0,h=(h=h+Math.imul(I,V)|0)+Math.imul(z,Q)|0,e=e+Math.imul(z,V)|0,n=n+Math.imul(q,X)|0,h=(h=h+Math.imul(q,Y)|0)+Math.imul(N,X)|0,e=e+Math.imul(N,Y)|0,n=n+Math.imul(Z,tt)|0,h=(h=h+Math.imul(Z,it)|0)+Math.imul(B,tt)|0,e=e+Math.imul(B,it)|0,n=n+Math.imul(A,nt)|0,h=(h=h+Math.imul(A,ht)|0)+Math.imul(x,nt)|0,e=e+Math.imul(x,ht)|0,n=n+Math.imul(b,ot)|0,h=(h=h+Math.imul(b,st)|0)+Math.imul(_,ot)|0,e=e+Math.imul(_,st)|0,n=n+Math.imul(c,at)|0,h=(h=h+Math.imul(c,lt)|0)+Math.imul(w,at)|0,e=e+Math.imul(w,lt)|0,n=n+Math.imul(M,ft)|0,h=(h=h+Math.imul(M,dt)|0)+Math.imul(v,ft)|0,e=e+Math.imul(v,dt)|0;var St=(a+(n=n+Math.imul(m,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(m,vt)|0)+Math.imul(f,Mt)|0))<<13)|0;a=((e=e+Math.imul(f,vt)|0)+(h>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(K,J),h=(h=Math.imul(K,U))+Math.imul(P,J)|0,e=Math.imul(P,U),n=n+Math.imul(E,Q)|0,h=(h=h+Math.imul(E,V)|0)+Math.imul(O,Q)|0,e=e+Math.imul(O,V)|0,n=n+Math.imul(I,X)|0,h=(h=h+Math.imul(I,Y)|0)+Math.imul(z,X)|0,e=e+Math.imul(z,Y)|0,n=n+Math.imul(q,tt)|0,h=(h=h+Math.imul(q,it)|0)+Math.imul(N,tt)|0,e=e+Math.imul(N,it)|0,n=n+Math.imul(Z,nt)|0,h=(h=h+Math.imul(Z,ht)|0)+Math.imul(B,nt)|0,e=e+Math.imul(B,ht)|0,n=n+Math.imul(A,ot)|0,h=(h=h+Math.imul(A,st)|0)+Math.imul(x,ot)|0,e=e+Math.imul(x,st)|0,n=n+Math.imul(b,at)|0,h=(h=h+Math.imul(b,lt)|0)+Math.imul(_,at)|0,e=e+Math.imul(_,lt)|0,n=n+Math.imul(c,ft)|0,h=(h=h+Math.imul(c,dt)|0)+Math.imul(w,ft)|0,e=e+Math.imul(w,dt)|0;var Zt=(a+(n=n+Math.imul(M,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(M,vt)|0)+Math.imul(v,Mt)|0))<<13)|0;a=((e=e+Math.imul(v,vt)|0)+(h>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,n=Math.imul(K,Q),h=(h=Math.imul(K,V))+Math.imul(P,Q)|0,e=Math.imul(P,V),n=n+Math.imul(E,X)|0,h=(h=h+Math.imul(E,Y)|0)+Math.imul(O,X)|0,e=e+Math.imul(O,Y)|0,n=n+Math.imul(I,tt)|0,h=(h=h+Math.imul(I,it)|0)+Math.imul(z,tt)|0,e=e+Math.imul(z,it)|0,n=n+Math.imul(q,nt)|0,h=(h=h+Math.imul(q,ht)|0)+Math.imul(N,nt)|0,e=e+Math.imul(N,ht)|0,n=n+Math.imul(Z,ot)|0,h=(h=h+Math.imul(Z,st)|0)+Math.imul(B,ot)|0,e=e+Math.imul(B,st)|0,n=n+Math.imul(A,at)|0,h=(h=h+Math.imul(A,lt)|0)+Math.imul(x,at)|0,e=e+Math.imul(x,lt)|0,n=n+Math.imul(b,ft)|0,h=(h=h+Math.imul(b,dt)|0)+Math.imul(_,ft)|0,e=e+Math.imul(_,dt)|0;var Bt=(a+(n=n+Math.imul(c,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(c,vt)|0)+Math.imul(w,Mt)|0))<<13)|0;a=((e=e+Math.imul(w,vt)|0)+(h>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(K,X),h=(h=Math.imul(K,Y))+Math.imul(P,X)|0,e=Math.imul(P,Y),n=n+Math.imul(E,tt)|0,h=(h=h+Math.imul(E,it)|0)+Math.imul(O,tt)|0,e=e+Math.imul(O,it)|0,n=n+Math.imul(I,nt)|0,h=(h=h+Math.imul(I,ht)|0)+Math.imul(z,nt)|0,e=e+Math.imul(z,ht)|0,n=n+Math.imul(q,ot)|0,h=(h=h+Math.imul(q,st)|0)+Math.imul(N,ot)|0,e=e+Math.imul(N,st)|0,n=n+Math.imul(Z,at)|0,h=(h=h+Math.imul(Z,lt)|0)+Math.imul(B,at)|0,e=e+Math.imul(B,lt)|0,n=n+Math.imul(A,ft)|0,h=(h=h+Math.imul(A,dt)|0)+Math.imul(x,ft)|0,e=e+Math.imul(x,dt)|0;var Rt=(a+(n=n+Math.imul(b,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(b,vt)|0)+Math.imul(_,Mt)|0))<<13)|0;a=((e=e+Math.imul(_,vt)|0)+(h>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(K,tt),h=(h=Math.imul(K,it))+Math.imul(P,tt)|0,e=Math.imul(P,it),n=n+Math.imul(E,nt)|0,h=(h=h+Math.imul(E,ht)|0)+Math.imul(O,nt)|0,e=e+Math.imul(O,ht)|0,n=n+Math.imul(I,ot)|0,h=(h=h+Math.imul(I,st)|0)+Math.imul(z,ot)|0,e=e+Math.imul(z,st)|0,n=n+Math.imul(q,at)|0,h=(h=h+Math.imul(q,lt)|0)+Math.imul(N,at)|0,e=e+Math.imul(N,lt)|0,n=n+Math.imul(Z,ft)|0,h=(h=h+Math.imul(Z,dt)|0)+Math.imul(B,ft)|0,e=e+Math.imul(B,dt)|0;var qt=(a+(n=n+Math.imul(A,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(A,vt)|0)+Math.imul(x,Mt)|0))<<13)|0;a=((e=e+Math.imul(x,vt)|0)+(h>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(K,nt),h=(h=Math.imul(K,ht))+Math.imul(P,nt)|0,e=Math.imul(P,ht),n=n+Math.imul(E,ot)|0,h=(h=h+Math.imul(E,st)|0)+Math.imul(O,ot)|0,e=e+Math.imul(O,st)|0,n=n+Math.imul(I,at)|0,h=(h=h+Math.imul(I,lt)|0)+Math.imul(z,at)|0,e=e+Math.imul(z,lt)|0,n=n+Math.imul(q,ft)|0,h=(h=h+Math.imul(q,dt)|0)+Math.imul(N,ft)|0,e=e+Math.imul(N,dt)|0;var Nt=(a+(n=n+Math.imul(Z,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(Z,vt)|0)+Math.imul(B,Mt)|0))<<13)|0;a=((e=e+Math.imul(B,vt)|0)+(h>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(K,ot),h=(h=Math.imul(K,st))+Math.imul(P,ot)|0,e=Math.imul(P,st),n=n+Math.imul(E,at)|0,h=(h=h+Math.imul(E,lt)|0)+Math.imul(O,at)|0,e=e+Math.imul(O,lt)|0,n=n+Math.imul(I,ft)|0,h=(h=h+Math.imul(I,dt)|0)+Math.imul(z,ft)|0,e=e+Math.imul(z,dt)|0;var Lt=(a+(n=n+Math.imul(q,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(q,vt)|0)+Math.imul(N,Mt)|0))<<13)|0;a=((e=e+Math.imul(N,vt)|0)+(h>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(K,at),h=(h=Math.imul(K,lt))+Math.imul(P,at)|0,e=Math.imul(P,lt),n=n+Math.imul(E,ft)|0,h=(h=h+Math.imul(E,dt)|0)+Math.imul(O,ft)|0,e=e+Math.imul(O,dt)|0;var It=(a+(n=n+Math.imul(I,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(I,vt)|0)+Math.imul(z,Mt)|0))<<13)|0;a=((e=e+Math.imul(z,vt)|0)+(h>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(K,ft),h=(h=Math.imul(K,dt))+Math.imul(P,ft)|0,e=Math.imul(P,dt);var zt=(a+(n=n+Math.imul(E,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(E,vt)|0)+Math.imul(O,Mt)|0))<<13)|0;a=((e=e+Math.imul(O,vt)|0)+(h>>>13)|0)+(zt>>>26)|0,zt&=67108863;var Tt=(a+(n=Math.imul(K,Mt))|0)+((8191&(h=(h=Math.imul(K,vt))+Math.imul(P,Mt)|0))<<13)|0;return a=((e=Math.imul(P,vt))+(h>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,u[0]=gt,u[1]=ct,u[2]=wt,u[3]=yt,u[4]=bt,u[5]=_t,u[6]=kt,u[7]=At,u[8]=xt,u[9]=St,u[10]=Zt,u[11]=Bt,u[12]=Rt,u[13]=qt,u[14]=Nt,u[15]=Lt,u[16]=It,u[17]=zt,u[18]=Tt,0!==a&&(u[19]=a,r.length++),r};function v(t,i,r){r.negative=i.negative^t.negative,r.length=t.length+i.length;for(var n=0,h=0,e=0;e<r.length-1;e++){var o=h;h=0;for(var s=67108863&n,u=Math.min(e,i.length-1),a=Math.max(0,e-t.length+1);a<=u;a++){var l=e-a,m=(0|t.words[l])*(0|i.words[a]),f=67108863&m;s=67108863&(f=f+s|0),h+=(o=(o=o+(m/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[e]=s,n=o,o=h}return 0!==n?r.words[e]=n:r.length--,r.strip()}function g(t,i,r){return(new c).mulp(t,i,r)}function c(t,i){this.x=t,this.y=i}Math.imul||(M=p),h.prototype.mulTo=function(t,i){var r=this.length+t.length;return 10===this.length&&10===t.length?M(this,t,i):r<63?p(this,t,i):r<1024?v(this,t,i):g(this,t,i)},c.prototype.makeRBT=function(t){for(var i=new Array(t),r=h.prototype._countBits(t)-1,n=0;n<t;n++)i[n]=this.revBin(n,r,t);return i},c.prototype.revBin=function(t,i,r){if(0===t||t===r-1)return t;for(var n=0,h=0;h<i;h++)n|=(1&t)<<i-h-1,t>>=1;return n},c.prototype.permute=function(t,i,r,n,h,e){for(var o=0;o<e;o++)n[o]=i[t[o]],h[o]=r[t[o]]},c.prototype.transform=function(t,i,r,n,h,e){this.permute(e,t,i,r,n,h);for(var o=1;o<h;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),a=Math.sin(2*Math.PI/s),l=0;l<h;l+=s)for(var m=u,f=a,p=0;p<o;p++){var M=r[l+p],v=n[l+p],g=r[l+p+o],c=n[l+p+o],w=m*g-f*c;c=m*c+f*g,g=w,r[l+p]=M+g,n[l+p]=v+c,r[l+p+o]=M-g,n[l+p+o]=v-c,p!==s&&(w=u*m-a*f,f=u*f+a*m,m=w)}},c.prototype.guessLen13b=function(t,i){var r=1|Math.max(i,t),n=1&r,h=0;for(r=r/2|0;r;r>>>=1)h++;return 1<<h+1+n},c.prototype.conjugate=function(t,i,r){if(!(r<=1))for(var n=0;n<r/2;n++){var h=t[n];t[n]=t[r-n-1],t[r-n-1]=h,h=i[n],i[n]=-i[r-n-1],i[r-n-1]=-h}},c.prototype.normalize13b=function(t,i){for(var r=0,n=0;n<i/2;n++){var h=8192*Math.round(t[2*n+1]/i)+Math.round(t[2*n]/i)+r;t[n]=67108863&h,r=h<67108864?0:h/67108864|0}return t},c.prototype.convert13b=function(t,i,n,h){for(var e=0,o=0;o<i;o++)e+=0|t[o],n[2*o]=8191&e,e>>>=13,n[2*o+1]=8191&e,e>>>=13;for(o=2*i;o<h;++o)n[o]=0;r(0===e),r(0==(-8192&e))},c.prototype.stub=function(t){for(var i=new Array(t),r=0;r<t;r++)i[r]=0;return i},c.prototype.mulp=function(t,i,r){var n=2*this.guessLen13b(t.length,i.length),h=this.makeRBT(n),e=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),a=new Array(n),l=new Array(n),m=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(i.words,i.length,a,n),this.transform(o,e,s,u,n,h),this.transform(a,e,l,m,n,h);for(var p=0;p<n;p++){var M=s[p]*l[p]-u[p]*m[p];u[p]=s[p]*m[p]+u[p]*l[p],s[p]=M}return this.conjugate(s,u,n),this.transform(s,u,f,e,n,h),this.conjugate(f,e,n),this.normalize13b(f,n),r.negative=t.negative^i.negative,r.length=t.length+i.length,r.strip()},h.prototype.mul=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},h.prototype.mulf=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),g(this,t,i)},h.prototype.imul=function(t){return this.clone().mulTo(t,this)},h.prototype.imuln=function(t){r('number'==typeof t),r(t<67108864);for(var i=0,n=0;n<this.length;n++){var h=(0|this.words[n])*t,e=(67108863&h)+(67108863&i);i>>=26,i+=h/67108864|0,i+=e>>>26,this.words[n]=67108863&e}return 0!==i&&(this.words[n]=i,this.length++),this},h.prototype.muln=function(t){return this.clone().imuln(t)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(t){var i=f(t);if(0===i.length)return new h(1);for(var r=this,n=0;n<i.length&&0===i[n];n++,r=r.sqr());if(++n<i.length)for(var e=r.sqr();n<i.length;n++,e=e.sqr())0!==i[n]&&(r=r.mul(e));return r},h.prototype.iushln=function(t){r('number'==typeof t&&t>=0);var i,n=t%26,h=(t-n)/26,e=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(i=0;i<this.length;i++){var s=this.words[i]&e,u=(0|this.words[i])-s<<n;this.words[i]=u|o,o=s>>>26-n}o&&(this.words[i]=o,this.length++)}if(0!==h){for(i=this.length-1;i>=0;i--)this.words[i+h]=this.words[i];for(i=0;i<h;i++)this.words[i]=0;this.length+=h}return this.strip()},h.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},h.prototype.iushrn=function(t,i,n){var h;r('number'==typeof t&&t>=0),h=i?(i-i%26)/26:0;var e=t%26,o=Math.min((t-e)/26,this.length),s=67108863^67108863>>>e<<e,u=n;if(h-=o,h=Math.max(0,h),u){for(var a=0;a<o;a++)u.words[a]=this.words[a];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,a=0;a<this.length;a++)this.words[a]=this.words[a+o];else this.words[0]=0,this.length=1;var l=0;for(a=this.length-1;a>=0&&(0!==l||a>=h);a--){var m=0|this.words[a];this.words[a]=l<<26-e|m>>>e,l=m&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},h.prototype.ishrn=function(t,i,n){return r(0===this.negative),this.iushrn(t,i,n)},h.prototype.shln=function(t){return this.clone().ishln(t)},h.prototype.ushln=function(t){return this.clone().iushln(t)},h.prototype.shrn=function(t){return this.clone().ishrn(t)},h.prototype.ushrn=function(t){return this.clone().iushrn(t)},h.prototype.testn=function(t){r('number'==typeof t&&t>=0);var i=t%26,n=(t-i)/26,h=1<<i;return!(this.length<=n)&&!!(this.words[n]&h)},h.prototype.imaskn=function(t){r('number'==typeof t&&t>=0);var i=t%26,n=(t-i)/26;if(r(0===this.negative,'imaskn works only with positive numbers'),this.length<=n)return this;if(0!==i&&n++,this.length=Math.min(n,this.length),0!==i){var h=67108863^67108863>>>i<<i;this.words[this.length-1]&=h}return this.strip()},h.prototype.maskn=function(t){return this.clone().imaskn(t)},h.prototype.iaddn=function(t){return r('number'==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},h.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},h.prototype.isubn=function(t){if(r('number'==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},h.prototype.addn=function(t){return this.clone().iaddn(t)},h.prototype.subn=function(t){return this.clone().isubn(t)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(t,i,n){var h,e,o=t.length+n;this._expand(o);var s=0;for(h=0;h<t.length;h++){e=(0|this.words[h+n])+s;var u=(0|t.words[h])*i;s=((e-=67108863&u)>>26)-(u/67108864|0),this.words[h+n]=67108863&e}for(;h<this.length-n;h++)s=(e=(0|this.words[h+n])+s)>>26,this.words[h+n]=67108863&e;if(0===s)return this.strip();for(r(-1===s),s=0,h=0;h<this.length;h++)s=(e=-(0|this.words[h])+s)>>26,this.words[h]=67108863&e;return this.negative=1,this.strip()},h.prototype._wordDiv=function(t,i){var r=(this.length,t.length),n=this.clone(),e=t,o=0|e.words[e.length-1];0!==(r=26-this._countBits(o))&&(e=e.ushln(r),n.iushln(r),o=0|e.words[e.length-1]);var s,u=n.length-e.length;if('mod'!==i){(s=new h(null)).length=u+1,s.words=new Array(s.length);for(var a=0;a<s.length;a++)s.words[a]=0}var l=n.clone()._ishlnsubmul(e,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var m=u-1;m>=0;m--){var f=67108864*(0|n.words[e.length+m])+(0|n.words[e.length+m-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(e,f,m);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(e,1,m),n.isZero()||(n.negative^=1);s&&(s.words[m]=f)}return s&&s.strip(),n.strip(),'div'!==i&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},h.prototype.divmod=function(t,i,n){return r(!t.isZero()),this.isZero()?{div:new h(0),mod:new h(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,i),'mod'!==i&&(e=s.div.neg()),'div'!==i&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:e,mod:o}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),i),'mod'!==i&&(e=s.div.neg()),{div:e,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),i),'div'!==i&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:s.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new h(0),mod:this}:1===t.length?'div'===i?{div:this.divn(t.words[0]),mod:null}:'mod'===i?{div:null,mod:new h(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new h(this.modn(t.words[0]))}:this._wordDiv(t,i);var e,o,s},h.prototype.div=function(t){return this.divmod(t,'div',!1).div},h.prototype.mod=function(t){return this.divmod(t,'mod',!1).mod},h.prototype.umod=function(t){return this.divmod(t,'mod',!0).mod},h.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var r=0!==i.div.negative?i.mod.isub(t):i.mod,n=t.ushrn(1),h=t.andln(1),e=r.cmp(n);return e<0||1===h&&0===e?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},h.prototype.modn=function(t){r(t<=67108863);for(var i=67108864%t,n=0,h=this.length-1;h>=0;h--)n=(i*n+(0|this.words[h]))%t;return n},h.prototype.idivn=function(t){r(t<=67108863);for(var i=0,n=this.length-1;n>=0;n--){var h=(0|this.words[n])+67108864*i;this.words[n]=h/t|0,i=h%t}return this.strip()},h.prototype.divn=function(t){return this.clone().idivn(t)},h.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var i=this,n=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e=new h(1),o=new h(0),s=new h(0),u=new h(1),a=0;i.isEven()&&n.isEven();)i.iushrn(1),n.iushrn(1),++a;for(var l=n.clone(),m=i.clone();!i.isZero();){for(var f=0,p=1;0==(i.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(i.iushrn(f);f-- >0;)(e.isOdd()||o.isOdd())&&(e.iadd(l),o.isub(m)),e.iushrn(1),o.iushrn(1);for(var M=0,v=1;0==(n.words[0]&v)&&M<26;++M,v<<=1);if(M>0)for(n.iushrn(M);M-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(m)),s.iushrn(1),u.iushrn(1);i.cmp(n)>=0?(i.isub(n),e.isub(s),o.isub(u)):(n.isub(i),s.isub(e),u.isub(o))}return{a:s,b:u,gcd:n.iushln(a)}},h.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var i=this,n=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e,o=new h(1),s=new h(0),u=n.clone();i.cmpn(1)>0&&n.cmpn(1)>0;){for(var a=0,l=1;0==(i.words[0]&l)&&a<26;++a,l<<=1);if(a>0)for(i.iushrn(a);a-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var m=0,f=1;0==(n.words[0]&f)&&m<26;++m,f<<=1);if(m>0)for(n.iushrn(m);m-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);i.cmp(n)>=0?(i.isub(n),o.isub(s)):(n.isub(i),s.isub(o))}return(e=0===i.cmpn(1)?o:s).cmpn(0)<0&&e.iadd(t),e},h.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),r=t.clone();i.negative=0,r.negative=0;for(var n=0;i.isEven()&&r.isEven();n++)i.iushrn(1),r.iushrn(1);for(;;){for(;i.isEven();)i.iushrn(1);for(;r.isEven();)r.iushrn(1);var h=i.cmp(r);if(h<0){var e=i;i=r,r=e}else if(0===h||0===r.cmpn(1))break;i.isub(r)}return r.iushln(n)},h.prototype.invm=function(t){return this.egcd(t).a.umod(t)},h.prototype.isEven=function(){return 0==(1&this.words[0])},h.prototype.isOdd=function(){return 1==(1&this.words[0])},h.prototype.andln=function(t){return this.words[0]&t},h.prototype.bincn=function(t){r('number'==typeof t);var i=t%26,n=(t-i)/26,h=1<<i;if(this.length<=n)return this._expand(n+1),this.words[n]|=h,this;for(var e=h,o=n;0!==e&&o<this.length;o++){var s=0|this.words[o];e=(s+=e)>>>26,s&=67108863,this.words[o]=s}return 0!==e&&(this.words[o]=e,this.length++),this},h.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},h.prototype.cmpn=function(t){var i,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)i=1;else{n&&(t=-t),r(t<=67108863,'Number is too big');var h=0|this.words[0];i=h===t?0:h<t?-1:1}return 0!==this.negative?0|-i:i},h.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var i=this.ucmp(t);return 0!==this.negative?0|-i:i},h.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],h=0|t.words[r];if(n!==h){n<h?i=-1:n>h&&(i=1);break}}return i},h.prototype.gtn=function(t){return 1===this.cmpn(t)},h.prototype.gt=function(t){return 1===this.cmp(t)},h.prototype.gten=function(t){return this.cmpn(t)>=0},h.prototype.gte=function(t){return this.cmp(t)>=0},h.prototype.ltn=function(t){return-1===this.cmpn(t)},h.prototype.lt=function(t){return-1===this.cmp(t)},h.prototype.lten=function(t){return this.cmpn(t)<=0},h.prototype.lte=function(t){return this.cmp(t)<=0},h.prototype.eqn=function(t){return 0===this.cmpn(t)},h.prototype.eq=function(t){return 0===this.cmp(t)},h.red=function(t){return new x(t)},h.prototype.toRed=function(t){return r(!this.red,'Already a number in reduction context'),r(0===this.negative,'red works only with positives'),t.convertTo(this)._forceRed(t)},h.prototype.fromRed=function(){return r(this.red,'fromRed works only with numbers in reduction context'),this.red.convertFrom(this)},h.prototype._forceRed=function(t){return this.red=t,this},h.prototype.forceRed=function(t){return r(!this.red,'Already a number in reduction context'),this._forceRed(t)},h.prototype.redAdd=function(t){return r(this.red,'redAdd works only with red numbers'),this.red.add(this,t)},h.prototype.redIAdd=function(t){return r(this.red,'redIAdd works only with red numbers'),this.red.iadd(this,t)},h.prototype.redSub=function(t){return r(this.red,'redSub works only with red numbers'),this.red.sub(this,t)},h.prototype.redISub=function(t){return r(this.red,'redISub works only with red numbers'),this.red.isub(this,t)},h.prototype.redShl=function(t){return r(this.red,'redShl works only with red numbers'),this.red.shl(this,t)},h.prototype.redMul=function(t){return r(this.red,'redMul works only with red numbers'),this.red._verify2(this,t),this.red.mul(this,t)},h.prototype.redIMul=function(t){return r(this.red,'redMul works only with red numbers'),this.red._verify2(this,t),this.red.imul(this,t)},h.prototype.redSqr=function(){return r(this.red,'redSqr works only with red numbers'),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return r(this.red,'redISqr works only with red numbers'),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return r(this.red,'redSqrt works only with red numbers'),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return r(this.red,'redInvm works only with red numbers'),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return r(this.red,'redNeg works only with red numbers'),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(t){return r(this.red&&!t.red,'redPow(normalNum)'),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function y(t,i){this.name=t,this.p=new h(i,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,'k256','ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f')}function _(){y.call(this,'p224','ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001')}function k(){y.call(this,'p192','ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff')}function A(){y.call(this,'25519','7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed')}function x(t){if('string'==typeof t){var i=h._prime(t);this.m=i.p,this.prime=i}else r(t.gtn(1),'modulus must be greater than 1'),this.m=t,this.prime=null}function S(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new h(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var i,r=t;do{this.split(r,this.tmp),i=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(i>this.n);var n=i<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,i){t.iushrn(this.n,0,i)},y.prototype.imulK=function(t){return t.imul(this.k)},n(b,y),b.prototype.split=function(t,i){for(var r=Math.min(t.length,9),n=0;n<r;n++)i.words[n]=t.words[n];if(i.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var h=t.words[9];for(i.words[i.length++]=4194303&h,n=10;n<t.length;n++){var e=0|t.words[n];t.words[n-10]=(4194303&e)<<4|h>>>22,h=e}h>>>=22,t.words[n-10]=h,0===h&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,r=0;r<t.length;r++){var n=0|t.words[r];i+=977*n,t.words[r]=67108863&i,i=64*n+(i/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(_,y),n(k,y),n(A,y),A.prototype.imulK=function(t){for(var i=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+i,h=67108863&n;n>>>=26,t.words[r]=h,i=n}return 0!==i&&(t.words[t.length++]=i),t},h._prime=function(t){if(w[t])return w[t];var i;if('k256'===t)i=new b;else if('p224'===t)i=new _;else if('p192'===t)i=new k;else{if('p25519'!==t)throw new Error('Unknown prime '+t);i=new A}return w[t]=i,i},x.prototype._verify1=function(t){r(0===t.negative,'red works only with positives'),r(t.red,'red works only with red numbers')},x.prototype._verify2=function(t,i){r(0==(t.negative|i.negative),'red works only with positives'),r(t.red&&t.red===i.red,'red works only with red numbers')},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,i){this._verify2(t,i);var r=t.add(i);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(t,i){this._verify2(t,i);var r=t.iadd(i);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(t,i){this._verify2(t,i);var r=t.sub(i);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(t,i){this._verify2(t,i);var r=t.isub(i);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},x.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},x.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(r(i%2==1),3===i){var n=this.m.add(new h(1)).iushrn(2);return this.pow(t,n)}for(var e=this.m.subn(1),o=0;!e.isZero()&&0===e.andln(1);)o++,e.iushrn(1);r(!e.isZero());var s=new h(1).toRed(this),u=s.redNeg(),a=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new h(2*l*l).toRed(this);0!==this.pow(l,a).cmp(u);)l.redIAdd(u);for(var m=this.pow(l,e),f=this.pow(t,e.addn(1).iushrn(1)),p=this.pow(t,e),M=o;0!==p.cmp(s);){for(var v=p,g=0;0!==v.cmp(s);g++)v=v.redSqr();r(g<M);var c=this.pow(m,new h(1).iushln(M-g-1));f=f.redMul(c),m=c.redSqr(),p=p.redMul(m),M=g}return f},x.prototype.invm=function(t){var i=t._invmp(this.m);return 0!==i.negative?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},x.prototype.pow=function(t,i){if(i.isZero())return new h(1).toRed(this);if(0===i.cmpn(1))return t.clone();var r=new Array(16);r[0]=new h(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var e=r[0],o=0,s=0,u=i.bitLength()%26;for(0===u&&(u=26),n=i.length-1;n>=0;n--){for(var a=i.words[n],l=u-1;l>=0;l--){var m=a>>l&1;e!==r[0]&&(e=this.sqr(e)),0!==m||0!==o?(o<<=1,o|=m,(4===++s||0===n&&0===l)&&(e=this.mul(e,r[o]),s=0,o=0)):s=0}u=26}return e},x.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},x.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},h.mont=function(t){return new S(t)},n(S,x),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},S.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=r.isub(n).iushrn(this.shift),e=h;return h.cmp(this.m)>=0?e=h.isub(this.m):h.cmpn(0)<0&&(e=h.iadd(this.m)),e._forceRed(this)},S.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new h(0)._forceRed(this);var r=t.mul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=r.isub(n).iushrn(this.shift),o=e;return e.cmp(this.m)>=0?o=e.isub(this.m):e.cmpn(0)<0&&(o=e.iadd(this.m)),o._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}})(void 0===_m||_m,this)},581,[476]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=e;s.base=r(d[0]),s.short=r(d[1]),s.mont=r(d[2]),s.edwards=r(d[3])},582,[583,584,585,586]);
__d(function(g,_r,_i,_a,m,e,d){'use strict';function t(t,n){this.type=t,this.p=new(_r(d[0]))(n.p,16),this.red=n.prime?_r(d[0]).red(n.prime):_r(d[0]).mont(this.p),this.zero=new(_r(d[0]))(0).toRed(this.red),this.one=new(_r(d[0]))(1).toRed(this.red),this.two=new(_r(d[0]))(2).toRed(this.red),this.n=n.n&&new(_r(d[0]))(n.n,16),this.g=n.g&&this.pointFromJSON(n.g,n.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function n(t,n){this.curve=t,this.type=n,this.precomputed=null}m.exports=t,t.prototype.point=function(){throw new Error('Not implemented')},t.prototype.validate=function(){throw new Error('Not implemented')},t.prototype._fixedNafMul=function(t,n){_r(d[1]).assert(t.precomputed);var r=t._getDoubles(),i=_r(d[1]).getNAF(n,1,this._bitLength),o=(1<<r.step+1)-(r.step%2==0?2:1);o/=3;var s,p,h=[];for(s=0;s<i.length;s+=r.step){p=0;for(var u=s+r.step-1;u>=s;u--)p=(p<<1)+i[u];h.push(p)}for(var a=this.jpoint(null,null,null),l=this.jpoint(null,null,null),f=o;f>0;f--){for(s=0;s<h.length;s++)(p=h[s])===f?l=l.mixedAdd(r.points[s]):p===-f&&(l=l.mixedAdd(r.points[s].neg()));a=a.add(l)}return a.toP()},t.prototype._wnafMul=function(t,n){var r=4,i=t._getNAFPoints(r);r=i.wnd;for(var o=i.points,s=_r(d[1]).getNAF(n,r,this._bitLength),p=this.jpoint(null,null,null),h=s.length-1;h>=0;h--){for(var u=0;h>=0&&0===s[h];h--)u++;if(h>=0&&u++,p=p.dblp(u),h<0)break;var a=s[h];_r(d[1]).assert(0!==a),p='affine'===t.type?a>0?p.mixedAdd(o[a-1>>1]):p.mixedAdd(o[-a-1>>1].neg()):a>0?p.add(o[a-1>>1]):p.add(o[-a-1>>1].neg())}return'affine'===t.type?p.toP():p},t.prototype._wnafMulAdd=function(t,n,r,i,o){var s,p,h,u=this._wnafT1,a=this._wnafT2,l=this._wnafT3,f=0;for(s=0;s<i;s++){var c=(h=n[s])._getNAFPoints(t);u[s]=c.wnd,a[s]=c.points}for(s=i-1;s>=1;s-=2){var y=s-1,v=s;if(1===u[y]&&1===u[v]){var w=[n[y],null,null,n[v]];0===n[y].y.cmp(n[v].y)?(w[1]=n[y].add(n[v]),w[2]=n[y].toJ().mixedAdd(n[v].neg())):0===n[y].y.cmp(n[v].y.redNeg())?(w[1]=n[y].toJ().mixedAdd(n[v]),w[2]=n[y].add(n[v].neg())):(w[1]=n[y].toJ().mixedAdd(n[v]),w[2]=n[y].toJ().mixedAdd(n[v].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],_=_r(d[1]).getJSF(r[y],r[v]);for(f=Math.max(_[0].length,f),l[y]=new Array(f),l[v]=new Array(f),p=0;p<f;p++){var A=0|_[0][p],N=0|_[1][p];l[y][p]=b[3*(A+1)+(N+1)],l[v][p]=0,a[y]=w}}else l[y]=_r(d[1]).getNAF(r[y],u[y],this._bitLength),l[v]=_r(d[1]).getNAF(r[v],u[v],this._bitLength),f=Math.max(l[y].length,f),f=Math.max(l[v].length,f)}var x=this.jpoint(null,null,null),F=this._wnafT4;for(s=f;s>=0;s--){for(var L=0;s>=0;){var P=!0;for(p=0;p<i;p++)F[p]=0|l[p][s],0!==F[p]&&(P=!1);if(!P)break;L++,s--}if(s>=0&&L++,x=x.dblp(L),s<0)break;for(p=0;p<i;p++){var T=F[p];0!==T&&(T>0?h=a[p][T-1>>1]:T<0&&(h=a[p][-T-1>>1].neg()),x='affine'===h.type?x.mixedAdd(h):x.add(h))}}for(s=0;s<i;s++)a[s]=null;return o?x:x.toP()},t.BasePoint=n,n.prototype.eq=function(){throw new Error('Not implemented')},n.prototype.validate=function(){return this.curve.validate(this)},t.prototype.decodePoint=function(t,n){t=_r(d[1]).toArray(t,n);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?_r(d[1]).assert(t[t.length-1]%2==0):7===t[0]&&_r(d[1]).assert(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error('Unknown point format')},n.prototype.encodeCompressed=function(t){return this.encode(t,!0)},n.prototype._encode=function(t){var n=this.curve.p.byteLength(),r=this.getX().toArray('be',n);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray('be',n))},n.prototype.encode=function(t,n){return _r(d[1]).encode(this._encode(n),t)},n.prototype.precompute=function(t){if(this.precomputed)return this;var n={doubles:null,naf:null,beta:null};return n.naf=this._getNAFPoints(8),n.doubles=this._getDoubles(4,t),n.beta=this._getBeta(),this.precomputed=n,this},n.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var n=this.precomputed.doubles;return!!n&&n.points.length>=Math.ceil((t.bitLength()+1)/n.step)},n.prototype._getDoubles=function(t,n){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,o=0;o<n;o+=t){for(var s=0;s<t;s++)i=i.dbl();r.push(i)}return{step:t,points:r}},n.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var n=[this],r=(1<<t)-1,i=1===r?null:this.dbl(),o=1;o<r;o++)n[o]=n[o-1].add(i);return{wnd:t,points:n}},n.prototype._getBeta=function(){return null},n.prototype.dblp=function(t){for(var n=this,r=0;r<t;r++)n=n.dbl();return n}},583,[581,579]);
__d(function(g,_r,_i,_a,_m,_e,_d){'use strict';function r(r){_r(_d[0]).call(this,'short',r),this.a=new(_r(_d[1]))(r.a,16).toRed(this.red),this.b=new(_r(_d[1]))(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function e(r,e,t,d){_r(_d[0]).BasePoint.call(this,r,'affine'),null===e&&null===t?(this.x=null,this.y=null,this.inf=!0):(this.x=new(_r(_d[1]))(e,16),this.y=new(_r(_d[1]))(t,16),d&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function t(r,e,t,d){_r(_d[0]).BasePoint.call(this,r,'jacobian'),null===e&&null===t&&null===d?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(_r(_d[1]))(0)):(this.x=new(_r(_d[1]))(e,16),this.y=new(_r(_d[1]))(t,16),this.z=new(_r(_d[1]))(d,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}_r(_d[2])(r,_r(_d[0])),_m.exports=r,r.prototype._getEndomorphism=function(r){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,t;if(r.beta)e=new(_r(_d[1]))(r.beta,16).toRed(this.red);else{var d=this._getEndoRoots(this.p);e=(e=d[0].cmp(d[1])<0?d[0]:d[1]).toRed(this.red)}if(r.lambda)t=new(_r(_d[1]))(r.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?t=i[0]:(t=i[1],_r(_d[3]).assert(0===this.g.mul(t).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:t,basis:r.basis?r.basis.map(function(r){return{a:new(_r(_d[1]))(r.a,16),b:new(_r(_d[1]))(r.b,16)}}):this._getEndoBasis(t)}}},r.prototype._getEndoRoots=function(r){var e=r===this.p?this.red:_r(_d[1]).mont(r),t=new(_r(_d[1]))(2).toRed(e).redInvm(),d=t.redNeg(),i=new(_r(_d[1]))(3).toRed(e).redNeg().redSqrt().redMul(t);return[d.redAdd(i).fromRed(),d.redSub(i).fromRed()]},r.prototype._getEndoBasis=function(r){for(var e,t,d,i,n,u,s,o,h,p=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=r,a=this.n.clone(),f=new(_r(_d[1]))(1),c=new(_r(_d[1]))(0),S=new(_r(_d[1]))(0),b=new(_r(_d[1]))(1),v=0;0!==l.cmpn(0);){var I=a.div(l);o=a.sub(I.mul(l)),h=S.sub(I.mul(f));var y=b.sub(I.mul(c));if(!d&&o.cmp(p)<0)e=s.neg(),t=f,d=o.neg(),i=h;else if(d&&2==++v)break;s=o,a=l,l=o,S=f,f=h,b=c,c=y}n=o.neg(),u=h;var A=d.sqr().add(i.sqr());return n.sqr().add(u.sqr()).cmp(A)>=0&&(n=e,u=t),d.negative&&(d=d.neg(),i=i.neg()),n.negative&&(n=n.neg(),u=u.neg()),[{a:d,b:i},{a:n,b:u}]},r.prototype._endoSplit=function(r){var e=this.endo.basis,t=e[0],d=e[1],i=d.b.mul(r).divRound(this.n),n=t.b.neg().mul(r).divRound(this.n),u=i.mul(t.a),s=n.mul(d.a),o=i.mul(t.b),h=n.mul(d.b);return{k1:r.sub(u).sub(s),k2:o.add(h).neg()}},r.prototype.pointFromX=function(r,e){(r=new(_r(_d[1]))(r,16)).red||(r=r.toRed(this.red));var t=r.redSqr().redMul(r).redIAdd(r.redMul(this.a)).redIAdd(this.b),d=t.redSqrt();if(0!==d.redSqr().redSub(t).cmp(this.zero))throw new Error('invalid point');var i=d.fromRed().isOdd();return(e&&!i||!e&&i)&&(d=d.redNeg()),this.point(r,d)},r.prototype.validate=function(r){if(r.inf)return!0;var e=r.x,t=r.y,d=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(d).redIAdd(this.b);return 0===t.redSqr().redISub(i).cmpn(0)},r.prototype._endoWnafMulAdd=function(r,e,t){for(var d=this._endoWnafT1,i=this._endoWnafT2,n=0;n<r.length;n++){var u=this._endoSplit(e[n]),s=r[n],o=s._getBeta();u.k1.negative&&(u.k1.ineg(),s=s.neg(!0)),u.k2.negative&&(u.k2.ineg(),o=o.neg(!0)),d[2*n]=s,d[2*n+1]=o,i[2*n]=u.k1,i[2*n+1]=u.k2}for(var h=this._wnafMulAdd(1,d,i,2*n,t),p=0;p<2*n;p++)d[p]=null,i[p]=null;return h},_r(_d[2])(e,_r(_d[0]).BasePoint),r.prototype.point=function(r,t,d){return new e(this,r,t,d)},r.prototype.pointFromJSON=function(r,t){return e.fromJSON(this,r,t)},e.prototype._getBeta=function(){if(this.curve.endo){var r=this.precomputed;if(r&&r.beta)return r.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(r){var t=this.curve,d=function(r){return t.point(r.x.redMul(t.endo.beta),r.y)};r.beta=e,e.precomputed={beta:null,naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(d)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(d)}}}return e}},e.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},e.fromJSON=function(r,e,t){'string'==typeof e&&(e=JSON.parse(e));var d=r.point(e[0],e[1],t);if(!e[2])return d;function i(e){return r.point(e[0],e[1],t)}var n=e[2];return d.precomputed={beta:null,doubles:n.doubles&&{step:n.doubles.step,points:[d].concat(n.doubles.points.map(i))},naf:n.naf&&{wnd:n.naf.wnd,points:[d].concat(n.naf.points.map(i))}},d},e.prototype.inspect=function(){return this.isInfinity()?'<EC Point Infinity>':'<EC Point x: '+this.x.fromRed().toString(16,2)+' y: '+this.y.fromRed().toString(16,2)+'>'},e.prototype.isInfinity=function(){return this.inf},e.prototype.add=function(r){if(this.inf)return r;if(r.inf)return this;if(this.eq(r))return this.dbl();if(this.neg().eq(r))return this.curve.point(null,null);if(0===this.x.cmp(r.x))return this.curve.point(null,null);var e=this.y.redSub(r.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(r.x).redInvm()));var t=e.redSqr().redISub(this.x).redISub(r.x),d=e.redMul(this.x.redSub(t)).redISub(this.y);return this.curve.point(t,d)},e.prototype.dbl=function(){if(this.inf)return this;var r=this.y.redAdd(this.y);if(0===r.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,t=this.x.redSqr(),d=r.redInvm(),i=t.redAdd(t).redIAdd(t).redIAdd(e).redMul(d),n=i.redSqr().redISub(this.x.redAdd(this.x)),u=i.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,u)},e.prototype.getX=function(){return this.x.fromRed()},e.prototype.getY=function(){return this.y.fromRed()},e.prototype.mul=function(r){return r=new(_r(_d[1]))(r,16),this.isInfinity()?this:this._hasDoubles(r)?this.curve._fixedNafMul(this,r):this.curve.endo?this.curve._endoWnafMulAdd([this],[r]):this.curve._wnafMul(this,r)},e.prototype.mulAdd=function(r,e,t){var d=[this,e],i=[r,t];return this.curve.endo?this.curve._endoWnafMulAdd(d,i):this.curve._wnafMulAdd(1,d,i,2)},e.prototype.jmulAdd=function(r,e,t){var d=[this,e],i=[r,t];return this.curve.endo?this.curve._endoWnafMulAdd(d,i,!0):this.curve._wnafMulAdd(1,d,i,2,!0)},e.prototype.eq=function(r){return this===r||this.inf===r.inf&&(this.inf||0===this.x.cmp(r.x)&&0===this.y.cmp(r.y))},e.prototype.neg=function(r){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(r&&this.precomputed){var t=this.precomputed,d=function(r){return r.neg()};e.precomputed={naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(d)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(d)}}}return e},e.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},_r(_d[2])(t,_r(_d[0]).BasePoint),r.prototype.jpoint=function(r,e,d){return new t(this,r,e,d)},t.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var r=this.z.redInvm(),e=r.redSqr(),t=this.x.redMul(e),d=this.y.redMul(e).redMul(r);return this.curve.point(t,d)},t.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},t.prototype.add=function(r){if(this.isInfinity())return r;if(r.isInfinity())return this;var e=r.z.redSqr(),t=this.z.redSqr(),d=this.x.redMul(e),i=r.x.redMul(t),n=this.y.redMul(e.redMul(r.z)),u=r.y.redMul(t.redMul(this.z)),s=d.redSub(i),o=n.redSub(u);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=s.redSqr(),p=h.redMul(s),l=d.redMul(h),a=o.redSqr().redIAdd(p).redISub(l).redISub(l),f=o.redMul(l.redISub(a)).redISub(n.redMul(p)),c=this.z.redMul(r.z).redMul(s);return this.curve.jpoint(a,f,c)},t.prototype.mixedAdd=function(r){if(this.isInfinity())return r.toJ();if(r.isInfinity())return this;var e=this.z.redSqr(),t=this.x,d=r.x.redMul(e),i=this.y,n=r.y.redMul(e).redMul(this.z),u=t.redSub(d),s=i.redSub(n);if(0===u.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var o=u.redSqr(),h=o.redMul(u),p=t.redMul(o),l=s.redSqr().redIAdd(h).redISub(p).redISub(p),a=s.redMul(p.redISub(l)).redISub(i.redMul(h)),f=this.z.redMul(u);return this.curve.jpoint(l,a,f)},t.prototype.dblp=function(r){if(0===r)return this;if(this.isInfinity())return this;if(!r)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var t=this;for(e=0;e<r;e++)t=t.dbl();return t}var d=this.curve.a,i=this.curve.tinv,n=this.x,u=this.y,s=this.z,o=s.redSqr().redSqr(),h=u.redAdd(u);for(e=0;e<r;e++){var p=n.redSqr(),l=h.redSqr(),a=l.redSqr(),f=p.redAdd(p).redIAdd(p).redIAdd(d.redMul(o)),c=n.redMul(l),S=f.redSqr().redISub(c.redAdd(c)),b=c.redISub(S),v=f.redMul(b);v=v.redIAdd(v).redISub(a);var I=h.redMul(s);e+1<r&&(o=o.redMul(a)),n=S,s=I,h=v}return this.curve.jpoint(n,h.redMul(i),s)},t.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},t.prototype._zeroDbl=function(){var r,e,t;if(this.zOne){var d=this.x.redSqr(),i=this.y.redSqr(),n=i.redSqr(),u=this.x.redAdd(i).redSqr().redISub(d).redISub(n);u=u.redIAdd(u);var s=d.redAdd(d).redIAdd(d),o=s.redSqr().redISub(u).redISub(u),h=n.redIAdd(n);h=(h=h.redIAdd(h)).redIAdd(h),r=o,e=s.redMul(u.redISub(o)).redISub(h),t=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),l=this.y.redSqr(),a=l.redSqr(),f=this.x.redAdd(l).redSqr().redISub(p).redISub(a);f=f.redIAdd(f);var c=p.redAdd(p).redIAdd(p),S=c.redSqr(),b=a.redIAdd(a);b=(b=b.redIAdd(b)).redIAdd(b),r=S.redISub(f).redISub(f),e=c.redMul(f.redISub(r)).redISub(b),t=(t=this.y.redMul(this.z)).redIAdd(t)}return this.curve.jpoint(r,e,t)},t.prototype._threeDbl=function(){var r,e,t;if(this.zOne){var d=this.x.redSqr(),i=this.y.redSqr(),n=i.redSqr(),u=this.x.redAdd(i).redSqr().redISub(d).redISub(n);u=u.redIAdd(u);var s=d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),o=s.redSqr().redISub(u).redISub(u);r=o;var h=n.redIAdd(n);h=(h=h.redIAdd(h)).redIAdd(h),e=s.redMul(u.redISub(o)).redISub(h),t=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),l=this.y.redSqr(),a=this.x.redMul(l),f=this.x.redSub(p).redMul(this.x.redAdd(p));f=f.redAdd(f).redIAdd(f);var c=a.redIAdd(a),S=(c=c.redIAdd(c)).redAdd(c);r=f.redSqr().redISub(S),t=this.y.redAdd(this.z).redSqr().redISub(l).redISub(p);var b=l.redSqr();b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b),e=f.redMul(c.redISub(r)).redISub(b)}return this.curve.jpoint(r,e,t)},t.prototype._dbl=function(){var r=this.curve.a,e=this.x,t=this.y,d=this.z,i=d.redSqr().redSqr(),n=e.redSqr(),u=t.redSqr(),s=n.redAdd(n).redIAdd(n).redIAdd(r.redMul(i)),o=e.redAdd(e),h=(o=o.redIAdd(o)).redMul(u),p=s.redSqr().redISub(h.redAdd(h)),l=h.redISub(p),a=u.redSqr();a=(a=(a=a.redIAdd(a)).redIAdd(a)).redIAdd(a);var f=s.redMul(l).redISub(a),c=t.redAdd(t).redMul(d);return this.curve.jpoint(p,f,c)},t.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var r=this.x.redSqr(),e=this.y.redSqr(),t=this.z.redSqr(),d=e.redSqr(),i=r.redAdd(r).redIAdd(r),n=i.redSqr(),u=this.x.redAdd(e).redSqr().redISub(r).redISub(d),s=(u=(u=(u=u.redIAdd(u)).redAdd(u).redIAdd(u)).redISub(n)).redSqr(),o=d.redIAdd(d);o=(o=(o=o.redIAdd(o)).redIAdd(o)).redIAdd(o);var h=i.redIAdd(u).redSqr().redISub(n).redISub(s).redISub(o),p=e.redMul(h);p=(p=p.redIAdd(p)).redIAdd(p);var l=this.x.redMul(s).redISub(p);l=(l=l.redIAdd(l)).redIAdd(l);var a=this.y.redMul(h.redMul(o.redISub(h)).redISub(u.redMul(s)));a=(a=(a=a.redIAdd(a)).redIAdd(a)).redIAdd(a);var f=this.z.redAdd(u).redSqr().redISub(t).redISub(s);return this.curve.jpoint(l,a,f)},t.prototype.mul=function(r,e){return r=new(_r(_d[1]))(r,e),this.curve._wnafMul(this,r)},t.prototype.eq=function(r){if('affine'===r.type)return this.eq(r.toJ());if(this===r)return!0;var e=this.z.redSqr(),t=r.z.redSqr();if(0!==this.x.redMul(t).redISub(r.x.redMul(e)).cmpn(0))return!1;var d=e.redMul(this.z),i=t.redMul(r.z);return 0===this.y.redMul(i).redISub(r.y.redMul(d)).cmpn(0)},t.prototype.eqXToP=function(r){var e=this.z.redSqr(),t=r.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(t))return!0;for(var d=r.clone(),i=this.curve.redN.redMul(e);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}},t.prototype.inspect=function(){return this.isInfinity()?'<EC JPoint Infinity>':'<EC JPoint x: '+this.x.toString(16,2)+' y: '+this.y.toString(16,2)+' z: '+this.z.toString(16,2)+'>'},t.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},584,[583,581,475,579]);
__d(function(g,r,_i,_a,m,e,_d){'use strict';function t(t){r(_d[0]).call(this,'mont',t),this.a=new(r(_d[1]))(t.a,16).toRed(this.red),this.b=new(r(_d[1]))(t.b,16).toRed(this.red),this.i4=new(r(_d[1]))(4).toRed(this.red).redInvm(),this.two=new(r(_d[1]))(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function o(t,o,i){r(_d[0]).BasePoint.call(this,t,'projective'),null===o&&null===i?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new(r(_d[1]))(o,16),this.z=new(r(_d[1]))(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}r(_d[2])(t,r(_d[0])),m.exports=t,t.prototype.validate=function(t){var o=t.normalize().x,i=o.redSqr(),n=i.redMul(o).redAdd(i.redMul(this.a)).redAdd(o);return 0===n.redSqrt().redSqr().cmp(n)},r(_d[2])(o,r(_d[0]).BasePoint),t.prototype.decodePoint=function(t,o){return this.point(r(_d[3]).toArray(t,o),1)},t.prototype.point=function(t,i){return new o(this,t,i)},t.prototype.pointFromJSON=function(t){return o.fromJSON(this,t)},o.prototype.precompute=function(){},o.prototype._encode=function(){return this.getX().toArray('be',this.curve.p.byteLength())},o.fromJSON=function(t,i){return new o(t,i[0],i[1]||t.one)},o.prototype.inspect=function(){return this.isInfinity()?'<EC Point Infinity>':'<EC Point x: '+this.x.fromRed().toString(16,2)+' z: '+this.z.fromRed().toString(16,2)+'>'},o.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},o.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),o=this.x.redSub(this.z).redSqr(),i=t.redSub(o),n=t.redMul(o),d=i.redMul(o.redAdd(this.curve.a24.redMul(i)));return this.curve.point(n,d)},o.prototype.add=function(){throw new Error('Not supported on Montgomery curve')},o.prototype.diffAdd=function(t,o){var i=this.x.redAdd(this.z),n=this.x.redSub(this.z),d=t.x.redAdd(t.z),u=t.x.redSub(t.z).redMul(i),s=d.redMul(n),h=o.z.redMul(u.redAdd(s).redSqr()),p=o.x.redMul(u.redISub(s).redSqr());return this.curve.point(h,p)},o.prototype.mul=function(t){for(var o=t.clone(),i=this,n=this.curve.point(null,null),d=[];0!==o.cmpn(0);o.iushrn(1))d.push(o.andln(1));for(var u=d.length-1;u>=0;u--)0===d[u]?(i=i.diffAdd(n,this),n=n.dbl()):(n=i.diffAdd(n,this),i=i.dbl());return n},o.prototype.mulAdd=function(){throw new Error('Not supported on Montgomery curve')},o.prototype.jumlAdd=function(){throw new Error('Not supported on Montgomery curve')},o.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},o.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},o.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},585,[583,581,475,579]);
__d(function(_g,r,i,_a,m,_e,_d){'use strict';function t(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,r(_d[0]).call(this,'edwards',t),this.a=new(r(_d[1]))(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new(r(_d[1]))(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new(r(_d[1]))(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),r(_d[2]).assert(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function e(t,e,d,s,u){r(_d[0]).BasePoint.call(this,t,'projective'),null===e&&null===d&&null===s?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new(r(_d[1]))(e,16),this.y=new(r(_d[1]))(d,16),this.z=s?new(r(_d[1]))(s,16):this.curve.one,this.t=u&&new(r(_d[1]))(u,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}r(_d[3])(t,r(_d[0])),m.exports=t,t.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},t.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},t.prototype.jpoint=function(t,e,d,s){return this.point(t,e,d,s)},t.prototype.pointFromX=function(t,e){(t=new(r(_d[1]))(t,16)).red||(t=t.toRed(this.red));var d=t.redSqr(),s=this.c2.redSub(this.a.redMul(d)),u=this.one.redSub(this.c2.redMul(this.d).redMul(d)),h=s.redMul(u.redInvm()),n=h.redSqrt();if(0!==n.redSqr().redSub(h).cmp(this.zero))throw new Error('invalid point');var o=n.fromRed().isOdd();return(e&&!o||!e&&o)&&(n=n.redNeg()),this.point(t,n)},t.prototype.pointFromY=function(t,e){(t=new(r(_d[1]))(t,16)).red||(t=t.toRed(this.red));var d=t.redSqr(),s=d.redSub(this.c2),u=d.redMul(this.d).redMul(this.c2).redSub(this.a),h=s.redMul(u.redInvm());if(0===h.cmp(this.zero)){if(e)throw new Error('invalid point');return this.point(this.zero,t)}var n=h.redSqrt();if(0!==n.redSqr().redSub(h).cmp(this.zero))throw new Error('invalid point');return n.fromRed().isOdd()!==e&&(n=n.redNeg()),this.point(n,t)},t.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),d=t.y.redSqr(),s=e.redMul(this.a).redAdd(d),u=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(d)));return 0===s.cmp(u)},r(_d[3])(e,r(_d[0]).BasePoint),t.prototype.pointFromJSON=function(t){return e.fromJSON(this,t)},t.prototype.point=function(t,d,s,u){return new e(this,t,d,s,u)},e.fromJSON=function(t,d){return new e(t,d[0],d[1],d[2])},e.prototype.inspect=function(){return this.isInfinity()?'<EC Point Infinity>':'<EC Point x: '+this.x.fromRed().toString(16,2)+' y: '+this.y.fromRed().toString(16,2)+' z: '+this.z.fromRed().toString(16,2)+'>'},e.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},e.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),d=this.z.redSqr();d=d.redIAdd(d);var s=this.curve._mulA(t),u=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),h=s.redAdd(e),n=h.redSub(d),o=s.redSub(e),c=u.redMul(n),l=h.redMul(o),p=u.redMul(o),v=n.redMul(h);return this.curve.point(c,l,v,p)},e.prototype._projDbl=function(){var t,e,d,s,u,h,n=this.x.redAdd(this.y).redSqr(),o=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var l=(s=this.curve._mulA(o)).redAdd(c);this.zOne?(t=n.redSub(o).redSub(c).redMul(l.redSub(this.curve.two)),e=l.redMul(s.redSub(c)),d=l.redSqr().redSub(l).redSub(l)):(u=this.z.redSqr(),h=l.redSub(u).redISub(u),t=n.redSub(o).redISub(c).redMul(h),e=l.redMul(s.redSub(c)),d=l.redMul(h))}else s=o.redAdd(c),u=this.curve._mulC(this.z).redSqr(),h=s.redSub(u).redSub(u),t=this.curve._mulC(n.redISub(s)).redMul(h),e=this.curve._mulC(s).redMul(o.redISub(c)),d=s.redMul(h);return this.curve.point(t,e,d)},e.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},e.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),d=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),s=this.t.redMul(this.curve.dd).redMul(t.t),u=this.z.redMul(t.z.redAdd(t.z)),h=d.redSub(e),n=u.redSub(s),o=u.redAdd(s),c=d.redAdd(e),l=h.redMul(n),p=o.redMul(c),v=h.redMul(c),y=n.redMul(o);return this.curve.point(l,p,y,v)},e.prototype._projAdd=function(t){var e,d,s=this.z.redMul(t.z),u=s.redSqr(),h=this.x.redMul(t.x),n=this.y.redMul(t.y),o=this.curve.d.redMul(h).redMul(n),c=u.redSub(o),l=u.redAdd(o),p=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(h).redISub(n),v=s.redMul(c).redMul(p);return this.curve.twisted?(e=s.redMul(l).redMul(n.redSub(this.curve._mulA(h))),d=c.redMul(l)):(e=s.redMul(l).redMul(n.redSub(h)),d=this.curve._mulC(c).redMul(l)),this.curve.point(v,e,d)},e.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},e.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},e.prototype.mulAdd=function(t,e,d){return this.curve._wnafMulAdd(1,[this,e],[t,d],2,!1)},e.prototype.jmulAdd=function(t,e,d){return this.curve._wnafMulAdd(1,[this,e],[t,d],2,!0)},e.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},e.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},e.prototype.getX=function(){return this.normalize(),this.x.fromRed()},e.prototype.getY=function(){return this.normalize(),this.y.fromRed()},e.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},e.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var d=t.clone(),s=this.curve.redN.redMul(this.z);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(s),0===this.x.cmp(e))return!0}},e.prototype.toP=e.prototype.normalize,e.prototype.mixedAdd=e.prototype.add},586,[583,581,579,475]);
__d(function(g,r,i,a,m,_e,d){'use strict';var f,e=_e;function b(f){'short'===f.type?this.curve=new(r(d[0]).short)(f):'edwards'===f.type?this.curve=new(r(d[0]).edwards)(f):this.curve=new(r(d[0]).mont)(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,r(d[1]).assert(this.g.validate(),'Invalid curve'),r(d[1]).assert(this.g.mul(this.n).isInfinity(),'Invalid curve, G*N != O')}function c(f,c){Object.defineProperty(e,f,{configurable:!0,enumerable:!0,get:function(){var s=new b(c);return Object.defineProperty(e,f,{configurable:!0,enumerable:!0,value:s}),s}})}e.PresetCurve=b,c('p192',{type:'short',prime:'p192',p:'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff',a:'ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc',b:'64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1',n:'ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831',hash:r(d[2]).sha256,gRed:!1,g:['188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012','07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811']}),c('p224',{type:'short',prime:'p224',p:'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001',a:'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe',b:'b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4',n:'ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d',hash:r(d[2]).sha256,gRed:!1,g:['b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21','bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34']}),c('p256',{type:'short',prime:null,p:'ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff',a:'ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc',b:'5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b',n:'ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551',hash:r(d[2]).sha256,gRed:!1,g:['6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296','4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5']}),c('p384',{type:'short',prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r(d[2]).sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c('p521',{type:'short',prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r(d[2]).sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c('curve25519',{type:'mont',prime:'p25519',p:'7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed',a:'76d06',b:'1',n:'1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed',hash:r(d[2]).sha256,gRed:!1,g:['9']}),c('ed25519',{type:'edwards',prime:'p25519',p:'7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed',a:'-1',c:'1',d:'52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3',n:'1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed',hash:r(d[2]).sha256,gRed:!1,g:['216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a','6666666666666666666666666666666666666666666666666666666666666658']});try{f=r(d[3])}catch(e){f=void 0}c('secp256k1',{type:'short',prime:'k256',p:'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f',a:'0',b:'7',n:'ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141',h:'1',hash:r(d[2]).sha256,beta:'7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee',lambda:'5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72',basis:[{a:'3086d221a7d46bcde86c90e49284eb15',b:'-e4437ed6010e88286f547fa90abfe4c3'},{a:'114ca50f7a8e2f3f657c1108d9d44cfd8',b:'3086d221a7d46bcde86c90e49284eb15'}],gRed:!1,g:['79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798','483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8',f]})},587,[582,579,588,600]);
__d(function(g,r,i,a,m,e,d){var h=e;h.utils=r(d[0]),h.common=r(d[1]),h.sha=r(d[2]),h.ripemd=r(d[3]),h.hmac=r(d[4]),h.sha1=h.sha.sha1,h.sha256=h.sha.sha256,h.sha224=h.sha.sha224,h.sha384=h.sha.sha384,h.sha512=h.sha.sha512,h.ripemd160=h.ripemd.ripemd160},588,[589,590,591,598,599]);
__d(function(g,_r,_i,_a,_m,_e,_d){'use strict';function n(n,r){return 55296==(64512&n.charCodeAt(r))&&(!(r<0||r+1>=n.length)&&56320==(64512&n.charCodeAt(r+1)))}function r(n){return(n>>>24|n>>>8&65280|n<<8&16711680|(255&n)<<24)>>>0}function t(n){return 1===n.length?'0'+n:n}function e(n){return 7===n.length?'0'+n:6===n.length?'00'+n:5===n.length?'000'+n:4===n.length?'0000'+n:3===n.length?'00000'+n:2===n.length?'000000'+n:1===n.length?'0000000'+n:n}_e.inherits=_r(_d[0]),_e.toArray=function(r,t){if(Array.isArray(r))return r.slice();if(!r)return[];var e=[];if('string'==typeof r)if(t){if('hex'===t)for((r=r.replace(/[^a-z0-9]+/gi,'')).length%2!=0&&(r='0'+r),o=0;o<r.length;o+=2)e.push(parseInt(r[o]+r[o+1],16))}else for(var u=0,o=0;o<r.length;o++){var i=r.charCodeAt(o);i<128?e[u++]=i:i<2048?(e[u++]=i>>6|192,e[u++]=63&i|128):n(r,o)?(i=65536+((1023&i)<<10)+(1023&r.charCodeAt(++o)),e[u++]=i>>18|240,e[u++]=i>>12&63|128,e[u++]=i>>6&63|128,e[u++]=63&i|128):(e[u++]=i>>12|224,e[u++]=i>>6&63|128,e[u++]=63&i|128)}else for(o=0;o<r.length;o++)e[o]=0|r[o];return e},_e.toHex=function(n){for(var r='',e=0;e<n.length;e++)r+=t(n[e].toString(16));return r},_e.htonl=r,_e.toHex32=function(n,t){for(var u='',o=0;o<n.length;o++){var i=n[o];'little'===t&&(i=r(i)),u+=e(i.toString(16))}return u},_e.zero2=t,_e.zero8=e,_e.join32=function(n,r,t,e){var u=t-r;_r(_d[1])(u%4==0);for(var o=new Array(u/4),i=0,f=r;i<o.length;i++,f+=4){var c;c='big'===e?n[f]<<24|n[f+1]<<16|n[f+2]<<8|n[f+3]:n[f+3]<<24|n[f+2]<<16|n[f+1]<<8|n[f],o[i]=c>>>0}return o},_e.split32=function(n,r){for(var t=new Array(4*n.length),e=0,u=0;e<n.length;e++,u+=4){var o=n[e];'big'===r?(t[u]=o>>>24,t[u+1]=o>>>16&255,t[u+2]=o>>>8&255,t[u+3]=255&o):(t[u+3]=o>>>24,t[u+2]=o>>>16&255,t[u+1]=o>>>8&255,t[u]=255&o)}return t},_e.rotr32=function(n,r){return n>>>r|n<<32-r},_e.rotl32=function(n,r){return n<<r|n>>>32-r},_e.sum32=function(n,r){return n+r>>>0},_e.sum32_3=function(n,r,t){return n+r+t>>>0},_e.sum32_4=function(n,r,t,e){return n+r+t+e>>>0},_e.sum32_5=function(n,r,t,e,u){return n+r+t+e+u>>>0},_e.sum64=function(n,r,t,e){var u=n[r],o=e+n[r+1]>>>0,i=(o<e?1:0)+t+u;n[r]=i>>>0,n[r+1]=o},_e.sum64_hi=function(n,r,t,e){return(r+e>>>0<r?1:0)+n+t>>>0},_e.sum64_lo=function(n,r,t,e){return r+e>>>0},_e.sum64_4_hi=function(n,r,t,e,u,o,i,f){var c=0,h=r;return c+=(h=h+e>>>0)<r?1:0,c+=(h=h+o>>>0)<o?1:0,n+t+u+i+(c+=(h=h+f>>>0)<f?1:0)>>>0},_e.sum64_4_lo=function(n,r,t,e,u,o,i,f){return r+e+o+f>>>0},_e.sum64_5_hi=function(n,r,t,e,u,o,i,f,c,h){var l=0,a=r;return l+=(a=a+e>>>0)<r?1:0,l+=(a=a+o>>>0)<o?1:0,l+=(a=a+f>>>0)<f?1:0,n+t+u+i+c+(l+=(a=a+h>>>0)<h?1:0)>>>0},_e.sum64_5_lo=function(n,r,t,e,u,o,i,f,c,h){return r+e+o+f+h>>>0},_e.rotr64_hi=function(n,r,t){return(r<<32-t|n>>>t)>>>0},_e.rotr64_lo=function(n,r,t){return(n<<32-t|r>>>t)>>>0},_e.shr64_hi=function(n,r,t){return n>>>t},_e.shr64_lo=function(n,r,t){return(n<<32-t|r>>>t)>>>0}},589,[475,533]);
__d(function(g,_r,_i,a,m,e,d){'use strict';function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian='big',this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=t,t.prototype.update=function(t,i){if(t=_r(d[0]).toArray(t,i),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var n=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=_r(d[0]).join32(t,0,t.length-n,this.endian);for(var h=0;h<t.length;h+=this._delta32)this._update(t,h,h+this._delta32)}return this},t.prototype.digest=function(t){return this.update(this._pad()),_r(d[1])(null===this.pending),this._digest(t)},t.prototype._pad=function(){var t=this.pendingTotal,i=this._delta8,n=i-(t+this.padLength)%i,h=new Array(n+this.padLength);h[0]=128;for(var s=1;s<n;s++)h[s]=0;if(t<<=3,'big'===this.endian){for(var o=8;o<this.padLength;o++)h[s++]=0;h[s++]=0,h[s++]=0,h[s++]=0,h[s++]=0,h[s++]=t>>>24&255,h[s++]=t>>>16&255,h[s++]=t>>>8&255,h[s++]=255&t}else for(h[s++]=255&t,h[s++]=t>>>8&255,h[s++]=t>>>16&255,h[s++]=t>>>24&255,h[s++]=0,h[s++]=0,h[s++]=0,h[s++]=0,o=8;o<this.padLength;o++)h[s++]=0;return h}},590,[589,533]);
__d(function(g,r,i,a,m,e,d){'use strict';e.sha1=r(d[0]),e.sha224=r(d[1]),e.sha256=r(d[2]),e.sha384=r(d[3]),e.sha512=r(d[4])},591,[592,594,595,596,597]);
__d(function(g,r,_i,_a,m,_e,_d){'use strict';var t=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;r(_d[0]).BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r(_d[1]).inherits(h,r(_d[0]).BlockHash),m.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(h,i){for(var s=this.W,o=0;o<16;o++)s[o]=h[i+o];for(;o<s.length;o++)s[o]=r(_d[1]).rotl32(s[o-3]^s[o-8]^s[o-14]^s[o-16],1);var e=this.h[0],n=this.h[1],u=this.h[2],a=this.h[3],c=this.h[4];for(o=0;o<s.length;o++){var l=~~(o/20),f=r(_d[1]).sum32_5(r(_d[1]).rotl32(e,5),r(_d[2]).ft_1(l,n,u,a),c,s[o],t[l]);c=a,a=u,u=r(_d[1]).rotl32(n,30),n=e,e=f}this.h[0]=r(_d[1]).sum32(this.h[0],e),this.h[1]=r(_d[1]).sum32(this.h[1],n),this.h[2]=r(_d[1]).sum32(this.h[2],u),this.h[3]=r(_d[1]).sum32(this.h[3],a),this.h[4]=r(_d[1]).sum32(this.h[4],c)},h.prototype._digest=function(t){return'hex'===t?r(_d[1]).toHex32(this.h,'big'):r(_d[1]).split32(this.h,'big')}},592,[590,589,593]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,n,o){return t&n^~t&o}function n(t,n,o){return t&n^t&o^n&o}function o(t,n,o){return t^n^o}e.ft_1=function(u,c,f,_){return 0===u?t(c,f,_):1===u||3===u?o(c,f,_):2===u?n(c,f,_):void 0},e.ch32=t,e.maj32=n,e.p32=o,e.s0_256=function(t){return r(d[0]).rotr32(t,2)^r(d[0]).rotr32(t,13)^r(d[0]).rotr32(t,22)},e.s1_256=function(t){return r(d[0]).rotr32(t,6)^r(d[0]).rotr32(t,11)^r(d[0]).rotr32(t,25)},e.g0_256=function(t){return r(d[0]).rotr32(t,7)^r(d[0]).rotr32(t,18)^t>>>3},e.g1_256=function(t){return r(d[0]).rotr32(t,17)^r(d[0]).rotr32(t,19)^t>>>10}},593,[589]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(){if(!(this instanceof t))return new t;r(d[0]).call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r(d[1]).inherits(t,r(d[0])),m.exports=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(t){return'hex'===t?r(d[1]).toHex32(this.h.slice(0,7),'big'):r(d[1]).split32(this.h.slice(0,7),'big')}},594,[595,589]);
__d(function(_g,r,_i,_a,m,_e,_d){'use strict';var h=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function t(){if(!(this instanceof t))return new t;r(_d[0]).BlockHash.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=h,this.W=new Array(64)}r(_d[1]).inherits(t,r(_d[0]).BlockHash),m.exports=t,t.blockSize=512,t.outSize=256,t.hmacStrength=192,t.padLength=64,t.prototype._update=function(h,t){for(var s=this.W,i=0;i<16;i++)s[i]=h[t+i];for(;i<s.length;i++)s[i]=r(_d[1]).sum32_4(r(_d[2]).g1_256(s[i-2]),s[i-7],r(_d[2]).g0_256(s[i-15]),s[i-16]);var e=this.h[0],u=this.h[1],n=this.h[2],o=this.h[3],a=this.h[4],c=this.h[5],g=this.h[6],l=this.h[7];for(r(_d[3])(this.k.length===s.length),i=0;i<s.length;i++){var _=r(_d[1]).sum32_5(l,r(_d[2]).s1_256(a),r(_d[2]).ch32(a,c,g),this.k[i],s[i]),f=r(_d[1]).sum32(r(_d[2]).s0_256(e),r(_d[2]).maj32(e,u,n));l=g,g=c,c=a,a=r(_d[1]).sum32(o,_),o=n,n=u,u=e,e=r(_d[1]).sum32(_,f)}this.h[0]=r(_d[1]).sum32(this.h[0],e),this.h[1]=r(_d[1]).sum32(this.h[1],u),this.h[2]=r(_d[1]).sum32(this.h[2],n),this.h[3]=r(_d[1]).sum32(this.h[3],o),this.h[4]=r(_d[1]).sum32(this.h[4],a),this.h[5]=r(_d[1]).sum32(this.h[5],c),this.h[6]=r(_d[1]).sum32(this.h[6],g),this.h[7]=r(_d[1]).sum32(this.h[7],l)},t.prototype._digest=function(h){return'hex'===h?r(_d[1]).toHex32(this.h,'big'):r(_d[1]).split32(this.h,'big')}},595,[590,589,593,533]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(){if(!(this instanceof t))return new t;r(d[0]).call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r(d[1]).inherits(t,r(d[0])),m.exports=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(t){return'hex'===t?r(d[1]).toHex32(this.h.slice(0,12),'big'):r(d[1]).split32(this.h.slice(0,12),'big')}},596,[597,589]);
__d(function(g,_r,_i,a,m,e,d){'use strict';var t=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function r(){if(!(this instanceof r))return new r;_r(d[0]).BlockHash.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=t,this.W=new Array(160)}function h(t,r,h,i,o){var s=t&h^~t&o;return s<0&&(s+=4294967296),s}function i(t,r,h,i,o,s){var n=r&i^~r&s;return n<0&&(n+=4294967296),n}function o(t,r,h,i,o){var s=t&h^t&o^h&o;return s<0&&(s+=4294967296),s}function s(t,r,h,i,o,s){var n=r&i^r&s^i&s;return n<0&&(n+=4294967296),n}function n(t,r){var h=_r(d[1]).rotr64_hi(t,r,28)^_r(d[1]).rotr64_hi(r,t,2)^_r(d[1]).rotr64_hi(r,t,7);return h<0&&(h+=4294967296),h}function u(t,r){var h=_r(d[1]).rotr64_lo(t,r,28)^_r(d[1]).rotr64_lo(r,t,2)^_r(d[1]).rotr64_lo(r,t,7);return h<0&&(h+=4294967296),h}function _(t,r){var h=_r(d[1]).rotr64_hi(t,r,14)^_r(d[1]).rotr64_hi(t,r,18)^_r(d[1]).rotr64_hi(r,t,9);return h<0&&(h+=4294967296),h}function l(t,r){var h=_r(d[1]).rotr64_lo(t,r,14)^_r(d[1]).rotr64_lo(t,r,18)^_r(d[1]).rotr64_lo(r,t,9);return h<0&&(h+=4294967296),h}function c(t,r){var h=_r(d[1]).rotr64_hi(t,r,1)^_r(d[1]).rotr64_hi(t,r,8)^_r(d[1]).shr64_hi(t,r,7);return h<0&&(h+=4294967296),h}function f(t,r){var h=_r(d[1]).rotr64_lo(t,r,1)^_r(d[1]).rotr64_lo(t,r,8)^_r(d[1]).shr64_lo(t,r,7);return h<0&&(h+=4294967296),h}function v(t,r){var h=_r(d[1]).rotr64_hi(t,r,19)^_r(d[1]).rotr64_hi(r,t,29)^_r(d[1]).shr64_hi(t,r,6);return h<0&&(h+=4294967296),h}function p(t,r){var h=_r(d[1]).rotr64_lo(t,r,19)^_r(d[1]).rotr64_lo(r,t,29)^_r(d[1]).shr64_lo(t,r,6);return h<0&&(h+=4294967296),h}_r(d[1]).inherits(r,_r(d[0]).BlockHash),m.exports=r,r.blockSize=1024,r.outSize=512,r.hmacStrength=192,r.padLength=128,r.prototype._prepareBlock=function(t,r){for(var h=this.W,i=0;i<32;i++)h[i]=t[r+i];for(;i<h.length;i+=2){var o=v(h[i-4],h[i-3]),s=p(h[i-4],h[i-3]),n=h[i-14],u=h[i-13],_=c(h[i-30],h[i-29]),l=f(h[i-30],h[i-29]),k=h[i-32],y=h[i-31];h[i]=_r(d[1]).sum64_4_hi(o,s,n,u,_,l,k,y),h[i+1]=_r(d[1]).sum64_4_lo(o,s,n,u,_,l,k,y)}},r.prototype._update=function(t,r){this._prepareBlock(t,r);var c=this.W,f=this.h[0],v=this.h[1],p=this.h[2],k=this.h[3],y=this.h[4],B=this.h[5],b=this.h[6],x=this.h[7],H=this.h[8],S=this.h[9],W=this.h[10],w=this.h[11],z=this.h[12],A=this.h[13],L=this.h[14],j=this.h[15];_r(d[2])(this.k.length===c.length);for(var q=0;q<c.length;q+=2){var C=L,D=j,E=_(H,S),F=l(H,S),G=h(H,S,W,w,z),I=i(H,S,W,w,z,A),J=this.k[q],K=this.k[q+1],M=c[q],N=c[q+1],O=_r(d[1]).sum64_5_hi(C,D,E,F,G,I,J,K,M,N),P=_r(d[1]).sum64_5_lo(C,D,E,F,G,I,J,K,M,N);C=n(f,v),D=u(f,v),E=o(f,v,p,k,y),F=s(f,v,p,k,y,B);var Q=_r(d[1]).sum64_hi(C,D,E,F),R=_r(d[1]).sum64_lo(C,D,E,F);L=z,j=A,z=W,A=w,W=H,w=S,H=_r(d[1]).sum64_hi(b,x,O,P),S=_r(d[1]).sum64_lo(x,x,O,P),b=y,x=B,y=p,B=k,p=f,k=v,f=_r(d[1]).sum64_hi(O,P,Q,R),v=_r(d[1]).sum64_lo(O,P,Q,R)}_r(d[1]).sum64(this.h,0,f,v),_r(d[1]).sum64(this.h,2,p,k),_r(d[1]).sum64(this.h,4,y,B),_r(d[1]).sum64(this.h,6,b,x),_r(d[1]).sum64(this.h,8,H,S),_r(d[1]).sum64(this.h,10,W,w),_r(d[1]).sum64(this.h,12,z,A),_r(d[1]).sum64(this.h,14,L,j)},r.prototype._digest=function(t){return'hex'===t?_r(d[1]).toHex32(this.h,'big'):_r(d[1]).split32(this.h,'big')}},597,[590,589,533]);
__d(function(g,_r,i,a,m,e,d){'use strict';function t(){if(!(this instanceof t))return new t;_r(d[0]).BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian='little'}function h(t,h,s,n){return t<=15?h^s^n:t<=31?h&s|~h&n:t<=47?(h|~s)^n:t<=63?h&n|s&~n:h^(s|~n)}function s(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function n(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}_r(d[1]).inherits(t,_r(d[0]).BlockHash),e.ripemd160=t,t.blockSize=512,t.outSize=160,t.hmacStrength=192,t.padLength=64,t.prototype._update=function(t,c){for(var _=this.h[0],f=this.h[1],p=this.h[2],k=this.h[3],v=this.h[4],H=_,S=f,x=p,y=k,z=v,B=0;B<80;B++){var b=_r(d[1]).sum32(_r(d[1]).rotl32(_r(d[1]).sum32_4(_,h(B,f,p,k),t[r[B]+c],s(B)),o[B]),v);_=v,v=k,k=_r(d[1]).rotl32(p,10),p=f,f=b,b=_r(d[1]).sum32(_r(d[1]).rotl32(_r(d[1]).sum32_4(H,h(79-B,S,x,y),t[u[B]+c],n(B)),l[B]),z),H=z,z=y,y=_r(d[1]).rotl32(x,10),x=S,S=b}b=_r(d[1]).sum32_3(this.h[1],p,y),this.h[1]=_r(d[1]).sum32_3(this.h[2],k,z),this.h[2]=_r(d[1]).sum32_3(this.h[3],v,H),this.h[3]=_r(d[1]).sum32_3(this.h[4],_,S),this.h[4]=_r(d[1]).sum32_3(this.h[0],f,x),this.h[0]=b},t.prototype._digest=function(t){return'hex'===t?_r(d[1]).toHex32(this.h,'little'):_r(d[1]).split32(this.h,'little')};var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],o=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},598,[590,589]);
__d(function(g,r,_i,a,m,e,d){'use strict';function t(i,n,s){if(!(this instanceof t))return new t(i,n,s);this.Hash=i,this.blockSize=i.blockSize/8,this.outSize=i.outSize/8,this.inner=null,this.outer=null,this._init(r(d[0]).toArray(n,s))}m.exports=t,t.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),r(d[1])(t.length<=this.blockSize);for(var i=t.length;i<this.blockSize;i++)t.push(0);for(i=0;i<t.length;i++)t[i]^=54;for(this.inner=(new this.Hash).update(t),i=0;i<t.length;i++)t[i]^=106;this.outer=(new this.Hash).update(t)},t.prototype.update=function(t,i){return this.inner.update(t,i),this},t.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},599,[589,533]);
__d(function(g,r,i,a,m,e,d){m.exports={doubles:{step:4,points:[['e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a','f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821'],['8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508','11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf'],['175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739','d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695'],['363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640','4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9'],['8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c','4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36'],['723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda','96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f'],['eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa','5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999'],['100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0','cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09'],['e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d','9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d'],['feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d','e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088'],['da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1','9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d'],['53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0','5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8'],['8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047','10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a'],['385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862','283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453'],['6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7','7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160'],['3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd','56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0'],['85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83','7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6'],['948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a','53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589'],['6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8','bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17'],['e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d','4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda'],['e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725','7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd'],['213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754','4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2'],['4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c','17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6'],['fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6','6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f'],['76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39','c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01'],['c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891','893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3'],['d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b','febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f'],['b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03','2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7'],['e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d','eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78'],['a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070','7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1'],['90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4','e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150'],['8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da','662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82'],['e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11','1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc'],['8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e','efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b'],['e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41','2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51'],['b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef','67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45'],['d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8','db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120'],['324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d','648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84'],['4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96','35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d'],['9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd','ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d'],['6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5','9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8'],['a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266','40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8'],['7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71','34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac'],['928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac','c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f'],['85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751','1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962'],['ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e','493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907'],['827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241','c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec'],['eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3','be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d'],['e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f','4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414'],['1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19','aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd'],['146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be','b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0'],['fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9','6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811'],['da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2','8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1'],['a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13','7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c'],['174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c','ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73'],['959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba','2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd'],['d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151','e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405'],['64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073','d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589'],['8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458','38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e'],['13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b','69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27'],['bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366','d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1'],['8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa','40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482'],['8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0','620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945'],['dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787','7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573'],['f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e','ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82']]},naf:{wnd:7,points:[['f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9','388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672'],['2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4','d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6'],['5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc','6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da'],['acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe','cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37'],['774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb','d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b'],['f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8','ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81'],['d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e','581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58'],['defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34','4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77'],['2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c','85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a'],['352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5','321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c'],['2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f','2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67'],['9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714','73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402'],['daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729','a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55'],['c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db','2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482'],['6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4','e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82'],['1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5','b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396'],['605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479','2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49'],['62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d','80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf'],['80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f','1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a'],['7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb','d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7'],['d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9','eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933'],['49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963','758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a'],['77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74','958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6'],['f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530','e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37'],['463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b','5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e'],['f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247','cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6'],['caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1','cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476'],['2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120','4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40'],['7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435','91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61'],['754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18','673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683'],['e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8','59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5'],['186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb','3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b'],['df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f','55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417'],['5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143','efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868'],['290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba','e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a'],['af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45','f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6'],['766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a','744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996'],['59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e','c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e'],['f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8','e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d'],['7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c','30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2'],['948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519','e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e'],['7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab','100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437'],['3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca','ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311'],['d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf','8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4'],['1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610','68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575'],['733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4','f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d'],['15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c','d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d'],['a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940','edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629'],['e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980','a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06'],['311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3','66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374'],['34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf','9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee'],['f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63','4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1'],['d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448','fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b'],['32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf','5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661'],['7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5','8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6'],['ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6','8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e'],['16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5','5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d'],['eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99','f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc'],['78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51','f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4'],['494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5','42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c'],['a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5','204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b'],['c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997','4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913'],['841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881','73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154'],['5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5','39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865'],['36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66','d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc'],['336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726','ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224'],['8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede','6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e'],['1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94','60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6'],['85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31','3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511'],['29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51','b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b'],['a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252','ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2'],['4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5','cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c'],['d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b','6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3'],['ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4','322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d'],['af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f','6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700'],['e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889','2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4'],['591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246','b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196'],['11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984','998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4'],['3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a','b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257'],['cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030','bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13'],['c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197','6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096'],['c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593','c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38'],['a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef','21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f'],['347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38','60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448'],['da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a','49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a'],['c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111','5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4'],['4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502','7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437'],['3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea','be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7'],['cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26','8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d'],['b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986','39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a'],['d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e','62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54'],['48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4','25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77'],['dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda','ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517'],['6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859','cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10'],['e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f','f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125'],['eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c','6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e'],['13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942','fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1'],['ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a','1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2'],['b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80','5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423'],['ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d','438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8'],['8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1','cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758'],['52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63','c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375'],['e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352','6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d'],['7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193','ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec'],['5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00','9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0'],['32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58','ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c'],['e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7','d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4'],['8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8','c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f'],['4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e','67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649'],['3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d','cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826'],['674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b','299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5'],['d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f','f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87'],['30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6','462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b'],['be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297','62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc'],['93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a','7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c'],['b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c','ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f'],['d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52','4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a'],['d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb','bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46'],['463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065','bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f'],['7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917','603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03'],['74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9','cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08'],['30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3','553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8'],['9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57','712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373'],['176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66','ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3'],['75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8','9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8'],['809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721','9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1'],['1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180','4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9']]}}},600,[]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';function t(e){if(!(this instanceof t))return new t(e);'string'==typeof e&&(_r(d[0]).assert(Object.prototype.hasOwnProperty.call(_r(d[1]),e),'Unknown curve '+e),e=_r(d[1])[e]),e instanceof _r(d[1]).PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}m.exports=t,t.prototype.keyPair=function(t){return new(_r(d[2]))(this,t)},t.prototype.keyFromPrivate=function(t,e){return _r(d[2]).fromPrivate(this,t,e)},t.prototype.keyFromPublic=function(t,e){return _r(d[2]).fromPublic(this,t,e)},t.prototype.genKeyPair=function(t){t||(t={});for(var e=new(_r(d[3]))({hash:this.hash,pers:t.pers,persEnc:t.persEnc||'utf8',entropy:t.entropy||_r(d[4])(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||'utf8',nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(_r(d[5]))(2));;){var i=new(_r(d[5]))(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},t.prototype._truncateToN=function(t,e,r){var n;if(_r(d[5]).isBN(t)||'number'==typeof t)n=(t=new(_r(d[5]))(t,16)).byteLength();else if('object'==typeof t)n=t.length,t=new(_r(d[5]))(t,16);else{var i=t.toString();n=i.length+1>>>1,t=new(_r(d[5]))(i,16)}'number'!=typeof r&&(r=8*n);var s=r-this.n.bitLength();return s>0&&(t=t.ushrn(s)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},t.prototype.sign=function(t,e,r,n){if('object'==typeof r&&(n=r,r=null),n||(n={}),'string'!=typeof t&&'number'!=typeof t&&!_r(d[5]).isBN(t)){_r(d[0]).assert('object'==typeof t&&t&&'number'==typeof t.length,'Expected message to be an array-like, a hex string, or a BN instance'),_r(d[0]).assert(t.length>>>0===t.length);for(var i=0;i<t.length;i++)_r(d[0]).assert((255&t[i])===t[i])}e=this.keyFromPrivate(e,r),t=this._truncateToN(t,!1,n.msgBitLength),_r(d[0]).assert(!t.isNeg(),'Can not sign a negative message');var s=this.n.byteLength(),o=e.getPrivate().toArray('be',s),h=t.toArray('be',s);_r(d[0]).assert(new(_r(d[5]))(h).eq(t),'Can not sign message');for(var u=new(_r(d[3]))({hash:this.hash,entropy:o,nonce:h,pers:n.pers,persEnc:n.persEnc||'utf8'}),c=this.n.sub(new(_r(d[5]))(1)),p=0;;p++){var v=n.k?n.k(p):new(_r(d[5]))(u.generate(this.n.byteLength()));if(!((v=this._truncateToN(v,!0)).cmpn(1)<=0||v.cmp(c)>=0)){var y=this.g.mul(v);if(!y.isInfinity()){var f=y.getX(),l=f.umod(this.n);if(0!==l.cmpn(0)){var b=v.invm(this.n).mul(l.mul(e.getPrivate()).iadd(t));if(0!==(b=b.umod(this.n)).cmpn(0)){var w=(y.getY().isOdd()?1:0)|(0!==f.cmp(l)?2:0);return n.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),w^=1),new(_r(d[6]))({r:l,s:b,recoveryParam:w})}}}}}},t.prototype.verify=function(t,e,r,n,i){i||(i={}),t=this._truncateToN(t,!1,i.msgBitLength),r=this.keyFromPublic(r,n);var s=(e=new(_r(d[6]))(e,'hex')).r,o=e.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var h,u=o.invm(this.n),c=u.mul(t).umod(this.n),p=u.mul(s).umod(this.n);return this.curve._maxwellTrick?!(h=this.g.jmulAdd(c,r.getPublic(),p)).isInfinity()&&h.eqXToP(s):!(h=this.g.mulAdd(c,r.getPublic(),p)).isInfinity()&&0===h.getX().umod(this.n).cmp(s)},t.prototype.recoverPubKey=function(t,e,r,n){_r(d[0]).assert((3&r)===r,'The recovery param is more than two bits'),e=new(_r(d[6]))(e,n);var i=this.n,s=new(_r(d[5]))(t),o=e.r,h=e.s,u=1&r,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error('Unable to find sencond key candinate');o=c?this.curve.pointFromX(o.add(this.curve.n),u):this.curve.pointFromX(o,u);var p=e.r.invm(i),v=i.sub(s).mul(p).umod(i),y=h.mul(p).umod(i);return this.g.mulAdd(v,o,y)},t.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new(_r(d[6]))(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch(t){continue}if(s.eq(r))return i}throw new Error('Unable to find valid recovery factor')}},601,[579,587,602,603,541,581,604]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,n){this.ec=t,this.priv=null,this.pub=null,n.priv&&this._importPrivate(n.priv,n.privEnc),n.pub&&this._importPublic(n.pub,n.pubEnc)}m.exports=t,t.fromPublic=function(n,u,o){return u instanceof t?u:new t(n,{pub:u,pubEnc:o})},t.fromPrivate=function(n,u,o){return u instanceof t?u:new t(n,{priv:u,privEnc:o})},t.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:'Invalid public key'}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:'Public key * N != O'}:{result:!1,reason:'Public key is not a point'}},t.prototype.getPublic=function(t,n){return'string'==typeof t&&(n=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,t):this.pub},t.prototype.getPrivate=function(t){return'hex'===t?this.priv.toString(16,2):this.priv},t.prototype._importPrivate=function(t,n){this.priv=new(r(d[0]))(t,n||16),this.priv=this.priv.umod(this.ec.curve.n)},t.prototype._importPublic=function(t,n){if(t.x||t.y)return'mont'===this.ec.curve.type?r(d[1]).assert(t.x,'Need x coordinate'):'short'!==this.ec.curve.type&&'edwards'!==this.ec.curve.type||r(d[1]).assert(t.x&&t.y,'Need both x and y coordinate'),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,n)},t.prototype.derive=function(t){return t.validate()||r(d[1]).assert(t.validate(),'public point not validated'),t.mul(this.priv).getX()},t.prototype.sign=function(t,n,u){return this.ec.sign(t,this,n,u)},t.prototype.verify=function(t,n,u){return this.ec.verify(t,n,this,void 0,u)},t.prototype.inspect=function(){return'<Key priv: '+(this.priv&&this.priv.toString(16,2))+' pub: '+(this.pub&&this.pub.inspect())+' >'}},602,[581,579]);
__d(function(g,r,_i,a,m,e,d){'use strict';function t(i){if(!(this instanceof t))return new t(i);this.hash=i.hash,this.predResist=!!i.predResist,this.outLen=this.hash.outSize,this.minEntropy=i.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var s=r(d[0]).toArray(i.entropy,i.entropyEnc||'hex'),h=r(d[0]).toArray(i.nonce,i.nonceEnc||'hex'),n=r(d[0]).toArray(i.pers,i.persEnc||'hex');r(d[1])(s.length>=this.minEntropy/8,'Not enough entropy. Minimum is: '+this.minEntropy+' bits'),this._init(s,h,n)}m.exports=t,t.prototype._init=function(t,i,s){var h=t.concat(i).concat(s);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},t.prototype._hmac=function(){return new(r(d[2]).hmac)(this.hash,this.K)},t.prototype._update=function(t){var i=this._hmac().update(this.V).update([0]);t&&(i=i.update(t)),this.K=i.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},t.prototype.reseed=function(t,i,s,h){'string'!=typeof i&&(h=s,s=i,i=null),t=r(d[0]).toArray(t,i),s=r(d[0]).toArray(s,h),r(d[1])(t.length>=this.minEntropy/8,'Not enough entropy. Minimum is: '+this.minEntropy+' bits'),this._update(t.concat(s||[])),this._reseed=1},t.prototype.generate=function(t,i,s,h){if(this._reseed>this.reseedInterval)throw new Error('Reseed is required');'string'!=typeof i&&(h=s,s=i,i=null),s&&(s=r(d[0]).toArray(s,h||'hex'),this._update(s));for(var n=[];n.length<t;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var o=n.slice(0,t);return this._update(s),this._reseed++,r(d[0]).encode(o,i)}},603,[580,533,588]);
__d(function(g,_r,_i,a,m,e,d){'use strict';function r(t,n){if(t instanceof r)return t;this._importDER(t,n)||(_r(d[0]).assert(t.r&&t.s,'Signature without r or s'),this.r=new(_r(d[1]))(t.r,16),this.s=new(_r(d[1]))(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function t(){this.place=0}function n(r,t){var n=r[t.place++];if(!(128&n))return n;var i=15&n;if(0===i||i>4)return!1;if(0===r[t.place])return!1;for(var c=0,o=0,u=t.place;o<i;o++,u++)c<<=8,c|=r[u],c>>>=0;return!(c<=127)&&(t.place=u,c)}function i(r){for(var t=0,n=r.length-1;!r[t]&&!(128&r[t+1])&&t<n;)t++;return 0===t?r:r.slice(t)}function c(r,t){if(t<128)r.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(r.push(128|n);--n;)r.push(t>>>(n<<3)&255);r.push(t)}}m.exports=r,r.prototype._importDER=function(r,i){r=_r(d[0]).toArray(r,i);var c=new t;if(48!==r[c.place++])return!1;var o=n(r,c);if(!1===o)return!1;if(o+c.place!==r.length)return!1;if(2!==r[c.place++])return!1;var u=n(r,c);if(!1===u)return!1;if(0!=(128&r[c.place]))return!1;var l=r.slice(c.place,u+c.place);if(c.place+=u,2!==r[c.place++])return!1;var s=n(r,c);if(!1===s)return!1;if(r.length!==s+c.place)return!1;if(0!=(128&r[c.place]))return!1;var f=r.slice(c.place,s+c.place);if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}return this.r=new(_r(d[1]))(l),this.s=new(_r(d[1]))(f),this.recoveryParam=null,!0},r.prototype.toDER=function(r){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=i(t),n=i(n);!(n[0]||128&n[1]);)n=n.slice(1);var o=[2];c(o,t.length),(o=o.concat(t)).push(2),c(o,n.length);var u=o.concat(n),l=[48];return c(l,u.length),l=l.concat(u),_r(d[0]).encode(l,r)}},604,[579,581]);
__d(function(g,_r,_i,a,m,e,d){'use strict';function t(n){if(_r(d[0]).assert('ed25519'===n,'only tested with ed25519 so far'),!(this instanceof t))return new t(n);n=_r(d[1])[n].curve,this.curve=n,this.g=n.g,this.g.precompute(n.n.bitLength()+1),this.pointClass=n.point().constructor,this.encodingLength=Math.ceil(n.n.bitLength()/8),this.hash=_r(d[2]).sha512}m.exports=t,t.prototype.sign=function(t,n){t=_r(d[0]).parseBytes(t);var r=this.keyFromSecret(n),i=this.hashInt(r.messagePrefix(),t),o=this.g.mul(i),s=this.encodePoint(o),h=this.hashInt(s,r.pubBytes(),t).mul(r.priv()),u=i.add(h).umod(this.curve.n);return this.makeSignature({R:o,S:u,Rencoded:s})},t.prototype.verify=function(t,n,r){if(t=_r(d[0]).parseBytes(t),(n=this.makeSignature(n)).S().gte(n.eddsa.curve.n)||n.S().isNeg())return!1;var i=this.keyFromPublic(r),o=this.hashInt(n.Rencoded(),i.pubBytes(),t),s=this.g.mul(n.S());return n.R().add(i.pub().mul(o)).eq(s)},t.prototype.hashInt=function(){for(var t=this.hash(),n=0;n<arguments.length;n++)t.update(arguments[n]);return _r(d[0]).intFromLE(t.digest()).umod(this.curve.n)},t.prototype.keyFromPublic=function(t){return _r(d[3]).fromPublic(this,t)},t.prototype.keyFromSecret=function(t){return _r(d[3]).fromSecret(this,t)},t.prototype.makeSignature=function(t){return t instanceof _r(d[4])?t:new(_r(d[4]))(this,t)},t.prototype.encodePoint=function(t){var n=t.getY().toArray('le',this.encodingLength);return n[this.encodingLength-1]|=t.getX().isOdd()?128:0,n},t.prototype.decodePoint=function(t){var n=(t=_r(d[0]).parseBytes(t)).length-1,r=t.slice(0,n).concat(-129&t[n]),i=0!=(128&t[n]),o=_r(d[0]).intFromLE(r);return this.curve.pointFromY(o,i)},t.prototype.encodeInt=function(t){return t.toArray('le',this.encodingLength)},t.prototype.decodeInt=function(t){return _r(d[0]).intFromLE(t)},t.prototype.isPoint=function(t){return t instanceof this.pointClass}},605,[579,587,588,606,607]);
__d(function(g,r,i,_a,m,e,d){'use strict';function t(t,s){this.eddsa=t,this._secret=r(d[0]).parseBytes(s.secret),t.isPoint(s.pub)?this._pub=s.pub:this._pubBytes=r(d[0]).parseBytes(s.pub)}t.fromPublic=function(s,n){return n instanceof t?n:new t(s,{pub:n})},t.fromSecret=function(s,n){return n instanceof t?n:new t(s,{secret:n})},t.prototype.secret=function(){return this._secret},r(d[0]).cachedProperty(t,'pubBytes',function(){return this.eddsa.encodePoint(this.pub())}),r(d[0]).cachedProperty(t,'pub',function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),r(d[0]).cachedProperty(t,'privBytes',function(){var t=this.eddsa,s=this.hash(),n=t.encodingLength-1,c=s.slice(0,t.encodingLength);return c[0]&=248,c[n]&=127,c[n]|=64,c}),r(d[0]).cachedProperty(t,'priv',function(){return this.eddsa.decodeInt(this.privBytes())}),r(d[0]).cachedProperty(t,'hash',function(){return this.eddsa.hash().update(this.secret()).digest()}),r(d[0]).cachedProperty(t,'messagePrefix',function(){return this.hash().slice(this.eddsa.encodingLength)}),t.prototype.sign=function(t){return r(d[0]).assert(this._secret,'KeyPair can only verify'),this.eddsa.sign(t,this)},t.prototype.verify=function(t,s){return this.eddsa.verify(t,s,this)},t.prototype.getSecret=function(t){return r(d[0]).assert(this._secret,'KeyPair is public only'),r(d[0]).encode(this.secret(),t)},t.prototype.getPublic=function(t){return r(d[0]).encode(this.pubBytes(),t)},m.exports=t},606,[579]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,n){this.eddsa=t,'object'!=typeof n&&(n=r(d[0]).parseBytes(n)),Array.isArray(n)&&(r(d[0]).assert(n.length===2*t.encodingLength,'Signature has invalid size'),n={R:n.slice(0,t.encodingLength),S:n.slice(t.encodingLength)}),r(d[0]).assert(n.R&&n.S,'Signature without R or S'),t.isPoint(n.R)&&(this._R=n.R),n.S instanceof r(d[1])&&(this._S=n.S),this._Rencoded=Array.isArray(n.R)?n.R:n.Rencoded,this._Sencoded=Array.isArray(n.S)?n.S:n.Sencoded}r(d[0]).cachedProperty(t,'S',function(){return this.eddsa.decodeInt(this.Sencoded())}),r(d[0]).cachedProperty(t,'R',function(){return this.eddsa.decodePoint(this.Rencoded())}),r(d[0]).cachedProperty(t,'Rencoded',function(){return this.eddsa.encodePoint(this.R())}),r(d[0]).cachedProperty(t,'Sencoded',function(){return this.eddsa.encodeInt(this.S())}),t.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},t.prototype.toHex=function(){return r(d[0]).encode(this.toBytes(),'hex').toUpperCase()},m.exports=t},607,[579,581]);
__d(function(_g,_r,_i,a,m,e,d){'use strict';function r(r,t,n){var o=_r(d[3])[n.data.algorithm.curve.join('.')];if(!o)throw new Error('unknown curve '+n.data.algorithm.curve.join('.'));var u=new(_r(d[4]).ec)(o),i=n.data.subjectPrivateKey.data;return u.verify(t,r,i)}function t(r,t,o){var u=o.data.p,i=o.data.q,f=o.data.g,c=o.data.pub_key,w=_r(d[0]).signature.decode(r,'der'),s=w.s,h=w.r;n(s,i),n(h,i);var l=_r(d[2]).mont(u),p=s.invm(i);return 0===f.toRed(l).redPow(new(_r(d[2]))(t).mul(p).mod(i)).fromRed().mul(c.toRed(l).redPow(h.mul(p).mod(i)).fromRed()).mod(u).mod(i).cmp(h)}function n(r,t){if(r.cmpn(0)<=0)throw new Error('invalid sig');if(r.cmp(t)>=0)throw new Error('invalid sig')}m.exports=function(n,o,u,i,f){var c=_r(d[0])(u);if('ec'===c.type){if('ecdsa'!==i&&'ecdsa/rsa'!==i)throw new Error('wrong public key type');return r(n,o,c)}if('dsa'===c.type){if('dsa'!==i)throw new Error('wrong public key type');return t(n,o,c)}if('rsa'!==i&&'ecdsa/rsa'!==i)throw new Error('wrong public key type');o=_r(d[1]).Buffer.concat([f,o]);for(var w=c.modulus.byteLength(),s=[1],h=0;o.length+s.length+2<w;)s.push(255),h+=1;s.push(0);for(var l=-1;++l<o.length;)s.push(o[l]);s=_r(d[1]).Buffer.from(s);var p=_r(d[2]).mont(c.modulus);n=(n=new(_r(d[2]))(n).toRed(p)).redPow(new(_r(d[2]))(c.publicExponent)),n=_r(d[1]).Buffer.from(n.fromRed().toArray());var g=h<8?1:0;for(w=Math.min(n.length,s.length),n.length!==s.length&&(g=1),l=-1;++l<w;)g|=n[l]^s[l];return 0===g}},608,[548,488,575,576,577]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t){return new n(t)};var t={secp256k1:{name:'secp256k1',byteLength:32},secp224r1:{name:'p224',byteLength:28},prime256v1:{name:'p256',byteLength:32},prime192v1:{name:'p192',byteLength:24},ed25519:{name:'ed25519',byteLength:32},secp384r1:{name:'p384',byteLength:48},secp521r1:{name:'p521',byteLength:66}};function n(n){this.curveType=t[n],this.curveType||(this.curveType={name:n}),this.curve=new(r(d[0]).ec)(this.curveType.name),this.keys=void 0}function u(t,n,u){Array.isArray(t)||(t=t.toArray());var s=new Buffer(t);if(u&&s.length<u){var p=new Buffer(u-s.length);p.fill(0),s=Buffer.concat([p,s])}return n?s.toString(n):s}t.p224=t.secp224r1,t.p256=t.secp256r1=t.prime256v1,t.p192=t.secp192r1=t.prime192v1,t.p384=t.secp384r1,t.p521=t.secp521r1,n.prototype.generateKeys=function(t,n){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,n)},n.prototype.computeSecret=function(t,n,s){return n=n||'utf8',Buffer.isBuffer(t)||(t=new Buffer(t,n)),u(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),s,this.curveType.byteLength)},n.prototype.getPublicKey=function(t,n){var s=this.keys.getPublic('compressed'===n,!0);return'hybrid'===n&&(s[s.length-1]%2?s[0]=7:s[0]=6),u(s,t)},n.prototype.getPrivateKey=function(t){return u(this.keys.getPrivate(),t)},n.prototype.setPublicKey=function(t,n){return n=n||'utf8',Buffer.isBuffer(t)||(t=new Buffer(t,n)),this.keys._importPublic(t),this},n.prototype.setPrivateKey=function(t,n){n=n||'utf8',Buffer.isBuffer(t)||(t=new Buffer(t,n));var u=new(r(d[1]))(t);return u=u.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(u),this}},609,[577,610]);
__d(function(_g,_r,_i,_a,_m,_e,d){!(function(t,i){'use strict';function r(t,i){if(!t)throw new Error(i||'Assertion failed')}function n(t,i){t.super_=i;var r=function(){};r.prototype=i.prototype,t.prototype=new r,t.prototype.constructor=t}function h(t,i,r){if(h.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&('le'!==i&&'be'!==i||(r=i,i=10),this._init(t||0,i||10,r||'be'))}var e;'object'==typeof t?t.exports=h:i.BN=h,h.BN=h,h.wordSize=26;try{e='undefined'!=typeof window&&void 0!==window.Buffer?window.Buffer:_r(d[0]).Buffer}catch(t){}function o(t,i){var r=t.charCodeAt(i);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function s(t,i,r){var n=o(t,r);return r-1>=i&&(n|=o(t,r-1)<<4),n}function u(t,i,r,n){for(var h=0,e=Math.min(t.length,r),o=i;o<e;o++){var s=t.charCodeAt(o)-48;h*=n,h+=s>=49?s-49+10:s>=17?s-17+10:s}return h}h.isBN=function(t){return t instanceof h||null!==t&&'object'==typeof t&&t.constructor.wordSize===h.wordSize&&Array.isArray(t.words)},h.max=function(t,i){return t.cmp(i)>0?t:i},h.min=function(t,i){return t.cmp(i)<0?t:i},h.prototype._init=function(t,i,n){if('number'==typeof t)return this._initNumber(t,i,n);if('object'==typeof t)return this._initArray(t,i,n);'hex'===i&&(i=16),r(i===(0|i)&&i>=2&&i<=36);var h=0;'-'===(t=t.toString().replace(/\s+/g,''))[0]&&(h++,this.negative=1),h<t.length&&(16===i?this._parseHex(t,h,n):(this._parseBase(t,i,h),'le'===n&&this._initArray(this.toArray(),i,n)))},h.prototype._initNumber=function(t,i,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),'le'===n&&this._initArray(this.toArray(),i,n)},h.prototype._initArray=function(t,i,n){if(r('number'==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var e,o,s=0;if('be'===n)for(h=t.length-1,e=0;h>=0;h-=3)o=t[h]|t[h-1]<<8|t[h-2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);else if('le'===n)for(h=0,e=0;h<t.length;h+=3)o=t[h]|t[h+1]<<8|t[h+2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);return this.strip()},h.prototype._parseHex=function(t,i,r){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var h,e=0,o=0;if('be'===r)for(n=t.length-1;n>=i;n-=2)h=s(t,i,n)<<e,this.words[o]|=67108863&h,e>=18?(e-=18,o+=1,this.words[o]|=h>>>26):e+=8;else for(n=(t.length-i)%2==0?i+1:i;n<t.length;n+=2)h=s(t,i,n)<<e,this.words[o]|=67108863&h,e>=18?(e-=18,o+=1,this.words[o]|=h>>>26):e+=8;this.strip()},h.prototype._parseBase=function(t,i,r){this.words=[0],this.length=1;for(var n=0,h=1;h<=67108863;h*=i)n++;n--,h=h/i|0;for(var e=t.length-r,o=e%n,s=Math.min(e,e-o)+r,a=0,l=r;l<s;l+=n)a=u(t,l,l+n,i),this.imuln(h),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==o){var m=1;for(a=u(t,l,t.length,i),l=0;l<o;l++)m*=i;this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},h.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},h.prototype.clone=function(){var t=new h(null);return this.copy(t),t},h.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},h.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},h.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},h.prototype.inspect=function(){return(this.red?'<BN-R: ':'<BN: ')+this.toString(16)+'>'};var a=['','0','00','000','0000','00000','000000','0000000','00000000','000000000','0000000000','00000000000','000000000000','0000000000000','00000000000000','000000000000000','0000000000000000','00000000000000000','000000000000000000','0000000000000000000','00000000000000000000','000000000000000000000','0000000000000000000000','00000000000000000000000','000000000000000000000000','0000000000000000000000000'],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t){for(var i=new Array(t.bitLength()),r=0;r<i.length;r++){var n=r/26|0,h=r%26;i[r]=(t.words[n]&1<<h)>>>h}return i}function p(t,i,r){r.negative=i.negative^t.negative;var n=t.length+i.length|0;r.length=n,n=n-1|0;var h=0|t.words[0],e=0|i.words[0],o=h*e,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var a=1;a<n;a++){for(var l=u>>>26,m=67108863&u,f=Math.min(a,i.length-1),p=Math.max(0,a-t.length+1);p<=f;p++){var M=a-p|0;l+=(o=(h=0|t.words[M])*(e=0|i.words[p])+m)/67108864|0,m=67108863&o}r.words[a]=0|m,u=0|l}return 0!==u?r.words[a]=0|u:r.length--,r.strip()}h.prototype.toString=function(t,i){var n;if(i=0|i||1,16===(t=t||10)||'hex'===t){n='';for(var h=0,e=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<h|e)).toString(16);e=s>>>24-h&16777215,(h+=2)>=26&&(h-=26,o--),n=0!==e||o!==this.length-1?a[6-u.length]+u+n:u+n}for(0!==e&&(n=e.toString(16)+n);n.length%i!=0;)n='0'+n;return 0!==this.negative&&(n='-'+n),n}if(t===(0|t)&&t>=2&&t<=36){var f=l[t],p=m[t];n='';var M=this.clone();for(M.negative=0;!M.isZero();){var v=M.modn(p).toString(t);n=(M=M.idivn(p)).isZero()?v+n:a[f-v.length]+v+n}for(this.isZero()&&(n='0'+n);n.length%i!=0;)n='0'+n;return 0!==this.negative&&(n='-'+n),n}r(!1,'Base should be between 2 and 36')},h.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,'Number can only safely store up to 53 bits'),0!==this.negative?-t:t},h.prototype.toJSON=function(){return this.toString(16)},h.prototype.toBuffer=function(t,i){return r(void 0!==e),this.toArrayLike(e,t,i)},h.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)},h.prototype.toArrayLike=function(t,i,n){var h=this.byteLength(),e=n||Math.max(1,h);r(h<=e,'byte array longer than desired length'),r(e>0,'Requested array length <= 0'),this.strip();var o,s,u='le'===i,a=new t(e),l=this.clone();if(u){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[s]=o;for(;s<e;s++)a[s]=0}else{for(s=0;s<e-h;s++)a[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[e-s-1]=o}return a},Math.clz32?h.prototype._countBits=function(t){return 32-Math.clz32(t)}:h.prototype._countBits=function(t){var i=t,r=0;return i>=4096&&(r+=13,i>>>=13),i>=64&&(r+=7,i>>>=7),i>=8&&(r+=4,i>>>=4),i>=2&&(r+=2,i>>>=2),r+i},h.prototype._zeroBits=function(t){if(0===t)return 26;var i=t,r=0;return 0==(8191&i)&&(r+=13,i>>>=13),0==(127&i)&&(r+=7,i>>>=7),0==(15&i)&&(r+=4,i>>>=4),0==(3&i)&&(r+=2,i>>>=2),0==(1&i)&&r++,r},h.prototype.bitLength=function(){var t=this.words[this.length-1],i=this._countBits(t);return 26*(this.length-1)+i},h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var r=this._zeroBits(this.words[i]);if(t+=r,26!==r)break}return t},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},h.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return 0!==this.negative},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this.strip()},h.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},h.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},h.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},h.prototype.iuand=function(t){var i;i=this.length>t.length?t:this;for(var r=0;r<i.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=i.length,this.strip()},h.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},h.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},h.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},h.prototype.iuxor=function(t){var i,r;this.length>t.length?(i=this,r=t):(i=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=i.words[n]^r.words[n];if(this!==i)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=i.length,this.strip()},h.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},h.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},h.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},h.prototype.inotn=function(t){r('number'==typeof t&&t>=0);var i=0|Math.ceil(t/26),n=t%26;this._expand(i),n>0&&i--;for(var h=0;h<i;h++)this.words[h]=67108863&~this.words[h];return n>0&&(this.words[h]=~this.words[h]&67108863>>26-n),this.strip()},h.prototype.notn=function(t){return this.clone().inotn(t)},h.prototype.setn=function(t,i){r('number'==typeof t&&t>=0);var n=t/26|0,h=t%26;return this._expand(n+1),this.words[n]=i?this.words[n]|1<<h:this.words[n]&~(1<<h),this.strip()},h.prototype.iadd=function(t){var i,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var h=0,e=0;e<n.length;e++)i=(0|r.words[e])+(0|n.words[e])+h,this.words[e]=67108863&i,h=i>>>26;for(;0!==h&&e<r.length;e++)i=(0|r.words[e])+h,this.words[e]=67108863&i,h=i>>>26;if(this.length=r.length,0!==h)this.words[this.length]=h,this.length++;else if(r!==this)for(;e<r.length;e++)this.words[e]=r.words[e];return this},h.prototype.add=function(t){var i;return 0!==t.negative&&0===this.negative?(t.negative=0,i=this.sub(t),t.negative^=1,i):0===t.negative&&0!==this.negative?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},h.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,h=this.cmp(t);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(r=this,n=t):(r=t,n=this);for(var e=0,o=0;o<n.length;o++)e=(i=(0|r.words[o])-(0|n.words[o])+e)>>26,this.words[o]=67108863&i;for(;0!==e&&o<r.length;o++)e=(i=(0|r.words[o])+e)>>26,this.words[o]=67108863&i;if(0===e&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},h.prototype.sub=function(t){return this.clone().isub(t)};var M=function(t,i,r){var n,h,e,o=t.words,s=i.words,u=r.words,a=0,l=0|o[0],m=8191&l,f=l>>>13,p=0|o[1],M=8191&p,v=p>>>13,g=0|o[2],c=8191&g,w=g>>>13,y=0|o[3],b=8191&y,_=y>>>13,k=0|o[4],A=8191&k,x=k>>>13,S=0|o[5],Z=8191&S,B=S>>>13,R=0|o[6],q=8191&R,N=R>>>13,L=0|o[7],I=8191&L,z=L>>>13,T=0|o[8],E=8191&T,O=T>>>13,j=0|o[9],K=8191&j,P=j>>>13,F=0|s[0],C=8191&F,D=F>>>13,H=0|s[1],J=8191&H,U=H>>>13,G=0|s[2],Q=8191&G,V=G>>>13,W=0|s[3],X=8191&W,Y=W>>>13,$=0|s[4],tt=8191&$,it=$>>>13,rt=0|s[5],nt=8191&rt,ht=rt>>>13,et=0|s[6],ot=8191&et,st=et>>>13,ut=0|s[7],at=8191&ut,lt=ut>>>13,mt=0|s[8],ft=8191&mt,dt=mt>>>13,pt=0|s[9],Mt=8191&pt,vt=pt>>>13;r.negative=t.negative^i.negative,r.length=19;var gt=(a+(n=Math.imul(m,C))|0)+((8191&(h=(h=Math.imul(m,D))+Math.imul(f,C)|0))<<13)|0;a=((e=Math.imul(f,D))+(h>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(M,C),h=(h=Math.imul(M,D))+Math.imul(v,C)|0,e=Math.imul(v,D);var ct=(a+(n=n+Math.imul(m,J)|0)|0)+((8191&(h=(h=h+Math.imul(m,U)|0)+Math.imul(f,J)|0))<<13)|0;a=((e=e+Math.imul(f,U)|0)+(h>>>13)|0)+(ct>>>26)|0,ct&=67108863,n=Math.imul(c,C),h=(h=Math.imul(c,D))+Math.imul(w,C)|0,e=Math.imul(w,D),n=n+Math.imul(M,J)|0,h=(h=h+Math.imul(M,U)|0)+Math.imul(v,J)|0,e=e+Math.imul(v,U)|0;var wt=(a+(n=n+Math.imul(m,Q)|0)|0)+((8191&(h=(h=h+Math.imul(m,V)|0)+Math.imul(f,Q)|0))<<13)|0;a=((e=e+Math.imul(f,V)|0)+(h>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(b,C),h=(h=Math.imul(b,D))+Math.imul(_,C)|0,e=Math.imul(_,D),n=n+Math.imul(c,J)|0,h=(h=h+Math.imul(c,U)|0)+Math.imul(w,J)|0,e=e+Math.imul(w,U)|0,n=n+Math.imul(M,Q)|0,h=(h=h+Math.imul(M,V)|0)+Math.imul(v,Q)|0,e=e+Math.imul(v,V)|0;var yt=(a+(n=n+Math.imul(m,X)|0)|0)+((8191&(h=(h=h+Math.imul(m,Y)|0)+Math.imul(f,X)|0))<<13)|0;a=((e=e+Math.imul(f,Y)|0)+(h>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(A,C),h=(h=Math.imul(A,D))+Math.imul(x,C)|0,e=Math.imul(x,D),n=n+Math.imul(b,J)|0,h=(h=h+Math.imul(b,U)|0)+Math.imul(_,J)|0,e=e+Math.imul(_,U)|0,n=n+Math.imul(c,Q)|0,h=(h=h+Math.imul(c,V)|0)+Math.imul(w,Q)|0,e=e+Math.imul(w,V)|0,n=n+Math.imul(M,X)|0,h=(h=h+Math.imul(M,Y)|0)+Math.imul(v,X)|0,e=e+Math.imul(v,Y)|0;var bt=(a+(n=n+Math.imul(m,tt)|0)|0)+((8191&(h=(h=h+Math.imul(m,it)|0)+Math.imul(f,tt)|0))<<13)|0;a=((e=e+Math.imul(f,it)|0)+(h>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(Z,C),h=(h=Math.imul(Z,D))+Math.imul(B,C)|0,e=Math.imul(B,D),n=n+Math.imul(A,J)|0,h=(h=h+Math.imul(A,U)|0)+Math.imul(x,J)|0,e=e+Math.imul(x,U)|0,n=n+Math.imul(b,Q)|0,h=(h=h+Math.imul(b,V)|0)+Math.imul(_,Q)|0,e=e+Math.imul(_,V)|0,n=n+Math.imul(c,X)|0,h=(h=h+Math.imul(c,Y)|0)+Math.imul(w,X)|0,e=e+Math.imul(w,Y)|0,n=n+Math.imul(M,tt)|0,h=(h=h+Math.imul(M,it)|0)+Math.imul(v,tt)|0,e=e+Math.imul(v,it)|0;var _t=(a+(n=n+Math.imul(m,nt)|0)|0)+((8191&(h=(h=h+Math.imul(m,ht)|0)+Math.imul(f,nt)|0))<<13)|0;a=((e=e+Math.imul(f,ht)|0)+(h>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(q,C),h=(h=Math.imul(q,D))+Math.imul(N,C)|0,e=Math.imul(N,D),n=n+Math.imul(Z,J)|0,h=(h=h+Math.imul(Z,U)|0)+Math.imul(B,J)|0,e=e+Math.imul(B,U)|0,n=n+Math.imul(A,Q)|0,h=(h=h+Math.imul(A,V)|0)+Math.imul(x,Q)|0,e=e+Math.imul(x,V)|0,n=n+Math.imul(b,X)|0,h=(h=h+Math.imul(b,Y)|0)+Math.imul(_,X)|0,e=e+Math.imul(_,Y)|0,n=n+Math.imul(c,tt)|0,h=(h=h+Math.imul(c,it)|0)+Math.imul(w,tt)|0,e=e+Math.imul(w,it)|0,n=n+Math.imul(M,nt)|0,h=(h=h+Math.imul(M,ht)|0)+Math.imul(v,nt)|0,e=e+Math.imul(v,ht)|0;var kt=(a+(n=n+Math.imul(m,ot)|0)|0)+((8191&(h=(h=h+Math.imul(m,st)|0)+Math.imul(f,ot)|0))<<13)|0;a=((e=e+Math.imul(f,st)|0)+(h>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(I,C),h=(h=Math.imul(I,D))+Math.imul(z,C)|0,e=Math.imul(z,D),n=n+Math.imul(q,J)|0,h=(h=h+Math.imul(q,U)|0)+Math.imul(N,J)|0,e=e+Math.imul(N,U)|0,n=n+Math.imul(Z,Q)|0,h=(h=h+Math.imul(Z,V)|0)+Math.imul(B,Q)|0,e=e+Math.imul(B,V)|0,n=n+Math.imul(A,X)|0,h=(h=h+Math.imul(A,Y)|0)+Math.imul(x,X)|0,e=e+Math.imul(x,Y)|0,n=n+Math.imul(b,tt)|0,h=(h=h+Math.imul(b,it)|0)+Math.imul(_,tt)|0,e=e+Math.imul(_,it)|0,n=n+Math.imul(c,nt)|0,h=(h=h+Math.imul(c,ht)|0)+Math.imul(w,nt)|0,e=e+Math.imul(w,ht)|0,n=n+Math.imul(M,ot)|0,h=(h=h+Math.imul(M,st)|0)+Math.imul(v,ot)|0,e=e+Math.imul(v,st)|0;var At=(a+(n=n+Math.imul(m,at)|0)|0)+((8191&(h=(h=h+Math.imul(m,lt)|0)+Math.imul(f,at)|0))<<13)|0;a=((e=e+Math.imul(f,lt)|0)+(h>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(E,C),h=(h=Math.imul(E,D))+Math.imul(O,C)|0,e=Math.imul(O,D),n=n+Math.imul(I,J)|0,h=(h=h+Math.imul(I,U)|0)+Math.imul(z,J)|0,e=e+Math.imul(z,U)|0,n=n+Math.imul(q,Q)|0,h=(h=h+Math.imul(q,V)|0)+Math.imul(N,Q)|0,e=e+Math.imul(N,V)|0,n=n+Math.imul(Z,X)|0,h=(h=h+Math.imul(Z,Y)|0)+Math.imul(B,X)|0,e=e+Math.imul(B,Y)|0,n=n+Math.imul(A,tt)|0,h=(h=h+Math.imul(A,it)|0)+Math.imul(x,tt)|0,e=e+Math.imul(x,it)|0,n=n+Math.imul(b,nt)|0,h=(h=h+Math.imul(b,ht)|0)+Math.imul(_,nt)|0,e=e+Math.imul(_,ht)|0,n=n+Math.imul(c,ot)|0,h=(h=h+Math.imul(c,st)|0)+Math.imul(w,ot)|0,e=e+Math.imul(w,st)|0,n=n+Math.imul(M,at)|0,h=(h=h+Math.imul(M,lt)|0)+Math.imul(v,at)|0,e=e+Math.imul(v,lt)|0;var xt=(a+(n=n+Math.imul(m,ft)|0)|0)+((8191&(h=(h=h+Math.imul(m,dt)|0)+Math.imul(f,ft)|0))<<13)|0;a=((e=e+Math.imul(f,dt)|0)+(h>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(K,C),h=(h=Math.imul(K,D))+Math.imul(P,C)|0,e=Math.imul(P,D),n=n+Math.imul(E,J)|0,h=(h=h+Math.imul(E,U)|0)+Math.imul(O,J)|0,e=e+Math.imul(O,U)|0,n=n+Math.imul(I,Q)|0,h=(h=h+Math.imul(I,V)|0)+Math.imul(z,Q)|0,e=e+Math.imul(z,V)|0,n=n+Math.imul(q,X)|0,h=(h=h+Math.imul(q,Y)|0)+Math.imul(N,X)|0,e=e+Math.imul(N,Y)|0,n=n+Math.imul(Z,tt)|0,h=(h=h+Math.imul(Z,it)|0)+Math.imul(B,tt)|0,e=e+Math.imul(B,it)|0,n=n+Math.imul(A,nt)|0,h=(h=h+Math.imul(A,ht)|0)+Math.imul(x,nt)|0,e=e+Math.imul(x,ht)|0,n=n+Math.imul(b,ot)|0,h=(h=h+Math.imul(b,st)|0)+Math.imul(_,ot)|0,e=e+Math.imul(_,st)|0,n=n+Math.imul(c,at)|0,h=(h=h+Math.imul(c,lt)|0)+Math.imul(w,at)|0,e=e+Math.imul(w,lt)|0,n=n+Math.imul(M,ft)|0,h=(h=h+Math.imul(M,dt)|0)+Math.imul(v,ft)|0,e=e+Math.imul(v,dt)|0;var St=(a+(n=n+Math.imul(m,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(m,vt)|0)+Math.imul(f,Mt)|0))<<13)|0;a=((e=e+Math.imul(f,vt)|0)+(h>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(K,J),h=(h=Math.imul(K,U))+Math.imul(P,J)|0,e=Math.imul(P,U),n=n+Math.imul(E,Q)|0,h=(h=h+Math.imul(E,V)|0)+Math.imul(O,Q)|0,e=e+Math.imul(O,V)|0,n=n+Math.imul(I,X)|0,h=(h=h+Math.imul(I,Y)|0)+Math.imul(z,X)|0,e=e+Math.imul(z,Y)|0,n=n+Math.imul(q,tt)|0,h=(h=h+Math.imul(q,it)|0)+Math.imul(N,tt)|0,e=e+Math.imul(N,it)|0,n=n+Math.imul(Z,nt)|0,h=(h=h+Math.imul(Z,ht)|0)+Math.imul(B,nt)|0,e=e+Math.imul(B,ht)|0,n=n+Math.imul(A,ot)|0,h=(h=h+Math.imul(A,st)|0)+Math.imul(x,ot)|0,e=e+Math.imul(x,st)|0,n=n+Math.imul(b,at)|0,h=(h=h+Math.imul(b,lt)|0)+Math.imul(_,at)|0,e=e+Math.imul(_,lt)|0,n=n+Math.imul(c,ft)|0,h=(h=h+Math.imul(c,dt)|0)+Math.imul(w,ft)|0,e=e+Math.imul(w,dt)|0;var Zt=(a+(n=n+Math.imul(M,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(M,vt)|0)+Math.imul(v,Mt)|0))<<13)|0;a=((e=e+Math.imul(v,vt)|0)+(h>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,n=Math.imul(K,Q),h=(h=Math.imul(K,V))+Math.imul(P,Q)|0,e=Math.imul(P,V),n=n+Math.imul(E,X)|0,h=(h=h+Math.imul(E,Y)|0)+Math.imul(O,X)|0,e=e+Math.imul(O,Y)|0,n=n+Math.imul(I,tt)|0,h=(h=h+Math.imul(I,it)|0)+Math.imul(z,tt)|0,e=e+Math.imul(z,it)|0,n=n+Math.imul(q,nt)|0,h=(h=h+Math.imul(q,ht)|0)+Math.imul(N,nt)|0,e=e+Math.imul(N,ht)|0,n=n+Math.imul(Z,ot)|0,h=(h=h+Math.imul(Z,st)|0)+Math.imul(B,ot)|0,e=e+Math.imul(B,st)|0,n=n+Math.imul(A,at)|0,h=(h=h+Math.imul(A,lt)|0)+Math.imul(x,at)|0,e=e+Math.imul(x,lt)|0,n=n+Math.imul(b,ft)|0,h=(h=h+Math.imul(b,dt)|0)+Math.imul(_,ft)|0,e=e+Math.imul(_,dt)|0;var Bt=(a+(n=n+Math.imul(c,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(c,vt)|0)+Math.imul(w,Mt)|0))<<13)|0;a=((e=e+Math.imul(w,vt)|0)+(h>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(K,X),h=(h=Math.imul(K,Y))+Math.imul(P,X)|0,e=Math.imul(P,Y),n=n+Math.imul(E,tt)|0,h=(h=h+Math.imul(E,it)|0)+Math.imul(O,tt)|0,e=e+Math.imul(O,it)|0,n=n+Math.imul(I,nt)|0,h=(h=h+Math.imul(I,ht)|0)+Math.imul(z,nt)|0,e=e+Math.imul(z,ht)|0,n=n+Math.imul(q,ot)|0,h=(h=h+Math.imul(q,st)|0)+Math.imul(N,ot)|0,e=e+Math.imul(N,st)|0,n=n+Math.imul(Z,at)|0,h=(h=h+Math.imul(Z,lt)|0)+Math.imul(B,at)|0,e=e+Math.imul(B,lt)|0,n=n+Math.imul(A,ft)|0,h=(h=h+Math.imul(A,dt)|0)+Math.imul(x,ft)|0,e=e+Math.imul(x,dt)|0;var Rt=(a+(n=n+Math.imul(b,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(b,vt)|0)+Math.imul(_,Mt)|0))<<13)|0;a=((e=e+Math.imul(_,vt)|0)+(h>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(K,tt),h=(h=Math.imul(K,it))+Math.imul(P,tt)|0,e=Math.imul(P,it),n=n+Math.imul(E,nt)|0,h=(h=h+Math.imul(E,ht)|0)+Math.imul(O,nt)|0,e=e+Math.imul(O,ht)|0,n=n+Math.imul(I,ot)|0,h=(h=h+Math.imul(I,st)|0)+Math.imul(z,ot)|0,e=e+Math.imul(z,st)|0,n=n+Math.imul(q,at)|0,h=(h=h+Math.imul(q,lt)|0)+Math.imul(N,at)|0,e=e+Math.imul(N,lt)|0,n=n+Math.imul(Z,ft)|0,h=(h=h+Math.imul(Z,dt)|0)+Math.imul(B,ft)|0,e=e+Math.imul(B,dt)|0;var qt=(a+(n=n+Math.imul(A,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(A,vt)|0)+Math.imul(x,Mt)|0))<<13)|0;a=((e=e+Math.imul(x,vt)|0)+(h>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(K,nt),h=(h=Math.imul(K,ht))+Math.imul(P,nt)|0,e=Math.imul(P,ht),n=n+Math.imul(E,ot)|0,h=(h=h+Math.imul(E,st)|0)+Math.imul(O,ot)|0,e=e+Math.imul(O,st)|0,n=n+Math.imul(I,at)|0,h=(h=h+Math.imul(I,lt)|0)+Math.imul(z,at)|0,e=e+Math.imul(z,lt)|0,n=n+Math.imul(q,ft)|0,h=(h=h+Math.imul(q,dt)|0)+Math.imul(N,ft)|0,e=e+Math.imul(N,dt)|0;var Nt=(a+(n=n+Math.imul(Z,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(Z,vt)|0)+Math.imul(B,Mt)|0))<<13)|0;a=((e=e+Math.imul(B,vt)|0)+(h>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(K,ot),h=(h=Math.imul(K,st))+Math.imul(P,ot)|0,e=Math.imul(P,st),n=n+Math.imul(E,at)|0,h=(h=h+Math.imul(E,lt)|0)+Math.imul(O,at)|0,e=e+Math.imul(O,lt)|0,n=n+Math.imul(I,ft)|0,h=(h=h+Math.imul(I,dt)|0)+Math.imul(z,ft)|0,e=e+Math.imul(z,dt)|0;var Lt=(a+(n=n+Math.imul(q,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(q,vt)|0)+Math.imul(N,Mt)|0))<<13)|0;a=((e=e+Math.imul(N,vt)|0)+(h>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(K,at),h=(h=Math.imul(K,lt))+Math.imul(P,at)|0,e=Math.imul(P,lt),n=n+Math.imul(E,ft)|0,h=(h=h+Math.imul(E,dt)|0)+Math.imul(O,ft)|0,e=e+Math.imul(O,dt)|0;var It=(a+(n=n+Math.imul(I,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(I,vt)|0)+Math.imul(z,Mt)|0))<<13)|0;a=((e=e+Math.imul(z,vt)|0)+(h>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(K,ft),h=(h=Math.imul(K,dt))+Math.imul(P,ft)|0,e=Math.imul(P,dt);var zt=(a+(n=n+Math.imul(E,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(E,vt)|0)+Math.imul(O,Mt)|0))<<13)|0;a=((e=e+Math.imul(O,vt)|0)+(h>>>13)|0)+(zt>>>26)|0,zt&=67108863;var Tt=(a+(n=Math.imul(K,Mt))|0)+((8191&(h=(h=Math.imul(K,vt))+Math.imul(P,Mt)|0))<<13)|0;return a=((e=Math.imul(P,vt))+(h>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,u[0]=gt,u[1]=ct,u[2]=wt,u[3]=yt,u[4]=bt,u[5]=_t,u[6]=kt,u[7]=At,u[8]=xt,u[9]=St,u[10]=Zt,u[11]=Bt,u[12]=Rt,u[13]=qt,u[14]=Nt,u[15]=Lt,u[16]=It,u[17]=zt,u[18]=Tt,0!==a&&(u[19]=a,r.length++),r};function v(t,i,r){r.negative=i.negative^t.negative,r.length=t.length+i.length;for(var n=0,h=0,e=0;e<r.length-1;e++){var o=h;h=0;for(var s=67108863&n,u=Math.min(e,i.length-1),a=Math.max(0,e-t.length+1);a<=u;a++){var l=e-a,m=(0|t.words[l])*(0|i.words[a]),f=67108863&m;s=67108863&(f=f+s|0),h+=(o=(o=o+(m/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[e]=s,n=o,o=h}return 0!==n?r.words[e]=n:r.length--,r.strip()}function g(t,i,r){return(new c).mulp(t,i,r)}function c(t,i){this.x=t,this.y=i}Math.imul||(M=p),h.prototype.mulTo=function(t,i){var r=this.length+t.length;return 10===this.length&&10===t.length?M(this,t,i):r<63?p(this,t,i):r<1024?v(this,t,i):g(this,t,i)},c.prototype.makeRBT=function(t){for(var i=new Array(t),r=h.prototype._countBits(t)-1,n=0;n<t;n++)i[n]=this.revBin(n,r,t);return i},c.prototype.revBin=function(t,i,r){if(0===t||t===r-1)return t;for(var n=0,h=0;h<i;h++)n|=(1&t)<<i-h-1,t>>=1;return n},c.prototype.permute=function(t,i,r,n,h,e){for(var o=0;o<e;o++)n[o]=i[t[o]],h[o]=r[t[o]]},c.prototype.transform=function(t,i,r,n,h,e){this.permute(e,t,i,r,n,h);for(var o=1;o<h;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),a=Math.sin(2*Math.PI/s),l=0;l<h;l+=s)for(var m=u,f=a,p=0;p<o;p++){var M=r[l+p],v=n[l+p],g=r[l+p+o],c=n[l+p+o],w=m*g-f*c;c=m*c+f*g,g=w,r[l+p]=M+g,n[l+p]=v+c,r[l+p+o]=M-g,n[l+p+o]=v-c,p!==s&&(w=u*m-a*f,f=u*f+a*m,m=w)}},c.prototype.guessLen13b=function(t,i){var r=1|Math.max(i,t),n=1&r,h=0;for(r=r/2|0;r;r>>>=1)h++;return 1<<h+1+n},c.prototype.conjugate=function(t,i,r){if(!(r<=1))for(var n=0;n<r/2;n++){var h=t[n];t[n]=t[r-n-1],t[r-n-1]=h,h=i[n],i[n]=-i[r-n-1],i[r-n-1]=-h}},c.prototype.normalize13b=function(t,i){for(var r=0,n=0;n<i/2;n++){var h=8192*Math.round(t[2*n+1]/i)+Math.round(t[2*n]/i)+r;t[n]=67108863&h,r=h<67108864?0:h/67108864|0}return t},c.prototype.convert13b=function(t,i,n,h){for(var e=0,o=0;o<i;o++)e+=0|t[o],n[2*o]=8191&e,e>>>=13,n[2*o+1]=8191&e,e>>>=13;for(o=2*i;o<h;++o)n[o]=0;r(0===e),r(0==(-8192&e))},c.prototype.stub=function(t){for(var i=new Array(t),r=0;r<t;r++)i[r]=0;return i},c.prototype.mulp=function(t,i,r){var n=2*this.guessLen13b(t.length,i.length),h=this.makeRBT(n),e=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),a=new Array(n),l=new Array(n),m=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(i.words,i.length,a,n),this.transform(o,e,s,u,n,h),this.transform(a,e,l,m,n,h);for(var p=0;p<n;p++){var M=s[p]*l[p]-u[p]*m[p];u[p]=s[p]*m[p]+u[p]*l[p],s[p]=M}return this.conjugate(s,u,n),this.transform(s,u,f,e,n,h),this.conjugate(f,e,n),this.normalize13b(f,n),r.negative=t.negative^i.negative,r.length=t.length+i.length,r.strip()},h.prototype.mul=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},h.prototype.mulf=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),g(this,t,i)},h.prototype.imul=function(t){return this.clone().mulTo(t,this)},h.prototype.imuln=function(t){r('number'==typeof t),r(t<67108864);for(var i=0,n=0;n<this.length;n++){var h=(0|this.words[n])*t,e=(67108863&h)+(67108863&i);i>>=26,i+=h/67108864|0,i+=e>>>26,this.words[n]=67108863&e}return 0!==i&&(this.words[n]=i,this.length++),this},h.prototype.muln=function(t){return this.clone().imuln(t)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(t){var i=f(t);if(0===i.length)return new h(1);for(var r=this,n=0;n<i.length&&0===i[n];n++,r=r.sqr());if(++n<i.length)for(var e=r.sqr();n<i.length;n++,e=e.sqr())0!==i[n]&&(r=r.mul(e));return r},h.prototype.iushln=function(t){r('number'==typeof t&&t>=0);var i,n=t%26,h=(t-n)/26,e=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(i=0;i<this.length;i++){var s=this.words[i]&e,u=(0|this.words[i])-s<<n;this.words[i]=u|o,o=s>>>26-n}o&&(this.words[i]=o,this.length++)}if(0!==h){for(i=this.length-1;i>=0;i--)this.words[i+h]=this.words[i];for(i=0;i<h;i++)this.words[i]=0;this.length+=h}return this.strip()},h.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},h.prototype.iushrn=function(t,i,n){var h;r('number'==typeof t&&t>=0),h=i?(i-i%26)/26:0;var e=t%26,o=Math.min((t-e)/26,this.length),s=67108863^67108863>>>e<<e,u=n;if(h-=o,h=Math.max(0,h),u){for(var a=0;a<o;a++)u.words[a]=this.words[a];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,a=0;a<this.length;a++)this.words[a]=this.words[a+o];else this.words[0]=0,this.length=1;var l=0;for(a=this.length-1;a>=0&&(0!==l||a>=h);a--){var m=0|this.words[a];this.words[a]=l<<26-e|m>>>e,l=m&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},h.prototype.ishrn=function(t,i,n){return r(0===this.negative),this.iushrn(t,i,n)},h.prototype.shln=function(t){return this.clone().ishln(t)},h.prototype.ushln=function(t){return this.clone().iushln(t)},h.prototype.shrn=function(t){return this.clone().ishrn(t)},h.prototype.ushrn=function(t){return this.clone().iushrn(t)},h.prototype.testn=function(t){r('number'==typeof t&&t>=0);var i=t%26,n=(t-i)/26,h=1<<i;return!(this.length<=n)&&!!(this.words[n]&h)},h.prototype.imaskn=function(t){r('number'==typeof t&&t>=0);var i=t%26,n=(t-i)/26;if(r(0===this.negative,'imaskn works only with positive numbers'),this.length<=n)return this;if(0!==i&&n++,this.length=Math.min(n,this.length),0!==i){var h=67108863^67108863>>>i<<i;this.words[this.length-1]&=h}return this.strip()},h.prototype.maskn=function(t){return this.clone().imaskn(t)},h.prototype.iaddn=function(t){return r('number'==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},h.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},h.prototype.isubn=function(t){if(r('number'==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},h.prototype.addn=function(t){return this.clone().iaddn(t)},h.prototype.subn=function(t){return this.clone().isubn(t)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(t,i,n){var h,e,o=t.length+n;this._expand(o);var s=0;for(h=0;h<t.length;h++){e=(0|this.words[h+n])+s;var u=(0|t.words[h])*i;s=((e-=67108863&u)>>26)-(u/67108864|0),this.words[h+n]=67108863&e}for(;h<this.length-n;h++)s=(e=(0|this.words[h+n])+s)>>26,this.words[h+n]=67108863&e;if(0===s)return this.strip();for(r(-1===s),s=0,h=0;h<this.length;h++)s=(e=-(0|this.words[h])+s)>>26,this.words[h]=67108863&e;return this.negative=1,this.strip()},h.prototype._wordDiv=function(t,i){var r=(this.length,t.length),n=this.clone(),e=t,o=0|e.words[e.length-1];0!==(r=26-this._countBits(o))&&(e=e.ushln(r),n.iushln(r),o=0|e.words[e.length-1]);var s,u=n.length-e.length;if('mod'!==i){(s=new h(null)).length=u+1,s.words=new Array(s.length);for(var a=0;a<s.length;a++)s.words[a]=0}var l=n.clone()._ishlnsubmul(e,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var m=u-1;m>=0;m--){var f=67108864*(0|n.words[e.length+m])+(0|n.words[e.length+m-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(e,f,m);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(e,1,m),n.isZero()||(n.negative^=1);s&&(s.words[m]=f)}return s&&s.strip(),n.strip(),'div'!==i&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},h.prototype.divmod=function(t,i,n){return r(!t.isZero()),this.isZero()?{div:new h(0),mod:new h(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,i),'mod'!==i&&(e=s.div.neg()),'div'!==i&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:e,mod:o}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),i),'mod'!==i&&(e=s.div.neg()),{div:e,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),i),'div'!==i&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:s.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new h(0),mod:this}:1===t.length?'div'===i?{div:this.divn(t.words[0]),mod:null}:'mod'===i?{div:null,mod:new h(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new h(this.modn(t.words[0]))}:this._wordDiv(t,i);var e,o,s},h.prototype.div=function(t){return this.divmod(t,'div',!1).div},h.prototype.mod=function(t){return this.divmod(t,'mod',!1).mod},h.prototype.umod=function(t){return this.divmod(t,'mod',!0).mod},h.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var r=0!==i.div.negative?i.mod.isub(t):i.mod,n=t.ushrn(1),h=t.andln(1),e=r.cmp(n);return e<0||1===h&&0===e?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},h.prototype.modn=function(t){r(t<=67108863);for(var i=67108864%t,n=0,h=this.length-1;h>=0;h--)n=(i*n+(0|this.words[h]))%t;return n},h.prototype.idivn=function(t){r(t<=67108863);for(var i=0,n=this.length-1;n>=0;n--){var h=(0|this.words[n])+67108864*i;this.words[n]=h/t|0,i=h%t}return this.strip()},h.prototype.divn=function(t){return this.clone().idivn(t)},h.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var i=this,n=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e=new h(1),o=new h(0),s=new h(0),u=new h(1),a=0;i.isEven()&&n.isEven();)i.iushrn(1),n.iushrn(1),++a;for(var l=n.clone(),m=i.clone();!i.isZero();){for(var f=0,p=1;0==(i.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(i.iushrn(f);f-- >0;)(e.isOdd()||o.isOdd())&&(e.iadd(l),o.isub(m)),e.iushrn(1),o.iushrn(1);for(var M=0,v=1;0==(n.words[0]&v)&&M<26;++M,v<<=1);if(M>0)for(n.iushrn(M);M-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(m)),s.iushrn(1),u.iushrn(1);i.cmp(n)>=0?(i.isub(n),e.isub(s),o.isub(u)):(n.isub(i),s.isub(e),u.isub(o))}return{a:s,b:u,gcd:n.iushln(a)}},h.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var i=this,n=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e,o=new h(1),s=new h(0),u=n.clone();i.cmpn(1)>0&&n.cmpn(1)>0;){for(var a=0,l=1;0==(i.words[0]&l)&&a<26;++a,l<<=1);if(a>0)for(i.iushrn(a);a-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var m=0,f=1;0==(n.words[0]&f)&&m<26;++m,f<<=1);if(m>0)for(n.iushrn(m);m-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);i.cmp(n)>=0?(i.isub(n),o.isub(s)):(n.isub(i),s.isub(o))}return(e=0===i.cmpn(1)?o:s).cmpn(0)<0&&e.iadd(t),e},h.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),r=t.clone();i.negative=0,r.negative=0;for(var n=0;i.isEven()&&r.isEven();n++)i.iushrn(1),r.iushrn(1);for(;;){for(;i.isEven();)i.iushrn(1);for(;r.isEven();)r.iushrn(1);var h=i.cmp(r);if(h<0){var e=i;i=r,r=e}else if(0===h||0===r.cmpn(1))break;i.isub(r)}return r.iushln(n)},h.prototype.invm=function(t){return this.egcd(t).a.umod(t)},h.prototype.isEven=function(){return 0==(1&this.words[0])},h.prototype.isOdd=function(){return 1==(1&this.words[0])},h.prototype.andln=function(t){return this.words[0]&t},h.prototype.bincn=function(t){r('number'==typeof t);var i=t%26,n=(t-i)/26,h=1<<i;if(this.length<=n)return this._expand(n+1),this.words[n]|=h,this;for(var e=h,o=n;0!==e&&o<this.length;o++){var s=0|this.words[o];e=(s+=e)>>>26,s&=67108863,this.words[o]=s}return 0!==e&&(this.words[o]=e,this.length++),this},h.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},h.prototype.cmpn=function(t){var i,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)i=1;else{n&&(t=-t),r(t<=67108863,'Number is too big');var h=0|this.words[0];i=h===t?0:h<t?-1:1}return 0!==this.negative?0|-i:i},h.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var i=this.ucmp(t);return 0!==this.negative?0|-i:i},h.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],h=0|t.words[r];if(n!==h){n<h?i=-1:n>h&&(i=1);break}}return i},h.prototype.gtn=function(t){return 1===this.cmpn(t)},h.prototype.gt=function(t){return 1===this.cmp(t)},h.prototype.gten=function(t){return this.cmpn(t)>=0},h.prototype.gte=function(t){return this.cmp(t)>=0},h.prototype.ltn=function(t){return-1===this.cmpn(t)},h.prototype.lt=function(t){return-1===this.cmp(t)},h.prototype.lten=function(t){return this.cmpn(t)<=0},h.prototype.lte=function(t){return this.cmp(t)<=0},h.prototype.eqn=function(t){return 0===this.cmpn(t)},h.prototype.eq=function(t){return 0===this.cmp(t)},h.red=function(t){return new x(t)},h.prototype.toRed=function(t){return r(!this.red,'Already a number in reduction context'),r(0===this.negative,'red works only with positives'),t.convertTo(this)._forceRed(t)},h.prototype.fromRed=function(){return r(this.red,'fromRed works only with numbers in reduction context'),this.red.convertFrom(this)},h.prototype._forceRed=function(t){return this.red=t,this},h.prototype.forceRed=function(t){return r(!this.red,'Already a number in reduction context'),this._forceRed(t)},h.prototype.redAdd=function(t){return r(this.red,'redAdd works only with red numbers'),this.red.add(this,t)},h.prototype.redIAdd=function(t){return r(this.red,'redIAdd works only with red numbers'),this.red.iadd(this,t)},h.prototype.redSub=function(t){return r(this.red,'redSub works only with red numbers'),this.red.sub(this,t)},h.prototype.redISub=function(t){return r(this.red,'redISub works only with red numbers'),this.red.isub(this,t)},h.prototype.redShl=function(t){return r(this.red,'redShl works only with red numbers'),this.red.shl(this,t)},h.prototype.redMul=function(t){return r(this.red,'redMul works only with red numbers'),this.red._verify2(this,t),this.red.mul(this,t)},h.prototype.redIMul=function(t){return r(this.red,'redMul works only with red numbers'),this.red._verify2(this,t),this.red.imul(this,t)},h.prototype.redSqr=function(){return r(this.red,'redSqr works only with red numbers'),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return r(this.red,'redISqr works only with red numbers'),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return r(this.red,'redSqrt works only with red numbers'),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return r(this.red,'redInvm works only with red numbers'),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return r(this.red,'redNeg works only with red numbers'),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(t){return r(this.red&&!t.red,'redPow(normalNum)'),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function y(t,i){this.name=t,this.p=new h(i,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,'k256','ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f')}function _(){y.call(this,'p224','ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001')}function k(){y.call(this,'p192','ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff')}function A(){y.call(this,'25519','7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed')}function x(t){if('string'==typeof t){var i=h._prime(t);this.m=i.p,this.prime=i}else r(t.gtn(1),'modulus must be greater than 1'),this.m=t,this.prime=null}function S(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new h(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var i,r=t;do{this.split(r,this.tmp),i=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(i>this.n);var n=i<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,i){t.iushrn(this.n,0,i)},y.prototype.imulK=function(t){return t.imul(this.k)},n(b,y),b.prototype.split=function(t,i){for(var r=Math.min(t.length,9),n=0;n<r;n++)i.words[n]=t.words[n];if(i.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var h=t.words[9];for(i.words[i.length++]=4194303&h,n=10;n<t.length;n++){var e=0|t.words[n];t.words[n-10]=(4194303&e)<<4|h>>>22,h=e}h>>>=22,t.words[n-10]=h,0===h&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,r=0;r<t.length;r++){var n=0|t.words[r];i+=977*n,t.words[r]=67108863&i,i=64*n+(i/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(_,y),n(k,y),n(A,y),A.prototype.imulK=function(t){for(var i=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+i,h=67108863&n;n>>>=26,t.words[r]=h,i=n}return 0!==i&&(t.words[t.length++]=i),t},h._prime=function(t){if(w[t])return w[t];var i;if('k256'===t)i=new b;else if('p224'===t)i=new _;else if('p192'===t)i=new k;else{if('p25519'!==t)throw new Error('Unknown prime '+t);i=new A}return w[t]=i,i},x.prototype._verify1=function(t){r(0===t.negative,'red works only with positives'),r(t.red,'red works only with red numbers')},x.prototype._verify2=function(t,i){r(0==(t.negative|i.negative),'red works only with positives'),r(t.red&&t.red===i.red,'red works only with red numbers')},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,i){this._verify2(t,i);var r=t.add(i);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(t,i){this._verify2(t,i);var r=t.iadd(i);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(t,i){this._verify2(t,i);var r=t.sub(i);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(t,i){this._verify2(t,i);var r=t.isub(i);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},x.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},x.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(r(i%2==1),3===i){var n=this.m.add(new h(1)).iushrn(2);return this.pow(t,n)}for(var e=this.m.subn(1),o=0;!e.isZero()&&0===e.andln(1);)o++,e.iushrn(1);r(!e.isZero());var s=new h(1).toRed(this),u=s.redNeg(),a=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new h(2*l*l).toRed(this);0!==this.pow(l,a).cmp(u);)l.redIAdd(u);for(var m=this.pow(l,e),f=this.pow(t,e.addn(1).iushrn(1)),p=this.pow(t,e),M=o;0!==p.cmp(s);){for(var v=p,g=0;0!==v.cmp(s);g++)v=v.redSqr();r(g<M);var c=this.pow(m,new h(1).iushln(M-g-1));f=f.redMul(c),m=c.redSqr(),p=p.redMul(m),M=g}return f},x.prototype.invm=function(t){var i=t._invmp(this.m);return 0!==i.negative?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},x.prototype.pow=function(t,i){if(i.isZero())return new h(1).toRed(this);if(0===i.cmpn(1))return t.clone();var r=new Array(16);r[0]=new h(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var e=r[0],o=0,s=0,u=i.bitLength()%26;for(0===u&&(u=26),n=i.length-1;n>=0;n--){for(var a=i.words[n],l=u-1;l>=0;l--){var m=a>>l&1;e!==r[0]&&(e=this.sqr(e)),0!==m||0!==o?(o<<=1,o|=m,(4===++s||0===n&&0===l)&&(e=this.mul(e,r[o]),s=0,o=0)):s=0}u=26}return e},x.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},x.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},h.mont=function(t){return new S(t)},n(S,x),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},S.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=r.isub(n).iushrn(this.shift),e=h;return h.cmp(this.m)>=0?e=h.isub(this.m):h.cmpn(0)<0&&(e=h.iadd(this.m)),e._forceRed(this)},S.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new h(0)._forceRed(this);var r=t.mul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=r.isub(n).iushrn(this.shift),o=e;return e.cmp(this.m)>=0?o=e.isub(this.m):e.cmpn(0)<0&&(o=e.iadd(this.m)),o._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}})(void 0===_m||_m,this)},610,[476]);
__d(function(g,r,i,a,m,e,d){e.publicEncrypt=r(d[0]),e.privateDecrypt=r(d[1]),e.privateEncrypt=function(t,c){return e.publicEncrypt(t,c,!0)},e.publicDecrypt=function(t,c){return e.privateDecrypt(t,c,!0)}},611,[612,617]);
__d(function(g,r,_i,a,m,e,d){function o(o,n){var f=o.modulus.byteLength(),t=n.length,u=r(d[4])('sha1').update(r(d[5]).Buffer.alloc(0)).digest(),l=u.length,c=2*l;if(t>f-c-2)throw new Error('message too long');var i=r(d[5]).Buffer.alloc(f-t-c-2),s=f-l-1,w=r(d[6])(l),h=r(d[7])(r(d[5]).Buffer.concat([u,i,r(d[5]).Buffer.alloc(1,1),n],s),r(d[8])(w,s)),B=r(d[7])(w,r(d[8])(h,l));return new(r(d[1]))(r(d[5]).Buffer.concat([r(d[5]).Buffer.alloc(1),B,h],f))}function n(o,n,t){var u,l=n.length,c=o.modulus.byteLength();if(l>c-11)throw new Error('message too long');return u=t?r(d[5]).Buffer.alloc(c-l-3,255):f(c-l-3),new(r(d[1]))(r(d[5]).Buffer.concat([r(d[5]).Buffer.from([0,t?1:2]),u,r(d[5]).Buffer.alloc(1),n],c))}function f(o){for(var n,f=r(d[5]).Buffer.allocUnsafe(o),t=0,u=r(d[6])(2*o),l=0;t<o;)l===u.length&&(u=r(d[6])(2*o),l=0),(n=u[l++])&&(f[t++]=n);return f}m.exports=function(f,t,u){var l;l=f.padding?f.padding:u?1:4;var c,i=r(d[0])(f);if(4===l)c=o(i,t);else if(1===l)c=n(i,t,u);else{if(3!==l)throw new Error('unknown padding');if((c=new(r(d[1]))(t)).cmp(i.modulus)>=0)throw new Error('data too long for modulus')}return u?r(d[2])(c,i):r(d[3])(c,i)}},612,[548,613,574,614,469,488,545,615,616]);
__d(function(_g,_r,_i,_a,_m,_e,d){!(function(t,i){'use strict';function r(t,i){if(!t)throw new Error(i||'Assertion failed')}function n(t,i){t.super_=i;var r=function(){};r.prototype=i.prototype,t.prototype=new r,t.prototype.constructor=t}function h(t,i,r){if(h.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&('le'!==i&&'be'!==i||(r=i,i=10),this._init(t||0,i||10,r||'be'))}var e;'object'==typeof t?t.exports=h:i.BN=h,h.BN=h,h.wordSize=26;try{e='undefined'!=typeof window&&void 0!==window.Buffer?window.Buffer:_r(d[0]).Buffer}catch(t){}function o(t,i){var r=t.charCodeAt(i);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function s(t,i,r){var n=o(t,r);return r-1>=i&&(n|=o(t,r-1)<<4),n}function u(t,i,r,n){for(var h=0,e=Math.min(t.length,r),o=i;o<e;o++){var s=t.charCodeAt(o)-48;h*=n,h+=s>=49?s-49+10:s>=17?s-17+10:s}return h}h.isBN=function(t){return t instanceof h||null!==t&&'object'==typeof t&&t.constructor.wordSize===h.wordSize&&Array.isArray(t.words)},h.max=function(t,i){return t.cmp(i)>0?t:i},h.min=function(t,i){return t.cmp(i)<0?t:i},h.prototype._init=function(t,i,n){if('number'==typeof t)return this._initNumber(t,i,n);if('object'==typeof t)return this._initArray(t,i,n);'hex'===i&&(i=16),r(i===(0|i)&&i>=2&&i<=36);var h=0;'-'===(t=t.toString().replace(/\s+/g,''))[0]&&(h++,this.negative=1),h<t.length&&(16===i?this._parseHex(t,h,n):(this._parseBase(t,i,h),'le'===n&&this._initArray(this.toArray(),i,n)))},h.prototype._initNumber=function(t,i,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),'le'===n&&this._initArray(this.toArray(),i,n)},h.prototype._initArray=function(t,i,n){if(r('number'==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var e,o,s=0;if('be'===n)for(h=t.length-1,e=0;h>=0;h-=3)o=t[h]|t[h-1]<<8|t[h-2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);else if('le'===n)for(h=0,e=0;h<t.length;h+=3)o=t[h]|t[h+1]<<8|t[h+2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);return this.strip()},h.prototype._parseHex=function(t,i,r){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var h,e=0,o=0;if('be'===r)for(n=t.length-1;n>=i;n-=2)h=s(t,i,n)<<e,this.words[o]|=67108863&h,e>=18?(e-=18,o+=1,this.words[o]|=h>>>26):e+=8;else for(n=(t.length-i)%2==0?i+1:i;n<t.length;n+=2)h=s(t,i,n)<<e,this.words[o]|=67108863&h,e>=18?(e-=18,o+=1,this.words[o]|=h>>>26):e+=8;this.strip()},h.prototype._parseBase=function(t,i,r){this.words=[0],this.length=1;for(var n=0,h=1;h<=67108863;h*=i)n++;n--,h=h/i|0;for(var e=t.length-r,o=e%n,s=Math.min(e,e-o)+r,a=0,l=r;l<s;l+=n)a=u(t,l,l+n,i),this.imuln(h),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==o){var m=1;for(a=u(t,l,t.length,i),l=0;l<o;l++)m*=i;this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},h.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},h.prototype.clone=function(){var t=new h(null);return this.copy(t),t},h.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},h.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},h.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},h.prototype.inspect=function(){return(this.red?'<BN-R: ':'<BN: ')+this.toString(16)+'>'};var a=['','0','00','000','0000','00000','000000','0000000','00000000','000000000','0000000000','00000000000','000000000000','0000000000000','00000000000000','000000000000000','0000000000000000','00000000000000000','000000000000000000','0000000000000000000','00000000000000000000','000000000000000000000','0000000000000000000000','00000000000000000000000','000000000000000000000000','0000000000000000000000000'],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t){for(var i=new Array(t.bitLength()),r=0;r<i.length;r++){var n=r/26|0,h=r%26;i[r]=(t.words[n]&1<<h)>>>h}return i}function p(t,i,r){r.negative=i.negative^t.negative;var n=t.length+i.length|0;r.length=n,n=n-1|0;var h=0|t.words[0],e=0|i.words[0],o=h*e,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var a=1;a<n;a++){for(var l=u>>>26,m=67108863&u,f=Math.min(a,i.length-1),p=Math.max(0,a-t.length+1);p<=f;p++){var M=a-p|0;l+=(o=(h=0|t.words[M])*(e=0|i.words[p])+m)/67108864|0,m=67108863&o}r.words[a]=0|m,u=0|l}return 0!==u?r.words[a]=0|u:r.length--,r.strip()}h.prototype.toString=function(t,i){var n;if(i=0|i||1,16===(t=t||10)||'hex'===t){n='';for(var h=0,e=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<h|e)).toString(16);e=s>>>24-h&16777215,(h+=2)>=26&&(h-=26,o--),n=0!==e||o!==this.length-1?a[6-u.length]+u+n:u+n}for(0!==e&&(n=e.toString(16)+n);n.length%i!=0;)n='0'+n;return 0!==this.negative&&(n='-'+n),n}if(t===(0|t)&&t>=2&&t<=36){var f=l[t],p=m[t];n='';var M=this.clone();for(M.negative=0;!M.isZero();){var v=M.modn(p).toString(t);n=(M=M.idivn(p)).isZero()?v+n:a[f-v.length]+v+n}for(this.isZero()&&(n='0'+n);n.length%i!=0;)n='0'+n;return 0!==this.negative&&(n='-'+n),n}r(!1,'Base should be between 2 and 36')},h.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,'Number can only safely store up to 53 bits'),0!==this.negative?-t:t},h.prototype.toJSON=function(){return this.toString(16)},h.prototype.toBuffer=function(t,i){return r(void 0!==e),this.toArrayLike(e,t,i)},h.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)},h.prototype.toArrayLike=function(t,i,n){var h=this.byteLength(),e=n||Math.max(1,h);r(h<=e,'byte array longer than desired length'),r(e>0,'Requested array length <= 0'),this.strip();var o,s,u='le'===i,a=new t(e),l=this.clone();if(u){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[s]=o;for(;s<e;s++)a[s]=0}else{for(s=0;s<e-h;s++)a[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[e-s-1]=o}return a},Math.clz32?h.prototype._countBits=function(t){return 32-Math.clz32(t)}:h.prototype._countBits=function(t){var i=t,r=0;return i>=4096&&(r+=13,i>>>=13),i>=64&&(r+=7,i>>>=7),i>=8&&(r+=4,i>>>=4),i>=2&&(r+=2,i>>>=2),r+i},h.prototype._zeroBits=function(t){if(0===t)return 26;var i=t,r=0;return 0==(8191&i)&&(r+=13,i>>>=13),0==(127&i)&&(r+=7,i>>>=7),0==(15&i)&&(r+=4,i>>>=4),0==(3&i)&&(r+=2,i>>>=2),0==(1&i)&&r++,r},h.prototype.bitLength=function(){var t=this.words[this.length-1],i=this._countBits(t);return 26*(this.length-1)+i},h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var r=this._zeroBits(this.words[i]);if(t+=r,26!==r)break}return t},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},h.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return 0!==this.negative},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this.strip()},h.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},h.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},h.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},h.prototype.iuand=function(t){var i;i=this.length>t.length?t:this;for(var r=0;r<i.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=i.length,this.strip()},h.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},h.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},h.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},h.prototype.iuxor=function(t){var i,r;this.length>t.length?(i=this,r=t):(i=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=i.words[n]^r.words[n];if(this!==i)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=i.length,this.strip()},h.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},h.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},h.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},h.prototype.inotn=function(t){r('number'==typeof t&&t>=0);var i=0|Math.ceil(t/26),n=t%26;this._expand(i),n>0&&i--;for(var h=0;h<i;h++)this.words[h]=67108863&~this.words[h];return n>0&&(this.words[h]=~this.words[h]&67108863>>26-n),this.strip()},h.prototype.notn=function(t){return this.clone().inotn(t)},h.prototype.setn=function(t,i){r('number'==typeof t&&t>=0);var n=t/26|0,h=t%26;return this._expand(n+1),this.words[n]=i?this.words[n]|1<<h:this.words[n]&~(1<<h),this.strip()},h.prototype.iadd=function(t){var i,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var h=0,e=0;e<n.length;e++)i=(0|r.words[e])+(0|n.words[e])+h,this.words[e]=67108863&i,h=i>>>26;for(;0!==h&&e<r.length;e++)i=(0|r.words[e])+h,this.words[e]=67108863&i,h=i>>>26;if(this.length=r.length,0!==h)this.words[this.length]=h,this.length++;else if(r!==this)for(;e<r.length;e++)this.words[e]=r.words[e];return this},h.prototype.add=function(t){var i;return 0!==t.negative&&0===this.negative?(t.negative=0,i=this.sub(t),t.negative^=1,i):0===t.negative&&0!==this.negative?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},h.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,h=this.cmp(t);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(r=this,n=t):(r=t,n=this);for(var e=0,o=0;o<n.length;o++)e=(i=(0|r.words[o])-(0|n.words[o])+e)>>26,this.words[o]=67108863&i;for(;0!==e&&o<r.length;o++)e=(i=(0|r.words[o])+e)>>26,this.words[o]=67108863&i;if(0===e&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},h.prototype.sub=function(t){return this.clone().isub(t)};var M=function(t,i,r){var n,h,e,o=t.words,s=i.words,u=r.words,a=0,l=0|o[0],m=8191&l,f=l>>>13,p=0|o[1],M=8191&p,v=p>>>13,g=0|o[2],c=8191&g,w=g>>>13,y=0|o[3],b=8191&y,_=y>>>13,k=0|o[4],A=8191&k,x=k>>>13,S=0|o[5],Z=8191&S,B=S>>>13,R=0|o[6],q=8191&R,N=R>>>13,L=0|o[7],I=8191&L,z=L>>>13,T=0|o[8],E=8191&T,O=T>>>13,j=0|o[9],K=8191&j,P=j>>>13,F=0|s[0],C=8191&F,D=F>>>13,H=0|s[1],J=8191&H,U=H>>>13,G=0|s[2],Q=8191&G,V=G>>>13,W=0|s[3],X=8191&W,Y=W>>>13,$=0|s[4],tt=8191&$,it=$>>>13,rt=0|s[5],nt=8191&rt,ht=rt>>>13,et=0|s[6],ot=8191&et,st=et>>>13,ut=0|s[7],at=8191&ut,lt=ut>>>13,mt=0|s[8],ft=8191&mt,dt=mt>>>13,pt=0|s[9],Mt=8191&pt,vt=pt>>>13;r.negative=t.negative^i.negative,r.length=19;var gt=(a+(n=Math.imul(m,C))|0)+((8191&(h=(h=Math.imul(m,D))+Math.imul(f,C)|0))<<13)|0;a=((e=Math.imul(f,D))+(h>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(M,C),h=(h=Math.imul(M,D))+Math.imul(v,C)|0,e=Math.imul(v,D);var ct=(a+(n=n+Math.imul(m,J)|0)|0)+((8191&(h=(h=h+Math.imul(m,U)|0)+Math.imul(f,J)|0))<<13)|0;a=((e=e+Math.imul(f,U)|0)+(h>>>13)|0)+(ct>>>26)|0,ct&=67108863,n=Math.imul(c,C),h=(h=Math.imul(c,D))+Math.imul(w,C)|0,e=Math.imul(w,D),n=n+Math.imul(M,J)|0,h=(h=h+Math.imul(M,U)|0)+Math.imul(v,J)|0,e=e+Math.imul(v,U)|0;var wt=(a+(n=n+Math.imul(m,Q)|0)|0)+((8191&(h=(h=h+Math.imul(m,V)|0)+Math.imul(f,Q)|0))<<13)|0;a=((e=e+Math.imul(f,V)|0)+(h>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(b,C),h=(h=Math.imul(b,D))+Math.imul(_,C)|0,e=Math.imul(_,D),n=n+Math.imul(c,J)|0,h=(h=h+Math.imul(c,U)|0)+Math.imul(w,J)|0,e=e+Math.imul(w,U)|0,n=n+Math.imul(M,Q)|0,h=(h=h+Math.imul(M,V)|0)+Math.imul(v,Q)|0,e=e+Math.imul(v,V)|0;var yt=(a+(n=n+Math.imul(m,X)|0)|0)+((8191&(h=(h=h+Math.imul(m,Y)|0)+Math.imul(f,X)|0))<<13)|0;a=((e=e+Math.imul(f,Y)|0)+(h>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(A,C),h=(h=Math.imul(A,D))+Math.imul(x,C)|0,e=Math.imul(x,D),n=n+Math.imul(b,J)|0,h=(h=h+Math.imul(b,U)|0)+Math.imul(_,J)|0,e=e+Math.imul(_,U)|0,n=n+Math.imul(c,Q)|0,h=(h=h+Math.imul(c,V)|0)+Math.imul(w,Q)|0,e=e+Math.imul(w,V)|0,n=n+Math.imul(M,X)|0,h=(h=h+Math.imul(M,Y)|0)+Math.imul(v,X)|0,e=e+Math.imul(v,Y)|0;var bt=(a+(n=n+Math.imul(m,tt)|0)|0)+((8191&(h=(h=h+Math.imul(m,it)|0)+Math.imul(f,tt)|0))<<13)|0;a=((e=e+Math.imul(f,it)|0)+(h>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(Z,C),h=(h=Math.imul(Z,D))+Math.imul(B,C)|0,e=Math.imul(B,D),n=n+Math.imul(A,J)|0,h=(h=h+Math.imul(A,U)|0)+Math.imul(x,J)|0,e=e+Math.imul(x,U)|0,n=n+Math.imul(b,Q)|0,h=(h=h+Math.imul(b,V)|0)+Math.imul(_,Q)|0,e=e+Math.imul(_,V)|0,n=n+Math.imul(c,X)|0,h=(h=h+Math.imul(c,Y)|0)+Math.imul(w,X)|0,e=e+Math.imul(w,Y)|0,n=n+Math.imul(M,tt)|0,h=(h=h+Math.imul(M,it)|0)+Math.imul(v,tt)|0,e=e+Math.imul(v,it)|0;var _t=(a+(n=n+Math.imul(m,nt)|0)|0)+((8191&(h=(h=h+Math.imul(m,ht)|0)+Math.imul(f,nt)|0))<<13)|0;a=((e=e+Math.imul(f,ht)|0)+(h>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(q,C),h=(h=Math.imul(q,D))+Math.imul(N,C)|0,e=Math.imul(N,D),n=n+Math.imul(Z,J)|0,h=(h=h+Math.imul(Z,U)|0)+Math.imul(B,J)|0,e=e+Math.imul(B,U)|0,n=n+Math.imul(A,Q)|0,h=(h=h+Math.imul(A,V)|0)+Math.imul(x,Q)|0,e=e+Math.imul(x,V)|0,n=n+Math.imul(b,X)|0,h=(h=h+Math.imul(b,Y)|0)+Math.imul(_,X)|0,e=e+Math.imul(_,Y)|0,n=n+Math.imul(c,tt)|0,h=(h=h+Math.imul(c,it)|0)+Math.imul(w,tt)|0,e=e+Math.imul(w,it)|0,n=n+Math.imul(M,nt)|0,h=(h=h+Math.imul(M,ht)|0)+Math.imul(v,nt)|0,e=e+Math.imul(v,ht)|0;var kt=(a+(n=n+Math.imul(m,ot)|0)|0)+((8191&(h=(h=h+Math.imul(m,st)|0)+Math.imul(f,ot)|0))<<13)|0;a=((e=e+Math.imul(f,st)|0)+(h>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(I,C),h=(h=Math.imul(I,D))+Math.imul(z,C)|0,e=Math.imul(z,D),n=n+Math.imul(q,J)|0,h=(h=h+Math.imul(q,U)|0)+Math.imul(N,J)|0,e=e+Math.imul(N,U)|0,n=n+Math.imul(Z,Q)|0,h=(h=h+Math.imul(Z,V)|0)+Math.imul(B,Q)|0,e=e+Math.imul(B,V)|0,n=n+Math.imul(A,X)|0,h=(h=h+Math.imul(A,Y)|0)+Math.imul(x,X)|0,e=e+Math.imul(x,Y)|0,n=n+Math.imul(b,tt)|0,h=(h=h+Math.imul(b,it)|0)+Math.imul(_,tt)|0,e=e+Math.imul(_,it)|0,n=n+Math.imul(c,nt)|0,h=(h=h+Math.imul(c,ht)|0)+Math.imul(w,nt)|0,e=e+Math.imul(w,ht)|0,n=n+Math.imul(M,ot)|0,h=(h=h+Math.imul(M,st)|0)+Math.imul(v,ot)|0,e=e+Math.imul(v,st)|0;var At=(a+(n=n+Math.imul(m,at)|0)|0)+((8191&(h=(h=h+Math.imul(m,lt)|0)+Math.imul(f,at)|0))<<13)|0;a=((e=e+Math.imul(f,lt)|0)+(h>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(E,C),h=(h=Math.imul(E,D))+Math.imul(O,C)|0,e=Math.imul(O,D),n=n+Math.imul(I,J)|0,h=(h=h+Math.imul(I,U)|0)+Math.imul(z,J)|0,e=e+Math.imul(z,U)|0,n=n+Math.imul(q,Q)|0,h=(h=h+Math.imul(q,V)|0)+Math.imul(N,Q)|0,e=e+Math.imul(N,V)|0,n=n+Math.imul(Z,X)|0,h=(h=h+Math.imul(Z,Y)|0)+Math.imul(B,X)|0,e=e+Math.imul(B,Y)|0,n=n+Math.imul(A,tt)|0,h=(h=h+Math.imul(A,it)|0)+Math.imul(x,tt)|0,e=e+Math.imul(x,it)|0,n=n+Math.imul(b,nt)|0,h=(h=h+Math.imul(b,ht)|0)+Math.imul(_,nt)|0,e=e+Math.imul(_,ht)|0,n=n+Math.imul(c,ot)|0,h=(h=h+Math.imul(c,st)|0)+Math.imul(w,ot)|0,e=e+Math.imul(w,st)|0,n=n+Math.imul(M,at)|0,h=(h=h+Math.imul(M,lt)|0)+Math.imul(v,at)|0,e=e+Math.imul(v,lt)|0;var xt=(a+(n=n+Math.imul(m,ft)|0)|0)+((8191&(h=(h=h+Math.imul(m,dt)|0)+Math.imul(f,ft)|0))<<13)|0;a=((e=e+Math.imul(f,dt)|0)+(h>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(K,C),h=(h=Math.imul(K,D))+Math.imul(P,C)|0,e=Math.imul(P,D),n=n+Math.imul(E,J)|0,h=(h=h+Math.imul(E,U)|0)+Math.imul(O,J)|0,e=e+Math.imul(O,U)|0,n=n+Math.imul(I,Q)|0,h=(h=h+Math.imul(I,V)|0)+Math.imul(z,Q)|0,e=e+Math.imul(z,V)|0,n=n+Math.imul(q,X)|0,h=(h=h+Math.imul(q,Y)|0)+Math.imul(N,X)|0,e=e+Math.imul(N,Y)|0,n=n+Math.imul(Z,tt)|0,h=(h=h+Math.imul(Z,it)|0)+Math.imul(B,tt)|0,e=e+Math.imul(B,it)|0,n=n+Math.imul(A,nt)|0,h=(h=h+Math.imul(A,ht)|0)+Math.imul(x,nt)|0,e=e+Math.imul(x,ht)|0,n=n+Math.imul(b,ot)|0,h=(h=h+Math.imul(b,st)|0)+Math.imul(_,ot)|0,e=e+Math.imul(_,st)|0,n=n+Math.imul(c,at)|0,h=(h=h+Math.imul(c,lt)|0)+Math.imul(w,at)|0,e=e+Math.imul(w,lt)|0,n=n+Math.imul(M,ft)|0,h=(h=h+Math.imul(M,dt)|0)+Math.imul(v,ft)|0,e=e+Math.imul(v,dt)|0;var St=(a+(n=n+Math.imul(m,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(m,vt)|0)+Math.imul(f,Mt)|0))<<13)|0;a=((e=e+Math.imul(f,vt)|0)+(h>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(K,J),h=(h=Math.imul(K,U))+Math.imul(P,J)|0,e=Math.imul(P,U),n=n+Math.imul(E,Q)|0,h=(h=h+Math.imul(E,V)|0)+Math.imul(O,Q)|0,e=e+Math.imul(O,V)|0,n=n+Math.imul(I,X)|0,h=(h=h+Math.imul(I,Y)|0)+Math.imul(z,X)|0,e=e+Math.imul(z,Y)|0,n=n+Math.imul(q,tt)|0,h=(h=h+Math.imul(q,it)|0)+Math.imul(N,tt)|0,e=e+Math.imul(N,it)|0,n=n+Math.imul(Z,nt)|0,h=(h=h+Math.imul(Z,ht)|0)+Math.imul(B,nt)|0,e=e+Math.imul(B,ht)|0,n=n+Math.imul(A,ot)|0,h=(h=h+Math.imul(A,st)|0)+Math.imul(x,ot)|0,e=e+Math.imul(x,st)|0,n=n+Math.imul(b,at)|0,h=(h=h+Math.imul(b,lt)|0)+Math.imul(_,at)|0,e=e+Math.imul(_,lt)|0,n=n+Math.imul(c,ft)|0,h=(h=h+Math.imul(c,dt)|0)+Math.imul(w,ft)|0,e=e+Math.imul(w,dt)|0;var Zt=(a+(n=n+Math.imul(M,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(M,vt)|0)+Math.imul(v,Mt)|0))<<13)|0;a=((e=e+Math.imul(v,vt)|0)+(h>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,n=Math.imul(K,Q),h=(h=Math.imul(K,V))+Math.imul(P,Q)|0,e=Math.imul(P,V),n=n+Math.imul(E,X)|0,h=(h=h+Math.imul(E,Y)|0)+Math.imul(O,X)|0,e=e+Math.imul(O,Y)|0,n=n+Math.imul(I,tt)|0,h=(h=h+Math.imul(I,it)|0)+Math.imul(z,tt)|0,e=e+Math.imul(z,it)|0,n=n+Math.imul(q,nt)|0,h=(h=h+Math.imul(q,ht)|0)+Math.imul(N,nt)|0,e=e+Math.imul(N,ht)|0,n=n+Math.imul(Z,ot)|0,h=(h=h+Math.imul(Z,st)|0)+Math.imul(B,ot)|0,e=e+Math.imul(B,st)|0,n=n+Math.imul(A,at)|0,h=(h=h+Math.imul(A,lt)|0)+Math.imul(x,at)|0,e=e+Math.imul(x,lt)|0,n=n+Math.imul(b,ft)|0,h=(h=h+Math.imul(b,dt)|0)+Math.imul(_,ft)|0,e=e+Math.imul(_,dt)|0;var Bt=(a+(n=n+Math.imul(c,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(c,vt)|0)+Math.imul(w,Mt)|0))<<13)|0;a=((e=e+Math.imul(w,vt)|0)+(h>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(K,X),h=(h=Math.imul(K,Y))+Math.imul(P,X)|0,e=Math.imul(P,Y),n=n+Math.imul(E,tt)|0,h=(h=h+Math.imul(E,it)|0)+Math.imul(O,tt)|0,e=e+Math.imul(O,it)|0,n=n+Math.imul(I,nt)|0,h=(h=h+Math.imul(I,ht)|0)+Math.imul(z,nt)|0,e=e+Math.imul(z,ht)|0,n=n+Math.imul(q,ot)|0,h=(h=h+Math.imul(q,st)|0)+Math.imul(N,ot)|0,e=e+Math.imul(N,st)|0,n=n+Math.imul(Z,at)|0,h=(h=h+Math.imul(Z,lt)|0)+Math.imul(B,at)|0,e=e+Math.imul(B,lt)|0,n=n+Math.imul(A,ft)|0,h=(h=h+Math.imul(A,dt)|0)+Math.imul(x,ft)|0,e=e+Math.imul(x,dt)|0;var Rt=(a+(n=n+Math.imul(b,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(b,vt)|0)+Math.imul(_,Mt)|0))<<13)|0;a=((e=e+Math.imul(_,vt)|0)+(h>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(K,tt),h=(h=Math.imul(K,it))+Math.imul(P,tt)|0,e=Math.imul(P,it),n=n+Math.imul(E,nt)|0,h=(h=h+Math.imul(E,ht)|0)+Math.imul(O,nt)|0,e=e+Math.imul(O,ht)|0,n=n+Math.imul(I,ot)|0,h=(h=h+Math.imul(I,st)|0)+Math.imul(z,ot)|0,e=e+Math.imul(z,st)|0,n=n+Math.imul(q,at)|0,h=(h=h+Math.imul(q,lt)|0)+Math.imul(N,at)|0,e=e+Math.imul(N,lt)|0,n=n+Math.imul(Z,ft)|0,h=(h=h+Math.imul(Z,dt)|0)+Math.imul(B,ft)|0,e=e+Math.imul(B,dt)|0;var qt=(a+(n=n+Math.imul(A,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(A,vt)|0)+Math.imul(x,Mt)|0))<<13)|0;a=((e=e+Math.imul(x,vt)|0)+(h>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(K,nt),h=(h=Math.imul(K,ht))+Math.imul(P,nt)|0,e=Math.imul(P,ht),n=n+Math.imul(E,ot)|0,h=(h=h+Math.imul(E,st)|0)+Math.imul(O,ot)|0,e=e+Math.imul(O,st)|0,n=n+Math.imul(I,at)|0,h=(h=h+Math.imul(I,lt)|0)+Math.imul(z,at)|0,e=e+Math.imul(z,lt)|0,n=n+Math.imul(q,ft)|0,h=(h=h+Math.imul(q,dt)|0)+Math.imul(N,ft)|0,e=e+Math.imul(N,dt)|0;var Nt=(a+(n=n+Math.imul(Z,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(Z,vt)|0)+Math.imul(B,Mt)|0))<<13)|0;a=((e=e+Math.imul(B,vt)|0)+(h>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(K,ot),h=(h=Math.imul(K,st))+Math.imul(P,ot)|0,e=Math.imul(P,st),n=n+Math.imul(E,at)|0,h=(h=h+Math.imul(E,lt)|0)+Math.imul(O,at)|0,e=e+Math.imul(O,lt)|0,n=n+Math.imul(I,ft)|0,h=(h=h+Math.imul(I,dt)|0)+Math.imul(z,ft)|0,e=e+Math.imul(z,dt)|0;var Lt=(a+(n=n+Math.imul(q,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(q,vt)|0)+Math.imul(N,Mt)|0))<<13)|0;a=((e=e+Math.imul(N,vt)|0)+(h>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(K,at),h=(h=Math.imul(K,lt))+Math.imul(P,at)|0,e=Math.imul(P,lt),n=n+Math.imul(E,ft)|0,h=(h=h+Math.imul(E,dt)|0)+Math.imul(O,ft)|0,e=e+Math.imul(O,dt)|0;var It=(a+(n=n+Math.imul(I,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(I,vt)|0)+Math.imul(z,Mt)|0))<<13)|0;a=((e=e+Math.imul(z,vt)|0)+(h>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(K,ft),h=(h=Math.imul(K,dt))+Math.imul(P,ft)|0,e=Math.imul(P,dt);var zt=(a+(n=n+Math.imul(E,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(E,vt)|0)+Math.imul(O,Mt)|0))<<13)|0;a=((e=e+Math.imul(O,vt)|0)+(h>>>13)|0)+(zt>>>26)|0,zt&=67108863;var Tt=(a+(n=Math.imul(K,Mt))|0)+((8191&(h=(h=Math.imul(K,vt))+Math.imul(P,Mt)|0))<<13)|0;return a=((e=Math.imul(P,vt))+(h>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,u[0]=gt,u[1]=ct,u[2]=wt,u[3]=yt,u[4]=bt,u[5]=_t,u[6]=kt,u[7]=At,u[8]=xt,u[9]=St,u[10]=Zt,u[11]=Bt,u[12]=Rt,u[13]=qt,u[14]=Nt,u[15]=Lt,u[16]=It,u[17]=zt,u[18]=Tt,0!==a&&(u[19]=a,r.length++),r};function v(t,i,r){r.negative=i.negative^t.negative,r.length=t.length+i.length;for(var n=0,h=0,e=0;e<r.length-1;e++){var o=h;h=0;for(var s=67108863&n,u=Math.min(e,i.length-1),a=Math.max(0,e-t.length+1);a<=u;a++){var l=e-a,m=(0|t.words[l])*(0|i.words[a]),f=67108863&m;s=67108863&(f=f+s|0),h+=(o=(o=o+(m/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[e]=s,n=o,o=h}return 0!==n?r.words[e]=n:r.length--,r.strip()}function g(t,i,r){return(new c).mulp(t,i,r)}function c(t,i){this.x=t,this.y=i}Math.imul||(M=p),h.prototype.mulTo=function(t,i){var r=this.length+t.length;return 10===this.length&&10===t.length?M(this,t,i):r<63?p(this,t,i):r<1024?v(this,t,i):g(this,t,i)},c.prototype.makeRBT=function(t){for(var i=new Array(t),r=h.prototype._countBits(t)-1,n=0;n<t;n++)i[n]=this.revBin(n,r,t);return i},c.prototype.revBin=function(t,i,r){if(0===t||t===r-1)return t;for(var n=0,h=0;h<i;h++)n|=(1&t)<<i-h-1,t>>=1;return n},c.prototype.permute=function(t,i,r,n,h,e){for(var o=0;o<e;o++)n[o]=i[t[o]],h[o]=r[t[o]]},c.prototype.transform=function(t,i,r,n,h,e){this.permute(e,t,i,r,n,h);for(var o=1;o<h;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),a=Math.sin(2*Math.PI/s),l=0;l<h;l+=s)for(var m=u,f=a,p=0;p<o;p++){var M=r[l+p],v=n[l+p],g=r[l+p+o],c=n[l+p+o],w=m*g-f*c;c=m*c+f*g,g=w,r[l+p]=M+g,n[l+p]=v+c,r[l+p+o]=M-g,n[l+p+o]=v-c,p!==s&&(w=u*m-a*f,f=u*f+a*m,m=w)}},c.prototype.guessLen13b=function(t,i){var r=1|Math.max(i,t),n=1&r,h=0;for(r=r/2|0;r;r>>>=1)h++;return 1<<h+1+n},c.prototype.conjugate=function(t,i,r){if(!(r<=1))for(var n=0;n<r/2;n++){var h=t[n];t[n]=t[r-n-1],t[r-n-1]=h,h=i[n],i[n]=-i[r-n-1],i[r-n-1]=-h}},c.prototype.normalize13b=function(t,i){for(var r=0,n=0;n<i/2;n++){var h=8192*Math.round(t[2*n+1]/i)+Math.round(t[2*n]/i)+r;t[n]=67108863&h,r=h<67108864?0:h/67108864|0}return t},c.prototype.convert13b=function(t,i,n,h){for(var e=0,o=0;o<i;o++)e+=0|t[o],n[2*o]=8191&e,e>>>=13,n[2*o+1]=8191&e,e>>>=13;for(o=2*i;o<h;++o)n[o]=0;r(0===e),r(0==(-8192&e))},c.prototype.stub=function(t){for(var i=new Array(t),r=0;r<t;r++)i[r]=0;return i},c.prototype.mulp=function(t,i,r){var n=2*this.guessLen13b(t.length,i.length),h=this.makeRBT(n),e=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),a=new Array(n),l=new Array(n),m=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(i.words,i.length,a,n),this.transform(o,e,s,u,n,h),this.transform(a,e,l,m,n,h);for(var p=0;p<n;p++){var M=s[p]*l[p]-u[p]*m[p];u[p]=s[p]*m[p]+u[p]*l[p],s[p]=M}return this.conjugate(s,u,n),this.transform(s,u,f,e,n,h),this.conjugate(f,e,n),this.normalize13b(f,n),r.negative=t.negative^i.negative,r.length=t.length+i.length,r.strip()},h.prototype.mul=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},h.prototype.mulf=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),g(this,t,i)},h.prototype.imul=function(t){return this.clone().mulTo(t,this)},h.prototype.imuln=function(t){r('number'==typeof t),r(t<67108864);for(var i=0,n=0;n<this.length;n++){var h=(0|this.words[n])*t,e=(67108863&h)+(67108863&i);i>>=26,i+=h/67108864|0,i+=e>>>26,this.words[n]=67108863&e}return 0!==i&&(this.words[n]=i,this.length++),this},h.prototype.muln=function(t){return this.clone().imuln(t)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(t){var i=f(t);if(0===i.length)return new h(1);for(var r=this,n=0;n<i.length&&0===i[n];n++,r=r.sqr());if(++n<i.length)for(var e=r.sqr();n<i.length;n++,e=e.sqr())0!==i[n]&&(r=r.mul(e));return r},h.prototype.iushln=function(t){r('number'==typeof t&&t>=0);var i,n=t%26,h=(t-n)/26,e=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(i=0;i<this.length;i++){var s=this.words[i]&e,u=(0|this.words[i])-s<<n;this.words[i]=u|o,o=s>>>26-n}o&&(this.words[i]=o,this.length++)}if(0!==h){for(i=this.length-1;i>=0;i--)this.words[i+h]=this.words[i];for(i=0;i<h;i++)this.words[i]=0;this.length+=h}return this.strip()},h.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},h.prototype.iushrn=function(t,i,n){var h;r('number'==typeof t&&t>=0),h=i?(i-i%26)/26:0;var e=t%26,o=Math.min((t-e)/26,this.length),s=67108863^67108863>>>e<<e,u=n;if(h-=o,h=Math.max(0,h),u){for(var a=0;a<o;a++)u.words[a]=this.words[a];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,a=0;a<this.length;a++)this.words[a]=this.words[a+o];else this.words[0]=0,this.length=1;var l=0;for(a=this.length-1;a>=0&&(0!==l||a>=h);a--){var m=0|this.words[a];this.words[a]=l<<26-e|m>>>e,l=m&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},h.prototype.ishrn=function(t,i,n){return r(0===this.negative),this.iushrn(t,i,n)},h.prototype.shln=function(t){return this.clone().ishln(t)},h.prototype.ushln=function(t){return this.clone().iushln(t)},h.prototype.shrn=function(t){return this.clone().ishrn(t)},h.prototype.ushrn=function(t){return this.clone().iushrn(t)},h.prototype.testn=function(t){r('number'==typeof t&&t>=0);var i=t%26,n=(t-i)/26,h=1<<i;return!(this.length<=n)&&!!(this.words[n]&h)},h.prototype.imaskn=function(t){r('number'==typeof t&&t>=0);var i=t%26,n=(t-i)/26;if(r(0===this.negative,'imaskn works only with positive numbers'),this.length<=n)return this;if(0!==i&&n++,this.length=Math.min(n,this.length),0!==i){var h=67108863^67108863>>>i<<i;this.words[this.length-1]&=h}return this.strip()},h.prototype.maskn=function(t){return this.clone().imaskn(t)},h.prototype.iaddn=function(t){return r('number'==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},h.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},h.prototype.isubn=function(t){if(r('number'==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},h.prototype.addn=function(t){return this.clone().iaddn(t)},h.prototype.subn=function(t){return this.clone().isubn(t)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(t,i,n){var h,e,o=t.length+n;this._expand(o);var s=0;for(h=0;h<t.length;h++){e=(0|this.words[h+n])+s;var u=(0|t.words[h])*i;s=((e-=67108863&u)>>26)-(u/67108864|0),this.words[h+n]=67108863&e}for(;h<this.length-n;h++)s=(e=(0|this.words[h+n])+s)>>26,this.words[h+n]=67108863&e;if(0===s)return this.strip();for(r(-1===s),s=0,h=0;h<this.length;h++)s=(e=-(0|this.words[h])+s)>>26,this.words[h]=67108863&e;return this.negative=1,this.strip()},h.prototype._wordDiv=function(t,i){var r=(this.length,t.length),n=this.clone(),e=t,o=0|e.words[e.length-1];0!==(r=26-this._countBits(o))&&(e=e.ushln(r),n.iushln(r),o=0|e.words[e.length-1]);var s,u=n.length-e.length;if('mod'!==i){(s=new h(null)).length=u+1,s.words=new Array(s.length);for(var a=0;a<s.length;a++)s.words[a]=0}var l=n.clone()._ishlnsubmul(e,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var m=u-1;m>=0;m--){var f=67108864*(0|n.words[e.length+m])+(0|n.words[e.length+m-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(e,f,m);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(e,1,m),n.isZero()||(n.negative^=1);s&&(s.words[m]=f)}return s&&s.strip(),n.strip(),'div'!==i&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},h.prototype.divmod=function(t,i,n){return r(!t.isZero()),this.isZero()?{div:new h(0),mod:new h(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,i),'mod'!==i&&(e=s.div.neg()),'div'!==i&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:e,mod:o}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),i),'mod'!==i&&(e=s.div.neg()),{div:e,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),i),'div'!==i&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:s.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new h(0),mod:this}:1===t.length?'div'===i?{div:this.divn(t.words[0]),mod:null}:'mod'===i?{div:null,mod:new h(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new h(this.modn(t.words[0]))}:this._wordDiv(t,i);var e,o,s},h.prototype.div=function(t){return this.divmod(t,'div',!1).div},h.prototype.mod=function(t){return this.divmod(t,'mod',!1).mod},h.prototype.umod=function(t){return this.divmod(t,'mod',!0).mod},h.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var r=0!==i.div.negative?i.mod.isub(t):i.mod,n=t.ushrn(1),h=t.andln(1),e=r.cmp(n);return e<0||1===h&&0===e?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},h.prototype.modn=function(t){r(t<=67108863);for(var i=67108864%t,n=0,h=this.length-1;h>=0;h--)n=(i*n+(0|this.words[h]))%t;return n},h.prototype.idivn=function(t){r(t<=67108863);for(var i=0,n=this.length-1;n>=0;n--){var h=(0|this.words[n])+67108864*i;this.words[n]=h/t|0,i=h%t}return this.strip()},h.prototype.divn=function(t){return this.clone().idivn(t)},h.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var i=this,n=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e=new h(1),o=new h(0),s=new h(0),u=new h(1),a=0;i.isEven()&&n.isEven();)i.iushrn(1),n.iushrn(1),++a;for(var l=n.clone(),m=i.clone();!i.isZero();){for(var f=0,p=1;0==(i.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(i.iushrn(f);f-- >0;)(e.isOdd()||o.isOdd())&&(e.iadd(l),o.isub(m)),e.iushrn(1),o.iushrn(1);for(var M=0,v=1;0==(n.words[0]&v)&&M<26;++M,v<<=1);if(M>0)for(n.iushrn(M);M-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(m)),s.iushrn(1),u.iushrn(1);i.cmp(n)>=0?(i.isub(n),e.isub(s),o.isub(u)):(n.isub(i),s.isub(e),u.isub(o))}return{a:s,b:u,gcd:n.iushln(a)}},h.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var i=this,n=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e,o=new h(1),s=new h(0),u=n.clone();i.cmpn(1)>0&&n.cmpn(1)>0;){for(var a=0,l=1;0==(i.words[0]&l)&&a<26;++a,l<<=1);if(a>0)for(i.iushrn(a);a-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var m=0,f=1;0==(n.words[0]&f)&&m<26;++m,f<<=1);if(m>0)for(n.iushrn(m);m-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);i.cmp(n)>=0?(i.isub(n),o.isub(s)):(n.isub(i),s.isub(o))}return(e=0===i.cmpn(1)?o:s).cmpn(0)<0&&e.iadd(t),e},h.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),r=t.clone();i.negative=0,r.negative=0;for(var n=0;i.isEven()&&r.isEven();n++)i.iushrn(1),r.iushrn(1);for(;;){for(;i.isEven();)i.iushrn(1);for(;r.isEven();)r.iushrn(1);var h=i.cmp(r);if(h<0){var e=i;i=r,r=e}else if(0===h||0===r.cmpn(1))break;i.isub(r)}return r.iushln(n)},h.prototype.invm=function(t){return this.egcd(t).a.umod(t)},h.prototype.isEven=function(){return 0==(1&this.words[0])},h.prototype.isOdd=function(){return 1==(1&this.words[0])},h.prototype.andln=function(t){return this.words[0]&t},h.prototype.bincn=function(t){r('number'==typeof t);var i=t%26,n=(t-i)/26,h=1<<i;if(this.length<=n)return this._expand(n+1),this.words[n]|=h,this;for(var e=h,o=n;0!==e&&o<this.length;o++){var s=0|this.words[o];e=(s+=e)>>>26,s&=67108863,this.words[o]=s}return 0!==e&&(this.words[o]=e,this.length++),this},h.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},h.prototype.cmpn=function(t){var i,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)i=1;else{n&&(t=-t),r(t<=67108863,'Number is too big');var h=0|this.words[0];i=h===t?0:h<t?-1:1}return 0!==this.negative?0|-i:i},h.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var i=this.ucmp(t);return 0!==this.negative?0|-i:i},h.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],h=0|t.words[r];if(n!==h){n<h?i=-1:n>h&&(i=1);break}}return i},h.prototype.gtn=function(t){return 1===this.cmpn(t)},h.prototype.gt=function(t){return 1===this.cmp(t)},h.prototype.gten=function(t){return this.cmpn(t)>=0},h.prototype.gte=function(t){return this.cmp(t)>=0},h.prototype.ltn=function(t){return-1===this.cmpn(t)},h.prototype.lt=function(t){return-1===this.cmp(t)},h.prototype.lten=function(t){return this.cmpn(t)<=0},h.prototype.lte=function(t){return this.cmp(t)<=0},h.prototype.eqn=function(t){return 0===this.cmpn(t)},h.prototype.eq=function(t){return 0===this.cmp(t)},h.red=function(t){return new x(t)},h.prototype.toRed=function(t){return r(!this.red,'Already a number in reduction context'),r(0===this.negative,'red works only with positives'),t.convertTo(this)._forceRed(t)},h.prototype.fromRed=function(){return r(this.red,'fromRed works only with numbers in reduction context'),this.red.convertFrom(this)},h.prototype._forceRed=function(t){return this.red=t,this},h.prototype.forceRed=function(t){return r(!this.red,'Already a number in reduction context'),this._forceRed(t)},h.prototype.redAdd=function(t){return r(this.red,'redAdd works only with red numbers'),this.red.add(this,t)},h.prototype.redIAdd=function(t){return r(this.red,'redIAdd works only with red numbers'),this.red.iadd(this,t)},h.prototype.redSub=function(t){return r(this.red,'redSub works only with red numbers'),this.red.sub(this,t)},h.prototype.redISub=function(t){return r(this.red,'redISub works only with red numbers'),this.red.isub(this,t)},h.prototype.redShl=function(t){return r(this.red,'redShl works only with red numbers'),this.red.shl(this,t)},h.prototype.redMul=function(t){return r(this.red,'redMul works only with red numbers'),this.red._verify2(this,t),this.red.mul(this,t)},h.prototype.redIMul=function(t){return r(this.red,'redMul works only with red numbers'),this.red._verify2(this,t),this.red.imul(this,t)},h.prototype.redSqr=function(){return r(this.red,'redSqr works only with red numbers'),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return r(this.red,'redISqr works only with red numbers'),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return r(this.red,'redSqrt works only with red numbers'),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return r(this.red,'redInvm works only with red numbers'),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return r(this.red,'redNeg works only with red numbers'),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(t){return r(this.red&&!t.red,'redPow(normalNum)'),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function y(t,i){this.name=t,this.p=new h(i,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,'k256','ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f')}function _(){y.call(this,'p224','ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001')}function k(){y.call(this,'p192','ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff')}function A(){y.call(this,'25519','7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed')}function x(t){if('string'==typeof t){var i=h._prime(t);this.m=i.p,this.prime=i}else r(t.gtn(1),'modulus must be greater than 1'),this.m=t,this.prime=null}function S(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new h(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var i,r=t;do{this.split(r,this.tmp),i=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(i>this.n);var n=i<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,i){t.iushrn(this.n,0,i)},y.prototype.imulK=function(t){return t.imul(this.k)},n(b,y),b.prototype.split=function(t,i){for(var r=Math.min(t.length,9),n=0;n<r;n++)i.words[n]=t.words[n];if(i.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var h=t.words[9];for(i.words[i.length++]=4194303&h,n=10;n<t.length;n++){var e=0|t.words[n];t.words[n-10]=(4194303&e)<<4|h>>>22,h=e}h>>>=22,t.words[n-10]=h,0===h&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,r=0;r<t.length;r++){var n=0|t.words[r];i+=977*n,t.words[r]=67108863&i,i=64*n+(i/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(_,y),n(k,y),n(A,y),A.prototype.imulK=function(t){for(var i=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+i,h=67108863&n;n>>>=26,t.words[r]=h,i=n}return 0!==i&&(t.words[t.length++]=i),t},h._prime=function(t){if(w[t])return w[t];var i;if('k256'===t)i=new b;else if('p224'===t)i=new _;else if('p192'===t)i=new k;else{if('p25519'!==t)throw new Error('Unknown prime '+t);i=new A}return w[t]=i,i},x.prototype._verify1=function(t){r(0===t.negative,'red works only with positives'),r(t.red,'red works only with red numbers')},x.prototype._verify2=function(t,i){r(0==(t.negative|i.negative),'red works only with positives'),r(t.red&&t.red===i.red,'red works only with red numbers')},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,i){this._verify2(t,i);var r=t.add(i);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(t,i){this._verify2(t,i);var r=t.iadd(i);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(t,i){this._verify2(t,i);var r=t.sub(i);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(t,i){this._verify2(t,i);var r=t.isub(i);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},x.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},x.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(r(i%2==1),3===i){var n=this.m.add(new h(1)).iushrn(2);return this.pow(t,n)}for(var e=this.m.subn(1),o=0;!e.isZero()&&0===e.andln(1);)o++,e.iushrn(1);r(!e.isZero());var s=new h(1).toRed(this),u=s.redNeg(),a=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new h(2*l*l).toRed(this);0!==this.pow(l,a).cmp(u);)l.redIAdd(u);for(var m=this.pow(l,e),f=this.pow(t,e.addn(1).iushrn(1)),p=this.pow(t,e),M=o;0!==p.cmp(s);){for(var v=p,g=0;0!==v.cmp(s);g++)v=v.redSqr();r(g<M);var c=this.pow(m,new h(1).iushln(M-g-1));f=f.redMul(c),m=c.redSqr(),p=p.redMul(m),M=g}return f},x.prototype.invm=function(t){var i=t._invmp(this.m);return 0!==i.negative?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},x.prototype.pow=function(t,i){if(i.isZero())return new h(1).toRed(this);if(0===i.cmpn(1))return t.clone();var r=new Array(16);r[0]=new h(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var e=r[0],o=0,s=0,u=i.bitLength()%26;for(0===u&&(u=26),n=i.length-1;n>=0;n--){for(var a=i.words[n],l=u-1;l>=0;l--){var m=a>>l&1;e!==r[0]&&(e=this.sqr(e)),0!==m||0!==o?(o<<=1,o|=m,(4===++s||0===n&&0===l)&&(e=this.mul(e,r[o]),s=0,o=0)):s=0}u=26}return e},x.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},x.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},h.mont=function(t){return new S(t)},n(S,x),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},S.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=r.isub(n).iushrn(this.shift),e=h;return h.cmp(this.m)>=0?e=h.isub(this.m):h.cmpn(0)<0&&(e=h.iadd(this.m)),e._forceRed(this)},S.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new h(0)._forceRed(this);var r=t.mul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=r.isub(n).iushrn(this.shift),o=e;return e.cmp(this.m)>=0?o=e.isub(this.m):e.cmpn(0)<0&&(o=e.iadd(this.m)),o._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}})(void 0===_m||_m,this)},613,[476]);
__d(function(g,r,i,a,m,e,d){m.exports=function(o,n){return r(d[0]).Buffer.from(o.toRed(r(d[1]).mont(n.modulus)).redPow(new(r(d[1]))(n.publicExponent)).fromRed().toArray())}},614,[488,613]);
__d(function(g,r,_i,_a,m,e,d){m.exports=function(n,t){for(var o=n.length,f=-1;++f<o;)n[f]^=t[f];return n}},615,[]);
__d(function(g,r,_i,a,m,e,d){function t(t){var n=r(d[0]).Buffer.allocUnsafe(4);return n.writeUInt32BE(t,0),n}m.exports=function(n,f){for(var u,c=r(d[0]).Buffer.alloc(0),o=0;c.length<f;)u=t(o++),c=r(d[0]).Buffer.concat([c,r(d[1])('sha1').update(n).update(u).digest()]);return c.slice(0,f)}},616,[488,469]);
__d(function(g,r,_i,_a,m,e,d){function n(n,t){var i=n.modulus.byteLength(),f=r(d[5])('sha1').update(r(d[4]).Buffer.alloc(0)).digest(),l=f.length;if(0!==t[0])throw new Error('decryption error');var u=t.slice(1,l+1),c=t.slice(l+1),h=r(d[6])(u,r(d[7])(c,l)),a=r(d[6])(c,r(d[7])(h,i-l-1));if(o(f,a.slice(0,l)))throw new Error('decryption error');for(var w=l;0===a[w];)w++;if(1!==a[w++])throw new Error('decryption error');return a.slice(w)}function t(n,t,o){for(var i=t.slice(0,2),f=2,l=0;0!==t[f++];)if(f>=t.length){l++;break}var u=t.slice(2,f-1);if(('0002'!==i.toString('hex')&&!o||'0001'!==i.toString('hex')&&o)&&l++,u.length<8&&l++,l)throw new Error('decryption error');return t.slice(f)}function o(n,t){n=r(d[4]).Buffer.from(n),t=r(d[4]).Buffer.from(t);var o=0,i=n.length;n.length!==t.length&&(o++,i=Math.min(n.length,t.length));for(var f=-1;++f<i;)o+=n[f]^t[f];return o}m.exports=function(o,i,f){var l;l=o.padding?o.padding:f?1:4;var u,c=r(d[0])(o),h=c.modulus.byteLength();if(i.length>h||new(r(d[1]))(i).cmp(c.modulus)>=0)throw new Error('decryption error');u=f?r(d[2])(new(r(d[1]))(i),c):r(d[3])(i,c);var a=r(d[4]).Buffer.alloc(h-u.length);if(u=r(d[4]).Buffer.concat([a,u],h),4===l)return n(c,u);if(1===l)return t(c,u,f);if(3===l)return u;throw new Error('unknown padding')}},617,[548,613,614,574,488,469,615,616]);
__d(function(g,r,i,a,m,e,d){'use strict';function n(){throw new Error('secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11')}var t=g.crypto||g.msCrypto,o=Math.pow(2,32)-1;function f(n,t){if('number'!=typeof n||n!=n)throw new TypeError('offset must be a number');if(n>o||n<0)throw new TypeError('offset must be a uint32');if(n>r(d[0]).kMaxLength||n>t)throw new RangeError('offset out of range')}function u(n,t,f){if('number'!=typeof n||n!=n)throw new TypeError('size must be a number');if(n>o||n<0)throw new TypeError('size must be a uint32');if(n+t>f||n>r(d[0]).kMaxLength)throw new RangeError('buffer too small')}function s(n,o,f,u){if(process.browser){var s=n.buffer,c=new Uint8Array(s,o,f);return t.getRandomValues(c),u?void process.nextTick(function(){u(null,n)}):n}if(!u)return r(d[1])(f).copy(n,o),n;r(d[1])(f,function(t,f){if(t)return u(t);f.copy(n,o),u(null,n)})}t&&t.getRandomValues||!process.browser?(e.randomFill=function(n,t,o,c){if(!(r(d[0]).Buffer.isBuffer(n)||n instanceof g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if('function'==typeof t)c=t,t=0,o=n.length;else if('function'==typeof o)c=o,o=n.length-t;else if('function'!=typeof c)throw new TypeError('"cb" argument must be a function');return f(t,n.length),u(o,t,n.length),s(n,t,o,c)},e.randomFillSync=function(n,t,o){void 0===t&&(t=0);if(!(r(d[0]).Buffer.isBuffer(n)||n instanceof g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');f(t,n.length),void 0===o&&(o=n.length-t);return u(o,t,n.length),s(n,t,o)}):(e.randomFill=n,e.randomFillSync=n)},618,[488,545]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.all=e.VERSION=e.HttpStatusCode=e.CanceledError=e.CancelToken=e.Cancel=e.AxiosHeaders=e.AxiosError=e.Axios=void 0,Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),e.toFormData=e.spread=e.mergeConfig=e.isCancel=e.isAxiosError=e.getAdapter=e.formToJSON=void 0;var t=r(d[0])(r(d[1]));e.Axios=t.default.Axios,e.AxiosError=t.default.AxiosError,e.CanceledError=t.default.CanceledError,e.isCancel=t.default.isCancel,e.CancelToken=t.default.CancelToken,e.VERSION=t.default.VERSION,e.all=t.default.all,e.Cancel=t.default.Cancel,e.isAxiosError=t.default.isAxiosError,e.spread=t.default.spread,e.toFormData=t.default.toFormData,e.AxiosHeaders=t.default.AxiosHeaders,e.HttpStatusCode=t.default.HttpStatusCode,e.formToJSON=t.default.formToJSON,e.getAdapter=t.default.getAdapter,e.mergeConfig=t.default.mergeConfig},619,[3,620]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])),l=r(d[0])(r(d[2])),u=r(d[0])(r(d[3])),f=r(d[0])(r(d[4])),o=r(d[0])(r(d[5])),n=r(d[0])(r(d[6])),s=r(d[0])(r(d[7])),c=r(d[0])(r(d[8])),p=r(d[0])(r(d[9])),C=r(d[0])(r(d[10])),x=r(d[0])(r(d[11])),A=r(d[0])(r(d[12])),E=r(d[0])(r(d[13])),O=r(d[0])(r(d[14])),v=r(d[0])(r(d[15])),y=r(d[0])(r(d[16]));var w=(function o(n){var s=new u.default(n),c=(0,l.default)(u.default.prototype.request,s);return t.default.extend(c,u.default.prototype,s,{allOwnKeys:!0}),t.default.extend(c,s,null,{allOwnKeys:!0}),c.create=function(t){return o((0,f.default)(n,t))},c})(o.default);w.Axios=u.default,w.CanceledError=s.default,w.CancelToken=c.default,w.isCancel=p.default,w.VERSION=r(d[17]).VERSION,w.toFormData=C.default,w.AxiosError=x.default,w.Cancel=w.CanceledError,w.all=function(t){return Promise.all(t)},w.spread=A.default,w.isAxiosError=E.default,w.mergeConfig=f.default,w.AxiosHeaders=O.default,w.formToJSON=function(l){return(0,n.default)(t.default.isHTMLForm(l)?new FormData(l):l)},w.getAdapter=v.default.getAdapter,w.HttpStatusCode=y.default,w.default=w;e.default=w},620,[3,621,622,623,657,632,641,645,670,644,626,627,671,672,642,646,673,669]);
__d(function(g,r,_i,_a,_m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,n=r(d[0])(r(d[1])),o=r(d[0])(r(d[2])),i=Object.prototype.toString,u=Object.getPrototypeOf,a=(t=Object.create(null),function(n){var o=i.call(n);return t[o]||(t[o]=o.slice(8,-1).toLowerCase())}),f=function(t){return t=t.toLowerCase(),function(n){return a(n)===t}},s=function(t){return function(n){return typeof n===t}},c=Array.isArray,l=s('undefined');var p=f('ArrayBuffer');var y=s('string'),b=s('function'),m=s('number'),h=function(t){return null!==t&&'object'==typeof t},v=function(t){if('object'!==a(t))return!1;var n=u(t);return!(null!==n&&n!==Object.prototype&&null!==Object.getPrototypeOf(n)||Symbol.toStringTag in t||Symbol.iterator in t)},O=f('Date'),w=f('File'),A=f('Blob'),j=f('FileList'),F=f('URLSearchParams'),S=['ReadableStream','Request','Response','Headers'].map(f),P=(0,n.default)(S,4),L=P[0],T=P[1],x=P[2],B=P[3];function C(t,n){var o,i,u=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==u&&u;if(null!=t)if('object'!=typeof t&&(t=[t]),c(t))for(o=0,i=t.length;o<i;o++)n.call(null,t[o],o,t);else{var f,s=a?Object.getOwnPropertyNames(t):Object.keys(t),l=s.length;for(o=0;o<l;o++)f=s[o],n.call(null,t[f],f,t)}}function D(t,n){n=n.toLowerCase();for(var o,i=Object.keys(t),u=i.length;u-- >0;)if(n===(o=i[u]).toLowerCase())return o;return null}var E="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:'undefined'!=typeof window?window:g,M=function(t){return!l(t)&&t!==E};var R,I=(R='undefined'!=typeof Uint8Array&&u(Uint8Array),function(t){return R&&t instanceof R}),k=f('HTMLFormElement'),H=(function(t){var n=Object.prototype.hasOwnProperty;return function(t,o){return n.call(t,o)}})(),N=f('RegExp'),U=function(t,n){var o=Object.getOwnPropertyDescriptors(t),i={};C(o,function(o,u){var a;!1!==(a=n(o,u,t))&&(i[u]=a||o)}),Object.defineProperties(t,i)},_='abcdefghijklmnopqrstuvwxyz',q={DIGIT:"0123456789",ALPHA:_,ALPHA_DIGIT:_+_.toUpperCase()+"0123456789"};var K,z,G,V,J=f('AsyncFunction'),W=(K='function'==typeof setImmediate,z=b(E.postMessage),K?setImmediate:z?(G="axios@"+Math.random(),V=[],E.addEventListener("message",function(t){var n=t.source,o=t.data;n===E&&o===G&&V.length&&V.shift()()},!1),function(t){V.push(t),E.postMessage(G,"*")}):function(t){return setTimeout(t)}),$='undefined'!=typeof queueMicrotask?queueMicrotask.bind(E):'undefined'!=typeof process&&process.nextTick||W;e.default={isArray:c,isArrayBuffer:p,isBuffer:function(t){return null!==t&&!l(t)&&null!==t.constructor&&!l(t.constructor)&&b(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:function(t){var n;return t&&('function'==typeof FormData&&t instanceof FormData||b(t.append)&&('formdata'===(n=a(t))||'object'===n&&b(t.toString)&&'[object FormData]'===t.toString()))},isArrayBufferView:function(t){return'undefined'!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&p(t.buffer)},isString:y,isNumber:m,isBoolean:function(t){return!0===t||!1===t},isObject:h,isPlainObject:v,isReadableStream:L,isRequest:T,isResponse:x,isHeaders:B,isUndefined:l,isDate:O,isFile:w,isBlob:A,isRegExp:N,isFunction:b,isStream:function(t){return h(t)&&b(t.pipe)},isURLSearchParams:F,isTypedArray:I,isFileList:j,forEach:C,merge:function t(){for(var n=(M(this)&&this||{}).caseless,o={},i=function(i,u){var a=n&&D(o,u)||u;v(o[a])&&v(i)?o[a]=t(o[a],i):v(i)?o[a]=t({},i):c(i)?o[a]=i.slice():o[a]=i},u=0,a=arguments.length;u<a;u++)arguments[u]&&C(arguments[u],i);return o},extend:function(t,n,i){return C(n,function(n,u){i&&b(n)?t[u]=(0,o.default)(n,i):t[u]=n},{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),t},trim:function(t){return t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'')},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t},inherits:function(t,n,o,i){t.prototype=Object.create(n.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,'super',{value:n.prototype}),o&&Object.assign(t.prototype,o)},toFlatObject:function(t,n,o,i){var a,f,s,c={};if(n=n||{},null==t)return n;do{for(f=(a=Object.getOwnPropertyNames(t)).length;f-- >0;)s=a[f],i&&!i(s,t,n)||c[s]||(n[s]=t[s],c[s]=!0);t=!1!==o&&u(t)}while(t&&(!o||o(t,n))&&t!==Object.prototype);return n},kindOf:a,kindOfTest:f,endsWith:function(t,n,o){t=String(t),(void 0===o||o>t.length)&&(o=t.length),o-=n.length;var i=t.indexOf(n,o);return-1!==i&&i===o},toArray:function(t){if(!t)return null;if(c(t))return t;var n=t.length;if(!m(n))return null;for(var o=new Array(n);n-- >0;)o[n]=t[n];return o},forEachEntry:function(t,n){for(var o,i=(t&&t[Symbol.iterator]).call(t);(o=i.next())&&!o.done;){var u=o.value;n.call(t,u[0],u[1])}},matchAll:function(t,n){for(var o,i=[];null!==(o=t.exec(n));)i.push(o);return i},isHTMLForm:k,hasOwnProperty:H,hasOwnProp:H,reduceDescriptors:U,freezeMethods:function(t){U(t,function(n,o){if(b(t)&&-1!==['arguments','caller','callee'].indexOf(o))return!1;var i=t[o];b(i)&&(n.enumerable=!1,'writable'in n?n.writable=!1:n.set||(n.set=function(){throw Error('Can not rewrite read-only method \''+o+'\'')}))})},toObjectSet:function(t,n){var o={},i=function(t){t.forEach(function(t){o[t]=!0})};return c(t)?i(t):i(String(t).split(n)),o},toCamelCase:function(t){return t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,o){return n.toUpperCase()+o})},noop:function(){},toFiniteNumber:function(t,n){return null!=t&&Number.isFinite(t=+t)?t:n},findKey:D,global:E,isContextDefined:M,ALPHABET:q,generateString:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.ALPHA_DIGIT,o='',i=n.length;t--;)o+=n[Math.random()*i|0];return o},isSpecCompliantForm:function(t){return!!(t&&b(t.append)&&'FormData'===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:function(t){var n=new Array(10),o=function(t,i){if(h(t)){if(n.indexOf(t)>=0)return;if(!('toJSON'in t)){n[i]=t;var u=c(t)?[]:{};return C(t,function(t,n){var a=o(t,i+1);!l(a)&&(u[n]=a)}),n[i]=void 0,u}}return t};return o(t,0)},isAsyncFn:J,isThenable:function(t){return t&&(h(t)||b(t))&&b(t.then)&&b(t.catch)},setImmediate:W,asap:$}},621,[3,22,622]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n){return function(){return t.apply(n,arguments)}}},622,[]);
__d(function(g,r,_i,a,m,_e,d){'use strict';Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=r(d[0])(r(d[1])),e=r(d[0])(r(d[2])),n=r(d[0])(r(d[3])),o=r(d[0])(r(d[4])),u=r(d[0])(r(d[5])),i=r(d[0])(r(d[6])),s=r(d[0])(r(d[7])),l=r(d[0])(r(d[8])),f=r(d[0])(r(d[9])),c=r(d[0])(r(d[10])),h=r(d[0])(r(d[11])),p=c.default.validators,v=(function(){return(0,n.default)(function t(n){(0,e.default)(this,t),this.defaults=n,this.interceptors={request:new i.default,response:new i.default}},[{key:"request",value:(function(){var e=(0,t.default)(function*(t,e){try{return yield this._request(t,e)}catch(t){if(t instanceof Error){var n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;var o=n.stack?n.stack.replace(/^.+\n/,''):'';try{t.stack?o&&!String(t.stack).endsWith(o.replace(/^.+\n.+\n/,''))&&(t.stack+='\n'+o):t.stack=o}catch(t){}}throw t}});return function(t,n){return e.apply(this,arguments)}})()},{key:"_request",value:function(t,e){'string'==typeof t?(e=e||{}).url=t:e=t||{};var n=e=(0,l.default)(this.defaults,e),u=n.transitional,i=n.paramsSerializer,f=n.headers;void 0!==u&&c.default.assertOptions(u,{silentJSONParsing:p.transitional(p.boolean),forcedJSONParsing:p.transitional(p.boolean),clarifyTimeoutError:p.transitional(p.boolean)},!1),null!=i&&(o.default.isFunction(i)?e.paramsSerializer={serialize:i}:c.default.assertOptions(i,{encode:p.function,serialize:p.function},!0)),c.default.assertOptions(e,{baseUrl:p.spelling('baseURL'),withXsrfToken:p.spelling('withXSRFToken')},!0),e.method=(e.method||this.defaults.method||'get').toLowerCase();var v=f&&o.default.merge(f.common,f[e.method]);f&&o.default.forEach(['delete','get','head','post','put','patch','common'],function(t){delete f[t]}),e.headers=h.default.concat(v,f);var y=[],k=!0;this.interceptors.request.forEach(function(t){'function'==typeof t.runWhen&&!1===t.runWhen(e)||(k=k&&t.synchronous,y.unshift(t.fulfilled,t.rejected))});var E,b=[];this.interceptors.response.forEach(function(t){b.push(t.fulfilled,t.rejected)});var S,q=0;if(!k){var w=[s.default.bind(this),void 0];for(w.unshift.apply(w,y),w.push.apply(w,b),S=w.length,E=Promise.resolve(e);q<S;)E=E.then(w[q++],w[q++]);return E}S=y.length;var O=e;for(q=0;q<S;){var T=y[q++],_=y[q++];try{O=T(O)}catch(t){_.call(this,t);break}}try{E=s.default.call(this,O)}catch(t){return Promise.reject(t)}for(q=0,S=b.length;q<S;)E=E.then(b[q++],b[q++]);return E}},{key:"getUri",value:function(t){t=(0,l.default)(this.defaults,t);var e=(0,f.default)(t.baseURL,t.url);return(0,u.default)(e,t.params,t.paramsSerializer)}}])})();o.default.forEach(['delete','get','head','options'],function(t){v.prototype[t]=function(e,n){return this.request((0,l.default)(n||{},{method:t,url:e,data:(n||{}).data}))}}),o.default.forEach(['post','put','patch'],function(t){function e(e){return function(n,o,u){return this.request((0,l.default)(u||{},{method:t,headers:e?{'Content-Type':'multipart/form-data'}:{},url:n,data:o}))}}v.prototype[t]=e(),v.prototype[t+'Form']=e(!0)});_e.default=v},623,[3,270,12,13,621,624,629,630,657,654,668,642]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(l,u,f){if(!u)return l;var o=f&&f.encode||c;n.default.isFunction(f)&&(f={serialize:f});var s,p=f&&f.serialize;s=p?p(u,f):n.default.isURLSearchParams(u)?u.toString():new t.default(u,f).toString(o);if(s){var v=l.indexOf("#");-1!==v&&(l=l.slice(0,v)),l+=(-1===l.indexOf('?')?'?':'&')+s}return l};var n=r(d[0])(r(d[1])),t=r(d[0])(r(d[2]));function c(n){return encodeURIComponent(n).replace(/%3A/gi,':').replace(/%24/g,'$').replace(/%2C/gi,',').replace(/%20/g,'+').replace(/%5B/gi,'[').replace(/%5D/gi,']')}},624,[3,621,625]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1]));function n(t){var n={'!':'%21',"'":'%27','(':'%28',')':'%29','~':'%7E','%20':'+','%00':'\0'};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(t){return n[t]})}function u(n,u){this._pairs=[],n&&(0,t.default)(n,this,u)}var o=u.prototype;o.append=function(t,n){this._pairs.push([t,n])},o.toString=function(t){var u=t?function(u){return t.call(this,u,n)}:n;return this._pairs.map(function(t){return u(t[0])+'='+u(t[1])},'').join('&')};e.default=u},625,[3,626]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),i=r(d[0])(r(d[3]));function u(n){return t.default.isPlainObject(n)||t.default.isArray(n)}function f(n){return t.default.endsWith(n,'[]')?n.slice(0,-2):n}function o(t,n,i){return t?t.concat(n).map(function(t,n){return t=f(t),!i&&n?'['+t+']':t}).join(i?'.':''):n}function l(n){return t.default.isArray(n)&&!n.some(u)}var s=t.default.toFlatObject(t.default,{},null,function(t){return/^is[A-Z]/.test(t)});e.default=function(c,b,p){if(!t.default.isObject(c))throw new TypeError('target must be an object');b=b||new(i.default||FormData);var y=(p=t.default.toFlatObject(p,{metaTokens:!0,dots:!1,indexes:!1},!1,function(n,i){return!t.default.isUndefined(i[n])})).metaTokens,j=p.visitor||O,h=p.dots,w=p.indexes,v=(p.Blob||'undefined'!=typeof Blob&&Blob)&&t.default.isSpecCompliantForm(b);if(!t.default.isFunction(j))throw new TypeError('visitor must be a function');function B(i){if(null===i)return'';if(t.default.isDate(i))return i.toISOString();if(!v&&t.default.isBlob(i))throw new n.default('Blob is not supported. Use a Buffer instead.');return t.default.isArrayBuffer(i)||t.default.isTypedArray(i)?v&&'function'==typeof Blob?new Blob([i]):Buffer.from(i):i}function O(n,i,s){var c=n;if(n&&!s&&'object'==typeof n)if(t.default.endsWith(i,'{}'))i=y?i:i.slice(0,-2),n=JSON.stringify(n);else if(t.default.isArray(n)&&l(n)||(t.default.isFileList(n)||t.default.endsWith(i,'[]'))&&(c=t.default.toArray(n)))return i=f(i),c.forEach(function(n,u){!t.default.isUndefined(n)&&null!==n&&b.append(!0===w?o([i],u,h):null===w?i:i+'[]',B(n))}),!1;return!!u(n)||(b.append(o(s,i,h),B(n)),!1)}var A=[],E=Object.assign(s,{defaultVisitor:O,convertValue:B,isVisitable:u});if(!t.default.isObject(c))throw new TypeError('data must be an object');return(function n(i,u){if(!t.default.isUndefined(i)){if(-1!==A.indexOf(i))throw Error('Circular reference detected in '+u.join('.'));A.push(i),t.default.forEach(i,function(i,f){!0===(!(t.default.isUndefined(i)||null===i)&&j.call(b,i,t.default.isString(f)?f.trim():f,u,E))&&n(i,u?u.concat(f):[f])}),A.pop()}})(c),b}},626,[3,621,627,628]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1]));function s(t,s,o,n,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name='AxiosError',s&&(this.code=s),o&&(this.config=o),n&&(this.request=n),c&&(this.response=c,this.status=c.status?c.status:null)}t.default.inherits(s,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:t.default.toJSONObject(this.config),code:this.code,status:this.status}}});var o=s.prototype,n={};['ERR_BAD_OPTION_VALUE','ERR_BAD_OPTION','ECONNABORTED','ETIMEDOUT','ERR_NETWORK','ERR_FR_TOO_MANY_REDIRECTS','ERR_DEPRECATED','ERR_BAD_RESPONSE','ERR_BAD_REQUEST','ERR_CANCELED','ERR_NOT_SUPPORT','ERR_INVALID_URL'].forEach(function(t){n[t]={value:t}}),Object.defineProperties(s,n),Object.defineProperty(o,'isAxiosError',{value:!0}),s.from=function(n,c,u,E,R,h){var _=Object.create(o);return t.default.toFlatObject(n,_,function(t){return t!==Error.prototype},function(t){return'isAxiosError'!==t}),s.call(_,n.message,c,u,E,R),_.cause=n,_.name=n.name,h&&Object.assign(_,h),_};e.default=s},627,[3,621]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=null},628,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(d[0])(r(d[1])),u=r(d[0])(r(d[2])),t=r(d[0])(r(d[3])),l=(function(){return(0,u.default)(function u(){(0,n.default)(this,u),this.handlers=[]},[{key:"use",value:function(n,u,t){return this.handlers.push({fulfilled:n,rejected:u,synchronous:!!t&&t.synchronous,runWhen:t?t.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(n){this.handlers[n]&&(this.handlers[n]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(n){t.default.forEach(this.handlers,function(u){null!==u&&n(u)})}}])})();e.default=l},629,[3,12,13,621]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(o){u(o),o.headers=f.default.from(o.headers),o.data=t.default.call(o,o.transformRequest),-1!==['post','put','patch'].indexOf(o.method)&&o.headers.setContentType('application/x-www-form-urlencoded',!1);return l.default.getAdapter(o.adapter||s.default.adapter)(o).then(function(n){return u(o),n.data=t.default.call(o,o.transformResponse,n),n.headers=f.default.from(n.headers),n},function(s){return(0,n.default)(s)||(u(o),s&&s.response&&(s.response.data=t.default.call(o,o.transformResponse,s.response),s.response.headers=f.default.from(s.response.headers))),Promise.reject(s)})};var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),s=r(d[0])(r(d[3])),o=r(d[0])(r(d[4])),f=r(d[0])(r(d[5])),l=r(d[0])(r(d[6]));function u(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new o.default(null,t)}},630,[3,631,644,632,645,642,646]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(l,n){var o=this||u.default,c=n||o,s=f.default.from(c.headers),v=c.data;return t.default.forEach(l,function(t){v=t.call(o,v,s.normalize(),n?n.status:void 0)}),s.normalize(),v};var t=r(d[0])(r(d[1])),u=r(d[0])(r(d[2])),f=r(d[0])(r(d[3]))},631,[3,621,632,642]);
__d(function(g,r,i,a,m,_e,d){'use strict';Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=r(d[0])(r(d[1])),e=r(d[0])(r(d[2])),n=r(d[0])(r(d[3])),f=r(d[0])(r(d[4])),s=r(d[0])(r(d[5])),o=r(d[0])(r(d[6])),u=r(d[0])(r(d[7]));function l(e,n,f){if(t.default.isString(e))try{return(n||JSON.parse)(e),t.default.trim(e)}catch(t){if('SyntaxError'!==t.name)throw t}return(f||JSON.stringify)(e)}var p={transitional:n.default,adapter:['xhr','http','fetch'],transformRequest:[function(e,n){var o,p=n.getContentType()||'',c=p.indexOf('application/json')>-1,h=t.default.isObject(e);if(h&&t.default.isHTMLForm(e)&&(e=new FormData(e)),t.default.isFormData(e))return c?JSON.stringify((0,u.default)(e)):e;if(t.default.isArrayBuffer(e)||t.default.isBuffer(e)||t.default.isStream(e)||t.default.isFile(e)||t.default.isBlob(e)||t.default.isReadableStream(e))return e;if(t.default.isArrayBufferView(e))return e.buffer;if(t.default.isURLSearchParams(e))return n.setContentType('application/x-www-form-urlencoded;charset=utf-8',!1),e.toString();if(h){if(p.indexOf('application/x-www-form-urlencoded')>-1)return(0,s.default)(e,this.formSerializer).toString();if((o=t.default.isFileList(e))||p.indexOf('multipart/form-data')>-1){var S=this.env&&this.env.FormData;return(0,f.default)(o?{'files[]':e}:e,S&&new S,this.formSerializer)}}return h||c?(n.setContentType('application/json',!1),l(e)):e}],transformResponse:[function(n){var f=this.transitional||p.transitional,s=f&&f.forcedJSONParsing,o='json'===this.responseType;if(t.default.isResponse(n)||t.default.isReadableStream(n))return n;if(n&&t.default.isString(n)&&(s&&!this.responseType||o)){var u=!(f&&f.silentJSONParsing)&&o;try{return JSON.parse(n)}catch(t){if(u){if('SyntaxError'===t.name)throw e.default.from(t,e.default.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return n}],timeout:0,xsrfCookieName:'XSRF-TOKEN',xsrfHeaderName:'X-XSRF-TOKEN',maxContentLength:-1,maxBodyLength:-1,env:{FormData:o.default.classes.FormData,Blob:o.default.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:'application/json, text/plain, */*','Content-Type':void 0}}};t.default.forEach(['delete','get','head','post','put','patch'],function(t){p.headers[t]={}});_e.default=p},632,[3,621,627,633,626,634,635,641]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},633,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,f){return(0,s.default)(n,new u.default.classes.URLSearchParams,Object.assign({visitor:function(s,n,f,l){return u.default.isNode&&t.default.isBuffer(s)?(this.append(n,s.toString('base64')),!1):l.defaultVisitor.apply(this,arguments)}},f))};var t=r(d[0])(r(d[1])),s=r(d[0])(r(d[2])),u=r(d[0])(r(d[3]))},634,[3,621,626,635]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=_r(d[0])(_r(d[1])),t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var u={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=f?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(u,o,a):u[o]=e[o]}return u.default=e,n&&n.set(e,u),u})(_r(d[2]));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}_e.default=Object.assign({},t,e.default)},635,[3,636,640]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])),l=r(d[0])(r(d[2])),o=r(d[0])(r(d[3]));e.default={isBrowser:!0,classes:{URLSearchParams:t.default,FormData:l.default,Blob:o.default},protocols:['http','https','file','blob','url','data']}},636,[3,637,638,639]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1]));e.default='undefined'!=typeof URLSearchParams?URLSearchParams:t.default},637,[3,625]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default='undefined'!=typeof FormData?FormData:null},638,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default='undefined'!=typeof Blob?Blob:null},639,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.origin=e.navigator=e.hasStandardBrowserWebWorkerEnv=e.hasStandardBrowserEnv=e.hasBrowserEnv=void 0;var o=e.hasBrowserEnv='undefined'!=typeof window&&'undefined'!=typeof document,n=e.navigator='object'==typeof navigator&&navigator||void 0;e.hasStandardBrowserEnv=o&&(!n||['ReactNative','NativeScript','NS'].indexOf(n.product)<0),e.hasStandardBrowserWebWorkerEnv='undefined'!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&'function'==typeof self.importScripts,e.origin=o&&window.location.href||'http://localhost'},640,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1]));function n(n){return t.default.matchAll(/\w+|\[(\w*)]/g,n).map(function(t){return'[]'===t[0]?'':t[1]||t[0]})}function u(t){var n,u,f={},i=Object.keys(t),l=i.length;for(n=0;n<l;n++)f[u=i[n]]=t[u];return f}e.default=function(f){function i(n,f,l,o){var c=n[o++];if('__proto__'===c)return!0;var s=Number.isFinite(+c),_=o>=n.length;return c=!c&&t.default.isArray(l)?l.length:c,_?(t.default.hasOwnProp(l,c)?l[c]=[l[c],f]:l[c]=f,!s):(l[c]&&t.default.isObject(l[c])||(l[c]=[]),i(n,f,l[c],o)&&t.default.isArray(l[c])&&(l[c]=u(l[c])),!s)}if(t.default.isFormData(f)&&t.default.isFunction(f.entries)){var l={};return t.default.forEachEntry(f,function(t,u){i(n(t),u,l,0)}),l}return null}},641,[3,621]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),i=r(d[0])(r(d[3])),u=r(d[0])(r(d[4])),o=r(d[0])(r(d[5])),f=Symbol('internals');function s(t){return t&&String(t).trim().toLowerCase()}function c(t){return!1===t||null==t?t:u.default.isArray(t)?t.map(c):String(t)}function l(t){for(var n,i=Object.create(null),u=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;n=u.exec(t);)i[n[1]]=n[2];return i}function h(t,n,i,o,f){return u.default.isFunction(o)?o.call(this,n,i):(f&&(n=i),u.default.isString(n)?u.default.isString(o)?-1!==n.indexOf(o):u.default.isRegExp(o)?o.test(n):void 0:void 0)}function v(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i})}var y=(function(){return(0,i.default)(function t(i){(0,n.default)(this,t),i&&this.set(i)},[{key:"set",value:function(n,i,f){var l=this;function h(t,n,i){var o=s(n);if(!o)throw new Error('header name must be a non-empty string');var f=u.default.findKey(l,o);(!f||void 0===l[f]||!0===i||void 0===i&&!1!==l[f])&&(l[f||n]=c(t))}var v=function(t,n){return u.default.forEach(t,function(t,i){return h(t,i,n)})};if(u.default.isPlainObject(n)||n instanceof this.constructor)v(n,i);else if(u.default.isString(n)&&(n=n.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim()))v((0,o.default)(n),i);else if(u.default.isHeaders(n))for(var y of n.entries()){var p=(0,t.default)(y,2),b=p[0];h(p[1],b,f)}else null!=n&&h(i,n,f);return this}},{key:"get",value:function(t,n){if(t=s(t)){var i=u.default.findKey(this,t);if(i){var o=this[i];if(!n)return o;if(!0===n)return l(o);if(u.default.isFunction(n))return n.call(this,o,i);if(u.default.isRegExp(n))return n.exec(o);throw new TypeError('parser must be boolean|regexp|function')}}}},{key:"has",value:function(t,n){if(t=s(t)){var i=u.default.findKey(this,t);return!(!i||void 0===this[i]||n&&!h(0,this[i],i,n))}return!1}},{key:"delete",value:function(t,n){var i=this,o=!1;function f(t){if(t=s(t)){var f=u.default.findKey(i,t);!f||n&&!h(0,i[f],f,n)||(delete i[f],o=!0)}}return u.default.isArray(t)?t.forEach(f):f(t),o}},{key:"clear",value:function(t){for(var n=Object.keys(this),i=n.length,u=!1;i--;){var o=n[i];t&&!h(0,this[o],o,t,!0)||(delete this[o],u=!0)}return u}},{key:"normalize",value:function(t){var n=this,i={};return u.default.forEach(this,function(o,f){var s=u.default.findKey(i,f);if(s)return n[s]=c(o),void delete n[f];var l=t?v(f):String(f).trim();l!==f&&delete n[f],n[l]=c(o),i[l]=!0}),this}},{key:"concat",value:function(){for(var t,n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return(t=this.constructor).concat.apply(t,[this].concat(i))}},{key:"toJSON",value:function(t){var n=Object.create(null);return u.default.forEach(this,function(i,o){null!=i&&!1!==i&&(n[o]=t&&u.default.isArray(i)?i.join(', '):i)}),n}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map(function(n){var i=(0,t.default)(n,2);return i[0]+': '+i[1]}).join('\n')}},{key:Symbol.toStringTag,get:function(){return'AxiosHeaders'}}],[{key:"from",value:function(t){return t instanceof this?t:new this(t)}},{key:"concat",value:function(t){for(var n=new this(t),i=arguments.length,u=new Array(i>1?i-1:0),o=1;o<i;o++)u[o-1]=arguments[o];return u.forEach(function(t){return n.set(t)}),n}},{key:"accessor",value:function(t){var n=(this[f]=this[f]={accessors:{}}).accessors,i=this.prototype;function o(t){var o,f,c,l=s(t);n[l]||(o=i,f=t,c=u.default.toCamelCase(' '+f),['get','set','has'].forEach(function(t){Object.defineProperty(o,t+c,{value:function(n,i,u){return this[t].call(this,f,n,i,u)},configurable:!0})}),n[l]=!0)}return u.default.isArray(t)?t.forEach(o):o(t),this}}])})();y.accessor(['Content-Type','Content-Length','Accept','Accept-Encoding','User-Agent','Authorization']),u.default.reduceDescriptors(y.prototype,function(t,n){var i=t.value,u=n[0].toUpperCase()+n.slice(1);return{get:function(){return i},set:function(t){this[u]=t}}}),u.default.freezeMethods(y);e.default=y},642,[3,22,12,13,621,643]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])).default.toObjectSet(['age','authorization','content-length','content-type','etag','expires','from','host','if-modified-since','if-unmodified-since','last-modified','location','max-forwards','proxy-authorization','referer','retry-after','user-agent']);e.default=function(i){var o,n,f,s={};return i&&i.split('\n').forEach(function(i){f=i.indexOf(':'),o=i.substring(0,f).trim().toLowerCase(),n=i.substring(f+1).trim(),!o||s[o]&&t[o]||('set-cookie'===o?s[o]?s[o].push(n):s[o]=[n]:s[o]=s[o]?s[o]+', '+n:n)}),s}},643,[3,621]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return!(!t||!t.__CANCEL__)}},644,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1]));function l(l,u,n){t.default.call(this,null==l?'canceled':l,t.default.ERR_CANCELED,u,n),this.name='CanceledError'}r(d[0])(r(d[2])).default.inherits(l,t.default,{__CANCEL__:!0});e.default=l},645,[3,627,621]);
__d(function(g,r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=r(d[0])(r(d[1])),t=r(d[0])(r(d[2])),n=r(d[0])(r(d[3])),i=r(d[0])(r(d[4])),u=r(d[0])(r(d[5])),o=r(d[0])(r(d[6])),f={http:n.default,xhr:i.default,fetch:u.default};t.default.forEach(f,function(e,t){if(e){try{Object.defineProperty(e,'name',{value:t})}catch(e){}Object.defineProperty(e,'adapterName',{value:t})}});var l=function(e){return"- "+e},c=function(e){return t.default.isFunction(e)||null===e||!1===e};_e.default={getAdapter:function(n){for(var i,u,p=(n=t.default.isArray(n)?n:[n]).length,s={},h=0;h<p;h++){var v=void 0;if(u=i=n[h],!c(i)&&void 0===(u=f[(v=String(i)).toLowerCase()]))throw new o.default("Unknown adapter '"+v+"'");if(u)break;s[v||'#'+h]=u}if(!u){var b=Object.entries(s).map(function(t){var n=(0,e.default)(t,2);return"adapter "+n[0]+" "+(!1===n[1]?'is not supported by the environment':'is not available in the build')}),w=p?b.length>1?'since :\n'+b.map(l).join('\n'):' '+l(b[0]):'as no adapter specified';throw new o.default("There is no suitable adapter to dispatch the request "+w,'ERR_NOT_SUPPORT')}return u},adapters:f}},646,[3,22,621,628,647,661,627]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),o=r(d[0])(r(d[3])),s=r(d[0])(r(d[4])),u=r(d[0])(r(d[5])),l=r(d[0])(r(d[6])),f=r(d[0])(r(d[7])),c=r(d[0])(r(d[8])),p=r(d[0])(r(d[9])),E=r(d[0])(r(d[10])),T='undefined'!=typeof XMLHttpRequest;e.default=T&&function(T){return new Promise(function(v,R){var w,b,y,O,L,h=(0,E.default)(T),x=h.data,U=p.default.from(h.headers).normalize(),C=h.responseType,N=h.onUploadProgress,_=h.onDownloadProgress;function k(){O&&O(),L&&L(),h.cancelToken&&h.cancelToken.unsubscribe(w),h.signal&&h.signal.removeEventListener('abort',w)}var q=new XMLHttpRequest;function H(){if(q){var t=p.default.from('getAllResponseHeaders'in q&&q.getAllResponseHeaders()),n={data:C&&'text'!==C&&'json'!==C?q.response:q.responseText,status:q.status,statusText:q.statusText,headers:t,config:T,request:q};(0,o.default)(function(t){v(t),k()},function(t){R(t),k()},n),q=null}}if(q.open(h.method.toUpperCase(),h.url,!0),q.timeout=h.timeout,'onloadend'in q?q.onloadend=H:q.onreadystatechange=function(){q&&4===q.readyState&&(0!==q.status||q.responseURL&&0===q.responseURL.indexOf('file:'))&&setTimeout(H)},q.onabort=function(){q&&(R(new u.default('Request aborted',u.default.ECONNABORTED,T,q)),q=null)},q.onerror=function(){R(new u.default('Network Error',u.default.ERR_NETWORK,T,q)),q=null},q.ontimeout=function(){var t=h.timeout?'timeout of '+h.timeout+'ms exceeded':'timeout exceeded',n=h.transitional||s.default;h.timeoutErrorMessage&&(t=h.timeoutErrorMessage),R(new u.default(t,n.clarifyTimeoutError?u.default.ETIMEDOUT:u.default.ECONNABORTED,T,q)),q=null},void 0===x&&U.setContentType(null),'setRequestHeader'in q&&n.default.forEach(U.toJSON(),function(t,n){q.setRequestHeader(n,t)}),n.default.isUndefined(h.withCredentials)||(q.withCredentials=!!h.withCredentials),C&&'json'!==C&&(q.responseType=h.responseType),_){var M=(0,r(d[11]).progressEventReducer)(_,!0),A=(0,t.default)(M,2);y=A[0],L=A[1],q.addEventListener('progress',y)}if(N&&q.upload){var D=(0,r(d[11]).progressEventReducer)(N),P=(0,t.default)(D,2);b=P[0],O=P[1],q.upload.addEventListener('progress',b),q.upload.addEventListener('loadend',O)}(h.cancelToken||h.signal)&&(w=function(t){q&&(R(!t||t.type?new l.default(null,T,q):t),q.abort(),q=null)},h.cancelToken&&h.cancelToken.subscribe(w),h.signal&&(h.signal.aborted?w():h.signal.addEventListener('abort',w)));var j=(0,f.default)(h.url);j&&-1===c.default.protocols.indexOf(j)?R(new u.default('Unsupported protocol '+j+':',u.default.ERR_BAD_REQUEST,T)):q.send(x||null)})}},647,[3,22,621,648,633,627,645,649,635,642,650,658]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u,s,f){var l=f.config.validateStatus;f.status&&l&&!l(f.status)?s(new t.default('Request failed with status code '+f.status,[t.default.ERR_BAD_REQUEST,t.default.ERR_BAD_RESPONSE][Math.floor(f.status/100)-4],f.config,f.request,f)):u(f)};var t=r(d[0])(r(d[1]))},648,[3,627]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var u=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return u&&u[1]||''}},649,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),o=r(d[0])(r(d[3])),u=r(d[0])(r(d[4])),s=r(d[0])(r(d[5])),f=r(d[0])(r(d[6])),l=r(d[0])(r(d[7])),p=r(d[0])(r(d[8])),c=r(d[0])(r(d[9])),v=r(d[0])(r(d[10]));e.default=function(h){var w,B=(0,p.default)({},h),C=B.data,S=B.withXSRFToken,b=B.xsrfHeaderName,y=B.xsrfCookieName,T=B.headers,_=B.auth;if(B.headers=T=c.default.from(T),B.url=(0,v.default)((0,l.default)(B.baseURL,B.url),h.params,h.paramsSerializer),_&&T.set('Authorization','Basic '+btoa((_.username||'')+':'+(_.password?unescape(encodeURIComponent(_.password)):''))),u.default.isFormData(C))if(o.default.hasStandardBrowserEnv||o.default.hasStandardBrowserWebWorkerEnv)T.setContentType(void 0);else if(!1!==(w=T.getContentType())){var k=w?w.split(';').map(function(t){return t.trim()}).filter(Boolean):[],E=(0,n.default)(k),F=E[0],R=E.slice(1);T.setContentType([F||'multipart/form-data'].concat((0,t.default)(R)).join('; '))}if(o.default.hasStandardBrowserEnv&&(S&&u.default.isFunction(S)&&(S=S(B)),S||!1!==S&&(0,s.default)(B.url))){var j=b&&y&&f.default.read(y);j&&T.set(b,j)}return B}},650,[3,6,651,635,621,652,653,654,657,642,624]);
__d(function(g,_r,i,a,m,e,d){m.exports=function(t){return _r(d[0])(t)||_r(d[1])(t)||_r(d[2])(t)||_r(d[3])()},m.exports.__esModule=!0,m.exports.default=m.exports},651,[23,9,10,25]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,o,n=r(d[0])(r(d[1]));e.default=n.default.hasStandardBrowserEnv?(t=new URL(n.default.origin),o=n.default.navigator&&/(msie|trident)/i.test(n.default.navigator.userAgent),function(u){return u=new URL(u,n.default.origin),t.protocol===u.protocol&&t.host===u.host&&(o||t.port===u.port)}):function(){return!0}},652,[3,635]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(d[0])(r(d[1])),t=r(d[0])(r(d[2]));e.default=t.default.hasStandardBrowserEnv?{write:function(t,o,u,c,f,s){var l=[t+'='+encodeURIComponent(o)];n.default.isNumber(u)&&l.push('expires='+new Date(u).toGMTString()),n.default.isString(c)&&l.push('path='+c),n.default.isString(f)&&l.push('domain='+f),!0===s&&l.push('secure'),document.cookie=l.join('; ')},read:function(n){var t=document.cookie.match(new RegExp('(^|;\\s*)('+n+')=([^;]*)'));return t?decodeURIComponent(t[3]):null},remove:function(n){this.write(n,'',Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},653,[3,621,635]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(f,n){if(f&&!(0,t.default)(n))return(0,u.default)(f,n);return n};var t=r(d[0])(r(d[1])),u=r(d[0])(r(d[2]))},654,[3,655,656]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},655,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,u){return u?t.replace(/\/?\/$/,'')+'/'+u.replace(/^\/+/,''):t}},656,[]);
__d(function(g,r,i,_a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,s){s=s||{};var o={};function u(n,a,s,o){return t.default.isPlainObject(n)&&t.default.isPlainObject(a)?t.default.merge.call({caseless:o},n,a):t.default.isPlainObject(a)?t.default.merge({},a):t.default.isArray(a)?a.slice():a}function f(n,a,s,o){return t.default.isUndefined(a)?t.default.isUndefined(n)?void 0:u(void 0,n,s,o):u(n,a,s,o)}function l(n,a){if(!t.default.isUndefined(a))return u(void 0,a)}function c(n,a){return t.default.isUndefined(a)?t.default.isUndefined(n)?void 0:u(void 0,n):u(void 0,a)}function v(t,a,o){return o in s?u(t,a):o in n?u(void 0,t):void 0}var p={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:v,headers:function(t,n,s){return f(a(t),a(n),s,!0)}};return t.default.forEach(Object.keys(Object.assign({},n,s)),function(a){var u=p[a]||f,l=u(n[a],s[a],a);t.default.isUndefined(l)&&u!==v||(o[a]=l)}),o};var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),a=function(t){return t instanceof n.default?Object.assign({},t):t}},657,[3,621,642]);
__d(function(g,r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.progressEventReducer=_e.progressEventDecorator=_e.asyncDecorator=void 0;var e=r(d[0])(r(d[1])),t=r(d[0])(r(d[2])),o=r(d[0])(r(d[3])),n=r(d[0])(r(d[4]));_e.progressEventReducer=function(n,u){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,v=0,c=(0,t.default)(50,250);return(0,o.default)(function(t){var o=t.loaded,l=t.lengthComputable?t.total:void 0,s=o-v,f=c(s),p=o<=l;v=o;var y=(0,e.default)({loaded:o,total:l,progress:l?o/l:void 0,bytes:s,rate:f||void 0,estimated:f&&l&&p?(l-o)/f:void 0,event:t,lengthComputable:null!=l},u?'download':'upload',!0);n(y)},l)},_e.progressEventDecorator=function(e,t){var o=null!=e;return[function(n){return t[0]({lengthComputable:o,total:e,loaded:n})},t[1]]},_e.asyncDecorator=function(e){return function(){for(var t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];return n.default.asap(function(){return e.apply(void 0,o)})}}},658,[3,240,659,660,621]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(n,t){n=n||10;var o,u=new Array(n),i=new Array(n),f=0,v=0;return t=void 0!==t?t:1e3,function(c){var l=Date.now(),_=i[v];o||(o=l),u[f]=c,i[f]=l;for(var s=v,w=0;s!==f;)w+=u[s++],s%=n;if((f=(f+1)%n)===v&&(v=(v+1)%n),!(l-o<t)){var y=_&&l-_;return y?Math.round(1e3*w/y):void 0}}}},659,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(n,t){var u,l,o=0,f=1e3/t,c=function(t){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=f,u=null,l&&(clearTimeout(l),l=null),n.apply(null,t)};return[function(){for(var n=Date.now(),t=n-o,v=arguments.length,_=new Array(v),p=0;p<v;p++)_[p]=arguments[p];t>=f?c(_,n):(u=_,l||(l=setTimeout(function(){l=null,c(u)},f-t)))},function(){return u&&c(u)}]}},660,[]);
__d(function(g,r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e,t,n,o=r(d[0])(r(d[1])),u=r(d[0])(r(d[2])),s=r(d[0])(r(d[3])),f=r(d[0])(r(d[4])),l=r(d[0])(r(d[5])),c=r(d[0])(r(d[6])),y=r(d[0])(r(d[7])),p=r(d[0])(r(d[8])),h=r(d[0])(r(d[9])),b='function'==typeof fetch&&'function'==typeof Request&&'function'==typeof Response,v=b&&'function'==typeof ReadableStream,R=b&&('function'==typeof TextEncoder?(t=new TextEncoder,function(e){return t.encode(e)}):(e=(0,u.default)(function*(e){return new Uint8Array(yield new Response(e).arrayBuffer())}),function(t){return e.apply(this,arguments)})),w=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return!!e.apply(void 0,n)}catch(e){return!1}},T=v&&w(function(){var e=!1,t=new Request(s.default.origin,{body:new ReadableStream,method:'POST',get duplex(){return e=!0,'half'}}).headers.has('Content-Type');return e&&!t}),S=v&&w(function(){return f.default.isReadableStream(new Response('').body)}),E={stream:S&&function(e){return e.body}};b&&(n=new Response,['text','arrayBuffer','blob','formData','stream'].forEach(function(e){!E[e]&&(E[e]=f.default.isFunction(n[e])?function(t){return t[e]()}:function(t,n){throw new l.default("Response type '"+e+"' is not supported",l.default.ERR_NOT_SUPPORT,n)})}));var x,O,P,q=(x=(0,u.default)(function*(e){return null==e?0:f.default.isBlob(e)?e.size:f.default.isSpecCompliantForm(e)?(yield new Request(s.default.origin,{method:'POST',body:e}).arrayBuffer()).byteLength:f.default.isArrayBufferView(e)||f.default.isArrayBuffer(e)?e.byteLength:(f.default.isURLSearchParams(e)&&(e+=''),f.default.isString(e)?(yield R(e)).byteLength:void 0)}),function(e){return x.apply(this,arguments)}),C=(O=(0,u.default)(function*(e,t){var n=f.default.toFiniteNumber(e.getContentLength());return null==n?q(t):n}),function(e,t){return O.apply(this,arguments)});_e.default=b&&(P=(0,u.default)(function*(e){var t=(0,p.default)(e),n=t.url,u=t.method,s=t.data,b=t.signal,v=t.cancelToken,R=t.timeout,w=t.onDownloadProgress,x=t.onUploadProgress,O=t.responseType,P=t.headers,q=t.withCredentials,D=void 0===q?'same-origin':q,_=t.fetchOptions;O=O?(O+'').toLowerCase():'text';var B,L,N=(0,c.default)([b,v&&v.toAbortSignal()],R),A=N&&N.unsubscribe&&function(){N.unsubscribe()};try{if(x&&T&&'get'!==u&&'head'!==u&&0!==(L=yield C(P,s))){var F,U=new Request(n,{method:'POST',body:s,duplex:"half"});if(f.default.isFormData(s)&&(F=U.headers.get('content-type'))&&P.setContentType(F),U.body){var k=(0,r(d[10]).progressEventDecorator)(L,(0,r(d[10]).progressEventReducer)((0,r(d[10]).asyncDecorator)(x))),j=(0,o.default)(k,2),z=j[0],K=j[1];s=(0,r(d[11]).trackStream)(U.body,65536,z,K)}}f.default.isString(D)||(D=D?'include':'omit');var J="credentials"in Request.prototype;B=new Request(n,Object.assign({},_,{signal:N,method:u.toUpperCase(),headers:P.normalize().toJSON(),body:s,duplex:"half",credentials:J?D:void 0}));var M=yield fetch(B),V=S&&('stream'===O||'response'===O);if(S&&(w||V&&A)){var W={};['status','statusText','headers'].forEach(function(e){W[e]=M[e]});var G=f.default.toFiniteNumber(M.headers.get('content-length')),H=w&&(0,r(d[10]).progressEventDecorator)(G,(0,r(d[10]).progressEventReducer)((0,r(d[10]).asyncDecorator)(w),!0))||[],I=(0,o.default)(H,2),Q=I[0],X=I[1];M=new Response((0,r(d[11]).trackStream)(M.body,65536,Q,function(){X&&X(),A&&A()}),W)}O=O||'text';var Y=yield E[f.default.findKey(E,O)||'text'](M,e);return!V&&A&&A(),yield new Promise(function(t,n){(0,h.default)(t,n,{data:Y,headers:y.default.from(M.headers),status:M.status,statusText:M.statusText,config:e,request:B})})}catch(t){if(A&&A(),t&&'TypeError'===t.name&&/fetch/i.test(t.message))throw Object.assign(new l.default('Network Error',l.default.ERR_NETWORK,e,B),{cause:t.cause||t});throw l.default.from(t,t&&t.code,e,B)}}),function(e){return P.apply(this,arguments)})},661,[3,22,270,635,621,627,662,642,650,648,658,663]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(d[0])(r(d[1])),t=r(d[0])(r(d[2])),o=r(d[0])(r(d[3]));e.default=function(u,f){var l=(u=u?u.filter(Boolean):[]).length;if(f||l){var s,c=new AbortController,b=function(o){if(!s){s=!0,E();var u=o instanceof Error?o:this.reason;c.abort(u instanceof t.default?u:new n.default(u instanceof Error?u.message:u))}},v=f&&setTimeout(function(){v=null,b(new t.default("timeout "+f+" of ms exceeded",t.default.ETIMEDOUT))},f),E=function(){u&&(v&&clearTimeout(v),v=null,u.forEach(function(n){n.unsubscribe?n.unsubscribe(b):n.removeEventListener('abort',b)}),u=null)};u.forEach(function(n){return n.addEventListener('abort',b)});var h=c.signal;return h.unsubscribe=function(){return o.default.asap(E)},h}}},662,[3,645,627,621]);
__d(function(g,_r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.trackStream=_e.streamChunk=_e.readBytes=void 0;var e=_r(d[0])(_r(d[1])),r=_r(d[0])(_r(d[2])),t=_r(d[0])(_r(d[3])),n=_r(d[0])(_r(d[4]));function u(e){var r,t,n,u=2;for("undefined"!=typeof Symbol&&(t=Symbol.asyncIterator,n=Symbol.iterator);u--;){if(t&&null!=(r=e[t]))return r.call(e);if(n&&null!=(r=e[n]))return new l(r.call(e));t="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function l(e){function r(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var r=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:r}})}return(l=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return r(this.n.apply(this.s,arguments))},return:function(e){var t=this.s.return;return void 0===t?Promise.resolve({value:e,done:!0}):r(t.apply(this.s,arguments))},throw:function(e){var t=this.s.return;return void 0===t?Promise.reject(e):r(t.apply(this.s,arguments))}},new l(e)}var o,f,c=_e.streamChunk=function*(e,r){var t=e.byteLength;if(!r||t<r)yield e;else for(var n,u=0;u<t;)n=u+r,yield e.slice(u,n),u=n},y=_e.readBytes=(o=(0,r.default)(function*(e,r){var l,o=!1,f=!1;try{for(var y,v=u(s(e));o=!(y=yield(0,t.default)(v.next())).done;o=!1){var h=y.value;yield*(0,n.default)(u(c(h,r)),t.default)}}catch(e){f=!0,l=e}finally{try{o&&null!=v.return&&(yield(0,t.default)(v.return()))}finally{if(f)throw l}}}),function(e,r){return o.apply(this,arguments)}),s=(f=(0,r.default)(function*(e){if(e[Symbol.asyncIterator])yield*(0,n.default)(u(e),t.default);else{var r=e.getReader();try{for(;;){var l=yield(0,t.default)(r.read()),o=l.done,f=l.value;if(o)break;yield f}}finally{yield(0,t.default)(r.cancel())}}}),function(e){return f.apply(this,arguments)});_e.trackStream=function(r,t,n,u){var l,o=y(r,t),f=0,c=function(e){l||(l=!0,u&&u(e))};return new ReadableStream({pull:(function(){var r=(0,e.default)(function*(e){try{var r=yield o.next(),t=r.done,u=r.value;if(t)return c(),void e.close();var l=u.byteLength;if(n){var y=f+=l;n(y)}e.enqueue(new Uint8Array(u))}catch(e){throw c(e),e}});return function(e){return r.apply(this,arguments)}})(),cancel:function(e){return c(e),o.return()}},{highWaterMark:2})}},663,[3,270,664,666,667]);
__d(function(g,_r,_i,a,m,_e,d){function t(t){var e,n;function r(e,n){try{var u=t[e](n),i=u.value,c=i instanceof _r(d[0]);Promise.resolve(c?i.v:i).then(function(n){if(c){var s="return"===e?"return":"next";if(!i.k||n.done)return r(s,n);n=t[s](n).value}o(u.done?"return":"normal",n)},function(t){r("throw",t)})}catch(t){o("throw",t)}}function o(t,o){switch(t){case"return":e.resolve({value:o,done:!0});break;case"throw":e.reject(o);break;default:e.resolve({value:o,done:!1})}(e=e.next)?r(e.key,e.arg):n=null}this._invoke=function(t,o){return new Promise(function(u,i){var c={key:t,arg:o,resolve:u,reject:i,next:null};n?n=n.next=c:(e=n=c,r(t,o))})},"function"!=typeof t.return&&(this.return=void 0)}t.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},t.prototype.next=function(t){return this._invoke("next",t)},t.prototype.throw=function(t){return this._invoke("throw",t)},t.prototype.return=function(t){return this._invoke("return",t)},m.exports=function(e){return function(){return new t(e.apply(this,arguments))}},m.exports.__esModule=!0,m.exports.default=m.exports},664,[665]);
__d(function(g,r,i,a,m,_e,_d){m.exports=function(t,e){this.v=t,this.k=e},m.exports.__esModule=!0,m.exports.default=m.exports},665,[]);
__d(function(g,r,i,a,m,_e,d){m.exports=function(e){return new(r(d[0]))(e,0)},m.exports.__esModule=!0,m.exports.default=m.exports},666,[665]);
__d(function(g,_r,i,a,m,_e,d){m.exports=function(t){var n={},r=!1;function e(n,e){return r=!0,e=new Promise(function(r){r(t[n](e))}),{done:!1,value:new(_r(d[0]))(e,1)}}return n["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(t){return r?(r=!1,t):e("next",t)},"function"==typeof t.throw&&(n.throw=function(t){if(r)throw r=!1,t;return e("throw",t)}),"function"==typeof t.return&&(n.return=function(t){return r?(r=!1,t):e("return",t)}),n},m.exports.__esModule=!0,m.exports.default=m.exports},667,[665]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(d[0])(r(d[1])),t={};['object','boolean','number','function','string','symbol'].forEach(function(n,o){t[n]=function(t){return typeof t===n||'a'+(o<1?'n ':' ')+n}});var o={};t.transitional=function(t,i,u){function f(n,t){return'[Axios v'+r(d[2]).VERSION+'] Transitional option \''+n+'\''+t+(u?'. '+u:'')}return function(u,l,s){if(!1===t)throw new n.default(f(l,' has been removed'+(i?' in '+i:'')),n.default.ERR_DEPRECATED);return i&&!o[l]&&(o[l]=!0,console.warn(f(l,' has been deprecated since v'+i+' and will be removed in the near future'))),!t||t(u,l,s)}},t.spelling=function(n){return function(t,o){return console.warn(o+" is likely a misspelling of "+n),!0}};e.default={assertOptions:function(t,o,i){if('object'!=typeof t)throw new n.default('options must be an object',n.default.ERR_BAD_OPTION_VALUE);for(var u=Object.keys(t),f=u.length;f-- >0;){var l=u[f],s=o[l];if(s){var c=t[l],b=void 0===c||s(c,l,t);if(!0!==b)throw new n.default('option '+l+' must be '+b,n.default.ERR_BAD_OPTION_VALUE)}else if(!0!==i)throw new n.default('Unknown option '+l,n.default.ERR_BAD_OPTION)}},validators:t}},668,[3,627,669]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0;e.VERSION="1.7.9"},669,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(d[0])(r(d[1])),t=r(d[0])(r(d[2])),s=r(d[0])(r(d[3])),i=(function(){function i(t){if((0,n.default)(this,i),'function'!=typeof t)throw new TypeError('executor must be a function.');var u;this.promise=new Promise(function(n){u=n});var o=this;this.promise.then(function(n){if(o._listeners){for(var t=o._listeners.length;t-- >0;)o._listeners[t](n);o._listeners=null}}),this.promise.then=function(n){var t,s=new Promise(function(n){o.subscribe(n),t=n}).then(n);return s.cancel=function(){o.unsubscribe(t)},s},t(function(n,t,i){o.reason||(o.reason=new s.default(n,t,i),u(o.reason))})}return(0,t.default)(i,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(n){this.reason?n(this.reason):this._listeners?this._listeners.push(n):this._listeners=[n]}},{key:"unsubscribe",value:function(n){if(this._listeners){var t=this._listeners.indexOf(n);-1!==t&&this._listeners.splice(t,1)}}},{key:"toAbortSignal",value:function(){var n=this,t=new AbortController,s=function(n){t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=function(){return n.unsubscribe(s)},t.signal}}],[{key:"source",value:function(){var n;return{token:new i(function(t){n=t}),cancel:n}}}])})();e.default=i},670,[3,12,13,645]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){return function(t){return n.apply(null,t)}}},671,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){return t.default.isObject(u)&&!0===u.isAxiosError};var t=r(d[0])(r(d[1]))},672,[3,621]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])),o={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(o).forEach(function(n){var u=(0,t.default)(n,2),l=u[0],s=u[1];o[s]=l});e.default=o},673,[3,22]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])),s=r(d[0])(r(d[2])),l=function s(){(0,t.default)(this,s)};e.default=l,(0,s.default)(l,"supportedLocales",["ar-sa","bg-bg","ca-es","cs-cz","da-dk","de-de","el-gr","en-us","es-es","et-ee","eu-es","fi-fi","fr-fr","gl-es","he-il","hi-in","hr-hr","hu-hu","id-id","it-it","ja-jp","kk-kz","ko-kr","lt-lt","lv-lv","ms-my","nb-no","nl-nl","pl-pl","pt-br","pt-pt","ro-ro","ru-ru","sk-sk","sl-si","sr-cyrl-cs","sr-latn-cs","sv-se","th-th","tr-tr","uk-ua","vi-vn","zh-cn","zh-hk","zh-tw"])},674,[3,12,240]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])),h=r(d[0])(r(d[2])),c=function h(){(0,t.default)(this,h)};e.default=c,(0,h.default)(c,"LcwFcsDetailsPath","livechatconnector/v2/lcwfcsdetails"),(0,h.default)(c,"LiveChatConfigPath","livechatconnector/config"),(0,h.default)(c,"LiveChatSessionInitPath","livechatconnector/sessioninit"),(0,h.default)(c,"LiveChatAuthSessionInitPath","livechatconnector/auth/sessioninit"),(0,h.default)(c,"LiveChatGetChatTokenPath","livechatconnector/getchattoken"),(0,h.default)(c,"LiveChatv2GetChatTokenPath","livechatconnector/v2/getchattoken"),(0,h.default)(c,"LiveChatv3GetChatTokenPath","livechatconnector/v3/getchattoken"),(0,h.default)(c,"LiveChatAuthGetChatTokenPath","livechatconnector/auth/getchattoken"),(0,h.default)(c,"LiveChatv2AuthGetChatTokenPath","livechatconnector/v2/auth/getchattoken"),(0,h.default)(c,"LiveChatv3AuthGetChatTokenPath","livechatconnector/v3/auth/getchattoken"),(0,h.default)(c,"LiveChatSessionClosePath","livechatconnector/sessionclose"),(0,h.default)(c,"LiveChatAuthSessionClosePath","livechatconnector/auth/sessionclose"),(0,h.default)(c,"LiveChatSubmitPostChatPath","survey/submitpostchat"),(0,h.default)(c,"LiveChatAuthSubmitPostChatPath","survey/auth/submitpostchat"),(0,h.default)(c,"LiveChatGetSurveyInviteLinkPath","livechatconnector/getsurveyinvite"),(0,h.default)(c,"LiveChatAuthGetSurveyInviteLinkPath","livechatconnector/auth/getsurveyinvite"),(0,h.default)(c,"LiveChatGetChatTranscriptPath","livechatconnector/getchattranscripts"),(0,h.default)(c,"LiveChatv2GetChatTranscriptPath","livechatconnector/v2/getchattranscripts"),(0,h.default)(c,"LiveChatAuthGetChatTranscriptPath","livechatconnector/auth/getchattranscripts"),(0,h.default)(c,"LiveChatv2AuthGetChatTranscriptPath","livechatconnector/v2/auth/getchattranscripts"),(0,h.default)(c,"LiveChatTranscriptEmailRequestPath","livechatconnector/createemailrequest"),(0,h.default)(c,"LiveChatAuthTranscriptEmailRequestPath","livechatconnector/auth/createemailrequest"),(0,h.default)(c,"LiveChatFetchDataMaskingInfoPath","livechatconnector/fetchdatamaskinginfo"),(0,h.default)(c,"LiveChatSecondaryChannelEventPath","livechatconnector/secondarychannelevent"),(0,h.default)(c,"LiveChatAuthSecondaryChannelEventPath","livechatconnector/auth/secondarychannelevent"),(0,h.default)(c,"LiveChatLiveWorkItemDetailsPath","livechatconnector/getliveworkitemdetails"),(0,h.default)(c,"LiveChatAuthLiveWorkItemDetailsPath","livechatconnector/auth/getliveworkitemdetails"),(0,h.default)(c,"LiveChatGetReconnectableChatsPath","livechatconnector/auth/reconnectablechats"),(0,h.default)(c,"LiveChatReconnectAvailabilityPath","livechatconnector/reconnect"),(0,h.default)(c,"LiveChatValidateAuthChatMapRecordPath","livechatconnector/auth/validateauthchatmaprecord"),(0,h.default)(c,"GetAgentAvailabilityPath","livechatconnector/auth/getagentavailability"),(0,h.default)(c,"SendTypingIndicatorPath","inbound/typingindicator/livechat/sendtypingindicator")},675,[3,12,240]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])),u=r(d[0])(r(d[2])),o=function u(){(0,t.default)(this,u)};e.default=o,(0,u.default)(o,"authenticatedUserToken","AuthenticatedUserToken"),(0,u.default)(o,"authorization","Authorization"),(0,u.default)(o,"organizationId","OrganizationId"),(0,u.default)(o,"widgetAppId","widgetAppId"),(0,u.default)(o,"requestId","Request-Id"),(0,u.default)(o,"authCodeNonce","AuthCodeNonce"),(0,u.default)(o,"ocSessionId","Oc-Sessionid"),(0,u.default)(o,"ocUserAgent","Ms-Oc-User-Agent")},676,[3,12,240]);
__d(function(g,r,_i,a,m,_e3,d){"use strict";Object.defineProperty(_e3,"__esModule",{value:!0}),_e3.isRetryableError=f,_e3.axiosRetryHandlerWithNotFound=function(e,n){l(e,{retries:n.retries,waitTimeInMsBetweenRetries:n.waitTimeInMsBetweenRetries,shouldRetry:function(e){var o;return s(e,n.retryOn429)||(null===(o=e.response)||void 0===o?void 0:o.status)===t.default.notFoundStatusCode}})},_e3.default=void 0;var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(d[3])(e)&&"function"!=typeof e)return{default:e};var o=n(t);if(o&&o.has(e))return o.get(e);var i={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=u?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}i.default=e,o&&o.set(e,i);return i})(r(d[0])),t=r(d[1])(r(d[2]));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(n=function(e){return e?o:t})(e)}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,u=function(){};return{s:u,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,l=!0,f=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){f=!0,s=e},f:function(){try{l||null==n.return||n.return()}finally{if(f)throw s}}}}function i(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var s=function(n,o){var i,u,s;return!((null===(i=n.response)||void 0===i?void 0:i.status)===t.default.tooManyRequestsStatusCode&&!o)&&(f(n)||(0,e.isNetworkError)(n)||0===(null===(u=n.response)||void 0===u?void 0:u.status)||!(null!==(s=n.response)&&void 0!==s&&s.status))},l=function(n,i){void 0!==i.retryOn429&&null!==i.retryOn429||(i.retryOn429=!1),i.shouldRetry||(i.shouldRetry=function(e){return s(e,i.retryOn429)}),(0,e.default)(n,{retries:i.retries,retryCondition:i.shouldRetry,onRetry:function(e,t,n){var u=t.response,s=i.headerOverwrites;if(s&&null!=u&&u.headers){var l,f=o(s);try{for(f.s();!(l=f.n()).done;){var c=l.value,v=null==u?void 0:u.headers[c.toLocaleLowerCase()];v&&n.headers&&(n.headers[c]=v)}}catch(e){f.e(e)}finally{f.f()}}},retryDelay:function(e,n){var o,u,s,l=i.waitTimeInMsBetweenRetries,f=null==n?void 0:null===(o=n.response)||void 0===o?void 0:null===(u=o.headers)||void 0===u?void 0:u["retry-after"],c=l;if(f){var v=parseInt(f);if(isNaN(v)){var y=new Date(f),p=(new Date).getTime();y&&y instanceof Date&&isFinite(y.getTime())&&(c=Math.max(0,y.getTime()-p))}else c=v*l;return c}return(null===(s=n.response)||void 0===s?void 0:s.status)===t.default.tooManyRequestsStatusCode?5e3:Math.pow(2,e)*l}})};function f(e){return'ECONNABORTED'!==e.code&&(!e.response||429===e.response.status||e.response.status>=500&&e.response.status<=599)}var c=l;_e3.default=c},677,[678,3,457,16]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).default,m.exports.default=r(d[0]).default},678,[679]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isNetworkError=p,e.isRetryableError=b,e.isSafeRequestError=O,e.isIdempotentRequestError=h,e.isNetworkOrIdempotentRequestError=v,e.exponentialDelay=E,e.default=k,e.DEFAULT_OPTIONS=e.namespace=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),o=r(d[0])(r(d[3])),u=r(d[0])(r(d[4])),s=r(d[0])(r(d[5]));function i(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);n&&(u=u.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,u)}return o}function c(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?i(Object(o),!0).forEach(function(n){(0,u.default)(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}var f='axios-retry';function p(t){return!t.response&&Boolean(t.code)&&!['ERR_CANCELED','ECONNABORTED'].includes(t.code)&&(0,s.default)(t)}e.namespace=f;var l=['get','head','options'],y=l.concat(['put','delete']);function b(t){return'ECONNABORTED'!==t.code&&(!t.response||t.response.status>=500&&t.response.status<=599)}function O(t){return!!t.config&&(b(t)&&-1!==l.indexOf(t.config.method))}function h(t){return!!t.config&&(b(t)&&-1!==y.indexOf(t.config.method))}function v(t){return p(t)||h(t)}function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=(arguments.length>1&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:100),o=Math.pow(2,t)*n;return o+.2*o*Math.random()}var R={retries:3,retryCondition:v,retryDelay:function(){return 0},shouldResetTimeout:!1,onRetry:function(){}};function w(t,n){return c(c(c({},R),n),t[f])}function j(t,n){var o=w(t,n);return o.retryCount=o.retryCount||0,t[f]=o,o}function x(t,n){t.defaults.agent===n.agent&&delete n.agent,t.defaults.httpAgent===n.httpAgent&&delete n.httpAgent,t.defaults.httpsAgent===n.httpsAgent&&delete n.httpsAgent}function D(t,n){return P.apply(this,arguments)}function P(){return(P=(0,o.default)(t.default.mark(function o(u,s){var i,c,f,p;return t.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=u.retries,c=u.retryCondition,f=u.retryCount<i&&c(s),'object'!==(0,n.default)(f)){t.next=13;break}return t.prev=3,t.next=6,f;case 6:return p=t.sent,t.abrupt("return",!1!==p);case 10:return t.prev=10,t.t0=t.catch(3),t.abrupt("return",!1);case 13:return t.abrupt("return",f);case 14:case"end":return t.stop()}},o,null,[[3,10]])}))).apply(this,arguments)}function k(n,u){var s;return{requestInterceptorId:n.interceptors.request.use(function(t){return j(t,u).lastRequestTime=Date.now(),t}),responseInterceptorId:n.interceptors.response.use(null,(s=(0,o.default)(t.default.mark(function o(s){var i,c,f,p,l,y,b,O;return t.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=s.config){t.next=3;break}return t.abrupt("return",Promise.reject(s));case 3:return c=j(i,u),t.next=6,D(c,s);case 6:if(!t.sent){t.next=21;break}if(c.retryCount+=1,f=c.retryDelay,p=c.shouldResetTimeout,l=c.onRetry,y=f(c.retryCount,s),x(n,i),p||!i.timeout||!c.lastRequestTime){t.next=17;break}if(b=Date.now()-c.lastRequestTime,!((O=i.timeout-b-y)<=0)){t.next=16;break}return t.abrupt("return",Promise.reject(s));case 16:i.timeout=O;case 17:return i.transformRequest=[function(t){return t}],t.next=20,l(c.retryCount,s,i);case 20:return t.abrupt("return",new Promise(function(t){return setTimeout(function(){return t(n(i))},y)}));case 21:return t.abrupt("return",Promise.reject(s));case 22:case"end":return t.stop()}},o)})),function(t){return s.apply(this,arguments)}))}}e.DEFAULT_OPTIONS=R,k.isNetworkError=p,k.isSafeRequestError=O,k.isIdempotentRequestError=h,k.isNetworkOrIdempotentRequestError=v,k.exponentialDelay=E,k.isRetryableError=b},679,[3,462,16,270,240,680]);
__d(function(g,r,i,a,m,e,d){'use strict';var _=new Set(['ENOTFOUND','ENETUNREACH','UNABLE_TO_GET_ISSUER_CERT','UNABLE_TO_GET_CRL','UNABLE_TO_DECRYPT_CERT_SIGNATURE','UNABLE_TO_DECRYPT_CRL_SIGNATURE','UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY','CERT_SIGNATURE_FAILURE','CRL_SIGNATURE_FAILURE','CERT_NOT_YET_VALID','CERT_HAS_EXPIRED','CRL_NOT_YET_VALID','CRL_HAS_EXPIRED','ERROR_IN_CERT_NOT_BEFORE_FIELD','ERROR_IN_CERT_NOT_AFTER_FIELD','ERROR_IN_CRL_LAST_UPDATE_FIELD','ERROR_IN_CRL_NEXT_UPDATE_FIELD','OUT_OF_MEM','DEPTH_ZERO_SELF_SIGNED_CERT','SELF_SIGNED_CERT_IN_CHAIN','UNABLE_TO_GET_ISSUER_CERT_LOCALLY','UNABLE_TO_VERIFY_LEAF_SIGNATURE','CERT_CHAIN_TOO_LONG','CERT_REVOKED','INVALID_CA','PATH_LENGTH_EXCEEDED','INVALID_PURPOSE','CERT_UNTRUSTED','CERT_REJECTED','HOSTNAME_MISMATCH']);m.exports=function(E){return!_.has(E&&E.code)}},680,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0])(r(d[1])),u=function(u,n){try{if(t.default.isAxiosError(u)&&u.code==n)return!0}catch(u){return!1}return!1};e.default=u},681,[3,619]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=r(d[0])(r(d[1])),t=function(t,o){var u,n,l,f,v,c,p;if(null!=t&&null!==(u=t.response)&&void 0!==u&&u.status)switch(t.response.status){case s.default.tooManyRequestsStatusCode:if(!1===o)return!1;break;case s.default.badRequestStatusCode:if(null!==(n=t.response)&&void 0!==n&&null!==(l=n.headers)&&void 0!==l&&l.errorcode&&parseInt(t.response.headers.errorcode)===s.default.outOfOfficeErrorCode)return!1;break;default:return(0,r(d[2]).isRetryableError)(t)||(0,r(d[3]).isNetworkError)(t)||0==(null===(f=t.response)||void 0===f?void 0:f.status)||!(null!==(v=t.response)&&void 0!==v&&v.status)}return(0,r(d[2]).isRetryableError)(t)||(0,r(d[3]).isNetworkError)(t)||0==(null===(c=t.response)||void 0===c?void 0:c.status)||!(null!==(p=t.response)&&void 0!==p&&p.status)};e.default=t},682,[3,457,677,678]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Timer=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),u=(function(){function u(){(0,t.default)(this,u)}return(0,n.default)(u,null,[{key:"TIMER",value:function(){var t=(new Date).getTime();return{get milliSecondsElapsed(){return(new Date).getTime()-t}}}}]),u})();e.Timer=u},683,[3,12,13]);
__d(function(g,r,i,a,m,e,d){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.LogLevel=void 0,e.LogLevel=o,(function(o){o.INFO="INFO",o.DEBUG="DEBUG",o.WARN="WARN",o.ERROR="ERROR"})(o||(e.LogLevel=o={}))},684,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addOcUserAgentHeader=void 0;var c=r(d[0])(r(d[1])),t=r(d[0])(r(d[2]));e.addOcUserAgentHeader=function(n,o){var s=r(d[3]).version,u="ocsdk/".concat(s);o["".concat(t.default.ocUserAgent)]=[].concat((0,c.default)(n),[u]).join(" ")}},685,[3,6,676,686]);
__d(function(e,r,s,t,i,a,o){i.exports={name:"@microsoft/ocsdk",version:"0.5.9",description:"Microsoft Omnichannel SDK",files:["dist/**/*","lib/**/*"],main:"lib/index.js",types:"lib/index.d.ts",scripts:{test:"karma start karma.conf.js",start:"webpack-dev-server",watch:"webpack --watch --config webpack.config.js --mode development","build:tsc":"tsc --project tsconfig.json","build:babel":"babel src --extensions .js,.ts --out-dir lib --verbose","build:dev":"webpack --config webpack.config.js --mode development","build:prod":"export NODE_OPTIONS=--openssl-legacy-provider && npm run build:tsc && npm run build:babel && webpack --config webpack.config.js --mode production",format:"prettier --write \"src/**/*.ts\" \"src/**/*.js\"",lint:"eslint src --ext .ts"},repository:{type:"git",url:"https://github.com/microsoft/omnichannel-sdk.git"},keywords:[],author:"Microsoft Corporation",license:"MIT",devDependencies:{"@babel/cli":"^7.15.7","@babel/core":"^7.15.5","@babel/plugin-proposal-class-properties":"^7.14.5","@babel/plugin-transform-runtime":"^7.15.0","@babel/preset-env":"^7.15.6","@babel/preset-typescript":"^7.15.0","@dhigroup/karma-vsts-reporter":"^1.3.0","@types/jasmine":"^3.9.1","@typescript-eslint/eslint-plugin":"^3.10.1","@typescript-eslint/parser":"^3.10.1","axios-mock-adapter":"^2.0.0",eslint:"^7.32.0","eslint-plugin-security":"^1.4.0","istanbul-instrumenter-loader":"^3.0.1",jasmine:"^3.9.0",karma:"^6.3.16","karma-chrome-launcher":"^3.1.0","karma-cli":"^2.0.0","karma-coverage-istanbul-reporter":"^2.1.1","karma-jasmine":"^2.0.1","karma-spec-reporter":"0.0.32","karma-webpack":"^4.0.2",prettier:"^1.19.1","ts-loader":"^8.4.0",typescript:"^4.9.5",webpack:"^4.47.0","webpack-cli":"^3.3.12","webpack-dev-server":"^3.11.2","webpack-merge":"^4.2.2"},dependencies:{"@babel/runtime":"^7.15.4","@types/node":"^12.20.26",axios:"^1.7.4","axios-retry":"^3.9.1"}}},686,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createGetChatTokenEndpoint=void 0;var t=r(d[0])(r(d[1])),h=r(d[0])(r(d[2]));e.createGetChatTokenEndpoint=function(n,o){var v,u,C=(v={},(0,t.default)(v,r(d[3]).LiveChatVersion.V1,h.default.LiveChatGetChatTokenPath),(0,t.default)(v,r(d[3]).LiveChatVersion.V2,h.default.LiveChatv2GetChatTokenPath),(0,t.default)(v,r(d[3]).LiveChatVersion.V3,h.default.LiveChatv3GetChatTokenPath),v),V=(u={},(0,t.default)(u,r(d[3]).LiveChatVersion.V1,h.default.LiveChatAuthGetChatTokenPath),(0,t.default)(u,r(d[3]).LiveChatVersion.V2,h.default.LiveChatv2AuthGetChatTokenPath),(0,t.default)(u,r(d[3]).LiveChatVersion.V3,h.default.LiveChatv3AuthGetChatTokenPath),u);return Object.values(r(d[3]).LiveChatVersion).includes(n)?o?V[n]:C[n]:o?V[r(d[3]).LiveChatVersion.V2]:C[r(d[3]).LiveChatVersion.V2]}},687,[3,240,675,458]);
__d(function(g,r,i,_a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CustomContextData=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),o=(function(){function o(){(0,t.default)(this,o)}return(0,n.default)(o,null,[{key:"sort",value:function(t){var n=new Array;return Object.keys(t).forEach(function(o){if(t&&t["".concat(o)]){var u={key:o,value:t["".concat(o)]};n.push(u)}}),n.sort(function(t,n){var o=t.key.toUpperCase(),u=n.key.toUpperCase();return o<u?-1:o>u?1:0}),n}}]),o})();e.CustomContextData=o},688,[3,12,13]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserInfo=e.UNKNOWN_VERSION=void 0;var n=r(d[0])(r(d[1])),t=r(d[0])(r(d[2])),s=r(d[0])(r(d[3]));e.UNKNOWN_VERSION="U";var o=(function(){function s(){(0,n.default)(this,s)}return(0,t.default)(s,null,[{key:"getUserAgent",value:function(){return this.userAgent()}},{key:"userAgentContainsString",value:function(n){return this.getUserAgent().indexOf(n)>-1}},{key:"isChrome",value:function(){return this.userAgentContainsString(r(d[4]).BrowserVendor.CHROME)&&!this.userAgentContainsString(r(d[4]).BrowserVendor.EDGE)&&!this.userAgentContainsString(r(d[4]).BrowserVendor.EDGE_CHROMIUM)}},{key:"isIe",value:function(){return this.userAgentContainsString("Trident")}},{key:"isEdge",value:function(){return this.userAgentContainsString(r(d[4]).BrowserVendor.EDGE)||this.userAgentContainsString(r(d[4]).BrowserVendor.EDGE_CHROMIUM)}},{key:"isOpera",value:function(){return this.userAgentContainsString("OPR/")}},{key:"getBrowserName",value:function(){return this.isOpera()?r(d[4]).BrowserVendor.OPERA:this.isEdge()?r(d[4]).BrowserVendor.EDGE:this.isChrome()?r(d[4]).BrowserVendor.CHROME:this.userAgentContainsString(r(d[4]).BrowserVendor.FIREFOX)?r(d[4]).BrowserVendor.FIREFOX:this.userAgentContainsString(r(d[4]).BrowserVendor.SAFARI)?r(d[4]).BrowserVendor.SAFARI:this.isIe()?r(d[4]).BrowserVendor.IE:r(d[4]).BrowserVendor.UNKNOWN}},{key:"getBrowserVersion",value:function(){var n=this;return this.isIe()?(function(){var t=n.getUserAgent(),s=t.match(new RegExp(r(d[4]).BrowserVendor.IE+" ([\\d,.]+)"));if(s)return s[1];var o=t.match(new RegExp("rv:([\\d,.]+)"));return o?o[1]:void 0})():(function(t){t===r(d[4]).BrowserVendor.SAFARI&&(t="Version"),t===r(d[4]).BrowserVendor.OPERA&&(t="OPR"),t===r(d[4]).BrowserVendor.EDGE&&(t="Edge?");var s=n.getUserAgent().match(new RegExp(t+"/([\\d,.]+)"));return s?s[1]:"U"})(this.getBrowserName())}}]),s})();e.BrowserInfo=o,(0,s.default)(o,"userAgent",function(){return window.navigator.userAgent})},689,[3,12,13,240,458]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeviceInfo=void 0;var n=r(d[0])(r(d[1])),o=r(d[0])(r(d[2])),t=(function(){function t(){(0,n.default)(this,t)}return(0,o.default)(t,null,[{key:"getDeviceType",value:function(){return window.navigator.userAgent.match(/(android|ipod|windows phone|wpdesktop|windows ce|blackberry\w*|meego|webos|palm|symbian|pda|\w*?mobile\w*?|\w*?phone\w*?)/i)?r(d[3]).DeviceType.Mobile:window.navigator.userAgent.match(/tablet|ipad/i)?r(d[3]).DeviceType.Tablet:r(d[3]).DeviceType.Desktop}}]),t})();e.DeviceInfo=t},690,[3,12,13,458]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OSInfo=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),o=(function(){function o(){(0,t.default)(this,o)}return(0,n.default)(o,null,[{key:"getOsType",value:function(){var t=function(){return window.navigator.userAgent};return t().match(/windows\sphone\s\d+\.\d+/i)?r(d[3]).OperatingSystem.WINDOWS_PHONE:t().match(/ arm;/i)?r(d[3]).OperatingSystem.WINDOWS_RT:t().match(/(iPad|iPhone|iPod)(?=.*like Mac OS X)/i)?r(d[3]).OperatingSystem.IOS:t().match(/android/i)?r(d[3]).OperatingSystem.ANDROID:t().match(/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|cros)/i)?r(d[3]).OperatingSystem.LINUX:t().match(/(macintosh|mac os x)/i)?r(d[3]).OperatingSystem.MACOSX:t().match(/(windows|win32)/i)?r(d[3]).OperatingSystem.WINDOWS:r(d[3]).OperatingSystem.UNKNOWN}}]),o})();e.OSInfo=o},691,[3,12,13,458]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoggingSanitizer=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),o=r(d[0])(r(d[3])),l=r(d[0])(r(d[4])),u=r(d[0])(r(d[5])),s=(function(){function s(){(0,n.default)(this,s)}return(0,o.default)(s,null,[{key:"stripCustomContextDataValues",value:function(t){var n;t&&(null===(n=Object.keys(t))||void 0===n||n.forEach(function(n){var o;null!==(o=t["".concat(n)])&&void 0!==o&&o.value&&(t["".concat(n)].value=l.default.hiddenContentPlaceholder)}))}},{key:"stripPreChatResponse",value:function(t){t&&Object.keys(t).forEach(function(n){t["".concat(n)]&&'Type'!==n&&(t["".concat(n)]=l.default.hiddenContentPlaceholder)})}},{key:"stripGeolocation",value:function(t){t&&(Object.keys(t).includes('longitude')&&(t.longitude=l.default.hiddenContentPlaceholder),Object.keys(t).includes('latitude')&&(t.latitude=l.default.hiddenContentPlaceholder))}},{key:"stripAuthenticationUserToken",value:function(t){t&&(Object.keys(t).includes(u.default.authenticatedUserToken)&&(t[u.default.authenticatedUserToken]=l.default.hiddenContentPlaceholder),Object.keys(t).includes(u.default.authCodeNonce)&&(t[u.default.authCodeNonce]=l.default.hiddenContentPlaceholder))}},{key:"stripRequestHeadersSensitiveProperties",value:function(t){s.stripAuthenticationUserToken(t),Object.keys(t).includes(u.default.authorization)&&(t[u.default.authorization]=l.default.hiddenContentPlaceholder)}},{key:"stripRequestPayloadData",value:function(t){if(null!=t&&t.data){var n;if('string'==typeof t.data)try{n=JSON.parse(t.data)}catch(t){n=void 0}n&&(Object.keys(n).includes('preChatResponse')&&s.stripPreChatResponse(n.preChatResponse),Object.keys(n).includes('customContextData')&&s.stripCustomContextDataValues(n.customContextData),s.stripGeolocation(n),t.data=JSON.stringify(n))}}},{key:"stripAxiosErrorSensitiveProperties",value:function(t){if(t.isAxiosError){var n,o,l,u,c,f,v,h,p,y;if(null!=t&&null!==(n=t.config)&&void 0!==n&&n.headers)s.stripAuthenticationUserToken(null==t?void 0:null===(v=t.config)||void 0===v?void 0:v.headers);if(null!=t&&null!==(o=t.config)&&void 0!==o&&o.data&&this.stripRequestPayloadData(null==t?void 0:t.config),null!=t&&null!==(l=t.response)&&void 0!==l&&null!==(u=l.config)&&void 0!==u&&u.data)this.stripRequestPayloadData(null==t?void 0:null===(h=t.response)||void 0===h?void 0:h.config);if(null!=t&&null!==(c=t.response)&&void 0!==c&&null!==(f=c.config)&&void 0!==f&&f.headers)s.stripAuthenticationUserToken(null==t?void 0:null===(p=t.response)||void 0===p?void 0:null===(y=p.config)||void 0===y?void 0:y.headers)}}},{key:"stripErrorSensitiveProperties",value:function(n){var o;n&&'object'===(0,t.default)(n)&&(null===(o=Object.keys(n))||void 0===o?void 0:o.length)>0&&this.stripAxiosErrorSensitiveProperties(n)}}]),s})();e.LoggingSanitizer=s},692,[3,16,12,13,457,676]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.waitTimeBetweenRetriesConfigs=void 0;e.waitTimeBetweenRetriesConfigs={getChatConfig:1e3,getLWIDetails:3e3,getChatToken:1e3,sessionInit:1e3,sessionClose:1e3,getReconnectableChats:1e3,getReconnectAvailability:1e3,submitPostChatResponse:1e3,getSurveyInviteLink:1e3,getChatTranscripts:1e3,emailTranscript:1e3,fetchDataMaskingInfo:1e3,makeSecondaryChannelEventRequest:1e3,getAgentAvailability:1e3,sendTypingIndicator:1e3,validateAuthChatRecordTimeout:1e3}},693,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=r(d[0])(r(d[1])),e=r(d[0])(r(d[2])),n=(function(){function n(){(0,t.default)(this,n)}return(0,e.default)(n,null,[{key:"raiseCustomEvent",value:function(t,e){var u=n.createCustomEvent(t,e);window.dispatchEvent(u)}},{key:"createCustomEvent",value:function(t,e){var n=e?{detail:e}:void 0,u=null;try{u=new CustomEvent(t,n)}catch(e){(u=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n)}return u}}]),n})();_e.default=n},694,[3,12,13]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultLocaleString=e.defaultLocaleId=e.getLocaleIdFromString=e.getLocaleStringFromId=void 0;var t={1025:"ar-sa",1026:"bg-bg",1027:"ca-es",1029:"cs-cz",1030:"da-dk",1031:"de-de",1032:"el-gr",1033:"en-us",3082:"es-es",1061:"et-ee",1069:"eu-es",1035:"fi-fi",1036:"fr-fr",1110:"gl-es",1037:"he-il",1081:"hi-in",1050:"hr-hr",1038:"hu-hu",1057:"id-id",1040:"it-it",1041:"ja-jp",1087:"kk-kz",1042:"ko-kr",1063:"lt-lt",1062:"lv-lv",1086:"ms-my",1044:"nb-no",1043:"nl-nl",1045:"pl-pl",1046:"pt-br",2070:"pt-pt",1048:"ro-ro",1049:"ru-ru",1051:"sk-sk",1060:"sl-si",3098:"sr-cyrl-cs",2074:"sr-latn-cs",1053:"sv-se",1054:"th-th",1055:"tr-tr",1058:"uk-ua",1066:"vi-vn",2052:"zh-cn",3076:"zh-hk",1028:"zh-tw"};e.getLocaleStringFromId=function(n){var l=Object.keys(t).find(function(t){return t===n});return l?t[l]:e.defaultLocaleString};e.getLocaleIdFromString=function(n){var l=Object.keys(t).find(function(l){return t[l]===n});return null!=l?l:e.defaultLocaleId},e.defaultLocaleId="1033",e.defaultLocaleString="en-us"},695,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.getRuntimeId=_e.isNotEmpty=_e.isClientIdNotFoundErrorMessage=_e.isCustomerMessage=_e.isSystemMessage=void 0;_e.isSystemMessage=function(e){var s=e.messageType,t=e.properties,n=s===r(d[0]).default.UserMessage&&t&&t.tags&&t.tags.includes("system"),u=e.tags&&e.tags.includes("system");return n||u||!1};_e.isCustomerMessage=function(e){var s=e.sender,t=s&&s.id&&s.id.includes('contacts/8:'),n=s&&s.displayName&&s.displayName===r(d[1]).default.Customer;return t||n||!1};_e.isClientIdNotFoundErrorMessage=function(e){var s,t,n;return 401===(null===(s=null==e?void 0:e.response)||void 0===s?void 0:s.status)&&"UserId not found"===(null===(n=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.headers)||void 0===n?void 0:n.message)};_e.isNotEmpty=function(e){return null!=e&&''!==e.trim()};_e.getRuntimeId=function(e){return null!==e&&(0,_e.isNotEmpty)(e)?e:(0,r(d[2]).uuidv4)()}},696,[697,698,453]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.UserMessage="UserMessage",t.SwiftCard="SwiftCard",t.Typing="Control/Typing",t.ClearTyping="Control/ClearTyping",t.LiveState="Control/LiveState",t})();e.default=t},697,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),(function(t){t.Customer="Customer",t.Agent="__agent__",t.System="__system__"})(t||(t={})),e.default=t},698,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(function(){function n(){}return n.Bridged="bridged",n.Unbridged="unbridged",n})();e.default=n},699,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SDKProvider=void 0,e.SDKProvider=r(d[0]).default},700,[701]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(function(){function n(){}return n.getSDK=function(n){return new Promise(function(t){var o={hostType:n.hostType,protocolType:n.protocolType},u=r(d[0]).default.getClientBridge(o),s={logger:new(r(d[1]).default)(u,n.logger)};return u.setup(s).then(function(){var n={dispose:u.dispose.bind(u),id:u.id,initialize:u.initialize.bind(u),joinConversation:u.joinConversation.bind(u),update:u.update.bind(u),setDebug:u.setDebug.bind(u)};return t(n)})})},n})();e.default=n},701,[702,736]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.getClientBridge=function(t){switch(t.hostType){case r(d[0]).default.IFrame:throw new Error("Framed bridge not implemented for ".concat(t.hostType," in IC3Core"));case r(d[0]).default.Page:return new(r(d[1]).default)(t.protocolType);default:throw new Error("Client bridge not implemented for ".concat(t.hostType," in IC3Core"))}},t})();e.default=t},702,[703,704]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.IFrame=0,t.Page=1,t})();e.default=t},703,[]);
__d(function(_g,r,i,a,m,_e,_d){"use strict";var t,e=this&&this.__extends||(t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)},function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}),o=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(s,p){function u(t){try{l(n.next(t))}catch(t){p(t)}}function c(t){try{l(n.throw(t))}catch(t){p(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(u,c)}l((n=n.apply(t,e||[])).next())})},n=this&&this.__generator||function(t,e){var o,n,s,p,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return p={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p;function c(t){return function(e){return l([t,e])}}function l(c){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,c[0]&&(u=0)),u;)try{if(o=1,n&&(s=2&c[0]?n.return:c[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,c[1])).done)return s;switch(n=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return u.label++,{value:c[1],done:!1};case 5:u.label++,n=c[1],c=[0];continue;case 7:c=u.ops.pop(),u.trys.pop();continue;default:if(!(s=(s=u.trys).length>0&&s[s.length-1])&&(6===c[0]||2===c[0])){u=0;continue}if(3===c[0]&&(!s||c[1]>s[0]&&c[1]<s[3])){u.label=c[1];break}if(6===c[0]&&u.label<s[1]){u.label=s[1],s=c;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(c);break}s[2]&&u.ops.pop(),u.trys.pop();continue}c=e.call(t,u)}catch(t){c=[6,t],n=0}finally{o=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(_e,"__esModule",{value:!0});var s=(function(t){function s(e){var o=t.call(this,e)||this;return o.hostType=r(_d[0]).default.Page,o.protocolAdapter=new(r(_d[1]).default)("",o.hostType),o}return e(s,t),s.prototype.setup=function(t){return Promise.resolve()},s.prototype.update=function(t){return Promise.resolve()},s.prototype.onRegisterOnNewMessage=function(t){return Promise.resolve()},s.prototype.onRegisterOnThreadUpdate=function(t){return Promise.resolve()},s.prototype.initialize=function(t){return this.protocolAdapter.initialize(t)},s.prototype.dispose=function(){return this.protocolAdapter.dispose()},s.prototype.sendMessage=function(t,e){return this.protocolAdapter.sendMessage(t,e)},s.prototype.sendFileMessage=function(t,e,o){return this.protocolAdapter.sendFileMessage(t,e,o)},s.prototype.getMessages=function(t){return this.protocolAdapter.getMessages(t)},s.prototype.disconnectFromConversation=function(t){return this.protocolAdapter.disconnectFromConversation(t)},s.prototype.onJoinConversation=function(t,e){return this.protocolAdapter.joinConversation(t,e)},s.prototype.sendFileData=function(t,e,o){return this.protocolAdapter.sendFileData(t,e,o)},s.prototype.downloadFileData=function(t,e){return this.protocolAdapter.downloadFileData(t,e)},s.prototype.getFileStatus=function(t,e){return this.protocolAdapter.getFileStatus(t,e)},s.prototype.indicateTypingStatus=function(t,e,o){return this.protocolAdapter.indicateTypingStatus(t,e,o)},s.prototype.sendMessageToBot=function(t,e,o){return this.protocolAdapter.sendMessageToBot(t,e,o)},s.prototype.getMembers=function(t){return this.protocolAdapter.getMembers(t)},s.prototype.registerOnNewMessage=function(t,e){return o(this,void 0,void 0,function(){return n(this,function(o){return this.protocolAdapter.registerOnNewMessage(t,e),[2,Promise.resolve()]})})},s.prototype.registerOnThreadUpdate=function(t,e){return o(this,void 0,void 0,function(){return n(this,function(o){return this.protocolAdapter.registerOnThreadUpdate(t,e),[2,Promise.resolve()]})})},s.prototype.setDebug=function(t){void 0===t&&(t=!1),this.protocolAdapter.setDebug(t)},s})(r(_d[2]).default);_e.default=s},704,[703,705,735]);
__d(function(_g,r,i,a,m,_e,_d){"use strict";var e,t=this&&this.__extends||(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}),n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(s,l){function u(e){try{d(o.next(e))}catch(e){l(e)}}function c(e){try{d(o.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(u,c)}d((o=o.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,o,s,l,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return l={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(e){return function(t){return d([e,t])}}function d(c){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,c[0]&&(u=0)),u;)try{if(n=1,o&&(s=2&c[0]?o.return:c[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,c[1])).done)return s;switch(o=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return u.label++,{value:c[1],done:!1};case 5:u.label++,o=c[1],c=[0];continue;case 7:c=u.ops.pop(),u.trys.pop();continue;default:if(!(s=(s=u.trys).length>0&&s[s.length-1])&&(6===c[0]||2===c[0])){u=0;continue}if(3===c[0]&&(!s||c[1]>s[0]&&c[1]<s[3])){u.label=c[1];break}if(6===c[0]&&u.label<s[1]){u.label=s[1],s=c;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(c);break}s[2]&&u.ops.pop(),u.trys.pop();continue}c=t.call(e,u)}catch(e){c=[6,e],o=0}finally{n=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(_e,"__esModule",{value:!0});var s=(function(e){function s(t,n){var o=e.call(this,t)||this;return o.debug&&console.debug("IC3Core/Constructor"),o.protocolType=r(_d[0]).default.IC3V1SDK,o.hostType=n,o.ic3Initializer=new(r(_d[1]).default),o}return t(s,e),s.prototype.startPolling=function(){e.prototype.startPolling.call(this)},s.prototype.stopPolling=function(){e.prototype.stopPolling.call(this)},s.prototype.setup=function(t){return e.prototype.setup.call(this,t)},s.prototype.initialize=function(t){var n=this;return e.prototype.initialize.call(this,t).then(function(){var e;return null===(e=n.ic3Initializer)||void 0===e?void 0:e.setup(n.logger).then(function(){return n.setSkypeTokenCookie()}).then(function(){var e;return null===(e=n.ic3Initializer)||void 0===e?void 0:e.setIc3Info(n.ic3Info)}).then(function(){var e;return null===(e=n.ic3Initializer)||void 0===e?void 0:e.initializeIC3(n.handlePollData.bind(n))}).then(function(e){n.ic3Info=e})})},s.prototype.update=function(t){var n=this;return e.prototype.update.call(this,t).then(function(){var e;return e={RegionGtms:t.regionGtms,SkypeToken:t.token,visitor:t.visitor},n.updateToken(e)})},s.prototype.dispose=function(){var e;return n(this,void 0,void 0,function(){return o(this,function(t){return null===(e=this.ic3Initializer)||void 0===e||e.stopPolling(),this.heartBeatTimer&&clearInterval(this.heartBeatTimer),Promise.resolve(),[2]})})},s.prototype.joinConversation=function(t,n){var o=this,s=r(_d[2]).default.timer();return e.prototype.joinConversation.call(this,t,n).then(function(e){return o.getThreadRequest(e.id).then(function(n){return o.internalConversationsData[e.id]={id:t,members:n.members},e}).catch(function(n){var l=s.milliSecondsElapsed;return o.logger&&o.logger.log(r(_d[3]).default.WARN,r(_d[4]).default.JoinConversationV1GetThreadRequestFailed,{Description:"Unable to retrieve thread: ".concat(n),ElapsedTimeInMilliseconds:l,EndpointUrl:o.EndpointUrl,EndpointId:o.ic3Info.endpointId}),o.internalConversationsData[e.id]={id:t,members:[]},e})})},s.prototype.sendMessage=function(t,n){return e.prototype.sendMessage.call(this,t,n)},s.prototype.sendFileMessage=function(t,n,o){return e.prototype.sendFileMessage.call(this,t,n,o)},s.prototype.getMessages=function(t){return e.prototype.getMessages.call(this,t)},s.prototype.registerOnNewMessage=function(t,n){return e.prototype.registerOnNewMessage.call(this,t,n)},s.prototype.registerOnThreadUpdate=function(t,n){return e.prototype.registerOnThreadUpdate.call(this,t,n)},s.prototype.disconnectFromConversation=function(t){return e.prototype.disconnectFromConversation.call(this,t)},s.prototype.setSkypeTokenCookie=function(){var e=this.ic3Info.RegionGtms.ams.concat(r(_d[5]).default.skypeTokenAuthURL),t=r(_d[6]).default.getDefaultBaseIC3Headers();t[r(_d[7]).default.ContentTypeHeader]=r(_d[5]).default.ContentTypeForm;var n={data:r(_d[5]).default.skypeTokenConstantForData+this.ic3Info.SkypeToken,enableExponentialBackoff:!0,useXHRWithCredentials:!0,headers:t,redirect404RetryCount:r(_d[5]).default.retryCount,retryCount:r(_d[5]).default.retryCount,shouldRedirectOn404:!1,shouldResetOnFailure:!1,shouldRetryOnFailure:r(_d[8]).default.shouldRetryOnFailure,timeBetweenRetry:r(_d[5]).default.timeBetweenOperationRetry,type:r(_d[9]).default.POST,url:e};return r(_d[10]).HttpClient.MakeRequest(n)},s.prototype.getThreadRequest=function(e){var t=r(_d[11]).default.getThreadUrl(e,this.ic3Info.RegionGtms),n=r(_d[6]).default.getDefaultBaseIC3Headers();n[r(_d[7]).default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken;var o={enableExponentialBackoff:!0,headers:n,redirect404RetryCount:r(_d[5]).default.retryCount,retryCount:r(_d[5]).default.retryCount,shouldRedirectOn404:!0,shouldRetryOnFailure:r(_d[8]).default.shouldRetryOnFailure,timeBetweenRetry:r(_d[5]).default.timeBetweenOperationRetry,type:r(_d[9]).default.GET,url:t};return r(_d[10]).HttpClient.MakeRequest(o)},s.prototype.newMessageReceived=function(t,n,o){e.prototype.onNewMessage.call(this,t,n,o)},s.prototype.newThreadUpdate=function(t,n){e.prototype.onThreadUpdate.call(this,t,n)},s.prototype.handleNewMessageEvent=function(e){var t;t=e.resource&&e.resource.conversationid?e.resource.conversationid:e.resource.conversationLink?r(_d[8]).default.getConversationIdFromUrl(e.resource.conversationLink):r(_d[8]).default.getConversationIdFromUrl(e.resourceLink);var n=this.conversations.findIndex(function(e){return e.id===t}),o=this.conversations[n];this.newMessageReceived(o,e.resource,e.resourceType)},s.prototype.handleConversationUpdateEvent=function(e){e.resourceType,r(_d[12]).default.ConversationUpdate},s.prototype.handleThreadUpdate=function(e){if(e.resourceType===r(_d[12]).default.ThreadUpdate){var t;t=e.resource&&e.resource.id?e.resource.id:e.resource.messages?r(_d[8]).default.getConversationIdFromUrl(e.resource.messages):r(_d[8]).default.getConversationIdFromUrl(e.resourceLink);var n=this.conversations.findIndex(function(e){return e.id===t}),o=this.conversations[n];this.newThreadUpdate(o,e.resource)}},s.prototype.handlePollData=function(e){if(e&&e.eventMessages)for(var t=0,n=e.eventMessages;t<n.length;t++){var o=n[t];this.handlePollEventMessage(o)}},s.prototype.handlePollEventMessage=function(e){e.resourceType===r(_d[12]).default.NewMessage||e.resourceType===r(_d[12]).default.MessageUpdate?this.handleNewMessageEvent(e):e.resourceType===r(_d[12]).default.ThreadUpdate?this.handleThreadUpdate(e):e.resourceType===r(_d[12]).default.ConversationUpdate&&this.handleConversationUpdateEvent(e)},s.prototype.updateToken=function(e){return n(this,void 0,void 0,function(){var t,n,s,l,u,c,d,p,f,h,y=this;return o(this,function(o){switch(o.label){case 0:return this.logger&&this.logger.log(r(_d[3]).default.INFO,r(_d[4]).default.UpdateToken,{EndpointUrl:this.EndpointUrl,EndpointId:this.ic3Info.endpointId}),t=[],n=function(e){e&&e.eventMessages&&r(_d[2]).default.concatArrays(t,e.eventMessages)},s=[],l=function(e){e&&e.eventMessages&&r(_d[2]).default.concatArrays(s,e.eventMessages)},u=this.ic3Initializer,c=new(r(_d[1]).default),d=this.updateTokenClearTimeoutHandle,p=this.ic3Info,u.getPoller().onNewData=n,this.logger?[4,c.setup(this.logger)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2,c.setIc3Info(e).then(function(){return c.initializeIC3(l)}).then(function(e){f=e}).then(function(){return y.getMatchingIC3EventIndex(t,s)}).then(function(e){h=e}).then(function(){return u.reset(!0)}).then(function(){return y.syncPollingData(t,s,h)}).then(function(){y.ic3Info=f,y.ic3Initializer=c,y.ic3Initializer.getPoller().onNewData=y.handlePollData.bind(y)}).catch(function(e){throw y.updateTokenClearTimeoutHandle!==d&&(clearTimeout(y.updateTokenClearTimeoutHandle),y.updateTokenClearTimeoutHandle=d),y.ic3Info=p,y.ic3Initializer.getPoller().onNewData=y.handlePollData.bind(y),y.ic3Initializer.getPoller().start(),new Error("Update token failed: "+(e&&e.message))})]}})})},s.prototype.getMatchingIC3EventIndex=function(e,t,n){var o=this;return new Promise(function(s,l){if((n=n||0)===r(_d[5]).default.stabilizePollMaxRetryCount)s({newPollIndex:-1,previousPollIndex:-1});else{for(var u=0,c=0;u<e.length&&c<t.length;){var d=e[u],p=t[c];if(d.time===p.time)return void s({newPollIndex:c,previousPollIndex:u});new Date(d.time)<new Date(d.time)?u++:c++}setTimeout(function(){o.getMatchingIC3EventIndex(e,t,n+1).then(function(e){s(e)}).catch(function(e){l(e)})},r(_d[5]).default.timeBetweenStabilizingPoll)}})},s.prototype.syncPollingData=function(e,t,n){this.logger&&this.logger.log(r(_d[3]).default.INFO,r(_d[4]).default.SyncingPollData,{EndpointUrl:this.EndpointUrl,EndpointId:this.ic3Info.endpointId});var o=n.previousPollIndex,s=n.newPollIndex+1;-1===n.previousPollIndex&&-1===n.newPollIndex&&(o=e.length-1,s=0);for(var l=0;l<=o;l++)this.handlePollEventMessage(e[l]);for(l=s;l<t.length;l++)this.handlePollEventMessage(t[l])},s})(r(_d[13]).default);_e.default=s},705,[706,707,710,725,726,712,714,711,716,723,724,709,729,730]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.IC3V1SDK=0,t.IC3V2SDK=1,t.MockIC3SDK=2,t})();e.default=t},706,[]);
__d(function(_g,r,i,a,m,_e,d){"use strict";var t=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(s,u){function l(t){try{f(o.next(t))}catch(t){u(t)}}function c(t){try{f(o.throw(t))}catch(t){u(t)}}function f(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(l,c)}f((o=o.apply(t,e||[])).next())})},e=this&&this.__generator||function(t,e){var n,o,s,u,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function c(t){return function(e){return f([t,e])}}function f(c){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(l=0)),l;)try{if(n=1,o&&(s=2&c[0]?o.return:c[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,c[1])).done)return s;switch(o=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return l.label++,{value:c[1],done:!1};case 5:l.label++,o=c[1],c=[0];continue;case 7:c=l.ops.pop(),l.trys.pop();continue;default:if(!(s=(s=l.trys).length>0&&s[s.length-1])&&(6===c[0]||2===c[0])){l=0;continue}if(3===c[0]&&(!s||c[1]>s[0]&&c[1]<s[3])){l.label=c[1];break}if(6===c[0]&&l.label<s[1]){l.label=s[1],s=c;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(c);break}s[2]&&l.ops.pop(),l.trys.pop();continue}c=e.call(t,l)}catch(t){c=[6,t],o=0}finally{n=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(_e,"__esModule",{value:!0});var n=(function(){function n(){this.debug=!1,this.current404RetryCount=0,this.currentOtherRetryCount=0,this.skipUnsubscribe=!1,this.telemetryMessage="",this.errorCode='',this.pollDataHandler=function(t){},this.resetRetryCount()}return n.prototype.setup=function(n){return t(this,void 0,void 0,function(){return e(this,function(t){return this.logger=n,[2]})})},n.prototype.getPoller=function(){var t=this.pollDataHandler.bind(this);return this.poller||(this.poller=new(r(d[0]).default)(this.ic3Info,t,this.redirectErrorHandler.bind(this),this.onRequestCreationFailure.bind(this))),this.poller},n.prototype.setIc3Info=function(n){return t(this,void 0,void 0,function(){var t;return e(this,function(e){return t={RegionGtms:JSON.parse(JSON.stringify(n.RegionGtms)),SkypeToken:n.SkypeToken,visitor:n.visitor},this.ic3Info=t,[2]})})},n.prototype.initializeIC3=function(t){var e,n=this;return t&&(this.pollDataHandler=t),null===(e=this.logger)||void 0===e||e.log(r(d[1]).default.INFO,r(d[2]).default.IC3InitializationBegins,{Description:"Endpoint to poll is ".concat(JSON.stringify(this.ic3Info.RegionGtms.chatService)),EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}),this.createEndpoint().then(function(){return n.createSubscription()}).then(function(){return n.setEndpointProperty()}).then(function(){return n.startPolling(t)}).then(function(){return n.resetRetryCount()}).then(function(){return Promise.resolve(n.ic3Info)}).catch(function(t){return n.redirectErrorHandler(t)})},n.prototype.startPolling=function(t){var e,n=!t&&this.pollDataHandler?this.pollDataHandler.bind(this):this.pollDataHandler;this.poller||(this.poller=new(r(d[0]).default)(this.ic3Info,n,this.redirectErrorHandler.bind(this),this.onRequestCreationFailure.bind(this))),this.poller.ic3Info=this.ic3Info,null===(e=this.logger)||void 0===e||e.log(r(d[1]).default.INFO,r(d[2]).default.IC3StartedPolling,{EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}),this.poller.start()},n.prototype.stopPolling=function(t){var e,n=t?r(d[3]).default.oldInitializer:r(d[3]).default.newInitializer;null===(e=this.logger)||void 0===e||e.log(r(d[1]).default.INFO,r(d[2]).default.IC3StoppedPolling,{Description:"".concat(n," stopped polling."),EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}),this.poller&&this.poller.stop()},n.prototype.reset=function(t){return this.stopPolling(t),this.unsubscribeFromEndpoint()},n.prototype.resetRetryCount=function(){this.current404RetryCount=0,this.currentOtherRetryCount=0},n.prototype.onEndpointCreationFailure=function(t){this.onRequestCreationFailure(t,r(d[3]).default.endpointRequestLog)},n.prototype.onEndpointCreationSuccess=function(t){var e,n,o=r(d[4]).default.getResponseHeader(t,r(d[5]).default.SetRegistrationTokenHeader);r(d[4]).default.isNullOrUndefined(o)||(this.ic3Info.RegistrationToken=r(d[4]).default.getRegistrationTokenValue(o));var s=r(d[4]).default.getResponseHeader(t,r(d[5]).default.LocationHeader);if(!r(d[4]).default.isNullOrUndefined(s)){var u=s.match(/endpoints\/(%7B[\da-z\-]+%7D)/);this.ic3Info.endpointId=u&&u[1],null===(e=this.logger)||void 0===e||e.log(r(d[1]).default.INFO,r(d[2]).default.IC3EndpointCreationSuccess,{Description:"IC3 endpoint Id is ".concat(this.ic3Info.endpointId),EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}),t.status===r(d[6]).default.Created&&r(d[7]).default.parseChatServiceHostUrl(s)!==this.ic3Info.RegionGtms.chatService&&(this.ic3Info.RegionGtms.chatService=r(d[7]).default.parseChatServiceHostUrl(s),null===(n=this.logger)||void 0===n||n.log(r(d[1]).default.WARN,r(d[2]).default.OnRequestCreationSuccessRedirect,{Description:"Endpoint changed",EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}))}},n.prototype.createEndpointRequest=function(){var t=r(d[8]).default.getV1EndpointUrl(this.ic3Info.RegionGtms),e=r(d[9]).default.getDefaultIC3Headers();e[r(d[5]).default.AuthenticationHeader]=r(d[5]).default.SkypeTokenHeaderValue+this.ic3Info.SkypeToken,e[r(d[5]).default.ContentTypeHeader]=r(d[3]).default.ContentTypeJson;var n={endpointFeatures:[r(d[10]).default.Agent,r(d[10]).default.InviteFree,r(d[10]).default.MessageProperties].join(',')},o={callbackOnFailure:this.onEndpointCreationFailure.bind(this),callbackOnSuccess:this.onEndpointCreationSuccess.bind(this),data:JSON.stringify(n),enableExponentialBackoff:!0,headers:e,redirect404RetryCount:r(d[3]).default.retryCount,retryCount:r(d[3]).default.retryCount,shouldRedirectOn404:!0,shouldResetOnFailure:!0,shouldRetryOnFailure:r(d[7]).default.shouldRetryOnFailure,timeBetweenRetry:r(d[3]).default.timeBetweenOperationRetry,type:r(d[11]).default.POST,url:t};return r(d[12]).HttpClient.MakeRequest(o)},n.prototype.createEndpoint=function(){var t=this;return this.createEndpointRequest().then(function(e){return e.subscriptions&&e.subscriptions.length>0&&(t.ic3Info.subscriptionId=e.subscriptions[0].id),e})},n.prototype.onSubscriptionCreationFailure=function(t){this.onRequestCreationFailure(t,r(d[3]).default.subscriptionRequestLog)},n.prototype.onSubscriptionCreationSuccess=function(t){var e,n=r(d[4]).default.getResponseHeader(t,r(d[5]).default.LocationHeader)||"";t.status!==r(d[6]).default.Created||r(d[4]).default.isNullOrUndefined(n)||r(d[7]).default.parseChatServiceHostUrl(n)===this.ic3Info.RegionGtms.chatService||(this.ic3Info.RegionGtms.chatService=r(d[7]).default.parseChatServiceHostUrl(n),null===(e=this.logger)||void 0===e||e.log(r(d[1]).default.WARN,r(d[2]).default.OnRequestCreationSuccessRedirect,{Description:"Endpoint changed",EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}));var o=n.match(/\/(\d+)$/);o&&(this.ic3Info.subscriptionId=o[1])},n.prototype.createSubscriptionRequest=function(){var t=r(d[8]).default.getV1SubscriptionUrl(this.ic3Info.RegionGtms),e=r(d[9]).default.getDefaultIC3Headers();e[r(d[5]).default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,e[r(d[5]).default.ContentTypeHeader]=r(d[3]).default.ContentTypeJson;var n={channelType:r(d[3]).default.HttpLongPoll,interestedResources:[r(d[13]).default.ConversationMessages,r(d[13]).default.ConversationProperties,r(d[13]).default.Threads,r(d[13]).default.Contacts]},o={callbackOnFailure:this.onSubscriptionCreationFailure.bind(this),callbackOnSuccess:this.onSubscriptionCreationSuccess.bind(this),data:JSON.stringify(n),enableExponentialBackoff:!0,headers:e,redirect404RetryCount:r(d[3]).default.retryCount,retryCount:r(d[3]).default.retryCount,shouldRedirectOn404:!0,shouldResetOnFailure:!0,shouldRetryOnFailure:r(d[7]).default.shouldRetryOnFailure,timeBetweenRetry:r(d[3]).default.timeBetweenOperationRetry,type:r(d[11]).default.POST,url:t};return r(d[12]).HttpClient.MakeRequest(o)},n.prototype.createSubscription=function(){return this.createSubscriptionRequest()},n.prototype.onSetEndpointPropertyCreationFailure=function(t){this.onRequestCreationFailure(t,r(d[3]).default.setPropertiesRequestLog)},n.prototype.setEndpointProperty=function(){if(this.ic3Info.visitor)return Promise.resolve();var t=r(d[8]).default.getV1SetPropertiesUrl(this.ic3Info.RegionGtms),e={};e[r(d[5]).default.SetEndpointProperty]=!0;var n=r(d[9]).default.getDefaultIC3Headers();n[r(d[5]).default.AuthenticationHeader]=r(d[5]).default.SkypeTokenHeaderValue+this.ic3Info.SkypeToken,n[r(d[5]).default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,n[r(d[5]).default.ContentTypeHeader]=r(d[3]).default.ContentTypeJson;var o={callbackOnFailure:this.onSetEndpointPropertyCreationFailure.bind(this),data:JSON.stringify(e),enableExponentialBackoff:!0,headers:n,redirect404RetryCount:r(d[3]).default.retryCount,retryCount:r(d[3]).default.retryCount,shouldRedirectOn404:!0,shouldResetOnFailure:!0,shouldRetryOnFailure:r(d[7]).default.shouldRetryOnFailure,timeBetweenRetry:r(d[3]).default.timeBetweenOperationRetry,type:r(d[11]).default.PUT,url:t};return r(d[12]).HttpClient.MakeRequest(o)},n.prototype.onUnsubscribeCreationFailure=function(t){this.onRequestCreationFailure(t,r(d[3]).default.unsubscribeRequestLog)},n.prototype.unsubscribeFromEndpoint=function(){if(this.ic3Info.visitor||r(d[4]).default.isNullOrUndefined(this.ic3Info.endpointId)||this.skipUnsubscribe)return this.skipUnsubscribe=!0,Promise.resolve();var t=r(d[8]).default.getV1DeleteEndpointUrl(this.ic3Info.RegionGtms,this.ic3Info.endpointId),e=r(d[9]).default.getDefaultIC3Headers();e[r(d[5]).default.AuthenticationHeader]=r(d[5]).default.SkypeTokenHeaderValue+this.ic3Info.SkypeToken,e[r(d[5]).default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,e[r(d[5]).default.ContentTypeHeader]=r(d[3]).default.ContentTypeJson;var n={callbackOnFailure:this.onUnsubscribeCreationFailure.bind(this),enableExponentialBackoff:!0,headers:e,redirect404RetryCount:r(d[3]).default.retryCount,retryCount:r(d[3]).default.retryCount,shouldRedirectOn404:!0,shouldResetOnFailure:!0,shouldRetryOnFailure:r(d[7]).default.shouldRetryOnFailure,timeBetweenRetry:r(d[3]).default.timeBetweenOperationRetry,type:r(d[11]).default.DELETE,url:t};return r(d[12]).HttpClient.MakeRequest(n)},n.prototype.onRequestCreationFailure=function(t,e){var n,o,s=r(d[4]).default.getResponseHeader(t,r(d[5]).default.LocationHeader);this.telemetryMessage="".concat(e," failed. Error Code: ").concat(t.status,"."),this.errorCode=t.status.toString(),this.skipUnsubscribe=!0,t.status!==r(d[6]).default.Redirect||r(d[4]).default.isNullOrEmptyString(s)?(null===(o=this.logger)||void 0===o||o.log(r(d[1]).default.WARN,r(d[2]).default.ResetOnRequestCreationFailure,{Description:this.telemetryMessage+" Trying to reset.",ErrorCode:t.status.toString(),EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}),this.current404RetryCount=0,this.currentOtherRetryCount++):(null===(n=this.logger)||void 0===n||n.log(r(d[1]).default.WARN,r(d[2]).default.RedirectOnRequestCreationFailure,{Description:this.telemetryMessage+" Trying to redirect.",ErrorCode:t.status.toString(),EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}),this.onRequestCreationFailureRedirect(t))},n.prototype.redirectErrorHandler=function(t){var e,n=this;return t.message===r(d[3]).default.Reset_Flag&&this.current404RetryCount<=r(d[3]).default.retry404Count&&this.currentOtherRetryCount<=r(d[3]).default.retryCount?this.reset().then(function(){return n.initializeIC3()}):(null===(e=this.logger)||void 0===e||e.log(r(d[1]).default.ERROR,r(d[2]).default.MaxRetryCountReachedForRedirect,{Description:"Fatal Error. Initialization failed. Maximum retry count reached. Exiting. ".concat(this.telemetryMessage),ErrorCode:this.errorCode,ExceptionDetails:t,EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}),this.reset().then(function(){return Promise.reject(t.message)}))},n.prototype.onRequestCreationFailureRedirect=function(t){var e;this.current404RetryCount++,this.currentOtherRetryCount=0,this.ic3Info.RegionGtms.chatService=r(d[7]).default.parseChatServiceHostUrl(r(d[4]).default.getResponseHeader(t,r(d[5]).default.LocationHeader)),null===(e=this.logger)||void 0===e||e.log(r(d[1]).default.WARN,r(d[2]).default.OnRequestCreationFailureRedirect,{Description:"Endpoint changed.",EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId})},n})();_e.default=n},707,[708,725,726,712,710,711,722,716,709,714,727,723,724,728]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0});var t=(function(){function t(t,e,n,o){this.isPolling=!1,this._ic3Info=t,this._onNewData=e,this._onError=n,this.callbackOnFailure=o}return t.prototype.start=function(){return this.isPolling||(this.isPolling=!0,this.startPolling()),Promise.resolve()},t.prototype.stop=function(){return this.isPolling=!1,Promise.resolve()},Object.defineProperty(t.prototype,"onNewData",{get:function(){return this._onNewData},set:function(t){this._onNewData=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onError",{get:function(){return this._onError},set:function(t){this._onError=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setCallbackOnFailure",{set:function(t){this.setCallbackOnFailure=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ic3Info",{get:function(){return this._ic3Info},set:function(t){this._ic3Info=t},enumerable:!1,configurable:!0}),t.prototype.startPolling=function(){var t=this;this.isPolling&&this.poll().then(function(e){t.isPolling&&t._onNewData&&t._onNewData(e)}).catch(function(e){t._onError&&t._onError(e)}).then(function(){t.startPolling()})},t.prototype.poll=function(){var t=r(d[0]).default.getV1PollUrl(this._ic3Info.RegionGtms,this._ic3Info.subscriptionId);return r(d[1]).default.poll(t,this._ic3Info.RegistrationToken,this.callbackOnEachRequestCompleted.bind(this))},t.prototype.callbackOnEachRequestCompleted=function(t){this.callbackOnFailure(t,r(d[2]).default.pollRequestLog)},t})();_e.default=t},708,[709,713,712]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.getV2EndpointUrl=function(t,n){return n.chatService+"/v2/users/ME/endpoints/"+t},t.getThreadUrl=function(t,n){return n.chatService+"/v1/threads/"+t+"?view=msnp24Equivalent"},t.getMessagesUrl=function(t,n){return n.chatService+"/v1/users/ME/conversations/"+t+"/messages"},t.getBotMessagesUrl=function(t,n){return n.chatService+"/v1/agents/"+t+"/invoke"},t.getAmsObjectsUrl=function(t){return r(d[0]).default.sanitizeUrlWithBackSlash(t.ams)+"v1/objects"},t.getAmsObjectContentUrl=function(t,n,s){void 0===s&&(s=!1);var u=s?r(d[1]).default.ImageContent:r(d[1]).default.FileContent;return r(d[0]).default.sanitizeUrlWithBackSlash(n.ams)+"v1/objects/"+t+"/content/"+u},t.getAmsObjectViewUrl=function(t,n,s){void 0===s&&(s=!1);var u=s?r(d[1]).default.ImageView:r(d[1]).default.FileView;return r(d[0]).default.sanitizeUrlWithBackSlash(n.ams)+"v1/objects/"+t+"/views/"+u},t.getAmsStatusUrl=function(t,n,s){void 0===s&&(s=!1);var u=s?r(d[1]).default.ImageView:r(d[1]).default.FileView;return r(d[0]).default.sanitizeUrlWithBackSlash(n.ams)+"v1/objects/"+t+"/views/"+u+"/status"},t.getV1EndpointUrl=function(t){return t.chatService+"/v1/users/ME/endpoints"},t.getV1DeleteEndpointUrl=function(t,n){return t.chatService+"/v1/users/ME/endpoints/"+n},t.getV1SubscriptionUrl=function(t){return t.chatService+"/v1/users/ME/endpoints/SELF/subscriptions"},t.getV1PollUrl=function(t,n){return t.chatService+"/v1/users/ME/endpoints/SELF/subscriptions/"+n+"/poll"},t.getV1SetPropertiesUrl=function(t){return t.chatService+"/v1/users/ME/endpoints/SELF/properties?name="+r(d[2]).default.SetEndpointProperty},t})();e.default=t},709,[710,712,711]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(function(){function n(){}return n.isNullOrEmptyString=function(t){return n.isNullOrUndefined(t)||""===t},n.isNullOrUndefinedOrEmptyArray=function(t){return n.isNullOrUndefined(t)||0===t.length},n.isNullOrUndefined=function(n){return null==n},n.isPrimitiveString=function(n){return"string"==typeof n},n.convertStringToBoolean=function(t){return!n.isNullOrUndefined(t)&&"true"===t.toLowerCase()},n.sanitizeUrlWithBackSlash=function(n){return n.endsWith("/")?n:n+"/"},n.getRegistrationTokenValue=function(n){var t=n.match(/registrationToken=(.+); expires=(\d+)/);return t&&t.length>=2?r(d[0]).default.RegistrationTokenHeaderValue+t[1]:""},n.addQueryParametersToPath=function(t,u){var l=t;if(!n.isNullOrUndefined(u))for(var o in l.indexOf("?")>=0||(l+="?"),u)if(u.hasOwnProperty(o)){var f=o+"="+u[o];"?"!==l[l.length-1]&&(f="&"+f),l+=f}return l},n.getResponseHeader=function(t,u){var l;return n.isNullOrUndefined(t)||(l=t.headers[u]),l},n.timer=function(){var n=(new Date).getTime();return{get milliSecondsElapsed(){return(new Date).getTime()-n}}},n.concatArrays=function(t,u){n.isNullOrUndefined(t)||n.isNullOrUndefined(u)||u.forEach(function(n){t.push(n)})},n})();e.default=n},710,[711]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.LocationHeader="location",t.SetRegistrationTokenHeader="set-registrationtoken",t.RegistrationTokenHeader="RegistrationToken",t.RegistrationTokenHeaderValue="registrationToken=",t.ContentTypeHeader="content-type",t.AuthenticationHeader="authentication",t.BehaviorOverrideHeader="behavioroverride",t.SkypeTokenHeaderValue="skypetoken=",t.SetEndpointProperty="supportsMessageProperties",t})();e.default=t},711,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.NewMessageEvent="NewMessage",t.MessageUpdateEvent="MessageUpdate",t.ThreadUpdateEvent="ThreadUpdate",t.ConversationUpdateEvent="ConversationUpdate",t.HttpLongPoll="HttpLongPoll",t.ContentTypeJson="application/json",t.ContentTypeTextPlain="text/plain;charset=UTF-8",t.ContentTypeForm="application/x-www-form-urlencoded",t.RedirectAs404="redirectAs404",t.NoCache="no-cache",t.User="user",t.Web="web",t.ClientInfoValue="os=Windows; osVer=10; proc=Win32; lcid=en-us; deviceType=1; country=IN; clientName=swc; clientVer=912/0.106.0.34//swc",t.TextPlainMimeType="text/plain",t.SwcName="SWC",t.Image="image",t.ClientVersion="937/0.123.0.9",t.DelayForAms=50,t.Reset_Flag="reset_ic3_needed",t.Malware="malware",t.Ready="ready",t.InProgress="in progress",t.Failed="failed",t.Expired="expired",t.ImageView="imgpsh_fullsize_anim",t.FileView="original",t.DocumentTypeImage="pish/image",t.DocumentTypeFile="sharing/file",t.ImageContent="imgpsh",t.FileContent="original",t.AMSAcceptHeaderValue="image/webp,image/ *,*/*;q=0.8",t.AMSAcceptEncodingHeaderValue="gzip, deflate, sdch, br",t.AMSAuthorizationSkypeTokenValue="skype_token ",t.stabilizePollMaxRetryCount=50,t.timeBetweenStabilizingPoll=1e3,t.retryCount=2,t.retry404Count=3,t.retryOtherCount=3,t.liveStateRetryCount=3,t.timeBetweenOperationRetry=1e3,t.heartBeatDuration=3e4,t.endpointRequestLog="Endpoint request",t.subscriptionRequestLog="Subscription request",t.setPropertiesRequestLog="Set message properties request",t.unsubscribeRequestLog="Unsubscribe from endpoint request",t.pollRequestLog="Polling",t.oldInitializer="Old initializer",t.newInitializer="New Initializer",t.skypeTokenAuthURL="/v1/skypetokenauth",t.skypeTokenConstantForData="skypetoken=",t})();e.default=t},712,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.poll=function(t,n,u){var l=r(d[0]).default.getDefaultIC3Headers();l[r(d[1]).default.RegistrationTokenHeader]=n,l[r(d[1]).default.ContentTypeHeader]=r(d[2]).default.ContentTypeJson;var o={callbackOnFailure:u,data:JSON.stringify({}),enableExponentialBackoff:!0,headers:l,redirect404RetryCount:r(d[2]).default.retryCount,retryCount:r(d[2]).default.retryCount,shouldRedirectOn404:!0,shouldResetOnFailure:!0,shouldRetryOnFailure:r(d[3]).default.shouldRetryOnFailure,timeBetweenRetry:r(d[2]).default.timeBetweenOperationRetry,type:r(d[4]).default.POST,url:t};return r(d[5]).HttpClient.MakeRequest(o)},t})();e.default=t},713,[714,711,712,716,723,724]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.getDefaultIC3Headers=function(){return{Accept:r(d[0]).default.ContentTypeJson,BehaviorOverride:r(d[0]).default.RedirectAs404,ClientInfo:r(d[0]).default.ClientInfoValue,ContextId:"tcid=".concat((0,r(d[1]).uuidv4)()),Expires:0,Pragma:r(d[0]).default.NoCache,"x-ms-client-type":r(d[0]).default.Web,"x-ms-user-type":r(d[0]).default.User}},t.getDefaultBaseIC3Headers=function(){return{Accept:r(d[0]).default.ContentTypeJson,BehaviorOverride:r(d[0]).default.RedirectAs404,"content-type":r(d[0]).default.ContentTypeJson}},t.getDefaultGetMessagesQueryParameters=function(){return{pageSize:20,startTime:0,view:"msnp24Equivalent|supportsMessageProperties"}},t.getDefaultAMSHeaders=function(t){return{Authorization:r(d[0]).default.AMSAuthorizationSkypeTokenValue+t,"X-MS-Client-Version":r(d[0]).default.ClientInfoValue}},t.getDefaultAMSViewHeaders=function(t){return{Accept:r(d[0]).default.AMSAcceptHeaderValue,"Accept-Encoding":r(d[0]).default.AMSAcceptEncodingHeaderValue,Authorization:r(d[0]).default.AMSAuthorizationSkypeTokenValue+t,"X-MS-Client-Version":r(d[0]).default.ClientInfoValue}},t})();e.default=t},714,[712,715]);
__d(function(g,_r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uuidv4=void 0;e.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(x){var t=16*Math.random()|0;return("x"===x?t:3&t|8).toString(16)})}},715,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var i,n=1,s=arguments.length;n<s;n++)for(var o in i=arguments[n])Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=(function(){function i(){}return i.createMessageData=function(t){var n=t.contentType===r(d[0]).default.Text?r(d[1]).default.Text:r(d[1]).default.RichTextHtml,s=t.content,o=i.createBaseMessageData(n,t.contentType.toString(),s);return o.properties=this.getMessageProperties(t),r(d[2]).default.isNullOrUndefined(t.sender.displayName)||(o.imdisplayname=t.sender.displayName),o},i.createBaseMessageData=function(t,i,n){return{"Has-Mentions":"false",clientmessageid:Date.now().toString(),composetime:(new Date).toISOString(),content:n,contenttype:i,messagetype:t}},i.getMessageProperties=function(t){var i={};if(i.deliveryMode=t.deliveryMode.toString(),t.tags){var n=[];t.tags.forEach(function(t){n.push(t)}),i.tags=n.join()}return i},i.createTypingStatusThreadMessageData=function(n,s){var o="";switch(n){case r(d[3]).default.Typing:o=r(d[1]).default.ControlTyping;break;case r(d[3]).default.ClearTyping:o=r(d[1]).default.ControlClearTyping}var l=i.createBaseMessageData(o,r(d[0]).default.Text,"");return r(d[2]).default.isNullOrUndefined(s)||(l=t(t({},s),l)),l},i.createBotMessageData=function(t,i){var n={conversation:{id:t},value:i};return JSON.stringify(n)},i.createFileMessage=function(t,n,s){var o=r(d[1]).default.Text,l=r(d[0]).default.Text.toString().toLowerCase(),f=i.createBaseMessageData(o,l.toString(),"");return f.amsreferences=JSON.stringify([t.id]),f.properties=JSON.stringify(this.createFileMessageProperties(t,n,s)),r(d[2]).default.isNullOrUndefined(s.sender.displayName)||(f.imdisplayname=s.sender.displayName),f},i.createFileMessageProperties=function(t,i,n){var s={};if(s.deliveryMode=n.deliveryMode.toString(),s.files=JSON.stringify([this.createFileProperty(t,i)]),s.importance='',s.subject="",n.tags){var o=[];n.tags.forEach(function(t){o.push(t)}),s.tags=o.join()}return s},i.createFileProperty=function(t,n){var s=!!i.isDocumentTypeImage(t.type);return{'@type':'http://schema.skype.com/File',type:t.type,itemid:'',baseUrl:'',providerData:'',version:2,id:t.id,title:t.name,state:'active',objectUrl:r(d[4]).default.getAmsObjectViewUrl(t.id,n.RegionGtms,s),fileName:t.name,fileType:i.getNameAndExtension(t.name).extension,botFileProperties:{url:r(d[4]).default.getAmsObjectViewUrl(t.id,n.RegionGtms,s)},fileInfo:{fileUrl:r(d[4]).default.getAmsObjectContentUrl(t.id,n.RegionGtms,s),siteUrl:'',serverRelativeUrl:''},filePreview:{previewUrl:''}}},i.getNameAndExtension=function(t){var i=(t||'').split('.'),n='',s='';return i.length>1?(s=i.pop().toLowerCase(),n=i.join('.')):(s='',n=i[0]),{name:n,extension:s}},i.createIRawMessage=function(t,n,s){var o={clientmessageid:t.clientmessageid,content:t.content,contentType:i.getMessageContentType(t),deliveryMode:r(d[2]).default.isNullOrUndefined(t.properties)||t.properties.deliveryMode!==r(d[5]).default.Bridged?r(d[5]).default.Unbridged:r(d[5]).default.Bridged,messageType:i.getMessageType(t),properties:t.properties,sender:{displayName:t.imdisplayname,id:t.from,type:i.getPersonType(t.from)},timestamp:new Date(Date.parse(t.originalarrivaltime))};if(s&&(o.resourceType=s),!r(d[2]).default.isNullOrUndefined(t.properties)&&!r(d[2]).default.isNullOrEmptyString(t.properties.tags)){var l;l=t.properties.tags.split(","),o.tags=l}if(!r(d[2]).default.isNullOrUndefined(t.properties)&&!r(d[2]).default.isNullOrEmptyString(t.properties.files)){var f;if((f=JSON.parse(t.properties.files)).length>0){var u=f[0].id;r(d[2]).default.isNullOrUndefined(u)&&t.amsreferences&&(u=t.amsreferences[0]);var p=i.getFileUrl(f[0],u,n),c={fileSharingProtocolType:r(d[6]).default.AmsBasedFileSharing,id:u,name:f[0].fileName,size:f[0].version,type:f[0].fileType,url:p};o.fileMetadata=c}}return o},i.createIRawThread=function(t){return{id:t.id,members:t.members,messages:t.messages,properties:t.properties,rosterVersion:t.rosterVersion,type:t.type,version:t.version}},i.getConversationIdFromUrl=function(t){var i=t&&t.match(/\/(\d+:[^\/]*)[\/]?/);return i&&i[1]?i[1]:void 0},i.isSystemMessage=function(t){var n=!1;return r(d[2]).default.isNullOrEmptyString(t.messagetype)||(n=i.getSystemMessageTypes().reduce(function(i,n){return i||0===t.messagetype.toLowerCase().indexOf(n.toLowerCase())},n)),n},i.getPersonType=function(t){var i=r(d[7]).default.Unknown,n=t.split("/").pop();return 0===n.indexOf("28:")?i=r(d[7]).default.Bot:0===n.indexOf("19:")&&(i=r(d[7]).default.User),i},i.isImageType=function(t){switch(t.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"bmp":case"tiff":case"jfif":return!0;default:return!1}},i.getMessageType=function(t){var i;switch(t.messagetype){case r(d[8]).default.Typing:i=r(d[8]).default.Typing;break;case r(d[8]).default.ClearTyping:i=r(d[8]).default.ClearTyping;break;default:i=r(d[8]).default.UserMessage}return i},i.getMessageContentType=function(t){var i=t.contenttype?t.contenttype:t.messagetype;return i===r(d[1]).default.Text.toLowerCase()?r(d[0]).default.Text:i.indexOf(r(d[9]).default.TextPlainMimeType)>=0?r(d[0]).default.Text:r(d[0]).default.RichText},i.getSystemMessageTypes=function(){return["ThreadActivity"]},i.getFileUrl=function(t,n,s){var o,l=t.fileInfo;if(l&&l.fileUrl)o=l.fileUrl;else if(n){var f=i.isImageType(t.fileType);o=r(d[4]).default.getAmsObjectContentUrl(n,s.RegionGtms,f)}return o},i.isDocumentTypeImage=function(t){return-1!==t.indexOf(r(d[9]).default.Image)},i.getDomainRegexp=function(){return new RegExp(/^(https?:.+?\.microsoft\.com)/i)},i.parseDomain=function(t){var n=t.match(i.getDomainRegexp());return n?n[1]:null},i.parseChatServiceHostUrl=function(t){return i.parseDomain(t)},i.shouldRetryOnFailure=function(t){return t!==r(d[10]).default.Accepted&&t!==r(d[10]).default.Created},i})();e.default=i},716,[717,718,710,719,709,699,720,721,697,712,722]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.RichText="RichText",t.Text="Text",t})();e.default=t},717,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.Text="Text",t.RichText="RichText",t.RichTextHtml="RichText/Html",t.ControlTyping="Control/Typing",t.ControlClearTyping="Control/ClearTyping",t.LiveState="Control/LiveState",t})();e.default=t},718,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),(function(n){n[n.Typing=0]="Typing",n[n.ClearTyping=1]="ClearTyping"})(n||(n={})),e.default=n},719,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),(function(n){n[n.AmsBasedFileSharing=0]="AmsBasedFileSharing"})(n||(n={})),e.default=n},720,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),(function(n){n[n.Unknown=0]="Unknown",n[n.User=1]="User",n[n.Bot=2]="Bot"})(n||(n={})),e.default=n},721,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.OK=200,t.Created=201,t.Accepted=202,t.NoContent=204,t.Unauthorized=401,t.Forbidden=403,t.Redirect=404,t.TooManyRequests=429,t.InternalServerError=500,t.ServiceUnavailable=503,t.NotFound=729,t})();e.default=t},722,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),(function(t){t.GET="get",t.POST="post",t.PUT="put",t.DELETE="delete"})(t||(t={})),e.default=t},723,[]);
__d(function(g,r,i,a,m,_e2,d){"use strict";Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.HttpClient=void 0;var e=(function(){function e(){}return e.MakeRequest=function(t){return new Promise(function(o,n){function s(n,s){if(s.status>=400){var u={ResponseText:s.statusText,Status:status};e.logWarning("Requesting "+t.url,s.status,u)}t.callbackOnSuccess&&t.callbackOnSuccess(s),o(n)}function u(o){var s,u,f,p,R,h,O,E,T,y,F={ErrorThrown:o.message,ResponseText:null===(s=o.response)||void 0===s?void 0:s.statusText,Status:null===(u=o.response)||void 0===u?void 0:u.status},S=function(){var s,u;e.logError("Request to "+t.url+" failed.",(null===(s=o.response)||void 0===s?void 0:s.status)||0,F),n(new Error((null===(u=o.response)||void 0===u?void 0:u.statusText)||""))},k=function(){var s;e.logError("Request to "+t.url+" failed. Resetting endpoint.",(null===(s=o.response)||void 0===s?void 0:s.status)||0,F),t.callbackOnFailure&&t.callbackOnFailure(o),n(new Error(r(d[0]).default.Reset_Flag))},q=function(){var e;l++;var n=t.timeBetweenRetry||0;(t.enableExponentialBackoff||(null===(e=o.response)||void 0===e?void 0:e.status)===r(d[1]).default.TooManyRequests)&&(n*=Math.exp(l)),setTimeout(function(){v()},n)},x=null===(f=o.response)||void 0===f?void 0:f.headers[r(d[2]).default.LocationHeader],C=null===(p=o.response)||void 0===p?void 0:p.headers[r(d[2]).default.SetRegistrationTokenHeader];(null===(R=o.response)||void 0===R?void 0:R.status)!==r(d[1]).default.Redirect||r(d[3]).default.isNullOrEmptyString(x)?(null===(h=o.response)||void 0===h?void 0:h.status)!==r(d[1]).default.Unauthorized&&(null===(O=o.response)||void 0===O?void 0:O.status)!==r(d[1]).default.Forbidden||r(d[3]).default.isNullOrEmptyString(C)?l<=c&&t.shouldRetryOnFailure&&t.shouldRetryOnFailure((null===(T=o.response)||void 0===T?void 0:T.status)||0)||(null===(y=o.response)||void 0===y?void 0:y.status)===r(d[1]).default.TooManyRequests?q():t.shouldResetOnFailure?k():S():l<=c&&t.shouldRetryOnFailure&&t.shouldRetryOnFailure((null===(E=o.response)||void 0===E?void 0:E.status)||0)?(t.headers&&(t.headers[r(d[2]).default.RegistrationTokenHeader]=r(d[3]).default.getRegistrationTokenValue(C)),q()):t.shouldResetOnFailure?k():S():t.shouldRedirectOn404?k():l<=c?(t.url=x,q()):S()}var l=0,c=t.retryCount||1,f={url:t.url,method:t.type,data:t.data,timeout:t.timeout,headers:t.headers,withCredentials:t.useXHRWithCredentials||!1},v=function(){r(d[4]).default.request(f).then(function(e){s(e.data,e)}).catch(function(e){u(e)})};v()})},e.isClientError=function(e){if(!e)return!1;var t=e.message,o=!1;return r(d[3]).default.isNullOrEmptyString(t)||(o=t.search(/Status- 40\d/)>=-1),o},e.setLogger=function(t){e.logger=t},e.logError=function(t,o,n){e.logger&&e.logger.log(r(d[5]).default.ERROR,r(d[6]).default.HTTPRequestFailed,{Description:t,ErrorCode:o.toString(),ExceptionDetails:n})},e.logWarning=function(t,o,n){e.logger&&e.logger.log(r(d[5]).default.INFO,r(d[6]).default.HTTPRequestUnusualResponse,{Description:t,ErrorCode:o.toString(),ExceptionDetails:n})},e})();_e2.HttpClient=e},724,[712,722,711,710,619,725,726]);
__d(function(g,r,i,a,m,e,d){"use strict";var R;Object.defineProperty(e,"__esModule",{value:!0}),(function(R){R.INFO="INFO",R.DEBUG="DEBUG",R.WARN="WARN",R.ERROR="ERROR"})(R||(R={})),e.default=R},725,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),(function(t){t.JoinConversation="JoinConversation",t.RegisterOnNewMessage="RegisterOnNewMessage",t.RegisterOnThreadUpdate="RegisterOnThreadUpdate",t.OnNewMessageFailure="OnNewMessageFailure",t.OnThreadUpdateFailure="OnThreadUpdateFailure",t.SendLiveStateFailure="SendLiveStateFailure",t.JoinConversationV1GetThreadRequestFailed="JoinConversationV1GetThreadRequestFailed",t.UpdateToken="UpdateToken",t.SyncingPollData="SyncingPollData",t.IC3InitializationBegins="IC3InitializationBegins",t.IC3StartedPolling="IC3StartedPolling",t.IC3StoppedPolling="IC3StoppedPolling",t.IC3EndpointCreationSuccess="IC3EndpointCreationSuccess",t.RedirectOnRequestCreationFailure="RedirectOnRequestCreationFailure",t.ResetOnRequestCreationFailure="ResetOnRequestCreationFailure",t.MaxRetryCountReachedForRedirect="MaxRetryCountReachedForRedirect",t.OnRequestCreationFailureRedirect="OnRequestCreationFailureRedirect",t.OnRequestCreationSuccessRedirect="OnRequestCreationSuccessRedirect",t.ErrorDuringPolling="ErrorDuringPolling",t.HTTPRequestFailed="HTTPRequestFailed",t.HTTPRequestUnusualResponse="HTTPRequestUnusualResponse"})(t||(t={})),e.default=t},726,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.Agent="Agent",t.MessageProperties="MessageProperties",t.InviteFree="InviteFree",t})();e.default=t},727,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=(function(){function s(){}return s.ConversationProperties="/v1/users/ME/conversations/ALL/properties",s.ConversationMessages="/v1/users/ME/conversations/ALL/messages",s.Threads="/v1/threads/ALL",s.Contacts="/v1/users/ME/contacts/ALL",s})();e.default=s},728,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=(function(){function s(){}return s.NewMessage="NewMessage",s.MessageUpdate="MessageUpdate",s.UserPresence="UserPresence",s.ConversationUpdate="ConversationUpdate",s.ThreadUpdate="ThreadUpdate",s})();e.default=s},729,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0});var e=(function(){function e(e){this.hostType=r(d[0]).default.Page,this.protocolType=r(d[1]).default.IC3V1SDK,this.id=e,this.conversations=[],this.newConversationMessageListeners={},this.threadUpdateListeners={},this.internalConversationsData={},this.liveStateFailureCount=0,this.debug=!1}return e.prototype.startPolling=function(){this.ic3Initializer&&this.ic3Initializer.startPolling()},e.prototype.stopPolling=function(){this.ic3Initializer&&this.ic3Initializer.stopPolling()},e.prototype.setup=function(e){return this.logger=e.logger,r(d[2]).HttpClient.setLogger(this.logger),Promise.resolve()},e.prototype.initialize=function(e){return this.setupSession(e),Promise.resolve()},e.prototype.update=function(e){return Promise.resolve()},e.prototype.dispose=function(){return this.conversations=[],this.newConversationMessageListeners={},this.threadUpdateListeners={},this.internalConversationsData={},Promise.resolve()},e.prototype.joinConversation=function(e,t){var n;void 0===t&&(t=!0);var s=r(d[3]).default.timer(),o={id:e};return-1===this.conversations.findIndex(function(e){return e.id===o.id})&&(this.conversations.push(o),this.newConversationMessageListeners[o.id]=this.newConversationMessageListeners[o.id]||[],this.threadUpdateListeners[o.id]=this.threadUpdateListeners[o.id]||[]),null===(n=this.logger)||void 0===n||n.log(r(d[4]).default.INFO,r(d[5]).default.JoinConversation,{ElapsedTimeInMilliseconds:s.milliSecondsElapsed,EndpointUrl:this.EndpointUrl,EndpointId:this.EndpointId}),r(d[3]).default.isNullOrUndefined(t)||!0!==t||this.sendHeartBeat(o.id),Promise.resolve(o)},e.prototype.sendLiveState=function(e){var t=this;this.debug&&console.debug("IC3Core/sendLiveState");var n=r(d[6]).default.LiveState,s=r(d[7]).default.Text,o=r(d[8]).default.createBaseMessageData(n,s,"");return this.sendMessageToIC3(e,o).then(function(){return t.liveStateFailureCount=0,Promise.resolve()}).catch(function(e){var n;t.liveStateFailureCount++,t.liveStateFailureCount>=r(d[9]).default.liveStateRetryCount&&(null===(n=t.logger)||void 0===n||n.log(r(d[4]).default.ERROR,r(d[5]).default.SendLiveStateFailure,{ExceptionDetails:e,EndpointUrl:t.EndpointUrl,EndpointId:t.EndpointId}),t.stopHeartBeat(),t.liveStateFailureCount=0)})},e.prototype.sendHeartBeat=function(e){this.heartBeatTimer||(this.debug&&console.debug("IC3Core/sendHeartBeat"),this.sendLiveState(e),this.heartBeatTimer=window.setInterval(this.sendLiveState.bind(this,e),r(d[9]).default.heartBeatDuration))},e.prototype.stopHeartBeat=function(){clearInterval(this.heartBeatTimer)},e.prototype.sendMessage=function(e,t){var n=r(d[8]).default.createMessageData(t);return this.sendMessageToIC3(e.id,n)},e.prototype.getMessages=function(e){var t=this,n=r(d[10]).default.getDefaultGetMessagesQueryParameters(),s=r(d[3]).default.addQueryParametersToPath(r(d[11]).default.getMessagesUrl(e.id,this.ic3Info.RegionGtms),n),o=r(d[10]).default.getDefaultIC3Headers();o[r(d[12]).default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,o[r(d[12]).default.ContentTypeHeader]=r(d[9]).default.ContentTypeJson;var l={enableExponentialBackoff:!0,headers:o,redirect404RetryCount:r(d[9]).default.retryCount,retryCount:r(d[9]).default.retryCount,shouldRedirectOn404:!1,shouldResetOnFailure:!1,shouldRetryOnFailure:r(d[8]).default.shouldRetryOnFailure,timeBetweenRetry:r(d[9]).default.timeBetweenOperationRetry,type:r(d[13]).default.GET,url:s};return r(d[2]).HttpClient.MakeRequest(l).then(function(e){for(var s=[],o=0,l=e.messages;o<l.length;o++){var u=l[o];r(d[8]).default.isSystemMessage(u)||s.push(r(d[8]).default.createIRawMessage(u,t.ic3Info))}return t.getAllMessagesFromBackwardLinkUrl(e._metadata.backwardLink,n.startTime,s)})},e.prototype.registerOnNewMessage=function(e,t){var n;return this.newConversationMessageListeners[e.id].push(t),null===(n=this.logger)||void 0===n||n.log(r(d[4]).default.INFO,r(d[5]).default.RegisterOnNewMessage,{EndpointUrl:this.EndpointUrl,EndpointId:this.EndpointId}),Promise.resolve()},e.prototype.registerOnThreadUpdate=function(e,t){var n;return this.threadUpdateListeners[e.id].push(t),null===(n=this.logger)||void 0===n||n.log(r(d[4]).default.INFO,r(d[5]).default.RegisterOnThreadUpdate,{EndpointUrl:this.EndpointUrl,EndpointId:this.EndpointId}),Promise.resolve()},e.prototype.disconnectFromConversation=function(e){return this.conversations.findIndex(function(t){return t.id===e.id}),delete this.internalConversationsData[e.id],this.ic3Info.visitor&&(this.stopHeartBeat(),this.stopPolling()),Promise.resolve()},e.prototype.sendFileData=function(e,t,n){var s=this;if(r(d[3]).default.isNullOrUndefined(n)&&(n=r(d[14]).default.AmsBasedFileSharing),t.size<=0)throw new Error("File size is lesser or equal to zero.");var o={fileSharingProtocolType:n,id:"",name:t.name,size:t.size,type:t.type,url:""};return new Promise(function(n,l){r(d[15]).default.createNewDocument(e.id,t,s.ic3Info).then(function(e){o.id=e.id;var u=r(d[8]).default.isDocumentTypeImage(t.type);o.url=r(d[11]).default.getAmsObjectContentUrl(e.id,s.ic3Info.RegionGtms,u),r(d[15]).default.uploadDocument(e.id,t,s.ic3Info).then(function(){n(o)}).catch(function(e){l(e)})}).catch(function(e){l(e)})})},e.prototype.sendFileMessage=function(e,t,n){return this.sendMessageToIC3(e.id,r(d[8]).default.createFileMessage(t,this.ic3Info,n))},e.prototype.downloadFileData=function(e,t){var n=this;return this.debug&&console.debug("IC3Core/IC3ClientAdapter/downloadFileData"),new Promise(function(e,s){var o=t.fileSharingProtocolType;r(d[3]).default.isNullOrUndefined(o)&&(o=r(d[14]).default.AmsBasedFileSharing),o===r(d[14]).default.AmsBasedFileSharing?r(d[15]).default.downloadDocument(t,n.ic3Info).then(function(t){e(t)}).catch(function(e){s(e)}):s("This Protocol is not implemented")})},e.prototype.getFileStatus=function(e,t){var n=this;return new Promise(function(e,s){var o=t.fileSharingProtocolType;r(d[3]).default.isNullOrUndefined(o)&&(o=r(d[14]).default.AmsBasedFileSharing),o===r(d[14]).default.AmsBasedFileSharing?r(d[15]).default.getFileStatus(t,n.ic3Info).then(function(t){e(t)}).catch(function(e){s("".concat(r(d[16]).default.Error," e"))}):s("This Protocol is not implemented")})},e.prototype.indicateTypingStatus=function(e,t,n){var s=r(d[8]).default.createTypingStatusThreadMessageData(t,n);return this.sendMessageToIC3(e.id,s)},e.prototype.sendMessageToBot=function(e,t,n){var s=r(d[8]).default.createBotMessageData(e.id,n),o=r(d[11]).default.getBotMessagesUrl(t,this.ic3Info.RegionGtms),l=r(d[10]).default.getDefaultIC3Headers();l[r(d[12]).default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,l[r(d[12]).default.ContentTypeHeader]=r(d[9]).default.ContentTypeTextPlain;var u={data:s,dataType:r(d[17]).default.TEXT,enableExponentialBackoff:!0,headers:l,redirect404RetryCount:r(d[9]).default.retryCount,retryCount:r(d[9]).default.retryCount,shouldRedirectOn404:!1,shouldResetOnFailure:!1,shouldRetryOnFailure:r(d[8]).default.shouldRetryOnFailure,timeBetweenRetry:r(d[9]).default.timeBetweenOperationRetry,type:r(d[13]).default.POST,url:o};return r(d[2]).HttpClient.MakeRequest(u)},e.prototype.getMembers=function(e){var t=this.internalConversationsData[e.id].members,n=[];return r(d[3]).default.isNullOrUndefinedOrEmptyArray(t)||t.forEach(function(e){var t={displayName:e.friendlyName,id:e.id,type:r(d[8]).default.getPersonType(e.id)};n.push(t)}),Promise.resolve(n)},e.prototype.sendMessageToIC3=function(e,t){var n=r(d[11]).default.getMessagesUrl(e,this.ic3Info.RegionGtms),s=r(d[10]).default.getDefaultIC3Headers();s[r(d[12]).default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,s[r(d[12]).default.ContentTypeHeader]=r(d[9]).default.ContentTypeJson;var o={data:JSON.stringify(t),enableExponentialBackoff:!0,headers:s,redirect404RetryCount:r(d[9]).default.retryCount,retryCount:r(d[9]).default.retryCount,shouldRedirectOn404:!1,shouldResetOnFailure:!1,shouldRetryOnFailure:r(d[8]).default.shouldRetryOnFailure,timeBetweenRetry:r(d[9]).default.timeBetweenOperationRetry,type:r(d[13]).default.POST,url:n};return r(d[2]).HttpClient.MakeRequest(o)},e.prototype.onNewMessage=function(e,t,n){var s,o=this,l=r(d[3]).default.timer();try{e&&(r(d[3]).default.isNullOrUndefined(this.newConversationMessageListeners[e.id])||r(d[8]).default.isSystemMessage(t)||this.newConversationMessageListeners[e.id].forEach(function(e){e(r(d[8]).default.createIRawMessage(t,o.ic3Info,n))}))}catch(e){var u=l.milliSecondsElapsed;return void(null===(s=this.logger)||void 0===s||s.log(r(d[4]).default.ERROR,r(d[5]).default.OnNewMessageFailure,{ExceptionDetails:e,ElapsedTimeInMilliseconds:u,EndpointUrl:this.EndpointUrl,EndpointId:this.EndpointId}))}},e.prototype.onThreadUpdate=function(e,t){var n,s=r(d[3]).default.timer();try{e&&(r(d[3]).default.isNullOrUndefined(this.threadUpdateListeners[e.id])||this.threadUpdateListeners[e.id].forEach(function(e){e(r(d[8]).default.createIRawThread(t))}))}catch(e){var o=s.milliSecondsElapsed;return void(null===(n=this.logger)||void 0===n||n.log(r(d[4]).default.ERROR,r(d[5]).default.OnThreadUpdateFailure,{ExceptionDetails:e,ElapsedTimeInMilliseconds:o,EndpointUrl:this.EndpointUrl,EndpointId:this.EndpointId}))}},e.prototype.getAllMessagesFromBackwardLinkUrl=function(e,t,n){var s=this;return r(d[3]).default.isNullOrEmptyString(e)?Promise.resolve(n):this.getMessagesFromBackwardLinkUrl(e,t).then(function(e){for(var o=0,l=e.messages;o<l.length;o++){var u=l[o];r(d[8]).default.isSystemMessage(u)||n.push(r(d[8]).default.createIRawMessage(u,s.ic3Info))}return s.getAllMessagesFromBackwardLinkUrl(e._metadata.backwardLink,t,n)})},e.prototype.getMessagesFromBackwardLinkUrl=function(e,t){var n={startTime:t},s=r(d[3]).default.addQueryParametersToPath(e,n),o=r(d[10]).default.getDefaultIC3Headers();o[r(d[12]).default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,o[r(d[12]).default.ContentTypeHeader]=r(d[9]).default.ContentTypeJson;var l={enableExponentialBackoff:!0,headers:o,redirect404RetryCount:r(d[9]).default.retryCount,retryCount:r(d[9]).default.retryCount,shouldRedirectOn404:!1,shouldResetOnFailure:!1,shouldRetryOnFailure:r(d[8]).default.shouldRetryOnFailure,timeBetweenRetry:r(d[9]).default.timeBetweenOperationRetry,type:r(d[13]).default.GET,url:s};return r(d[2]).HttpClient.MakeRequest(l)},e.prototype.setupSession=function(e){this.ic3Info={SkypeToken:e.token,RegionGtms:e.regionGtms,visitor:e.visitor},r(d[3]).default.isNullOrUndefined(this.ic3Info)||(this.EndpointId=this.ic3Info.endpointId,this.EndpointUrl=this.ic3Info.RegionGtms?this.ic3Info.RegionGtms.chatService:"")},e.prototype.setDebug=function(e){void 0===e&&(e=!1),this.debug=e},e})();_e.default=e},730,[703,706,724,710,725,726,718,717,716,712,714,709,711,723,720,731,733,734]);
__d(function(_g,r,i,a,m,_e,d){"use strict";var e=this&&this.__awaiter||function(e,t,n,u){return new(n||(n=Promise))(function(o,s){function c(e){try{f(u.next(e))}catch(e){s(e)}}function l(e){try{f(u.throw(e))}catch(e){s(e)}}function f(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(c,l)}f((u=u.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,u,o,s,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(e){return function(t){return f([e,t])}}function f(l){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(c=0)),c;)try{if(n=1,u&&(o=2&l[0]?u.return:l[0]?u.throw||((o=u.return)&&o.call(u),0):u.next)&&!(o=o.call(u,l[1])).done)return o;switch(u=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return c.label++,{value:l[1],done:!1};case 5:c.label++,u=l[1],l=[0];continue;case 7:l=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){c=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){c.label=l[1];break}if(6===l[0]&&c.label<o[1]){c.label=o[1],o=l;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(l);break}o[2]&&c.ops.pop(),c.trys.pop();continue}l=t.call(e,c)}catch(e){l=[6,e],u=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(_e,"__esModule",{value:!0});var n=(function(){function n(){}return n.getDocumentTypeFromContentType=function(e){return r(d[0]).default.isDocumentTypeImage(e)?r(d[1]).default.DocumentTypeImage:r(d[1]).default.DocumentTypeFile},n.createNewDocument=function(u,o,s){return e(this,void 0,void 0,function(){var e,c,l,f,p,h;return t(this,function(t){return(h={})[u]=[r(d[2]).default[r(d[2]).default.read]],e=h,c={filename:o.name,permissions:e,type:n.getDocumentTypeFromContentType(o.type)},l=r(d[3]).default.getAmsObjectsUrl(s.RegionGtms),(f=r(d[4]).default.getDefaultAMSHeaders(s.SkypeToken))[r(d[5]).default.ContentTypeHeader]=r(d[1]).default.ContentTypeJson,p={data:JSON.stringify(c),headers:f,type:r(d[6]).default.POST,url:l},[2,r(d[7]).HttpClient.MakeRequest(p)]})})},n.uploadDocument=function(n,u,o){return e(this,void 0,void 0,function(){var e,s,c,l;return t(this,function(t){return console.log("AmsHelper.ts uploadDocument(): ".concat(n,", ").concat(u,", ").concat(o)),e=r(d[0]).default.isDocumentTypeImage(u.type),s=r(d[3]).default.getAmsObjectContentUrl(n,o.RegionGtms,e),c=r(d[4]).default.getDefaultAMSHeaders(o.SkypeToken),l={data:u.data,headers:c,processData:!1,type:r(d[6]).default.PUT,url:s},[2,r(d[7]).HttpClient.MakeRequest(l)]})})},n.getFileStatus=function(e,t){var n=r(d[0]).default.isImageType(e.type),u=r(d[3]).default.getAmsStatusUrl(e.id,t.RegionGtms,n);return this.getViewStatus(u,t).then(function(e){return e.scan&&e.scan.status===r(d[1]).default.Malware?r(d[8]).default.Error:e.view_state===r(d[1]).default.Ready?r(d[8]).default.Success:e.scan&&e.scan.status===r(d[1]).default.InProgress?r(d[8]).default.InProgress:e.view_state&&e.view_state!==r(d[1]).default.Failed?r(d[8]).default.InProgress:r(d[8]).default.Error}).catch(function(){return Promise.reject({})})},n.downloadDocument=function(e,t){var n=this,u=r(d[0]).default.isImageType(e.type),o=r(d[3]).default.getAmsStatusUrl(e.id,t.RegionGtms,u);return new Promise(function(e){n.getViewUri(o,t).then(function(n){var o=new Headers;o.append("Authorization","skype_token "+t.SkypeToken),o.append("X-MS-Client-Version",r(d[1]).default.ClientVersion),u&&(o.append("accept",r(d[1]).default.AMSAcceptHeaderValue),o.append("Accept-Encoding",r(d[1]).default.AMSAcceptEncodingHeaderValue));var s={headers:o,method:r(d[6]).default.GET};return fetch(n,s).then(function(t){e(t.blob())}).catch(function(){return Promise.reject({})})})})},n.getViewUri=function(e,t){var n=this;return this.getViewStatus(e,t).then(function(u){var o=u.scan&&u.scan.status===r(d[1]).default.Malware;return!u.view_location||u.view_state===r(d[1]).default.Failed||o?Promise.reject({}):u.view_state&&u.view_state!==r(d[1]).default.Ready?n.getViewUri(e,t):u.content_state===r(d[1]).default.Expired?Promise.reject({}):Promise.resolve(u.view_location)}).catch(function(){return Promise.reject("")})},n.getViewStatus=function(e,t){var n=this;return console.log("AmsHelper.ts getViewStatus(): ".concat(e,", ").concat(t)),new Promise(function(e){setTimeout(e,r(d[1]).default.DelayForAms)}).then(function(){var u={headers:r(d[4]).default.getDefaultAMSViewHeaders(t.SkypeToken),type:r(d[6]).default.GET,url:e};return r(d[7]).HttpClient.MakeRequest(u).then(function(e){return e.status_location&&!e.view_state?n.getViewStatus(e.status_location,t):Promise.resolve(e)}).catch(function(e){return 401===e.status||403===e.status?Promise.reject("unauthorized"):Promise.reject({})})})},n})();_e.default=n},731,[716,712,732,709,714,711,723,724,733]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.read="read",t})();e.default=t},732,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),(function(n){n[n.Unknown=0]="Unknown",n[n.InProgress=1]="InProgress",n[n.Success=2]="Success",n[n.Error=3]="Error"})(n||(n={})),e.default=n},733,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.TEXT="text",t})();e.default=t},734,[]);
__d(function(_g,r,i,a,m,_e,d){"use strict";var e=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(s,u){function l(e){try{f(o.next(e))}catch(e){u(e)}}function c(e){try{f(o.throw(e))}catch(e){u(e)}}function f(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(l,c)}f((o=o.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,o,s,u,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function c(e){return function(t){return f([e,t])}}function f(c){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(l=0)),l;)try{if(n=1,o&&(s=2&c[0]?o.return:c[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,c[1])).done)return s;switch(o=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return l.label++,{value:c[1],done:!1};case 5:l.label++,o=c[1],c=[0];continue;case 7:c=l.ops.pop(),l.trys.pop();continue;default:if(!(s=(s=l.trys).length>0&&s[s.length-1])&&(6===c[0]||2===c[0])){l=0;continue}if(3===c[0]&&(!s||c[1]>s[0]&&c[1]<s[3])){l.label=c[1];break}if(6===c[0]&&l.label<s[1]){l.label=s[1],s=c;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(c);break}s[2]&&l.ops.pop(),l.trys.pop();continue}c=t.call(e,l)}catch(e){c=[6,e],o=0}finally{n=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(_e,"__esModule",{value:!0});var n=(function(){function n(e){this.hostType=r(d[0]).default.Page,this.id=(0,r(d[1]).uuidv4)(),this.protocolType=e,this.newConversationMessageListeners={},this.threadUpdateListeners={},this.debug=!1}return n.prototype.setDebug=function(e){this.debug=e},n.prototype.joinConversation=function(e,t){var n=this;return this.onJoinConversation(e,t).then(function(e){return{disconnect:n.disconnectFromConversation.bind(n,e),downloadFile:n.downloadFile.bind(n,e),getFileStatus:n.getFileStatus.bind(n,e),getMembers:n.getMembers.bind(n,e),getMessages:n.getMessages.bind(n,e),id:e.id,indicateTypingStatus:n.indicateTypingStatus.bind(n,e),registerOnNewMessage:n.registerOnNewMessage.bind(n,e),registerOnThreadUpdate:n.registerOnThreadUpdate.bind(n,e),sendFileMessage:n.sendFileMessage.bind(n,e),sendMessage:n.sendMessage.bind(n,e),sendMessageToBot:n.sendMessageToBot.bind(n,e),uploadFile:n.uploadFile.bind(n,e),sendFileData:n.sendFileData.bind(n,e)}})},n.prototype.registerOnNewMessage=function(n,o){return e(this,void 0,void 0,function(){return t(this,function(e){return[2,Promise.resolve()]})})},n.prototype.registerOnThreadUpdate=function(n,o){return e(this,void 0,void 0,function(){return t(this,function(e){return[2,Promise.resolve()]})})},n.prototype.uploadFile=function(e,t,n){return Promise.resolve()},n.prototype.downloadFile=function(e,t){return this.debug&&console.debug("IC3Core/ClientBridge/downloadFile"),this.downloadFileData(e,t).then(function(e){var t=e;if(t&&t.size)return t;var n=new Blob([new Uint8Array(e)]);return!n||0===n.size&&""===n.type?e:n})},n})();_e.default=n},735,[703,715]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(t,n){this.sdk=t,this.logger=n}return t.prototype.log=function(t,n,o){if(this.isLoggingEnabled()){var l=r(d[0]).default.getTelemetryEventData(this.sdk,n,o);this.logEvent(t,l)}},t.prototype.logEvent=function(t,n){this.isLoggingEnabled()&&setTimeout(this.logger.logClientSdkTelemetryEvent.bind(this.logger),0,t,n)},t.prototype.isLoggingEnabled=function(){return!r(d[1]).default.isNullOrUndefined(this.logger)},t})();e.default=t},736,[737,710]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(function(){function n(){}return n.getTelemetryEventData=function(n,t,o){return{Description:o.Description,ElapsedTimeInMilliseconds:o.ElapsedTimeInMilliseconds,EndpointUrl:o.EndpointUrl,EndpointId:o.EndpointId,ErrorCode:o.ErrorCode,Event:t,ExceptionDetails:o.ExceptionDetails,ShouldBubbleToHost:o.ShouldBubbleToHost,SubscriptionId:n.id}},n})();e.default=n},737,[]);
__d(function(e,t,i,n,s,a,r){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},h=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(s,a){function r(e){try{h(n.next(e))}catch(e){a(e)}}function o(e){try{h(n.throw(e))}catch(e){a(e)}}function h(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,o)}h((n=n.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var i,n,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},r=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return r.next=o(0),r.throw=o(1),r.return=o(2),"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(e){return function(t){return h([e,t])}}function h(o){if(i)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(a=0)),a;)try{if(i=1,n&&(s=2&o[0]?n.return:o[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,o[1])).done)return s;switch(n=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(s=(s=a.trys).length>0&&s[s.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){a.label=o[1];break}if(6===o[0]&&a.label<s[1]){a.label=s[1],s=o;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(o);break}s[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{i=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},l=this&&this.__spreadArray||function(e,t,i){if(i||2===arguments.length)for(var n,s=0,a=t.length;s<a;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(a,"__esModule",{value:!0});var d=(function(){function e(e,i){void 0===i&&(i=t(r[0]).defaultChatSDKConfig);var n,s,a,h,c,l,d,u=this;this.ACSClient=null,this.AMSClient=null,this.sessionId=null,this.unqServicesOrgUrl=null,this.coreServicesOrgUrl=null,this.dynamicsLocationCode=null,this.dataMaskingRules={rules:[]},this.authSettings=null,this.authenticatedUserToken=null,this.conversation=null,this.callingOption=t(r[1]).default.NoCalling,this.telemetry=null,this.ic3ClientLogger=null,this.ocSdkLogger=null,this.acsClientLogger=null,this.acsAdapterLogger=null,this.callingSdkLogger=null,this.amsClientLogger=null,this.isPersistentChat=!1,this.isChatReconnect=!1,this.reconnectId=null,this.refreshTokenTimer=null,this.AMSClientLoadCurrentState=t(r[2]).AMSClientLoadStates.NOT_LOADED,this.isMaskingDisabled=!1,this.maskingCharacter="#",this.populateInitChatOptionalParam=function(e,i,n){if(e.initContext.locale=(0,t(r[3]).getLocaleStringFromId)(u.localeId),null==i?void 0:i.customContext){var s=null==i?void 0:i.customContext;if("object"==typeof s)for(var a in s)null!==s[a].value&&void 0!==s[a].value&&""!==s[a].value||delete s[a];e.initContext.customContextData=null==i?void 0:i.customContext}if(i.browser&&(e.initContext.browser=i.browser),i.os&&(e.initContext.os=i.os),i.locale&&(e.initContext.locale=i.locale),i.device&&(e.initContext.device=i.device),i.preChatResponse&&(e.initContext.preChatResponse=i.preChatResponse),i.portalContactId&&(e.initContext.portalcontactid=i.portalContactId),i.sendDefaultInitContext){if(t(r[4]).default.isNode()||t(r[4]).default.isReactNative()){var o={RequestId:u.requestId,ChatId:u.chatToken.chatId};t(r[5]).default.throwUnsupportedPlatform(u.scenarioMarker,n,"sendDefaultInitContext is only supported on browser",o)}e.getContext=!0}return i.initContext&&(e.initContext=i.initContext),u.authenticatedUserToken&&(e.authenticatedUserToken=u.authenticatedUserToken),u.chatToken.chatId&&(e.initContext.chatId=u.chatToken.chatId),e},this.debug=!1,this.runtimeId=(0,t(r[6]).getRuntimeId)(null!==(s=null===(n=null==i?void 0:i.telemetry)||void 0===n?void 0:n.runtimeId)&&void 0!==s?s:null),this.omnichannelConfig=e,this.chatSDKConfig=o(o({},t(r[0]).defaultChatSDKConfig),i),this.isInitialized=!1,this.liveChatVersion=t(r[7]).default.V2,this.localeId=t(r[3]).defaultLocaleId,this.requestId=(0,t(r[8]).uuidv4)(),this.chatToken={},this.liveChatConfig={},this.authSettings=null,this.preChatSurvey=null,this.telemetry=(0,t(r[9]).default)(this.debug),this.scenarioMarker=new(t(r[10]).default)(this.omnichannelConfig),this.ic3ClientLogger=(0,t(r[11]).createIC3ClientLogger)(this.omnichannelConfig),this.ocSdkLogger=(0,t(r[11]).createOCSDKLogger)(this.omnichannelConfig),this.acsClientLogger=(0,t(r[11]).createACSClientLogger)(this.omnichannelConfig),this.acsAdapterLogger=(0,t(r[11]).createACSAdapterLogger)(this.omnichannelConfig),this.callingSdkLogger=(0,t(r[11]).createCallingSDKLogger)(this.omnichannelConfig),this.amsClientLogger=(0,t(r[11]).createAMSClientLogger)(this.omnichannelConfig),this.scenarioMarker.useTelemetry(this.telemetry),t(r[12]).default.useTelemetry(this.telemetry,this.ocSdkLogger,this.acsClientLogger,this.acsAdapterLogger,this.callingSdkLogger,this.amsClientLogger,this.ic3ClientLogger),this.scenarioMarker.setRuntimeId(this.runtimeId),t(r[12]).default.setRuntimeId(this.runtimeId,this.ocSdkLogger,this.acsClientLogger,this.acsAdapterLogger,this.callingSdkLogger,this.amsClientLogger,this.ic3ClientLogger),(0,t(r[13]).default)(e),(0,t(r[0]).default)(i),(null===(a=this.chatSDKConfig.telemetry)||void 0===a?void 0:a.disable)&&(null===(h=this.telemetry)||void 0===h||h.disable());var C=(0,t(r[14]).default)(this.omnichannelConfig.orgUrl);(null===(c=this.chatSDKConfig.telemetry)||void 0===c?void 0:c.ariaCollectorUri)?this.telemetry.setCollectorUri(null===(l=this.chatSDKConfig.telemetry)||void 0===l?void 0:l.ariaCollectorUri):this.telemetry.setCollectorUri(C),(null===(d=this.chatSDKConfig.telemetry)||void 0===d?void 0:d.ariaTelemetryKey)&&this.telemetry.initialize(this.chatSDKConfig.telemetry.ariaTelemetryKey),this.chatSDKConfig.dataMasking&&(this.isMaskingDisabled=this.chatSDKConfig.dataMasking.disable,this.maskingCharacter=this.chatSDKConfig.dataMasking.maskingCharacter),t(r[12]).default.setRequestId(this.requestId,this.ocSdkLogger,this.acsClientLogger,this.acsAdapterLogger,this.callingSdkLogger,this.amsClientLogger,this.ic3ClientLogger)}return e.prototype.setDebug=function(e){var i;this.debug=e,this.getAMSClient().then(function(t){return null==t?void 0:t.setDebug(e)}),null===(i=this.telemetry)||void 0===i||i.setDebug(e),this.scenarioMarker.setDebug(e),t(r[12]).default.setDebug(e,this.ocSdkLogger,this.acsClientLogger,this.acsAdapterLogger,this.callingSdkLogger,this.amsClientLogger,this.ic3ClientLogger)},e.prototype.retryLoadAMSClient=function(){return h(this,void 0,void 0,function(){var e,i,n;return c(this,function(s){switch(s.label){case 0:e=1e3,i=5,n=0,s.label=1;case 1:return n<i?this.AMSClient?[2,this.AMSClient]:[4,(0,t(r[15]).sleep)(e)]:[3,3];case 2:return s.sent(),n++,[3,1];case 3:return[2,null]}})})},e.prototype.getAMSClient=function(){return h(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:if(this.AMSClientLoadCurrentState===t(r[2]).AMSClientLoadStates.NOT_LOADED&&this.liveChatVersion===t(r[7]).default.V1)return[2,null];switch(this.AMSClientLoadCurrentState){case t(r[2]).AMSClientLoadStates.LOADED:return[3,1];case t(r[2]).AMSClientLoadStates.LOADING:return[3,2];case t(r[2]).AMSClientLoadStates.ERROR:case t(r[2]).AMSClientLoadStates.NOT_LOADED:return[3,4]}return[3,6];case 1:return[2,this.AMSClient];case 2:return[4,this.retryLoadAMSClient()];case 3:return[2,e.sent()];case 4:return[4,this.loadAmsClient()];case 5:return e.sent(),[2,this.AMSClient];case 6:return[2,null]}})})},e.prototype.loadInitComponents=function(){return h(this,void 0,void 0,function(){return c(this,function(e){return this.scenarioMarker.startScenario(t(r[16]).default.InitializeComponents),[t(r[7]).default.V1,t(r[7]).default.V2].includes(this.liveChatVersion)||t(r[5]).default.throwUnsupportedLiveChatVersionFailure(new Error(t(r[17]).ChatSDKErrorName.UnsupportedLiveChatVersion),this.scenarioMarker,t(r[16]).default.InitializeComponents),this.isInitialized=!0,this.scenarioMarker.completeScenario(t(r[16]).default.InitializeComponents),[2]})})},e.prototype.loadAmsClient=function(){return h(this,void 0,void 0,function(){var e,i,n;return c(this,function(s){switch(s.label){case 0:this.scenarioMarker.startScenario(t(r[16]).default.InitializeMessagingClient),s.label=1;case 1:return s.trys.push([1,6,,7]),this.liveChatVersion!==t(r[7]).default.V2?[3,3]:(this.ACSClient=new(t(r[18]).default)(this.acsClientLogger),this.AMSClientLoadCurrentState=t(r[2]).AMSClientLoadStates.LOADING,e=this,[4,(0,t(r[19]).default)({framedMode:(0,t(r[4]).isBrowser)(),multiClient:!0,debug:!1,logger:this.amsClientLogger})]);case 2:return e.AMSClient=s.sent(),this.AMSClientLoadCurrentState=t(r[2]).AMSClientLoadStates.LOADED,[3,5];case 3:return this.liveChatVersion!==t(r[7]).default.V1?[3,5]:(i=this,[4,this.getIC3Client()]);case 4:i.IC3Client=s.sent(),s.label=5;case 5:return this.scenarioMarker.completeScenario(t(r[16]).default.InitializeMessagingClient),[3,7];case 6:return n=s.sent(),this.AMSClientLoadCurrentState=t(r[2]).AMSClientLoadStates.ERROR,t(r[5]).default.throwMessagingClientCreationFailure(n,this.scenarioMarker,t(r[16]).default.InitializeMessagingClient),[3,7];case 7:return[2]}})})},e.prototype.parallelInitialization=function(){return h(this,arguments,void 0,function(e){var i;return void 0===e&&(e={}),c(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.scenarioMarker.startScenario(t(r[16]).default.InitializeChatSDKParallel),this.isInitialized?(this.scenarioMarker.completeScenario(t(r[16]).default.InitializeChatSDKParallel),[2,this.liveChatConfig]):(this.useCoreServicesOrgUrlIfNotSet(),[4,Promise.all([this.loadInitComponents(),this.loadChatConfig(e)])]);case 1:return n.sent(),this.loadAmsClient(),this.isInitialized=!0,this.scenarioMarker.completeScenario(t(r[16]).default.InitializeChatSDKParallel),[3,3];case 2:throw i=n.sent(),this.scenarioMarker.failScenario(t(r[16]).default.InitializeChatSDKParallel),i;case 3:return[2,this.liveChatConfig]}})})},e.prototype.sequentialInitialization=function(){return h(this,arguments,void 0,function(e){var i,n,s,a,o,h,l,d,u;return void 0===e&&(e={}),c(this,function(c){switch(c.label){case 0:if(this.scenarioMarker.startScenario(t(r[16]).default.InitializeChatSDK),this.isInitialized)return this.scenarioMarker.completeScenario(t(r[16]).default.InitializeChatSDK),[2,this.liveChatConfig];this.useCoreServicesOrgUrlIfNotSet(),i=(0,t(r[20]).isCoreServicesOrgUrl)(this.omnichannelConfig.orgUrl),c.label=1;case 1:return c.trys.push([1,3,,4]),this.OCSDKProvider=t(r[8]).SDKProvider,n=this,[4,t(r[8]).SDKProvider.getSDK(this.omnichannelConfig,(0,t(r[21]).default)(i),this.ocSdkLogger)];case 2:return n.OCClient=c.sent(),(0,t(r[22]).default)(this.OCClient,null===(u=this.chatSDKConfig)||void 0===u?void 0:u.ocUserAgent),[3,4];case 3:return s=c.sent(),t(r[5]).default.throwOmnichannelClientInitializationFailure(s,this.scenarioMarker,t(r[16]).default.InitializeChatSDK),[3,4];case 4:return c.trys.push([4,6,,7]),a=e.getLiveChatConfigOptionalParams,[4,this.getChatConfig(a||{})];case 5:return c.sent(),[3,7];case 6:return o=c.sent(),t(r[5]).default.throwChatConfigRetrievalFailure(o,this.scenarioMarker,t(r[16]).default.InitializeChatSDK),[3,7];case 7:[t(r[7]).default.V1,t(r[7]).default.V2].includes(this.liveChatVersion)||t(r[5]).default.throwUnsupportedLiveChatVersionFailure(new Error(t(r[17]).ChatSDKErrorName.UnsupportedLiveChatVersion),this.scenarioMarker,t(r[16]).default.InitializeChatSDK),c.label=8;case 8:return c.trys.push([8,13,,14]),this.liveChatVersion!==t(r[7]).default.V2?[3,10]:(this.ACSClient=new(t(r[18]).default)(this.acsClientLogger),h=this,[4,(0,t(r[19]).default)({framedMode:(0,t(r[4]).isBrowser)(),multiClient:!0,debug:!1,logger:this.amsClientLogger})]);case 9:return h.AMSClient=c.sent(),this.AMSClientLoadCurrentState=t(r[2]).AMSClientLoadStates.LOADED,[3,12];case 10:return this.liveChatVersion!==t(r[7]).default.V1?[3,12]:(l=this,[4,this.getIC3Client()]);case 11:l.IC3Client=c.sent(),c.label=12;case 12:return this.isInitialized=!0,this.scenarioMarker.completeScenario(t(r[16]).default.InitializeChatSDK),[3,14];case 13:return d=c.sent(),this.AMSClientLoadCurrentState=t(r[2]).AMSClientLoadStates.ERROR,t(r[5]).default.throwMessagingClientCreationFailure(d,this.scenarioMarker,t(r[16]).default.InitializeChatSDK),[3,14];case 14:return[2,this.liveChatConfig]}})})},e.prototype.initialize=function(){return h(this,arguments,void 0,function(e){return void 0===e&&(e={}),c(this,function(t){switch(t.label){case 0:return!0!==e.useParallelLoad?[3,2]:[4,this.parallelInitialization(e)];case 1:return[2,t.sent()];case 2:return[4,this.sequentialInitialization(e)];case 3:return[2,t.sent()]}})})},e.prototype.loadChatConfig=function(){return h(this,arguments,void 0,function(e){var i,n,s,a;return void 0===e&&(e={}),c(this,function(o){switch(o.label){case 0:this.scenarioMarker.startScenario(t(r[16]).default.InitializeLoadChatConfig),i=(0,t(r[20]).isCoreServicesOrgUrl)(this.omnichannelConfig.orgUrl);try{this.OCSDKProvider=t(r[8]).SDKProvider,this.OCClient=t(r[8]).SDKProvider.getSDK(this.omnichannelConfig,(0,t(r[21]).default)(i),this.ocSdkLogger),(0,t(r[22]).default)(this.OCClient,null===(a=this.chatSDKConfig)||void 0===a?void 0:a.ocUserAgent)}catch(e){t(r[5]).default.throwOmnichannelClientInitializationFailure(e,this.scenarioMarker,t(r[16]).default.InitializeLoadChatConfig)}o.label=1;case 1:return o.trys.push([1,3,,4]),n=e.getLiveChatConfigOptionalParams,[4,this.getChatConfig(n||{})];case 2:return o.sent(),[3,4];case 3:return s=o.sent(),t(r[5]).default.throwChatConfigRetrievalFailure(s,this.scenarioMarker,t(r[16]).default.InitializeLoadChatConfig),[3,4];case 4:return this.scenarioMarker.completeScenario(t(r[16]).default.InitializeLoadChatConfig),[2]}})})},e.prototype.getChatReconnectContextWithAuthToken=function(){return h(this,void 0,void 0,function(){var e,i,n,s,a,o;return c(this,function(h){switch(h.label){case 0:this.scenarioMarker.startScenario(t(r[16]).default.GetChatReconnectContextWithAuthToken,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),e={reconnectId:null,redirectURL:null},h.label=1;case 1:return h.trys.push([1,3,,4]),i={authenticatedUserToken:this.authenticatedUserToken,requestId:this.requestId},[4,this.OCClient.getReconnectableChats(i)];case 2:return(n=h.sent())&&n.reconnectid&&(e.reconnectId=n.reconnectid),this.scenarioMarker.completeScenario(t(r[16]).default.GetChatReconnectContextWithAuthToken,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,4];case 3:return s=h.sent(),a={response:"OCClientGetReconnectableChatsFailed"},o={RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify(a)},(0,t(r[6]).isClientIdNotFoundErrorMessage)(s)&&t(r[5]).default.throwAuthContactIdNotFoundFailure(s,this.scenarioMarker,t(r[16]).default.GetChatReconnectContextWithAuthToken,o),this.scenarioMarker.failScenario(t(r[16]).default.GetChatReconnectContextWithAuthToken,o),console.error("OmnichannelChatSDK/GetChatReconnectContextWithAuthToken/error ".concat(s)),[3,4];case 4:return[2,e]}})})},e.prototype.getChatReconnectContextWithReconnectId=function(){return h(this,arguments,void 0,function(e){var i,n,s,a;return void 0===e&&(e={}),c(this,function(o){switch(o.label){case 0:if(this.scenarioMarker.startScenario(t(r[16]).default.GetChatReconnectContextWithReconnectId,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),i={reconnectId:null,redirectURL:null},!e.reconnectId)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.OCClient.getReconnectAvailability(e.reconnectId)];case 2:return(n=o.sent())&&!n.isReconnectAvailable?n.reconnectRedirectionURL&&(i.redirectURL=n.reconnectRedirectionURL):i.reconnectId=e.reconnectId,this.scenarioMarker.completeScenario(t(r[16]).default.GetChatReconnectContextWithReconnectId,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,4];case 3:return s=o.sent(),a={response:"OCClientGetReconnectAvailabilityFailed"},this.scenarioMarker.failScenario(t(r[16]).default.GetChatReconnectContextWithReconnectId,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify(a)}),console.error("OmnichannelChatSDK/GetChatReconnectContextWithReconnectId/error ".concat(s)),[3,4];case 4:return[2,i]}})})},e.prototype.getChatReconnectContext=function(){return h(this,arguments,void 0,function(e){var i;return void 0===e&&(e={}),c(this,function(n){switch(n.label){case 0:return this.scenarioMarker.startScenario(t(r[16]).default.GetChatReconnectContext,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),i={reconnectId:null,redirectURL:null},[4,this.getChatReconnectContextWithReconnectId(e)];case 1:return(i=n.sent()).redirectURL&&i.redirectURL.length>0?[2,i]:this.authenticatedUserToken?[4,this.getChatReconnectContextWithAuthToken()]:[3,3];case 2:i=n.sent(),n.label=3;case 3:return this.scenarioMarker.completeScenario(t(r[16]).default.GetChatReconnectContext,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[2,i]}})})},e.prototype.startChat=function(){return h(this,arguments,void 0,function(e){var i,n,s,a,o,l,d,u,C,f,g,v,I,p,S,k,m,y,T,M,q=this;return void 0===e&&(e={}),c(this,function(b){switch(b.label){case 0:return this.scenarioMarker.startScenario(t(r[16]).default.StartChat,{RequestId:this.requestId}),this.isInitialized||t(r[5]).default.throwUninitializedChatSDK(this.scenarioMarker,t(r[16]).default.StartChat),!t(r[4]).default.isNode()&&!t(r[4]).default.isReactNative()&&!this.IC3Client&&this.liveChatVersion===t(r[7]).default.V1?(i=this,[4,this.getIC3Client()]):[3,2];case 1:i.IC3Client=b.sent(),b.label=2;case 2:if(this.isChatReconnect&&!(null===(I=this.chatSDKConfig.chatReconnect)||void 0===I?void 0:I.disable)&&!this.isPersistentChat&&e.reconnectId&&(this.reconnectId=e.reconnectId),!this.isPersistentChat||(null===(p=this.chatSDKConfig.persistentChat)||void 0===p?void 0:p.disable))return[3,6];b.label=3;case 3:return b.trys.push([3,5,,6]),n={authenticatedUserToken:this.authenticatedUserToken,requestId:this.requestId},[4,this.OCClient.getReconnectableChats(n)];case 4:return(s=b.sent())&&s.reconnectid&&(this.reconnectId=s.reconnectid),[3,6];case 5:return a=b.sent(),d={RequestId:this.requestId,ChatId:this.chatToken.chatId},t(r[5]).default.throwPersistentChatConversationRetrievalFailure(a,this.scenarioMarker,t(r[16]).default.StartChat,d),[3,6];case 6:return e.liveChatContext&&Object.keys(e.liveChatContext).length>0&&!this.reconnectId?(this.chatToken=e.liveChatContext.chatToken||{},this.requestId=e.liveChatContext.requestId||(0,t(r[8]).uuidv4)(),this.sessionId=e.liveChatContext.sessionId||null,[4,this.getConversationDetails()]):[3,8];case 7:o=b.sent(),0===Object.keys(o).length&&(d={RequestId:this.requestId,ChatId:this.chatToken.chatId},t(r[5]).default.throwInvalidConversation(this.scenarioMarker,t(r[16]).default.StartChat,d)),o.state!==t(r[23]).default.WrapUp&&o.state!==t(r[23]).default.Closed||(console.error("Unable to join conversation that's in '".concat(o.state,"' state")),d={RequestId:this.requestId,ChatId:this.chatToken.chatId},t(r[5]).default.throwClosedConversation(this.scenarioMarker,t(r[16]).default.StartChat,d)),b.label=8;case 8:return this.authSettings?this.authenticatedUserToken?[3,10]:[4,this.setAuthTokenProvider(this.chatSDKConfig.getAuthToken,{throwError:!0})]:[3,14];case 9:b.sent(),b.label=10;case 10:if(!(e.liveChatContext&&Object.keys(e.liveChatContext).length>0))return[3,14];this.chatToken=e.liveChatContext.chatToken||{},this.requestId=e.liveChatContext.requestId||(0,t(r[8]).uuidv4)(),b.label=11;case 11:return b.trys.push([11,13,,14]),[4,this.OCClient.validateAuthChatRecord(this.requestId,{authenticatedUserToken:this.authenticatedUserToken,chatId:this.chatToken.chatId})];case 12:return b.sent(),[3,14];case 13:return l=b.sent(),d={RequestId:this.requestId,ChatId:this.chatToken.chatId},t(r[5]).default.throwAuthenticatedChatConversationRetrievalFailure(l,this.scenarioMarker,t(r[16]).default.StartChat,d),[3,14];case 14:return this.chatToken&&0===Object.keys(this.chatToken).length?[4,this.getChatToken(!1)]:[3,16];case 15:b.sent(),b.label=16;case 16:return t(r[12]).default.setChatId(this.chatToken.chatId||'',this.ocSdkLogger,this.acsClientLogger,this.acsAdapterLogger,this.callingSdkLogger,this.amsClientLogger,this.ic3ClientLogger),u={initContext:{}},(u=this.populateInitChatOptionalParam(u,e,t(r[16]).default.StartChat)).initContext.isProactiveChat=!!e.isProactiveChat,this.isPersistentChat&&!(null===(S=this.chatSDKConfig.persistentChat)||void 0===S?void 0:S.disable)?u.reconnectId=this.reconnectId:!this.isChatReconnect||(null===(k=this.chatSDKConfig.chatReconnect)||void 0===k?void 0:k.disable)||this.isPersistentChat||(u.reconnectId=this.reconnectId),"true"!==(0,t(r[24]).parseLowerCaseString)(null===(y=null===(m=this.liveChatConfig)||void 0===m?void 0:m.LiveWSAndLiveChatEngJoin)||void 0===y?void 0:y.msdyn_requestvisitorlocation)?[3,18]:[4,(0,t(r[25]).getLocationInfo)(this.scenarioMarker,this.chatToken.chatId,this.requestId)];case 17:C=b.sent(),u.initContext.latitude=C.latitude,u.initContext.longitude=C.longitude,b.label=18;case 18:return f=function(){return h(q,void 0,void 0,function(){var i,n,s,a,o;return c(this,function(h){switch(h.label){case 0:if(e.liveChatContext)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.OCClient.sessionInit(this.requestId,u)];case 2:return h.sent(),[3,4];case 3:return i=h.sent(),n={RequestId:this.requestId,ChatId:this.chatToken.chatId},(null==i?void 0:i.isAxiosError)&&(null===(o=null===(a=null===(s=i.response)||void 0===s?void 0:s.headers)||void 0===a?void 0:a.errorcode)||void 0===o?void 0:o.toString())===t(r[26]).default.WidgetUseOutsideOperatingHour.toString()&&t(r[5]).default.throwWidgetUseOutsideOperatingHour(i,this.scenarioMarker,t(r[16]).default.StartChat,n),t(r[5]).default.throwConversationInitializationFailure(i,this.scenarioMarker,t(r[16]).default.StartChat,n),[3,4];case 4:return[2]}})})},g=function(){return h(q,void 0,void 0,function(){var e,i,n,s,a,o,h,l,d,u;return c(this,function(c){switch(c.label){case 0:if(this.liveChatVersion!==t(r[7]).default.V2)return[3,8];e={token:this.chatToken.token,id:this.chatToken.visitorId||'teamsvisitor',threadId:this.chatToken.chatId,environmentUrl:this.chatToken.acsEndpoint,pollingInterval:3e4},c.label=1;case 1:return c.trys.push([1,3,,4]),[4,null===(d=this.ACSClient)||void 0===d?void 0:d.initialize({token:e.token,environmentUrl:e.environmentUrl})];case 2:return c.sent(),[3,4];case 3:return i=c.sent(),l={RequestId:this.requestId,ChatId:this.chatToken.chatId},t(r[5]).default.throwMessagingClientInitializationFailure(i,this.scenarioMarker,t(r[16]).default.StartChat,l),[3,4];case 4:return c.trys.push([4,6,,7]),n=this,[4,null===(u=this.ACSClient)||void 0===u?void 0:u.joinConversation({id:e.id,threadId:e.threadId,pollingInterval:e.pollingInterval})];case 5:return n.conversation=c.sent(),this.scenarioMarker.completeScenario(t(r[16]).default.StartChat,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,7];case 6:return s=c.sent(),l={RequestId:this.requestId,ChatId:this.chatToken.chatId},t(r[5]).default.throwMessagingClientConversationJoinFailure(s,this.scenarioMarker,t(r[16]).default.StartChat,l),[3,7];case 7:return[3,14];case 8:return c.trys.push([8,10,,11]),[4,this.IC3Client.initialize({token:this.chatToken.token,regionGtms:this.chatToken.regionGTMS,visitor:!0})];case 9:return c.sent(),[3,11];case 10:return a=c.sent(),l={RequestId:this.requestId,ChatId:this.chatToken.chatId},t(r[5]).default.throwMessagingClientInitializationFailure(a,this.scenarioMarker,t(r[16]).default.StartChat,l),[3,11];case 11:return c.trys.push([11,13,,14]),o=this,[4,this.IC3Client.joinConversation(this.chatToken.chatId)];case 12:return o.conversation=c.sent(),this.scenarioMarker.completeScenario(t(r[16]).default.StartChat,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,14];case 13:return h=c.sent(),l={RequestId:this.requestId,ChatId:this.chatToken.chatId},t(r[5]).default.throwMessagingClientConversationJoinFailure(h,this.scenarioMarker,t(r[16]).default.StartChat,l),[3,14];case 14:return[2]}})})},v=function(){return h(q,void 0,void 0,function(){var e,i,n;return c(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),[4,this.getAMSClient()];case 1:return e=s.sent(),this.liveChatVersion!==t(r[7]).default.V2?[3,3]:[4,null==e?void 0:e.initialize({chatToken:this.chatToken})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:return i=s.sent(),n={RequestId:this.requestId,ChatId:this.chatToken.chatId},t(r[5]).default.throwMessagingClientInitializationFailure(i,this.scenarioMarker,t(r[16]).default.StartChat,n),[3,5];case 5:return[2]}})})},[4,Promise.all([f(),g(),v()])];case 19:return b.sent(),this.isPersistentChat&&!(null===(T=this.chatSDKConfig.persistentChat)||void 0===T?void 0:T.disable)&&(this.refreshTokenTimer=setInterval(function(){return h(q,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this.getChatToken(!1)];case 1:return e.sent(),this.updateChatToken(this.chatToken.token,this.chatToken.regionGTMS),[2]}})})},null===(M=this.chatSDKConfig.persistentChat)||void 0===M?void 0:M.tokenUpdateTime)),[2]}})})},e.prototype.closeChat=function(e){return h(this,void 0,void 0,function(){var i,n,s,a,h,l,d;return c(this,function(c){switch(c.label){case 0:if(i={RequestId:this.requestId,ChatId:this.chatToken.chatId,isSessionEnded:!(null==e?void 0:e.isSessionEnded)},this.scenarioMarker.startScenario(t(r[16]).default.CloseChatSession,i),null==e?void 0:e.isSessionEnded)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),n={},this.isPersistentChat&&!(null===(l=this.chatSDKConfig.persistentChat)||void 0===l?void 0:l.disable)&&(s=null!==this.reconnectId,n.isPersistentChat=this.isPersistentChat,n.isReconnectChat=s),!this.isChatReconnect||(null===(d=this.chatSDKConfig.chatReconnect)||void 0===d?void 0:d.disable)||this.isPersistentChat||(a=null!==this.reconnectId,this.requestId=a?this.reconnectId:this.requestId,n.isReconnectChat=a),this.authenticatedUserToken&&(n.authenticatedUserToken=this.authenticatedUserToken),[4,this.OCClient.sessionClose(this.requestId,n)];case 2:return c.sent(),[3,4];case 3:return h=c.sent(),t(r[5]).default.throwConversationClosureFailure(h,this.scenarioMarker,t(r[16]).default.CloseChatSession,o(o({},i),{isSessionEnded:String(!(null==e?void 0:e.isSessionEnded))})),[3,4];case 4:this.scenarioMarker.completeScenario(t(r[16]).default.CloseChatSession,i),c.label=5;case 5:return[2]}})})},e.prototype.endChat=function(){return h(this,arguments,void 0,function(e){var i,n,s,a;return void 0===e&&(e={}),c(this,function(o){switch(o.label){case 0:i={RequestId:this.requestId,ChatId:this.chatToken.chatId},this.scenarioMarker.startScenario(t(r[16]).default.EndChat,i),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.closeChat(e)];case 2:return o.sent(),null===(a=this.conversation)||void 0===a||a.disconnect(),this.conversation=null,this.requestId=(0,t(r[8]).uuidv4)(),this.chatToken={},this.reconnectId=null,this.IC3Client&&(this.IC3Client.dispose(),!t(r[4]).default.isNode()&&!t(r[4]).default.isReactNative()&&(0,t(r[15]).removeElementById)(this.IC3Client.id),this.IC3Client=null),this.OCClient.sessionId&&(this.OCClient.sessionId=null,this.sessionId=null),t(r[12]).default.setRequestId(this.requestId,this.ocSdkLogger,this.acsClientLogger,this.acsAdapterLogger,this.callingSdkLogger,this.amsClientLogger,this.ic3ClientLogger),t(r[12]).default.setChatId('',this.ocSdkLogger,this.acsClientLogger,this.acsAdapterLogger,this.callingSdkLogger,this.amsClientLogger,this.ic3ClientLogger),null!==this.refreshTokenTimer&&(clearInterval(this.refreshTokenTimer),this.refreshTokenTimer=null),this.scenarioMarker.completeScenario(t(r[16]).default.EndChat,i),[3,4];case 3:return n=o.sent(),s={RequestId:this.requestId,ChatId:this.chatToken.chatId},t(r[5]).default.throwConversationClosureFailure(n,this.scenarioMarker,t(r[16]).default.EndChat,s),[3,4];case 4:return[2]}})})},e.prototype.getCurrentLiveChatContext=function(){return h(this,void 0,void 0,function(){var e,i,n;return c(this,function(s){switch(s.label){case 0:return[4,this.getChatToken()];case 1:return e=s.sent(),i=this.requestId,this.scenarioMarker.startScenario(t(r[16]).default.GetCurrentLiveChatContext,{RequestId:i,ChatId:e.chatId}),n={chatToken:e,requestId:i},0===Object.keys(n.chatToken).length?[2,{}]:(this.reconnectId&&(n.reconnectId=this.reconnectId),this.sessionId&&(n.sessionId=this.sessionId),this.scenarioMarker.completeScenario(t(r[16]).default.GetCurrentLiveChatContext,{RequestId:i,ChatId:e.chatId}),[2,n])}})})},e.prototype.getConversationDetails=function(){return h(this,arguments,void 0,function(e){var i,n,s,a,o,h,l,d,u,C,f,g,v,I,p,S,k,m,y;return void 0===e&&(e={}),c(this,function(c){switch(c.label){case 0:i=this.requestId,n=this.chatToken,s=n.chatId,a=this.reconnectId,o=this.sessionId,e.liveChatContext&&(i=e.liveChatContext.requestId,n=e.liveChatContext.chatToken,s=n.chatId),(null===(S=e.liveChatContext)||void 0===S?void 0:S.reconnectId)&&(a=e.liveChatContext.reconnectId),(null===(k=e.liveChatContext)||void 0===k?void 0:k.sessionId)&&(o=e.liveChatContext.sessionId,this.OCClient.sessionId=o),this.scenarioMarker.startScenario(t(r[16]).default.GetConversationDetails,{RequestId:i,ChatId:s||''}),h={},this.isPersistentChat&&!(null===(m=this.chatSDKConfig.persistentChat)||void 0===m?void 0:m.disable)&&a&&(h.reconnectId=a),this.isChatReconnect&&!(null===(y=this.chatSDKConfig.chatReconnect)||void 0===y?void 0:y.disable)&&!this.isPersistentChat&&a&&(h.reconnectId=a),this.authenticatedUserToken&&(h.authenticatedUserToken=this.authenticatedUserToken),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.OCClient.getLWIDetails(i,h)];case 2:return l=c.sent(),d=l.State,u=l.ConversationId,C=l.AgentAcceptedOn,f=l.CanRenderPostChat,g=l.ParticipantType,v={state:d,conversationId:u},C&&(v.agentAcceptedOn=C),f&&(v.canRenderPostChat=f),g&&(v.participantType=g),this.sessionId&&(this.OCClient.sessionId=this.sessionId),this.scenarioMarker.completeScenario(t(r[16]).default.GetConversationDetails,{RequestId:i,ChatId:s||''}),[2,v];case 3:return I=c.sent(),p={RequestId:i,ChatId:s||''},(0,t(r[6]).isClientIdNotFoundErrorMessage)(I)&&t(r[5]).default.throwAuthContactIdNotFoundFailure(I,this.scenarioMarker,t(r[16]).default.GetConversationDetails,p),t(r[27]).default.suppressConversationDetailsRetrievalFailure(I,this.scenarioMarker,t(r[16]).default.GetConversationDetails,p),[3,4];case 4:return[2,{}]}})})},e.prototype.getPreChatSurvey=function(){return h(this,arguments,void 0,function(e){var i;return void 0===e&&(e=!0),c(this,function(n){this.scenarioMarker.startScenario(t(r[16]).default.GetPreChatSurvey);try{return i=e?JSON.parse(this.preChatSurvey):this.preChatSurvey,this.scenarioMarker.completeScenario(t(r[16]).default.GetPreChatSurvey),[2,i]}catch(e){this.scenarioMarker.failScenario(t(r[16]).default.GetPreChatSurvey)}return[2]})})},e.prototype.getLiveChatConfig=function(e){return h(this,void 0,void 0,function(){return c(this,function(t){return e&&!0!==e.useRuntimeCache?[2,this.getChatConfig({sendCacheHeaders:(null==e?void 0:e.sendCacheHeaders)||!1})]:[2,this.liveChatConfig]})})},e.prototype.getChatToken=function(){return h(this,arguments,void 0,function(e,i){var n,s,a,o,h,l,d,u,C,f,g,v,I,p,S;return void 0===e&&(e=!0),c(this,function(c){switch(c.label){case 0:if(this.scenarioMarker.startScenario(t(r[16]).default.GetChatToken,{RequestId:this.requestId}),e)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),n={},this.authenticatedUserToken&&(n.authenticatedUserToken=this.authenticatedUserToken),this.isPersistentChat&&!(null===(I=this.chatSDKConfig.persistentChat)||void 0===I?void 0:I.disable)&&(n.reconnectId=this.reconnectId),!this.isChatReconnect||(null===(p=this.chatSDKConfig.chatReconnect)||void 0===p?void 0:p.disable)||this.isPersistentChat||(n.reconnectId=this.reconnectId),!0===(null==i?void 0:i.refreshToken)&&(n.refreshToken=null==i?void 0:i.refreshToken),[4,this.OCClient.getChatToken(this.requestId,n)];case 2:return s=c.sent(),a=s.ChatId,o=s.Token,h=s.RegionGtms,l=s.ExpiresIn,d=s.VisitorId,u=s.VoiceVideoCallToken,C=s.ACSEndpoint,f=s.AttachmentConfiguration,this.chatToken={chatId:a,regionGTMS:JSON.parse(h),requestId:this.requestId,token:o,expiresIn:l,visitorId:d,voiceVideoCallToken:u,acsEndpoint:C},f&&f.AttachmentServiceEndpoint&&(this.chatToken.amsEndpoint=f.AttachmentServiceEndpoint),this.OCClient.sessionId&&(this.sessionId=this.OCClient.sessionId),this.scenarioMarker.completeScenario(t(r[16]).default.GetChatToken,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,4];case 3:return g=c.sent(),v={RequestId:this.requestId,ChatId:null===(S=this.chatToken)||void 0===S?void 0:S.chatId},(0,t(r[6]).isClientIdNotFoundErrorMessage)(g)?t(r[5]).default.throwAuthContactIdNotFoundFailure(g,this.scenarioMarker,t(r[16]).default.GetChatToken,v):t(r[5]).default.throwChatTokenRetrievalFailure(g,this.scenarioMarker,t(r[16]).default.GetChatToken,v),[3,4];case 4:return[3,6];case 5:this.scenarioMarker.completeScenario(t(r[16]).default.GetChatToken,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),c.label=6;case 6:return[2,this.chatToken]}})})},e.prototype.getCallingToken=function(){return h(this,void 0,void 0,function(){return c(this,function(e){return this.chatToken&&0===Object.keys(this.chatToken).length?[2,'']:this.chatToken.voiceVideoCallToken?(this.debug&&console.log("calling:acs"),[2,this.chatToken.voiceVideoCallToken.Token]):(this.debug&&console.log("calling:skype"),[2,this.chatToken.token])})})},e.prototype.getMessages=function(){return h(this,void 0,void 0,function(){var e,i;return c(this,function(n){switch(n.label){case 0:this.scenarioMarker.startScenario(t(r[16]).default.GetMessages,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,null===(i=this.conversation)||void 0===i?void 0:i.getMessages()];case 2:return e=n.sent(),this.scenarioMarker.completeScenario(t(r[16]).default.GetMessages,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[2,e];case 3:return n.sent(),this.scenarioMarker.failScenario(t(r[16]).default.GetMessages,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,4];case 4:return[2]}})})},e.prototype.getDataMaskingRules=function(){return h(this,void 0,void 0,function(){return c(this,function(e){return[2,this.dataMaskingRules]})})},e.prototype.transformMessage=function(e){if(this.isMaskingDisabled)return e;for(var t,i=e.content,n=0,s=this.dataMaskingRules.rules;n<s.length;n++){for(var a=s[n],r=new RegExp(a.regex,'g');null!==(t=r.exec(i));){var o=t[0].replace(/./g,this.maskingCharacter);i=i.replace(t[0],o)}t=null}return e.content=i,e},e.prototype.sendMessage=function(e){return h(this,void 0,void 0,function(){var i,n,s;return c(this,function(a){switch(a.label){case 0:if(this.scenarioMarker.startScenario(t(r[16]).default.SendMessages,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),this.transformMessage(e),this.liveChatVersion!==t(r[7]).default.V2)return[3,5];(i={content:e.content}).metadata={widgetId:this.omnichannelConfig.widgetId,clientMessageId:Date.now().toString()},e.metadata&&(i.metadata=o(o({},i.metadata),e.metadata)),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,null===(s=this.conversation)||void 0===s?void 0:s.sendMessage(i)];case 2:return a.sent(),this.scenarioMarker.completeScenario(t(r[16]).default.SendMessages,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,4];case 3:throw a.sent(),this.scenarioMarker.failScenario(t(r[16]).default.SendMessages,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),new Error('ChatSDKSendMessageFailed');case 4:return[3,9];case 5:n={content:e.content,timestamp:new Date,contentType:t(r[28]).default.Text,deliveryMode:t(r[29]).default.Bridged,messageType:t(r[30]).default.UserMessage,properties:void 0,tags:l([],t(r[31]).defaultMessageTags,!0),sender:{displayName:"Customer",id:"customer",type:t(r[32]).default.User}},e.tags&&(n.tags=e.tags),e.timestamp&&(n.timestamp=e.timestamp),a.label=6;case 6:return a.trys.push([6,8,,9]),[4,this.conversation.sendMessage(n)];case 7:return a.sent(),this.scenarioMarker.completeScenario(t(r[16]).default.SendMessages,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,9];case 8:throw a.sent(),this.scenarioMarker.failScenario(t(r[16]).default.SendMessages,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),new Error('ChatSDKSendMessageFailed');case 9:return[2]}})})},e.prototype.onNewMessage=function(e){return h(this,arguments,void 0,function(e,i){var n,s,a,o,h,l,d,u,C,f,g,v,I,p=this;return void 0===i&&(i={}),c(this,function(c){switch(c.label){case 0:return this.scenarioMarker.startScenario(t(r[16]).default.OnNewMessage,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),this.liveChatVersion!==t(r[7]).default.V2?[3,3]:(n=new Set,i.rehydrate?(this.debug&&console.log('[OmnichannelChatSDK][onNewMessage] rehydrate'),[4,this.getMessages()]):[3,2]);case 1:for(l=c.sent(),s=0,a=l.reverse();s<a.length;s++)C=a[s],o=C.id,n.has(o)||(n.add(o),e(C));c.label=2;case 2:try{null===(v=this.conversation)||void 0===v||v.registerOnNewMessage(function(i){var s=i.id,a=(0,t(r[33]).default)(i,{liveChatVersion:p.liveChatVersion,debug:p.debug});n.has(s)||(e(a),n.add(s))}),this.scenarioMarker.completeScenario(t(r[16]).default.OnNewMessage,{RequestId:this.requestId,ChatId:this.chatToken.chatId})}catch(e){this.scenarioMarker.failScenario(t(r[16]).default.OnNewMessage,{RequestId:this.requestId,ChatId:this.chatToken.chatId})}return[3,6];case 3:return h=new Set,i.rehydrate?(this.debug&&console.log('[OmnichannelChatSDK][onNewMessage] rehydrate'),[4,this.getMessages()]):[3,5];case 4:if(l=c.sent())for(d=0,u=l.reverse();d<u.length;d++)C=u[d],f=C.clientmessageid,h.has(f)||(h.add(f),g=(0,t(r[33]).default)(C,{liveChatVersion:this.liveChatVersion,debug:this.debug}),e(g));c.label=5;case 5:try{null===(I=this.conversation)||void 0===I||I.registerOnNewMessage(function(i){var n=i.clientmessageid,s=i.messageType;if(!(0,t(r[6]).isCustomerMessage)(i)&&!h.has(n)&&s!==t(r[30]).default.Typing){var a=(0,t(r[33]).default)(i,{liveChatVersion:p.liveChatVersion,debug:p.debug});e(a)}}),this.scenarioMarker.completeScenario(t(r[16]).default.OnNewMessage,{RequestId:this.requestId,ChatId:this.chatToken.chatId})}catch(e){this.scenarioMarker.failScenario(t(r[16]).default.OnNewMessage,{RequestId:this.requestId,ChatId:this.chatToken.chatId})}c.label=6;case 6:return[2]}})})},e.prototype.sendTypingEvent=function(){return h(this,void 0,void 0,function(){var e,i,n;return c(this,function(s){switch(s.label){case 0:if(this.scenarioMarker.startScenario(t(r[16]).default.SendTypingEvent,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),this.liveChatVersion!==t(r[7]).default.V2)return[3,6];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,this.OCClient.sendTypingIndicator(this.requestId,t(r[7]).default.V2,{customerDisplayName:t(r[34]).default.Customer})];case 2:return s.sent(),[4,this.conversation.sendTyping()];case 3:return s.sent(),this.scenarioMarker.completeScenario(t(r[16]).default.SendTypingEvent,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,5];case 4:throw s.sent(),this.scenarioMarker.failScenario(t(r[16]).default.SendTypingEvent,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),new Error('SendTypingFailure');case 5:return[3,12];case 6:e="{isTyping: 0}",s.label=7;case 7:return s.trys.push([7,11,,12]),[4,this.conversation.indicateTypingStatus(0)];case 8:return s.sent(),[4,this.conversation.getMembers()];case 9:return i=s.sent(),n=i.filter(function(e){return e.type===t(r[32]).default.Bot}),[4,this.conversation.sendMessageToBot(n[0].id,{payload:e})];case 10:return s.sent(),this.scenarioMarker.completeScenario(t(r[16]).default.SendTypingEvent,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,12];case 11:throw s.sent(),this.scenarioMarker.failScenario(t(r[16]).default.SendTypingEvent,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),new Error('SendTypingFailure');case 12:return[2]}})})},e.prototype.onTypingEvent=function(e){return h(this,void 0,void 0,function(){var i;return c(this,function(n){if(this.scenarioMarker.startScenario(t(r[16]).default.OnTypingEvent,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),this.liveChatVersion===t(r[7]).default.V2)try{this.conversation.onTypingEvent(e),this.scenarioMarker.completeScenario(t(r[16]).default.OnTypingEvent,{RequestId:this.requestId,ChatId:this.chatToken.chatId})}catch(e){this.scenarioMarker.failScenario(t(r[16]).default.OnTypingEvent,{RequestId:this.requestId,ChatId:this.chatToken.chatId})}else try{null===(i=this.conversation)||void 0===i||i.registerOnNewMessage(function(i){var n=i.messageType;(0,t(r[6]).isCustomerMessage)(i)||n===t(r[30]).default.Typing&&e(i)}),this.scenarioMarker.completeScenario(t(r[16]).default.OnTypingEvent,{RequestId:this.requestId,ChatId:this.chatToken.chatId})}catch(e){this.scenarioMarker.failScenario(t(r[16]).default.OnTypingEvent,{RequestId:this.requestId,ChatId:this.chatToken.chatId})}return[2]})})},e.prototype.onAgentEndSession=function(e){return h(this,void 0,void 0,function(){var i,n=this;return c(this,function(s){if(this.scenarioMarker.startScenario(t(r[16]).default.OnAgentEndSession,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),this.liveChatVersion===t(r[7]).default.V2)try{this.conversation.registerOnThreadUpdate(function(t){e(t)}),this.scenarioMarker.completeScenario(t(r[16]).default.OnAgentEndSession,{RequestId:this.requestId,ChatId:this.chatToken.chatId})}catch(e){this.scenarioMarker.failScenario(t(r[16]).default.OnAgentEndSession,{RequestId:this.requestId,ChatId:this.chatToken.chatId})}else try{null===(i=this.conversation)||void 0===i||i.registerOnThreadUpdate(function(t){1===t.members.length&&(e(t),null!==n.refreshTokenTimer&&(clearInterval(n.refreshTokenTimer),n.refreshTokenTimer=null))}),this.scenarioMarker.completeScenario(t(r[16]).default.OnAgentEndSession,{RequestId:this.requestId,ChatId:this.chatToken.chatId})}catch(e){this.scenarioMarker.failScenario(t(r[16]).default.OnAgentEndSession,{RequestId:this.requestId,ChatId:this.chatToken.chatId})}return[2]})})},e.prototype.uploadFileAttachment=function(e){return h(this,void 0,void 0,function(){var i,n,s,a,h,d,u,C,f,g,v,I;return c(this,function(c){switch(c.label){case 0:return[4,this.getAMSClient()];case 1:return i=c.sent(),this.scenarioMarker.startScenario(t(r[16]).default.UploadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),this.liveChatVersion!==t(r[7]).default.V2?[3,8]:[4,null==i?void 0:i.createObject(null===(v=this.chatToken)||void 0===v?void 0:v.chatId,e)];case 2:return n=c.sent(),s=n.id,[4,null==i?void 0:i.uploadDocument(s,e)];case 3:a=c.sent(),h={amsReferences:JSON.stringify([s]),amsreferences:JSON.stringify([s])},d={amsMetadata:JSON.stringify([{contentType:e.type,fileName:e.name}])},u={content:'',metadata:o(o({widgetId:this.omnichannelConfig.widgetId,clientMessageId:Date.now().toString()},h),d)},f={content:"",timestamp:new Date,contentType:t(r[28]).default.Text,deliveryMode:t(r[29]).default.Bridged,messageType:t(r[30]).default.UserMessage,tags:l([],t(r[31]).defaultMessageTags,!0),sender:{displayName:"Customer",id:"customer",type:t(r[32]).default.User},fileMetadata:a},c.label=4;case 4:return c.trys.push([4,6,,7]),[4,null===(I=this.conversation)||void 0===I?void 0:I.sendMessage(u)];case 5:return c.sent(),this.scenarioMarker.completeScenario(t(r[16]).default.UploadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[2,f];case 6:return c.sent(),console.error("OmnichannelChatSDK/uploadFileAttachment/sendMessage/error"),this.scenarioMarker.failScenario(t(r[16]).default.UploadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,7];case 7:return[2,{}];case 8:return C=void 0,t(r[4]).default.isReactNative()||t(r[4]).default.isNode()?[4,this.conversation.sendFileData(e,t(r[35]).default.AmsBasedFileSharing)]:[3,10];case 9:return C=c.sent(),[3,12];case 10:return[4,this.conversation.uploadFile(e,t(r[35]).default.AmsBasedFileSharing)];case 11:C=c.sent(),c.label=12;case 12:f={content:"",timestamp:new Date,contentType:t(r[28]).default.Text,deliveryMode:t(r[29]).default.Bridged,messageType:t(r[30]).default.UserMessage,tags:l([],t(r[31]).defaultMessageTags,!0),sender:{displayName:"Customer",id:"customer",type:t(r[32]).default.User},fileMetadata:C},c.label=13;case 13:return c.trys.push([13,15,,16]),[4,this.conversation.sendFileMessage(C,f)];case 14:return c.sent(),this.scenarioMarker.completeScenario(t(r[16]).default.UploadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[2,f];case 15:return g=c.sent(),console.error("OmnichannelChatSDK/uploadFileAttachment/error: ".concat(g)),this.scenarioMarker.failScenario(t(r[16]).default.UploadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,16];case 16:return[2,{}]}})})},e.prototype.downloadFileAttachment=function(e){return h(this,void 0,void 0,function(){var i,n,s,a,o,h;return c(this,function(c){switch(c.label){case 0:return[4,this.getAMSClient()];case 1:if(i=c.sent(),this.scenarioMarker.startScenario(t(r[16]).default.DownloadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),this.liveChatVersion!==t(r[7]).default.V2)return[3,7];c.label=2;case 2:return c.trys.push([2,5,,6]),[4,null==i?void 0:i.getViewStatus(e)];case 3:return n=c.sent(),s=n.view_location,[4,null==i?void 0:i.getView(e,s)];case 4:return a=c.sent(),this.scenarioMarker.completeScenario(t(r[16]).default.DownloadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[2,a];case 5:throw c.sent(),this.scenarioMarker.failScenario(t(r[16]).default.DownloadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),new Error('DownloadFileAttachmentFailed');case 6:return[3,10];case 7:return c.trys.push([7,9,,10]),[4,this.conversation.downloadFile(e)];case 8:return o=c.sent(),this.scenarioMarker.completeScenario(t(r[16]).default.DownloadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[2,o];case 9:throw h=c.sent(),console.error("OmnichannelChatSDK/downloadFileAttachment/error: ".concat(h)),this.scenarioMarker.failScenario(t(r[16]).default.DownloadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),new Error('DownloadFileAttachmentFailed');case 10:return[2]}})})},e.prototype.emailLiveChatTranscript=function(e){return h(this,arguments,void 0,function(e,i){var n,s,a,o,h,l,d,u;return void 0===i&&(i={}),c(this,function(c){switch(c.label){case 0:n={},s=this.requestId,a=this.chatToken,o=a.chatId,h=this.sessionId,i.liveChatContext&&(s=i.liveChatContext.requestId,a=i.liveChatContext.chatToken,o=a.chatId),(null===(u=i.liveChatContext)||void 0===u?void 0:u.sessionId)&&(h=i.liveChatContext.sessionId,this.OCClient.sessionId=h),this.scenarioMarker.startScenario(t(r[16]).default.EmailLiveChatTranscript,{RequestId:s,ChatId:o}),c.label=1;case 1:return c.trys.push([1,3,,4]),this.authenticatedUserToken&&(n.authenticatedUserToken=this.authenticatedUserToken),l={ChatId:o,EmailAddress:e.emailAddress,DefaultAttachmentMessage:e.attachmentMessage,CustomerLocale:e.locale||(0,t(r[3]).getLocaleStringFromId)(this.localeId)},[4,this.OCClient.emailTranscript(s,a.token,l,n)];case 2:return c.sent(),this.sessionId&&(this.OCClient.sessionId=this.sessionId),this.scenarioMarker.completeScenario(t(r[16]).default.EmailLiveChatTranscript,{RequestId:s,ChatId:o}),[3,4];case 3:return d=c.sent(),console.error("OmnichannelChatSDK/emailLiveChatTranscript/error: ".concat(d)),this.scenarioMarker.failScenario(t(r[16]).default.EmailLiveChatTranscript,{RequestId:s,ChatId:o}),[3,4];case 4:return[2]}})})},e.prototype.getLiveChatTranscript=function(){return h(this,arguments,void 0,function(e){var i,n,s,a,o,h,l,d,u;return void 0===e&&(e={}),c(this,function(c){switch(c.label){case 0:i={},n=this.requestId,s=this.chatToken,a=s.chatId,o=this.sessionId,e.liveChatContext&&(n=e.liveChatContext.requestId,s=e.liveChatContext.chatToken,a=s.chatId),(null===(u=e.liveChatContext)||void 0===u?void 0:u.sessionId)&&(o=e.liveChatContext.sessionId,this.OCClient.sessionId=o),this.scenarioMarker.startScenario(t(r[16]).default.GetLiveChatTranscript,{RequestId:n,ChatId:a}),c.label=1;case 1:return c.trys.push([1,3,,4]),this.authenticatedUserToken&&(i.authenticatedUserToken=this.authenticatedUserToken),[4,this.OCClient.getChatTranscripts(n,s.chatId,s.token,i)];case 2:return h=c.sent(),this.sessionId&&(this.OCClient.sessionId=this.sessionId),this.scenarioMarker.completeScenario(t(r[16]).default.GetLiveChatTranscript,{RequestId:n,ChatId:a}),[2,h];case 3:return l=c.sent(),d={RequestId:n,ChatId:a},t(r[5]).default.throwLiveChatTranscriptRetrievalFailure(l,this.scenarioMarker,t(r[16]).default.GetLiveChatTranscript,d),[3,4];case 4:return[2]}})})},e.prototype.createChatAdapter=function(){return h(this,arguments,void 0,function(e){var i,n,s,a,o,h;return void 0===e&&(e={}),c(this,function(c){return t(r[4]).default.isNode()||t(r[4]).default.isReactNative()?[2,Promise.reject('ChatAdapter is only supported on browser')]:(i=e.protocol,n=[t(r[36]).default.ACS,t(r[36]).default.IC3,t(r[36]).default.DirectLine],i&&!n.includes(i)?[2,Promise.reject("ChatAdapter for protocol ".concat(i," currently not supported"))]:i===t(r[36]).default.DirectLine?[2,(0,t(r[37]).createDirectLine)(e,this.chatSDKConfig,this.liveChatVersion,t(r[36]).default.DirectLine,this.telemetry,this.scenarioMarker)]:i===t(r[36]).default.ACS||this.liveChatVersion===t(r[7]).default.V2?(s={fileScan:null===(o=e.ACSAdapter)||void 0===o?void 0:o.fileScan},a=new(t(r[38]).default)(this.AMSClient,this.acsAdapterLogger,s),[2,(0,t(r[37]).createACSAdapter)(e,this.chatSDKConfig,this.liveChatVersion,t(r[36]).default.ACS,this.telemetry,this.scenarioMarker,this.omnichannelConfig,this.chatToken,a,null===(h=this.ACSClient)||void 0===h?void 0:h.getChatClient(),this.acsAdapterLogger)]):i===t(r[36]).default.IC3||this.liveChatVersion===t(r[7]).default.V1?[2,(0,t(r[37]).createIC3Adapter)(e,this.chatSDKConfig,this.liveChatVersion,t(r[36]).default.IC3,this.telemetry,this.scenarioMarker,this.chatToken,this.IC3Client,this.ic3ClientLogger)]:[2,Promise.reject("ChatAdapter for protocol ".concat(i," currently not supported"))])})})},e.prototype.isVoiceVideoCallingEnabled=function(){return this.callingOption.toString()!==t(r[1]).default.NoCalling.toString()},e.prototype.getVoiceVideoCalling=function(){return h(this,arguments,void 0,function(e){var i,n,s,a,l,d,u=this;return void 0===e&&(e={}),c(this,function(C){switch(C.label){case 0:return this.scenarioMarker.startScenario(t(r[16]).default.GetVoiceVideoCalling),(t(r[4]).default.isNode()||t(r[4]).default.isReactNative())&&(i="VoiceVideoCalling is only supported on browser",t(r[5]).default.throwUnsupportedPlatform(this.scenarioMarker,t(r[16]).default.GetVoiceVideoCalling,i)),this.isVoiceVideoCallingEnabled()||(i="Voice and video call is not enabled",t(r[5]).default.throwFeatureDisabled(this.scenarioMarker,t(r[16]).default.GetVoiceVideoCalling,i)),[4,this.getLiveChatConfig()];case 1:return n=C.sent(),s=n.LiveWSAndLiveChatEngJoin,a=s.msdyn_widgetsnippet,l=new RegExp("src=\"(https:\\/\\/[\\w-.]+)[\\w-.\\/]+\""),(d=a.match(l))&&d.length?[2,new Promise(function(i){return h(u,void 0,void 0,function(){var n,s,a,l=this;return c(this,function(u){switch(u.label){case 0:return n="".concat(d[1],"/livechatwidget/v2scripts/callingsdk/").concat(t(r[39]).callingBundleVersion,"/CallingBundle.js"),null===(a=this.telemetry)||void 0===a||a.setCDNPackages({VoiceVideoCalling:n}),s={logger:this.callingSdkLogger},[4,(0,t(r[15]).loadScript)(n,function(){return h(l,void 0,void 0,function(){var a;return c(this,function(h){switch(h.label){case 0:return this.debug&&console.debug("".concat(n," loaded!")),[4,(0,t(r[40]).default)(o(o({},e),s))];case 1:return a=h.sent(),this.scenarioMarker.completeScenario(t(r[16]).default.GetVoiceVideoCalling),a.useScenarioMarker(this.scenarioMarker),i(a),[2]}})})},function(){return h(l,void 0,void 0,function(){var e;return c(this,function(i){throw e={response:"VoiceVideoCallingLoadFailed",message:"Failed to load VoiceVideoCalling"},this.scenarioMarker.failScenario(t(r[16]).default.GetVoiceVideoCalling,{ExceptionDetails:JSON.stringify(e)}),new Error(e.response)})})})];case 1:return u.sent(),[2]}})})})]:[2]}})})},e.prototype.getPostChatSurveyContext=function(){return h(this,void 0,void 0,function(){var e,i,n,s,a,o,h,l,d,u,C,f,g,v,I,p,S,k,m,y,T,M,q,b,L,R,w,A,D,O;return c(this,function(c){switch(c.label){case 0:this.scenarioMarker.startScenario(t(r[16]).default.GetPostChatSurveyContext,{RequestId:this.requestId,ChatId:null===(L=this.chatToken)||void 0===L?void 0:L.chatId}),c.label=1;case 1:return c.trys.push([1,8,,9]),i=this.liveChatConfig,n=i.LiveWSAndLiveChatEngJoin,s=n.msdyn_postconversationsurveyenable,a=n.msfp_sourcesurveyidentifier,o=n.msfp_botsourcesurveyidentifier,h=n.postConversationSurveyOwnerId,l=n.postConversationBotSurveyOwnerId,d=n.msdyn_surveyprovider,"true"!==(0,t(r[24]).parseLowerCaseString)(s)?[3,6]:[4,this.getConversationDetails()];case 2:return u=c.sent(),0===Object.keys(u).length?(this.scenarioMarker.failScenario(t(r[16]).default.GetPostChatSurveyContext,{RequestId:this.requestId,ChatId:null===(R=this.chatToken)||void 0===R?void 0:R.chatId,ExceptionDetails:"GetPostChatSurveyContext : LiveWorkItemDetails is null."}),[2,Promise.reject("GetPostChatSurveyContext : LiveWorkItemDetails is null.")]):(C="true"===(0,t(r[24]).parseLowerCaseString)(null==u?void 0:u.canRenderPostChat),f=null==u?void 0:u.participantType,e=null==u?void 0:u.conversationId,g={SurveyProvider:d,WidgetId:this.omnichannelConfig.widgetId,FormId:a,ConversationId:e,OCLocaleCode:(0,t(r[3]).getLocaleStringFromId)(this.localeId)},v={SurveyProvider:d,WidgetId:this.omnichannelConfig.widgetId,FormId:o,ConversationId:e,OCLocaleCode:(0,t(r[3]).getLocaleStringFromId)(this.localeId)},I={requestId:this.requestId},this.authenticatedUserToken&&(I.authenticatedUserToken=this.authenticatedUserToken),[4,this.OCClient.getSurveyInviteLink(h,g,I)]);case 3:return p=c.sent(),(k=l&&o)?[4,this.OCClient.getSurveyInviteLink(l,v,I)]:[3,5];case 4:k=c.sent(),c.label=5;case 5:return S=k,m=void 0,y=void 0,T=void 0,M=void 0,null!=p?null==p.inviteList||1!=p.inviteList.length?(this.scenarioMarker.failScenario(t(r[16]).default.GetPostChatSurveyContext,{ConversationId:e,RequestId:this.requestId,ChatId:null===(w=this.chatToken)||void 0===w?void 0:w.chatId,ExceptionDetails:"Survey Invite link failed to send response."}),[2,Promise.reject("Survey Invite link failed to send response.")]):(m=p.inviteList[0].invitationLink,null!=p.formsProLocaleCode&&(y=p.formsProLocaleCode),null!=S&&(null!=S.inviteList&&1==S.inviteList.length&&(T=S.inviteList[0].invitationLink),null!=S.formsProLocaleCode&&(M=S.formsProLocaleCode)),q={participantJoined:C,participantType:f,surveyInviteLink:m,botSurveyInviteLink:T,formsProLocale:y,botFormsProLocale:M},[2,Promise.resolve(q)]):(this.scenarioMarker.failScenario(t(r[16]).default.GetPostChatSurveyContext,{ConversationId:e,RequestId:this.requestId,ChatId:null===(A=this.chatToken)||void 0===A?void 0:A.chatId,ExceptionDetails:"surveyInviteLinkResponse is null."}),[2,Promise.reject("surveyInviteLinkResponse is null.")]);case 6:return this.scenarioMarker.failScenario(t(r[16]).default.GetPostChatSurveyContext,{RequestId:this.requestId,ChatId:null===(D=this.chatToken)||void 0===D?void 0:D.chatId,ExceptionDetails:"Post Chat Survey is disabled. Please check the Omnichannel Administration Portal."}),[2,Promise.reject("Post Chat is disabled from admin side.")];case 7:return[3,9];case 8:return b=c.sent(),this.scenarioMarker.failScenario(t(r[16]).default.GetPostChatSurveyContext,{ConversationId:null!=e?e:"",RequestId:this.requestId,ChatId:null===(O=this.chatToken)||void 0===O?void 0:O.chatId,ExceptionDetails:JSON.stringify(b)}),[2,Promise.reject("Retrieving post chat context failed "+JSON.stringify(b))];case 9:return[2]}})})},e.prototype.getAgentAvailability=function(){return h(this,arguments,void 0,function(e){var i,n,s,a=this;return void 0===e&&(e={}),c(this,function(o){switch(o.label){case 0:i=function(e,i,n){void 0===n&&(n="");var s={response:e,message:i};throw a.scenarioMarker.failScenario(t(r[16]).default.GetAgentAvailability,{RequestId:a.requestId,ExceptionDetails:JSON.stringify(s),ChatId:n}),new Error(s.message)},this.scenarioMarker.startScenario(t(r[16]).default.GetAgentAvailability,{RequestId:this.requestId}),this.conversation&&i("InvalidOperation","GetAgentAvailability can only be called before a chat has started.",this.chatToken.chatId),n={initContext:{}},n=this.populateInitChatOptionalParam(n,e,t(r[16]).default.GetAgentAvailability),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.OCClient.getAgentAvailability(this.requestId,n)];case 2:return[2,o.sent()];case 3:return s=o.sent(),i("GetAgentAvailabilityFailed",s.message),[3,4];case 4:return[2]}})})},e.prototype.getIC3Client=function(){return h(this,void 0,void 0,function(){var e,i=this;return c(this,function(n){switch(n.label){case 0:return t(r[4]).default.isNode()||t(r[4]).default.isReactNative()?(this.debug&&console.debug('IC3Core'),this.scenarioMarker.startScenario(t(r[16]).default.GetIC3Client),this.IC3SDKProvider=t(r[41]).SDKProvider,[4,t(r[41]).SDKProvider.getSDK({hostType:t(r[42]).default.Page,protocolType:t(r[43]).default.IC3V1SDK})]):[3,2];case 1:return(e=n.sent()).setDebug(this.debug),this.scenarioMarker.completeScenario(t(r[16]).default.GetIC3Client),[2,e];case 2:return this.debug&&console.debug('IC3Client'),[2,new Promise(function(e,n){return h(i,void 0,void 0,function(){var i,s,a,o=this;return c(this,function(l){switch(l.label){case 0:return i=this.resolveIC3ClientUrl(),null===(a=this.telemetry)||void 0===a||a.setCDNPackages({IC3Client:i}),this.scenarioMarker.startScenario(t(r[16]).default.GetIC3Client),this.IC3SDKProvider?[4,this.IC3SDKProvider.getSDK({hostType:t(r[42]).default.IFrame,protocolType:t(r[43]).default.IC3V1SDK,logger:this.ic3ClientLogger})]:[3,2];case 1:return s=l.sent(),[2,e(s)];case 2:return window.addEventListener("ic3:sdk:load",function(){return h(o,void 0,void 0,function(){var i,n,s;return c(this,function(a){switch(a.label){case 0:return this.debug&&console.debug('ic3:sdk:load'),i=window.Microsoft.CRM.Omnichannel.IC3Client.SDK,n=i.SDKProvider,this.IC3SDKProvider=n,[4,n.getSDK({hostType:t(r[42]).default.IFrame,protocolType:t(r[43]).default.IC3V1SDK,logger:this.ic3ClientLogger})];case 1:return s=a.sent(),this.scenarioMarker.completeScenario(t(r[16]).default.GetIC3Client),e(s),[2]}})})}),[4,(0,t(r[15]).loadScript)(i,function(){o.debug&&console.debug('IC3Client loaded!')},function(){o.scenarioMarker.failScenario(t(r[16]).default.GetIC3Client,{ExceptionDetails:JSON.stringify({response:"IC3ClientLoadFailed"})}),n('Failed to load IC3Client')})];case 3:return l.sent(),[2]}})})})]}})})},e.prototype.setPrechatConfigurations=function(e){return h(this,void 0,void 0,function(){return c(this,function(i){return"true"===(0,t(r[24]).parseLowerCaseString)(e.msdyn_prechatenabled)&&e.PreChatSurvey&&e.PreChatSurvey.trim().length>0&&(this.preChatSurvey=e.PreChatSurvey,this.debug&&console.log('Prechat Survey!')),[2]})})},e.prototype.setDataMaskingConfiguration=function(e){return h(this,void 0,void 0,function(){var t,i,n,s,a;return c(this,function(r){if(e.setting.msdyn_maskforcustomer&&e.dataMaskingRules)for(t=0,i=Object.entries(e.dataMaskingRules);t<i.length;t++)n=i[t],s=n[0],a=n[1],this.dataMaskingRules.rules.push({id:s,regex:a});return[2]})})},e.prototype.setAuthSettingConfig=function(e){return h(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return e&&(this.authSettings=e),this.authSettings&&this.chatSDKConfig.getAuthToken?[4,this.setAuthTokenProvider(this.chatSDKConfig.getAuthToken,{throwError:!1})]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.setPersistentChatConfiguration=function(e){return h(this,void 0,void 0,function(){var i,n;return c(this,function(s){return i="true"===(0,t(r[24]).parseLowerCaseString)(e.msdyn_enablechatreconnect),(null===(n=e.msdyn_conversationmode)||void 0===n?void 0:n.toString())===t(r[44]).default.PersistentChat.toString()&&(this.isPersistentChat=!0),i&&!this.isPersistentChat&&(this.isChatReconnect=!0),[2]})})},e.prototype.setLocaleIdConfiguration=function(e){return h(this,void 0,void 0,function(){return c(this,function(i){return this.localeId=e.msdyn_localeid||t(r[3]).defaultLocaleId,[2]})})},e.prototype.setCallingOptionConfiguration=function(e){return h(this,void 0,void 0,function(){var i;return c(this,function(n){return i=e.msdyn_callingoptions,this.callingOption=(null==i?void 0:i.trim().length)>0?Number(i):t(r[1]).default.NoCalling,[2]})})},e.prototype.setLiveChatVersionConfiguration=function(e){return h(this,void 0,void 0,function(){return c(this,function(i){return this.liveChatVersion=e||t(r[7]).default.V2,[2]})})},e.prototype.getChatConfig=function(){return h(this,arguments,void 0,function(e){var i,n,s,a,o,h,l;return void 0===e&&(e={}),c(this,function(c){switch(c.label){case 0:i=e.sendCacheHeaders,n=!0===i,c.label=1;case 1:return c.trys.push([1,3,,8]),[4,this.OCClient.getChatConfig(this.requestId,n)];case 2:return s=c.sent(),this.liveChatConfig=s,this.buildConfigurations(s),this.debug&&console.log("[OmnichannelChatSDK][getChatConfig][liveChatVersion] ".concat(this.liveChatVersion)),[2,this.liveChatConfig];case 3:return a=c.sent(),(0,t(r[45]).isCoreServicesOrgUrlDNSError)(a,this.coreServicesOrgUrl,this.dynamicsLocationCode)?(this.omnichannelConfig.orgUrl=this.unqServicesOrgUrl,o=this,[4,t(r[8]).SDKProvider.getSDK(this.omnichannelConfig,(0,t(r[21]).default)(!1),this.ocSdkLogger)]):[3,6];case 4:return o.OCClient=c.sent(),[4,this.OCClient.getChatConfig(this.requestId,n)];case 5:return s=c.sent(),[3,7];case 6:throw(null===(l=null===(h=a.response)||void 0===h?void 0:h.headers)||void 0===l?void 0:l.errorcode)&&parseInt(a.response.headers.errorcode)===t(r[26]).default.WidgetNotFound&&console.warn("No widget with the given app id is present in the system."),a;case 7:return[3,8];case 8:return[2,this.liveChatConfig]}})})},e.prototype.buildConfigurations=function(e){return h(this,void 0,void 0,function(){var t,i,n,s,a;return c(this,function(r){return t=e.DataMaskingInfo,i=e.LiveChatConfigAuthSettings,n=e.LiveWSAndLiveChatEngJoin,s=e.LiveChatVersion,a=e.ChatWidgetLanguage,Promise.all([this.setDataMaskingConfiguration(t),this.setPrechatConfigurations(n),this.setAuthSettingConfig(i),this.setPersistentChatConfiguration(n),this.setCallingOptionConfiguration(n),this.setLocaleIdConfiguration(a),this.setLiveChatVersionConfiguration(s)]),[2]})})},e.prototype.resolveIC3ClientUrl=function(){return t(r[46]).default.resolveIC3ClientUrl(this.chatSDKConfig)},e.prototype.resolveChatAdapterUrl=function(e){return t(r[46]).default.resolveChatAdapterUrl(this.chatSDKConfig,this.liveChatVersion,e)},e.prototype.updateChatToken=function(e,i){return h(this,void 0,void 0,function(){var n,s;return c(this,function(a){switch(a.label){case 0:this.scenarioMarker.startScenario(t(r[16]).default.UpdateChatToken,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),a.label=1;case 1:return a.trys.push([1,4,,5]),this.liveChatVersion!==t(r[7]).default.V1?[3,3]:(n={token:e,regionGtms:i,visitor:!0},[4,this.IC3Client.initialize(n)]);case 2:a.sent(),a.label=3;case 3:return this.scenarioMarker.completeScenario(t(r[16]).default.UpdateChatToken,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,5];case 4:return a.sent(),s={response:"UpdateChatTokenFailed"},this.scenarioMarker.failScenario(t(r[16]).default.UpdateChatToken,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify(s)}),[3,5];case 5:return[2]}})})},e.prototype.setAuthTokenProvider=function(e){return h(this,arguments,void 0,function(e,i){var n,s,a;return void 0===i&&(i={}),c(this,function(o){switch(o.label){case 0:if(this.scenarioMarker.startScenario(t(r[16]).default.GetAuthToken),this.chatSDKConfig.getAuthToken=e,!this.chatSDKConfig.getAuthToken)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.chatSDKConfig.getAuthToken()];case 2:if(n=o.sent())this.authenticatedUserToken=n,this.scenarioMarker.completeScenario(t(r[16]).default.GetAuthToken);else{if(a={response:t(r[17]).ChatSDKErrorName.UndefinedAuthToken},null==i?void 0:i.throwError)throw Error(a.response);this.scenarioMarker.failScenario(t(r[16]).default.GetAuthToken,{ExceptionDetails:JSON.stringify(a)})}return[3,4];case 3:if(s=o.sent(),a={response:t(r[17]).ChatSDKErrorName.GetAuthTokenFailed},s.message==t(r[17]).ChatSDKErrorName.UndefinedAuthToken&&(a.response=s.message),this.scenarioMarker.failScenario(t(r[16]).default.GetAuthToken,{ExceptionDetails:JSON.stringify(a)}),null==i?void 0:i.throwError)throw Error(a.response);return[3,4];case 4:return[3,6];case 5:if(a={response:t(r[17]).ChatSDKErrorName.GetAuthTokenNotFound},this.scenarioMarker.failScenario(t(r[16]).default.GetAuthToken,{ExceptionDetails:JSON.stringify(a)}),null==i?void 0:i.throwError)throw Error(a.response);o.label=6;case 6:return[2]}})})},e.prototype.useCoreServicesOrgUrlIfNotSet=function(){var e;if(!(0,t(r[20]).isCoreServicesOrgUrl)(this.omnichannelConfig.orgUrl)&&!1!==(null===(e=this.chatSDKConfig.internalConfig)||void 0===e?void 0:e.createCoreServicesOrgUrlAtRuntime)){var i=t(r[20]).unqOrgUrlPattern.exec(this.omnichannelConfig.orgUrl);if(i){this.dynamicsLocationCode=i[1];var n=(0,t(r[20]).getCoreServicesGeoName)(this.dynamicsLocationCode);n&&(this.unqServicesOrgUrl=this.omnichannelConfig.orgUrl,this.coreServicesOrgUrl=(0,t(r[20]).createCoreServicesOrgUrl)(this.omnichannelConfig.orgId,n),this.omnichannelConfig.orgUrl=this.coreServicesOrgUrl)}}},e})();a.default=d},738,[739,741,742,695,743,744,696,745,453,746,756,759,760,761,762,765,767,452,768,885,903,904,906,907,908,909,910,911,717,699,697,772,721,770,698,720,912,913,922,740,925,700,703,706,926,927,914]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultChatSDKConfig=void 0;var t={dataMasking:{disable:!1,maskingCharacter:'#'},telemetry:{disable:!1,ariaTelemetryKey:r(d[0]).ariaTelemetryKey},persistentChat:{disable:!0,tokenUpdateTime:216e5},chatReconnect:{disable:!0}};e.defaultChatSDKConfig=t;e.default=function(n){var s,o;n.dataMasking&&("boolean"!=typeof(s=n.dataMasking).disable&&(s.disable=t.dataMasking.disable),"string"==typeof s.maskingCharacter&&1===s.maskingCharacter.length||(s.maskingCharacter=t.dataMasking.maskingCharacter)),n.persistentChat&&("number"==typeof(o=n.persistentChat).tokenUpdateTime&&o.tokenUpdateTime||(o.tokenUpdateTime=t.persistentChat.tokenUpdateTime))}},739,[740]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.callingBundleVersion=e.ariaTelemetryKey=e.webChatDirectLineVersion=e.webChatACSAdapterVersion=e.webChatIC3AdapterVersion=e.ic3ClientVersion=void 0;e.ic3ClientVersion='2021.08.14.1';e.webChatIC3AdapterVersion='0.1.0-master.2dba07b';e.webChatACSAdapterVersion='0.0.35-beta.20';e.webChatDirectLineVersion='0.15.1';e.callingBundleVersion='1.0.20240809-2';e.ariaTelemetryKey='c7655518acf1403f93ff6b9f77942f0a-d01a02fd-6b50-4de3-a566-62eda11f93bc-7083'},740,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),(function(l){l[l.NoCalling=19235e4]="NoCalling",l[l.VideoAndVoiceCalling=192350001]="VideoAndVoiceCalling",l[l.VoiceOnly=192350002]="VoiceOnly"})(l||(l={})),e.default=l},741,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.AMSClientLoadStates=void 0,(function(t){t.LOADING="LOADING",t.LOADED="LOADED",t.ERROR="ERROR",t.NOT_LOADED="NOT_LOADED"})(t||(e.AMSClientLoadStates=t={}))},742,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isReactNative=e.isNode=e.isBrowser=void 0;e.isBrowser=function(){return'undefined'!=typeof window&&void 0!==window.document};e.isNode=function(){return'undefined'!=typeof process&&null!=process.versions&&null!=process.versions.node};e.isReactNative=function(){return'undefined'!=typeof navigator&&'ReactNative'==navigator.product},e.default={isBrowser:e.isBrowser,isNode:e.isNode,isReactNative:e.isReactNative}},743,[]);
__d(function(g,r,_i,a,m,_e,d){"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var i,o=1,e=arguments.length;o<e;o++)for(var n in i=arguments[o])Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);return t}).apply(this,arguments)};Object.defineProperty(_e,"__esModule",{value:!0}),_e.throwAuthContactIdNotFoundFailure=_e.throwLiveChatTranscriptRetrievalFailure=_e.throwChatAdapterInitializationFailure=_e.throwMessagingClientConversationJoinFailure=_e.throwMessagingClientInitializationFailure=_e.throwConversationClosureFailure=_e.throwConversationInitializationFailure=_e.throwWidgetUseOutsideOperatingHour=_e.throwPersistentChatConversationRetrievalFailure=_e.throwAuthenticatedChatConversationRetrievalFailure=_e.throwClosedConversation=_e.throwInvalidConversation=_e.throwChatTokenRetrievalFailure=_e.throwUninitializedChatSDK=_e.throwMessagingClientCreationFailure=_e.throwUnsupportedLiveChatVersionFailure=_e.throwChatConfigRetrievalFailure=_e.throwOmnichannelClientInitializationFailure=_e.throwFeatureDisabled=_e.throwUnsupportedPlatform=_e.throwScriptLoadFailure=_e.throwChatSDKError=void 0;_e.throwChatSDKError=function(i,o,e,n,h,l){var C,u;void 0===h&&(h={}),void 0===l&&(l="");var s={response:i};throw o&&(s.errorObject="".concat(o)),e.failScenario(n,t(t({},h),{ExceptionDetails:JSON.stringify(s)})),l&&(s.message=l,console.error(l)),new(r(d[0]).ChatSDKError)(i,(null==o?void 0:o.isAxiosError)&&(null===(C=null==o?void 0:o.response)||void 0===C?void 0:C.status)?null===(u=null==o?void 0:o.response)||void 0===u?void 0:u.status:void 0)};_e.throwScriptLoadFailure=function(t,i,o){(0,_e.throwChatSDKError)(r(d[0]).ChatSDKErrorName.ScriptLoadFailure,t,i,o)};_e.throwUnsupportedPlatform=function(t,i,o,e){void 0===e&&(e={}),(0,_e.throwChatSDKError)(r(d[0]).ChatSDKErrorName.UnsupportedPlatform,void 0,t,i,e,o)};_e.throwFeatureDisabled=function(t,i,o){(0,_e.throwChatSDKError)(r(d[0]).ChatSDKErrorName.FeatureDisabled,void 0,t,i,{},o)};_e.throwOmnichannelClientInitializationFailure=function(t,i,o){(0,_e.throwChatSDKError)(r(d[0]).ChatSDKErrorName.OmnichannelClientInitializationFailure,t,i,o)};_e.throwChatConfigRetrievalFailure=function(t,i,o){(0,_e.throwChatSDKError)(r(d[0]).ChatSDKErrorName.ChatConfigRetrievalFailure,t,i,o)};_e.throwUnsupportedLiveChatVersionFailure=function(t,i,o){(0,_e.throwChatSDKError)(r(d[0]).ChatSDKErrorName.UnsupportedLiveChatVersion,t,i,o)};_e.throwMessagingClientCreationFailure=function(t,i,o){(0,_e.throwChatSDKError)(r(d[0]).ChatSDKErrorName.MessagingClientCreationFailure,t,i,o)};_e.throwUninitializedChatSDK=function(t,i){(0,_e.throwChatSDKError)(r(d[0]).ChatSDKErrorName.UninitializedChatSDK,void 0,t,i)};_e.throwChatTokenRetrievalFailure=function(t,i,o,e){(0,_e.throwChatSDKError)(r(d[0]).ChatSDKErrorName.ChatTokenRetrievalFailure,t,i,o,e)};_e.throwInvalidConversation=function(t,i,o){(0,_e.throwChatSDKError)(r(d[0]).ChatSDKErrorName.InvalidConversation,void 0,t,i,o,"Conversation not found")};_e.throwClosedConversation=function(t,i,o){(0,_e.throwChatSDKError)(r(d[0]).ChatSDKErrorName.ClosedConversation,void 0,t,i,o)};_e.throwAuthenticatedChatConversationRetrievalFailure=function(t,i,o,e){(0,_e.throwChatSDKError)(r(d[0]).ChatSDKErrorName.AuthenticatedChatConversationRetrievalFailure,t,i,o,e)};_e.throwPersistentChatConversationRetrievalFailure=function(t,i,o,e){(0,_e.throwChatSDKError)(r(d[0]).ChatSDKErrorName.PersistentChatConversationRetrievalFailure,t,i,o,e)};_e.throwWidgetUseOutsideOperatingHour=function(t,i,o,e){(0,_e.throwChatSDKError)(r(d[0]).ChatSDKErrorName.WidgetUseOutsideOperatingHour,t,i,o,e,'Widget used outside of operating hours')};_e.throwConversationInitializationFailure=function(t,i,o,e){(0,_e.throwChatSDKError)(r(d[0]).ChatSDKErrorName.ConversationInitializationFailure,t,i,o,e)};_e.throwConversationClosureFailure=function(t,i,o,e){(0,_e.throwChatSDKError)(r(d[0]).ChatSDKErrorName.ConversationClosureFailure,t,i,o,e)};_e.throwMessagingClientInitializationFailure=function(t,i,o,e){(0,_e.throwChatSDKError)(r(d[0]).ChatSDKErrorName.MessagingClientInitializationFailure,t,i,o,e)};_e.throwMessagingClientConversationJoinFailure=function(t,i,o,e){(0,_e.throwChatSDKError)(r(d[0]).ChatSDKErrorName.MessagingClientConversationJoinFailure,t,i,o,e)};_e.throwChatAdapterInitializationFailure=function(t,i,o){(0,_e.throwChatSDKError)(r(d[0]).ChatSDKErrorName.ChatAdapterInitializationFailure,t,i,o)};_e.throwLiveChatTranscriptRetrievalFailure=function(t,i,o,e){(0,_e.throwChatSDKError)(r(d[0]).ChatSDKErrorName.LiveChatTranscriptRetrievalFailure,t,i,o,e)};_e.throwAuthContactIdNotFoundFailure=function(t,i,o,e){(0,_e.throwChatSDKError)(r(d[0]).ChatSDKErrorName.AuthContactIdNotFoundFailure,t,i,o,e)},_e.default={throwChatSDKError:_e.throwChatSDKError,throwScriptLoadFailure:_e.throwScriptLoadFailure,throwUnsupportedPlatform:_e.throwUnsupportedPlatform,throwFeatureDisabled:_e.throwFeatureDisabled,throwOmnichannelClientInitializationFailure:_e.throwOmnichannelClientInitializationFailure,throwUnsupportedLiveChatVersionFailure:_e.throwUnsupportedLiveChatVersionFailure,throwChatConfigRetrievalFailure:_e.throwChatConfigRetrievalFailure,throwMessagingClientCreationFailure:_e.throwMessagingClientCreationFailure,throwUninitializedChatSDK:_e.throwUninitializedChatSDK,throwChatTokenRetrievalFailure:_e.throwChatTokenRetrievalFailure,throwInvalidConversation:_e.throwInvalidConversation,throwClosedConversation:_e.throwClosedConversation,throwAuthenticatedChatConversationRetrievalFailure:_e.throwAuthenticatedChatConversationRetrievalFailure,throwPersistentChatConversationRetrievalFailure:_e.throwPersistentChatConversationRetrievalFailure,throwWidgetUseOutsideOperatingHour:_e.throwWidgetUseOutsideOperatingHour,throwConversationInitializationFailure:_e.throwConversationInitializationFailure,throwConversationClosureFailure:_e.throwConversationClosureFailure,throwMessagingClientInitializationFailure:_e.throwMessagingClientInitializationFailure,throwMessagingClientConversationJoinFailure:_e.throwMessagingClientConversationJoinFailure,throwChatAdapterInitializationFailure:_e.throwChatAdapterInitializationFailure,throwLiveChatTranscriptRetrievalFailure:_e.throwLiveChatTranscriptRetrievalFailure,throwAuthContactIdNotFoundFailure:_e.throwAuthContactIdNotFoundFailure}},744,[452]);
__d(function(g,r,i,a,m,e,d){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),(function(t){t[t.V1=1]="V1",t[t.V2=2]="V2"})(t||(t={})),e.default=t},745,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return void 0===t&&(t=!1),r(d[0]).default.setDebug(t),r(d[0]).default}},746,[747]);
__d(function(g,r,_i,a,m,e,d){"use strict";var t,i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var i,o=1,l=arguments.length;o<l;o++)for(var n in i=arguments[o])Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),(function(t){t.ReactNative="ReactNative"})(t||(t={}));var o={collectorUri:'https://browser.pipe.aria.microsoft.com/Collector/3.0/',cacheMemorySizeLimitInNumberOfEvents:1e4,disableCookiesUsage:!1,canSendStatEvent:function(t){return!0},clockSkewRefreshDurationInMins:0},l=(function(){function l(){}return l.initialize=function(t,n){void 0===n&&(n=o),this._debug&&console.log("[AriaTelemetry][logger][initialize][custom]"),l._key=t,l._configuration=i(i(i({},o),n),{collectorUri:l._collectorUri}),l._logger=r(d[0]).AWTLogManager.initialize(t,l._configuration)},l.setDebug=function(t){l._debug=t},l.disable=function(){this._debug&&console.log("[AriaTelemetry][disable]"),l._disable=!0},l.setCollectorUri=function(t){l._collectorUri=t,l._configuration=i(i(i({},o),l._configuration),{collectorUri:l._collectorUri})},l.setCDNPackages=function(t){l._CDNPackagesInfo=i(i({},l._CDNPackagesInfo),t)},l.info=function(t,o){var n;void 0===o&&(o=r(d[1]).default.EVENTS);var s={name:r(d[1]).default.EVENTS,properties:i(i(i(i(i({},l.populateBaseProperties()),l.fillWebPlatformData()),l.fillMobilePlatformData()),t),{LogLevel:r(d[2]).default.INFO}),priority:r(d[3]).AWTEventPriority.High};o==r(d[1]).default.IC3CLIENT&&(s={name:r(d[1]).default.IC3CLIENT,properties:i(i(i({},l.populateIC3ClientBaseProperties()),t),{LogLevel:r(d[2]).default.INFO}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.OCSDK&&(s={name:r(d[1]).default.OCSDK,properties:i(i(i({},l.populateOCSDKBaseProperties()),t),{LogLevel:r(d[2]).default.INFO}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.ACSCLIENT&&(s={name:r(d[1]).default.ACSCLIENT,properties:i(i(i({},l.populateACSClientBaseProperties()),t),{LogLevel:r(d[2]).default.INFO}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.ACSADAPTER&&(s={name:r(d[1]).default.ACSADAPTER,properties:i(i(i({},l.populateACSAdapterBaseProperties()),t),{LogLevel:r(d[2]).default.INFO}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.CALLINGSDK&&(s={name:r(d[1]).default.CALLINGSDK,properties:i(i(i({},l.populateCallingSDKBaseProperties()),t),{LogLevel:r(d[2]).default.INFO}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.AMSCLIENT&&(s={name:r(d[1]).default.AMSCLIENT,properties:i(i(i({},l.populateAMSClientBaseProperties()),t),{LogLevel:r(d[2]).default.INFO}),priority:r(d[3]).AWTEventPriority.High}),this._debug&&console.log("[AriaTelemetry][info] ".concat(o)),this._debug&&console.log(s),this._debug&&console.log(s.properties.Event),!l._disable&&(null===(n=l.logger)||void 0===n||n.logEvent(s))},l.debug=function(t,o){var n;void 0===o&&(o=r(d[1]).default.EVENTS);var s={name:r(d[1]).default.EVENTS,properties:i(i(i(i(i({},l.populateBaseProperties()),l.fillWebPlatformData()),l.fillMobilePlatformData()),t),{LogLevel:r(d[2]).default.DEBUG}),priority:r(d[3]).AWTEventPriority.High};o==r(d[1]).default.IC3CLIENT&&(s={name:r(d[1]).default.IC3CLIENT,properties:i(i(i({},l.populateIC3ClientBaseProperties()),t),{LogLevel:r(d[2]).default.DEBUG}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.OCSDK&&(s={name:r(d[1]).default.OCSDK,properties:i(i(i({},l.populateOCSDKBaseProperties()),t),{LogLevel:r(d[2]).default.DEBUG}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.ACSCLIENT&&(s={name:r(d[1]).default.ACSCLIENT,properties:i(i(i({},l.populateACSClientBaseProperties()),t),{LogLevel:r(d[2]).default.DEBUG}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.ACSADAPTER&&(s={name:r(d[1]).default.ACSADAPTER,properties:i(i(i({},l.populateACSAdapterBaseProperties()),t),{LogLevel:r(d[2]).default.DEBUG}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.CALLINGSDK&&(s={name:r(d[1]).default.CALLINGSDK,properties:i(i(i({},l.populateCallingSDKBaseProperties()),t),{LogLevel:r(d[2]).default.DEBUG}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.AMSCLIENT&&(s={name:r(d[1]).default.AMSCLIENT,properties:i(i(i({},l.populateAMSClientBaseProperties()),t),{LogLevel:r(d[2]).default.DEBUG}),priority:r(d[3]).AWTEventPriority.High}),this._debug&&console.log("[AriaTelemetry][debug] ".concat(o)),this._debug&&console.log(s),this._debug&&console.log(s.properties.Event),!l._disable&&(null===(n=l.logger)||void 0===n||n.logEvent(s))},l.warn=function(t,o){var n;void 0===o&&(o=r(d[1]).default.EVENTS);var s={name:r(d[1]).default.EVENTS,properties:i(i(i(i(i({},l.populateBaseProperties()),l.fillWebPlatformData()),l.fillMobilePlatformData()),t),{LogLevel:r(d[2]).default.WARN}),priority:r(d[3]).AWTEventPriority.High};o==r(d[1]).default.IC3CLIENT&&(s={name:r(d[1]).default.IC3CLIENT,properties:i(i(i({},l.populateIC3ClientBaseProperties()),t),{LogLevel:r(d[2]).default.WARN}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.OCSDK&&(s={name:r(d[1]).default.OCSDK,properties:i(i(i({},l.populateOCSDKBaseProperties()),t),{LogLevel:r(d[2]).default.WARN}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.ACSCLIENT&&(s={name:r(d[1]).default.ACSCLIENT,properties:i(i(i({},l.populateACSClientBaseProperties()),t),{LogLevel:r(d[2]).default.WARN}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.ACSADAPTER&&(s={name:r(d[1]).default.ACSADAPTER,properties:i(i(i({},l.populateACSAdapterBaseProperties()),t),{LogLevel:r(d[2]).default.WARN}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.CALLINGSDK&&(s={name:r(d[1]).default.CALLINGSDK,properties:i(i(i({},l.populateCallingSDKBaseProperties()),t),{LogLevel:r(d[2]).default.WARN}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.AMSCLIENT&&(s={name:r(d[1]).default.AMSCLIENT,properties:i(i(i({},l.populateAMSClientBaseProperties()),t),{LogLevel:r(d[2]).default.WARN}),priority:r(d[3]).AWTEventPriority.High}),this._debug&&console.log("[AriaTelemetry][warn] ".concat(o)),this._debug&&console.log(s),this._debug&&console.log(s.properties.Event),!l._disable&&(null===(n=l.logger)||void 0===n||n.logEvent(s))},l.error=function(t,o){var n;void 0===o&&(o=r(d[1]).default.EVENTS);var s={name:r(d[1]).default.EVENTS,properties:i(i(i(i(i({},l.populateBaseProperties()),l.fillWebPlatformData()),l.fillMobilePlatformData()),t),{LogLevel:r(d[2]).default.ERROR}),priority:r(d[3]).AWTEventPriority.High};o==r(d[1]).default.IC3CLIENT&&(s={name:r(d[1]).default.IC3CLIENT,properties:i(i(i({},l.populateIC3ClientBaseProperties()),t),{LogLevel:r(d[2]).default.ERROR}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.OCSDK&&(s={name:r(d[1]).default.OCSDK,properties:i(i(i({},l.populateOCSDKBaseProperties()),t),{LogLevel:r(d[2]).default.ERROR}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.ACSCLIENT&&(s={name:r(d[1]).default.ACSCLIENT,properties:i(i(i({},l.populateACSClientBaseProperties()),t),{LogLevel:r(d[2]).default.ERROR}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.ACSADAPTER&&(s={name:r(d[1]).default.ACSADAPTER,properties:i(i(i({},l.populateACSAdapterBaseProperties()),t),{LogLevel:r(d[2]).default.ERROR}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.CALLINGSDK&&(s={name:r(d[1]).default.CALLINGSDK,properties:i(i(i({},l.populateCallingSDKBaseProperties()),t),{LogLevel:r(d[2]).default.ERROR}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.AMSCLIENT&&(s={name:r(d[1]).default.AMSCLIENT,properties:i(i(i({},l.populateAMSClientBaseProperties()),t),{LogLevel:r(d[2]).default.ERROR}),priority:r(d[3]).AWTEventPriority.High}),this._debug&&console.log("[AriaTelemetry][error] ".concat(o)),this._debug&&console.log(s),this._debug&&console.log(s.properties.Event),!l._disable&&(null===(n=l.logger)||void 0===n||n.logEvent(s))},l.log=function(t,o){var n;void 0===o&&(o=r(d[1]).default.EVENTS);var s={name:r(d[1]).default.EVENTS,properties:i(i(i(i(i({},l.populateBaseProperties()),l.fillWebPlatformData()),l.fillMobilePlatformData()),t),{LogLevel:r(d[2]).default.LOG}),priority:r(d[3]).AWTEventPriority.High};o==r(d[1]).default.IC3CLIENT&&(s={name:r(d[1]).default.IC3CLIENT,properties:i(i(i({},l.populateIC3ClientBaseProperties()),t),{LogLevel:r(d[2]).default.LOG}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.OCSDK&&(s={name:r(d[1]).default.OCSDK,properties:i(i(i({},l.populateOCSDKBaseProperties()),t),{LogLevel:r(d[2]).default.LOG}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.ACSCLIENT&&(s={name:r(d[1]).default.ACSCLIENT,properties:i(i(i({},l.populateACSClientBaseProperties()),t),{LogLevel:r(d[2]).default.LOG}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.ACSADAPTER&&(s={name:r(d[1]).default.ACSADAPTER,properties:i(i(i({},l.populateACSAdapterBaseProperties()),t),{LogLevel:r(d[2]).default.LOG}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.CALLINGSDK&&(s={name:r(d[1]).default.CALLINGSDK,properties:i(i(i({},l.populateCallingSDKBaseProperties()),t),{LogLevel:r(d[2]).default.LOG}),priority:r(d[3]).AWTEventPriority.High}),o==r(d[1]).default.AMSCLIENT&&(s={name:r(d[1]).default.AMSCLIENT,properties:i(i(i({},l.populateAMSClientBaseProperties()),t),{LogLevel:r(d[2]).default.LOG}),priority:r(d[3]).AWTEventPriority.High}),this._debug&&console.log("[AriaTelemetry][log]"),this._debug&&console.log(s),this._debug&&console.log(s.properties.Event),!l._disable&&(null===(n=l.logger)||void 0===n||n.logEvent(s))},Object.defineProperty(l,"logger",{get:function(){return l._logger||(this._debug&&console.log("[AriaTelemetry][logger][initialize]"),l._logger=r(d[0]).AWTLogManager.initialize(r(d[4]).ariaTelemetryKey,l._configuration)),l._logger},enumerable:!1,configurable:!0}),l.populateBaseProperties=function(){var t={OCSDK:r(d[5]).version,IC3Core:r(d[6]).version,ACSChat:r(d[7]).version,ACSCommon:r(d[8]).version,AMSClient:r(d[9]).version};return{ChatSDKRuntimeId:'',OrgId:'',OrgUrl:'',WidgetId:'',RequestId:'',ChatId:'',CallId:'',Domain:'',ExceptionDetails:'',ElapsedTimeInMilliseconds:'',ChatSDKVersion:r(d[10]).version,NPMPackagesInfo:JSON.stringify(t),CDNPackagesInfo:JSON.stringify(l._CDNPackagesInfo),PlatformDetails:''}},l.fillMobilePlatformData=function(){var i={},o={};if(!(0,r(d[11]).isReactNative)())return i;try{var l=r(d[12]).Platform;o.Renderer=t.ReactNative,i.DeviceInfo_OsVersion=l.Version,o.DeviceInfo_OsVersion=l.Version,'android'===l.OS.toLowerCase()?(i.DeviceInfo_OsName='Android',o.DeviceInfo_OsName='Android'):'ios'===l.OS.toLowerCase()?(i.DeviceInfo_OsName='iOS',o.DeviceInfo_OsName='iOS'):(i.DeviceInfo_OsName="".concat(l.OS),o.DeviceInfo_OsName="".concat(l.OS)),this._debug&&console.log("[AriaTelemetry][fillMobilePlatformData][".concat(i.DeviceInfo_OsName,"]"))}catch(t){this._debug&&console.log("[AriaTelemetry][fillMobilePlatformData][Web]")}return i.PlatformDetails=JSON.stringify(o),i},l.fillWebPlatformData=function(){var t={};if(!(0,r(d[11]).isBrowser)())return t;try{t.Domain=window.location.origin||'',this._debug&&console.log("[AriaTelemetry][fillWebPlatformData]")}catch(t){this._debug&&console.log("[AriaTelemetry][fillWebPlatformData][Error]")}return t},l.populateIC3ClientBaseProperties=function(){return{ChatSDKRuntimeId:'',OrgId:'',OrgUrl:'',WidgetId:'',RequestId:'',ChatId:'',Event:'',Description:'',SubscriptionId:'',EndpointId:'',EndpointUrl:'',ErrorCode:'',ExceptionDetails:'',ElapsedTimeInMilliseconds:'',IC3ClientVersion:r(d[4]).ic3ClientVersion}},l.populateOCSDKBaseProperties=function(){return{ChatSDKRuntimeId:'',OrgId:'',OrgUrl:'',WidgetId:'',RequestId:'',ChatId:'',TransactionId:'',Event:'',ExceptionDetails:'',ElapsedTimeInMilliseconds:'',RequestHeaders:'',RequestPayload:'',RequestPath:'',RequestMethod:'',ResponseStatusCode:'',OCSDKVersion:r(d[5]).version}},l.populateACSClientBaseProperties=function(){return{ChatSDKRuntimeId:'',OrgId:'',OrgUrl:'',WidgetId:'',RequestId:'',ChatId:'',Event:'',ExceptionDetails:'',ElapsedTimeInMilliseconds:'',ACSChatVersion:r(d[7]).version}},l.populateACSAdapterBaseProperties=function(){return{ChatSDKRuntimeId:'',OrgId:'',OrgUrl:'',WidgetId:'',RequestId:'',ChatId:'',Event:'',ExceptionDetails:'',ElapsedTimeInMilliseconds:'',ACSAdapterVersion:r(d[4]).webChatACSAdapterVersion}},l.populateCallingSDKBaseProperties=function(){return{ChatSDKRuntimeId:'',OrgId:'',OrgUrl:'',WidgetId:'',RequestId:'',ChatId:'',CallId:'',Event:'',Description:'',ExceptionDetails:'',ElapsedTimeInMilliseconds:''}},l.populateAMSClientBaseProperties=function(){return{ChatSDKRuntimeId:'',OrgId:'',OrgUrl:'',WidgetId:'',RequestId:'',ChatId:'',Event:'',ExceptionDetails:'',ElapsedTimeInMilliseconds:'',AMSClientVersion:r(d[9]).version}},l._debug=!1,l._disable=!1,l._key=r(d[4]).ariaTelemetryKey,l._collectorUri=o.collectorUri,l._configuration={},l})();e.default=l},747,[748,750,751,423,740,686,752,753,754,755,419,743,1]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AWTPropertyType=r(d[0]).AWTPropertyType,e.AWTPiiKind=r(d[0]).AWTPiiKind,e.AWTEventPriority=r(d[0]).AWTEventPriority,e.AWTEventsDroppedReason=r(d[0]).AWTEventsDroppedReason,e.AWTEventsRejectedReason=r(d[0]).AWTEventsRejectedReason,e.AWTCustomerContentKind=r(d[0]).AWTCustomerContentKind,e.AWTUserIdType=r(d[1]).AWTUserIdType,e.AWTSessionState=r(d[1]).AWTSessionState,e.AWT_BEST_EFFORT=r(d[2]).AWT_BEST_EFFORT,e.AWT_NEAR_REAL_TIME=r(d[2]).AWT_NEAR_REAL_TIME,e.AWT_REAL_TIME=r(d[2]).AWT_REAL_TIME,e.AWTEventProperties=r(d[3]).default,e.AWTLogger=r(d[4]).default,e.AWTLogManager=r(d[5]).default,e.AWTTransmissionManager=r(d[6]).default,e.AWTSerializer=r(d[7]).default,e.AWTSemanticContext=r(d[8]).default,e.AWT_COLLECTOR_URL_UNITED_STATES='https://us.pipe.aria.microsoft.com/Collector/3.0/',e.AWT_COLLECTOR_URL_GERMANY='https://de.pipe.aria.microsoft.com/Collector/3.0/',e.AWT_COLLECTOR_URL_JAPAN='https://jp.pipe.aria.microsoft.com/Collector/3.0/',e.AWT_COLLECTOR_URL_AUSTRALIA='https://au.pipe.aria.microsoft.com/Collector/3.0/',e.AWT_COLLECTOR_URL_EUROPE='https://eu.pipe.aria.microsoft.com/Collector/3.0/',e.AWT_COLLECTOR_URL_USGOV_DOD='https://pf.pipe.aria.microsoft.com/Collector/3.0',e.AWT_COLLECTOR_URL_USGOV_DOJ='https://tb.pipe.aria.microsoft.com/Collector/3.0'},748,[423,430,448,422,449,426,749,439,428]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.setEventsHandler=function(t){r(d[0]).default.setEventsHandler(t)},t.getEventsHandler=function(){return r(d[0]).default.getEventsHandler()},t.scheduleTimer=function(){r(d[0]).default.scheduleTimer()},t})();e.default=t},749,[431]);
__d(function(g,r,i,a,m,e,d){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),(function(c){c.EVENTS="occhatsdk_events",c.IC3CLIENT="occhatsdk_ic3clientevents",c.OCSDK="occhatsdk_ocsdkevents",c.ACSCLIENT="occhatsdk_acsclientevents",c.ACSADAPTER="occhatsdk_acsadapterevents",c.CALLINGSDK="occhatsdk_callingsdkevents",c.AMSCLIENT="occhatsdk_amsclientevents",c.UNDEFINED="undefined"})(c||(c={})),e.default=c},750,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var R;Object.defineProperty(e,"__esModule",{value:!0}),(function(R){R.INFO="INFO",R.DEBUG="DEBUG",R.WARN="WARN",R.ERROR="ERROR",R.LOG="LOG"})(R||(R={})),e.default=R},751,[]);
__d(function(e,i,t,s,n,o,c){n.exports={name:"@microsoft/omnichannel-ic3core",version:"0.1.4",description:"Microsoft Omnichannel IC3Core",files:["lib/**/*"],main:"lib/index.js",types:"lib/index.d.ts",scripts:{"build:tsc":"tsc",lint:"eslint src --ext .ts",test:"jest"},author:"Microsoft Corporation",license:"MIT",repository:{type:"git",url:"https://github.com/microsoft/omnichannel-ic3core"},homepage:"https://github.com/microsoft/omnichannel-ic3core#omnichannel-ic3core",keywords:[],devDependencies:{"@types/jest":"^27.0.2","@typescript-eslint/eslint-plugin":"^4.32.0","@typescript-eslint/parser":"^4.32.0",eslint:"^7.32.0","eslint-plugin-security":"^1.4.0",jest:"^27.2.2","ts-jest":"^27.0.5",typescript:"^4.4.3"},dependencies:{axios:"^1.7.4",buffer:"^6.0.3"}}},752,[]);
__d(function(e,t,r,s,n,o,i){n.exports={name:"@azure/communication-chat",version:"1.5.2",description:"Azure client library for Azure Communication Chat services","sdk-type":"client",main:"dist/index.js",module:"dist-esm/src/index.js",types:"types/communication-chat.d.ts",scripts:{audit:"node ../../../common/scripts/rush-audit.js && rimraf node_modules package-lock.json && npm i --package-lock-only 2>&1 && npm audit","build:browser":"tsc -p . && dev-tool run bundle","build:node":"tsc -p . && dev-tool run bundle","build:samples":"echo Obsolete.","build:test":"tsc -p . && dev-tool run bundle",build:"npm run clean && tsc -p . && dev-tool run bundle && dev-tool run extract-api","check-format":"dev-tool run vendored prettier --list-different --config ../../../.prettierrc.json --ignore-path ../../../.prettierignore \"src/**/*.ts\" \"test/**/*.ts\" \"samples-dev/**/*.ts\" \"*.{js,json}\"",clean:"rimraf --glob dist dist-* temp types *.tgz *.log","execute:samples":"dev-tool samples run samples-dev","extract-api":"tsc -p . && dev-tool run extract-api",format:"dev-tool run vendored prettier --write --config ../../../.prettierrc.json --ignore-path ../../../.prettierignore \"src/**/*.ts\" \"test/**/*.ts\" \"samples-dev/**/*.ts\" \"*.{js,json}\"","generate:client":"autorest --typescript ./swagger/README.md && rushx format","integration-test:browser":"dev-tool run test:browser","integration-test:node":"dev-tool run test:node-js-input -- --timeout 5000000 'dist-esm/test/**/*.spec.js'","integration-test":"npm run integration-test:node && npm run integration-test:browser","lint:fix":"eslint package.json api-extractor.json README.md src test --ext .ts,.javascript,.js --fix --fix-type [problem,suggestion]",lint:"eslint package.json api-extractor.json README.md src test --ext .ts,.javascript,.js",pack:"npm pack 2>&1","test:browser":"npm run build:test && npm run unit-test:browser","test:node":"npm run build:test && npm run unit-test:node",test:"npm run build:test && npm run unit-test && npm run integration-test","unit-test:browser":"dev-tool run test:browser","unit-test:node":"cross-env TS_NODE_FILES=true dev-tool run test:node-ts-input -- --timeout 1200000 'test/**/*.spec.ts'","unit-test":"npm run unit-test:node && npm run unit-test:browser"},files:["dist/","dist-esm/src/","types/communication-chat.d.ts","README.md","LICENSE"],browser:{"./dist-esm/src/signaling/signalingClient.js":"./dist-esm/src/signaling/signalingClient.browser.js"},repository:"github:Azure/azure-sdk-for-js",keywords:["azure","cloud","Azure","communication","chat"],author:"Microsoft Corporation",license:"MIT",bugs:{url:"https://github.com/Azure/azure-sdk-for-js/issues"},engines:{node:">=18.0.0"},homepage:"https://github.com/Azure/azure-sdk-for-js/tree/main/sdk/communication/communication-chat/",sideEffects:!1,prettier:"@azure/eslint-plugin-azure-sdk/prettier.json",dependencies:{"@azure/abort-controller":"^2.0.0","@azure/communication-common":"^2.3.1","@azure/communication-signaling":"1.0.0-beta.28","@azure/core-auth":"^1.3.0","@azure/core-client":"^1.9.2","@azure/core-paging":"^1.1.1","@azure/core-rest-pipeline":"^1.16.3","@azure/core-tracing":"^1.0.0","@azure/logger":"^1.0.0",events:"^3.0.0",tslib:"^2.2.0",uuid:"^8.3.0"},devDependencies:{"@azure-tools/test-credential":"^1.0.0","@azure-tools/test-recorder":"^3.5.1","@azure/communication-identity":"^1.3.1","@azure/core-util":"^1.0.0","@azure/dev-tool":"^1.0.0","@azure/eslint-plugin-azure-sdk":"^3.0.0","@microsoft/api-extractor":"^7.31.1","@types/chai":"^4.1.6","@types/mocha":"^10.0.0","@types/node":"^18.0.0","@types/sinon":"^17.0.0","@types/uuid":"^8.0.0",chai:"^4.2.0","cross-env":"^7.0.2",dotenv:"^16.0.0",eslint:"^8.0.0",inherits:"^2.0.3",karma:"^6.2.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-env-preprocessor":"^0.1.1","karma-firefox-launcher":"^1.1.0","karma-json-preprocessor":"^0.3.3","karma-json-to-file-reporter":"^1.0.1","karma-junit-reporter":"^2.0.1","karma-mocha":"^2.0.1","karma-mocha-reporter":"^2.2.5","karma-sourcemap-loader":"^0.3.8",mocha:"^10.0.0",nyc:"^17.0.0",rimraf:"^5.0.5",sinon:"^17.0.0",typescript:"~5.5.3",util:"^0.12.1","ts-node":"^10.0.0"},"//metadata":{constantPaths:[{path:"src/generated/src/chatApiClient.ts",prefix:"packageDetails"},{path:"src/generated/src/tracing.ts",prefix:"packageVersion"},{path:"swagger/README.md",prefix:"package-version"}]},"//sampleConfiguration":{productName:"Azure Communication Services - Chat",productSlugs:["azure","azure-communication-services"],requiredResources:{"Azure Communication Services account":"https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource"}}}},753,[]);
__d(function(e,t,r,s,n,o,i){n.exports={name:"@azure/communication-common",version:"2.3.1",description:"Common package for Azure Communication services.","sdk-type":"client",main:"dist/index.js",module:"dist-esm/src/index.js",types:"types/communication-common.d.ts",browser:{"./dist-esm/src/credential/cryptoUtils.js":"./dist-esm/src/credential/cryptoUtils.browser.js","./dist-esm/src/credential/isNode.js":"./dist-esm/src/credential/isNode.browser.js"},scripts:{audit:"node ../../../common/scripts/rush-audit.js && rimraf node_modules package-lock.json && npm i --package-lock-only 2>&1 && npm audit","build:browser":"tsc -p . && dev-tool run bundle","build:node":"tsc -p . && dev-tool run bundle","build:samples":"echo Skipped.","build:test":"tsc -p . && dev-tool run bundle",build:"npm run clean && tsc -p . && dev-tool run bundle && api-extractor run --local","check-format":"dev-tool run vendored prettier --list-different --config ../../../.prettierrc.json --ignore-path ../../../.prettierignore \"src/**/*.ts\" \"test/**/*.ts\" \"*.{js,json}\"",clean:"rimraf dist dist-* temp types *.tgz *.log","execute:samples":"echo skipped","extract-api":"tsc -p . && api-extractor run --local",format:"dev-tool run vendored prettier --write --config ../../../.prettierrc.json --ignore-path ../../../.prettierignore \"src/**/*.ts\" \"test/**/*.ts\" \"*.{js,json}\"","integration-test:browser":"karma start --single-run","integration-test:node":"dev-tool run test:node-js-input -- --timeout 5000000 'dist-esm/test/**/*.spec.js'","integration-test":"npm run integration-test:node && npm run integration-test:browser","lint:fix":"eslint package.json api-extractor.json README.md src test --ext .ts,.javascript,.js --fix --fix-type [problem,suggestion]",lint:"eslint package.json api-extractor.json README.md src test --ext .ts,.javascript,.js",pack:"npm pack 2>&1","test:browser":"npm run build:test && npm run unit-test:browser && npm run integration-test:browser","test:node":"npm run build:test && npm run unit-test:node && npm run integration-test:node",test:"npm run build:test && npm run unit-test && npm run integration-test","unit-test:browser":"karma start --single-run","unit-test:node":"dev-tool run test:node-ts-input --no-test-proxy=true","unit-test":"npm run unit-test:node && npm run unit-test:browser"},files:["dist/","dist-esm/src","types/communication-common.d.ts","README.md","LICENSE"],repository:"github:Azure/azure-sdk-for-js",keywords:["azure","cloud","Azure","communication","common"],author:"Microsoft Corporation",license:"MIT",bugs:{url:"https://github.com/Azure/azure-sdk-for-js/issues"},engines:{node:">=18.0.0"},homepage:"https://github.com/Azure/azure-sdk-for-js/tree/main/sdk/communication/communication-common/",sideEffects:!1,prettier:"@azure/eslint-plugin-azure-sdk/prettier.json",dependencies:{"@azure/abort-controller":"^1.0.0","@azure/core-auth":"^1.3.0","@azure/core-rest-pipeline":"^1.3.2","@azure/core-tracing":"^1.0.0","@azure/core-util":"^1.0.0",events:"^3.0.0","jwt-decode":"^4.0.0",tslib:"^2.2.0"},devDependencies:{"@azure/eslint-plugin-azure-sdk":"^3.0.0","@azure/dev-tool":"^1.0.0","@microsoft/api-extractor":"^7.31.1","@types/chai-as-promised":"^7.1.0","@types/chai":"^4.1.6","@types/mocha":"^10.0.0","@types/node":"^18.0.0","@types/sinon":"^17.0.0","chai-as-promised":"^7.1.1",chai:"^4.2.0","cross-env":"^7.0.2",eslint:"^8.0.0",inherits:"^2.0.3","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-env-preprocessor":"^0.1.1","karma-firefox-launcher":"^1.1.0","karma-junit-reporter":"^2.0.1","karma-mocha-reporter":"^2.2.5","karma-mocha":"^2.0.1","karma-sourcemap-loader":"^0.3.8",karma:"^6.2.0",mocha:"^10.0.0",c8:"^8.0.0",rimraf:"^3.0.0",sinon:"^17.0.0",typescript:"~5.3.3",util:"^0.12.1",mockdate:"^3.0.5","ts-node":"^10.0.0",esm:"^3.2.18"}}},754,[]);
__d(function(t,e,s,i,n,o,c){n.exports={name:"@microsoft/omnichannel-amsclient",version:"0.1.6",description:"Microsoft Omnichannel AMSClient",files:["lib/**/*"],main:"lib/index.js",types:"lib/index.d.ts",scripts:{"build:tsc":"tsc",test:"jest",lint:"eslint src --ext .ts"},author:"Microsoft Corporation",license:"MIT",repository:{type:"git",url:"https://github.com/microsoft/omnichannel-amsclient"},homepage:"https://github.com/microsoft/omnichannel-amsclient#readme",devDependencies:{"@types/jest":"^26.0.24","@typescript-eslint/eslint-plugin":"^4.28.5","@typescript-eslint/parser":"^4.28.5","cross-env":"^7.0.3",esbuild:"^0.12.1",eslint:"^7.31.0",jest:"^27.0.6","ts-jest":"^27.0.4",typescript:"^4.2.4"}}},755,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++)for(var s in n=arguments[i])Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var n=(function(){function n(t){this.omnichannelConfig=t,this.runtimeId='',this.telemetry=null,this.debug=!1,this.telemetryEvents=new Map,this.scenarioType=r(d[0]).default.EVENTS}return n.prototype.setDebug=function(t){var n;this.debug=t,null===(n=this.telemetry)||void 0===n||n.setDebug(t)},n.prototype.setScenarioType=function(t){this.scenarioType=t},n.prototype.setRuntimeId=function(t){this.runtimeId=t},n.prototype.useTelemetry=function(t){this.debug&&console.log("[ScenarioMarker][useTelemetry]"),this.telemetry=t},n.prototype.startScenario=function(n,i){var o;if(void 0===i&&(i={}),this.debug&&console.log("[ScenarioMarker][startScenario]"),!this.telemetryEvents.has(n)){var s=new(r(d[1]).default);s.start(),this.telemetryEvents.set(n,s)}var l=t({ChatSDKRuntimeId:this.runtimeId,Event:(0,r(d[2]).startEvent)(n),OrgId:this.omnichannelConfig.orgId,OrgUrl:this.omnichannelConfig.orgUrl,WidgetId:this.omnichannelConfig.widgetId},i);null===(o=this.telemetry)||void 0===o||o.info(l,this.scenarioType)},n.prototype.failScenario=function(n,i){var o;if(void 0===i&&(i={}),this.debug&&console.log("[ScenarioMarker][failScenario]"),this.telemetryEvents.has(n)){var s=this.telemetryEvents.get(n);this.telemetryEvents.delete(n);var l=t({ChatSDKRuntimeId:this.runtimeId,Event:(0,r(d[2]).failEvent)(n),OrgId:this.omnichannelConfig.orgId,OrgUrl:this.omnichannelConfig.orgUrl,WidgetId:this.omnichannelConfig.widgetId,ElapsedTimeInMilliseconds:s.stop()},i);null===(o=this.telemetry)||void 0===o||o.error(l,this.scenarioType)}else console.warn("'".concat(n,"' event has not started."))},n.prototype.completeScenario=function(n,i){var o;if(void 0===i&&(i={}),this.debug&&console.log("[ScenarioMarker][completeScenario]"),this.telemetryEvents.has(n)){var s=this.telemetryEvents.get(n);this.telemetryEvents.delete(n);var l=t({ChatSDKRuntimeId:this.runtimeId,Event:(0,r(d[2]).completeEvent)(n),OrgId:this.omnichannelConfig.orgId,OrgUrl:this.omnichannelConfig.orgUrl,WidgetId:this.omnichannelConfig.widgetId,ElapsedTimeInMilliseconds:s.stop()},i);null===(o=this.telemetry)||void 0===o||o.info(l,this.scenarioType)}else console.warn("'".concat(n,"' event has not started."))},n})();e.default=n},756,[750,757,758]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.prototype.start=function(){this.timeStart=(new Date).getTime()},t.prototype.stop=function(){return(new Date).getTime()-this.timeStart},t})();e.default=t},757,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.failEvent=e.completeEvent=e.startEvent=void 0;e.startEvent=function(t){return"".concat(t,"Started")};e.completeEvent=function(t){return"".concat(t,"Completed")};e.failEvent=function(t){return"".concat(t,"Failed")}},758,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var i,n=1,o=arguments.length;n<o;n++)for(var s in i=arguments[n])Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.createAMSClientLogger=e.createCallingSDKLogger=e.createACSAdapterLogger=e.createACSClientLogger=e.createOCSDKLogger=e.createIC3ClientLogger=e.AMSClientLogger=e.CallingSDKLogger=e.ACSAdapterLogger=e.ACSClientLogger=e.OCSDKLogger=e.IC3ClientLogger=void 0;var i=(function(){function i(t){this.omnichannelConfig=t,this.debug=!1,this.runtimeId='',this.requestId='',this.chatId='',this.telemetry=null,this.debug=!1}return i.prototype.setDebug=function(t){this.debug=t},i.prototype.setRuntimeId=function(t){this.runtimeId=t},i.prototype.setRequestId=function(t){this.requestId=t},i.prototype.setChatId=function(t){this.chatId=t},i.prototype.useTelemetry=function(t){this.debug&&console.log("[IC3ClientLogger][useTelemetry]"),this.telemetry=t},i.prototype.logClientSdkTelemetryEvent=function(i,n){var o,s,l,u;this.debug&&console.log("[IC3ClientLogger][logClientSdkTelemetryEvent][".concat(i,"]")),this.debug&&console.log(n);var h={ChatSDKRuntimeId:this.runtimeId,OrgId:this.omnichannelConfig.orgId,OrgUrl:this.omnichannelConfig.orgUrl,WidgetId:this.omnichannelConfig.widgetId,RequestId:this.requestId,ChatId:this.chatId},c=t(t({},n),{ExceptionDetails:n.ExceptionDetails?JSON.stringify(n.ExceptionDetails):''});switch(i){case r(d[0]).default.DEBUG:null===(o=this.telemetry)||void 0===o||o.debug(t(t({},h),c),r(d[1]).default.IC3CLIENT);break;case r(d[0]).default.WARN:null===(s=this.telemetry)||void 0===s||s.warn(t(t({},h),c),r(d[1]).default.IC3CLIENT);break;case r(d[0]).default.ERROR:null===(l=this.telemetry)||void 0===l||l.error(t(t({},h),c),r(d[1]).default.IC3CLIENT);break;case r(d[0]).default.INFO:default:null===(u=this.telemetry)||void 0===u||u.info(t(t({},h),c),r(d[1]).default.IC3CLIENT)}},i})();e.IC3ClientLogger=i;var n=(function(){function i(t){this.omnichannelConfig=t,this.debug=!1,this.runtimeId='',this.requestId='',this.chatId='',this.telemetry=null,this.debug=!1}return i.prototype.setDebug=function(t){this.debug=t},i.prototype.setRuntimeId=function(t){this.runtimeId=t},i.prototype.setRequestId=function(t){this.requestId=t},i.prototype.setChatId=function(t){this.chatId=t},i.prototype.useTelemetry=function(t){this.debug&&console.log("[OCSDKLogger][useTelemetry]"),this.telemetry=t},i.prototype.logClientSdkTelemetryEvent=function(i,n){var o,s,l,u;this.debug&&console.log("[OCSDKLogger][logClientSdkTelemetryEvent][".concat(i,"]")),this.debug&&console.log(n);var h={ChatSDKRuntimeId:this.runtimeId,OrgId:this.omnichannelConfig.orgId,OrgUrl:this.omnichannelConfig.orgUrl,WidgetId:this.omnichannelConfig.widgetId,RequestId:this.requestId,ChatId:this.chatId},c=t(t({},n),{RequestHeaders:n.RequestHeaders?JSON.stringify(n.RequestHeaders):'',RequestPayload:n.RequestPayload?JSON.stringify(n.RequestPayload):'',ExceptionDetails:n.ExceptionDetails?JSON.stringify(n.ExceptionDetails):''});switch(i){case r(d[0]).default.DEBUG:null===(o=this.telemetry)||void 0===o||o.debug(t(t({},h),c),r(d[1]).default.OCSDK);break;case r(d[0]).default.WARN:null===(s=this.telemetry)||void 0===s||s.warn(t(t({},h),c),r(d[1]).default.OCSDK);break;case r(d[0]).default.ERROR:null===(l=this.telemetry)||void 0===l||l.error(t(t({},h),c),r(d[1]).default.OCSDK);break;case r(d[0]).default.INFO:default:null===(u=this.telemetry)||void 0===u||u.info(t(t({},h),c),r(d[1]).default.OCSDK)}},i})();e.OCSDKLogger=n;var o=(function(){function i(t){this.omnichannelConfig=t,this.debug=!1,this.runtimeId='',this.requestId='',this.chatId='',this.telemetry=null,this.scenarioMarker=null,this.debug=!1,this.scenarioMarker=new(r(d[2]).default)(t),this.scenarioMarker.setScenarioType(r(d[1]).default.ACSCLIENT)}return i.prototype.setDebug=function(t){var i;this.debug=t,null===(i=this.scenarioMarker)||void 0===i||i.setDebug(t)},i.prototype.setRuntimeId=function(t){var i;this.runtimeId=t,null===(i=this.scenarioMarker)||void 0===i||i.setRuntimeId(t)},i.prototype.setRequestId=function(t){this.requestId=t},i.prototype.setChatId=function(t){this.chatId=t},i.prototype.useTelemetry=function(t){var i;this.debug&&console.log("[ACSClientLogger][useTelemetry]"),this.telemetry=t,null===(i=this.scenarioMarker)||void 0===i||i.useTelemetry(this.telemetry)},i.prototype.logClientSdkTelemetryEvent=function(i,n){var o,s,l,u;this.debug&&console.log("[ACSClientLogger][logClientSdkTelemetryEvent][".concat(i,"]")),this.debug&&console.log(n);var h={ChatSDKRuntimeId:this.runtimeId,OrgId:this.omnichannelConfig.orgId,OrgUrl:this.omnichannelConfig.orgUrl,WidgetId:this.omnichannelConfig.widgetId,RequestId:this.requestId,ChatId:this.chatId},c=t(t({},n),{ExceptionDetails:n.ExceptionDetails?JSON.stringify(n.ExceptionDetails):''});switch(i){case r(d[0]).default.DEBUG:null===(o=this.telemetry)||void 0===o||o.debug(t(t({},h),c),r(d[1]).default.ACSCLIENT);break;case r(d[0]).default.WARN:null===(s=this.telemetry)||void 0===s||s.warn(t(t({},h),c),r(d[1]).default.ACSCLIENT);break;case r(d[0]).default.ERROR:null===(l=this.telemetry)||void 0===l||l.error(t(t({},h),c),r(d[1]).default.ACSCLIENT);break;case r(d[0]).default.INFO:default:null===(u=this.telemetry)||void 0===u||u.info(t(t({},h),c),r(d[1]).default.ACSCLIENT)}},i.prototype.startScenario=function(i,n){var o;void 0===n&&(n={});var s={RequestId:this.requestId,ChatId:this.chatId};null===(o=this.scenarioMarker)||void 0===o||o.startScenario(i,t(t({},s),n))},i.prototype.failScenario=function(i,n){var o;void 0===n&&(n={});var s={RequestId:this.requestId,ChatId:this.chatId};null===(o=this.scenarioMarker)||void 0===o||o.failScenario(i,t(t({},s),n))},i.prototype.completeScenario=function(i,n){var o;void 0===n&&(n={});var s={RequestId:this.requestId,ChatId:this.chatId};null===(o=this.scenarioMarker)||void 0===o||o.completeScenario(i,t(t({},s),n))},i})();e.ACSClientLogger=o;var s=(function(){function i(t){this.omnichannelConfig=t,this.debug=!1,this.runtimeId='',this.requestId='',this.chatId='',this.telemetry=null,this.scenarioMarker=null,this.debug=!1,this.scenarioMarker=new(r(d[2]).default)(t),this.scenarioMarker.setScenarioType(r(d[1]).default.ACSADAPTER)}return i.prototype.setDebug=function(t){var i;this.debug=t,null===(i=this.scenarioMarker)||void 0===i||i.setDebug(t)},i.prototype.setRuntimeId=function(t){var i;this.runtimeId=t,null===(i=this.scenarioMarker)||void 0===i||i.setRuntimeId(this.runtimeId)},i.prototype.setRequestId=function(t){this.requestId=t},i.prototype.setChatId=function(t){this.chatId=t},i.prototype.useTelemetry=function(t){var i;this.debug&&console.log("[ACSAdapterLogger][useTelemetry]"),this.telemetry=t,null===(i=this.scenarioMarker)||void 0===i||i.useTelemetry(this.telemetry)},i.prototype.logEvent=function(i,n){var o,s,l,u;this.debug&&console.log("[ACSAdapterLogger][logClientSdkTelemetryEvent][".concat(i,"]")),this.debug&&console.log(n);var h={ChatSDKRuntimeId:this.runtimeId,OrgId:this.omnichannelConfig.orgId,OrgUrl:this.omnichannelConfig.orgUrl,WidgetId:this.omnichannelConfig.widgetId,RequestId:this.requestId,ChatId:this.chatId},c=t(t({},n),{ExceptionDetails:n.ExceptionDetails?JSON.stringify(n.ExceptionDetails):''});switch(i){case r(d[0]).default.DEBUG:null===(o=this.telemetry)||void 0===o||o.debug(t(t({},h),c),r(d[1]).default.ACSADAPTER);break;case r(d[0]).default.WARN:null===(s=this.telemetry)||void 0===s||s.warn(t(t({},h),c),r(d[1]).default.ACSADAPTER);break;case r(d[0]).default.ERROR:null===(l=this.telemetry)||void 0===l||l.error(t(t({},h),c),r(d[1]).default.ACSADAPTER);break;case r(d[0]).default.INFO:default:null===(u=this.telemetry)||void 0===u||u.info(t(t({},h),c),r(d[1]).default.ACSADAPTER)}},i.prototype.startScenario=function(i,n){var o;void 0===n&&(n={});var s={RequestId:this.requestId,ChatId:this.chatId};null===(o=this.scenarioMarker)||void 0===o||o.startScenario(i,t(t({},s),n))},i.prototype.failScenario=function(i,n){var o;void 0===n&&(n={});var s={RequestId:this.requestId,ChatId:this.chatId};null===(o=this.scenarioMarker)||void 0===o||o.failScenario(i,t(t({},s),n))},i.prototype.completeScenario=function(i,n){var o;void 0===n&&(n={});var s={RequestId:this.requestId,ChatId:this.chatId};null===(o=this.scenarioMarker)||void 0===o||o.completeScenario(i,t(t({},s),n))},i})();e.ACSAdapterLogger=s;var l=(function(){function i(t){this.omnichannelConfig=t,this.debug=!1,this.runtimeId='',this.requestId='',this.chatId='',this.telemetry=null,this.debug=!1}return i.prototype.setDebug=function(t){this.debug=t},i.prototype.setRuntimeId=function(t){this.runtimeId=t},i.prototype.setRequestId=function(t){this.requestId=t},i.prototype.setChatId=function(t){this.chatId=t},i.prototype.useTelemetry=function(t){this.debug&&console.log("[CallingSDKLogger][useTelemetry]"),this.telemetry=t},i.prototype.logScenarioOperation=function(t,i,n,o,s,l){},i.prototype.logCallingSdkTelemetryEvent=function(i,n){var o,s,l,u;this.debug&&console.log("[CallingSDKLogger][logClientSdkTelemetryEvent][".concat(i,"]")),this.debug&&console.log(n);var h={ChatSDKRuntimeId:this.runtimeId,OrgId:this.omnichannelConfig.orgId,OrgUrl:this.omnichannelConfig.orgUrl,WidgetId:this.omnichannelConfig.widgetId,RequestId:this.requestId,ChatId:this.chatId},c=t(t({},n),{ExceptionDetails:n.ExceptionDetails?JSON.stringify(n.ExceptionDetails):''});switch(i){case r(d[0]).default.DEBUG:null===(o=this.telemetry)||void 0===o||o.debug(t(t({},h),c),r(d[1]).default.CALLINGSDK);break;case r(d[0]).default.WARN:null===(s=this.telemetry)||void 0===s||s.warn(t(t({},h),c),r(d[1]).default.CALLINGSDK);break;case r(d[0]).default.ERROR:null===(l=this.telemetry)||void 0===l||l.error(t(t({},h),c),r(d[1]).default.CALLINGSDK);break;case r(d[0]).default.INFO:default:null===(u=this.telemetry)||void 0===u||u.info(t(t({},h),c),r(d[1]).default.CALLINGSDK)}},i})();e.CallingSDKLogger=l;var u=(function(){function i(t){this.omnichannelConfig=t,this.debug=!1,this.runtimeId='',this.requestId='',this.chatId='',this.telemetry=null,this.debug=!1}return i.prototype.setDebug=function(t){this.debug=t},i.prototype.setRuntimeId=function(t){this.runtimeId=t},i.prototype.setRequestId=function(t){this.requestId=t},i.prototype.setChatId=function(t){this.chatId=t},i.prototype.useTelemetry=function(t){this.debug&&console.log("[AMSClientLogger][useTelemetry]"),this.telemetry=t},i.prototype.logClientSdkTelemetryEvent=function(i,n){var o,s,l,u;this.debug&&console.log("[AMSClientLogger][logClientSdkTelemetryEvent][".concat(i,"]")),this.debug&&console.log(n);var h={ChatSDKRuntimeId:this.runtimeId,OrgId:this.omnichannelConfig.orgId,OrgUrl:this.omnichannelConfig.orgUrl,WidgetId:this.omnichannelConfig.widgetId,RequestId:this.requestId,ChatId:this.chatId},c=t(t({},n),{ExceptionDetails:n.ExceptionDetails?JSON.stringify(n.ExceptionDetails):''});switch(i){case r(d[0]).default.DEBUG:null===(o=this.telemetry)||void 0===o||o.debug(t(t({},h),c),r(d[1]).default.AMSCLIENT);break;case r(d[0]).default.WARN:null===(s=this.telemetry)||void 0===s||s.warn(t(t({},h),c),r(d[1]).default.AMSCLIENT);break;case r(d[0]).default.ERROR:null===(l=this.telemetry)||void 0===l||l.error(t(t({},h),c),r(d[1]).default.AMSCLIENT);break;case r(d[0]).default.INFO:default:null===(u=this.telemetry)||void 0===u||u.info(t(t({},h),c),r(d[1]).default.AMSCLIENT)}},i})();e.AMSClientLogger=u;e.createIC3ClientLogger=function(t,n){void 0===n&&(n=!1);var o=new i(t);return o.setDebug(n),o};e.createOCSDKLogger=function(t,i){void 0===i&&(i=!1);var o=new n(t);return o.setDebug(i),o};e.createACSClientLogger=function(t,i){void 0===i&&(i=!1);var n=new o(t);return n.setDebug(i),n};e.createACSAdapterLogger=function(t,i){void 0===i&&(i=!1);var n=new s(t);return n.setDebug(i),n};e.createCallingSDKLogger=function(t,i){void 0===i&&(i=!1);var n=new l(t);return n.setDebug(i),n};e.createAMSClientLogger=function(t,i){void 0===i&&(i=!1);var n=new u(t);return n.setDebug(i),n}},759,[751,750,756]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setChatId=e.setDebug=e.setRequestId=e.setRuntimeId=e.useTelemetry=void 0;e.useTelemetry=function(t,u,l,s,n,I,R){void 0===R&&(R=null),u.useTelemetry(t),l.useTelemetry(t),s.useTelemetry(t),n.useTelemetry(t),I.useTelemetry(t),null==R||R.useTelemetry(t)};e.setRuntimeId=function(t,u,l,s,n,I,R){void 0===R&&(R=null),u.setRuntimeId(t),l.setRuntimeId(t),s.setRuntimeId(t),n.setRuntimeId(t),I.setRuntimeId(t),null==R||R.setRuntimeId(t)};e.setRequestId=function(t,u,l,s,n,I,R){void 0===R&&(R=null),null==u||u.setRequestId(t),null==l||l.setRequestId(t),null==s||s.setRequestId(t),null==n||n.setRequestId(t),null==I||I.setRequestId(t),null==R||R.setRequestId(t)};e.setDebug=function(t,u,l,s,n,I,R){void 0===R&&(R=null),null==u||u.setDebug(t),null==l||l.setDebug(t),null==s||s.setDebug(t),null==n||n.setDebug(t),null==I||I.setDebug(t),null==R||R.setDebug(t)};e.setChatId=function(t,u,l,s,n,I,R){void 0===R&&(R=null),null==u||u.setChatId(t),null==l||l.setChatId(t),null==s||s.setChatId(t),null==n||n.setChatId(t),null==I||I.setChatId(t),null==R||R.setChatId(t)},e.default={useTelemetry:e.useTelemetry,setRuntimeId:e.setRuntimeId,setRequestId:e.setRequestId,setDebug:e.setDebug,setChatId:e.setChatId}},760,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=["orgUrl","orgId","widgetId"];e.default=function(t){if(!t)throw new Error("OmnichannelConfiguration not found");for(var o=0,f=n;o<f.length;o++){var c=f[o];if(!Reflect.has(t,c))throw new Error("Missing '".concat(c,"' in OmnichannelConfiguration"));var l=Reflect.get(t,c);if(!l||"string"==typeof l&&0===l.trim().length||0===l.length)throw new Error("Empty '".concat(c,"' in OmnichannelConfiguration"))}}},761,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){var o=t;t.endsWith("/")&&(o=t.replace("/",""));for(var l=0;l<r(d[0]).default.length;l++)if(o.endsWith(r(d[0]).default[l]))return"https://eu-mobile.events.data.microsoft.com/Collector/3.0/";for(l=0;l<r(d[1]).default.length;l++)if(o.includes(r(d[1]).default[l]))return"https://tb.pipe.aria.microsoft.com/Collector/3.0/";return"https://browser.pipe.aria.microsoft.com/Collector/3.0/"}},762,[763,764]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=["crm4.omnichannelengagementhub.com","crm12.omnichannelengagementhub.com","crm16.omnichannelengagementhub.com","crm17.omnichannelengagementhub.com","crm19.omnichannelengagementhub.com","crm11.omnichannelengagementhub.com","eu.omnichannelengagementhub.com","fr.omnichannelengagementhub.com","de.omnichannelengagementhub.com","ch.omnichannelengagementhub.com","uk.omnichannelengagementhub.com"]},763,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=["gov.omnichannelengagementhub.us","-crm9"]},764,[]);
__d(function(_g,r,_i2,a,m,_e,d){"use strict";var e=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,u){function c(e){try{s(o.next(e))}catch(e){u(e)}}function l(e){try{s(o.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(c,l)}s((o=o.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,o,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=l(0),c.throw=l(1),c.return=l(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function l(e){return function(t){return s([e,t])}}function s(l){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,l[0]&&(u=0)),u;)try{if(n=1,o&&(i=2&l[0]?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return u.label++,{value:l[1],done:!1};case 5:u.label++,o=l[1],l=[0];continue;case 7:l=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){u=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){u.label=l[1];break}if(6===l[0]&&u.label<i[1]){u.label=i[1],i=l;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(l);break}i[2]&&u.ops.pop(),u.trys.pop();continue}l=t.call(e,u)}catch(e){l=[6,e],o=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},n=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,i=0,u=t.length;i<u;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(_e,"__esModule",{value:!0}),_e.sleep=_e.removeElementById=_e.loadScript=void 0,_e.sleep=r(d[0]).default;var o=function(i){for(var u=[],c=1;c<arguments.length;c++)u[c-1]=arguments[c];return e(void 0,n([i],u,!0),void 0,function(n,i,u,c,l){return void 0===i&&(i=function(){}),void 0===u&&(u=function(){}),void 0===c&&(c=3),void 0===l&&(l=0),t(this,function(s){return[2,new Promise(function(s,f){return e(void 0,void 0,void 0,function(){var v,p;return t(this,function(h){switch(h.label){case 0:return v=Array.from(document.getElementsByTagName('script')),v.filter(function(e){return e.src==n}).length?[4,i()]:[3,2];case 1:return h.sent(),[2,s()];case 2:return(p=document.createElement('script')).setAttribute('src',n),p.setAttribute('type','text/javascript'),document.head.appendChild(p),p.addEventListener('load',function(){return e(void 0,void 0,void 0,function(){return t(this,function(e){switch(e.label){case 0:return[4,i()];case 1:return e.sent(),s(),[2]}})})}),p.addEventListener('error',function(){return e(void 0,void 0,void 0,function(){var e,s;return t(this,function(t){switch(t.label){case 0:return++l>=c?[4,u()]:[3,2];case 1:return t.sent(),[2,f(new Error("Resource failed to load, or can't be used."))];case 2:return p.remove(),e=1e3*Math.min(Math.pow(2,l)+Math.random(),60),[4,(0,r(d[0]).default)(e)];case 3:t.sent(),t.label=4;case 4:return t.trys.push([4,6,,7]),[4,o(n,i,u,c,l)];case 5:return t.sent(),[3,7];case 6:return s=t.sent(),f(s),[3,7];case 7:return[2]}})})}),[2]}})})})]})})};_e.loadScript=o;var i=function(e){var t;null===(t=document.getElementById(e))||void 0===t||t.remove()};_e.removeElementById=i,_e.default={loadScript:o,removeElementById:i,sleep:r(d[0]).default}},765,[766]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return new Promise(function(n){return setTimeout(n,t)})}},766,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),(function(t){t.ValidateOmnichannelConfig="ValidateOmnichannelConfig",t.ValidateSDKConfig="ValidateSDKConfig",t.InitializeChatSDK="InitializeChatSDK",t.InitializeChatSDKParallel="InitializeChatSDKParallel",t.InitializeMessagingClient="InitializeMessagingClient ",t.InitializeComponents="InitializeComponents",t.InitializeLoadChatConfig="InitializeLoadChatConfig",t.StartChat="StartChat",t.EndChat="EndChat",t.CloseChatSession="CloseChatSession",t.GetLiveChatConfig="GetLiveChatConfig",t.GetAuthToken="GetAuthToken",t.GetPreChatSurvey="GetPreChatSurvey",t.GetChatToken="GetChatToken",t.GetConversationDetails="GetConversationDetails",t.GetCurrentLiveChatContext="GetCurrentLiveChatContext",t.GetMessages="GetMessages",t.SendMessages="SendMessages",t.SendTypingEvent="SendTypingEvent",t.OnAgentEndSession="OnAgentEndSession",t.OnNewMessage="OnNewMessage",t.OnTypingEvent="OnTypingEvent",t.UploadFileAttachment="UploadFileAttachment",t.DownloadFileAttachment="DownloadFileAttachment",t.EmailLiveChatTranscript="EmailLiveChatTranscript",t.GetLiveChatTranscript="GetLiveChatTranscript",t.CreateIC3Adapter="CreateChatAdapter",t.CreateACSAdapter="CreateACSAdapter",t.CreateDirectLine="CreateDirectLine",t.GetVoiceVideoCalling="GetVoiceVideoCalling",t.GetIC3Client="GetIC3Client",t.InitializeVoiceVideoCallingSDK="InitializeVoiceVideoCallingSDK",t.AcceptVoiceCall="AcceptVoiceCall",t.AcceptVideoCall="AcceptVideoCall",t.RejectCall="RejectCall",t.StopCall="StopCall",t.OnCallDisconnected="OnCallDisconnected",t.UpdateChatToken="UpdateChatToken",t.GetChatReconnectContext="GetChatReconnectContext",t.GetPostChatSurveyContext="GetPostChatSurveyContext",t.GetAgentAvailability="GetAgentAvailability",t.GetGeolocation="GetGeolocation",t.GetChatReconnectContextWithReconnectId="GetChatReconnectContextWithReconnectId",t.GetChatReconnectContextWithAuthToken="GetChatReconnectContextWithAuthToken"})(t||(t={})),e.default=t},767,[]);
__d(function(_g2,r,_i2,a,m,_e2,d){"use strict";var e,t=this&&this.__assign||function(){return(t=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,s){function c(e){try{u(i.next(e))}catch(e){s(e)}}function l(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(c,l)}u((i=i.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,i,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=l(0),c.throw=l(1),c.return=l(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function l(e){return function(t){return u([e,t])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,l[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,i=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){s=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){s.label=l[1];break}if(6===l[0]&&s.label<o[1]){s.label=o[1],o=l;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(l);break}o[2]&&s.ops.pop(),s.trys.pop();continue}l=t.call(e,s)}catch(e){l=[6,e],i=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.ACSConversation=void 0,(function(e){e.InitializeACSClient="InitializeACSClient",e.InitializeACSConversation="InitializeACSConversation",e.GetParticipants="GetParticipants",e.RegisterOnNewMessage="RegisterOnNewMessage",e.RegisterOnThreadUpdate="RegisterOnThreadUpdate",e.OnTypingEvent="OnTypingEvent",e.GetMessages="GetMessages",e.SendMessage="SendMessage",e.SendTyping="SendTyping",e.Disconnect="Disconnect"})(e||(e={}));var o=(function(){function o(e,t,n){void 0===n&&(n=null),this.logger=null,this.logger=n,this.tokenCredential=e,this.chatClient=t,this.eventListeners={}}return o.prototype.initialize=function(t){return n(this,void 0,void 0,function(){var n,o,s,c,l,u,h,g,v;return i(this,function(i){switch(i.label){case 0:null===(l=this.logger)||void 0===l||l.startScenario(e.InitializeACSConversation),this.sessionInfo=t,i.label=1;case 1:return i.trys.push([1,3,,4]),n=this,[4,null===(u=this.chatClient)||void 0===u?void 0:u.getChatThreadClient(t.threadId)];case 2:return n.chatThreadClient=i.sent(),[3,4];case 3:throw o=i.sent(),c={response:'ChatClientGetChatThreadClientFailure',errorObject:"".concat(o)},null===(h=this.logger)||void 0===h||h.failScenario(e.InitializeACSConversation,{ExceptionDetails:JSON.stringify(c)}),new Error("GetChatThreadClientFailed");case 4:return i.trys.push([4,6,,7]),[4,this.chatClient.startRealtimeNotifications()];case 5:return i.sent(),[3,7];case 6:throw s=i.sent(),c={response:'StartRealtimeNotificationsFailed',errorObject:"".concat(s)},null===(g=this.logger)||void 0===g||g.failScenario(e.InitializeACSConversation,{ExceptionDetails:JSON.stringify(c)}),new Error(c.response);case 7:return null===(v=this.logger)||void 0===v||v.completeScenario(e.InitializeACSConversation),[2]}})})},o.prototype.getMessages=function(){return n(this,void 0,void 0,function(){var t,n,o,s,c,l,u,h,g,v;return i(this,function(i){switch(i.label){case 0:null===(h=this.logger)||void 0===h||h.startScenario(e.GetMessages),t=[],i.label=1;case 1:return i.trys.push([1,9,,10]),[4,this.chatThreadClient.listMessages()];case 2:return[4,(n=i.sent()).next()];case 3:o=i.sent(),i.label=4;case 4:return o.done?[3,8]:(s=o.value).type===r(d[0]).default.Text?[3,6]:[4,n.next()];case 5:return o=i.sent(),[3,4];case 6:return c=(0,r(d[1]).default)(s,{liveChatVersion:r(d[2]).default.V2}),t.push(c),[4,n.next()];case 7:return o=i.sent(),[3,4];case 8:return null===(g=this.logger)||void 0===g||g.completeScenario(e.GetMessages),[3,10];case 9:throw l=i.sent(),u={errorObject:"".concat(l)},null===(v=this.logger)||void 0===v||v.failScenario(e.GetMessages,{ExceptionDetails:JSON.stringify(u)}),new Error(e.GetMessages);case 10:return[2,t]}})})},o.prototype.getParticipants=function(){return n(this,void 0,void 0,function(){var t,n,o,s,c,l,u,h,g;return i(this,function(i){switch(i.label){case 0:null===(u=this.logger)||void 0===u||u.startScenario(e.GetParticipants),t=[],i.label=1;case 1:return i.trys.push([1,7,,8]),[4,this.chatThreadClient.listParticipants()];case 2:return[4,(n=i.sent()).next()];case 3:o=i.sent(),i.label=4;case 4:return o.done?[3,6]:(s=o.value,t.push(s),[4,n.next()]);case 5:return o=i.sent(),[3,4];case 6:return null===(h=this.logger)||void 0===h||h.completeScenario(e.GetParticipants),[3,8];case 7:throw c=i.sent(),l={errorObject:"".concat(c)},null===(g=this.logger)||void 0===g||g.failScenario(e.GetParticipants,{ExceptionDetails:JSON.stringify(l)}),new Error(e.GetParticipants);case 8:return[2,t]}})})},o.prototype.registerOnNewMessage=function(t){return n(this,void 0,void 0,function(){var o,s,c,l,u,h,g,v,f,p,y,C,S=this;return i(this,function(w){switch(w.label){case 0:null===(g=this.logger)||void 0===g||g.startScenario(e.RegisterOnNewMessage),o=!1,s=new Set,w.label=1;case 1:return w.trys.push([1,3,,4]),[4,(c=function(e){return n(S,void 0,void 0,function(){var n,l,u,h,g,v;return i(this,function(i){switch(i.label){case 0:if(o)return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.getMessages()];case 2:for(n=i.sent(),l=0,u=n.reverse();l<u.length;l++)h=u[l],g=h.id,v=h.sender,v.displayName===r(d[3]).default.Customer||s.has(g)||(t(h),s.add(g));return[3,4];case 3:return i.sent(),[3,4];case 4:return setTimeout(function(){c(e)},e),[2]}})})})(null===(v=this.sessionInfo)||void 0===v?void 0:v.pollingInterval)];case 2:return w.sent(),l=function(e){var n;o=!0;var i=e.id,c=e.sender.communicationUserId===(null===(n=S.sessionInfo)||void 0===n?void 0:n.id),l=Object.keys(e).includes("editedOn");c||s.has(i)&&!l||(t(e),s.add(i))},null===(f=this.chatClient)||void 0===f||f.on("chatMessageReceived",l),null===(p=this.chatClient)||void 0===p||p.on("chatMessageEdited",l),this.trackListener("chatMessageReceived",l),this.trackListener("chatMessageEdited",l),null===(y=this.logger)||void 0===y||y.completeScenario(e.RegisterOnNewMessage),[3,4];case 3:throw u=w.sent(),h={errorObject:"".concat(u)},null===(C=this.logger)||void 0===C||C.failScenario(e.RegisterOnNewMessage,{ExceptionDetails:JSON.stringify(h)}),new Error(e.RegisterOnNewMessage);case 4:return[2]}})})},o.prototype.registerOnThreadUpdate=function(t){return n(this,void 0,void 0,function(){var n,o,s,c,l;return i(this,function(i){null===(o=this.logger)||void 0===o||o.startScenario(e.RegisterOnThreadUpdate);try{n=function(e){t(e)},null===(s=this.chatClient)||void 0===s||s.on("participantsRemoved",n),this.trackListener("participantsRemoved",n),null===(c=this.logger)||void 0===c||c.completeScenario(e.RegisterOnThreadUpdate)}catch(t){null===(l=this.logger)||void 0===l||l.failScenario(e.RegisterOnThreadUpdate)}return[2]})})},o.prototype.onTypingEvent=function(t){return n(this,void 0,void 0,function(){var n,o,s,c,l;return i(this,function(i){null===(o=this.logger)||void 0===o||o.startScenario(e.OnTypingEvent);try{n=function(e){var n=e.sender,i=e.recipient;n.communicationUserId!==i.communicationUserId&&t(e)},null===(s=this.chatClient)||void 0===s||s.on("typingIndicatorReceived",n),this.trackListener("typingIndicatorReceived",n),null===(c=this.logger)||void 0===c||c.completeScenario(e.OnTypingEvent)}catch(t){null===(l=this.logger)||void 0===l||l.failScenario(e.OnTypingEvent)}return[2]})})},o.prototype.sendMessage=function(o){return n(this,void 0,void 0,function(){var n,s,c,l,u,h,g,v;return i(this,function(i){switch(i.label){case 0:null===(u=this.logger)||void 0===u||u.startScenario(e.SendMessage),o.metadata||(o.metadata={}),n={content:o.content},s={senderDisplayName:r(d[3]).default.Customer,metadata:t({deliveryMode:r(d[4]).default.Bridged,tags:r(d[5]).defaultMessageTags.join(',')},o.metadata)},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,null===(h=this.chatThreadClient)||void 0===h?void 0:h.sendMessage(n,s)];case 2:return i.sent(),null===(g=this.logger)||void 0===g||g.completeScenario(e.SendMessage),[3,4];case 3:throw c=i.sent(),l={response:'SendMessageFailed',errorObject:"".concat(c)},null===(v=this.logger)||void 0===v||v.failScenario(e.SendMessage,{ExceptionDetails:JSON.stringify(l)}),new Error('SendMessageFailed');case 4:return[2]}})})},o.prototype.sendTyping=function(){return n(this,void 0,void 0,function(){var t,n,o,s,c,l;return i(this,function(i){switch(i.label){case 0:null===(o=this.logger)||void 0===o||o.startScenario(e.SendTyping),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,null===(s=this.chatThreadClient)||void 0===s?void 0:s.sendTypingNotification()];case 2:return i.sent(),null===(c=this.logger)||void 0===c||c.completeScenario(e.SendTyping),[3,4];case 3:throw t=i.sent(),n={response:'SendTypingFailed',errorObject:"".concat(t)},null===(l=this.logger)||void 0===l||l.failScenario(e.SendTyping,{ExceptionDetails:JSON.stringify(n)}),new Error('SendTypingFailed');case 4:return[2]}})})},o.prototype.sendFileMessage=function(){return n(this,void 0,void 0,function(){return i(this,function(e){return[2,void 0]})})},o.prototype.sendFileData=function(){return n(this,void 0,void 0,function(){return i(this,function(e){return[2,void 0]})})},o.prototype.uploadFile=function(){return n(this,void 0,void 0,function(){return i(this,function(e){return[2,void 0]})})},o.prototype.downloadFile=function(){return n(this,void 0,void 0,function(){return i(this,function(e){return[2,void 0]})})},o.prototype.disconnect=function(){return n(this,void 0,void 0,function(){var t,n,o,s,c,l,u,h,g,v=this;return i(this,function(i){null===(u=this.logger)||void 0===u||u.startScenario(e.Disconnect);try{for(t=function(e,t){t.forEach(function(t){v.chatClient.off(e,t)})},n=0,o=Object.entries(this.eventListeners);n<o.length;n++)s=o[n],c=s[0],l=s[1],t(c,l);null===(h=this.logger)||void 0===h||h.completeScenario(e.Disconnect)}catch(t){null===(g=this.logger)||void 0===g||g.failScenario(e.Disconnect)}return[2]})})},o.prototype.createParticipantsMapping=function(){return n(this,void 0,void 0,function(){var e,t,n,o,s,c,l;return i(this,function(i){switch(i.label){case 0:return[4,this.getParticipants()];case 1:for(e=i.sent(),t={},n=0,o=e;n<o.length;n++)s=o[n],c=s.id,Object.keys(t).includes(c.communicationUserId)||Object.assign(t,((l={})[c.communicationUserId]=s,l));return[2,t]}})})},o.prototype.trackListener=function(e,t){e in this.eventListeners||(this.eventListeners[e]=[]),this.eventListeners[e].push(t)},o})();_e2.ACSConversation=o;var s=(function(){function t(e){void 0===e&&(e=null),this.logger=null,this.tokenCredential=null,this.chatClient=null,this.logger=e}return t.prototype.initialize=function(t){return n(this,void 0,void 0,function(){var o,s,c,l,u,h,g=this;return i(this,function(v){null===(c=this.logger)||void 0===c||c.startScenario(e.InitializeACSClient),o=function(){return n(g,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return t.tokenRefresher?[4,t.tokenRefresher()]:[3,2];case 1:return[2,e.sent()];case 2:return[2,t.token]}})})};try{this.tokenCredential=new(r(d[6]).AzureCommunicationTokenCredential)({token:t.token,tokenRefresher:o,refreshProactively:!0})}catch(t){throw s={response:'CreateTokenCredentialFailure',errorObject:"".concat(t)},null===(l=this.logger)||void 0===l||l.failScenario(e.InitializeACSClient,{ExceptionDetails:JSON.stringify(s)}),new Error('CreateTokenCredentialFailed')}try{this.chatClient=new(r(d[7]).ChatClient)(t.environmentUrl,this.tokenCredential)}catch(t){throw s={response:'CreateChatClientFailure',errorObject:"".concat(t)},null===(u=this.logger)||void 0===u||u.failScenario(e.InitializeACSClient,{ExceptionDetails:JSON.stringify(s)}),new Error('CreateChatClientFailed')}return null===(h=this.logger)||void 0===h||h.completeScenario(e.InitializeACSClient),[2]})})},t.prototype.joinConversation=function(e){return n(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,(t=new o(this.tokenCredential,this.chatClient,this.logger)).initialize(e)];case 1:return n.sent(),[2,t]}})})},t.prototype.getChatClient=function(){return this.chatClient},t})();_e2.default=s},768,[769,770,745,698,699,772,773,850]);
__d(function(g,r,i,a,m,e,d){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),(function(t){t.Text="text",t.TopicUpdated="topicUpdated",t.ParticipantAdded="participantAdded",t.ParticipantRemoved="participantRemoved"})(t||(t={})),e.default=t},769,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var o in s=arguments[i])Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});e.default=function(s,i){var n={};if(n.liveChatVersion=i.liveChatVersion||r(d[0]).default.V1,i.debug&&console.log(s),i.liveChatVersion===r(d[0]).default.V2){var o=s,l=o.id,c=o.content,f=o.metadata,p=o.sender,u=o.senderDisplayName,y=o.createdOn,v=o.editedOn;if(n.id=l,n.messageid=void 0,n.clientmessageid=void 0,n.deliveryMode=void 0,n.properties={},n.content='',n.properties.tags=f&&f.tags?f.tags:[],n.tags=f&&f.tags?f.tags.replace(/\"/g,"").split(",").filter(function(t){return t.length>0}):[],n.timestamp=null!=v?v:y,n.messageType=r(d[1]).MessageType.UserMessage,n.sender={id:p.communicationUserId,displayName:u,type:r(d[1]).PersonType.Bot},c?'string'==typeof c?n.content=c:'object'==typeof c&&'string'==typeof(null==c?void 0:c.message)&&(n.content=c.message):s.message&&(n.content=s.message),f&&f.amsMetadata&&f.amsReferences||f.amsreferences)try{var M=JSON.parse(f.amsMetadata),h=JSON.parse(f.amsreferences||f.amsReferences),O=M[0],_=O.fileName,b=O.contentType;n.fileMetadata={},n.fileMetadata.fileSharingProtocolType=0,n.fileMetadata.id=h[0],n.fileMetadata.name=_,n.fileMetadata.size=0,n.fileMetadata.type=b,n.fileMetadata.url=''}catch(t){}}else{var N=s.clientmessageid;n.id=N,n=t({},s)}return n}},770,[745,771]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceType=e.FileSharingProtocolType=e.PersonType=e.MessageType=e.DeliveryMode=e.MessageContentType=void 0;var n=(function(){function n(){}return n.RichText="RichText",n.Text="Text",n})();e.MessageContentType=n;var t=(function(){function n(){}return n.Bridged="bridged",n.Unbridged="unbridged",n})();e.DeliveryMode=t;var o,s,c=(function(){function n(){}return n.UserMessage="UserMessage",n.SwiftCard="SwiftCard",n.Typing="Control/Typing",n.ClearTyping="Control/ClearTyping",n.LiveState="Control/LiveState",n})();e.MessageType=c,(function(n){n[n.Unknown=0]="Unknown",n[n.User=1]="User",n[n.Bot=2]="Bot"})(o||(e.PersonType=o={})),(function(n){n[n.AmsBasedFileSharing=0]="AmsBasedFileSharing"})(s||(e.FileSharingProtocolType=s={}));var p=(function(){function n(){}return n.NewMessage="NewMessage",n.MessageUpdate="MessageUpdate",n.UserPresence="UserPresence",n.ConversationUpdate="ConversationUpdate",n.ThreadUpdate="ThreadUpdate",n})();e.ResourceType=p},771,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultMessageTags=e.customerMessageTag=e.channelIdTag=void 0,e.channelIdTag='ChannelId-lcw',e.customerMessageTag='FromCustomer',e.defaultMessageTags=[e.channelIdTag,e.customerMessageTag]},772,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0});var n,t,o=function(n){return{token:n,expiresOnTimestamp:1e3*r(d[0]).jwtDecode(n).exp}},s={token:"",expiresOnTimestamp:-10},u=1e3*10*60,c=.5,h=(function(){return r(d[2])(function n(t){r(d[1])(this,n),this.expiringSoonIntervalInMs=u,this.refreshAfterLifetimePercentage=c,this.activeTokenFetching=null,this.activeTokenUpdating=null,this.disposed=!1;var h=t.tokenRefresher,f=t.token,p=t.refreshProactively;this.refresh=h,this.currentToken=f?o(f):s,this.refreshProactively=null!=p&&p,this.refreshProactively&&this.scheduleRefresh()},[{key:"getToken",value:(function(){var n=r(d[3])(function*(n){if(!this.isTokenExpiringSoon(this.currentToken))return this.currentToken;this.isTokenValid(this.currentToken)||(yield this.updateTokenAndReschedule(null==n?void 0:n.abortSignal));return this.currentToken});return function(t){return n.apply(this,arguments)}})()},{key:"dispose",value:function(){this.disposed=!0,this.activeTokenFetching=null,this.activeTokenUpdating=null,this.currentToken=s,this.activeTimeout&&clearTimeout(this.activeTimeout)}},{key:"updateTokenAndReschedule",value:(function(){var n=r(d[3])(function*(n){if(this.activeTokenUpdating)return this.activeTokenUpdating;this.activeTokenUpdating=this.refreshTokenAndReschedule(n);try{yield this.activeTokenUpdating}finally{this.activeTokenUpdating=null}});return function(t){return n.apply(this,arguments)}})()},{key:"refreshTokenAndReschedule",value:(function(){var n=r(d[3])(function*(n){var t=yield this.refreshToken(n);if(!this.isTokenValid(t))throw new Error("The token returned from the tokenRefresher is expired.");this.currentToken=t,this.refreshProactively&&this.scheduleRefresh()});return function(t){return n.apply(this,arguments)}})()},{key:"refreshToken",value:(function(){var n=r(d[3])(function*(n){try{return this.activeTokenFetching||(this.activeTokenFetching=this.refresh(n)),o(yield this.activeTokenFetching)}finally{this.activeTokenFetching=null}});return function(t){return n.apply(this,arguments)}})()},{key:"scheduleRefresh",value:function(){var n=this;if(!this.disposed){this.activeTimeout&&clearTimeout(this.activeTimeout);var t=this.currentToken.expiresOnTimestamp-Date.now(),o=null;o=this.isTokenExpiringSoon(this.currentToken)?t*this.refreshAfterLifetimePercentage:t-this.expiringSoonIntervalInMs,this.activeTimeout=setTimeout(function(){return n.updateTokenAndReschedule()},o)}}},{key:"isTokenValid",value:function(n){return n&&Date.now()<n.expiresOnTimestamp}},{key:"isTokenExpiringSoon",value:function(n){return!n||Date.now()>=n.expiresOnTimestamp-this.expiringSoonIntervalInMs}}])})(),f=(function(){return r(d[2])(function n(t){r(d[1])(this,n),this.token=t},[{key:"getToken",value:(function(){var n=r(d[3])(function*(){return this.token});return function(){return n.apply(this,arguments)}})()},{key:"dispose",value:function(){}}])})(),p=(function(){return r(d[2])(function n(t){r(d[1])(this,n),this.disposed=!1,this.tokenCredential="string"==typeof t?new f(o(t)):new h(t)},[{key:"getToken",value:(function(){var n=r(d[3])(function*(n){this.throwIfDisposed();var t=yield this.tokenCredential.getToken(n);return this.throwIfDisposed(),t});return function(t){return n.apply(this,arguments)}})()},{key:"dispose",value:function(){this.disposed=!0,this.tokenCredential.dispose()}},{key:"throwIfDisposed",value:function(){if(this.disposed)throw new Error("User credential is disposed")}}])})(),l=(n=r(d[3])(function*(n){return r(d[4]).createHash("sha256").update(n).digest("base64")}),function(t){return n.apply(this,arguments)}),k=(t=r(d[3])(function*(n,t){var o=Buffer.from(n,"base64");return r(d[4]).createHmac("sha256",o).update(t).digest("base64")}),function(n,o){return t.apply(this,arguments)}),T="CommunicationAccessKeyCredentialPolicy";function v(n){return{name:T,sendRequest:(function(){var t=r(d[3])(function*(t,o){var s,u=t.method.toUpperCase(),c=(new Date).toUTCString(),h=yield l((null===(s=t.body)||void 0===s?void 0:s.toString())||""),f=new URL(t.url),p=f.searchParams.toString(),T=p?f.pathname+"?"+p:f.pathname,v=f.port,y=v?f.host+":"+v:f.host,w=u+"\n"+T+"\n"+c+";"+y+";"+h,I=yield k(n.key,w);return r(d[5]).isNode&&t.headers.set("Host",y||""),t.headers.set("x-ms-date",c),t.headers.set("x-ms-content-sha256",h),t.headers.set("Authorization","HMAC-SHA256 SignedHeaders=x-ms-date;host;x-ms-content-sha256&Signature="+I),o(t)});return function(n,o){return t.apply(this,arguments)}})()}}var y=/endpoint=(.*);accesskey=(.*)/i,w=function(n){var t=n.match(y);if((null==t?void 0:t[1])&&t[2])return{endpoint:t[1],credential:new(r(d[6]).AzureKeyCredential)(t[2])}},I=function(n){var t=w(n);if(t)return t;throw new Error("Invalid connection string "+n)},U=function(n){var t,o=new URL(n);return!!(null===(t=o.protocol)||void 0===t?void 0:t.match(/^http[s]?/))&&void 0!==o.host&&""!==o.host&&(void 0===o.pathname||""===o.pathname||"/"===o.pathname)},b=function(n){if(!U(n))throw new Error("Invalid endpoint url "+n)},A=function(n){var t=n;return t&&"string"==typeof t.key&&void 0===t.getToken},C=function(n){return"string"==typeof n.communicationUserId},N=function(n){return"string"==typeof n.phoneNumber},O=function(n){return"string"==typeof n.microsoftTeamsUserId},x=function(n){return"string"==typeof n.teamsAppId},R=function(n){return C(n)?Object.assign(Object.assign({},n),{kind:"communicationUser"}):N(n)?Object.assign(Object.assign({},n),{kind:"phoneNumber"}):O(n)?Object.assign(Object.assign({},n),{kind:"microsoftTeamsUser"}):x(n)?Object.assign(Object.assign({},n),{kind:"microsoftTeamsApp"}):Object.assign(Object.assign({},n),{kind:"unknown"})},S=function(n){var t=R(n);switch(t.kind){case"communicationUser":return t.communicationUserId;case"microsoftTeamsUser":var o=t.microsoftTeamsUserId,s=t.rawId,u=t.cloud,c=t.isAnonymous;if(s)return s;if(c)return"8:teamsvisitor:"+o;switch(u){case"dod":return"8:dod:"+o;case"gcch":return"8:gcch:"+o;case"public":return"8:orgid:"+o}return"8:orgid:"+o;case"microsoftTeamsApp":var h=t.teamsAppId,f=t.rawId,p=t.cloud;if(f)return f;switch(p){case"dod":return"28:dod:"+h;case"gcch":return"28:gcch:"+h}return"28:orgid:"+h;case"phoneNumber":var l=t.phoneNumber,k=t.rawId;return k||"4:"+l;case"unknown":return t.id}},P=function(n,t){return{kind:"microsoftTeamsApp",teamsAppId:n,cloud:t}},j=function(n,t,o){return{kind:"microsoftTeamsUser",microsoftTeamsUserId:n,isAnonymous:o,cloud:t}},E=function(n,t){var o=Object.keys(n)[0],s=n[o];if(t in s)return s[t];throw new Error("Property "+t+" is required for identifier of type "+o+".")},D=function(n){var t=[];if(void 0!==n.communicationUser&&t.push("communicationUser"),void 0!==n.microsoftTeamsUser&&t.push("microsoftTeamsUser"),void 0!==n.microsoftTeamsApp&&t.push("microsoftTeamsApp"),void 0!==n.phoneNumber&&t.push("phoneNumber"),t.length>1)throw new Error("Only one of the properties in "+JSON.stringify(t)+" should be present.")},z=function(n){return n.communicationUser?"communicationUser":n.phoneNumber?"phoneNumber":n.microsoftTeamsUser?"microsoftTeamsUser":n.microsoftTeamsApp?"microsoftTeamsApp":"unknown"};e.AzureCommunicationTokenCredential=p,e.createCommunicationAccessKeyCredentialPolicy=v,e.createCommunicationAuthPolicy=function(n){if(r(d[6]).isTokenCredential(n)){var t={credential:n,scopes:["https://communication.azure.com//.default"]};return r(d[7]).bearerTokenAuthenticationPolicy(t)}return v(n)},e.createIdentifierFromRawId=function(n){if(n.startsWith("4:"))return{kind:"phoneNumber",phoneNumber:""+n.substring("4:".length)};var t=n.split(":");if(3!==t.length)return{kind:"unknown",id:n};var o=t[0]+":"+t[1]+":",s=t[2];switch(o){case"8:teamsvisitor:":return{kind:"microsoftTeamsUser",microsoftTeamsUserId:s,isAnonymous:!0};case"8:orgid:":return j(s,"public",!1);case"8:dod:":return j(s,"dod",!1);case"8:gcch:":return j(s,"gcch",!1);case"8:acs:":case"8:spool:":case"8:dod-acs:":case"8:gcch-acs:":return{kind:"communicationUser",communicationUserId:n};case"28:orgid:":return P(s,"public");case"28:gcch:":return P(s,"gcch");case"28:dod:":return P(s,"dod")}return{kind:"unknown",id:n}},e.deserializeCommunicationIdentifier=function(n){var t;D(n);var o=n.communicationUser,s=n.microsoftTeamsUser,u=n.microsoftTeamsApp,c=n.phoneNumber,h=null!==(t=n.kind)&&void 0!==t?t:z(n);return"communicationUser"===h&&o?{kind:"communicationUser",communicationUserId:E({communicationUser:o},"id")}:"phoneNumber"===h&&c?{kind:"phoneNumber",phoneNumber:E({phoneNumber:c},"value"),rawId:E({phoneNumber:n},"rawId")}:"microsoftTeamsUser"===h&&s?{kind:"microsoftTeamsUser",microsoftTeamsUserId:E({microsoftTeamsUser:s},"userId"),isAnonymous:E({microsoftTeamsUser:s},"isAnonymous"),cloud:E({microsoftTeamsUser:s},"cloud"),rawId:E({microsoftTeamsUser:n},"rawId")}:"microsoftTeamsApp"===h&&u?{kind:"microsoftTeamsApp",teamsAppId:E({microsoftTeamsApp:u},"appId"),cloud:E({microsoftTeamsApp:u},"cloud"),rawId:E({microsoftTeamsApp:n},"rawId")}:{kind:"unknown",id:E({unknown:n},"rawId")}},e.getIdentifierKind=R,e.getIdentifierRawId=S,e.isCommunicationUserIdentifier=C,e.isKeyCredential=A,e.isMicrosoftTeamsAppIdentifier=x,e.isMicrosoftTeamsUserIdentifier=O,e.isPhoneNumberIdentifier=N,e.isUnknownIdentifier=function(n){return"string"==typeof n.id},e.parseClientArguments=function(n,t){if(A(t)||r(d[6]).isTokenCredential(t))return b(n),{url:n,credential:t};var o=I(n),s=o.endpoint,u=o.credential;return b(s),{url:s,credential:u}},e.parseConnectionString=I,e.serializeCommunicationIdentifier=function(n){var t,o,s,u,c,h,f=R(n);switch(f.kind){case"communicationUser":return{rawId:S(f),communicationUser:{id:f.communicationUserId}};case"phoneNumber":return{rawId:null!==(t=f.rawId)&&void 0!==t?t:S(f),phoneNumber:{value:f.phoneNumber}};case"microsoftTeamsUser":return{rawId:null!==(o=f.rawId)&&void 0!==o?o:S(f),microsoftTeamsUser:{userId:f.microsoftTeamsUserId,isAnonymous:null!==(s=f.isAnonymous)&&void 0!==s&&s,cloud:null!==(u=f.cloud)&&void 0!==u?u:"public"}};case"microsoftTeamsApp":return{rawId:null!==(c=f.rawId)&&void 0!==c?c:S(f),microsoftTeamsApp:{appId:f.teamsAppId,cloud:null!==(h=f.cloud)&&void 0!==h?h:"public"}};case"unknown":return{rawId:f.id};default:throw new Error("Can't serialize an identifier with kind "+f.kind)}}},773,[774,12,13,270,464,775,792,798]);
__d(function(g,r,i,a,_m,_e,d){"use strict";function e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(e=function(){return!!t})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.jwtDecode=_e.InvalidTokenError=void 0;var t=(function(t){function n(){return r(d[2])(this,n),t=this,o=n,c=arguments,o=r(d[0])(o),r(d[1])(t,e()?Reflect.construct(o,c||[],r(d[0])(t).constructor):o.apply(t,c));var t,o,c}return r(d[3])(n,t),r(d[4])(n)})(r(d[5])(Error));function n(e){return decodeURIComponent(atob(e).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function o(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return n(t)}catch(e){return atob(t)}}_e.InvalidTokenError=t,t.prototype.name="InvalidTokenError",_e.jwtDecode=function(e,n){if("string"!=typeof e)throw new t("Invalid token specified: must be a string");n||(n={});var c,s=!0===n.header?0:1,u=e.split(".")[s];if("string"!=typeof u)throw new t("Invalid token specified: missing part #"+(s+1));try{c=o(u)}catch(e){throw new t("Invalid token specified: invalid base64 for part #"+(s+1)+" ("+e.message+")")}try{return JSON.parse(c)}catch(e){throw new t("Invalid token specified: invalid json for part #"+(s+1)+" ("+e.message+")")}}},774,[44,45,12,47,13,49]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"calculateRetryDelay",{enumerable:!0,get:function(){return r(d[0]).calculateRetryDelay}}),Object.defineProperty(e,"cancelablePromiseRace",{enumerable:!0,get:function(){return r(d[1]).cancelablePromiseRace}}),Object.defineProperty(e,"computeSha256Hash",{enumerable:!0,get:function(){return r(d[2]).computeSha256Hash}}),Object.defineProperty(e,"computeSha256Hmac",{enumerable:!0,get:function(){return r(d[2]).computeSha256Hmac}}),Object.defineProperty(e,"createAbortablePromise",{enumerable:!0,get:function(){return r(d[3]).createAbortablePromise}}),Object.defineProperty(e,"delay",{enumerable:!0,get:function(){return r(d[0]).delay}}),Object.defineProperty(e,"getErrorMessage",{enumerable:!0,get:function(){return r(d[4]).getErrorMessage}}),Object.defineProperty(e,"getRandomIntegerInclusive",{enumerable:!0,get:function(){return r(d[5]).getRandomIntegerInclusive}}),Object.defineProperty(e,"isBrowser",{enumerable:!0,get:function(){return r(d[6]).isBrowser}}),Object.defineProperty(e,"isBun",{enumerable:!0,get:function(){return r(d[6]).isBun}}),Object.defineProperty(e,"isDefined",{enumerable:!0,get:function(){return r(d[7]).isDefined}}),Object.defineProperty(e,"isDeno",{enumerable:!0,get:function(){return r(d[6]).isDeno}}),Object.defineProperty(e,"isError",{enumerable:!0,get:function(){return r(d[4]).isError}}),Object.defineProperty(e,"isNode",{enumerable:!0,get:function(){return r(d[6]).isNode}}),Object.defineProperty(e,"isNodeLike",{enumerable:!0,get:function(){return r(d[6]).isNodeLike}}),Object.defineProperty(e,"isNodeRuntime",{enumerable:!0,get:function(){return r(d[6]).isNodeRuntime}}),Object.defineProperty(e,"isObject",{enumerable:!0,get:function(){return r(d[8]).isObject}}),Object.defineProperty(e,"isObjectWithProperties",{enumerable:!0,get:function(){return r(d[7]).isObjectWithProperties}}),Object.defineProperty(e,"isReactNative",{enumerable:!0,get:function(){return r(d[6]).isReactNative}}),Object.defineProperty(e,"isWebWorker",{enumerable:!0,get:function(){return r(d[6]).isWebWorker}}),Object.defineProperty(e,"objectHasProperty",{enumerable:!0,get:function(){return r(d[7]).objectHasProperty}}),Object.defineProperty(e,"randomUUID",{enumerable:!0,get:function(){return r(d[9]).randomUUID}}),Object.defineProperty(e,"stringToUint8Array",{enumerable:!0,get:function(){return r(d[10]).stringToUint8Array}}),Object.defineProperty(e,"uint8ArrayToString",{enumerable:!0,get:function(){return r(d[10]).uint8ArrayToString}})},775,[776,781,782,777,786,780,788,789,787,790,784]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateRetryDelay=function(t,n){var o=n.retryDelayInMs*Math.pow(2,t),l=Math.min(n.maxRetryDelayInMs,o);return{retryAfterInMs:l/2+(0,r(d[1]).getRandomIntegerInclusive)(0,l/2)}},e.delay=function(n,o){var l,u=null!=o?o:{},c=u.abortSignal,s=u.abortErrorMsg;return(0,r(d[0]).createAbortablePromise)(function(t){l=setTimeout(t,n)},{cleanupBeforeAbort:function(){return clearTimeout(l)},abortSignal:c,abortErrorMsg:null!=s?s:t})};var t="The delay was aborted."},776,[777,780]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.createAbortablePromise=function(n,t){var o=null!=t?t:{},u=o.cleanupBeforeAbort,l=o.abortSignal,c=o.abortErrorMsg;return new Promise(function(t,o){function b(){o(new(r(d[0]).AbortError)(null!=c?c:"The operation was aborted."))}function f(){null==l||l.removeEventListener("abort",s)}function s(){null==u||u(),f(),b()}if(null==l?void 0:l.aborted)return b();try{n(function(n){f(),t(n)},function(n){f(),o(n)})}catch(n){o(n)}null==l||l.addEventListener("abort",s)})}},777,[778]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortError",{enumerable:!0,get:function(){return r(d[0]).AbortError}})},778,[779]);
__d(function(g,r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.AbortError=void 0;var t=r(d[0])(r(d[1])),e=r(d[0])(r(d[2])),o=r(d[0])(r(d[3])),n=r(d[0])(r(d[4])),u=r(d[0])(r(d[5])),c=r(d[0])(r(d[6]));function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}_e.AbortError=(function(c){function l(t){var u,c,s,v;return(0,e.default)(this,l),c=this,s=l,v=[t],s=(0,n.default)(s),(u=(0,o.default)(c,f()?Reflect.construct(s,v||[],(0,n.default)(c).constructor):s.apply(c,v))).name="AbortError",u}return(0,u.default)(l,c),(0,t.default)(l)})((0,c.default)(Error))},779,[3,13,12,45,44,47,49]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getRandomIntegerInclusive=function(t,n){return t=Math.ceil(t),n=Math.floor(n),Math.floor(Math.random()*(n-t+1))+t}},780,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.cancelablePromiseRace=function(n,o){return t.apply(this,arguments)};var n=r(d[0])(r(d[1]));function t(){return(t=(0,n.default)(function*(n,t){var o,l,u=new AbortController;function c(){u.abort()}null===(o=null==t?void 0:t.abortSignal)||void 0===o||o.addEventListener("abort",c);try{return yield Promise.race(n.map(function(n){return n({abortSignal:u.signal})}))}finally{u.abort(),null===(l=null==t?void 0:t.abortSignal)||void 0===l||l.removeEventListener("abort",c)}})).apply(this,arguments)}},781,[3,270]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r(d[0])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[0])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[0])[n]}}))})},782,[783]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.computeSha256Hash=function(n,t){return s.apply(this,arguments)},e.computeSha256Hmac=function(n,t,o){return u.apply(this,arguments)};var n,t=r(d[0])(r(d[1]));function o(){if(n)return n;if(!self.crypto||!self.crypto.subtle)throw new Error("Your browser environment does not support cryptography functions.");return n=self.crypto.subtle}function u(){return(u=(0,t.default)(function*(n,t,u){var s=o(),y=(0,r(d[2]).stringToUint8Array)(n,"base64"),f=(0,r(d[2]).stringToUint8Array)(t,"utf-8"),p=yield s.importKey("raw",y,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),c=yield s.sign({name:"HMAC",hash:{name:"SHA-256"}},p,f);return(0,r(d[2]).uint8ArrayToString)(new Uint8Array(c),u)})).apply(this,arguments)}function s(){return(s=(0,t.default)(function*(n,t){var u=(0,r(d[2]).stringToUint8Array)(n,"utf-8"),s=yield o().digest({name:"SHA-256"},u);return(0,r(d[2]).uint8ArrayToString)(new Uint8Array(s),t)})).apply(this,arguments)}},783,[3,270,784]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r(d[0])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[0])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[0])[n]}}))})},784,[785]);
__d(function(g,r,_i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.base64ToUint8Array=f,e.base64UrlToUint8Array=s,e.hexStringToUint8Array=A,e.stringToUint8Array=function(n,t){switch(t){case"utf-8":return c(n);case"base64":return f(n);case"base64url":return s(n);case"hex":return A(n)}},e.uint8ArrayToBase64=t,e.uint8ArrayToBase64Url=u,e.uint8ArrayToHexString=o,e.uint8ArrayToString=function(n,c){switch(c){case"utf-8":return i(n);case"base64":return t(n);case"base64url":return u(n);case"hex":return o(n)}},e.uint8ArrayToUtf8String=i,e.utf8StringToUint8Array=c;var n=r(d[0])(r(d[1]));function t(t){return btoa((0,n.default)(t).map(function(n){return String.fromCharCode(n)}).join(""))}function u(n){return t(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function i(n){return(new TextDecoder).decode(n)}function o(t){return(0,n.default)(t).map(function(n){return n.toString(16).padStart(2,"0")}).join("")}function c(n){return(new TextEncoder).encode(n)}function f(t){return new Uint8Array((0,n.default)(atob(t)).map(function(n){return n.charCodeAt(0)}))}function s(n){return f(n.replace(/-/g,"+").replace(/_/g,"/"))}var l=new Set("0123456789abcdefABCDEF");function A(n){for(var t=new Uint8Array(n.length/2),u=0;u<n.length/2;++u){var i=n[2*u],o=n[2*u+1];if(!l.has(i)||!l.has(o))return t.slice(0,u);t[u]=parseInt(""+i+o,16)}return t}},785,[3,6]);
__d(function(g,r,i,a,m,_e,d){function e(e){if((0,r(d[0]).isObject)(e)){var t="string"==typeof e.name,n="string"==typeof e.message;return t&&n}return!1}Object.defineProperty(_e,"__esModule",{value:!0}),_e.getErrorMessage=function(t){if(e(t))return t.message;var n;try{n="object"==typeof t&&t?JSON.stringify(t):String(t)}catch(e){n="[unable to stringify input]"}return"Unknown error "+n},_e.isError=e},786,[787]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.isObject=function(n){return!("object"!=typeof n||null===n||Array.isArray(n)||n instanceof RegExp||n instanceof Date)}},787,[]);
__d(function(g,r,i,a,m,e,d){var o,n,s,l;Object.defineProperty(e,"__esModule",{value:!0}),e.isWebWorker=e.isReactNative=e.isNodeRuntime=e.isNodeLike=e.isNode=e.isDeno=e.isBun=e.isBrowser=void 0;e.isBrowser="undefined"!=typeof window&&void 0!==window.document,e.isWebWorker="object"==typeof self&&"function"==typeof(null===self||void 0===self?void 0:self.importScripts)&&("DedicatedWorkerGlobalScope"===(null===(o=self.constructor)||void 0===o?void 0:o.name)||"ServiceWorkerGlobalScope"===(null===(n=self.constructor)||void 0===n?void 0:n.name)||"SharedWorkerGlobalScope"===(null===(s=self.constructor)||void 0===s?void 0:s.name));var t=e.isDeno="undefined"!=typeof Deno&&void 0!==Deno.version&&void 0!==Deno.version.deno,v=e.isBun="undefined"!=typeof Bun&&void 0!==Bun.version,u=e.isNodeLike=void 0!==globalThis.process&&Boolean(globalThis.process.version)&&Boolean(null===(l=globalThis.process.versions)||void 0===l?void 0:l.node);e.isNode=u,e.isNodeRuntime=u&&!v&&!t,e.isReactNative="undefined"!=typeof navigator&&"ReactNative"===(null===navigator||void 0===navigator?void 0:navigator.product)},788,[]);
__d(function(g,r,i,a,m,e,d){function t(t){return null!=t}function n(n,o){return t(n)&&"object"==typeof n&&o in n}Object.defineProperty(e,"__esModule",{value:!0}),e.isDefined=t,e.isObjectWithProperties=function(o,f){if(!t(o)||"object"!=typeof o)return!1;for(var u of f)if(!n(o,u))return!1;return!0},e.objectHasProperty=n},789,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"randomUUID",{enumerable:!0,get:function(){return r(d[0]).randomUUID}})},790,[791]);
__d(function(g,r,_i,a,m,e,d){function n(){for(var n="",t=0;t<32;t++){var o=Math.floor(16*Math.random());n+=12===t?"4":16===t?3&o|8:o.toString(16),7!==t&&11!==t&&15!==t&&19!==t||(n+="-")}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.generateUUID=n,e.randomUUID=function(){return n()}},791,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AzureKeyCredential",{enumerable:!0,get:function(){return r(d[0]).AzureKeyCredential}}),Object.defineProperty(e,"AzureNamedKeyCredential",{enumerable:!0,get:function(){return r(d[1]).AzureNamedKeyCredential}}),Object.defineProperty(e,"AzureSASCredential",{enumerable:!0,get:function(){return r(d[2]).AzureSASCredential}}),Object.defineProperty(e,"isKeyCredential",{enumerable:!0,get:function(){return r(d[3]).isKeyCredential}}),Object.defineProperty(e,"isNamedKeyCredential",{enumerable:!0,get:function(){return r(d[1]).isNamedKeyCredential}}),Object.defineProperty(e,"isSASCredential",{enumerable:!0,get:function(){return r(d[2]).isSASCredential}}),Object.defineProperty(e,"isTokenCredential",{enumerable:!0,get:function(){return r(d[4]).isTokenCredential}})},792,[793,794,795,796,797]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.AzureKeyCredential=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2]));e.AzureKeyCredential=(function(){return(0,n.default)(function n(u){if((0,t.default)(this,n),!u)throw new Error("key must be a non-empty string");this._key=u},[{key:"key",get:function(){return this._key}},{key:"update",value:function(t){this._key=t}}])})()},793,[3,12,13]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.AzureNamedKeyCredential=void 0,e.isNamedKeyCredential=function(n){return(0,r(d[3]).isObjectWithProperties)(n,["name","key"])&&"string"==typeof n.key&&"string"==typeof n.name};var n=r(d[0])(r(d[1])),t=r(d[0])(r(d[2]));e.AzureNamedKeyCredential=(function(){return(0,t.default)(function t(u,y){if((0,n.default)(this,t),!u||!y)throw new TypeError("name and key must be non-empty strings");this._name=u,this._key=y},[{key:"key",get:function(){return this._key}},{key:"name",get:function(){return this._name}},{key:"update",value:function(n,t){if(!n||!t)throw new TypeError("newName and newKey must be non-empty strings");this._name=n,this._key=t}}])})()},794,[3,12,13,775]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.AzureSASCredential=void 0,e.isSASCredential=function(t){return(0,r(d[3]).isObjectWithProperties)(t,["signature"])&&"string"==typeof t.signature};var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2]));e.AzureSASCredential=(function(){return(0,n.default)(function n(s){if((0,t.default)(this,n),!s)throw new Error("shared access signature must be a non-empty string");this._signature=s},[{key:"signature",get:function(){return this._signature}},{key:"update",value:function(t){if(!t)throw new Error("shared access signature must be a non-empty string");this._signature=t}}])})()},795,[3,12,13,775]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.isKeyCredential=function(t){return(0,r(d[0]).isObjectWithProperties)(t,["key"])&&"string"==typeof t.key}},796,[775]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.isBearerToken=function(n){return!n.tokenType||"Bearer"===n.tokenType},e.isPopToken=function(n){return"pop"===n.tokenType},e.isTokenCredential=function(n){var o=n;return o&&"function"==typeof o.getToken&&(void 0===o.signRequest||o.getToken.length>0)}},797,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"RestError",{enumerable:!0,get:function(){return r(d[0]).RestError}}),Object.defineProperty(e,"auxiliaryAuthenticationHeaderPolicy",{enumerable:!0,get:function(){return r(d[1]).auxiliaryAuthenticationHeaderPolicy}}),Object.defineProperty(e,"auxiliaryAuthenticationHeaderPolicyName",{enumerable:!0,get:function(){return r(d[1]).auxiliaryAuthenticationHeaderPolicyName}}),Object.defineProperty(e,"bearerTokenAuthenticationPolicy",{enumerable:!0,get:function(){return r(d[2]).bearerTokenAuthenticationPolicy}}),Object.defineProperty(e,"bearerTokenAuthenticationPolicyName",{enumerable:!0,get:function(){return r(d[2]).bearerTokenAuthenticationPolicyName}}),Object.defineProperty(e,"createDefaultHttpClient",{enumerable:!0,get:function(){return r(d[3]).createDefaultHttpClient}}),Object.defineProperty(e,"createEmptyPipeline",{enumerable:!0,get:function(){return r(d[4]).createEmptyPipeline}}),Object.defineProperty(e,"createFile",{enumerable:!0,get:function(){return r(d[5]).createFile}}),Object.defineProperty(e,"createFileFromStream",{enumerable:!0,get:function(){return r(d[5]).createFileFromStream}}),Object.defineProperty(e,"createHttpHeaders",{enumerable:!0,get:function(){return r(d[6]).createHttpHeaders}}),Object.defineProperty(e,"createPipelineFromOptions",{enumerable:!0,get:function(){return r(d[7]).createPipelineFromOptions}}),Object.defineProperty(e,"createPipelineRequest",{enumerable:!0,get:function(){return r(d[8]).createPipelineRequest}}),Object.defineProperty(e,"decompressResponsePolicy",{enumerable:!0,get:function(){return r(d[9]).decompressResponsePolicy}}),Object.defineProperty(e,"decompressResponsePolicyName",{enumerable:!0,get:function(){return r(d[9]).decompressResponsePolicyName}}),Object.defineProperty(e,"defaultRetryPolicy",{enumerable:!0,get:function(){return r(d[10]).defaultRetryPolicy}}),Object.defineProperty(e,"exponentialRetryPolicy",{enumerable:!0,get:function(){return r(d[11]).exponentialRetryPolicy}}),Object.defineProperty(e,"exponentialRetryPolicyName",{enumerable:!0,get:function(){return r(d[11]).exponentialRetryPolicyName}}),Object.defineProperty(e,"formDataPolicy",{enumerable:!0,get:function(){return r(d[12]).formDataPolicy}}),Object.defineProperty(e,"formDataPolicyName",{enumerable:!0,get:function(){return r(d[12]).formDataPolicyName}}),Object.defineProperty(e,"getDefaultProxySettings",{enumerable:!0,get:function(){return r(d[13]).getDefaultProxySettings}}),Object.defineProperty(e,"isRestError",{enumerable:!0,get:function(){return r(d[0]).isRestError}}),Object.defineProperty(e,"logPolicy",{enumerable:!0,get:function(){return r(d[14]).logPolicy}}),Object.defineProperty(e,"logPolicyName",{enumerable:!0,get:function(){return r(d[14]).logPolicyName}}),Object.defineProperty(e,"multipartPolicy",{enumerable:!0,get:function(){return r(d[15]).multipartPolicy}}),Object.defineProperty(e,"multipartPolicyName",{enumerable:!0,get:function(){return r(d[15]).multipartPolicyName}}),Object.defineProperty(e,"ndJsonPolicy",{enumerable:!0,get:function(){return r(d[16]).ndJsonPolicy}}),Object.defineProperty(e,"ndJsonPolicyName",{enumerable:!0,get:function(){return r(d[16]).ndJsonPolicyName}}),Object.defineProperty(e,"proxyPolicy",{enumerable:!0,get:function(){return r(d[13]).proxyPolicy}}),Object.defineProperty(e,"proxyPolicyName",{enumerable:!0,get:function(){return r(d[13]).proxyPolicyName}}),Object.defineProperty(e,"redirectPolicy",{enumerable:!0,get:function(){return r(d[17]).redirectPolicy}}),Object.defineProperty(e,"redirectPolicyName",{enumerable:!0,get:function(){return r(d[17]).redirectPolicyName}}),Object.defineProperty(e,"retryPolicy",{enumerable:!0,get:function(){return r(d[18]).retryPolicy}}),Object.defineProperty(e,"setClientRequestIdPolicy",{enumerable:!0,get:function(){return r(d[19]).setClientRequestIdPolicy}}),Object.defineProperty(e,"setClientRequestIdPolicyName",{enumerable:!0,get:function(){return r(d[19]).setClientRequestIdPolicyName}}),Object.defineProperty(e,"systemErrorRetryPolicy",{enumerable:!0,get:function(){return r(d[20]).systemErrorRetryPolicy}}),Object.defineProperty(e,"systemErrorRetryPolicyName",{enumerable:!0,get:function(){return r(d[20]).systemErrorRetryPolicyName}}),Object.defineProperty(e,"throttlingRetryPolicy",{enumerable:!0,get:function(){return r(d[21]).throttlingRetryPolicy}}),Object.defineProperty(e,"throttlingRetryPolicyName",{enumerable:!0,get:function(){return r(d[21]).throttlingRetryPolicyName}}),Object.defineProperty(e,"tlsPolicy",{enumerable:!0,get:function(){return r(d[22]).tlsPolicy}}),Object.defineProperty(e,"tlsPolicyName",{enumerable:!0,get:function(){return r(d[22]).tlsPolicyName}}),Object.defineProperty(e,"tracingPolicy",{enumerable:!0,get:function(){return r(d[23]).tracingPolicy}}),Object.defineProperty(e,"tracingPolicyName",{enumerable:!0,get:function(){return r(d[23]).tracingPolicyName}}),Object.defineProperty(e,"userAgentPolicy",{enumerable:!0,get:function(){return r(d[24]).userAgentPolicy}}),Object.defineProperty(e,"userAgentPolicyName",{enumerable:!0,get:function(){return r(d[24]).userAgentPolicyName}})},798,[799,803,811,812,816,817,815,818,845,822,832,846,823,820,844,824,847,843,833,831,848,849,819,836,827]);
__d(function(g,r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.RestError=void 0,_e.isRestError=function(e){if(e instanceof R)return!0;return(0,r(d[9]).isError)(e)&&"RestError"===e.name};var e=r(d[0])(r(d[1])),t=r(d[0])(r(d[2])),n=r(d[0])(r(d[3])),o=r(d[0])(r(d[4])),s=r(d[0])(r(d[5])),u=r(d[0])(r(d[6]));function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var f=new(r(d[7]).Sanitizer),R=_e.RestError=(function(u){function R(t){var s,u,f,l,E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,e.default)(this,R),u=this,f=R,l=[t],f=(0,o.default)(f),(s=(0,n.default)(u,c()?Reflect.construct(f,l||[],(0,o.default)(u).constructor):f.apply(u,l))).name="RestError",s.code=E.code,s.statusCode=E.statusCode,Object.defineProperty(s,"request",{value:E.request,enumerable:!1}),Object.defineProperty(s,"response",{value:E.response,enumerable:!1}),Object.setPrototypeOf(s,R.prototype),s}return(0,s.default)(R,u),(0,t.default)(R,[{key:r(d[8]).custom,value:function(){return"RestError: "+this.message+" \n "+f.sanitize(Object.assign(Object.assign({},this),{request:this.request,response:this.response}))}}])})((0,u.default)(Error));R.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR",R.PARSE_ERROR="PARSE_ERROR"},799,[3,12,13,45,44,47,49,800,801,775]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.Sanitizer=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),s=r(d[0])(r(d[3])),o=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],c=["api-version"];e.Sanitizer=(function(){return(0,s.default)(function t(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=s.additionalAllowedHeaderNames,l=void 0===u?[]:u,f=s.additionalAllowedQueryParameters,A=void 0===f?[]:f;(0,n.default)(this,t),l=o.concat(l),A=c.concat(A),this.allowedHeaderNames=new Set(l.map(function(t){return t.toLowerCase()})),this.allowedQueryParameters=new Set(A.map(function(t){return t.toLowerCase()}))},[{key:"sanitize",value:function(t){var n=this,s=new Set;return JSON.stringify(t,function(t,o){if(o instanceof Error)return Object.assign(Object.assign({},o),{name:o.name,message:o.message});if("headers"===t)return n.sanitizeHeaders(o);if("url"===t)return n.sanitizeUrl(o);if("query"===t)return n.sanitizeQuery(o);if("body"!==t&&"response"!==t&&"operationSpec"!==t){if(Array.isArray(o)||(0,r(d[4]).isObject)(o)){if(s.has(o))return"[Circular]";s.add(o)}return o}},2)}},{key:"sanitizeUrl",value:function(n){if("string"!=typeof n||null===n||""===n)return n;var s=new URL(n);if(!s.search)return n;for(var o of s.searchParams){var c=(0,t.default)(o,1)[0];this.allowedQueryParameters.has(c.toLowerCase())||s.searchParams.set(c,"REDACTED")}return s.toString()}},{key:"sanitizeHeaders",value:function(t){var n={};for(var s of Object.keys(t))this.allowedHeaderNames.has(s.toLowerCase())?n[s]=t[s]:n[s]="REDACTED";return n}},{key:"sanitizeQuery",value:function(t){if("object"!=typeof t||null===t)return t;var n={};for(var s of Object.keys(t))this.allowedQueryParameters.has(s.toLowerCase())?n[s]=t[s]:n[s]="REDACTED";return n}}])})()},800,[3,22,12,13,775]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r(d[0])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[0])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[0])[n]}}))})},801,[802]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.custom=void 0;e.custom={}},802,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.auxiliaryAuthenticationHeaderPolicy=function(l){var s=l.credentials,c=l.scopes,f=l.logger||r(d[2]).logger,h=new WeakMap;return{name:n,sendRequest:(function(){var l=(0,t.default)(function*(t,l){if(!t.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication for auxiliary header is not permitted for non-TLS protected (non-https) URLs.");if(!s||0===s.length)return f.info(n+" header will not be set due to empty credentials."),l(t);var y=[];for(var p of s){var v=h.get(p);v||(v=(0,r(d[3]).createTokenCycler)(p),h.set(p,v)),y.push(u({scopes:Array.isArray(c)?c:[c],request:t,getAccessToken:v,logger:f}))}var x=(yield Promise.all(y)).filter(function(t){return Boolean(t)});return 0===x.length?(f.warning("None of the auxiliary tokens are valid. x-ms-authorization-auxiliary header will not be set."),l(t)):(t.headers.set(o,x.map(function(t){return"Bearer "+t}).join(", ")),l(t))});return function(t,n){return l.apply(this,arguments)}})()}},e.auxiliaryAuthenticationHeaderPolicyName=void 0;var t=r(d[0])(r(d[1])),n=e.auxiliaryAuthenticationHeaderPolicyName="auxiliaryAuthenticationHeaderPolicy",o="x-ms-authorization-auxiliary";function u(t){return l.apply(this,arguments)}function l(){return(l=(0,t.default)(function*(t){var n,o,u=t.scopes,l=t.getAccessToken,s=t.request;return null!==(o=null===(n=yield l(u,{abortSignal:s.abortSignal,tracingOptions:s.tracingOptions}))||void 0===n?void 0:n.token)&&void 0!==o?o:""})).apply(this,arguments)}},803,[3,270,804,809]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.logger=void 0;e.logger=(0,r(d[0]).createClientLogger)("core-rest-pipeline")},804,[805]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.AzureLogger=void 0,e.createClientLogger=function(n){var o=u.extend(n);return s(u,o),{error:p(o,"error"),warning:p(o,"warning"),info:p(o,"info"),verbose:p(o,"verbose")}},e.getLogLevel=function(){return n},e.setLogLevel=v;var n,o=r(d[0])(r(d[1])),l=new Set,t="undefined"!=typeof process&&process.env&&process.env.AZURE_LOG_LEVEL||void 0,u=e.AzureLogger=(0,o.default)("azure");u.log=function(){o.default.log.apply(o.default,arguments)};var f=["verbose","info","warning","error"];function v(t){if(t&&!b(t))throw new Error("Unknown log level '"+t+"'. Acceptable values: "+f.join(","));n=t;var u=[];for(var v of l)L(v)&&u.push(v.namespace);o.default.enable(u.join(","))}t&&(b(t)?v(t):console.error("AZURE_LOG_LEVEL set to unknown log level '"+t+"'; logging is not enabled. Acceptable values: "+f.join(", ")+"."));var c={verbose:400,info:300,warning:200,error:100};function s(n,o){o.log=function(){n.log.apply(n,arguments)}}function p(n,t){var u=Object.assign(n.extend(t),{level:t});if(s(n,u),L(u)){var f=o.default.disable();o.default.enable(f+","+u.namespace)}return l.add(u),u}function L(o){return Boolean(n&&c[o.level]<=c[n])}function b(n){return f.includes(n)}},805,[3,806]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,t="undefined"!=typeof process&&process.env&&process.env.DEBUG||void 0,o=[],s=[],u=[];t&&l(t);var f=Object.assign(function(n){return p(n)},{enable:l,enabled:c,disable:function(){var t=n||"";return l(""),t},log:r(d[0]).log});function l(t){n=t,o=[],s=[];var f=/\*/g,l=t.split(",").map(function(n){return n.trim().replace(f,".*?")});for(var p of l)p.startsWith("-")?s.push(new RegExp("^"+p.substr(1)+"$")):o.push(new RegExp("^"+p+"$"));for(var v of u)v.enabled=c(v.namespace)}function c(n){if(n.endsWith("*"))return!0;for(var t of s)if(t.test(n))return!1;for(var u of o)if(u.test(n))return!0;return!1}function p(n){var t=Object.assign(function(){if(!t.enabled)return;for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];s.length>0&&(s[0]=n+" "+s[0]);t.log.apply(t,s)},{enabled:c(n),destroy:v,log:f.log,namespace:n,extend:b});return u.push(t),t}function v(){var n=u.indexOf(this);return n>=0&&(u.splice(n,1),!0)}function b(n){var t=p(this.namespace+":"+n);return t.log=this.log,t}e.default=f},806,[807]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"log",{enumerable:!0,get:function(){return r(d[0]).log}})},807,[808]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.log=function(){if(arguments.length>0){var l,n=String(arguments.length<=0?void 0:arguments[0]);if(n.includes(":error"))(l=console).error.apply(l,arguments);else if(n.includes(":warning")){var o;(o=console).warn.apply(o,arguments)}else if(n.includes(":info")){var s;(s=console).info.apply(s,arguments)}else if(n.includes(":verbose")){var c;(c=console).debug.apply(c,arguments)}else{var p;(p=console).debug.apply(p,arguments)}}}},808,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_CYCLER_OPTIONS=void 0,e.createTokenCycler=function(u,s){var o,f=null,c=null,h=Object.assign(Object.assign({},t),s),p={get isRefreshing(){return null!==f},get shouldRefresh(){var n;return!p.isRefreshing&&(!!((null==c?void 0:c.refreshAfterTimestamp)&&c.refreshAfterTimestamp<Date.now())||(null!==(n=null==c?void 0:c.expiresOnTimestamp)&&void 0!==n?n:0)-h.refreshWindowInMs<Date.now())},get mustRefresh(){return null===c||c.expiresOnTimestamp-h.forcedRefreshWindowInMs<Date.now()}};function v(n,t){var s;if(!p.isRefreshing){f=l(function(){return u.getToken(n,t)},h.retryIntervalInMs,null!==(s=null==c?void 0:c.expiresOnTimestamp)&&void 0!==s?s:Date.now()).then(function(n){return f=null,c=n,o=t.tenantId,c}).catch(function(n){throw f=null,c=null,o=void 0,n})}return f}return y=(0,n.default)(function*(n,t){var l=Boolean(t.claims),u=o!==t.tenantId;l&&(c=null);var s=u||l||p.mustRefresh;return s?v(n,t):(p.shouldRefresh&&v(n,t),c)}),function(n,t){return y.apply(this,arguments)};var y};var n=r(d[0])(r(d[1])),t=e.DEFAULT_CYCLER_OPTIONS={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:12e4};function l(n,t,l){return u.apply(this,arguments)}function u(){return(u=(0,n.default)(function*(t,l,u){function s(){return o.apply(this,arguments)}function o(){return(o=(0,n.default)(function*(){if(!(Date.now()<u)){var n=yield t();if(null===n)throw new Error("Failed to refresh access token.");return n}try{return yield t()}catch(n){return null}})).apply(this,arguments)}for(var f=yield s();null===f;)yield(0,r(d[2]).delay)(l),f=yield s();return f})).apply(this,arguments)}},809,[3,270,810]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.delay=function(o,t,u){return new Promise(function(l,b){var v=void 0,f=void 0,s=function(){return b(new(r(d[0]).AbortError)((null==u?void 0:u.abortErrorMsg)?null==u?void 0:u.abortErrorMsg:n))},c=function(){(null==u?void 0:u.abortSignal)&&f&&u.abortSignal.removeEventListener("abort",f)};if(f=function(){return v&&clearTimeout(v),c(),s()},(null==u?void 0:u.abortSignal)&&u.abortSignal.aborted)return s();v=setTimeout(function(){c(),l(t)},o),(null==u?void 0:u.abortSignal)&&u.abortSignal.addEventListener("abort",f)})},e.parseHeaderValueAsNumber=function(n,o){var t=n.headers.get(o);if(!t)return;var u=Number(t);if(Number.isNaN(u))return;return u};var n="The operation was aborted."},810,[778]);
__d(function(g,r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.bearerTokenAuthenticationPolicy=function(s){var l,f,p,v=s.credential,A=s.scopes,b=s.challengeCallbacks,k=s.logger||r(d[4]).logger,W={authorizeRequest:null!==(f=null===(l=null==b?void 0:b.authorizeRequest)||void 0===l?void 0:l.bind(b))&&void 0!==f?f:u,authorizeRequestOnChallenge:null===(p=null==b?void 0:b.authorizeRequestOnChallenge)||void 0===p?void 0:p.bind(b)},q=v?(0,r(d[5]).createTokenCycler)(v):function(){return Promise.resolve(null)};return{name:n,sendRequest:(function(){var n=(0,t.default)(function*(t,n){if(!t.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");var s,u;yield W.authorizeRequest({scopes:Array.isArray(A)?A:[A],request:t,getAccessToken:q,logger:k});var l=yield o(t,n),f=(0,e.default)(l,2);if(s=f[0],u=f[1],c(s)){var p=y(s.headers.get("WWW-Authenticate"));if(p){var v;try{v=atob(p)}catch(e){return k.warning("The WWW-Authenticate header contains \"claims\" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: "+p),s}if(yield h({scopes:Array.isArray(A)?A:[A],response:s,request:t,getAccessToken:q,logger:k},v)){var b=yield o(t,n),T=(0,e.default)(b,2);s=T[0],u=T[1]}}else if(W.authorizeRequestOnChallenge){if(yield W.authorizeRequestOnChallenge({scopes:Array.isArray(A)?A:[A],request:t,response:s,getAccessToken:q,logger:k})){var w=yield o(t,n),C=(0,e.default)(w,2);s=C[0],u=C[1]}if(c(s)&&(p=y(s.headers.get("WWW-Authenticate")))){var R;try{R=atob(p)}catch(e){return k.warning("The WWW-Authenticate header contains \"claims\" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: "+p),s}if(yield h({scopes:Array.isArray(A)?A:[A],response:s,request:t,getAccessToken:q,logger:k},R)){var z=yield o(t,n),O=(0,e.default)(z,2);s=O[0],u=O[1]}}}}if(u)throw u;return s});return function(e,t){return n.apply(this,arguments)}})()}},_e.bearerTokenAuthenticationPolicyName=void 0,_e.parseChallenges=p;var e=r(d[0])(r(d[1])),t=r(d[0])(r(d[2])),n=_e.bearerTokenAuthenticationPolicyName="bearerTokenAuthenticationPolicy";function o(e,t){return s.apply(this,arguments)}function s(){return(s=(0,t.default)(function*(e,t){try{return[yield t(e),void 0]}catch(e){if((0,r(d[3]).isRestError)(e)&&e.response)return[e.response,e];throw e}})).apply(this,arguments)}function u(e){return l.apply(this,arguments)}function l(){return(l=(0,t.default)(function*(e){var t=e.scopes,n=e.getAccessToken,o=e.request,s=yield n(t,{abortSignal:o.abortSignal,tracingOptions:o.tracingOptions,enableCae:!0});s&&e.request.headers.set("Authorization","Bearer "+s.token)})).apply(this,arguments)}function c(e){return 401===e.status&&e.headers.has("WWW-Authenticate")}function h(e,t){return f.apply(this,arguments)}function f(){return(f=(0,t.default)(function*(e,t){var n,o=e.scopes,s=yield e.getAccessToken(o,{enableCae:!0,claims:t});return!!s&&(e.request.headers.set("Authorization",(null!==(n=s.tokenType)&&void 0!==n?n:"Bearer")+" "+s.token),!0)})).apply(this,arguments)}function p(e){for(var t,n=/(\w+)\s+((?:\w+=(?:"[^"]*"|[^,]*),?\s*)+)/g,o=/(\w+)="([^"]*)"/g,s=[];null!==(t=n.exec(e));){for(var u=t[1],l=t[2],c={},h=void 0;null!==(h=o.exec(l));)c[h[1]]=h[2];s.push({scheme:u,params:c})}return s}function y(e){var t;if(e)return null===(t=p(e).find(function(e){return"Bearer"===e.scheme&&e.params.claims&&"insufficient_claims"===e.params.error}))||void 0===t?void 0:t.params.claims}},811,[3,22,270,799,804,809]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.createDefaultHttpClient=function(){return(0,r(d[0]).createXhrHttpClient)()}},812,[813]);
__d(function(g,r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.createXhrHttpClient=function(){return new s};var e=r(d[0])(r(d[1])),t=r(d[0])(r(d[2])),n=r(d[0])(r(d[3])),o=r(d[0])(r(d[4])),s=(function(){return(0,o.default)(function e(){(0,n.default)(this,e)},[{key:"sendRequest",value:(function(){var n=(0,t.default)(function*(t){var n;if("https:"!==new URL(t.url).protocol&&!t.allowInsecureConnection)throw new Error("Cannot connect to "+t.url+" while allowInsecureConnection is false.");var o=new XMLHttpRequest;if(t.proxySettings)throw new Error("HTTP proxy is not supported in browser environment");var s=t.abortSignal;if(s){if(s.aborted)throw new(r(d[5]).AbortError)("The operation was aborted.");var p=function(){o.abort()};s.addEventListener("abort",p),o.addEventListener("readystatechange",function(){o.readyState===XMLHttpRequest.DONE&&s.removeEventListener("abort",p)})}for(var v of(l(o.upload,t.onUploadProgress),l(o,t.onDownloadProgress),o.open(t.method,t.url),o.timeout=t.timeout,o.withCredentials=t.withCredentials,t.headers)){var E=(0,e.default)(v,2),h=E[0],b=E[1];o.setRequestHeader(h,b)}o.responseType=(null===(n=t.streamResponseStatusCodes)||void 0===n?void 0:n.size)?"blob":"text";var w="function"==typeof t.body?t.body():t.body;if((0,r(d[6]).isReadableStream)(w))throw new Error("streams are not supported in XhrHttpClient.");return o.send(void 0===w?null:w),"blob"===o.responseType?new Promise(function(e,n){u(o,t,e,n),c(t,o,n)}):new Promise(function(e,n){o.addEventListener("load",function(){return e({request:t,status:o.status,headers:f(o),bodyAsText:o.responseText})}),c(t,o,n)})});return function(e){return n.apply(this,arguments)}})()}])})();function u(e,t,n,o){e.addEventListener("readystatechange",function(){var s,u;if(e.readyState===XMLHttpRequest.HEADERS_RECEIVED)if((null===(s=t.streamResponseStatusCodes)||void 0===s?void 0:s.has(Number.POSITIVE_INFINITY))||(null===(u=t.streamResponseStatusCodes)||void 0===u?void 0:u.has(e.status))){var l=new Promise(function(n,o){e.addEventListener("load",function(){n(e.response)}),c(t,e,o)});n({request:t,status:e.status,headers:f(e),blobBody:l})}else e.addEventListener("load",function(){e.response?e.response.text().then(function(o){n({request:t,status:e.status,headers:f(e),bodyAsText:o})}).catch(function(e){o(e)}):n({request:t,status:e.status,headers:f(e)})})})}function l(e,t){t&&e.addEventListener("progress",function(e){return t({loadedBytes:e.loaded})})}function f(e){var t=(0,r(d[7]).createHttpHeaders)(),n=e.getAllResponseHeaders().trim().split(/[\r\n]+/);for(var o of n){var s=o.indexOf(":"),u=o.slice(0,s),l=o.slice(s+2);t.set(u,l)}return t}function c(e,t,n){t.addEventListener("error",function(){return n(new(r(d[8]).RestError)("Failed to send request to "+e.url,{code:r(d[8]).RestError.REQUEST_SEND_ERROR,request:e}))});var o=new(r(d[5]).AbortError)("The operation was aborted.");t.addEventListener("abort",function(){return n(o)}),t.addEventListener("timeout",function(){return n(o)})}},813,[3,22,270,12,13,778,814,815,799]);
__d(function(g,r,i,a,m,e,d){function n(n){return Boolean(n&&"function"==typeof n.pipe)}function t(n){return Boolean(n&&"function"==typeof n.getReader&&"function"==typeof n.tee)}Object.defineProperty(e,"__esModule",{value:!0}),e.isBlob=function(n){return"function"==typeof n.stream},e.isNodeReadableStream=n,e.isReadableStream=function(o){return n(o)||t(o)},e.isWebReadableStream=t},814,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.createHttpHeaders=function(t){return new v(t)};var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),u=r(d[0])(r(d[3]));function s(t){return t.toLowerCase()}function*o(t){for(var n of t.values())yield[n.name,n.value]}var v=(function(){return(0,u.default)(function t(u){if((0,n.default)(this,t),this._headersMap=new Map,u)for(var s of Object.keys(u))this.set(s,u[s])},[{key:"set",value:function(t,n){this._headersMap.set(s(t),{name:t,value:String(n).trim()})}},{key:"get",value:function(t){var n;return null===(n=this._headersMap.get(s(t)))||void 0===n?void 0:n.value}},{key:"has",value:function(t){return this._headersMap.has(s(t))}},{key:"delete",value:function(t){this._headersMap.delete(s(t))}},{key:"toJSON",value:function(){var n={};if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preserveCase)for(var u of this._headersMap.values())n[u.name]=u.value;else for(var s of this._headersMap){var o=(0,t.default)(s,2),v=o[0],f=o[1];n[v]=f.value}return n}},{key:"toString",value:function(){return JSON.stringify(this.toJSON({preserveCase:!0}))}},{key:Symbol.iterator,value:function(){return o(this._headersMap)}}])})()},815,[3,22,12,13]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.createEmptyPipeline=function(){return t.create()};var n=r(d[0])(r(d[1])),o=r(d[0])(r(d[2])),s=new Set(["Deserialize","Serialize","Retry","Sign"]),t=(function(){function t(o){var s;(0,n.default)(this,t),this._policies=[],this._policies=null!==(s=null==o?void 0:o.slice(0))&&void 0!==s?s:[],this._orderedPolicies=void 0}return(0,o.default)(t,[{key:"addPolicy",value:function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o.phase&&o.afterPhase)throw new Error("Policies inside a phase cannot specify afterPhase.");if(o.phase&&!s.has(o.phase))throw new Error("Invalid phase name: "+o.phase);if(o.afterPhase&&!s.has(o.afterPhase))throw new Error("Invalid afterPhase name: "+o.afterPhase);this._policies.push({policy:n,options:o}),this._orderedPolicies=void 0}},{key:"removePolicy",value:function(n){var o=[];return this._policies=this._policies.filter(function(s){return!(n.name&&s.policy.name===n.name||n.phase&&s.options.phase===n.phase)||(o.push(s.policy),!1)}),this._orderedPolicies=void 0,o}},{key:"sendRequest",value:function(n,o){return this.getOrderedPolicies().reduceRight(function(n,o){return function(s){return o.sendRequest(s,n)}},function(o){return n.sendRequest(o)})(o)}},{key:"getOrderedPolicies",value:function(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}},{key:"clone",value:function(){return new t(this._policies)}},{key:"orderPolicies",value:function(){var n=[],o=new Map;function s(n){return{name:n,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}var t=s("Serialize"),l=s("None"),c=s("Deserialize"),f=s("Retry"),h=s("Sign"),u=[t,l,c,f,h];function p(n){return"Retry"===n?f:"Serialize"===n?t:"Deserialize"===n?c:"Sign"===n?h:l}for(var v of this._policies){var P=v.policy,y=v.options,w=P.name;if(o.has(w))throw new Error("Duplicate policy names not allowed in pipeline");var _={policy:P,dependsOn:new Set,dependants:new Set};y.afterPhase&&(_.afterPhase=p(y.afterPhase),_.afterPhase.hasAfterPolicies=!0),o.set(w,_),p(y.phase).policies.add(_)}for(var R of this._policies){var z=R.policy,S=R.options,O=z.name,k=o.get(O);if(!k)throw new Error("Missing node for policy "+O);if(S.afterPolicies)for(var E of S.afterPolicies){var q=o.get(E);q&&(k.dependsOn.add(q),q.dependants.add(k))}if(S.beforePolicies)for(var D of S.beforePolicies){var b=o.get(D);b&&(b.dependsOn.add(k),k.dependants.add(b))}}function A(s){for(var t of(s.hasRun=!0,s.policies))if((!t.afterPhase||t.afterPhase.hasRun&&!t.afterPhase.policies.size)&&0===t.dependsOn.size){for(var l of(n.push(t.policy),t.dependants))l.dependsOn.delete(t);o.delete(t.policy.name),s.policies.delete(t)}}function M(){for(var n of u){if(A(n),n.policies.size>0&&n!==l)return void(l.hasRun||A(l));n.hasAfterPolicies&&A(l)}}for(var I=0;o.size>0;){I++;var j=n.length;if(M(),n.length<=j&&I>1)throw new Error("Cannot satisfy policy dependencies due to requirements cycle.")}return n}}],[{key:"create",value:function(){return new t}}])})()},816,[3,12,13]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.createFile=function(u,f){var s,c,v,w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r(d[4]).isNodeLike?Object.assign(Object.assign({},o),(0,n.default)({type:null!==(s=w.type)&&void 0!==s?s:"",lastModified:null!==(c=w.lastModified)&&void 0!==c?c:(new Date).getTime(),webkitRelativePath:null!==(v=w.webkitRelativePath)&&void 0!==v?v:"",size:u.byteLength,name:f,arrayBuffer:(function(){var n=(0,t.default)(function*(){return u.buffer});return function(){return n.apply(this,arguments)}})(),stream:function(){return new Blob([u]).stream()}},l,function(){return u})):new File([u],f,w)},e.createFileFromStream=function(t,u){var f,s,c,v,w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.assign(Object.assign({},o),(0,n.default)({type:null!==(f=w.type)&&void 0!==f?f:"",lastModified:null!==(s=w.lastModified)&&void 0!==s?s:(new Date).getTime(),webkitRelativePath:null!==(c=w.webkitRelativePath)&&void 0!==c?c:"",size:null!==(v=w.size)&&void 0!==v?v:-1,name:u,stream:function(){var n=t();if((0,r(d[3]).isNodeReadableStream)(n))throw new Error("Not supported: a Node stream was provided as input to createFileFromStream.");return n}},l,t))},e.getRawContent=function(t){return n=t,"function"==typeof n[l]?t[l]():t.stream();var n};var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),o={arrayBuffer:function(){throw new Error("Not implemented")},bytes:function(){throw new Error("Not implemented")},slice:function(){throw new Error("Not implemented")},text:function(){throw new Error("Not implemented")}},l=Symbol("rawContent")},817,[3,270,240,814,775]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.createPipelineFromOptions=function(o){var t,l=(0,r(d[0]).createEmptyPipeline)();r(d[1]).isNodeLike&&(o.tlsOptions&&l.addPolicy((0,r(d[2]).tlsPolicy)(o.tlsOptions)),l.addPolicy((0,r(d[3]).proxyPolicy)(o.proxyOptions)),l.addPolicy((0,r(d[4]).decompressResponsePolicy)()));l.addPolicy((0,r(d[5]).formDataPolicy)(),{beforePolicies:[r(d[6]).multipartPolicyName]}),l.addPolicy((0,r(d[7]).userAgentPolicy)(o.userAgentOptions)),l.addPolicy((0,r(d[8]).setClientRequestIdPolicy)(null===(t=o.telemetryOptions)||void 0===t?void 0:t.clientRequestIdHeaderName)),l.addPolicy((0,r(d[6]).multipartPolicy)(),{afterPhase:"Deserialize"}),l.addPolicy((0,r(d[9]).defaultRetryPolicy)(o.retryOptions),{phase:"Retry"}),l.addPolicy((0,r(d[10]).tracingPolicy)(Object.assign(Object.assign({},o.userAgentOptions),o.loggingOptions)),{afterPhase:"Retry"}),r(d[1]).isNodeLike&&l.addPolicy((0,r(d[11]).redirectPolicy)(o.redirectOptions),{afterPhase:"Retry"});return l.addPolicy((0,r(d[12]).logPolicy)(o.loggingOptions),{afterPhase:"Sign"}),l}},818,[816,775,819,820,822,823,824,827,831,832,836,843,844]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.tlsPolicy=function(l){return{name:n,sendRequest:(function(){var n=(0,t.default)(function*(t,n){return t.tlsSettings||(t.tlsSettings=l),n(t)});return function(t,l){return n.apply(this,arguments)}})()}},e.tlsPolicyName=void 0;var t=r(d[0])(r(d[1])),n=e.tlsPolicyName="tlsPolicy"},819,[3,270]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r(d[0])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[0])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[0])[n]}}))})},820,[821]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultProxySettings=function(){throw new Error(o)},e.proxyPolicy=function(){throw new Error(o)},e.proxyPolicyName=void 0,e.resetCachedProxyAgents=function(){throw new Error(o)};e.proxyPolicyName="proxyPolicy";var o="proxyPolicy is not supported in browser environment"},821,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.decompressResponsePolicy=function(){return{name:o,sendRequest:(function(){var o=(0,n.default)(function*(n,o){return"HEAD"!==n.method&&n.headers.set("Accept-Encoding","gzip,deflate"),o(n)});return function(n,s){return o.apply(this,arguments)}})()}},e.decompressResponsePolicyName=void 0;var n=r(d[0])(r(d[1])),o=e.decompressResponsePolicyName="decompressResponsePolicy"},822,[3,270]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.formDataPolicy=function(){return{name:n,sendRequest:(function(){var o=(0,t.default)(function*(t,o){if(r(d[3]).isNodeLike&&"undefined"!=typeof FormData&&t.body instanceof FormData&&(t.formData=f(t.body),t.body=void 0),t.formData){var n=t.headers.get("Content-Type");n&&-1!==n.indexOf("application/x-www-form-urlencoded")?t.body=s(t.formData):yield u(t.formData,t),t.formData=void 0}return o(t)});return function(t,n){return o.apply(this,arguments)}})()}},e.formDataPolicyName=void 0;var t=r(d[0])(r(d[1])),o=r(d[0])(r(d[2])),n=e.formDataPolicyName="formDataPolicy";function f(t){var n,f={};for(var s of t.entries()){var u=(0,o.default)(s,2),l=u[0],p=u[1];null!==(n=f[l])&&void 0!==n||(f[l]=[]),f[l].push(p)}return f}function s(t){var n=new URLSearchParams;for(var f of Object.entries(t)){var s=(0,o.default)(f,2),u=s[0],l=s[1];if(Array.isArray(l))for(var p of l)n.append(u,p.toString());else n.append(u,l.toString())}return n.toString()}function u(t,o){return l.apply(this,arguments)}function l(){return(l=(0,t.default)(function*(t,n){var f=n.headers.get("Content-Type");if(!f||f.startsWith("multipart/form-data")){n.headers.set("Content-Type",null!=f?f:"multipart/form-data");var s=[];for(var u of Object.entries(t)){var l=(0,o.default)(u,2),p=l[0],y=l[1];for(var c of Array.isArray(y)?y:[y])if("string"==typeof c)s.push({headers:(0,r(d[4]).createHttpHeaders)({"Content-Disposition":"form-data; name=\""+p+"\""}),body:(0,r(d[3]).stringToUint8Array)(c,"utf-8")});else{if(null==c||"object"!=typeof c)throw new Error("Unexpected value for key "+p+": "+c+". Value should be serialized to string first.");var v=c.name||"blob",h=(0,r(d[4]).createHttpHeaders)();h.set("Content-Disposition","form-data; name=\""+p+"\"; filename=\""+v+"\""),h.set("Content-Type",c.type||"application/octet-stream"),s.push({headers:h,body:c})}}n.multipartBody={parts:s}}})).apply(this,arguments)}},823,[3,270,22,775,815]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.multipartPolicy=function(){return{name:c,sendRequest:(function(){var t=(0,n.default)(function*(t,n){var u;if(!t.multipartBody)return n(t);if(t.body)throw new Error("multipartBody and regular body cannot be set at the same time");var f=t.multipartBody.boundary,l=null!==(u=t.headers.get("Content-Type"))&&void 0!==u?u:"multipart/mixed",s=l.match(/^(multipart\/[^ ;]+)(?:; *boundary=(.+))?$/);if(!s)throw new Error("Got multipart request body, but content-type header was not multipart: "+l);var c=(0,o.default)(s,3),p=c[1],h=c[2];if(h&&f&&h!==f)throw new Error("Multipart boundary was specified as "+h+" in the header, but got "+f+" in the request body");return null!=f||(f=h),f?v(f):f="----AzSDKFormBoundary"+(0,r(d[4]).randomUUID)(),t.headers.set("Content-Type",p+"; boundary="+f),yield y(t,t.multipartBody.parts,f),t.multipartBody=void 0,n(t)});return function(n,o){return t.apply(this,arguments)}})()}},e.multipartPolicyName=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),o=r(d[0])(r(d[3]));function u(t){var n="";for(var u of t){var f=(0,o.default)(u,2);n+=f[0]+": "+f[1]+"\r\n"}return n}function f(t){return t instanceof Uint8Array?t.byteLength:(0,r(d[5]).isBlob)(t)?-1===t.size?void 0:t.size:void 0}function l(t){var n=0;for(var o of t){var u=f(o);if(void 0===u)return;n+=u}return n}function y(t,n,o){return s.apply(this,arguments)}function s(){return(s=(0,n.default)(function*(n,o,f){var y=[(0,r(d[4]).stringToUint8Array)("--"+f,"utf-8")].concat((0,t.default)(o.flatMap(function(t){return[(0,r(d[4]).stringToUint8Array)("\r\n","utf-8"),(0,r(d[4]).stringToUint8Array)(u(t.headers),"utf-8"),(0,r(d[4]).stringToUint8Array)("\r\n","utf-8"),t.body,(0,r(d[4]).stringToUint8Array)("\r\n--"+f,"utf-8")]})),[(0,r(d[4]).stringToUint8Array)("--\r\n\r\n","utf-8")]),s=l(y);s&&n.headers.set("Content-Length",s),n.body=yield(0,r(d[6]).concat)(y)})).apply(this,arguments)}var c=e.multipartPolicyName="multipartPolicy",p=70,h=new Set("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'()+,-./:=?");function v(t){if(t.length>p)throw new Error("Multipart boundary \""+t+"\" exceeds maximum length of 70 characters");if(Array.from(t).some(function(t){return!h.has(t)}))throw new Error("Multipart boundary \""+t+"\" contains invalid characters")}},824,[3,6,270,22,775,814,825]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r(d[0])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[0])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[0])[n]}}))})},825,[826]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.concat=function(n){return u.apply(this,arguments)};var n=r(d[0])(r(d[1]));function t(n){return o.apply(this,arguments)}function o(){return(o=(0,n.default)(function*(n){if(n instanceof Blob||n instanceof Uint8Array)return n;if((0,r(d[2]).isWebReadableStream)(n))return new Response(n).blob();var o=(0,r(d[3]).getRawContent)(n);if((0,r(d[2]).isNodeReadableStream)(o))throw new Error("Encountered unexpected type. In the browser, `concat` supports Web ReadableStream, Blob, Uint8Array, and files created using `createFile` only.");return t(o)})).apply(this,arguments)}function u(){return(u=(0,n.default)(function*(n){var o=[];for(var u of n)o.push(yield t("function"==typeof u?u():u));return new Blob(o)})).apply(this,arguments)}},826,[3,270,814,817]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.userAgentPolicy=function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(0,r(d[2]).getUserAgentValue)(s.userAgentPrefix);return{name:u,sendRequest:(function(){var u=(0,n.default)(function*(n,u){return n.headers.has(t)||n.headers.set(t,yield o),u(n)});return function(n,t){return u.apply(this,arguments)}})()}},e.userAgentPolicyName=void 0;var n=r(d[0])(r(d[1])),t=(0,r(d[2]).getUserAgentHeaderName)(),u=e.userAgentPolicyName="userAgentPolicy"},827,[3,270,828]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getUserAgentHeaderName=function(){return(0,r(d[3]).getHeaderName)()},e.getUserAgentValue=function(t){return f.apply(this,arguments)};var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2]));function u(t){var u=[];for(var f of t){var o=(0,n.default)(f,2),c=o[0],l=o[1],p=l?c+"/"+l:c;u.push(p)}return u.join(" ")}function f(){return(f=(0,t.default)(function*(t){var n=new Map;n.set("core-rest-pipeline",r(d[4]).SDK_VERSION),yield(0,r(d[3]).setPlatformSpecificData)(n);var f=u(n);return t?t+" "+f:f})).apply(this,arguments)}},828,[3,270,22,829,830]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getHeaderName=function(){return"x-ms-useragent"},e.setPlatformSpecificData=function(t){return o.apply(this,arguments)};var t=r(d[0])(r(d[1])),n=r(d[2]);function o(){return(o=(0,t.default)(function*(t){var o;if(null===(o=n.Platform.constants)||void 0===o?void 0:o.reactNativeVersion){var s=n.Platform.constants.reactNativeVersion,c=s.major,f=s.minor,u=s.patch;t.set("react-native",c+"."+f+"."+u)}t.set("OS",n.Platform.OS+"-"+n.Platform.Version)})).apply(this,arguments)}},829,[3,270,1]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.SDK_VERSION=e.DEFAULT_RETRY_POLICY_COUNT=void 0;e.SDK_VERSION="1.18.2",e.DEFAULT_RETRY_POLICY_COUNT=3},830,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.setClientRequestIdPolicy=function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x-ms-client-request-id";return{name:n,sendRequest:(function(){var n=(0,t.default)(function*(t,n){return t.headers.has(s)||t.headers.set(s,t.requestId),n(t)});return function(t,s){return n.apply(this,arguments)}})()}},e.setClientRequestIdPolicyName=void 0;var t=r(d[0])(r(d[1])),n=e.setClientRequestIdPolicyName="setClientRequestIdPolicy"},831,[3,270]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultRetryPolicy=function(){var l,y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:t,sendRequest:(0,r(d[0]).retryPolicy)([(0,r(d[1]).throttlingRetryStrategy)(),(0,r(d[2]).exponentialRetryStrategy)(y)],{maxRetries:null!==(l=y.maxRetries)&&void 0!==l?l:r(d[3]).DEFAULT_RETRY_POLICY_COUNT}).sendRequest}},e.defaultRetryPolicyName=void 0;var t=e.defaultRetryPolicyName="defaultRetryPolicy"},832,[833,834,835,830]);
__d(function(g,r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.retryPolicy=function(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxRetries:r(d[3]).DEFAULT_RETRY_POLICY_COUNT},y=s.logger||t;return{name:o,sendRequest:(function(){var o=(0,e.default)(function*(e,o){var f,u,c,l,R=-1;r:for(;;){R+=1,c=void 0,l=void 0;try{y.info("Retry "+R+": Attempting to send request",e.requestId),c=yield o(e),y.info("Retry "+R+": Received a response from request",e.requestId)}catch(t){if(y.error("Retry "+R+": Received an error from request",e.requestId),l=t,!t||"RestError"!==l.name)throw t;c=l.response}if(null===(f=e.abortSignal)||void 0===f?void 0:f.aborted){y.error("Retry "+R+": Request aborted.");var h=new(r(d[4]).AbortError);throw h}if(R>=(null!==(u=s.maxRetries)&&void 0!==u?u:r(d[3]).DEFAULT_RETRY_POLICY_COUNT)){if(y.info("Retry "+R+": Maximum retries reached. Returning the last received response, or throwing the last received error."),l)throw l;if(c)return c;throw new Error("Maximum retries reached with no response or error to throw")}for(var v of(y.info("Retry "+R+": Processing "+n.length+" retry strategies."),n)){var w=v.logger||t;w.info("Retry "+R+": Processing retry strategy "+v.name+".");var p=v.retry({retryCount:R,response:c,responseError:l});if(p.skipStrategy)w.info("Retry "+R+": Skipped.");else{var T=p.errorToThrow,_=p.retryAfterInMs,q=p.redirectTo;if(T)throw w.error("Retry "+R+": Retry strategy "+v.name+" throws error:",T),T;if(_||0===_){w.info("Retry "+R+": Retry strategy "+v.name+" retries after "+_),yield(0,r(d[5]).delay)(_,void 0,{abortSignal:e.abortSignal});continue r}if(q){w.info("Retry "+R+": Retry strategy "+v.name+" redirects to "+q),e.url=q;continue r}}}if(l)throw y.info("None of the retry strategies could work with the received error. Throwing it."),l;if(c)return y.info("None of the retry strategies could work with the received response. Returning it."),c}});return function(e,t){return o.apply(this,arguments)}})()}};var e=r(d[0])(r(d[1])),t=(0,r(d[2]).createClientLogger)("core-rest-pipeline retryPolicy"),o="retryPolicy"},833,[3,270,805,830,778,810]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.isThrottlingRetryResponse=function(t){return Number.isFinite(s(t))},e.throttlingRetryStrategy=function(){return{name:"throttlingRetryStrategy",retry:function(t){var n=t.response,u=s(n);return Number.isFinite(u)?{retryAfterInMs:u}:{skipStrategy:!0}}}};var t="Retry-After",n=["retry-after-ms","x-ms-retry-after-ms",t];function s(s){if(s&&[429,503].includes(s.status))try{for(var u of n){var o=(0,r(d[0]).parseHeaderValueAsNumber)(s,u);if(0===o||o)return o*(u===t?1e3:1)}var f=s.headers.get(t);if(!f)return;var y=Date.parse(f)-Date.now();return Number.isFinite(y)?Math.max(0,y):void 0}catch(t){return}}},834,[810]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.exponentialRetryStrategy=function(){var y,u,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=null!==(y=l.retryDelayInMs)&&void 0!==y?y:t,c=null!==(u=l.maxRetryDelayInMs)&&void 0!==u?u:n;return{name:"exponentialRetryStrategy",retry:function(t){var n=t.retryCount,y=t.response,u=t.responseError,R=s(u),T=R&&l.ignoreSystemErrors,p=o(y),D=p&&l.ignoreHttpStatusCodes,O=y&&((0,r(d[0]).isThrottlingRetryResponse)(y)||!p);return O||D||T?{skipStrategy:!0}:!u||R||p?(0,r(d[1]).calculateRetryDelay)(n,{retryDelayInMs:E,maxRetryDelayInMs:c}):{errorToThrow:u}}}},e.isExponentialRetryResponse=o,e.isSystemError=s;var t=1e3,n=64e3;function o(t){return Boolean(t&&void 0!==t.status&&(t.status>=500||408===t.status)&&501!==t.status&&505!==t.status)}function s(t){return!!t&&("ETIMEDOUT"===t.code||"ESOCKETTIMEDOUT"===t.code||"ECONNREFUSED"===t.code||"ECONNRESET"===t.code||"ENOENT"===t.code||"ENOTFOUND"===t.code)}},835,[834,775]);
__d(function(g,r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.tracingPolicy=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=(0,r(d[3]).getUserAgentValue)(t.userAgentPrefix),l=new(r(d[4]).Sanitizer)({additionalAllowedQueryParameters:t.additionalAllowedQueryParameters}),h=s();return{name:n,sendRequest:(function(){var t=(0,e.default)(function*(t,e){var n;if(!h)return e(t);var s=yield p,v={"http.url":l.sanitizeUrl(t.url),"http.method":t.method,"http.user_agent":s,requestId:t.requestId};s&&(v["http.user_agent"]=s);var f=null!==(n=o(h,t,v))&&void 0!==n?n:{},y=f.span,w=f.tracingContext;if(!y||!w)return e(t);try{var C=yield h.withContext(w,e,t);return c(y,C),C}catch(t){throw u(y,t),t}});return function(e,n){return t.apply(this,arguments)}})()}},_e.tracingPolicyName=void 0;var t=r(d[0])(r(d[1])),e=r(d[0])(r(d[2])),n=_e.tracingPolicyName="tracingPolicy";function s(){try{return(0,r(d[5]).createTracingClient)({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:r(d[6]).SDK_VERSION})}catch(t){return void r(d[7]).logger.warning("Error when creating the TracingClient: "+(0,r(d[8]).getErrorMessage)(t))}}function o(e,n,s){try{var o=e.startSpan("HTTP "+n.method,{tracingOptions:n.tracingOptions},{spanKind:"client",spanAttributes:s}),u=o.span,c=o.updatedOptions;if(!u.isRecording())return void u.end();var p=e.createRequestHeaders(c.tracingOptions.tracingContext);for(var l of Object.entries(p)){var h=(0,t.default)(l,2),v=h[0],f=h[1];n.headers.set(v,f)}return{span:u,tracingContext:c.tracingOptions.tracingContext}}catch(t){return void r(d[7]).logger.warning("Skipping creating a tracing span due to an error: "+(0,r(d[8]).getErrorMessage)(t))}}function u(t,e){try{t.setStatus({status:"error",error:(0,r(d[8]).isError)(e)?e:void 0}),(0,r(d[9]).isRestError)(e)&&e.statusCode&&t.setAttribute("http.status_code",e.statusCode),t.end()}catch(t){r(d[7]).logger.warning("Skipping tracing span processing due to an error: "+(0,r(d[8]).getErrorMessage)(t))}}function c(t,e){try{t.setAttribute("http.status_code",e.status);var n=e.headers.get("x-ms-request-id");n&&t.setAttribute("serviceRequestId",n),e.status>=400&&t.setStatus({status:"error"}),t.end()}catch(t){r(d[7]).logger.warning("Skipping tracing span processing due to an error: "+(0,r(d[8]).getErrorMessage)(t))}}},836,[3,22,270,828,800,837,830,804,775,799]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"createTracingClient",{enumerable:!0,get:function(){return r(d[0]).createTracingClient}}),Object.defineProperty(e,"useInstrumenter",{enumerable:!0,get:function(){return r(d[1]).useInstrumenter}})},837,[838,839]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.createTracingClient=function(n){var s=n.namespace,c=n.packageName,o=n.packageVersion;function u(t,n,u){var p,l=(0,r(d[2]).getInstrumenter)().startSpan(t,Object.assign(Object.assign({},u),{packageName:c,packageVersion:o,tracingContext:null===(p=null==n?void 0:n.tracingOptions)||void 0===p?void 0:p.tracingContext})),f=l.tracingContext,v=l.span;f.getValue(r(d[3]).knownContextKeys.namespace)||(f=f.setValue(r(d[3]).knownContextKeys.namespace,s)),v.setAttribute("az.namespace",f.getValue(r(d[3]).knownContextKeys.namespace));var O=Object.assign({},n,{tracingOptions:Object.assign(Object.assign({},null==n?void 0:n.tracingOptions),{tracingContext:f})});return{span:v,updatedOptions:O}}function p(){return(p=(0,t.default)(function*(t,n,s,c){var o=u(t,n,c),p=o.span,f=o.updatedOptions;try{var v=yield l(f.tracingOptions.tracingContext,function(){return Promise.resolve(s(f,p))});return p.setStatus({status:"success"}),v}catch(t){throw p.setStatus({status:"error",error:t}),t}finally{p.end()}})).apply(this,arguments)}function l(t,n){for(var s,c=arguments.length,o=new Array(c>2?c-2:0),u=2;u<c;u++)o[u-2]=arguments[u];return(s=(0,r(d[2]).getInstrumenter)()).withContext.apply(s,[t,n].concat(o))}return{startSpan:u,withSpan:function(t,n,s,c){return p.apply(this,arguments)},withContext:l,parseTraceparentHeader:function(t){return(0,r(d[2]).getInstrumenter)().parseTraceparentHeader(t)},createRequestHeaders:function(t){return(0,r(d[2]).getInstrumenter)().createRequestHeaders(t)}}};var t=r(d[0])(r(d[1]))},838,[3,270,839,840]);
__d(function(g,r,i,a,m,e,d){function t(){return{end:function(){},isRecording:function(){return!1},recordException:function(){},setAttribute:function(){},setStatus:function(){},addEvent:function(){}}}function n(){return{createRequestHeaders:function(){return{}},parseTraceparentHeader:function(){},startSpan:function(t,n){return{span:{end:function(){},isRecording:function(){return!1},recordException:function(){},setAttribute:function(){},setStatus:function(){},addEvent:function(){}},tracingContext:(0,r(d[0]).createTracingContext)({parentContext:n.tracingContext})}},withContext:function(t,n){for(var u=arguments.length,o=new Array(u>2?u-2:0),c=2;c<u;c++)o[c-2]=arguments[c];return n.apply(void 0,o)}}}Object.defineProperty(e,"__esModule",{value:!0}),e.createDefaultInstrumenter=n,e.createDefaultTracingSpan=t,e.getInstrumenter=function(){r(d[1]).state.instrumenterImplementation||(r(d[1]).state.instrumenterImplementation=n());return r(d[1]).state.instrumenterImplementation},e.useInstrumenter=function(t){r(d[1]).state.instrumenterImplementation=t}},839,[840,841]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.TracingContextImpl=void 0,e.createTracingContext=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new c(n.parentContext);n.span&&(t=t.setValue(o.span,n.span));n.namespace&&(t=t.setValue(o.namespace,n.namespace));return t},e.knownContextKeys=void 0;var n=r(d[0])(r(d[1])),t=r(d[0])(r(d[2])),o=e.knownContextKeys={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};var c=e.TracingContextImpl=(function(){function o(t){(0,n.default)(this,o),this._contextMap=t instanceof o?new Map(t._contextMap):new Map}return(0,t.default)(o,[{key:"setValue",value:function(n,t){var c=new o(this);return c._contextMap.set(n,t),c}},{key:"getValue",value:function(n){return this._contextMap.get(n)}},{key:"deleteValue",value:function(n){var t=new o(this);return t._contextMap.delete(n),t}}])})()},840,[3,12,13]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.state=void 0;e.state=r(d[0]).state},841,[842]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.state=void 0,e.state={instrumenterImplementation:void 0}},842,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.redirectPolicy=function(){var o=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).maxRetries,l=void 0===o?20:o;return{name:n,sendRequest:(function(){var n=(0,t.default)(function*(t,n){var o=yield n(t);return u(n,o,l)});return function(t,o){return n.apply(this,arguments)}})()}},e.redirectPolicyName=void 0;var t=r(d[0])(r(d[1])),n=e.redirectPolicyName="redirectPolicy",o=["GET","HEAD"];function u(t,n,o){return l.apply(this,arguments)}function l(){return(l=(0,t.default)(function*(t,n,l){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=n.request,h=n.status,f=n.headers.get("location");if(f&&(300===h||301===h&&o.includes(s.method)||302===h&&o.includes(s.method)||303===h&&"POST"===s.method||307===h)&&c<l){var v=new URL(f,s.url);return s.url=v.toString(),303===h&&(s.method="GET",s.headers.delete("Content-Length"),delete s.body),s.headers.delete("Authorization"),u(t,yield t(s),l,c+1)}return n})).apply(this,arguments)}},843,[3,270]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.logPolicy=function(){var o,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=null!==(o=t.logger)&&void 0!==o?o:r(d[2]).logger.info,s=new(r(d[3]).Sanitizer)({additionalAllowedHeaderNames:t.additionalAllowedHeaderNames,additionalAllowedQueryParameters:t.additionalAllowedQueryParameters});return{name:n,sendRequest:(function(){var n=(0,l.default)(function*(l,n){if(!u.enabled)return n(l);u("Request: "+s.sanitize(l));var o=yield n(l);return u("Response status code: "+o.status),u("Headers: "+s.sanitize(o.headers)),o});return function(l,o){return n.apply(this,arguments)}})()}},e.logPolicyName=void 0;var l=r(d[0])(r(d[1])),n=e.logPolicyName="logPolicy"},844,[3,270,804,800]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.createPipelineRequest=function(t){return new o(t)};var t=r(d[0])(r(d[1])),s=r(d[0])(r(d[2])),o=(0,t.default)(function t(o){var n,l,u,h,p,c,v;(0,s.default)(this,t),this.url=o.url,this.body=o.body,this.headers=null!==(n=o.headers)&&void 0!==n?n:(0,r(d[3]).createHttpHeaders)(),this.method=null!==(l=o.method)&&void 0!==l?l:"GET",this.timeout=null!==(u=o.timeout)&&void 0!==u?u:0,this.multipartBody=o.multipartBody,this.formData=o.formData,this.disableKeepAlive=null!==(h=o.disableKeepAlive)&&void 0!==h&&h,this.proxySettings=o.proxySettings,this.streamResponseStatusCodes=o.streamResponseStatusCodes,this.withCredentials=null!==(p=o.withCredentials)&&void 0!==p&&p,this.abortSignal=o.abortSignal,this.tracingOptions=o.tracingOptions,this.onUploadProgress=o.onUploadProgress,this.onDownloadProgress=o.onDownloadProgress,this.requestId=o.requestId||(0,r(d[4]).randomUUID)(),this.allowInsecureConnection=null!==(c=o.allowInsecureConnection)&&void 0!==c&&c,this.enableBrowserStreams=null!==(v=o.enableBrowserStreams)&&void 0!==v&&v})},845,[3,13,12,815,775]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.exponentialRetryPolicy=function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r(d[0]).retryPolicy)([(0,r(d[1]).exponentialRetryStrategy)(Object.assign(Object.assign({},n),{ignoreSystemErrors:!0}))],{maxRetries:null!==(t=n.maxRetries)&&void 0!==t?t:r(d[2]).DEFAULT_RETRY_POLICY_COUNT})},e.exponentialRetryPolicyName=void 0;e.exponentialRetryPolicyName="exponentialRetryPolicy"},846,[833,835,830]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.ndJsonPolicy=function(){return{name:o,sendRequest:(function(){var o=(0,n.default)(function*(n,o){if("string"==typeof n.body&&n.body.startsWith("[")){var t=JSON.parse(n.body);Array.isArray(t)&&(n.body=t.map(function(n){return JSON.stringify(n)+"\n"}).join(""))}return o(n)});return function(n,t){return o.apply(this,arguments)}})()}},e.ndJsonPolicyName=void 0;var n=r(d[0])(r(d[1])),o=e.ndJsonPolicyName="ndJsonPolicy"},847,[3,270]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.systemErrorRetryPolicy=function(){var s,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:t,sendRequest:(0,r(d[0]).retryPolicy)([(0,r(d[1]).exponentialRetryStrategy)(Object.assign(Object.assign({},o),{ignoreHttpStatusCodes:!0}))],{maxRetries:null!==(s=o.maxRetries)&&void 0!==s?s:r(d[2]).DEFAULT_RETRY_POLICY_COUNT}).sendRequest}},e.systemErrorRetryPolicyName=void 0;var t=e.systemErrorRetryPolicyName="systemErrorRetryPolicy"},848,[833,835,830]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.throttlingRetryPolicy=function(){var o,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:t,sendRequest:(0,r(d[0]).retryPolicy)([(0,r(d[1]).throttlingRetryStrategy)()],{maxRetries:null!==(o=n.maxRetries)&&void 0!==o?o:r(d[2]).DEFAULT_RETRY_POLICY_COUNT}).sendRequest}},e.throttlingRetryPolicyName=void 0;var t=e.throttlingRetryPolicyName="throttlingRetryPolicy"},849,[833,834,830]);
__d(function(g,r,i,a,m,_e2,_d2){'use strict';function e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(e=function(){return!!t})()}Object.defineProperty(_e2,'__esModule',{value:!0});var t,n,s=(t=r(_d2[2]),n=Object.create(null),t&&Object.keys(t).forEach(function(e){if('default'!==e){var s=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,s.get?s:{enumerable:!0,get:function(){return t[e]}})}}),n.default=t,Object.freeze(n)),o=function(e){e.participants;var t=e.idempotencyToken,n=r(_d2[3]).__rest(e,["participants","idempotencyToken"]);return Object.assign({repeatabilityRequestId:t},n)},p=function(e){var t=e.id,n=r(_d2[3]).__rest(e,["id"]);return Object.assign(Object.assign({},n),{communicationIdentifier:r(_d2[4]).serializeCommunicationIdentifier(t)})},d=function(e){var t=e.communicationIdentifier,n=r(_d2[3]).__rest(e,["communicationIdentifier"]);return Object.assign(Object.assign({},n),{id:r(_d2[4]).deserializeCommunicationIdentifier(t)})},l=function(e){var t=e.participants,n=e.initiatorCommunicationIdentifier,s=r(_d2[3]).__rest(e,["participants","initiatorCommunicationIdentifier"]),o=Object.assign({},s);if(n){var p=r(_d2[4]).deserializeCommunicationIdentifier(n);o=Object.assign(Object.assign({},o),{initiator:p})}return t&&(o=Object.assign(Object.assign({},o),{participants:null==t?void 0:t.map(function(e){return d(e)})})),o},c=function(e){var t=e.content,n=e.senderCommunicationIdentifier,s=r(_d2[3]).__rest(e,["content","senderCommunicationIdentifier"]),o=Object.assign({},s);if(t&&(o=Object.assign(Object.assign({},o),{content:l(t)})),n){var p=r(_d2[4]).deserializeCommunicationIdentifier(n);o=Object.assign(Object.assign({},o),{sender:p})}return o},u=function(e){var t=e.createdByCommunicationIdentifier,n=r(_d2[3]).__rest(e,["createdByCommunicationIdentifier"]);return t?Object.assign(Object.assign({},n),{createdBy:r(_d2[4]).deserializeCommunicationIdentifier(t)}):Object.assign({},n)},h=function(e){var t=e.chatThread,n=r(_d2[3]).__rest(e,["chatThread"]);return t?Object.assign(Object.assign({},n),{chatThread:u(t)}):Object.assign({},n)},y=function(e){var t=e.senderCommunicationIdentifier,n=r(_d2[3]).__rest(e,["senderCommunicationIdentifier"]);return Object.assign(Object.assign({},n),{sender:r(_d2[4]).deserializeCommunicationIdentifier(t)})},f=r(_d2[5]).createTracingClient({namespace:"Azure.Communication",packageName:"@azure/communication-chat",packageVersion:"1.5.2"}),C={type:{name:"Composite",className:"ChatMessageReadReceiptsCollection",modelProperties:{value:{serializedName:"value",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ChatMessageReadReceipt"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},v={type:{name:"Composite",className:"CommunicationIdentifierModel",modelProperties:{kind:{serializedName:"kind",type:{name:"String"}},rawId:{serializedName:"rawId",type:{name:"String"}},communicationUser:{serializedName:"communicationUser",type:{name:"Composite",className:"CommunicationUserIdentifierModel"}},phoneNumber:{serializedName:"phoneNumber",type:{name:"Composite",className:"PhoneNumberIdentifierModel"}},microsoftTeamsUser:{serializedName:"microsoftTeamsUser",type:{name:"Composite",className:"MicrosoftTeamsUserIdentifierModel"}},microsoftTeamsApp:{serializedName:"microsoftTeamsApp",type:{name:"Composite",className:"MicrosoftTeamsAppIdentifierModel"}}}}},T={type:{name:"Composite",className:"CommunicationErrorResponse",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ChatError"}}}}},M={type:{name:"Composite",className:"SendReadReceiptRequest",modelProperties:{chatMessageId:{serializedName:"chatMessageId",required:!0,type:{name:"String"}}}}},P={type:{name:"Composite",className:"SendChatMessageRequest",modelProperties:{content:{serializedName:"content",required:!0,type:{name:"String"}},senderDisplayName:{serializedName:"senderDisplayName",type:{name:"String"}},type:{serializedName:"type",type:{name:"Enum",allowedValues:["text","html","topicUpdated","participantAdded","participantRemoved"]}},metadata:{serializedName:"metadata",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},N={type:{name:"Composite",className:"SendChatMessageResult",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}}}}},b={type:{name:"Composite",className:"ChatMessagesCollection",modelProperties:{value:{serializedName:"value",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ChatMessage"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},R={type:{name:"Composite",className:"ChatMessage",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},type:{serializedName:"type",required:!0,type:{name:"Enum",allowedValues:["text","html","topicUpdated","participantAdded","participantRemoved"]}},sequenceId:{serializedName:"sequenceId",required:!0,type:{name:"String"}},version:{serializedName:"version",required:!0,type:{name:"String"}},content:{serializedName:"content",type:{name:"Composite",className:"ChatMessageContent"}},senderDisplayName:{serializedName:"senderDisplayName",type:{name:"String"}},createdOn:{serializedName:"createdOn",required:!0,type:{name:"DateTime"}},senderCommunicationIdentifier:{serializedName:"senderCommunicationIdentifier",type:{name:"Composite",className:"CommunicationIdentifierModel"}},deletedOn:{serializedName:"deletedOn",type:{name:"DateTime"}},editedOn:{serializedName:"editedOn",type:{name:"DateTime"}},metadata:{serializedName:"metadata",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},S={type:{name:"Composite",className:"UpdateChatMessageRequest",modelProperties:{content:{serializedName:"content",type:{name:"String"}},metadata:{serializedName:"metadata",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},I={type:{name:"Composite",className:"ChatParticipantsCollection",modelProperties:{value:{serializedName:"value",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ChatParticipant"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},q={type:{name:"Composite",className:"AddChatParticipantsRequest",modelProperties:{participants:{serializedName:"participants",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ChatParticipant"}}}}}}},z={type:{name:"Composite",className:"AddChatParticipantsResult",modelProperties:{invalidParticipants:{serializedName:"invalidParticipants",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ChatError"}}}}}}},E={type:{name:"Composite",className:"CreateChatThreadRequest",modelProperties:{topic:{serializedName:"topic",required:!0,type:{name:"String"}},participants:{serializedName:"participants",type:{name:"Sequence",element:{type:{name:"Composite",className:"ChatParticipant"}}}}}}},k={type:{name:"Composite",className:"CreateChatThreadResult",modelProperties:{chatThread:{serializedName:"chatThread",type:{name:"Composite",className:"ChatThreadProperties"}},invalidParticipants:{serializedName:"invalidParticipants",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ChatError"}}}}}}},O={type:{name:"Composite",className:"ChatThreadProperties",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},topic:{serializedName:"topic",required:!0,type:{name:"String"}},createdOn:{serializedName:"createdOn",required:!0,type:{name:"DateTime"}},createdByCommunicationIdentifier:{serializedName:"createdByCommunicationIdentifier",type:{name:"Composite",className:"CommunicationIdentifierModel"}},deletedOn:{serializedName:"deletedOn",type:{name:"DateTime"}}}}},_={type:{name:"Composite",className:"ChatThreadsItemCollection",modelProperties:{value:{serializedName:"value",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ChatThreadItem"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},w={type:{name:"Composite",className:"UpdateChatThreadRequest",modelProperties:{topic:{serializedName:"topic",type:{name:"String"}}}}},A={type:{name:"Composite",className:"SendTypingNotificationRequest",modelProperties:{senderDisplayName:{serializedName:"senderDisplayName",type:{name:"String"}}}}},j=Object.freeze({__proto__:null,AddChatParticipantsRequest:q,AddChatParticipantsResult:z,ChatAttachment:{type:{name:"Composite",className:"ChatAttachment",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},attachmentType:{serializedName:"attachmentType",required:!0,type:{name:"Enum",allowedValues:["image","file"]}},name:{serializedName:"name",type:{name:"String"}},url:{serializedName:"url",type:{name:"String"}},previewUrl:{serializedName:"previewUrl",type:{name:"String"}}}}},ChatError:{type:{name:"Composite",className:"ChatError",modelProperties:{code:{serializedName:"code",required:!0,type:{name:"String"}},message:{serializedName:"message",required:!0,type:{name:"String"}},target:{serializedName:"target",readOnly:!0,type:{name:"String"}},details:{serializedName:"details",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ChatError"}}}},innerError:{serializedName:"innererror",type:{name:"Composite",className:"ChatError"}}}}},ChatMessage:R,ChatMessageContent:{type:{name:"Composite",className:"ChatMessageContent",modelProperties:{message:{serializedName:"message",type:{name:"String"}},topic:{serializedName:"topic",type:{name:"String"}},participants:{serializedName:"participants",type:{name:"Sequence",element:{type:{name:"Composite",className:"ChatParticipant"}}}},attachments:{serializedName:"attachments",type:{name:"Sequence",element:{type:{name:"Composite",className:"ChatAttachment"}}}},initiatorCommunicationIdentifier:{serializedName:"initiatorCommunicationIdentifier",type:{name:"Composite",className:"CommunicationIdentifierModel"}}}}},ChatMessageReadReceipt:{type:{name:"Composite",className:"ChatMessageReadReceipt",modelProperties:{senderCommunicationIdentifier:{serializedName:"senderCommunicationIdentifier",type:{name:"Composite",className:"CommunicationIdentifierModel"}},chatMessageId:{serializedName:"chatMessageId",required:!0,type:{name:"String"}},readOn:{serializedName:"readOn",required:!0,type:{name:"DateTime"}}}}},ChatMessageReadReceiptsCollection:C,ChatMessagesCollection:b,ChatParticipant:{type:{name:"Composite",className:"ChatParticipant",modelProperties:{communicationIdentifier:{serializedName:"communicationIdentifier",type:{name:"Composite",className:"CommunicationIdentifierModel"}},displayName:{serializedName:"displayName",type:{name:"String"}},shareHistoryTime:{serializedName:"shareHistoryTime",type:{name:"DateTime"}}}}},ChatParticipantsCollection:I,ChatThreadItem:{type:{name:"Composite",className:"ChatThreadItem",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},topic:{serializedName:"topic",required:!0,type:{name:"String"}},deletedOn:{serializedName:"deletedOn",type:{name:"DateTime"}},lastMessageReceivedOn:{serializedName:"lastMessageReceivedOn",readOnly:!0,type:{name:"DateTime"}}}}},ChatThreadProperties:O,ChatThreadsItemCollection:_,CommunicationErrorResponse:T,CommunicationIdentifierModel:v,CommunicationUserIdentifierModel:{type:{name:"Composite",className:"CommunicationUserIdentifierModel",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}}}}},CreateChatThreadRequest:E,CreateChatThreadResult:k,MicrosoftTeamsAppIdentifierModel:{type:{name:"Composite",className:"MicrosoftTeamsAppIdentifierModel",modelProperties:{appId:{serializedName:"appId",required:!0,type:{name:"String"}},cloud:{serializedName:"cloud",type:{name:"String"}}}}},MicrosoftTeamsUserIdentifierModel:{type:{name:"Composite",className:"MicrosoftTeamsUserIdentifierModel",modelProperties:{userId:{serializedName:"userId",required:!0,type:{name:"String"}},isAnonymous:{serializedName:"isAnonymous",type:{name:"Boolean"}},cloud:{serializedName:"cloud",type:{name:"String"}}}}},PhoneNumberIdentifierModel:{type:{name:"Composite",className:"PhoneNumberIdentifierModel",modelProperties:{value:{serializedName:"value",required:!0,type:{name:"String"}}}}},SendChatMessageRequest:P,SendChatMessageResult:N,SendReadReceiptRequest:M,SendTypingNotificationRequest:A,UpdateChatMessageRequest:S,UpdateChatThreadRequest:w}),x={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},L={parameterPath:"endpoint",mapper:{serializedName:"endpoint",required:!0,type:{name:"String"}},skipEncoding:!0},D={parameterPath:"chatThreadId",mapper:{serializedName:"chatThreadId",required:!0,type:{name:"String"}}},V={parameterPath:["options","maxPageSize"],mapper:{serializedName:"maxPageSize",type:{name:"Number"}}},U={parameterPath:["options","skip"],mapper:{serializedName:"skip",type:{name:"Number"}}},G={parameterPath:"apiVersion",mapper:{defaultValue:"2024-03-07",isConstant:!0,serializedName:"api-version",type:{name:"String"}}},B={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},H={parameterPath:"sendReadReceiptRequest",mapper:M},Y={parameterPath:"sendChatMessageRequest",mapper:P},F={parameterPath:["options","startTime"],mapper:{serializedName:"startTime",type:{name:"DateTime"}}},J={parameterPath:"chatMessageId",mapper:{serializedName:"chatMessageId",required:!0,type:{name:"String"}}},K={parameterPath:["options","contentType"],mapper:{defaultValue:"application/merge-patch+json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},Q={parameterPath:"updateChatMessageRequest",mapper:S},W={parameterPath:"participantCommunicationIdentifier",mapper:v},X={parameterPath:"addChatParticipantsRequest",mapper:q},Z={parameterPath:"updateChatThreadRequest",mapper:w},$={parameterPath:["options","sendTypingNotificationRequest"],mapper:A},ee={parameterPath:"nextLink",mapper:{serializedName:"nextLink",required:!0,type:{name:"String"}},skipEncoding:!0},te={parameterPath:"createChatThreadRequest",mapper:E},ae=(function(){return r(_d2[7])(function e(t){r(_d2[6])(this,e),this.client=t},[{key:"listChatReadReceipts",value:(function(){var e=r(_d2[8])(function*(e,t){var n,s=this;return f.withSpan("ChatApiClient.listChatReadReceipts",null!=t?t:{},(n=r(_d2[8])(function*(t){return s.client.sendOperationRequest({chatThreadId:e,options:t},re)}),function(e){return n.apply(this,arguments)}))});return function(t,n){return e.apply(this,arguments)}})()},{key:"sendChatReadReceipt",value:(function(){var e=r(_d2[8])(function*(e,t,n){var s,o=this;return f.withSpan("ChatApiClient.sendChatReadReceipt",null!=n?n:{},(s=r(_d2[8])(function*(n){return o.client.sendOperationRequest({chatThreadId:e,sendReadReceiptRequest:t,options:n},ne)}),function(e){return s.apply(this,arguments)}))});return function(t,n,s){return e.apply(this,arguments)}})()},{key:"sendChatMessage",value:(function(){var e=r(_d2[8])(function*(e,t,n){var s,o=this;return f.withSpan("ChatApiClient.sendChatMessage",null!=n?n:{},(s=r(_d2[8])(function*(n){return o.client.sendOperationRequest({chatThreadId:e,sendChatMessageRequest:t,options:n},se)}),function(e){return s.apply(this,arguments)}))});return function(t,n,s){return e.apply(this,arguments)}})()},{key:"listChatMessages",value:(function(){var e=r(_d2[8])(function*(e,t){var n,s=this;return f.withSpan("ChatApiClient.listChatMessages",null!=t?t:{},(n=r(_d2[8])(function*(t){return s.client.sendOperationRequest({chatThreadId:e,options:t},oe)}),function(e){return n.apply(this,arguments)}))});return function(t,n){return e.apply(this,arguments)}})()},{key:"getChatMessage",value:(function(){var e=r(_d2[8])(function*(e,t,n){var s,o=this;return f.withSpan("ChatApiClient.getChatMessage",null!=n?n:{},(s=r(_d2[8])(function*(n){return o.client.sendOperationRequest({chatThreadId:e,chatMessageId:t,options:n},pe)}),function(e){return s.apply(this,arguments)}))});return function(t,n,s){return e.apply(this,arguments)}})()},{key:"updateChatMessage",value:(function(){var e=r(_d2[8])(function*(e,t,n,s){var o,p=this;return f.withSpan("ChatApiClient.updateChatMessage",null!=s?s:{},(o=r(_d2[8])(function*(s){return p.client.sendOperationRequest({chatThreadId:e,chatMessageId:t,updateChatMessageRequest:n,options:s},de)}),function(e){return o.apply(this,arguments)}))});return function(t,n,s,o){return e.apply(this,arguments)}})()},{key:"deleteChatMessage",value:(function(){var e=r(_d2[8])(function*(e,t,n){var s,o=this;return f.withSpan("ChatApiClient.deleteChatMessage",null!=n?n:{},(s=r(_d2[8])(function*(n){return o.client.sendOperationRequest({chatThreadId:e,chatMessageId:t,options:n},le)}),function(e){return s.apply(this,arguments)}))});return function(t,n,s){return e.apply(this,arguments)}})()},{key:"listChatParticipants",value:(function(){var e=r(_d2[8])(function*(e,t){var n,s=this;return f.withSpan("ChatApiClient.listChatParticipants",null!=t?t:{},(n=r(_d2[8])(function*(t){return s.client.sendOperationRequest({chatThreadId:e,options:t},ce)}),function(e){return n.apply(this,arguments)}))});return function(t,n){return e.apply(this,arguments)}})()},{key:"removeChatParticipant",value:(function(){var e=r(_d2[8])(function*(e,t,n){var s,o=this;return f.withSpan("ChatApiClient.removeChatParticipant",null!=n?n:{},(s=r(_d2[8])(function*(n){return o.client.sendOperationRequest({chatThreadId:e,participantCommunicationIdentifier:t,options:n},ue)}),function(e){return s.apply(this,arguments)}))});return function(t,n,s){return e.apply(this,arguments)}})()},{key:"addChatParticipants",value:(function(){var e=r(_d2[8])(function*(e,t,n){var s,o=this;return f.withSpan("ChatApiClient.addChatParticipants",null!=n?n:{},(s=r(_d2[8])(function*(n){return o.client.sendOperationRequest({chatThreadId:e,addChatParticipantsRequest:t,options:n},he)}),function(e){return s.apply(this,arguments)}))});return function(t,n,s){return e.apply(this,arguments)}})()},{key:"updateChatThreadProperties",value:(function(){var e=r(_d2[8])(function*(e,t,n){var s,o=this;return f.withSpan("ChatApiClient.updateChatThreadProperties",null!=n?n:{},(s=r(_d2[8])(function*(n){return o.client.sendOperationRequest({chatThreadId:e,updateChatThreadRequest:t,options:n},me)}),function(e){return s.apply(this,arguments)}))});return function(t,n,s){return e.apply(this,arguments)}})()},{key:"getChatThreadProperties",value:(function(){var e=r(_d2[8])(function*(e,t){var n,s=this;return f.withSpan("ChatApiClient.getChatThreadProperties",null!=t?t:{},(n=r(_d2[8])(function*(t){return s.client.sendOperationRequest({chatThreadId:e,options:t},ye)}),function(e){return n.apply(this,arguments)}))});return function(t,n){return e.apply(this,arguments)}})()},{key:"sendTypingNotification",value:(function(){var e=r(_d2[8])(function*(e,t){var n,s=this;return f.withSpan("ChatApiClient.sendTypingNotification",null!=t?t:{},(n=r(_d2[8])(function*(t){return s.client.sendOperationRequest({chatThreadId:e,options:t},fe)}),function(e){return n.apply(this,arguments)}))});return function(t,n){return e.apply(this,arguments)}})()},{key:"listChatReadReceiptsNext",value:(function(){var e=r(_d2[8])(function*(e,t,n){var s,o=this;return f.withSpan("ChatApiClient.listChatReadReceiptsNext",null!=n?n:{},(s=r(_d2[8])(function*(n){return o.client.sendOperationRequest({chatThreadId:e,nextLink:t,options:n},Ce)}),function(e){return s.apply(this,arguments)}))});return function(t,n,s){return e.apply(this,arguments)}})()},{key:"listChatMessagesNext",value:(function(){var e=r(_d2[8])(function*(e,t,n){var s,o=this;return f.withSpan("ChatApiClient.listChatMessagesNext",null!=n?n:{},(s=r(_d2[8])(function*(n){return o.client.sendOperationRequest({chatThreadId:e,nextLink:t,options:n},ge)}),function(e){return s.apply(this,arguments)}))});return function(t,n,s){return e.apply(this,arguments)}})()},{key:"listChatParticipantsNext",value:(function(){var e=r(_d2[8])(function*(e,t,n){var s,o=this;return f.withSpan("ChatApiClient.listChatParticipantsNext",null!=n?n:{},(s=r(_d2[8])(function*(n){return o.client.sendOperationRequest({chatThreadId:e,nextLink:t,options:n},ve)}),function(e){return s.apply(this,arguments)}))});return function(t,n,s){return e.apply(this,arguments)}})()}])})(),ie=s.createSerializer(j,!1),re={path:"/chat/threads/{chatThreadId}/readReceipts",httpMethod:"GET",responses:{200:{bodyMapper:C},401:{bodyMapper:T,isError:!0},403:{bodyMapper:T,isError:!0},429:{bodyMapper:T,isError:!0},503:{bodyMapper:T,isError:!0}},queryParameters:[V,U,G],urlParameters:[L,D],headerParameters:[x],serializer:ie},ne={path:"/chat/threads/{chatThreadId}/readReceipts",httpMethod:"POST",responses:{200:{},401:{bodyMapper:T,isError:!0},403:{bodyMapper:T,isError:!0},429:{bodyMapper:T,isError:!0},503:{bodyMapper:T,isError:!0}},requestBody:H,queryParameters:[G],urlParameters:[L,D],headerParameters:[x,B],mediaType:"json",serializer:ie},se={path:"/chat/threads/{chatThreadId}/messages",httpMethod:"POST",responses:{201:{bodyMapper:N},401:{bodyMapper:T,isError:!0},403:{bodyMapper:T,isError:!0},429:{bodyMapper:T,isError:!0},503:{bodyMapper:T,isError:!0}},requestBody:Y,queryParameters:[G],urlParameters:[L,D],headerParameters:[x,B],mediaType:"json",serializer:ie},oe={path:"/chat/threads/{chatThreadId}/messages",httpMethod:"GET",responses:{200:{bodyMapper:b},401:{bodyMapper:T,isError:!0},403:{bodyMapper:T,isError:!0},429:{bodyMapper:T,isError:!0},503:{bodyMapper:T,isError:!0}},queryParameters:[V,G,F],urlParameters:[L,D],headerParameters:[x],serializer:ie},pe={path:"/chat/threads/{chatThreadId}/messages/{chatMessageId}",httpMethod:"GET",responses:{200:{bodyMapper:R},401:{bodyMapper:T,isError:!0},403:{bodyMapper:T,isError:!0},429:{bodyMapper:T,isError:!0},503:{bodyMapper:T,isError:!0}},queryParameters:[G],urlParameters:[L,D,J],headerParameters:[x],serializer:ie},de={path:"/chat/threads/{chatThreadId}/messages/{chatMessageId}",httpMethod:"PATCH",responses:{204:{},401:{bodyMapper:T,isError:!0},403:{bodyMapper:T,isError:!0},429:{bodyMapper:T,isError:!0},503:{bodyMapper:T,isError:!0}},requestBody:Q,queryParameters:[G],urlParameters:[L,D,J],headerParameters:[x,K],mediaType:"json",serializer:ie},le={path:"/chat/threads/{chatThreadId}/messages/{chatMessageId}",httpMethod:"DELETE",responses:{204:{},401:{bodyMapper:T,isError:!0},403:{bodyMapper:T,isError:!0},429:{bodyMapper:T,isError:!0},503:{bodyMapper:T,isError:!0}},queryParameters:[G],urlParameters:[L,D,J],headerParameters:[x],serializer:ie},ce={path:"/chat/threads/{chatThreadId}/participants",httpMethod:"GET",responses:{200:{bodyMapper:I},401:{bodyMapper:T,isError:!0},403:{bodyMapper:T,isError:!0},429:{bodyMapper:T,isError:!0},503:{bodyMapper:T,isError:!0}},queryParameters:[V,U,G],urlParameters:[L,D],headerParameters:[x],serializer:ie},ue={path:"/chat/threads/{chatThreadId}/participants/:remove",httpMethod:"POST",responses:{204:{},401:{bodyMapper:T,isError:!0},403:{bodyMapper:T,isError:!0},429:{bodyMapper:T,isError:!0},503:{bodyMapper:T,isError:!0}},requestBody:W,queryParameters:[G],urlParameters:[L,D],headerParameters:[x,B],mediaType:"json",serializer:ie},he={path:"/chat/threads/{chatThreadId}/participants/:add",httpMethod:"POST",responses:{201:{bodyMapper:z},401:{bodyMapper:T,isError:!0},403:{bodyMapper:T,isError:!0},429:{bodyMapper:T,isError:!0},503:{bodyMapper:T,isError:!0}},requestBody:X,queryParameters:[G],urlParameters:[L,D],headerParameters:[x,B],mediaType:"json",serializer:ie},me={path:"/chat/threads/{chatThreadId}",httpMethod:"PATCH",responses:{204:{},401:{bodyMapper:T,isError:!0},403:{bodyMapper:T,isError:!0},429:{bodyMapper:T,isError:!0},503:{bodyMapper:T,isError:!0}},requestBody:Z,queryParameters:[G],urlParameters:[L,D],headerParameters:[x,K],mediaType:"json",serializer:ie},ye={path:"/chat/threads/{chatThreadId}",httpMethod:"GET",responses:{200:{bodyMapper:O},401:{bodyMapper:T,isError:!0},403:{bodyMapper:T,isError:!0},429:{bodyMapper:T,isError:!0},503:{bodyMapper:T,isError:!0}},queryParameters:[G],urlParameters:[L,D],headerParameters:[x],serializer:ie},fe={path:"/chat/threads/{chatThreadId}/typing",httpMethod:"POST",responses:{200:{},401:{bodyMapper:T,isError:!0},403:{bodyMapper:T,isError:!0},429:{bodyMapper:T,isError:!0},503:{bodyMapper:T,isError:!0}},requestBody:$,queryParameters:[G],urlParameters:[L,D],headerParameters:[x,B],mediaType:"json",serializer:ie},Ce={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:C},401:{bodyMapper:T,isError:!0},403:{bodyMapper:T,isError:!0},429:{bodyMapper:T,isError:!0},503:{bodyMapper:T,isError:!0}},urlParameters:[L,D,ee],headerParameters:[x],serializer:ie},ge={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:b},401:{bodyMapper:T,isError:!0},403:{bodyMapper:T,isError:!0},429:{bodyMapper:T,isError:!0},503:{bodyMapper:T,isError:!0}},urlParameters:[L,D,ee],headerParameters:[x],serializer:ie},ve={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:I},401:{bodyMapper:T,isError:!0},403:{bodyMapper:T,isError:!0},429:{bodyMapper:T,isError:!0},503:{bodyMapper:T,isError:!0}},urlParameters:[L,D,ee],headerParameters:[x],serializer:ie},Te=(function(){return r(_d2[7])(function e(t){r(_d2[6])(this,e),this.client=t},[{key:"createChatThread",value:(function(){var e=r(_d2[8])(function*(e,t){var n,s=this;return f.withSpan("ChatApiClient.createChatThread",null!=t?t:{},(n=r(_d2[8])(function*(t){return s.client.sendOperationRequest({createChatThreadRequest:e,options:t},Pe)}),function(e){return n.apply(this,arguments)}))});return function(t,n){return e.apply(this,arguments)}})()},{key:"listChatThreads",value:(function(){var e=r(_d2[8])(function*(e){var t,n=this;return f.withSpan("ChatApiClient.listChatThreads",null!=e?e:{},(t=r(_d2[8])(function*(e){return n.client.sendOperationRequest({options:e},Ne)}),function(e){return t.apply(this,arguments)}))});return function(t){return e.apply(this,arguments)}})()},{key:"deleteChatThread",value:(function(){var e=r(_d2[8])(function*(e,t){var n,s=this;return f.withSpan("ChatApiClient.deleteChatThread",null!=t?t:{},(n=r(_d2[8])(function*(t){return s.client.sendOperationRequest({chatThreadId:e,options:t},be)}),function(e){return n.apply(this,arguments)}))});return function(t,n){return e.apply(this,arguments)}})()},{key:"listChatThreadsNext",value:(function(){var e=r(_d2[8])(function*(e,t){var n,s=this;return f.withSpan("ChatApiClient.listChatThreadsNext",null!=t?t:{},(n=r(_d2[8])(function*(t){return s.client.sendOperationRequest({nextLink:e,options:t},Re)}),function(e){return n.apply(this,arguments)}))});return function(t,n){return e.apply(this,arguments)}})()}])})(),Me=s.createSerializer(j,!1),Pe={path:"/chat/threads",httpMethod:"POST",responses:{201:{bodyMapper:k},401:{bodyMapper:T,isError:!0},403:{bodyMapper:T,isError:!0},429:{bodyMapper:T,isError:!0},503:{bodyMapper:T,isError:!0}},requestBody:te,queryParameters:[G],urlParameters:[L],headerParameters:[x,B,{parameterPath:["options","repeatabilityRequestId"],mapper:{serializedName:"repeatability-request-id",type:{name:"String"}}}],mediaType:"json",serializer:Me},Ne={path:"/chat/threads",httpMethod:"GET",responses:{200:{bodyMapper:_},401:{bodyMapper:T,isError:!0},403:{bodyMapper:T,isError:!0},429:{bodyMapper:T,isError:!0},503:{bodyMapper:T,isError:!0}},queryParameters:[V,G,F],urlParameters:[L],headerParameters:[x],serializer:Me},be={path:"/chat/threads/{chatThreadId}",httpMethod:"DELETE",responses:{204:{},401:{bodyMapper:T,isError:!0},403:{bodyMapper:T,isError:!0},429:{bodyMapper:T,isError:!0},503:{bodyMapper:T,isError:!0}},queryParameters:[G],urlParameters:[L,D],headerParameters:[x],serializer:Me},Re={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:_},401:{bodyMapper:T,isError:!0},403:{bodyMapper:T,isError:!0},429:{bodyMapper:T,isError:!0},503:{bodyMapper:T,isError:!0}},urlParameters:[L,ee],headerParameters:[x],serializer:Me},Se=(function(t){function n(t,s){var o,p,d;if(r(_d2[6])(this,n),void 0===t)throw new Error("'endpoint' cannot be null");s||(s={});var l,c,u,h=s.userAgentOptions&&s.userAgentOptions.userAgentPrefix?s.userAgentOptions.userAgentPrefix+" azsdk-js-communication-chat/1.5.2":"azsdk-js-communication-chat/1.5.2",y=Object.assign(Object.assign(Object.assign({},{requestContentType:"application/json; charset=utf-8"}),s),{userAgentOptions:{userAgentPrefix:h},endpoint:null!==(d=null!==(p=s.endpoint)&&void 0!==p?p:s.baseUri)&&void 0!==d?d:"{endpoint}"});return l=this,c=n,u=[y],c=r(_d2[0])(c),(o=r(_d2[1])(l,e()?Reflect.construct(c,u||[],r(_d2[0])(l).constructor):c.apply(l,u))).endpoint=t,o.apiVersion=s.apiVersion||"2024-03-07",o.chatThread=new ae(o),o.chat=new Te(o),o.addCustomApiVersionPolicy(s.apiVersion),o}return r(_d2[9])(n,t),r(_d2[7])(n,[{key:"addCustomApiVersionPolicy",value:function(e){if(e){var t={name:"CustomApiVersionPolicy",sendRequest:(function(){var t=r(_d2[8])(function*(t,n){var s=t.url.split("?");if(s.length>1){var o=s[1].split("&").map(function(t){return t.indexOf("api-version")>-1?"api-version="+e:t});t.url=s[0]+"?"+o.join("&")}return n(t)});return function(e,n){return t.apply(this,arguments)}})()};this.pipeline.addPolicy(t)}}}])})(s.ServiceClient),Ie=r(_d2[10]).createClientLogger("communication-chat"),qe=function(e){var t={credential:{getToken:function(t,n){return e.getToken({abortSignal:null==n?void 0:n.abortSignal})}},scopes:[]};return r(_d2[11]).bearerTokenAuthenticationPolicy(t)},ze=(function(){return r(_d2[7])(function e(t,n,s){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r(_d2[6])(this,e),this.endpoint=t,this.timeOfLastTypingRequest=void 0,this.threadId=n,this.tokenCredential=s;var p=Object.assign(Object.assign({},o),{loggingOptions:{logger:Ie.info}});this.client=new Se(this.endpoint,Object.assign({endpoint:this.endpoint},p));var d=qe(this.tokenCredential);this.client.pipeline.addPolicy(d)},[{key:"getProperties",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f.withSpan("ChatClient-GetProperties",n,(e=r(_d2[8])(function*(e){var n=yield t.client.chatThread.getChatThreadProperties(t.threadId,e);return u(n)}),function(t){return e.apply(this,arguments)}))}},{key:"updateTopic",value:function(e){var t,n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.withSpan("ChatThreadClient-UpdateTopic",s,(t=r(_d2[8])(function*(t){yield n.client.chatThread.updateChatThreadProperties(n.threadId,{topic:e},t)}),function(e){return t.apply(this,arguments)}))}},{key:"sendMessage",value:function(e){var t,n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.withSpan("ChatThreadClient-SendMessage",s,(t=r(_d2[8])(function*(t){return n.timeOfLastTypingRequest=void 0,yield n.client.chatThread.sendChatMessage(n.threadId,Object.assign(Object.assign({},e),s),t)}),function(e){return t.apply(this,arguments)}))}},{key:"getMessage",value:function(e){var t,n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.withSpan("ChatThreadClient-GetMessage",s,(t=r(_d2[8])(function*(t){var s=yield n.client.chatThread.getChatMessage(n.threadId,e,t);return c(s)}),function(e){return t.apply(this,arguments)}))}},{key:"listMessagesPage",value:function(e){return r(_d2[3]).__asyncGenerator(this,arguments,function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(function*(){if(!e.continuationToken){var s=yield r(_d2[3]).__await(t.client.chatThread.listChatMessages(t.threadId,n));e.continuationToken=s.nextLink,s.value&&(yield yield r(_d2[3]).__await(s.value.map(c,t)))}for(;e.continuationToken;){var o=yield r(_d2[3]).__await(t.client.chatThread.listChatMessagesNext(t.threadId,e.continuationToken,n));if(e.continuationToken=o.nextLink,!o.value)break;yield yield r(_d2[3]).__await(o.value.map(c,t))}})()})}},{key:"listMessagesAll",value:function(e){return r(_d2[3]).__asyncGenerator(this,arguments,function*(){var t,n,s;try{for(var o,p=!0,d=r(_d2[3]).__asyncValues(this.listMessagesPage({},e));!(t=(o=yield r(_d2[3]).__await(d.next())).done);p=!0){p=!1;var l=o.value;yield r(_d2[3]).__await(yield*r(_d2[3]).__asyncDelegator(r(_d2[3]).__asyncValues(l)))}}catch(e){n={error:e}}finally{try{p||t||!(s=d.return)||(yield r(_d2[3]).__await(s.call(d)))}finally{if(n)throw n.error}}})}},{key:"listMessages",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=f.startSpan("ChatThreadClient-ListMessages",t),s=n.span,o=n.updatedOptions;try{var p=this.listMessagesAll(o);return r(_d2[12])(r(_d2[12])({next:function(){return p.next()}},Symbol.asyncIterator,function(){return this}),"byPage",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.listMessagesPage(t,o)})}catch(e){throw s.setStatus({status:"error",error:e}),e}finally{s.end()}}},{key:"deleteMessage",value:function(e){var t,n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.withSpan("ChatThreadClient-DeleteMessage",s,(t=r(_d2[8])(function*(t){yield n.client.chatThread.deleteChatMessage(n.threadId,e,t)}),function(e){return t.apply(this,arguments)}))}},{key:"updateMessage",value:(function(){var e=r(_d2[8])(function*(e){var t,n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.withSpan("ChatThreadClient-UpdateMessage",s,(t=r(_d2[8])(function*(t){yield n.client.chatThread.updateChatMessage(n.threadId,e,s,t)}),function(e){return t.apply(this,arguments)}))});return function(t){return e.apply(this,arguments)}})()},{key:"addParticipants",value:(function(){var e=r(_d2[8])(function*(e){var t,n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.withSpan("ChatThreadClient-AddParticipants",s,(t=r(_d2[8])(function*(t){var s,o;return yield n.client.chatThread.addChatParticipants(n.threadId,(s=e,{participants:null===(o=s.participants)||void 0===o?void 0:o.map(function(e){return p(e)})}),t)}),function(e){return t.apply(this,arguments)}))});return function(t){return e.apply(this,arguments)}})()},{key:"listParticipantsPage",value:function(e){return r(_d2[3]).__asyncGenerator(this,arguments,function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(function*(){if(!e.continuationToken){var s=yield r(_d2[3]).__await(t.client.chatThread.listChatParticipants(t.threadId,n));e.continuationToken=s.nextLink,s.value&&(yield yield r(_d2[3]).__await(s.value.map(d,t)))}for(;e.continuationToken;){var o=yield r(_d2[3]).__await(t.client.chatThread.listChatParticipantsNext(t.threadId,e.continuationToken,n));if(e.continuationToken=o.nextLink,!o.value)break;yield yield r(_d2[3]).__await(o.value.map(d,t))}})()})}},{key:"listParticipantsAll",value:function(e){return r(_d2[3]).__asyncGenerator(this,arguments,function*(){var t,n,s;try{for(var o,p=!0,d=r(_d2[3]).__asyncValues(this.listParticipantsPage({},e));!(t=(o=yield r(_d2[3]).__await(d.next())).done);p=!0){p=!1;var l=o.value;yield r(_d2[3]).__await(yield*r(_d2[3]).__asyncDelegator(r(_d2[3]).__asyncValues(l)))}}catch(e){n={error:e}}finally{try{p||t||!(s=d.return)||(yield r(_d2[3]).__await(s.call(d)))}finally{if(n)throw n.error}}})}},{key:"listParticipants",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=f.startSpan("ChatThreadClient-ListParticipants",t),s=n.span,o=n.updatedOptions;try{var p=this.listParticipantsAll(o);return r(_d2[12])(r(_d2[12])({next:function(){return p.next()}},Symbol.asyncIterator,function(){return this}),"byPage",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.listParticipantsPage(t,o)})}catch(e){throw s.setStatus({status:"error",error:e}),e}finally{s.end()}}},{key:"removeParticipant",value:(function(){var e=r(_d2[8])(function*(e){var t,n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.withSpan("ChatThreadClient-RemoveParticipant",s,(t=r(_d2[8])(function*(t){yield n.client.chatThread.removeChatParticipant(n.threadId,r(_d2[4]).serializeCommunicationIdentifier(e),t)}),function(e){return t.apply(this,arguments)}))});return function(t){return e.apply(this,arguments)}})()},{key:"sendTypingNotification",value:(function(){var e=r(_d2[8])(function*(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f.withSpan("ChatThreadClient-SendTypingNotification",n,(e=r(_d2[8])(function*(e){var n=new Date,s=e.senderDisplayName,o=r(_d2[3]).__rest(e,["senderDisplayName"]);return t.canPostTypingNotification(n)?(t.timeOfLastTypingRequest=n,yield t.client.chatThread.sendTypingNotification(t.threadId,Object.assign({sendTypingNotificationRequest:{senderDisplayName:s}},o)),!0):(Ie.info("Typing Notification NOT Send. [thread_id="+t.threadId+"]"),!1)}),function(t){return e.apply(this,arguments)}))});return function(){return e.apply(this,arguments)}})()},{key:"sendReadReceipt",value:(function(){var e=r(_d2[8])(function*(e){var t,n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.withSpan("ChatThreadClient-SendReadReceipt",s,(t=r(_d2[8])(function*(t){yield n.client.chatThread.sendChatReadReceipt(n.threadId,e,t)}),function(e){return t.apply(this,arguments)}))});return function(t){return e.apply(this,arguments)}})()},{key:"listReadReceiptsPage",value:function(e){return r(_d2[3]).__asyncGenerator(this,arguments,function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(function*(){if(!e.continuationToken){var s=yield r(_d2[3]).__await(t.client.chatThread.listChatReadReceipts(t.threadId,n));e.continuationToken=s.nextLink,s.value&&(yield yield r(_d2[3]).__await(s.value.map(y,t)))}for(;e.continuationToken;){var o=yield r(_d2[3]).__await(t.client.chatThread.listChatReadReceiptsNext(t.threadId,e.continuationToken,n));if(e.continuationToken=o.nextLink,!o.value)break;yield yield r(_d2[3]).__await(o.value.map(y,t))}})()})}},{key:"listReadReceiptsAll",value:function(e){return r(_d2[3]).__asyncGenerator(this,arguments,function*(){var t,n,s;try{for(var o,p=!0,d=r(_d2[3]).__asyncValues(this.listReadReceiptsPage({},e));!(t=(o=yield r(_d2[3]).__await(d.next())).done);p=!0){p=!1;var l=o.value;yield r(_d2[3]).__await(yield*r(_d2[3]).__asyncDelegator(r(_d2[3]).__asyncValues(l)))}}catch(e){n={error:e}}finally{try{p||t||!(s=d.return)||(yield r(_d2[3]).__await(s.call(d)))}finally{if(n)throw n.error}}})}},{key:"listReadReceipts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=f.startSpan("ChatThreadClient-ListChatReadReceipts",t),s=n.span,o=n.updatedOptions;try{var p=this.listReadReceiptsAll(o);return r(_d2[12])(r(_d2[12])({next:function(){return p.next()}},Symbol.asyncIterator,function(){return this}),"byPage",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.listReadReceiptsPage(t,o)})}catch(e){throw s.setStatus({status:"error",error:e}),e}finally{s.end()}}},{key:"canPostTypingNotification",value:function(e){if(this.timeOfLastTypingRequest&&e.getTime()-this.timeOfLastTypingRequest.getTime()<8e3)return Ie.info("Typing interval check failed. [last_request="+this.timeOfLastTypingRequest+"]"),!1;return!0}}])})();var Ee=function(e,t,n){var s,o,p;if("undefined"!=typeof navigator&&"ReactNative"===navigator.product)return new(r(_d2[14]).CommunicationSignalingClient)(e,t,{environment:null!==(s=null==n?void 0:n.environment)&&void 0!==s?s:void 0,resourceEndpoint:null!==(o=null==n?void 0:n.resourceEndpoint)&&void 0!==o?o:void 0,gatewayApiVersion:null!==(p=null==n?void 0:n.gatewayApiVersion)&&void 0!==p?p:void 0})},ke=(function(){return r(_d2[7])(function e(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(_d2[6])(this,e),this.endpoint=t,this.signalingClient=void 0,this.emitter=new(r(_d2[15]).EventEmitter),this.isRealtimeNotificationsStarted=!1,this.tokenCredential=n;var o=Object.assign(Object.assign({},s),{loggingOptions:{logger:Ie.info}});this.client=new Se(this.endpoint,Object.assign({endpoint:this.endpoint},o));var p=qe(this.tokenCredential);this.client.pipeline.addPolicy(p),this.clientOptions=Object.assign({},s),this.clientOptions.signalingClientOptions=Object.assign(Object.assign({},this.clientOptions.signalingClientOptions),{resourceEndpoint:this.endpoint,gatewayApiVersion:this.client.apiVersion}),this.signalingClient=Ee(n,Ie,this.clientOptions.signalingClientOptions)},[{key:"getChatThreadClient",value:function(e){return new ze(this.endpoint,e,this.tokenCredential,this.clientOptions)}},{key:"createChatThread",value:(function(){var e=r(_d2[8])(function*(e){var t,n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.withSpan("ChatClient-CreateChatThread",s,(t=r(_d2[8])(function*(t){var d,l;t.idempotencyToken=null!==(d=t.idempotencyToken)&&void 0!==d?d:r(_d2[13]).v4();var c=o(t),u=yield n.client.chat.createChatThread({topic:e.topic,participants:null===(l=s.participants)||void 0===l?void 0:l.map(function(e){return p(e)})},c);return h(u)}),function(e){return t.apply(this,arguments)}))});return function(t){return e.apply(this,arguments)}})()},{key:"listChatThreadsPage",value:function(e){return r(_d2[3]).__asyncGenerator(this,arguments,function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(function*(){if(!e.continuationToken){var s=yield r(_d2[3]).__await(t.client.chat.listChatThreads(n));e.continuationToken=s.nextLink,s.value&&(yield yield r(_d2[3]).__await(s.value))}for(;e.continuationToken;){var o=yield r(_d2[3]).__await(t.client.chat.listChatThreadsNext(e.continuationToken,n));if(e.continuationToken=o.nextLink,!o.value)break;yield yield r(_d2[3]).__await(o.value)}})()})}},{key:"listChatThreadsAll",value:function(e){return r(_d2[3]).__asyncGenerator(this,arguments,function*(){var t,n,s;try{for(var o,p=!0,d=r(_d2[3]).__asyncValues(this.listChatThreadsPage({},e));!(t=(o=yield r(_d2[3]).__await(d.next())).done);p=!0){p=!1;var l=o.value;yield r(_d2[3]).__await(yield*r(_d2[3]).__asyncDelegator(r(_d2[3]).__asyncValues(l)))}}catch(e){n={error:e}}finally{try{p||t||!(s=d.return)||(yield r(_d2[3]).__await(s.call(d)))}finally{if(n)throw n.error}}})}},{key:"listChatThreads",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=f.startSpan("ChatClient-ListChatThreads",t),s=n.span,o=n.updatedOptions;try{var p=this.listChatThreadsAll(o);return r(_d2[12])(r(_d2[12])({next:function(){return p.next()}},Symbol.asyncIterator,function(){return this}),"byPage",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.listChatThreadsPage(t,o)})}catch(e){throw s.setStatus({error:e,status:"error"}),e}finally{s.end()}}},{key:"deleteChatThread",value:(function(){var e=r(_d2[8])(function*(e){var t,n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.withSpan("ChatClient-DeleteChatThread",s,(t=r(_d2[8])(function*(t){yield n.client.chat.deleteChatThread(e,t)}),function(e){return t.apply(this,arguments)}))});return function(t){return e.apply(this,arguments)}})()},{key:"startRealtimeNotifications",value:(function(){var e=r(_d2[8])(function*(){if(void 0===this.signalingClient)throw new Error("Realtime notifications are not supported in node js.");this.isRealtimeNotificationsStarted||(this.isRealtimeNotificationsStarted=!0,yield this.signalingClient.start(),this.subscribeToSignalingEvents())});return function(){return e.apply(this,arguments)}})()},{key:"stopRealtimeNotifications",value:(function(){var e=r(_d2[8])(function*(){if(void 0===this.signalingClient)throw new Error("Realtime notifications are not supported in node js.");this.isRealtimeNotificationsStarted=!1,yield this.signalingClient.stop(),this.emitter.removeAllListeners()});return function(){return e.apply(this,arguments)}})()},{key:"on",value:function(e,t){if(void 0===this.signalingClient)throw new Error("Realtime notifications are only supported in the browser.");if(!this.isRealtimeNotificationsStarted&&"realTimeNotificationConnected"!==e&&"realTimeNotificationDisconnected"!==e)throw new Error("You must call startRealtimeNotifications before you can subscribe to events.");this.emitter.on(e,t)}},{key:"off",value:function(e,t){if(void 0===this.signalingClient)throw new Error("Realtime notifications are only supported in the browser.");this.emitter.removeListener(e,t)}},{key:"subscribeToSignalingEvents",value:function(){var e=this;if(void 0===this.signalingClient)throw new Error("Realtime notifications are only supported in the browser.");this.signalingClient.on("connectionChanged",function(t){t===r(_d2[14]).ConnectionState.Connected?e.emitter.emit("realTimeNotificationConnected"):t===r(_d2[14]).ConnectionState.Disconnected&&e.emitter.emit("realTimeNotificationDisconnected")}),this.signalingClient.on("chatMessageReceived",function(t){e.emitter.emit("chatMessageReceived",t)}),this.signalingClient.on("chatMessageEdited",function(t){e.emitter.emit("chatMessageEdited",t)}),this.signalingClient.on("chatMessageDeleted",function(t){e.emitter.emit("chatMessageDeleted",t)}),this.signalingClient.on("typingIndicatorReceived",function(t){e.emitter.emit("typingIndicatorReceived",t)}),this.signalingClient.on("readReceiptReceived",function(t){e.emitter.emit("readReceiptReceived",t)}),this.signalingClient.on("chatThreadCreated",function(t){e.emitter.emit("chatThreadCreated",t)}),this.signalingClient.on("chatThreadDeleted",function(t){e.emitter.emit("chatThreadDeleted",t)}),this.signalingClient.on("chatThreadPropertiesUpdated",function(t){e.emitter.emit("chatThreadPropertiesUpdated",t)}),this.signalingClient.on("participantsAdded",function(t){e.emitter.emit("participantsAdded",t)}),this.signalingClient.on("participantsRemoved",function(t){e.emitter.emit("participantsRemoved",t)})}}])})();_e2.ChatClient=ke,_e2.ChatThreadClient=ze},850,[44,45,851,868,773,837,12,13,270,47,805,798,240,869,884,478]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"MapperTypeNames",{enumerable:!0,get:function(){return r(d[0]).MapperTypeNames}}),Object.defineProperty(e,"ServiceClient",{enumerable:!0,get:function(){return r(d[1]).ServiceClient}}),Object.defineProperty(e,"XML_ATTRKEY",{enumerable:!0,get:function(){return r(d[2]).XML_ATTRKEY}}),Object.defineProperty(e,"XML_CHARKEY",{enumerable:!0,get:function(){return r(d[2]).XML_CHARKEY}}),Object.defineProperty(e,"authorizeRequestOnClaimChallenge",{enumerable:!0,get:function(){return r(d[3]).authorizeRequestOnClaimChallenge}}),Object.defineProperty(e,"authorizeRequestOnTenantChallenge",{enumerable:!0,get:function(){return r(d[4]).authorizeRequestOnTenantChallenge}}),Object.defineProperty(e,"createClientPipeline",{enumerable:!0,get:function(){return r(d[5]).createClientPipeline}}),Object.defineProperty(e,"createSerializer",{enumerable:!0,get:function(){return r(d[0]).createSerializer}}),Object.defineProperty(e,"deserializationPolicy",{enumerable:!0,get:function(){return r(d[6]).deserializationPolicy}}),Object.defineProperty(e,"deserializationPolicyName",{enumerable:!0,get:function(){return r(d[6]).deserializationPolicyName}}),Object.defineProperty(e,"serializationPolicy",{enumerable:!0,get:function(){return r(d[7]).serializationPolicy}}),Object.defineProperty(e,"serializationPolicyName",{enumerable:!0,get:function(){return r(d[7]).serializationPolicyName}})},851,[852,856,854,866,867,863,865,864]);
__d(function(g,_r,_i,_a2,m,_e,_d2){Object.defineProperty(_e,"__esModule",{value:!0}),_e.MapperTypeNames=void 0,_e.createSerializer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new o(e,r)};var e=_r(_d2[0])(_r(_d2[1])),r=_r(_d2[0])(_r(_d2[2])),t=_r(_d2[0])(_r(_d2[3])),i=_r(_d2[0])(_r(_d2[4])),a=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(r);if(t&&t.has(e))return t.get(e);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(i,o,l):i[o]=e[o]}return i.default=e,t&&t.set(e,i),i})(_r(_d2[5]));function n(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:r})(e)}var o=(function(){return(0,i.default)(function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,t.default)(this,e),this.modelMappers=r,this.isXML=i},[{key:"validateConstraints",value:function(e,r,t){var i=function(e,i){throw new Error("\""+t+"\" with value \""+r+"\" should satisfy the constraint \""+e+"\": "+i+".")};if(e.constraints&&null!=r){var a=e.constraints,n=a.ExclusiveMaximum,o=a.ExclusiveMinimum,l=a.InclusiveMaximum,s=a.InclusiveMinimum,u=a.MaxItems,f=a.MaxLength,c=a.MinItems,p=a.MinLength,d=a.MultipleOf,v=a.Pattern,y=a.UniqueItems;if(void 0!==n&&r>=n&&i("ExclusiveMaximum",n),void 0!==o&&r<=o&&i("ExclusiveMinimum",o),void 0!==l&&r>l&&i("InclusiveMaximum",l),void 0!==s&&r<s&&i("InclusiveMinimum",s),void 0!==u&&r.length>u&&i("MaxItems",u),void 0!==f&&r.length>f&&i("MaxLength",f),void 0!==c&&r.length<c&&i("MinItems",c),void 0!==p&&r.length<p&&i("MinLength",p),void 0!==d&&r%d!=0&&i("MultipleOf",d),v){var h="string"==typeof v?new RegExp(v):v;"string"==typeof r&&null!==r.match(h)||i("Pattern",v)}y&&r.some(function(e,r,t){return t.indexOf(e)!==r})&&i("UniqueItems",y)}}},{key:"serialize",value:function(e,r,t){var i,a,n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{xml:{}},l={xml:{rootName:null!==(i=o.xml.rootName)&&void 0!==i?i:"",includeRoot:null!==(a=o.xml.includeRoot)&&void 0!==a&&a,xmlCharKey:null!==(n=o.xml.xmlCharKey)&&void 0!==n?n:_r(_d2[6]).XML_CHARKEY}},s={},u=e.type.name;t||(t=e.serializedName),null!==u.match(/^Sequence$/i)&&(s=[]),e.isConstant&&(r=e.defaultValue);var f=e.required,c=e.nullable;if(f&&c&&void 0===r)throw new Error(t+" cannot be undefined.");if(f&&!c&&null==r)throw new Error(t+" cannot be null or undefined.");if(!f&&!1===c&&null===r)throw new Error(t+" cannot be null.");if(null==r)s=r;else if(null!==u.match(/^any$/i))s=r;else if(null!==u.match(/^(Number|String|Boolean|Object|Stream|Uuid)$/i))s=d(u,t,r);else if(null!==u.match(/^Enum$/i)){s=v(t,e.type.allowedValues,r)}else null!==u.match(/^(Date|DateTime|TimeSpan|DateTimeRfc1123|UnixTime)$/i)?s=x(u,r,t):null!==u.match(/^ByteArray$/i)?s=y(t,r):null!==u.match(/^Base64Url$/i)?s=h(t,r):null!==u.match(/^Sequence$/i)?s=b(this,e,r,t,Boolean(this.isXML),l):null!==u.match(/^Dictionary$/i)?s=w(this,e,r,t,Boolean(this.isXML),l):null!==u.match(/^Composite$/i)&&(s=T(this,e,r,t,Boolean(this.isXML),l));return s}},{key:"deserialize",value:function(e,r,t){var i,n,o,l,s,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{xml:{}},c={xml:{rootName:null!==(i=f.xml.rootName)&&void 0!==i?i:"",includeRoot:null!==(n=f.xml.includeRoot)&&void 0!==n&&n,xmlCharKey:null!==(o=f.xml.xmlCharKey)&&void 0!==o?o:_r(_d2[6]).XML_CHARKEY},ignoreUnknownProperties:null!==(l=f.ignoreUnknownProperties)&&void 0!==l&&l};if(null==r)return this.isXML&&"Sequence"===e.type.name&&!e.xmlIsWrapped&&(r=[]),void 0!==e.defaultValue&&(r=e.defaultValue),r;var d=e.type.name;if(t||(t=e.serializedName),null!==d.match(/^Composite$/i))s=A(this,e,r,t,c);else{if(this.isXML){var v=c.xml.xmlCharKey;void 0!==r[_r(_d2[6]).XML_ATTRKEY]&&void 0!==r[v]&&(r=r[v])}null!==d.match(/^Number$/i)?(s=parseFloat(r),isNaN(s)&&(s=r)):null!==d.match(/^Boolean$/i)?s="true"===r||"false"!==r&&r:null!==d.match(/^(String|Enum|Object|Stream|Uuid|TimeSpan|any)$/i)?s=r:null!==d.match(/^(Date|DateTime|DateTimeRfc1123)$/i)?s=new Date(r):null!==d.match(/^UnixTime$/i)?s=p(r):null!==d.match(/^ByteArray$/i)?s=a.decodeString(r):null!==d.match(/^Base64Url$/i)?s=u(r):null!==d.match(/^Sequence$/i)?s=j(this,e,r,t,c):null!==d.match(/^Dictionary$/i)&&(s=S(this,e,r,t,c))}return e.isConstant&&(s=e.defaultValue),s}}])})();function l(e,r){for(var t=e.length;t-1>=0&&e[t-1]===r;)--t;return e.substr(0,t)}function s(e){if(e){if(!(e instanceof Uint8Array))throw new Error("Please provide an input of type Uint8Array for converting to Base64Url.");return l(a.encodeByteArray(e),"=").replace(/\+/g,"-").replace(/\//g,"_")}}function u(e){if(e){if(e&&"string"!=typeof e.valueOf())throw new Error("Please provide an input of type string for converting to Uint8Array");return e=e.replace(/-/g,"+").replace(/_/g,"/"),a.decodeString(e)}}function f(e){var r=[],t="";if(e){var i=e.split(".");for(var a of i)"\\"===a.charAt(a.length-1)?t+=a.substr(0,a.length-1)+".":(t+=a,r.push(t),t="")}return r}function c(e){if(e)return"string"==typeof e.valueOf()&&(e=new Date(e)),Math.floor(e.getTime()/1e3)}function p(e){if(e)return new Date(1e3*e)}function d(e,r,t){if(null!=t)if(null!==e.match(/^Number$/i)){if("number"!=typeof t)throw new Error(r+" with value "+t+" must be of type number.")}else if(null!==e.match(/^String$/i)){if("string"!=typeof t.valueOf())throw new Error(r+" with value \""+t+"\" must be of type string.")}else if(null!==e.match(/^Uuid$/i)){if("string"!=typeof t.valueOf()||!(0,_r(_d2[7]).isValidUuid)(t))throw new Error(r+" with value \""+t+"\" must be of type string and a valid uuid.")}else if(null!==e.match(/^Boolean$/i)){if("boolean"!=typeof t)throw new Error(r+" with value "+t+" must be of type boolean.")}else if(null!==e.match(/^Stream$/i)){var i=typeof t;if(!("string"===i||"function"==typeof t.pipe||"function"==typeof t.tee||t instanceof ArrayBuffer||ArrayBuffer.isView(t)||("function"==typeof Blob||"object"==typeof Blob)&&t instanceof Blob||"function"===i))throw new Error(r+" must be a string, Blob, ArrayBuffer, ArrayBufferView, ReadableStream, or () => ReadableStream.")}return t}function v(e,r,t){if(!r)throw new Error("Please provide a set of allowedValues to validate "+e+" as an Enum Type.");if(!r.some(function(e){return"string"==typeof e.valueOf()?e.toLowerCase()===t.toLowerCase():e===t}))throw new Error(t+" is not a valid value for "+e+". The valid values are: "+JSON.stringify(r)+".");return t}function y(e,r){if(null!=r){if(!(r instanceof Uint8Array))throw new Error(e+" must be of type Uint8Array.");r=a.encodeByteArray(r)}return r}function h(e,r){if(null!=r){if(!(r instanceof Uint8Array))throw new Error(e+" must be of type Uint8Array.");r=s(r)}return r}function x(e,r,t){if(null!=r)if(null!==e.match(/^Date$/i)){if(!(r instanceof Date||"string"==typeof r.valueOf()&&!isNaN(Date.parse(r))))throw new Error(t+" must be an instanceof Date or a string in ISO8601 format.");r=r instanceof Date?r.toISOString().substring(0,10):new Date(r).toISOString().substring(0,10)}else if(null!==e.match(/^DateTime$/i)){if(!(r instanceof Date||"string"==typeof r.valueOf()&&!isNaN(Date.parse(r))))throw new Error(t+" must be an instanceof Date or a string in ISO8601 format.");r=r instanceof Date?r.toISOString():new Date(r).toISOString()}else if(null!==e.match(/^DateTimeRfc1123$/i)){if(!(r instanceof Date||"string"==typeof r.valueOf()&&!isNaN(Date.parse(r))))throw new Error(t+" must be an instanceof Date or a string in RFC-1123 format.");r=r instanceof Date?r.toUTCString():new Date(r).toUTCString()}else if(null!==e.match(/^UnixTime$/i)){if(!(r instanceof Date||"string"==typeof r.valueOf()&&!isNaN(Date.parse(r))))throw new Error(t+" must be an instanceof Date or a string in RFC-1123/ISO8601 format for it to be serialized in UnixTime/Epoch format.");r=c(r)}else if(null!==e.match(/^TimeSpan$/i)&&!(0,_r(_d2[7]).isDuration)(r))throw new Error(t+" must be a string in ISO 8601 format. Instead was \""+r+"\".");return r}function b(e,t,i,a,n,o){var l;if(!Array.isArray(i))throw new Error(a+" must be of type Array.");var s=t.type.element;if(!s||"object"!=typeof s)throw new Error("element\" metadata for an Array must be defined in the mapper and it must of type \"object\" in "+a+".");"Composite"===s.type.name&&s.type.className&&(s=null!==(l=e.modelMappers[s.type.className])&&void 0!==l?l:s);for(var u=[],f=0;f<i.length;f++){var c=e.serialize(s,i[f],a,o);if(n&&s.xmlNamespace){var p=s.xmlNamespacePrefix?"xmlns:"+s.xmlNamespacePrefix:"xmlns";"Composite"===s.type.name?(u[f]=Object.assign({},c),u[f][_r(_d2[6]).XML_ATTRKEY]=(0,r.default)({},p,s.xmlNamespace)):(u[f]={},u[f][o.xml.xmlCharKey]=c,u[f][_r(_d2[6]).XML_ATTRKEY]=(0,r.default)({},p,s.xmlNamespace))}else u[f]=c}return u}function w(e,t,i,a,n,o){if("object"!=typeof i)throw new Error(a+" must be of type object.");var l=t.type.value;if(!l||"object"!=typeof l)throw new Error("\"value\" metadata for a Dictionary must be defined in the mapper and it must of type \"object\" in "+a+".");var s={};for(var u of Object.keys(i)){var f=e.serialize(l,i[u],a,o);s[u]=O(l,f,n,o)}if(n&&t.xmlNamespace){var c=t.xmlNamespacePrefix?"xmlns:"+t.xmlNamespacePrefix:"xmlns",p=s;return p[_r(_d2[6]).XML_ATTRKEY]=(0,r.default)({},c,t.xmlNamespace),p}return s}function N(e,r,t){var i=r.type.additionalProperties;if(!i&&r.type.className){var a=E(e,r,t);return null==a?void 0:a.type.additionalProperties}return i}function E(e,r,t){var i=r.type.className;if(!i)throw new Error("Class name for model \""+t+"\" is not provided in the mapper \""+JSON.stringify(r,void 0,2)+"\".");return e.modelMappers[i]}function M(e,r,t){var i=r.type.modelProperties;if(!i){var a=E(e,r,t);if(!a)throw new Error("mapper() cannot be null or undefined for model \""+r.type.className+"\".");if(!(i=null==a?void 0:a.type.modelProperties))throw new Error("modelProperties cannot be null or undefined in the mapper \""+JSON.stringify(a)+"\" of type \""+r.type.className+"\" for object \""+t+"\".")}return i}function T(e,t,i,a,n,o){if(R(e,t)&&(t=L(e,t,i,"clientName")),null!=i){var l={},s=M(e,t,a);for(var u of Object.keys(s)){var c=s[u];if(!c.readOnly){var p=void 0,d=l;if(e.isXML)p=c.xmlIsWrapped?c.xmlName:c.xmlElementName||c.xmlName;else{var v=f(c.serializedName);for(var y of(p=v.pop(),v)){var h=d[y];null==h&&(void 0!==i[u]&&null!==i[u]||void 0!==c.defaultValue)&&(d[y]={}),d=d[y]}}if(null!=d){if(n&&t.xmlNamespace){var x=t.xmlNamespacePrefix?"xmlns:"+t.xmlNamespacePrefix:"xmlns";d[_r(_d2[6]).XML_ATTRKEY]=Object.assign(Object.assign({},d[_r(_d2[6]).XML_ATTRKEY]),(0,r.default)({},x,t.xmlNamespace))}var b=""!==c.serializedName?a+"."+c.serializedName:a,w=i[u],E=R(e,t);E&&E.clientName===u&&null==w&&(w=t.serializedName);var T=e.serialize(c,w,b,o);if(void 0!==T&&null!=p){var D=O(c,T,n,o);n&&c.xmlIsAttribute?(d[_r(_d2[6]).XML_ATTRKEY]=d[_r(_d2[6]).XML_ATTRKEY]||{},d[_r(_d2[6]).XML_ATTRKEY][p]=T):n&&c.xmlIsWrapped?d[p]=(0,r.default)({},c.xmlElementName,D):d[p]=D}}}}var A=N(e,t,a);if(A){var S=Object.keys(s),j=function(r){S.every(function(e){return e!==r})&&(l[r]=e.serialize(A,i[r],a+'["'+r+'"]',o))};for(var P in i)j(P)}return l}return i}function O(e,t,i,a){if(!i||!e.xmlNamespace)return t;var n=e.xmlNamespacePrefix?"xmlns:"+e.xmlNamespacePrefix:"xmlns",o=(0,r.default)({},n,e.xmlNamespace);if(["Composite"].includes(e.type.name)){if(t[_r(_d2[6]).XML_ATTRKEY])return t;var l=Object.assign({},t);return l[_r(_d2[6]).XML_ATTRKEY]=o,l}var s={};return s[a.xml.xmlCharKey]=t,s[_r(_d2[6]).XML_ATTRKEY]=o,s}function D(e,r){return[_r(_d2[6]).XML_ATTRKEY,r.xml.xmlCharKey].includes(e)}function A(r,t,i,a,n){var o,l,s=null!==(o=n.xml.xmlCharKey)&&void 0!==o?o:_r(_d2[6]).XML_CHARKEY;R(r,t)&&(t=L(r,t,i,"serializedName"));var u=M(r,t,a),c={},p=[];for(var d of Object.keys(u)){var v=u[d],y=f(u[d].serializedName);p.push(y[0]);var h=v.serializedName,x=v.xmlName,b=v.xmlElementName,w=a;""!==h&&void 0!==h&&(w=a+"."+h);var N=v.headerCollectionPrefix;if(N){var E={};for(var T of Object.keys(i))T.startsWith(N)&&(E[T.substring(N.length)]=r.deserialize(v.type.value,i[T],w,n)),p.push(T);c[d]=E}else if(r.isXML)if(v.xmlIsAttribute&&i[_r(_d2[6]).XML_ATTRKEY])c[d]=r.deserialize(v,i[_r(_d2[6]).XML_ATTRKEY][x],w,n);else if(v.xmlIsMsText)void 0!==i[s]?c[d]=i[s]:"string"==typeof i&&(c[d]=i);else{var O=b||x||h;if(v.xmlIsWrapped){var A=i[x],S=null!==(l=null==A?void 0:A[b])&&void 0!==l?l:[];c[d]=r.deserialize(v,S,w,n),p.push(x)}else{var j=i[O];c[d]=r.deserialize(v,j,w,n),p.push(O)}}else{var P=void 0,C=i,z=0;for(var $ of y){if(!C)break;z++,C=C[$]}null===C&&z<y.length&&(C=void 0),P=C;var _=t.type.polymorphicDiscriminator;_&&d===_.clientName&&null==P&&(P=t.serializedName);var U=void 0;if(Array.isArray(i[d])&&""===u[d].serializedName){P=i[d];var B=r.deserialize(v,P,w,n);for(var K of Object.entries(c)){var I=(0,e.default)(K,2),X=I[0],Y=I[1];Object.prototype.hasOwnProperty.call(B,X)||(B[X]=Y)}c=B}else void 0===P&&void 0===v.defaultValue||(U=r.deserialize(v,P,w,n),c[d]=U)}}var k=t.type.additionalProperties;if(k){var V=function(e){for(var r in u){if(f(u[r].serializedName)[0]===e)return!1}return!0};for(var q in i)V(q)&&(c[q]=r.deserialize(k,i[q],a+'["'+q+'"]',n))}else if(i&&!n.ignoreUnknownProperties)for(var W of Object.keys(i))void 0!==c[W]||p.includes(W)||D(W,n)||(c[W]=i[W]);return c}function S(e,r,t,i,a){var n=r.type.value;if(!n||"object"!=typeof n)throw new Error("\"value\" metadata for a Dictionary must be defined in the mapper and it must of type \"object\" in "+i);if(t){var o={};for(var l of Object.keys(t))o[l]=e.deserialize(n,t[l],i,a);return o}return t}function j(e,r,t,i,a){var n,o=r.type.element;if(!o||"object"!=typeof o)throw new Error("element\" metadata for an Array must be defined in the mapper and it must of type \"object\" in "+i);if(t){Array.isArray(t)||(t=[t]),"Composite"===o.type.name&&o.type.className&&(o=null!==(n=e.modelMappers[o.type.className])&&void 0!==n?n:o);for(var l=[],s=0;s<t.length;s++)l[s]=e.deserialize(o,t[s],i+"["+s+"]",a);return l}return t}function P(r,t,i){for(var a=[i];a.length;){var n=a.shift(),o=t===n?t:n+"."+t;if(Object.prototype.hasOwnProperty.call(r,o))return r[o];for(var l of Object.entries(r)){var s=(0,e.default)(l,2),u=s[0],f=s[1];u.startsWith(n+".")&&f.type.uberParent===n&&f.type.className&&a.push(f.type.className)}}}function L(e,r,t,i){var a,n=R(e,r);if(n){var o=n[i];if(o){"serializedName"===i&&(o=o.replace(/\\/gi,""));var l=t[o],s=null!==(a=r.type.uberParent)&&void 0!==a?a:r.type.className;if("string"==typeof l&&s){var u=P(e.modelMappers.discriminators,l,s);u&&(r=u)}}}return r}function R(e,r){return r.type.polymorphicDiscriminator||C(e,r.type.uberParent)||C(e,r.type.className)}function C(e,r){return r&&e.modelMappers[r]&&e.modelMappers[r].type.polymorphicDiscriminator}_e.MapperTypeNames={Base64Url:"Base64Url",Boolean:"Boolean",ByteArray:"ByteArray",Composite:"Composite",Date:"Date",DateTime:"DateTime",DateTimeRfc1123:"DateTimeRfc1123",Dictionary:"Dictionary",Enum:"Enum",Number:"Number",Object:"Object",Sequence:"Sequence",String:"String",Stream:"Stream",TimeSpan:"TimeSpan",UnixTime:"UnixTime"}},852,[3,22,240,12,13,853,854,855]);
__d(function(g,r,_i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeString=function(n){for(var t=atob(n),o=new Uint8Array(t.length),i=0;i<t.length;i++)o[i]=t.charCodeAt(i);return o},e.decodeStringToString=function(n){return atob(n)},e.encodeByteArray=function(n){for(var t="",o=0;o<n.length;o++)t+=String.fromCharCode(n[o]);return btoa(t)},e.encodeString=function(n){return btoa(n)}},853,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.XML_CHARKEY=e.XML_ATTRKEY=void 0;e.XML_ATTRKEY="$",e.XML_CHARKEY="_"},854,[]);
__d(function(g,r,i,a,m,e,d){function o(o,t){return"Composite"!==t&&"Dictionary"!==t&&("string"==typeof o||"number"==typeof o||"boolean"==typeof o||null!==(null==t?void 0:t.match(/^(Date|DateTime|DateTimeRfc1123|UnixTime|ByteArray|Base64Url)$/i))||null==o)}Object.defineProperty(e,"__esModule",{value:!0}),e.flattenResponse=function(t,n){var l,u,y=t.parsedHeaders;if("HEAD"===t.request.method)return Object.assign(Object.assign({},y),{body:t.parsedBody});var b=n&&n.bodyMapper,f=Boolean(null==b?void 0:b.nullable),p=null==b?void 0:b.type.name;if("Stream"===p)return Object.assign(Object.assign({},y),{blobBody:t.blobBody,readableStreamBody:t.readableStreamBody});var c="Composite"===p&&b.type.modelProperties||{},v=Object.keys(c).some(function(o){return""===c[o].serializedName});if("Sequence"===p||v){var B=null!==(l=t.parsedBody)&&void 0!==l?l:[];for(var O of Object.keys(c))c[O].serializedName&&(B[O]=null===(u=t.parsedBody)||void 0===u?void 0:u[O]);if(y)for(var j of Object.keys(y))B[j]=y[j];return!f||t.parsedBody||y||0!==Object.getOwnPropertyNames(c).length?B:null}return s({body:t.parsedBody,headers:y,hasNullableType:f,shouldWrapBody:o(t.parsedBody,p)})},e.isDuration=function(o){return t.test(o)},e.isPrimitiveBody=o,e.isValidUuid=function(o){return n.test(o)};var t=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;var n=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i;function s(o){var t=Object.assign(Object.assign({},o.headers),o.body);return o.hasNullableType&&0===Object.getOwnPropertyNames(t).length?o.shouldWrapBody?{body:null}:null:o.shouldWrapBody?Object.assign(Object.assign({},o.headers),{body:o.body}):t}},855,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceClient=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),o=r(d[0])(r(d[3]));e.ServiceClient=(function(){return(0,o.default)(function t(){var o,l,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,n.default)(this,t),this._requestContentType=p.requestContentType,this._endpoint=null!==(o=p.endpoint)&&void 0!==o?o:p.baseUri,p.baseUri&&r(d[4]).logger.warning("The baseUri option for SDK Clients has been deprecated, please use endpoint instead."),this._allowInsecureConnection=p.allowInsecureConnection,this._httpClient=p.httpClient||(0,r(d[5]).getCachedDefaultHttpClient)(),this.pipeline=p.pipeline||s(p),null===(l=p.additionalPolicies)||void 0===l?void 0:l.length)for(var u of p.additionalPolicies){var c=u.policy,h="perRetry"===u.position?"Sign":void 0;this.pipeline.addPolicy(c,{afterPhase:h})}},[{key:"sendRequest",value:(function(){var n=(0,t.default)(function*(t){return this.pipeline.sendRequest(this._httpClient,t)});return function(t){return n.apply(this,arguments)}})()},{key:"sendOperationRequest",value:(function(){var n=(0,t.default)(function*(t,n){var o=n.baseUrl||this._endpoint;if(!o)throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a endpoint string property that contains the base URL to use.");var s=(0,r(d[6]).getRequestUrl)(o,n,t,this),l=(0,r(d[7]).createPipelineRequest)({url:s});l.method=n.httpMethod;var p=(0,r(d[8]).getOperationRequestInfo)(l);p.operationSpec=n,p.operationArguments=t;var u=n.contentType||this._requestContentType;u&&n.requestBody&&l.headers.set("Content-Type",u);var c=t.options;if(c){var h=c.requestOptions;h&&(h.timeout&&(l.timeout=h.timeout),h.onUploadProgress&&(l.onUploadProgress=h.onUploadProgress),h.onDownloadProgress&&(l.onDownloadProgress=h.onDownloadProgress),void 0!==h.shouldDeserialize&&(p.shouldDeserialize=h.shouldDeserialize),h.allowInsecureConnection&&(l.allowInsecureConnection=!0)),c.abortSignal&&(l.abortSignal=c.abortSignal),c.tracingOptions&&(l.tracingOptions=c.tracingOptions)}this._allowInsecureConnection&&(l.allowInsecureConnection=!0),void 0===l.streamResponseStatusCodes&&(l.streamResponseStatusCodes=(0,r(d[9]).getStreamingResponseStatusCodes)(n));try{var f=yield this.sendRequest(l),v=(0,r(d[10]).flattenResponse)(f,n.responses[f.status]);return(null==c?void 0:c.onResponse)&&c.onResponse(f,v),v}catch(t){if("object"==typeof t&&(null==t?void 0:t.response)){var C=t.response,S=(0,r(d[10]).flattenResponse)(C,n.responses[t.statusCode]||n.responses.default);t.details=S,(null==c?void 0:c.onResponse)&&c.onResponse(C,S,t)}throw t}});return function(t,o){return n.apply(this,arguments)}})()}])})();function s(t){var n=l(t),o=t.credential&&n?{credentialScopes:n,credential:t.credential}:void 0;return(0,r(d[11]).createClientPipeline)(Object.assign(Object.assign({},t),{credentialOptions:o}))}function l(t){if(t.credentialScopes)return t.credentialScopes;if(t.endpoint)return t.endpoint+"/.default";if(t.baseUri)return t.baseUri+"/.default";if(t.credential&&!t.credentialScopes)throw new Error("When using credentials, the ServiceClientOptions must contain either a endpoint or a credentialScopes. Unable to create a bearerTokenAuthenticationPolicy")}},856,[3,270,12,13,857,858,859,798,860,862,855,863]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.logger=void 0;e.logger=(0,r(d[0]).createClientLogger)("core-client")},857,[805]);
__d(function(g,r,i,a,m,e,d){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.getCachedDefaultHttpClient=function(){t||(t=(0,r(d[0]).createDefaultHttpClient)());return t}},858,[798]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.appendQueryParams=c,e.getRequestUrl=function(t,n,s,f){var v=u(n,s,f),h=!1,y=o(t,v);if(n.path){var A=o(n.path,v);"/{nextLink}"===n.path&&A.startsWith("/")&&(A=A.substring(1)),A.includes("://")?(y=A,h=!0):y=l(y,A)}var P=p(n,s,f),S=P.queryParams,F=P.sequenceParams;return y=c(y,S,F,h)};var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),s={CSV:",",SSV:" ",Multi:"Multi",TSV:"\t",Pipes:"|"};function o(t,s){var o=t;for(var u of s){var l=(0,n.default)(u,2),p=l[0],f=l[1];o=o.split(p).join(f)}return o}function u(t,n,s){var o,u=new Map;if(null===(o=t.urlParameters)||void 0===o?void 0:o.length)for(var l of t.urlParameters){var p=(0,r(d[3]).getOperationArgumentValueFromParameter)(n,l,s),f=(0,r(d[4]).getPathStringFromParameter)(l);p=t.serializer.serialize(l.mapper,p,f),l.skipEncoding||(p=encodeURIComponent(p)),u.set("{"+(l.mapper.serializedName||f)+"}",p)}return u}function l(t,n){if(!n)return t;var s=new URL(t),o=s.pathname;o.endsWith("/")||(o+="/"),n.startsWith("/")&&(n=n.substring(1));var u=n.indexOf("?");if(-1!==u){var l=n.substring(0,u),p=n.substring(u+1);o+=l,p&&(s.search=s.search?s.search+"&"+p:p)}else o+=n;return s.pathname=o,s.toString()}function p(t,n,o){var u,l=new Map,p=new Set;if(null===(u=t.queryParameters)||void 0===u?void 0:u.length)for(var f of t.queryParameters){"Sequence"===f.mapper.type.name&&f.mapper.serializedName&&p.add(f.mapper.serializedName);var c=(0,r(d[3]).getOperationArgumentValueFromParameter)(n,f,o);if(null!=c||f.mapper.required){c=t.serializer.serialize(f.mapper,c,(0,r(d[4]).getPathStringFromParameter)(f));var v=f.collectionFormat?s[f.collectionFormat]:"";if(Array.isArray(c)&&(c=c.map(function(t){return null==t?"":t})),"Multi"===f.collectionFormat&&0===c.length)continue;!Array.isArray(c)||"SSV"!==f.collectionFormat&&"TSV"!==f.collectionFormat||(c=c.join(v)),f.skipEncoding||(c=Array.isArray(c)?c.map(function(t){return encodeURIComponent(t)}):encodeURIComponent(c)),!Array.isArray(c)||"CSV"!==f.collectionFormat&&"Pipes"!==f.collectionFormat||(c=c.join(v)),l.set(f.mapper.serializedName||(0,r(d[4]).getPathStringFromParameter)(f),c)}}return{queryParams:l,sequenceParams:p}}function f(t){var s=new Map;if(!t||"?"!==t[0])return s;var o=(t=t.slice(1)).split("&");for(var u of o){var l=u.split("=",2),p=(0,n.default)(l,2),f=p[0],c=p[1],v=s.get(f);v?Array.isArray(v)?v.push(c):s.set(f,[v,c]):s.set(f,c)}return s}function c(s,o,u){var l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0===o.size)return s;var p=new URL(s),c=f(p.search);for(var v of o){var h=(0,n.default)(v,2),y=h[0],A=h[1],P=c.get(y);if(Array.isArray(P))if(Array.isArray(A)){P.push.apply(P,(0,t.default)(A));var S=new Set(P);c.set(y,Array.from(S))}else P.push(A);else P?(Array.isArray(A)?A.unshift(P):u.has(y)&&c.set(y,[P,A]),l||c.set(y,A)):c.set(y,A)}var F=[];for(var q of c){var z=(0,n.default)(q,2),V=z[0],w=z[1];if("string"==typeof w)F.push(V+"="+w);else if(Array.isArray(w))for(var M of w)F.push(V+"="+M);else F.push(V+"="+w)}return p.search=F.length?"?"+F.join("&"):"",p.toString()}},859,[3,6,22,860,862]);
__d(function(g,r,_i,a,m,e,d){function t(t,n){for(var o={propertyFound:!1},u=0;u<n.length;++u){var i=n[u];if(!(t&&i in t))break;t=t[i]}return u===n.length&&(o.propertyValue=t,o.propertyFound=!0),o}Object.defineProperty(e,"__esModule",{value:!0}),e.getOperationArgumentValueFromParameter=function n(o,u,i){var p=u.parameterPath;var l=u.mapper;var f;"string"==typeof p&&(p=[p]);if(Array.isArray(p)){if(p.length>0)if(l.isConstant)f=l.defaultValue;else{var s=t(o,p);!s.propertyFound&&i&&(s=t(i,p));var v=!1;s.propertyFound||(v=l.required||"options"===p[0]&&2===p.length),f=v?l.defaultValue:s.propertyValue}}else for(var y in l.required&&(f={}),p){var c=l.type.modelProperties[y],h=p[y],q=n(o,{parameterPath:h,mapper:c},i);void 0!==q&&(f||(f={}),f[y]=q)}return f},e.getOperationRequestInfo=function t(u){if(o(u))return t(u[n]);var i=r(d[0]).state.operationRequestMap.get(u);i||(i={},r(d[0]).state.operationRequestMap.set(u,i));return i};var n=Symbol.for("@azure/core-client original request");function o(t){return n in t}},860,[861]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.state=void 0;e.state={operationRequestMap:new WeakMap}},861,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getPathStringFromParameter=function(t){var n,p=t.parameterPath,o=t.mapper;n="string"==typeof p?p:Array.isArray(p)?p.join("."):o.serializedName;return n},e.getStreamingResponseStatusCodes=function(t){var n=new Set;for(var p in t.responses){var o=t.responses[p];o.bodyMapper&&o.bodyMapper.type.name===r(d[0]).MapperTypeNames.Stream&&n.add(Number(p))}return n}},862,[852]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.createClientPipeline=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r(d[0]).createPipelineFromOptions)(null!=n?n:{});n.credentialOptions&&t.addPolicy((0,r(d[0]).bearerTokenAuthenticationPolicy)({credential:n.credentialOptions.credential,scopes:n.credentialOptions.credentialScopes}));return t.addPolicy((0,r(d[1]).serializationPolicy)(n.serializationOptions),{phase:"Serialize"}),t.addPolicy((0,r(d[2]).deserializationPolicy)(n.deserializationOptions),{phase:"Deserialize"}),t}},863,[798,864,865]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.serializationPolicy=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).stringifyXML;return{name:l,sendRequest:(function(){var l=(0,o.default)(function*(o,l){var u=(0,r(d[3]).getOperationRequestInfo)(o),p=null==u?void 0:u.operationSpec,f=null==u?void 0:u.operationArguments;return p&&f&&(n(o,f,p),s(o,f,p,t)),l(o)});return function(t,o){return l.apply(this,arguments)}})()}},e.serializationPolicyName=void 0,e.serializeHeaders=n,e.serializeRequestBody=s;var t=r(d[0])(r(d[1])),o=r(d[0])(r(d[2])),l=e.serializationPolicyName="serializationPolicy";function n(t,o,l){var n,s;if(l.headerParameters)for(var u of l.headerParameters){var p=(0,r(d[3]).getOperationArgumentValueFromParameter)(o,u);if(null!=p||u.mapper.required){p=l.serializer.serialize(u.mapper,p,(0,r(d[4]).getPathStringFromParameter)(u));var f=u.mapper.headerCollectionPrefix;if(f)for(var y of Object.keys(p))t.headers.set(f+y,p[y]);else t.headers.set(u.mapper.serializedName||(0,r(d[4]).getPathStringFromParameter)(u),p)}}var v=null===(s=null===(n=o.options)||void 0===n?void 0:n.requestOptions)||void 0===s?void 0:s.customHeaders;if(v)for(var c of Object.keys(v))t.headers.set(c,v[c])}function s(t,o,l){var n,s,f,y,v,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){throw new Error("XML serialization unsupported!")},h=null===(n=o.options)||void 0===n?void 0:n.serializerOptions,P={xml:{rootName:null!==(s=null==h?void 0:h.xml.rootName)&&void 0!==s?s:"",includeRoot:null!==(f=null==h?void 0:h.xml.includeRoot)&&void 0!==f&&f,xmlCharKey:null!==(y=null==h?void 0:h.xml.xmlCharKey)&&void 0!==y?y:r(d[5]).XML_CHARKEY}},x=P.xml.xmlCharKey;if(l.requestBody&&l.requestBody.mapper){t.body=(0,r(d[3]).getOperationArgumentValueFromParameter)(o,l.requestBody);var z=l.requestBody.mapper,N=z.required,b=z.serializedName,q=z.xmlName,S=z.xmlElementName,O=z.xmlNamespace,M=z.xmlNamespacePrefix,A=z.nullable,C=z.type.name;try{if(void 0!==t.body&&null!==t.body||A&&null===t.body||N){var K=(0,r(d[4]).getPathStringFromParameter)(l.requestBody);t.body=l.serializer.serialize(z,t.body,K,P);var T=C===r(d[6]).MapperTypeNames.Stream;if(l.isXML){var F=M?"xmlns:"+M:"xmlns",R=u(O,F,C,t.body,P);C===r(d[6]).MapperTypeNames.Sequence?t.body=c(p(R,S||q||b,F,O),{rootName:q||b,xmlCharKey:x}):T||(t.body=c(R,{rootName:q||b,xmlCharKey:x}))}else{if(C===r(d[6]).MapperTypeNames.String&&((null===(v=l.contentType)||void 0===v?void 0:v.match("text/plain"))||"text"===l.mediaType))return;T||(t.body=JSON.stringify(t.body))}}}catch(t){throw new Error("Error \""+t.message+"\" occurred in serializing the payload - "+JSON.stringify(b,void 0,"  ")+".")}}else if(l.formDataParameters&&l.formDataParameters.length>0)for(var E of(t.formData={},l.formDataParameters)){var _=(0,r(d[3]).getOperationArgumentValueFromParameter)(o,E);if(null!=_){var B=E.mapper.serializedName||(0,r(d[4]).getPathStringFromParameter)(E);t.formData[B]=l.serializer.serialize(E.mapper,_,(0,r(d[4]).getPathStringFromParameter)(E),P)}}}function u(o,l,n,s,u){if(o&&!["Composite","Sequence","Dictionary"].includes(n)){var p={};return p[u.xml.xmlCharKey]=s,p[r(d[5]).XML_ATTRKEY]=(0,t.default)({},l,o),p}return s}function p(o,l,n,s){if(Array.isArray(o)||(o=[o]),!n||!s)return(0,t.default)({},l,o);var u=(0,t.default)({},l,o);return u[r(d[5]).XML_ATTRKEY]=(0,t.default)({},n,s),u}},864,[3,240,270,860,862,854,852]);
__d(function(g,r,i,a,m,_e2,d){Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.deserializationPolicy=function(){var n,u,p,c,y,f,v,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},R=null!==(u=null===(n=h.expectedContentTypes)||void 0===n?void 0:n.json)&&void 0!==u?u:t,x=null!==(c=null===(p=h.expectedContentTypes)||void 0===p?void 0:p.xml)&&void 0!==c?c:s,b=h.parseXML,q=h.serializerOptions,M={xml:{rootName:null!==(y=null==q?void 0:q.xml.rootName)&&void 0!==y?y:"",includeRoot:null!==(f=null==q?void 0:q.xml.includeRoot)&&void 0!==f&&f,xmlCharKey:null!==(v=null==q?void 0:q.xml.xmlCharKey)&&void 0!==v?v:r(d[2]).XML_CHARKEY}};return{name:o,sendRequest:(function(){var t=(0,e.default)(function*(e,t){var s=yield t(e);return l(R,x,s,M,b)});return function(e,s){return t.apply(this,arguments)}})()}},_e2.deserializationPolicyName=void 0;var e=r(d[0])(r(d[1])),t=["application/json","text/json"],s=["application/xml","application/atom+xml"],o=_e2.deserializationPolicyName="deserializationPolicy";function n(e){var t,s=e.request,o=(0,r(d[3]).getOperationRequestInfo)(s),n=null==o?void 0:o.operationSpec;return n&&(t=(null==o?void 0:o.operationResponseGetter)?null==o?void 0:o.operationResponseGetter(n,e):n.responses[e.status]),t}function u(e){var t=e.request,s=(0,r(d[3]).getOperationRequestInfo)(t),o=null==s?void 0:s.shouldDeserialize;return void 0===o||("boolean"==typeof o?o:o(e))}function l(e,t,s,o,n){return p.apply(this,arguments)}function p(){return(p=(0,e.default)(function*(e,t,s,o,l){var p=yield f(e,t,s,o,l);if(!u(p))return p;var c=(0,r(d[3]).getOperationRequestInfo)(p.request),v=null==c?void 0:c.operationSpec;if(!v||!v.responses)return p;var h=n(p),R=y(p,v,h,o),x=R.error,b=R.shouldReturnResponse;if(x)throw x;if(b)return p;if(h){if(h.bodyMapper){var q=p.parsedBody;v.isXML&&h.bodyMapper.type.name===r(d[4]).MapperTypeNames.Sequence&&(q="object"==typeof q?q[h.bodyMapper.xmlElementName]:[]);try{p.parsedBody=v.serializer.deserialize(h.bodyMapper,q,"operationRes.parsedBody",o)}catch(e){throw new(r(d[5]).RestError)("Error "+e+" occurred in deserializing the responseBody - "+p.bodyAsText,{statusCode:p.status,request:p.request,response:p})}}else"HEAD"===v.httpMethod&&(p.parsedBody=s.status>=200&&s.status<300);h.headersMapper&&(p.parsedHeaders=v.serializer.deserialize(h.headersMapper,p.headers.toJSON(),"operationRes.parsedHeaders",{xml:{},ignoreUnknownProperties:!0}))}return p})).apply(this,arguments)}function c(e){var t=Object.keys(e.responses);return 0===t.length||1===t.length&&"default"===t[0]}function y(e,t,s,o){var n,u=200<=e.status&&e.status<300;if(c(t)?u:!!s){if(!s)return{error:null,shouldReturnResponse:!1};if(!s.isError)return{error:null,shouldReturnResponse:!1}}var l=null!=s?s:t.responses.default,p=(null===(n=e.request.streamResponseStatusCodes)||void 0===n?void 0:n.has(e.status))?"Unexpected status code: "+e.status:e.bodyAsText,y=new(r(d[5]).RestError)(p,{statusCode:e.status,request:e.request,response:e});if(!l)throw y;var f=l.bodyMapper,v=l.headersMapper;try{if(e.parsedBody){var h,R=e.parsedBody;if(f){var x=R;if(t.isXML&&f.type.name===r(d[4]).MapperTypeNames.Sequence){x=[];var b=f.xmlElementName;"object"==typeof R&&b&&(x=R[b])}h=t.serializer.deserialize(f,x,"error.response.parsedBody",o)}var q=R.error||h||R;y.code=q.code,q.message&&(y.message=q.message),f&&(y.response.parsedBody=h)}e.headers&&v&&(y.response.parsedHeaders=t.serializer.deserialize(v,e.headers.toJSON(),"operationRes.parsedHeaders"))}catch(t){y.message="Error \""+t.message+"\" occurred in deserializing the responseBody - \""+e.bodyAsText+"\" for the default response."}return{error:y,shouldReturnResponse:!1}}function f(e,t,s,o,n){return v.apply(this,arguments)}function v(){return(v=(0,e.default)(function*(e,t,s,o,n){var u;if(!(null===(u=s.request.streamResponseStatusCodes)||void 0===u?void 0:u.has(s.status))&&s.bodyAsText){var l=s.bodyAsText,p=s.headers.get("Content-Type")||"",c=p?p.split(";").map(function(e){return e.toLowerCase()}):[];try{if(0===c.length||c.some(function(t){return-1!==e.indexOf(t)}))return s.parsedBody=JSON.parse(l),s;if(c.some(function(e){return-1!==t.indexOf(e)})){if(!n)throw new Error("Parsing XML not supported.");var y=yield n(l,o.xml);return s.parsedBody=y,s}}catch(e){var f="Error \""+e+"\" occurred while parsing the response body - "+s.bodyAsText+".",v=e.code||r(d[5]).RestError.PARSE_ERROR;throw new(r(d[5]).RestError)(f,{code:v,statusCode:s.status,request:s.request,response:s})}}return s})).apply(this,arguments)}},865,[3,270,854,860,852,798]);
__d(function(g,r,i,_a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.authorizeRequestOnClaimChallenge=function(t){return o.apply(this,arguments)},e.parseCAEChallenge=u;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),a=r(d[0])(r(d[3]));function u(t){return(", "+t.trim()).split(", Bearer ").filter(function(t){return t}).map(function(t){return(t.trim()+", ").split('", ').filter(function(t){return t}).map(function(t){return u=t.trim().split('="'),o=(0,a.default)(u,2),s=o[0],c=o[1],(0,n.default)({},s,c);var u,o,s,c}).reduce(function(t,n){return Object.assign(Object.assign({},t),n)},{})})}function o(){return(o=(0,t.default)(function*(t){var n=t.scopes,a=t.response,o=t.logger||r(d[4]).logger,s=a.headers.get("WWW-Authenticate");if(!s)return o.info("The WWW-Authenticate header was missing. Failed to perform the Continuous Access Evaluation authentication flow."),!1;var c=(u(s)||[]).find(function(t){return t.claims});if(!c)return o.info("The WWW-Authenticate header was missing the necessary \"claims\" to perform the Continuous Access Evaluation authentication flow."),!1;var l=yield t.getAccessToken(c.scope?[c.scope]:n,{claims:(0,r(d[5]).decodeStringToString)(c.claims)});return!!l&&(t.request.headers.set("Authorization","Bearer "+l.token),!0)})).apply(this,arguments)}},866,[3,270,240,22,857,853]);
__d(function(g,r,i,_a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.authorizeRequestOnTenantChallenge=void 0;var t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2])),a=r(d[0])(r(d[3])),u={DefaultScope:"/.default",HeaderConstants:{AUTHORIZATION:"authorization"}};var s;e.authorizeRequestOnTenantChallenge=(s=(0,a.default)(function*(t){var n,a={abortSignal:(n=t.request).abortSignal,requestOptions:{timeout:n.timeout},tracingOptions:n.tracingOptions},s=c(t.response);if(s){var p=l(s),h=f(t,p),O=o(p);if(!O)return!1;var v=yield t.getAccessToken(h,Object.assign(Object.assign({},a),{tenantId:O}));return!!v&&(t.request.headers.set(u.HeaderConstants.AUTHORIZATION,"Bearer "+v.token),!0)}return!1}),function(t){return s.apply(this,arguments)});function o(t){var n=new URL(t.authorization_uri).pathname.split("/")[1];if(n&&/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/.test(n))return n}function f(t,n){if(!n.resource_id)return t.scopes;var a=new URL(n.resource_id);a.pathname=u.DefaultScope;var s=a.toString();return"https://disk.azure.com/.default"===s&&(s="https://disk.azure.com//.default"),[s]}function c(t){var n=t.headers.get("WWW-Authenticate");if(401===t.status&&n)return n}function l(a){return(a.slice("Bearer ".length).trim()+" ").split(" ").filter(function(t){return t}).map(function(a){return u=a.trim().split("="),s=(0,n.default)(u,2),o=s[0],f=s[1],(0,t.default)({},o,f);var u,s,o,f}).reduce(function(t,n){return Object.assign(Object.assign({},t),n)},{})}},867,[3,240,22,270]);
__d(function(_g,_r,_i,_a,_m,_e,_d){var e,t,r,n,o,i,a,c,u,f,s,l,p,y,d,h,b,v,w,_,m,j,O,g,P,S,E,x,T,I,k,D;!(function(e){var t="object"==typeof _g?_g:"object"==typeof self?self:"object"==typeof this?this:{};function r(e,r){return e!==t&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(t,n){return e[t]=r?r(t,n):n}}"function"==typeof define&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):"object"==typeof _m&&"object"==typeof _m.exports?e(r(t,r(_m.exports))):e(r(t))})(function(A){var R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])};e=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}R(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},n=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},o=function(e,t){return function(r,n){t(r,n,e)}},i=function(e,t,r,n,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var c,u=n.kind,f="getter"===u?"get":"setter"===u?"set":"value",s=!t&&e?n.static?e:e.prototype:null,l=t||(s?Object.getOwnPropertyDescriptor(s,n.name):{}),p=!1,y=r.length-1;y>=0;y--){var d={};for(var h in n)d[h]="access"===h?{}:n[h];for(var h in n.access)d.access[h]=n.access[h];d.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var b=(0,r[y])("accessor"===u?{get:l.get,set:l.set}:l[f],d);if("accessor"===u){if(void 0===b)continue;if(null===b||"object"!=typeof b)throw new TypeError("Object expected");(c=a(b.get))&&(l.get=c),(c=a(b.set))&&(l.set=c),(c=a(b.init))&&o.unshift(c)}else(c=a(b))&&("field"===u?o.unshift(c):l[f]=c)}s&&Object.defineProperty(s,n.name,l),p=!0},a=function(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0},c=function(e){return"symbol"==typeof e?e:"".concat(e)},u=function(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})},f=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function c(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,c)}u((n=n.apply(e,t||[])).next())})},l=function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(e){return function(t){return u([e,t])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,n=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],n=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},p=function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||T(t,e,r)},T=Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},y=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},d=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},h=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e},b=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,c=i.length;a<c;a++,o++)n[o]=i[a];return n},v=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},w=function(e){return this instanceof w?(this.v=e,this):new w(e)},_=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,f)}}),n[Symbol.asyncIterator]=function(){return this},n;function a(e,t){o[e]&&(n[e]=function(t){return new Promise(function(r,n){i.push([e,t,r,n])>1||c(e,t)})},t&&(n[e]=t(n[e])))}function c(e,t){try{(r=o[e](t)).value instanceof w?Promise.resolve(r.value.v).then(u,f):s(i[0][2],r)}catch(e){s(i[0][3],e)}var r}function u(e){c("next",e)}function f(e){c("throw",e)}function s(e,t){e(t),i.shift(),i.length&&c(i[0][0],i[0][1])}},m=function(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:w(e[n](t)),done:!1}:o?o(t):t}:o}},j=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=y(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){o(n,i,(t=e[r](t)).done,t.value)})}}function o(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}},O=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var C=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},F=function(e){return(F=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)};g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=F(e),n=0;n<r.length;n++)"default"!==r[n]&&T(t,e,r[n]);return C(t,e),t},P=function(e){return e&&e.__esModule?e:{default:e}},S=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},E=function(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r},x=function(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)},I=function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t};var M="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};k=function(e){function t(t){e.error=e.hasError?new M(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,n=0;return(function o(){for(;r=e.stack.pop();)try{if(!r.async&&1===n)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(o,function(e){return t(e),o()})}else n|=1}catch(e){t(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error})()},D=function(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,n,o,i){return r?t?".jsx":".js":!n||o&&i?n+o+"."+i.toLowerCase()+"js":e}):e},A("__extends",e),A("__assign",t),A("__rest",r),A("__decorate",n),A("__param",o),A("__esDecorate",i),A("__runInitializers",a),A("__propKey",c),A("__setFunctionName",u),A("__metadata",f),A("__awaiter",s),A("__generator",l),A("__exportStar",p),A("__createBinding",T),A("__values",y),A("__read",d),A("__spread",h),A("__spreadArrays",b),A("__spreadArray",v),A("__await",w),A("__asyncGenerator",_),A("__asyncDelegator",m),A("__asyncValues",j),A("__makeTemplateObject",O),A("__importStar",g),A("__importDefault",P),A("__classPrivateFieldGet",S),A("__classPrivateFieldSet",E),A("__classPrivateFieldIn",x),A("__addDisposableResource",I),A("__disposeResources",k),A("__rewriteRelativeImportExtension",D)})},868,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return p.default}});var t=y(r(d[0])),n=y(r(d[1])),u=y(r(d[2])),f=y(r(d[3])),o=y(r(d[4])),l=y(r(d[5])),c=y(r(d[6])),b=y(r(d[7])),p=y(r(d[8]));function y(t){return t&&t.__esModule?t:{default:t}}},869,[870,875,879,880,882,883,873,872,877]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,o,u=s(r(d[0])),l=s(r(d[1]));function s(n){return n&&n.__esModule?n:{default:n}}var t=0,c=0;var v=function(s,v,i){var f=v&&i||0,_=v||new Array(16),w=(s=s||{}).node||n,k=void 0!==s.clockseq?s.clockseq:o;if(null==w||null==k){var q=s.random||(s.rng||u.default)();null==w&&(w=n=[1|q[0],q[1],q[2],q[3],q[4],q[5]]),null==k&&(k=o=16383&(q[6]<<8|q[7]))}var M=void 0!==s.msecs?s.msecs:Date.now(),h=void 0!==s.nsecs?s.nsecs:c+1,y=M-t+(h-c)/1e4;if(y<0&&void 0===s.clockseq&&(k=k+1&16383),(y<0||M>t)&&void 0===s.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");t=M,c=h,o=k;var b=(1e4*(268435455&(M+=122192928e5))+h)%4294967296;_[f++]=b>>>24&255,_[f++]=b>>>16&255,_[f++]=b>>>8&255,_[f++]=255&b;var j=M/4294967296*1e4&268435455;_[f++]=j>>>8&255,_[f++]=255&j,_[f++]=j>>>24&15|16,_[f++]=j>>>16&255,_[f++]=k>>>8|128,_[f++]=255&k;for(var p=0;p<6;++p)_[f+p]=w[p];return v||(0,l.default)(_)};e.default=v},870,[871,872]);
__d(function(g,r,i,a,m,e,d){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(!t&&!(t='undefined'!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||'undefined'!=typeof msCrypto&&'function'==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');return t(o)};var o=new Uint8Array(16)},871,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,i=(t=r(d[0]))&&t.__esModule?t:{default:t};for(var o=[],u=0;u<256;++u)o.push((u+256).toString(16).substr(1));var f=function(t){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,f=(o[t[u+0]]+o[t[u+1]]+o[t[u+2]]+o[t[u+3]]+'-'+o[t[u+4]]+o[t[u+5]]+'-'+o[t[u+6]]+o[t[u+7]]+'-'+o[t[u+8]]+o[t[u+9]]+'-'+o[t[u+10]]+o[t[u+11]]+o[t[u+12]]+o[t[u+13]]+o[t[u+14]]+o[t[u+15]]).toLowerCase();if(!(0,i.default)(f))throw TypeError('Stringified UUID is invalid');return f};e.default=f},872,[873]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,u=(t=r(d[0]))&&t.__esModule?t:{default:t};var f=function(t){return'string'==typeof t&&u.default.test(t)};e.default=f},873,[874]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},874,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=f(r(d[0])),u=f(r(d[1]));function f(t){return t&&t.__esModule?t:{default:t}}var l=(0,t.default)('v3',48,u.default);e.default=l},875,[876,878]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u,i,l){function s(u,f,c,s){if('string'==typeof u&&(u=o(u)),'string'==typeof f&&(f=(0,n.default)(f)),16!==f.length)throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');var b=new Uint8Array(16+u.length);if(b.set(f),b.set(u,f.length),(b=l(b))[6]=15&b[6]|i,b[8]=63&b[8]|128,c){s=s||0;for(var v=0;v<16;++v)c[s+v]=b[v];return c}return(0,t.default)(b)}try{s.name=u}catch(t){}return s.DNS=f,s.URL=c,s},e.URL=e.DNS=void 0;var t=u(r(d[0])),n=u(r(d[1]));function u(t){return t&&t.__esModule?t:{default:t}}function o(t){t=unescape(encodeURIComponent(t));for(var n=[],u=0;u<t.length;++u)n.push(t.charCodeAt(u));return n}var f='6ba7b810-9dad-11d1-80b4-00c04fd430c8';e.DNS=f;var c='6ba7b811-9dad-11d1-80b4-00c04fd430c8';e.URL=c},876,[872,877]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,n=(t=r(d[0]))&&t.__esModule?t:{default:t};var s=function(t){if(!(0,n.default)(t))throw TypeError('Invalid UUID');var s,l=new Uint8Array(16);return l[0]=(s=parseInt(t.slice(0,8),16))>>>24,l[1]=s>>>16&255,l[2]=s>>>8&255,l[3]=255&s,l[4]=(s=parseInt(t.slice(9,13),16))>>>8,l[5]=255&s,l[6]=(s=parseInt(t.slice(14,18),16))>>>8,l[7]=255&s,l[8]=(s=parseInt(t.slice(19,23),16))>>>8,l[9]=255&s,l[10]=(s=parseInt(t.slice(24,36),16))/1099511627776&255,l[11]=s/4294967296&255,l[12]=s>>>24&255,l[13]=s>>>16&255,l[14]=s>>>8&255,l[15]=255&s,l};e.default=s},877,[873]);
__d(function(g,r,_i,_a,m,e,_d){"use strict";function n(n){for(var t=[],u=32*n.length,f=0;f<u;f+=8){var o=n[f>>5]>>>f%32&255,a=parseInt("0123456789abcdef".charAt(o>>>4&15)+"0123456789abcdef".charAt(15&o),16);t.push(a)}return t}function t(n){return 14+(n+64>>>9<<4)+1}function u(n,u){n[u>>5]|=128<<u%32,n[t(u)-1]=u;for(var f=1732584193,a=-271733879,l=-1732584194,d=271733878,s=0;s<n.length;s+=16){var p=f,A=a,y=l,_=d;a=h(a=h(a=h(a=h(a=v(a=v(a=v(a=v(a=i(a=i(a=i(a=i(a=c(a=c(a=c(a=c(a,l=c(l,d=c(d,f=c(f,a,l,d,n[s],7,-680876936),a,l,n[s+1],12,-389564586),f,a,n[s+2],17,606105819),d,f,n[s+3],22,-1044525330),l=c(l,d=c(d,f=c(f,a,l,d,n[s+4],7,-176418897),a,l,n[s+5],12,1200080426),f,a,n[s+6],17,-1473231341),d,f,n[s+7],22,-45705983),l=c(l,d=c(d,f=c(f,a,l,d,n[s+8],7,1770035416),a,l,n[s+9],12,-1958414417),f,a,n[s+10],17,-42063),d,f,n[s+11],22,-1990404162),l=c(l,d=c(d,f=c(f,a,l,d,n[s+12],7,1804603682),a,l,n[s+13],12,-40341101),f,a,n[s+14],17,-1502002290),d,f,n[s+15],22,1236535329),l=i(l,d=i(d,f=i(f,a,l,d,n[s+1],5,-165796510),a,l,n[s+6],9,-1069501632),f,a,n[s+11],14,643717713),d,f,n[s],20,-373897302),l=i(l,d=i(d,f=i(f,a,l,d,n[s+5],5,-701558691),a,l,n[s+10],9,38016083),f,a,n[s+15],14,-660478335),d,f,n[s+4],20,-405537848),l=i(l,d=i(d,f=i(f,a,l,d,n[s+9],5,568446438),a,l,n[s+14],9,-1019803690),f,a,n[s+3],14,-187363961),d,f,n[s+8],20,1163531501),l=i(l,d=i(d,f=i(f,a,l,d,n[s+13],5,-1444681467),a,l,n[s+2],9,-51403784),f,a,n[s+7],14,1735328473),d,f,n[s+12],20,-1926607734),l=v(l,d=v(d,f=v(f,a,l,d,n[s+5],4,-378558),a,l,n[s+8],11,-2022574463),f,a,n[s+11],16,1839030562),d,f,n[s+14],23,-35309556),l=v(l,d=v(d,f=v(f,a,l,d,n[s+1],4,-1530992060),a,l,n[s+4],11,1272893353),f,a,n[s+7],16,-155497632),d,f,n[s+10],23,-1094730640),l=v(l,d=v(d,f=v(f,a,l,d,n[s+13],4,681279174),a,l,n[s],11,-358537222),f,a,n[s+3],16,-722521979),d,f,n[s+6],23,76029189),l=v(l,d=v(d,f=v(f,a,l,d,n[s+9],4,-640364487),a,l,n[s+12],11,-421815835),f,a,n[s+15],16,530742520),d,f,n[s+2],23,-995338651),l=h(l,d=h(d,f=h(f,a,l,d,n[s],6,-198630844),a,l,n[s+7],10,1126891415),f,a,n[s+14],15,-1416354905),d,f,n[s+5],21,-57434055),l=h(l,d=h(d,f=h(f,a,l,d,n[s+12],6,1700485571),a,l,n[s+3],10,-1894986606),f,a,n[s+10],15,-1051523),d,f,n[s+1],21,-2054922799),l=h(l,d=h(d,f=h(f,a,l,d,n[s+8],6,1873313359),a,l,n[s+15],10,-30611744),f,a,n[s+6],15,-1560198380),d,f,n[s+13],21,1309151649),l=h(l,d=h(d,f=h(f,a,l,d,n[s+4],6,-145523070),a,l,n[s+11],10,-1120210379),f,a,n[s+2],15,718787259),d,f,n[s+9],21,-343485551),f=o(f,p),a=o(a,A),l=o(l,y),d=o(d,_)}return[f,a,l,d]}function f(n){if(0===n.length)return[];for(var u=8*n.length,f=new Uint32Array(t(u)),o=0;o<u;o+=8)f[o>>5]|=(255&n[o/8])<<o%32;return f}function o(n,t){var u=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(u>>16)<<16|65535&u}function a(n,t,u,f,a,c){return o((i=o(o(t,n),o(f,c)))<<(v=a)|i>>>32-v,u);var i,v}function c(n,t,u,f,o,c,i){return a(t&u|~t&f,n,t,o,c,i)}function i(n,t,u,f,o,c,i){return a(t&f|u&~f,n,t,o,c,i)}function v(n,t,u,f,o,c,i){return a(t^u^f,n,t,o,c,i)}function h(n,t,u,f,o,c,i){return a(u^(t|~f),n,t,o,c,i)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=function(t){if('string'==typeof t){var o=unescape(encodeURIComponent(t));t=new Uint8Array(o.length);for(var a=0;a<o.length;++a)t[a]=o.charCodeAt(a)}return n(u(f(t),8*t.length))};e.default=l},878,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[0])),u=n(r(d[1]));function n(t){return t&&t.__esModule?t:{default:t}}var f=function(n,f,o){var l=(n=n||{}).random||(n.rng||t.default)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,f){o=o||0;for(var i=0;i<16;++i)f[o+i]=l[i];return f}return(0,u.default)(l)};e.default=f},879,[871,872]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=f(r(d[0])),u=f(r(d[1]));function f(t){return t&&t.__esModule?t:{default:t}}var l=(0,t.default)('v5',80,u.default);e.default=l},880,[876,881]);
__d(function(g,r,_i3,_a,m,_e,_d){"use strict";function e(e,t,a,n){switch(e){case 0:return t&a^~t&n;case 1:return t^a^n;case 2:return t&a^t&n^a&n;case 3:return t^a^n}}function t(e,t){return e<<t|e>>>32-t}Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var a=function(a){var n=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if('string'==typeof a){var f=unescape(encodeURIComponent(a));a=[];for(var u=0;u<f.length;++u)a.push(f.charCodeAt(u))}else Array.isArray(a)||(a=Array.prototype.slice.call(a));a.push(128);for(var c=a.length/4+2,i=Math.ceil(c/16),l=new Array(i),s=0;s<i;++s){for(var v=new Uint32Array(16),h=0;h<16;++h)v[h]=a[64*s+4*h]<<24|a[64*s+4*h+1]<<16|a[64*s+4*h+2]<<8|a[64*s+4*h+3];l[s]=v}l[i-1][14]=8*(a.length-1)/Math.pow(2,32),l[i-1][14]=Math.floor(l[i-1][14]),l[i-1][15]=8*(a.length-1)&4294967295;for(var p=0;p<i;++p){for(var y=new Uint32Array(80),d=0;d<16;++d)y[d]=l[p][d];for(var A=16;A<80;++A)y[A]=t(y[A-3]^y[A-8]^y[A-14]^y[A-16],1);for(var w=o[0],M=o[1],_=o[2],U=o[3],C=o[4],b=0;b<80;++b){var j=Math.floor(b/20),I=t(w,5)+e(j,M,_,U)+C+n[j]+y[b]>>>0;C=U,U=_,_=t(M,30)>>>0,M=w,w=I}o[0]=o[0]+w>>>0,o[1]=o[1]+M>>>0,o[2]=o[2]+_>>>0,o[3]=o[3]+U>>>0,o[4]=o[4]+C>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,255&o[0],o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,255&o[1],o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,255&o[2],o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,255&o[3],o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,255&o[4]]};_e.default=a},881,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default='00000000-0000-0000-0000-000000000000'},882,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,u=(t=r(d[0]))&&t.__esModule?t:{default:t};var f=function(t){if(!(0,u.default)(t))throw TypeError('Invalid UUID');return parseInt(t.substr(14,1),16)};e.default=f},883,[873]);
__d(function(t,e,n,o,r,i,s){'use strict';function c(t){return t&&'object'==typeof t&&'default'in t?t.default:t}var a=c(e(s[0])),u=c(e(s[1])),h='undefined'!=typeof globalThis?globalThis:'undefined'!=typeof window?window:void 0!==t?t:'undefined'!=typeof self?self:{};function d(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,'default')?t.default:t}function l(t,e){return t(e={exports:{}},e.exports),e.exports}var p=l(function(t,e){t.exports=(function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)})([function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Timespan=e.toJson=e.fetchWithTimeout=void 0,e.fetchWithTimeout=function(t,e){var n,o=new Promise(function(e,o){fetch(t).then(function(t){void 0!==n&&clearTimeout(n),e(t)}).catch(function(t){void 0!==n&&clearTimeout(n),o(t)})});if(0!==e){var r=new Promise(function(o,r){n=setTimeout(r,e,new Error("Fetch for '".concat(t.url,"' timed out")))});return Promise.race([o,r])}return o},e.toJson=function(t){try{return JSON.stringify(t)}catch(e){return"Unable to serialize object of type ".concat(typeof t)}};var o=(function(){function t(){this.start=Date.now()}return Object.defineProperty(t.prototype,"duration",{get:function(){return Date.now()-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startTime",{get:function(){return this.start},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.start=Date.now()},t})();e.Timespan=o},function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},s=this&&this.__awaiter||function(t,e,n,o){function r(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{a(o.next(t))}catch(t){i(t)}}function c(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){t.done?n(t.value):r(t.value).then(s,c)}a((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){function n(t){return function(e){return o([t,e])}}function o(n){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,n[0]&&(a=0)),a;)try{if(r=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(s=(s=a.trys).length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(t){n=[6,t],i=0}finally{r=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,i,s,c,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};Object.defineProperty(e,"__esModule",{value:!0}),e.createRegistrarClient=e.RegistrarClient=void 0;var a=n(0),u=["skype","aad","cae"],h=(function(t){function e(e){var n=t.call(this,e)||this;return n.name="CancelationError",n}return r(e,t),e})(Error),d=(function(){function t(e,n,o){this.logger=e,this.maxBackoffInMs=n,this.initialDelay=o,this.backoffCount=0,this.id=++t.idCounter}return t.prototype.delay=function(t){var e=this;if(void 0!==this.timerHandle)throw new Error("Retry sequence logical failure");if(-1===this.backoffCount)return new Promise(function(t,e){e(new h("Cancelled"))});var n=this.calculateNextBackoffMs();return this.backoffCount++,this.logger.info("[RegistrarClient] Backing off ".concat(t," for ").concat(n," milliseconds with ID ").concat(this.id)),new Promise(function(o,r){e.cancelFunc=r,e.timerHandle=setTimeout(function(){e.logger.info("[RegistrarClient] Back off for ".concat(t," with ID ").concat(e.id," complete")),e.timerHandle=void 0,o()},n)})},t.prototype.cancel=function(){void 0!==this.timerHandle&&(this.logger.debug("Resetting back off"),clearTimeout(this.timerHandle),void 0!==this.cancelFunc&&this.cancelFunc(new h("Cancelled"))),this.backoffCount=-1},t.prototype.calculateNextBackoffMs=function(){var t=1+.4*(Math.random()-.5),e=this.initialDelay*Math.pow(2,this.backoffCount)*t;return e=Math.round(e),Math.min(this.maxBackoffInMs,e)},t.idCounter=0,t})(),l=(function(){function t(t,e,n){var o;this.logger=t,this.tokenProvider=e,this.options=n,this.DEFAULT_MAX_RETRIES_FOR_GET_TOKEN=15,this.DEFAULT_MAX_BACKOFF_TIME_IN_MS=3e5,this.backoffs={},this.maxBackOffTime=this.options.maxRetryDelayMs>0?this.options.maxRetryDelayMs:this.DEFAULT_MAX_BACKOFF_TIME_IN_MS,this.maxRetriesForGetToken=void 0===n.maxRetriesForGetToken||null===n.maxRetriesForGetToken?this.DEFAULT_MAX_RETRIES_FOR_GET_TOKEN:n.maxRetriesForGetToken,this.proxyUrlRewrite=null!==(o=n.proxyUrlRewrite)&&void 0!==o?o:function(t){return t}}return t.prototype.setTelemetryLogger=function(t){this.eventLogger=t},t.prototype.register=function(t,e){return s(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,this.performRegistration(t,e,"pr_set_registration")];case 1:return n.sent(),this.cachedRegistrationParams=[t,e],[2]}})})},t.prototype.unregister=function(){return s(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return this.logger.info("[RegistrarClient] sending unregister request"),t=new Request(this.proxyUrlRewrite("".concat(this.options.registrarUrl,"/").concat(this.options.registrationId)),{method:"DELETE",mode:"cors",headers:new Headers(i(i({},this.options.extraRegistrationHeaders),{accept:"application/json, text/javascript"}))}),[4,this.callRegistrar(t,"pr_delete_registration")];case 1:return e.sent(),[2]}})})},t.prototype.cancelPendingRequests=function(){var t=this;Object.keys(this.backoffs).forEach(function(e){t.backoffs[e].cancel()}),this.backoffs={}},t.prototype.resendRegistration=function(){return s(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:if(!this.cachedRegistrationParams)throw new Error("Re-registration failed because there is no registration parameters cached");return[4,this.performRegistration(this.cachedRegistrationParams[0],this.cachedRegistrationParams[1],"pr_resend_registration")];case 1:return t.sent(),[2]}})})},t.prototype.performRegistration=function(t,e,n){return s(this,void 0,void 0,function(){var o,r;return c(this,function(s){switch(s.label){case 0:return this.logger.info("[RegistrarClient] Sending register request"),o={clientDescription:t,registrationId:this.options.registrationId,nodeId:"",transports:e},r=new Request(this.proxyUrlRewrite(this.options.registrarUrl),{method:"POST",mode:"cors",headers:new Headers(i(i({},this.options.extraRegistrationHeaders),{"content-type":"application/json",accept:"application/json, text/javascript"})),body:(0,a.toJson)(o)}),[4,this.callRegistrar(r,n)];case 1:return s.sent(),[2]}})})},t.prototype.startBackoff=function(){var t=new d(this.logger,this.maxBackOffTime,this.options.initialRetryDelayMs);return this.backoffs[t.id]=t,t},t.prototype.stopBackoff=function(t){t.cancel(),delete this.backoffs[t.id]},t.prototype.getToken=function(t){return s(this,void 0,void 0,function(){var e,n,o,r,i,s,a;return c(this,function(c){switch(c.label){case 0:e=this.startBackoff(),n=0,c.label=1;case 1:return c.trys.push([1,3,,8]),this.logger.info("[RegistrarClient] Asking for a new token"),[4,this.tokenProvider({needFresh:!0,supportedTokenTypes:u,wwwAuthenticateHeader:t,purpose:"registrar"})];case 2:return o=c.sent(),this.stopBackoff(e),[2,o];case 3:r=c.sent(),c.label=4;case 4:return c.trys.push([4,6,,7]),n++,i=JSON.stringify(r),n>this.maxRetriesForGetToken?(s="[RegistrarClient] getToken retry limit hit. Will not retry now. Error: ".concat(i),this.logger.error(s),this.stopBackoff(e),[2,Promise.reject(s)]):(this.logger.warn("[RegistrarClient] Retrying for a new token. Retry Count: ".concat(n," Error: ").concat(i)),[4,e.delay("Fetching a new token")]);case 5:return c.sent(),[3,8];case 6:throw a=c.sent(),this.stopBackoff(e),a;case 7:return[3,8];case 8:return[3,1];case 9:return[2]}})})},t.prototype.callRegistrar=function(t,e){var n,o,r;return s(this,void 0,void 0,function(){var i,s,h,d,l,p,g,f,v,m,y,T,S,k,R,w;return c(this,function(c){switch(c.label){case 0:return i=this.startBackoff(),[4,this.tokenProvider({needFresh:!1,supportedTokenTypes:u,wwwAuthenticateHeader:void 0,purpose:"registrar"})];case 1:s=c.sent(),this.setTokenHeader(t,s),h=new a.Timespan,d=0,c.label=2;case 2:l=void 0,c.label=3;case 3:return c.trys.push([3,10,15,16]),p=t.clone(),[4,(0,a.fetchWithTimeout)(p,this.options.requestTimeoutMs)];case 4:return 401!==(l=c.sent()).status?[3,8]:++d>this.maxRetriesForGetToken?(g="[RegistrarClient] getSkypeToken retry limit hit. Will not retry now. Request '".concat(t.url,"' failed with ").concat(l.status," ").concat(l.statusText),this.logger.error(g),this.stopBackoff(i),[2,Promise.reject(g)]):(this.logger.warn("[RegistrarClient] Retry Count ".concat(d,". Request '").concat(t.url,"' failed with ").concat(l.status," ").concat(l.statusText)),f=null!==(o=null===(n=l.headers)||void 0===n?void 0:n.get("www-authenticate"))&&void 0!==o?o:void 0,v=this.setTokenHeader,m=[t],[4,this.getToken(f)]);case 5:return v.apply(this,m.concat([c.sent()])),d>1?[4,i.delay("Registrar call retry after 401")]:[3,7];case 6:c.sent(),c.label=7;case 7:return[3,22];case 8:if(l.status>=500&&l.status<600)throw new Error("Fetch for '".concat(t.url,"' failed with ").concat(l.status," ").concat(l.statusText));c.label=9;case 9:return[3,16];case 10:y=c.sent(),this.logger.error("[RegistrarClient] Request failed with ".concat(y)),c.label=11;case 11:return c.trys.push([11,13,,14]),[4,i.delay("Registrar call retry")];case 12:return c.sent(),[3,22];case 13:throw T=c.sent(),this.logger.error("[RegistrarClient] Request cancelled"),this.stopBackoff(i),T;case 14:return[3,16];case 15:return this.sendTelemetryEvent(e,t,l,h),[7];case 16:return this.stopBackoff(i),l.ok?[2,l]:[3,17];case 17:S=void 0,c.label=18;case 18:return c.trys.push([18,20,,21]),R=(k=JSON).stringify,[4,l.json()];case 19:return S=R.apply(k,[c.sent()]),[3,21];case 20:return c.sent(),S="no details",[3,21];case 21:throw w="Fetch for '".concat(t.url,"' failed with ").concat(l.status," ").concat(l.statusText," (").concat(S,", MS-CV: ").concat(null===(r=l.headers)||void 0===r?void 0:r.get("MS-CV"),")"),this.logger.error("[RegistrarClient] ".concat(w)),new Error(w);case 22:return[3,2];case 23:return[2]}})})},t.prototype.setTokenHeader=function(t,e){switch(t.headers.delete("X-Skypetoken"),t.headers.delete("Authorization"),t.headers.delete("X-MS-Migration"),e.tokenType.toLowerCase()){case"skype":t.headers.set("X-Skypetoken",e.token);break;case"aad":case"cae":t.headers.set("Authorization","Bearer ".concat(e.token));break;default:throw new Error("unsupported token type: ".concat(e.tokenType))}!1===this.options.usingLegacyTokenApi&&t.headers.set("X-MS-Migration","True")},t.prototype.sendTelemetryEvent=function(t,e,n,o){if(void 0!==this.eventLogger){var r={name:t,properties:{url:{value:e.url},result_code:{value:void 0!==n?n.status:0},begin_timestamp:{value:o.startTime},elapsed:{value:o.duration}}};this.eventLogger.logEvent(r)}},t})();e.RegistrarClient=l,e.createRegistrarClient=function(t,e,n){return new l(t,e,n)}}])});d(p);var g=l(function(t,e){var n;t.exports=(n=p,(function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=20)})([function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;var o=(function(){function t(t,e){this.name=t,this.logger=e}return t.prototype.debug=function(t){this.logger.debug("[".concat(this.name,"] ").concat(t))},t.prototype.info=function(t){this.logger.info("[".concat(this.name,"] ").concat(t))},t.prototype.warn=function(t){this.logger.warn("[".concat(this.name,"] ").concat(t))},t.prototype.error=function(t){this.logger.error("[".concat(this.name,"] ").concat(t))},t})();e.Logger=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.USER_AUTHENTICATE_EVENT_NAME=e.SUPPORTED_TOKEN_TYPES=e.FAILED_MESSAGE_ACK=e.UNHANDLED_MESSAGE_ACK=e.HANDLED_MESSAGE_ACK=e.CLIENT_VERSION=e.constants=void 0,e.constants={TROUTER_INIT:"trouterinit",TROUTER_READY_EVENT:"trouterReadyEvent",TROUTER_READY_TIMEOUT:"trouterReadyTimeout",TROUTER_TOKEN_REQUEST:"trouterTokenRequest",TROUTER_TOKEN_GET_SUCCEEDED:"trouterTokenGetSucceeded",TROUTER_TOKEN_GET_FAILED:"trouterTokenGetFailed",TROUTER_RECONNECTING:"trouterReconnecting",RENEWAL:"renewal",NEW_CONNECTION:"newConnection",ENDPOINT_REGISTRATION_FAILED:"endpointRegistrationFailed"},e.CLIENT_VERSION="2024.14.01.55",e.HANDLED_MESSAGE_ACK=200,e.UNHANDLED_MESSAGE_ACK=404,e.FAILED_MESSAGE_ACK=500,e.SUPPORTED_TOKEN_TYPES=["skype","aad","cae"],e.USER_AUTHENTICATE_EVENT_NAME="user.authenticate"},function(t,e,n){var o,r;Object.defineProperty(e,"__esModule",{value:!0}),e.TrouterState=e.UserActivityState=void 0,(function(t){t[t.Unknown=0]="Unknown",t[t.Active=1]="Active",t[t.Inactive=2]="Inactive"})(o||(e.UserActivityState=o={})),(function(t){t[t.Unknown=0]="Unknown",t[t.Connected=2]="Connected",t[t.Disconnected=3]="Disconnected",t[t.Switching=9]="Switching"})(r||(e.TrouterState=r={}))},function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){function r(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{a(o.next(t))}catch(t){i(t)}}function c(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){t.done?n(t.value):r(t.value).then(s,c)}a((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){function n(t){return function(e){return o([t,e])}}function o(n){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,n[0]&&(a=0)),a;)try{if(r=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(s=(s=a.trys).length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(t){n=[6,t],i=0}finally{r=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,i,s,c,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};Object.defineProperty(e,"__esModule",{value:!0}),e.Timespan=e.CorrelationVector=e.fetchWithTimeout=e.calculateExpireTsInSec=e.calculateTtlInSec=e.toJson=void 0,e.toJson=function(t){try{return JSON.stringify(t)}catch(e){return"Unable to serialize object of type ".concat(typeof t)}},e.calculateTtlInSec=function(t){var e=Math.round((new Date).getTime()/1e3);return void 0!==t&&t>e?t-e:0},e.calculateExpireTsInSec=function(t){return Math.round((new Date).getTime()/1e3)+t},e.fetchWithTimeout=function(t,e){return o(this,void 0,void 0,function(){var n,o,i;return r(this,function(r){return o=new Promise(function(e,o){fetch(t).then(function(t){clearTimeout(n),e(t)}).catch(function(t){clearTimeout(n),o(t)})}),0!==e?(i=new Promise(function(o,r){var i=new URL(t.url),s=new Error("".concat(t.method," ").concat(i.origin).concat(i.pathname," timed out"));n=setTimeout(r,e,s)}),[2,Promise.race([o,i])]):[2,o]})})};var i=(function(){function t(t){this.base=void 0!==t?t:this.createCorrelationVectorBase(),this.extension=0}return t.extend=function(e){return new t(e)},t.prototype.increase=function(){this.extension++},t.prototype.value=function(){return"".concat(this.base,".").concat(this.extension)},t.prototype.createCorrelationVectorBase=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0987654321/+",e="AQgw",n="",o=0;o<21;o++)n+=t.charAt(Math.floor(Math.random()*t.length));return n+=e.charAt(Math.floor(Math.random()*e.length))},t})();e.CorrelationVector=i;var s=(function(){function t(){this.start=Date.now()}return Object.defineProperty(t.prototype,"duration",{get:function(){return Date.now()-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startTime",{get:function(){return this.start},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.start=Date.now()},t})();e.Timespan=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.TrouterManagerState=e.UserActivityEventReason=e.ServerState=void 0;var o,r,i=n(3),s=(function(){function t(t,e,n,o,r,i,s){this.connectionId=t,this.connectedClientId=e,this.domId=n,this.unsecureUrl=o,this.url=r,this.c2cUrlBase=i,this.expirationTsSec=s}return t.prototype.getRemainingTtlInSec=function(){return(0,i.calculateTtlInSec)(this.expirationTsSec)},t})();e.ServerState=s,(function(t){t[t.Unknown=0]="Unknown",t[t.Modified=1]="Modified",t[t.Snapshot=2]="Snapshot",t[t.Connected=3]="Connected"})(o||(e.UserActivityEventReason=o={})),(function(t){t[t.Unknown=0]="Unknown",t[t.Connected=2]="Connected",t[t.Disconnected=3]="Disconnected",t[t.Switching=9]="Switching",t[t.TerminalError=10]="TerminalError"})(r||(e.TrouterManagerState=r={}))},function(t,e,n){function o(t){return"string"==typeof t?t:"number"==typeof t?t.toString():void 0}var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.redirectUrlIfPresent=e.ensureNumber=e.reconnectParamsWithoutUrls=e.adaptUrl=e.isV4ConnectEvent=e.usedProtocolAfterFallback=e.usedProtocol=void 0,e.usedProtocol=function(t,e){return"skype"===t&&"1"!==o(null==e?void 0:e.scae)?"v4a":"v4c"},e.usedProtocolAfterFallback=function(t,e){return"v4c-websocket-failure"===(null==e?void 0:e.kind)?"v4a":t},e.isV4ConnectEvent=function(t){return Object.prototype.hasOwnProperty.call(t,"connectparams")},e.adaptUrl=function(t,e){return"v4a"===e?t.replace(/\/v4\/c\b/,"/v4/a").replace("wss://","https://").replace("ws://","http://"):t.replace(/\/v4\/a\b/,"/v4/c").replace("https://","wss://").replace("http://","ws://")},e.reconnectParamsWithoutUrls=function(t){if(void 0!==t)return r(r({},t),{reconnectUrl:void 0,serviceUrl:void 0})},e.ensureNumber=function(t){return"string"==typeof t?parseInt(t,10):t},e.redirectUrlIfPresent=function(t){if("redirect"===(null==t?void 0:t.kind)&&void 0!==t.host){var e=t.host;return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e.endsWith("/v4/c")||e.endsWith("/v4/a")||(e+="/v4/c"),e}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.TrouterFsm=e.State=void 0;var o,r,i=n(4),s=n(0),c=n(5);!(function(t){t[t.Initial=0]="Initial",t[t.RetrievingToken=1]="RetrievingToken",t[t.Allocating=2]="Allocating",t[t.Handshaking=3]="Handshaking",t[t.Connecting=4]="Connecting",t[t.AnonymousConnecting=5]="AnonymousConnecting",t[t.WebsocketAuthenticating=6]="WebsocketAuthenticating",t[t.Connected=7]="Connected",t[t.Unregistering=8]="Unregistering",t[t.TerminalError=9]="TerminalError"})(o||(e.State=o={})),(function(t){t[t.Initial=0]="Initial",t[t.Registering=1]="Registering",t[t.RegisteringButResendPending=2]="RegisteringButResendPending",t[t.Retrying=3]="Retrying",t[t.Registered=4]="Registered",t[t.RegistrationDisabled=5]="RegistrationDisabled"})(r||(r={}));var a=(function(){function t(t,e,n,i){this.worker=e,this.incallModeEnabled=n,this.protocolSelector=i,this.state=o.Initial,this.autoReconnect=!0,this.logger=new s.Logger("ConnectionFsm",t),this.registrationState=r.Initial}return t.prototype.getState=function(){return this.state},t.prototype.isActive=function(){return this.state===o.Allocating||this.state===o.Connected||this.state===o.Handshaking||this.state===o.Connecting||this.state===o.RetrievingToken||this.state===o.AnonymousConnecting||this.state===o.WebsocketAuthenticating},t.prototype.isConnecting=function(){return this.state===o.Allocating||this.state===o.Handshaking||this.state===o.Connecting||this.state===o.AnonymousConnecting},t.prototype.start=function(){return this.state===o.Initial?(this.setState(o.RetrievingToken),this.worker.getToken(!0,!1,void 0),!0):(this.showIgnored("start"),!1)},t.prototype.stop=function(t,e){t&&(this.registrationState=r.Initial),this.worker.isIncallMode()&&this.worker.exitIncallMode(),this.worker.resetTokenBackoff(),this.worker.cancelPendingRegistrationRequests(),this.worker.stopConnectionTimer(),this.worker.stopPingTimer(),this.worker.clearSentEventTimers(),this.worker.stopRegistrationTimer(),this.worker.stopSocketIo(),this.state===o.Connected&&this.worker.sendDisconnectTelemetryEvent("connection stopped"),this.registrationState!==r.Registered&&this.registrationState!==r.Registering&&this.registrationState!==r.RegisteringButResendPending||this.state===o.Unregistering?e?(this.setState(o.TerminalError),this.worker.dispatchTerminalError()):(this.setState(o.Initial),this.worker.dispatchDisconnected()):(this.registrationState=r.Initial,this.setState(o.Unregistering),this.worker.sendUnregisterRequest())},t.prototype.onTokenReceived=function(t,e,n){this.state===o.RetrievingToken?"v4c"===(0,c.usedProtocolAfterFallback)(this.protocolSelector(t.tokenType,n),e)?(this.setState(o.AnonymousConnecting),this.worker.startConnectionTimer(),this.worker.connectV4c(t,e)):(this.setState(o.Allocating),this.worker.startConnectionTimer(),this.worker.sendAllocateRequest(t)):this.showIgnored("onTokenReceived")},t.prototype.checkConnection=function(t){t&&this.onPingInterval()},t.prototype.onAllocationSucceed=function(t){return this.state===o.Allocating&&this.registrationState===r.Registered&&this.worker.dispatchUnregistered(),this.state===o.Allocating?(this.setState(o.Handshaking),this.registrationState=r.Initial,this.worker.startSocketIo(t),!0):(this.showIgnored("onAllocationSucceed"),!1)},t.prototype.onAllocationFailed=function(t,e){this.state===o.Allocating?this.cleanUpAndInitiateReconnect({backoff:!0,allowCachedToken:!t,claimsChallenge:e}):this.showIgnored("onAllocationFailed")},t.prototype.onV4cException=function(){this.state!==o.AnonymousConnecting&&this.state!==o.WebsocketAuthenticating||(this.logger.error("v4c exception, falling back to longpoll"),this.cleanUpAndInitiateReconnect({backoff:!0,allowCachedToken:!0,fallbackReason:{kind:"v4c-websocket-failure"}}))},t.prototype.onConnectingTimeout=function(){this.state===o.Allocating||this.state===o.Connecting||this.state===o.Handshaking||this.state===o.AnonymousConnecting||this.state===o.WebsocketAuthenticating?this.cleanUpAndInitiateReconnect({backoff:!1,allowCachedToken:!0}):this.showIgnored("onConnectingTimeout")},t.prototype.onConnecting=function(){this.state===o.Handshaking?this.setState(o.Connecting):this.showIgnored("onConnecting")},t.prototype.onSocketConnect=function(t){this.state===o.AnonymousConnecting?(this.setState(o.WebsocketAuthenticating),this.worker.sendV4cAuthenticationEvent(t)):this.showIgnored("onSocketConnect")},t.prototype.onConnectingFailed=function(){this.state===o.Connecting?this.onConnectingTimeout():this.state===o.Handshaking?(this.logger.error("Unexpected error in Socket.io - no valid transports"),this.onConnectingTimeout()):this.state===o.AnonymousConnecting||this.state===o.WebsocketAuthenticating?(this.logger.info("/v4/c falling back to longpoll"),this.cleanUpAndInitiateReconnect({backoff:!0,allowCachedToken:!0,fallbackReason:{kind:"v4c-websocket-failure"}})):this.showIgnored("onConnectingFailed")},t.prototype.onSocketDisconnect=function(t){this.state===o.Handshaking||this.state===o.Connected||this.state===o.WebsocketAuthenticating?(this.state===o.Connected&&this.worker.sendDisconnectTelemetryEvent(null==t?void 0:t.toTelemetryString()),this.state===o.WebsocketAuthenticating&&this.worker.countDisconnectBeforeConnectionEstablishment(),"skypetoken-deprecated"===(null==t?void 0:t.reason)?(this.logger.error("Skypetoken deprecated response, not retrying any further"),this.onTerminalError()):this.cleanUpAndInitiateReconnect({backoff:this.state!==o.Connected&&"dup"!==(null==t?void 0:t.reason),allowCachedToken:"unauthorized"!==(null==t?void 0:t.reason),claimsChallenge:null==t?void 0:t.claims})):this.showIgnored("onSocketDisconnect")},t.prototype.onTrouterConnected=function(){this.state===o.Connecting||this.state===o.WebsocketAuthenticating?(this.setState(o.Connected),this.worker.resetTokenBackoff(),this.worker.stopConnectionTimer(),this.worker.sendUserActivityState(i.UserActivityEventReason.Connected,!0),this.worker.startPingTimer(),this.worker.dispatchConnected(),this.worker.shouldSkipRegistration()?(this.registrationState=r.RegistrationDisabled,this.worker.dispatchRegistered()):(this.registrationState=r.Registering,this.worker.sendRegisterRequest())):this.showIgnored("onTrouterConnected")},t.prototype.onReconnectRequired=function(t,e,n){this.state===o.AnonymousConnecting||this.state===o.WebsocketAuthenticating?void 0===n||"host"!==n.target||void 0===n.url||""===n.url?(this.logger.error("unexpected reconnect arguments: ".concat(null==n?void 0:n.target," ").concat(null==n?void 0:n.url,", reconnecting without cache")),this.cleanUpAndInitiateReconnect({backoff:!0,allowCachedToken:!0,fallbackReason:{kind:"redirect-no-host"}})):this.cleanUpAndInitiateReconnect({backoff:!0,allowCachedToken:!0,fallbackReason:{kind:"redirect",host:n.url}}):this.worker.dispatchReconnectIsRequired(t,e)},t.prototype.disableAutoReconnect=function(){this.autoReconnect=!1},t.prototype.onDownstreamRequest=function(t){this.state===o.Connected?(this.switchToIncallModeIfEnabled(),this.worker.dispatchDownstreamRequest(t)):this.showIgnored("onDownstreamRequest")},t.prototype.onTrouterMessageLost=function(t){this.state===o.Connected?this.worker.dispatchTrouterMessageLost(t):this.showIgnored("onTrouterMessageLost")},t.prototype.onPingInterval=function(){this.state===o.Connected?this.worker.sendPingRequest():this.showIgnored("onPingInterval")},t.prototype.onPingResponseTimeout=function(){this.onMissedResponse("onPingResponseTimeout")},t.prototype.onPingResponse=function(){this.state===o.Connected||this.showIgnored("onPingResponse")},t.prototype.onRegistrationFailed=function(){this.state===o.Connected&&this.registrationState===r.Registering?(this.worker.dispatchUnregistered(),this.registrationState=r.Retrying,this.worker.startRegistrationRetryTimer()):this.state===o.Connected&&this.registrationState===r.RegisteringButResendPending?(this.registrationState=r.Registering,this.worker.sendRegisterRequest()):this.showIgnored("onRegistrationFailed")},t.prototype.onRetryRegistration=function(){this.state===o.Connected&&this.registrationState===r.Retrying?(this.registrationState=r.Registering,this.worker.sendRegisterRequest()):this.showIgnored("onRetryRegistration")},t.prototype.onRegistrationSucceeded=function(){this.state===o.Connected&&this.registrationState===r.Registering?(this.registrationState=r.Registered,this.worker.dispatchRegistered(),this.worker.startRegistrationTimer()):this.state===o.Connected&&this.registrationState===r.RegisteringButResendPending?(this.registrationState=r.Registering,this.worker.sendRegisterRequest()):this.showIgnored("onRegistrationSucceeded")},t.prototype.onRegistrationNearExpiry=function(){this.state===o.Connected&&this.registrationState===r.Registered?(this.registrationState=r.Registering,this.worker.sendRegisterRequest()):this.showIgnored("onRegistrationNearExpiry")},t.prototype.onUnregistrationDone=function(){this.state===o.Unregistering?(this.setState(o.Initial),this.worker.dispatchUnregistered(),this.worker.dispatchDisconnected()):this.showIgnored("onUnregistrationDone")},t.prototype.onResendRegistration=function(){this.worker.dispatchUnregistered(),this.state===o.Connected&&this.registrationState===r.Registered?(this.registrationState=r.Registering,this.worker.stopRegistrationTimer(),this.worker.sendRegisterRequest()):this.state===o.Connected&&this.registrationState===r.Registering&&(this.registrationState=r.RegisteringButResendPending)},t.prototype.onIncallModeTimer=function(){this.worker.exitIncallMode(),this.state===o.Connected?(this.worker.stopPingTimer(),this.worker.startPingTimer()):this.showIgnored("onIncallModeTimer")},t.prototype.onSetNewUserActivityState=function(){this.worker.sendUserActivityState(i.UserActivityEventReason.Modified,this.state===o.Connected)},t.prototype.onActivityStateResponseTimeout=function(){this.onMissedResponse("onActivityStateResponseTimeout")},t.prototype.forceReconnect=function(t){this.state===o.Connected&&this.worker.sendDisconnectTelemetryEvent(t),this.worker.resetTokenBackoff(),this.cleanUpAndInitiateReconnect({backoff:!1,allowCachedToken:!0})},t.prototype.onTerminalError=function(){this.logger.error("Cannot proceed, reached terminal state. Switching from state '".concat(o[this.state],"' to ").concat(o[o.TerminalError])),this.stop(!0,!0),this.setState(o.TerminalError)},t.prototype.onMissedResponse=function(t){this.state===o.Connected?(this.worker.sendDisconnectTelemetryEvent(t),this.cleanUpAndInitiateReconnect({backoff:!1,allowCachedToken:!0})):this.showIgnored(t)},t.prototype.showIgnored=function(t){this.logger.debug("Ignoring event '".concat(t,"' in state '").concat(o[this.state],"'"))},t.prototype.setState=function(t){this.logger.info("Switching from state '".concat(o[this.state],"' to state '").concat(o[t],"'")),this.state!==t?this.state=t:this.logger.error("Attempt to switch to the current state '".concat(o[t],"'"))},t.prototype.switchToIncallModeIfEnabled=function(){this.incallModeEnabled&&(this.worker.isIncallMode()||(this.worker.enterIncallMode(),this.worker.stopPingTimer(),this.worker.startPingTimer()),this.worker.restartIncallModeTimer())},t.prototype.cleanUpAndInitiateReconnect=function(t){if(!this.autoReconnect)return this.logger.info("Automatic reconnect is disabled, stopping this connection"),void this.stop(!0);this.worker.cancelPendingRegistrationRequests(),this.worker.stopConnectionTimer(),this.worker.stopPingTimer(),this.worker.clearSentEventTimers(),this.worker.stopRegistrationTimer(),this.worker.stopSocketIo(),this.setState(o.RetrievingToken),this.worker.dispatchReconnecting(),this.worker.getToken(t.allowCachedToken,t.backoff,t.claimsChallenge,t.fallbackReason)},t})();e.TrouterFsm=a},function(t,e,n){function o(t,e){var n=e?void 0:{"X-MS-Migration":"True"};switch(t.tokenType.toLowerCase()){case"skype":return c({"X-Skypetoken":t.token},n);case"aad":case"cae":return c({Authorization:"Bearer ".concat(t.token)},n);default:throw new Error("unsupported token type: ".concat(t.tokenType))}}function r(t){return null!=t&&"function"==typeof t.toString?t.toString():"[".concat(typeof t,"]")}function i(t){return"object"==typeof t&&null!==t&&void 0!==t.stack?(0,l.toJson)(t.stack):'"(no error.stack)"'}function s(t){return"object"==typeof t&&null!==t&&"string"==typeof t.message?t.message:"(no error.message)"}var c=this&&this.__assign||function(){return(c=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__awaiter||function(t,e,n,o){function r(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{a(o.next(t))}catch(t){i(t)}}function c(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){t.done?n(t.value):r(t.value).then(s,c)}a((o=o.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){function n(t){return function(e){return o([t,e])}}function o(n){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,n[0]&&(a=0)),a;)try{if(r=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(s=(s=a.trys).length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(t){n=[6,t],i=0}finally{r=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,i,s,c,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};Object.defineProperty(e,"__esModule",{value:!0}),e.TrouterConnection=e.ReconnectReason=void 0;var h,d=n(21),l=n(3),p=n(15),g=n(1),f=n(16),v=n(17),m=n(2),y=n(4),T=n(0),S=n(5),k=n(6),R=n(12),w=function(){this.cv=g.CLIENT_VERSION,this.ua="",this.hr="",this.v=""},b=(function(){function t(){this["force new connection"]=!0,this.reconnect=!1,this.query="",this.ackTimeoutMs=5e3}return t.prototype.rewriteUrlForProxy=function(t){return t},t})(),C="MS-CV",E=(function(){function t(t,e){this.logger=e,this.cvCounter=0;var n=JSON.parse(t);this.startTS=this.safeJsonNumber(n,"startTS",0),this.url=this.safeJsonString(n,"url",""),this.shortUrl=this.safeJsonString(n,"shortUrl",""),this.body=this.safeJsonString(n,"body",""),this.headers=this.safeJsonRecord(n,"headers",{}),this.id=this.safeJsonNumber(n,"id",-1),this.method=this.safeJsonString(n,"method",""),this.replied=!1,this.timedout=!1,this.receivedCv=this.headers[C],this.updateCvHeader()}return Object.defineProperty(t.prototype,"correlationVector",{get:function(){return this.receivedCv?"".concat(this.receivedCv,".").concat(this.cvCounter):""},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e){"data"===t?this.dataCallback=e:"end"===t&&("function"==typeof this.dataCallback&&this.dataCallback(this.body),e())},t.prototype.incrementCorrelationVector=function(){++this.cvCounter,this.updateCvHeader()},t.prototype.updateCvHeader=function(){var t=this.correlationVector;t&&(this.headers[C]=t)},t.prototype.safeJsonNumber=function(t,e,n){var o;if(null!=t&&Object.prototype.hasOwnProperty.call(t,e)){var r=t;if("number"==typeof r[e])return r[e];if("string"==typeof r[e])return parseFloat(r[e]);null===(o=this.logger)||void 0===o||o.warn("unexpected type of '".concat(e,"': ").concat(typeof r[e]))}return n},t.prototype.safeJsonString=function(t,e,n){var o;if(null!=t&&Object.prototype.hasOwnProperty.call(t,e)){var r=t;if("string"==typeof r[e])return r[e];null===(o=this.logger)||void 0===o||o.warn("unexpected type of '".concat(e,"': ").concat(typeof r[e]))}return n},t.prototype.safeJsonRecord=function(t,e,n){var o;if(null!=t&&Object.prototype.hasOwnProperty.call(t,e)){var r=t;if("object"==typeof r[e])return r[e];null===(o=this.logger)||void 0===o||o.warn("unexpected type of '".concat(e,"': ").concat(typeof r[e]))}return n},t})(),I=(function(){function t(t,e,n){this.request=t,this.responseData=e,this.sendResponse=n}return t.prototype.writeHead=function(t,e){this.responseData.status=t,this.responseData.headers=e},t.prototype.write=function(t){this.responseData.body+=t},t.prototype.end=function(t){return t&&(this.responseData.body+=t),this.sendResponse(this.request,this.responseData)},t})(),_=function(t){this.name=t,this.args={},this.timeoutTimerId=0};!(function(t){t[t.Configuration=0]="Configuration",t[t.ServerInitiated=1]="ServerInitiated"})(h||(e.ReconnectReason=h={}));var U=(function(){function t(t,e,n,o,r,i,s,c){var a,u=this;this.options=e,this.manager=n,this.tokenProvider=o,this.usingLegacyTokenApi=r,this.protocolSelector=s,this.audienceSubscriptionState=c,this.WEBSOCKET_TRANSPORT_NAME="websocket",this.XHR_POLLING_TRANSPORT_NAME="xhr-polling",this.AUDIENCE_SUBSCRIPTION_RESULT_ERROR="Error",this.AUDIENCE_SUBSCRIPTION_RESULT_UNSUBSCRIBED="Unsubscribed",this.AUDIENCE_SUBSCRIPTION_RESULT_TIMEOUT="Timeout",this.AUDIENCE_SUBSCRIPTION_RESULT_BAD_REQUEST="BadRequest",this.AUDIENCE_SUBSCRIPTION_STATE_QUERY_PARAM_REGEX=/&audienceSubscriptionState=[^&]*|^audienceSubscriptionState=[^&]*&?/,this.connectionId="",this.inIncallMode=!1,this.connectionAttempt=0,this.connectedClientId="",this.isNavigatorOnline=!0,this.onNavigatorOnlineStatusUpdateBound=this.onNavigatorOnlineStatusUpdate.bind(this),this.c2cUrlBase="",this.connectingErrorsInRow=0,this.unauthorizedErrorCount=0,this.pendingSentEventTimers={},this.lastDisconnectReason="",this.UNKNOWN_TRANSPORT="unknown_transport",this.connectingErrorsThreshold=3,this.pendingAudienceSubscription=void 0,this.logger=new T.Logger("Connection",t),this.timeoutOptions=this.options.timeoutOptions,this.tokenBackoff=new v.ExponentialBackoff(this.logger,this.timeoutOptions.maxBackoffMs),this.clientID=Date.now(),"undefined"!=typeof window&&window.location&&(this.domId=window.location.hostname);var h=new w;h.cv=g.CLIENT_VERSION,h.ua="",(null===(a=this.options)||void 0===a?void 0:a.clientInfo)&&(h.ua=this.safeString(this.options.clientInfo.ua),h.v=this.safeString(this.options.clientInfo.v)),this.clientInfo=h,this.connectionTracker=new p.ConnectionTracker(t,this.clientID,this.clientInfo,function(){return u.getServerState()},this.options.endpointId,this.options.clientCorrelationID,this.options.environment),this.applyConnectionTrackerOptions(e);var l=this.options.incallModeTimeoutMs>0;if(this.fsm=new k.TrouterFsm(t,this,l,this.protocolSelector),e.registration){var f={registrarUrl:e.registration.registrarUrl,proxyUrlRewrite:e.rewriteUrlForProxy,registrationId:e.registration.registrationId,requestTimeoutMs:e.timeoutOptions.fetchTimeoutMs,initialRetryDelayMs:1e3,maxRetryDelayMs:e.timeoutOptions.maxBackoffMs,usingLegacyTokenApi:this.usingLegacyTokenApi,maxRetriesForGetToken:e.retryLimitOnTokenFetch,extraRegistrationHeaders:e.extraConnectionHeaders};this.registrarClient=(0,d.createRegistrarClient)(t,this.tokenProvider,f)}this.userActivityState=i}return t.prototype.start=function(t){this.logger.info("Starting"),this.reconnectParams=t,"undefined"!=typeof window&&window.navigator&&window.addEventListener?(this.isNavigatorOnline=window.navigator.onLine,window.addEventListener("online",this.onNavigatorOnlineStatusUpdateBound),window.addEventListener("offline",this.onNavigatorOnlineStatusUpdateBound),this.logger.debug("Registered for browser online notifications - current state: ".concat(this.isNavigatorOnline))):this.isNavigatorOnline=!0,this.fsm.start()},t.prototype.stop=function(t){this.logger.info("Stopping"),"undefined"!=typeof window&&window.navigator&&(window.removeEventListener("online",this.onNavigatorOnlineStatusUpdateBound),window.removeEventListener("offline",this.onNavigatorOnlineStatusUpdateBound)),this.fsm.stop(t),this.connectionTracker.close()},t.prototype.configure=function(t){var e=this.options.trouterUrl!==t.trouterUrl;this.options=t,this.applyConnectionTrackerOptions(t),e&&(this.logger.info("Configuration changed. Reconnection required."),this.fsm.onReconnectRequired(!1,h.Configuration))},t.prototype.checkConnection=function(t){this.logger.info("checkConnection called with ".concat(t)),this.fsm.checkConnection(t),t&&this.connectionTracker.sendTelemetry(p.ClientEventName.CheckConnection,{disconnectDetected:t},[])},t.prototype.disableRegistrationsAndAutoReconnect=function(){this.stopRegistrationTimer(),this.cancelPendingRegistrationRequests(),this.fsm.disableAutoReconnect()},t.prototype.getServerState=function(){return new y.ServerState(this.connectionId,this.connectedClientId,this.domId?this.domId:"",this.allocateResult?this.allocateResult.url:"",this.allocateResult?this.allocateResult.surl:"",this.c2cUrlBase,this.connectionExpireTimestampInSecs)},t.prototype.getState=function(){return this.fsm.getState()},t.prototype.getToken=function(t,e,n,o,r){var i=this;void 0===r&&(r=0),this.logger.info("Getting token ".concat(e?"with backoff":"without backoff"));var s=function(){i.connectionTracker.trackStart("token");var e={needFresh:!t,wwwAuthenticateHeader:n,supportedTokenTypes:g.SUPPORTED_TOKEN_TYPES,purpose:"trouter"};i.logger.info("Requesting token: needFresh=".concat(e.needFresh," ")+"types=[".concat(g.SUPPORTED_TOKEN_TYPES,"], ")+"wwwAuthenticateHeader is ".concat(e.wwwAuthenticateHeader?"non empty":"empty")),i.tokenProvider(e).then(function(t){i.logger.debug("".concat(t.tokenType," token is received")),i.connectionTracker.trackEnd("token"),i.fsm.onTokenReceived(t,o,i.reconnectParams)}).catch(function(e){var s=(0,l.toJson)(e.stack);if(i.logger.error("Getting token failed, will retry after timeout. Error: ".concat(s)),i.connectionTracker.trackError("token",s),!i.canRetryTokenFetchRequest(r+i.unauthorizedErrorCount))return i.connectionTracker.trackError("token","getToken retry limit hit, reached terminal error state"),i.resetTokenBackoff(),void i.fsm.onTerminalError();i.getToken(t,!0,n,o,r+1)})};e?this.tokenBackoff.backoff("getting token",s):(this.resetTokenBackoff(),s())},t.prototype.startConnectionTimer=function(){var t=this;this.stopConnectionTimer(),this.logger.debug("Starting connection timeout for ".concat(this.timeoutOptions.connectionTimeoutMs," ms")),this.connectionTimeoutId=setTimeout(function(){t.logger.info("Connection timeout is fired"),t.fsm.onConnectingTimeout()},this.timeoutOptions.connectionTimeoutMs)},t.prototype.stopConnectionTimer=function(){this.connectionTimeoutId&&(this.logger.debug("Stopping connection timeout"),clearTimeout(this.connectionTimeoutId),this.connectionTimeoutId=void 0)},t.prototype.startPingTimer=function(){var t=this;"websocket"===this.transportTypeName?(this.logger.debug("Starting ping timeout for ".concat(this.timeoutOptions.pingTimeoutMs," ms")),this.pingTimerId=setInterval(function(){t.logger.info("Ping interval fired"),t.fsm.onPingInterval()},this.timeoutOptions.pingTimeoutMs)):this.logger.debug("Not starting ping for transport ".concat(this.transportTypeName))},t.prototype.stopPingTimer=function(){this.pingTimerId&&(this.logger.debug("Stopping ping timeout"),this.clearPingResponseTimer(),clearInterval(this.pingTimerId),this.pingTimerId=void 0)},t.prototype.shouldSkipRegistration=function(){return void 0===this.options.registration},t.prototype.hasCustomRegistrationTtl=function(){var t,e;return void 0!==(null===(t=this.options.registration)||void 0===t?void 0:t.registrarTtlSec)&&0!==(null===(e=this.options.registration)||void 0===e?void 0:e.registrarTtlSec)},t.prototype.startRegistrationTimer=function(){var t=this;this.stopRegistrationTimer();var e=this.getRegistrationTtl(),n=e[0],o=e[1];if(n<=30||!o)return this.logger.debug("Starting registration expiration timer (TTL ".concat(n," sec)")),void(this.registrationTimerId=setTimeout(function(){t.registrationTimerId=void 0,t.logger.warn("Registration expired but the connection is still alive. Should never happen"),t.dispatchUnregistered()},1e3*n));var r=n-30;this.logger.debug("Starting registration extension timer for ".concat(r," sec")),this.registrationTimerId=setTimeout(function(){t.logger.info("Registration extension timer fired"),t.registrationTimerId=setTimeout(function(){t.registrationTimerId=void 0,t.logger.debug("Registration extension did not happen in time"),t.dispatchUnregistered()},3e4),t.fsm.onRegistrationNearExpiry()},1e3*r)},t.prototype.startRegistrationRetryTimer=function(){var t=this;this.stopRegistrationTimer(),this.registrationTimerId=setTimeout(function(){t.registrationTimerId=void 0,t.fsm.onRetryRegistration()},123e3)},t.prototype.stopRegistrationTimer=function(){this.registrationTimerId&&(this.logger.debug("Stopping registration timeout"),clearTimeout(this.registrationTimerId),this.registrationTimerId=void 0)},t.prototype.resendRegistration=function(){if(!this.registrarClient)throw new Error("Trouter Client not configured to handle registrations");return this.fsm.onResendRegistration(),Promise.resolve()},t.prototype.buildSocketIoUrlParams=function(t,e){if(!this.allocateResult)throw new Error("Allocate result is undefined in buildSocketIoUrlParams()");for(var n={},o=this.allocateResult.connectparams,r=0,i=Object.keys(o);r<i.length;r++){var s=i[r];if(void 0!==o[s]){var c=o[s];"string"==typeof c||"number"==typeof c?n[s]=c:this.logger.error("signatureData[".concat(s,"] has unsupported type ").concat(typeof c))}}return n.v="v4",n.tc=encodeURI((0,l.toJson)(this.clientInfo)),n.timeout=this.timeoutOptions.pingTimeoutMs/1e3,n.auth="true",this.options.endpointId&&(n.epid=this.options.endpointId),t&&(n.userActivity=encodeURI((0,l.toJson)(t))),e&&(n.audienceSubscriptionState=encodeURIComponent((0,l.toJson)(e))),this.appendConnectedClientIds(this.buildQuery(n),!0)},t.prototype.startSocketIo=function(t){var e,n;if(this.logger.debug("Starting socket io"),this.connectionTracker.trackStart("connectSocket"),!this.allocateResult)throw new Error("Allocate result is undefined in startSocketIo()");var r=this.options.ioOptions?c({},this.options.ioOptions):new b,i=this.userActivityState.state!==m.UserActivityState.Unknown?this.userActivityState.increaseCvAndGetEventObject():void 0,s=null===(e=this.audienceSubscriptionState)||void 0===e?void 0:e.increaseCvAndGetEventObject();if(r["force new connection"]=!0,r.reconnect=!1,r.rewriteUrlForProxy=this.options.rewriteUrlForProxy,r.requestHeaders=c(c({},this.options.extraConnectionHeaders),o(t,this.usingLegacyTokenApi)),r.query=this.buildSocketIoUrlParams(i,s),this.logger.info("connecting to ".concat(this.allocateResult.socketio,"?").concat(r.query)),this.stopSocketIo(),this.socket=(null!==(n=this.options.io)&&void 0!==n?n:R).connect(this.allocateResult.socketio,r),void 0===this.socket)throw new Error("Can't create Socket.io object");this.attachSocketIoHandlers(this.socket,t,i,s)},t.prototype.stopSocketIo=function(){if(this.socket){this.logger.debug("clearing socket.io");try{for(var t=0,e=["connecting","connect","connect_failed","close_during_connecting","disconnect","reconnect","reconnect_failed","reconnecting","error","message","trouter.connected","trouter.reconnect","trouter.message_loss"];t<e.length;t++){var n=e[t];this.socket.removeAllListeners(n)}this.socket.disconnect(),this.logger.debug("cleared socket"),this.socket=void 0}catch(t){this.logger.error("exception in disconnecting previous socket. Error: ".concat(i(t)))}}},t.prototype.dispatchConnected=function(){this.logger.info("dispatching connected"),this.manager.onConnected(this)},t.prototype.dispatchRegistered=function(){this.logger.info("dispatching registered"),this.manager.onRegistered(this)},t.prototype.dispatchUnregistered=function(){this.logger.info("dispatching unregistered"),this.manager.onUnregistered(this)},t.prototype.dispatchDownstreamRequest=function(t){var e=this;this.logger.debug("dispatching downstream request");try{var n=new I(t,new p.ResponseData(t.id),function(t,n){return e.logger.debug("sending response to downstream"),e.sendResponse(t,n)});this.manager.onDownstreamRequest(this,t,n)}catch(t){this.logger.error("exception in socket.on message. Error : ".concat(i(t)))}},t.prototype.dispatchReconnecting=function(){this.logger.info("dispatching reconnecting"),this.manager.onReconnecting(this)},t.prototype.dispatchReconnectIsRequired=function(t,e){this.logger.info("dispatching reconnect is required by server"),this.manager.onReconnectIsRequired(this,t,e)},t.prototype.dispatchDisconnected=function(){this.logger.info("dispatching disconnected"),this.manager.onDisconnected(this)},t.prototype.dispatchTerminalError=function(){this.logger.info("dispatching terminal error"),this.manager.onTerminalError(this)},t.prototype.dispatchTrouterMessageLost=function(t){this.logger.info("dispatching trouter message lost"),this.manager.onTrouterMessageLost(t)},t.prototype.countDisconnectBeforeConnectionEstablishment=function(){this.logger.warn("counting disconnect before connection was fully established as a connection failure"),++this.connectingErrorsInRow>=this.connectingErrorsThreshold&&this.resetReconnectParamsOnErrorThreshold()},t.prototype.sendProcessedDroppedIndicators=function(t){var e=this;try{this.logger.debug("emitting processed flow tags to the server");var n=new _("trouter.processed_message_loss");n.args={droppedIndicators:t},this.sendDownstreamEvent(n,function(){e.logger.info("emitted processed flow tags to the server")})}catch(t){var o=i(t);this.logger.error("unable to send processed message loss event. Error: ".concat(o)),this.connectionTracker.trackError("trouter.processed_message_loss",o,!1)}},t.prototype.sendAllocateRequest=function(t){var e=this;this.connectionAttempt++,this.connectionTracker.trackNewConnection();var n,r=this.options.trouterUrl,i=this.reconnectParams,s="string"==typeof(null==i?void 0:i.se)?parseInt(i.se,10):"number"==typeof(null==i?void 0:i.se)?i.se:void 0;s&&s<=Date.now()+36e5&&(this.logger.warn("Dropping expired cached connection parameters: ".concat(new Date(s))),this.reconnectParams=i=void 0),i&&i.serviceUrl!==r&&(this.logger.warn("Dropping cached connection parameters for a different environment (".concat(i.serviceUrl,", now ").concat(r,")")),this.reconnectParams=i=void 0),(null==i?void 0:i.reconnectUrl)&&(r=i.reconnectUrl),n=i?c(c({},i),{serviceUrl:void 0,reconnectUrl:void 0}):null,r=(0,S.adaptUrl)(r,"v4a"),r=this.appendCorrelationIds(r,!1),r=this.appendEndpointId(r,!1),n&&(r+="&".concat(this.buildQuery(n)),n.v||(r+="&v=".concat("v4"))),r=this.options.rewriteUrlForProxy(r);var a=new Request(r,{method:"POST",mode:"cors",headers:new Headers(c(c({"Content-Type":"text/plain"},this.options.extraConnectionHeaders),o(t,this.usingLegacyTokenApi)))});this.logger.info("sendAllocateRequest: POST ".concat(r)),this.connectionTracker.trackStart("allocation");var u,h=Date.now(),d=-1,p=!1;(0,l.fetchWithTimeout)(a,this.timeoutOptions.fetchTimeoutMs).then(function(t){var n;if(d=t.status,!t.ok)throw u=null!==(n=t.headers.get("www-authenticate"))&&void 0!==n?n:void 0,p="1"===t.headers.get("x-trouter-skypetoken-deprecated"),e.logger.warn("Allocation request got response status ".concat(t.status,", www-authenticate header was ").concat(u?"not empty":"empty")),new Error(t.statusText);var o=t.headers.get("content-type");if(!o||"application/json"!==o&&!o.startsWith("application/json;"))throw new Error("Content-type '".concat(o,"' is unexpected"));return e.connectionTracker.trackEnd("allocation"),t.json()}).then(function(n){e.unauthorizedErrorCount=0,e.onAllocationResponse(n,t)}).catch(function(t){e.connectingErrorsInRow++;var n="".concat(t).concat(d>=0?", status code ".concat(d):"");if(e.logger.error("".concat(e.connectingErrorsInRow," failed connecting attempt(s) in a row. ").concat(n)),e.connectionTracker.trackError("allocation",n),p){var o="Skypetoken deprecated response, not retrying any further";return e.logger.error(o),e.connectionTracker.trackError("allocation",o),void e.fsm.onTerminalError()}if(401===d&&e.unauthorizedErrorCount++,!e.canRetryTokenFetchRequest(e.unauthorizedErrorCount)){var o="getToken retry limit hit, reached terminal error state";return e.connectionTracker.trackError("allocation",o),void e.fsm.onTerminalError()}if(-1!==d||e.isNavigatorOnline){if(e.reconnectParams&&e.connectingErrorsInRow>=e.connectingErrorsThreshold)if(d>=400&&d<=599)e.resetReconnectParamsOnErrorThreshold();else if(e.reconnectParams.reconnectUrl&&e.connectingErrorsInRow%3==0){e.logger.warn("".concat(e.connectingErrorsInRow," connection attempts, testing nominal service URL"));var r=Math.min(e.timeoutOptions.connectionTimeoutMs-(Date.now()-h)-500,e.timeoutOptions.fetchTimeoutMs);return void e.testNominalUrlConnectivity(r).then(function(t){e.connectionTracker.trackProgress("nomcheck",t?"ok":"failed"),t?(e.logger.warn("Nominal service URL is reachable, erasing cached reconnect URL"),e.reconnectParams&&delete e.reconnectParams.reconnectUrl):e.logger.warn("Nominal service URL is not reachable either, keeping cached reconnect URL"),e.fsm.onAllocationFailed(!1,void 0)},function(){e.fsm.onAllocationFailed(!1,void 0)})}}else e.logger.info("Expected failure, the browser says it is not online at the moment");e.fsm.onAllocationFailed(401===d,u)})},t.prototype.testNominalUrlConnectivity=function(t){var e,n=this;if(t<1e3)return this.logger.warn("There is no time left to reasonably perform the nominal service URL connectivity check (".concat(t," ms), falling back to assuming that the connectivity is fine")),Promise.resolve(!0);try{var o=new URL(this.options.trouterUrl);o.pathname="/",o.search="?"+this.buildQuery({check:Date.now(),cor_id:encodeURIComponent(this.options.clientCorrelationID),epid:encodeURIComponent(this.options.endpointId?this.options.endpointId:""),tc:encodeURIComponent((0,l.toJson)(this.clientInfo))}),e=new Request(this.options.rewriteUrlForProxy(o.toString()),{method:"GET",headers:{Accept:"text/plain"}})}catch(t){return this.logger.warn("Nominal service URL connectivity test request could not be created (".concat(t,"), falling back to assuming that the connectivity is fine")),Promise.resolve(!0)}return(0,l.fetchWithTimeout)(e,t).then(function(t){if(200!==t.status)throw new Error("Not 200 OK: ".concat(t.status," ").concat(t.statusText));return t.text()}).then(function(t){if("Trouter"!==t)throw new Error('Not "Trouter": '.concat(t.substring(0,16)).concat(t.length>16?"...":""));return!0}).catch(function(t){return n.logger.error("Nominal service URL connectivity test failed: ".concat(t)),!1})},t.prototype.sendPingRequest=function(){var t=this;if(this.socket&&void 0===this.pingResponseTimerId)try{this.logger.debug("emitting ping event");var e=!1;this.socket.emit("ping",function(){!0!==e&&t.onPingResponse()}),this.pingResponseTimerId=setTimeout(function(){t.logger.error("Ping response timeout is fired"),e=!0,t.clearPingResponseTimer(),t.fsm.onPingResponseTimeout()},this.timeoutOptions.pongTimeoutMs)}catch(t){var n=i(t);this.logger.error("unable to send ping. Error: ".concat(n)),this.connectionTracker.trackError("ping",n,!1)}},t.prototype.connectV4c=function(t,e){var n,o,r,i,s,a,u=this.options.ioOptions?c({},this.options.ioOptions):new b;u["force new connection"]=!0,u.reconnect=!1,(null===(n=this.reconnectParams)||void 0===n?void 0:n.serviceUrl)&&(0,S.adaptUrl)(this.reconnectParams.serviceUrl,"v4c")!==(0,S.adaptUrl)(this.options.trouterUrl,"v4c")&&(this.logger.warn("Dropping cached connection parameters for a different environment (".concat(this.reconnectParams.serviceUrl,", now ").concat(this.options.trouterUrl,")")),this.reconnectParams=void 0);var h=null!==(i=null!==(o=(0,S.redirectUrlIfPresent)(e))&&void 0!==o?o:"redirect-no-host"!==(null==e?void 0:e.kind)?null===(r=this.reconnectParams)||void 0===r?void 0:r.reconnectUrl:void 0)&&void 0!==i?i:this.options.trouterUrl,d=(0,S.adaptUrl)(h,"v4c");u["skipped handshake data"]={timeout:70,websocketUrl:d},u.query=this.buildV4cUrlParams(),u.rewriteUrlForProxy=this.options.rewriteUrlForProxy;try{if(this.stopSocketIo(),this.transportTypeName="websocket",this.socket=(null!==(s=this.options.io)&&void 0!==s?s:R).connect(this.options.trouterUrl,u),void 0===this.socket)throw new Error("failed to create Socket.io object");var l=null===(a=this.audienceSubscriptionState)||void 0===a?void 0:a.increaseCvAndGetEventObject();this.attachSocketIoHandlers(this.socket,t,void 0,l)}catch(t){this.logger.error("".concat(t)),this.connectionTracker.trackError("v4c","".concat(t)),this.fsm.onV4cException()}},t.prototype.sendV4cAuthenticationEvent=function(t){var e,n={headers:c(c({},this.options.extraConnectionHeaders),o(t,this.usingLegacyTokenApi)),connectparams:(0,S.reconnectParamsWithoutUrls)(this.reconnectParams)};null===(e=this.socket)||void 0===e||e.emit(g.USER_AUTHENTICATE_EVENT_NAME,n)},t.prototype.setUserActivityState=function(t){var e=t.state!==this.userActivityState.state;this.userActivityState=t,e?(this.logger.info("Changing user activity state to '".concat(t.toEventJSON(),"'")),this.fsm.onSetNewUserActivityState()):(this.logger.debug("Not changing the same user activity state '".concat(t.toEventJSON(),"'")),this.manager.onUserActivityStateAccepted(t.correlationVector.value()))},t.prototype.sendUserActivityState=function(t,e){this.userActivityState.state!==m.UserActivityState.Unknown&&("websocket"===this.transportTypeName&&e?t===y.UserActivityEventReason.Connected?this.sendUserActivityStateMultiple(2):this.sendUserActivityStateMultiple(1):"xhr-polling"===this.transportTypeName&&t===y.UserActivityEventReason.Modified&&this.fsm.forceReconnect("user activity/force reconnect"))},t.prototype.setAudienceSubscriptionsAsync=function(t,e){var n=this.audienceSubscriptionState;if(this.audienceSubscriptionState=t,this.transportTypeName===this.WEBSOCKET_TRANSPORT_NAME)return this.setAudienceSubscriptionsInternalAsync(t.increaseCvAndGetEventObject(),e);if(this.transportTypeName===this.XHR_POLLING_TRANSPORT_NAME){var o=this.setAudienceSubscriptionsLongpollInternalAsync(t.increaseCvAndGetEventObject(),e,n);return this.fsm.forceReconnect("set audience subscription force reconnect"),o}throw new Error("set audience subscription executed on an unknown transport")},t.prototype.setAudienceSubscriptionsUnsafeAsync=function(t){if(t)return this.transportTypeName===this.WEBSOCKET_TRANSPORT_NAME?this.setAudienceSubscriptionsInternalAsync(t,15e3):void 0},t.prototype.setAudienceSubscriptionsInternalAsync=function(t,e){return a(this,void 0,void 0,function(){var n,o,r=this;return u(this,function(i){switch(i.label){case 0:return this.logger.info("[WebSocket] Audience subscription set requested."),(n=new _("audience.subscribe")).args=t,[4,new Promise(function(o){var i=!1,s=setTimeout(function(){return i=!0,o(r.buildAudienceSubscriptionsTimeoutResponse(t))},e);r.sendDownstreamEvent(n,function(t,e){i||(clearTimeout(s),r.logger.debug("[Websocket] Audience subscription response: ".concat(e)),r.pendingAudienceSubscription&&r.onAudienceSubscriptionResult(e),o(e))})})];case 1:return o=i.sent(),this.manager.onAudiencesSetResolved(o,t.cv),[2,o]}})})},t.prototype.setAudienceSubscriptionsLongpollInternalAsync=function(t,e,n){var o;return a(this,void 0,void 0,function(){var r,i,s,c,a,h,d=this;return u(this,function(u){switch(u.label){case 0:return this.logger.info("[XHR Polling] Audience subscription set requested."),this.pendingAudienceSubscription&&(this.logger.error("Racing audience subscriptions occured. This situation resolves into undefined scenario and/or nasal demons."),clearTimeout(this.pendingAudienceSubscription.timeoutId)),0===t.audiences.length?[2,this.handleAudienceUnsubscribeLongpoll(t.cv,n)]:[4,new Promise(function(n){var o=setTimeout(function(){return d.pendingAudienceSubscription=void 0,n(d.buildAudienceSubscriptionsTimeoutResponse(t))},e);d.pendingAudienceSubscription={audienceSetResolve:n,timeoutId:o}})];case 1:return r=u.sent(),this.manager.getState()===m.TrouterState.Unknown||this.transportTypeName===this.WEBSOCKET_TRANSPORT_NAME?[2,r]:(null==(i=r.responses[0])?void 0:i.result.audienceSubscriptionState)===this.AUDIENCE_SUBSCRIPTION_RESULT_BAD_REQUEST?(this.clearAudienceSubscriptionStateQueryParam(),this.manager.onAudiencesSetResolved(r,t.cv),[2,r]):(null==(s=r.responses.find(function(e){return e.audienceId===t.audiences[0].id}))?void 0:s.result.audienceSubscriptionState)===this.AUDIENCE_SUBSCRIPTION_RESULT_ERROR?(this.clearAudienceSubscriptionStateQueryParam(),this.manager.onAudiencesSetResolved(r,t.cv),[2,r]):(c=(null===(o=null==n?void 0:n.audienceSubscriptionModel.audienceSubscriptions[0])||void 0===o?void 0:o.id)!==(null==i?void 0:i.audienceId),n&&c&&(a=this.mapToSyntheticAudienceSubscriptionResponses(n.audienceSubscriptionModel.audienceSubscriptions,this.AUDIENCE_SUBSCRIPTION_RESULT_UNSUBSCRIBED,200),(h=r.responses).push.apply(h,a)),this.manager.onAudiencesSetResolved(r,t.cv),[2,r])}})})},t.prototype.clearAudienceSubscriptionStateQueryParam=function(){var t,e,n;(null===(n=null===(e=null===(t=this.socket)||void 0===t?void 0:t.socket)||void 0===e?void 0:e.options)||void 0===n?void 0:n.query)&&(this.socket.socket.options.query=this.socket.socket.options.query.replace(this.AUDIENCE_SUBSCRIPTION_STATE_QUERY_PARAM_REGEX,""))},t.prototype.handleAudienceUnsubscribeLongpoll=function(t,e){var n;this.audienceSubscriptionState=void 0;var o={responses:[]};if(e){var r=this.mapToSyntheticAudienceSubscriptionResponses(e.audienceSubscriptionModel.audienceSubscriptions,this.AUDIENCE_SUBSCRIPTION_RESULT_UNSUBSCRIBED,200);(n=o.responses).push.apply(n,r)}return this.manager.onAudiencesSetResolved(o,t),o},t.prototype.buildAudienceSubscriptionsTimeoutResponse=function(t){return this.logger.error("Audience subscription attempt has timed out."),{responses:this.mapToSyntheticAudienceSubscriptionResponses(t.audiences,this.AUDIENCE_SUBSCRIPTION_RESULT_TIMEOUT)}},t.prototype.mapToSyntheticAudienceSubscriptionResponses=function(t,e,n){return t.map(function(t){return{audienceId:t.id,result:{audienceSubscriptionState:e,responseStatus:n}}})},t.prototype.expediteBackoff=function(){this.tokenBackoff.expediteIfPending()},t.prototype.sendRegisterRequest=function(){var t=this;if(!this.options.registration||!this.registrarClient)throw new Error("Internal error - options.registration is undefined");if(!this.allocateResult)throw new Error("Allocate result is undefined in sendRegisterRequest()");this.logger.info("sending register request");var e=new l.Timespan;this.connectionTracker.trackStart("registration");var n=this.getRegistrationTtl()[0];this.registrarClient.register({appId:this.options.registration.pnhAppId,aesKey:"",languageId:"en-US",platform:this.options.registration.platform,templateKey:this.options.registration.pnhTemplateKey,platformUIVersion:this.options.registration.platformUIVersion,productContext:this.options.registration.productContext},{TROUTER:[{context:this.options.registration.context,path:this.allocateResult.surl,ttl:n}]}).then(function(){t.logger.info("Register request successful"),t.connectionTracker.trackEnd("registration"),t.fsm.onRegistrationSucceeded(),t.connectionTracker.sendTelemetry(p.ClientEventName.Registration,{duration:e.duration},[])}).catch(function(n){t.logger.error("Register request failed. Error: ".concat(n)),t.connectionTracker.trackError("registration",s(n)),t.fsm.onRegistrationFailed(),t.connectionTracker.sendTelemetry(p.ClientEventName.Registration,{duration:e.duration},[])})},t.prototype.sendUnregisterRequest=function(){var t=this;this.logger.info("sending unregister request");var e=new l.Timespan;if(!this.options.registration||!this.registrarClient)throw new Error("Internal error - options.registration is undefined");this.connectionTracker.trackStart("unregistration"),this.registrarClient.unregister().then(function(){t.logger.info("Unregister request successful"),t.connectionTracker.trackEnd("unregistration"),t.fsm.onUnregistrationDone(),t.connectionTracker.sendTelemetry(p.ClientEventName.Unregistration,{duration:e.duration},[])}).catch(function(n){t.logger.error("Unregister request failed. Error: ".concat(n)),t.connectionTracker.trackError("unregistration",s(n)),t.fsm.onUnregistrationDone(),t.connectionTracker.sendTelemetry(p.ClientEventName.Unregistration,{duration:e.duration},[])})},t.prototype.resetTokenBackoff=function(){this.tokenBackoff.reset()},t.prototype.cancelPendingRegistrationRequests=function(){this.registrarClient&&this.registrarClient.cancelPendingRequests()},t.prototype.clearSentEventTimers=function(){var t=Object.keys(this.pendingSentEventTimers);if(t.length>0){this.logger.debug("Clearing all pending downstream events related timers");for(var e=0,n=t;e<n.length;e++){var o=n[e];this.clearSentEventTimer(Number(o))}}},t.prototype.restartIncallModeTimer=function(){var t=this;this.clearIncallModeTimerId(),this.logger.debug("Restarting incall mode timer"),this.incallModeTimerId=setTimeout(function(){t.logger.info("Call mode timer fired"),t.fsm.onIncallModeTimer()},this.options.incallModeTimeoutMs)},t.prototype.enterIncallMode=function(){this.logger.info("Entering incall mode"),this.timeoutOptions=this.options.incallTimeoutOptions,this.tokenBackoff.setMaxBackoffMs(this.timeoutOptions.maxBackoffMs),this.inIncallMode=!0},t.prototype.exitIncallMode=function(){this.logger.info("Exiting incall mode"),this.clearIncallModeTimerId(),this.timeoutOptions=this.options.timeoutOptions,this.tokenBackoff.setMaxBackoffMs(this.timeoutOptions.maxBackoffMs),this.inIncallMode=!1},t.prototype.isIncallMode=function(){return this.inIncallMode},t.prototype.sendDisconnectTelemetryEvent=function(t){var e={reason:t,serverClosed:!this.fsm.isActive()};this.connectionTracker.trackDisconnected(e),this.connectionTracker.clearConnectedInfo()},t.prototype.forceReconnectDueToNoRegistration=function(){this.fsm.forceReconnect("force reconnect due to no registration")},t.prototype.resetReconnectParamsOnErrorThreshold=function(){this.logger.warn("".concat(this.connectingErrorsInRow," connection attempts, server-side failure: erasing cached connection parameters")),this.reconnectParams=void 0},t.prototype.onSocketConnecting=function(t){this.logger.info("onSocketConnecting(".concat(t,")")),this.transportTypeName=t,this.connectionTracker.trackProgress("connecting",this.transportTypeName),this.fsm.onConnecting()},t.prototype.onSocketConnect=function(t){this.logger.info("onSocketConnect"),this.fsm.onSocketConnect(t)},t.prototype.onSocketConnectFailed=function(t){this.logger.error("onSocketConnectFailed"),this.connectionTracker.trackError("connect_failed",t,!0,this.transportTypeName?this.transportTypeName:this.UNKNOWN_TRANSPORT),this.fsm.onConnectingFailed()},t.prototype.onSocketDisconnect=function(t){var e=this.connectionTracker.getSessionLength()||0,n=f.DisconnectReason.fromRawReason(t);this.logger.error("onSocketDisconnect, reason: ".concat(n.reason)),"dup"===n.reason&&"dup"===this.lastDisconnectReason&&e<this.options.duplicateDisconnectThresholdMs&&(this.logger.warn("Socket was closed by server as Duplicate for the second time in a row "+"after ".concat(e," ms which is below the threshold of ")+"".concat(this.options.duplicateDisconnectThresholdMs," ms. Resetting cached ")+"connection parameters and making a new allocation."),this.reconnectParams=void 0),this.lastDisconnectReason=n.reason,this.fsm.onSocketDisconnect(n),this.connectionExpireTimestampInSecs=void 0},t.prototype.onSocketReconnect=function(){this.logger.error("onSocketReconnect"),this.fsm.onTrouterConnected()},t.prototype.onSocketReconnectFailed=function(t){this.logger.error("onSocketReconnectFailed with '".concat(t,"'")),this.fsm.onSocketDisconnect(f.DisconnectReason.fromSocketIoEventData("reconnecterror",t))},t.prototype.onSocketReconnecting=function(){this.logger.error("onSocketReconnecting")},t.prototype.onSocketError=function(t){this.logger.error("onSocketError with '".concat((0,l.toJson)(t),"'")),this.fsm.isConnecting()&&++this.connectingErrorsInRow>=this.connectingErrorsThreshold&&this.resetReconnectParamsOnErrorThreshold(),this.connectionTracker.trackError("connectSocket",r(t)),this.fsm.onSocketDisconnect(f.DisconnectReason.fromSocketIoEventData("socketerror",t))},t.prototype.onSocketMessage=function(t){var e,n,o=this;this.logger.debug("onSocketMessage");try{n=new E(t,this.logger);var r=null===(e=n.headers)||void 0===e?void 0:e["X-Microsoft-Skype-Chain-ID"],c=r?" Chain-Id ".concat(r):"";this.logger.info("Received request N ".concat(n.id).concat(c," CV ").concat(n.correlationVector," to '").concat(n.url,"'")),n.startTS=Date.now(),n.url&&this.urlPath&&n.url.startsWith(this.urlPath)&&(n.shortUrl=n.url.substring(this.urlPath.length))}catch(t){var a=i(t);return this.logger.error("unable to parse request. Error: ".concat(a)),this.connectionTracker.trackRequest(void 0,a),void this.connectionTracker.sendResponseError("unable to parse request, error: ".concat(t))}n.timeoutTimerId=setTimeout(function(){if(!n.replied){o.logger.error("Request ".concat(n.id," timed out"));var t=new p.ResponseData(n.id);t.status=504,t.headers={"Trouter-Responder":"ClientLib"},o.sendResponse(n,t),n.timedout=!0}},this.timeoutOptions.requestTimeoutMs);try{this.connectionTracker.trackRequest(n),this.fsm.onDownstreamRequest(n)}catch(t){this.logger.error("exception in socket.on message. Error: ".concat(i(t))),this.connectionTracker.sendResponseError(s(t),n,void 0)}},t.prototype.onTrouterConnected=function(t,e,n){var o,r,i,s,a=this;if((0,S.isV4ConnectEvent)(t)){var u=t;this.allocateResult=c(c({},u),{ttl:t.ttl.toString()}),this.populateAndCacheReconnectParams(u,u.reconnectUrl),this.populateConnectionStateFields(u)}else if(!this.allocateResult)return void this.logger.error("Invalid internal state - received onTrouterConnected while allocateResult is not set");this.connectingErrorsInRow=0,this.logger.info("onTrouterConnected: ".concat(this.allocateResult.url)),"xhr-polling"===this.transportTypeName&&e&&this.manager.onUserActivityStateAccepted(e.cv),(null===(i=null===(r=null===(o=this.socket)||void 0===o?void 0:o.socket)||void 0===r?void 0:r.options)||void 0===i?void 0:i.query)&&(this.socket.socket.options.query+="&connected=true"),this.urlPath=this.allocateResult.url.replace(/https?:\/\/([A-z0-9\:\$\-\_\.\+\!\*\"\(\)\,]*)\//,"/");var h=this.connectedUrl!==this.allocateResult.url;this.connectedUrl=this.allocateResult.url,this.connectionExpireTimestampInSecs=(0,l.calculateExpireTsInSec)((0,S.ensureNumber)(t.ttl)),this.connectionTracker.trackEnd("connectSocket"),this.connectionTracker.trackConnected(h,this.transportTypeName?this.transportTypeName:this.UNKNOWN_TRANSPORT),null===(s=this.setAudienceSubscriptionsUnsafeAsync(n))||void 0===s||s.catch(function(t){return a.logger.error("Re-subscribe to audiences has failed with ".concat(t))}),this.fsm.onTrouterConnected()},t.prototype.onTrouterReconnect=function(t){var e=t.target;this.logger.info("onTrouterReconnect target: ".concat(e)),"self"===e?this.fsm.onReconnectRequired(!0,h.ServerInitiated):this.fsm.onReconnectRequired(!1,h.ServerInitiated,t)},t.prototype.onTrouterMessageLoss=function(t){this.logger.debug("onTrouterMessageLoss"),this.fsm.onTrouterMessageLost(t.droppedIndicators)},t.prototype.onAudienceSubscriptionResult=function(t){this.logger.info("onAudienceSubscriptionResult"),this.pendingAudienceSubscription&&(clearTimeout(this.pendingAudienceSubscription.timeoutId),this.pendingAudienceSubscription.audienceSetResolve(t),this.pendingAudienceSubscription=void 0)},t.prototype.buildV4cUrlParams=function(){var t={};return t.tc=encodeURI((0,l.toJson)(this.clientInfo)),t.timeout=Math.floor(this.timeoutOptions.pingTimeoutMs/1e3),this.options.endpointId&&(t.epid=this.options.endpointId),this.appendConnectedClientIds(this.buildQuery(t),!0)},t.prototype.attachSocketIoHandlers=function(t,e,n,o){var r=this;t.on("connecting",function(t){r.onSocketConnecting(t)}),t.on("connect",function(){r.onSocketConnect(e)}),t.on("connect_failed",function(t){r.onSocketConnectFailed(t)}),t.on("close_during_connecting",function(t){r.onSocketConnectFailed(t)}),t.on("disconnect",function(t){r.onSocketDisconnect(t)}),t.on("reconnect",function(){r.onSocketReconnect()}),t.on("reconnect_failed",function(t){r.onSocketReconnectFailed(t)}),t.on("reconnecting",function(){r.onSocketReconnecting()}),t.on("error",function(t){r.onSocketError(t)}),t.on("message",function(t){r.onSocketMessage(t)}),t.on("trouter.connected",function(t){r.onTrouterConnected(t,n,o)}),t.on("trouter.reconnect",function(t){r.onTrouterReconnect(t)}),t.on("trouter.message_loss",function(t){r.onTrouterMessageLoss(t)}),t.on("audience.subscriptionresult",function(t,e){r.onAudienceSubscriptionResult(e)})},t.prototype.onNavigatorOnlineStatusUpdate=function(){var t=window.navigator.onLine;this.logger.debug("Browser online status update - new state: ".concat(t,", previously: ").concat(this.isNavigatorOnline)),t&&!this.isNavigatorOnline?(this.isNavigatorOnline=!0,this.tokenBackoff.expediteIfPending(),this.connectionTracker.trackProgress("browserNet","online")):!t&&this.isNavigatorOnline&&(this.isNavigatorOnline=!1,this.connectionTracker.trackProgress("browserNet","offline"))},t.prototype.onAllocationResponse=function(t,e){this.logger.info("Received allocation response ".concat(JSON.stringify(t))),this.allocateResult=t,this.populateAndCacheReconnectParams(this.allocateResult,"".concat(this.allocateResult.socketio,"v4/a")),this.populateConnectionStateFields(this.allocateResult),this.fsm.onAllocationSucceed(e)},t.prototype.populateAndCacheReconnectParams=function(t,e){this.reconnectParams=c({serviceUrl:this.options.trouterUrl,reconnectUrl:e},t.connectparams),this.manager.onConnectionParametersUpdated(this.reconnectParams)},t.prototype.populateConnectionStateFields=function(t){var e,n,o="string"==typeof t.ttl?parseInt(t.ttl,10):t.ttl;if(this.connectionExpireTimestampInSecs=(0,l.calculateExpireTsInSec)(o),this.connectionId=null!==(e=t.id)&&void 0!==e?e:"",this.connectedClientId=t.ccid,this.logger.debug("connected client id set {connectedClientId:".concat(this.connectedClientId,"}")),this.c2cUrlBase=null!==(n=t.curlb)&&void 0!==n?n:"",""===this.c2cUrlBase){var r=t.surl.indexOf("://");r>=0&&(r=t.surl.indexOf("/",r+3))>=5&&":3443"===t.surl.substr(r-5,5)&&(this.c2cUrlBase=t.surl.substr(0,r-5))}},t.prototype.onPingResponse=function(){this.logger.debug("onPingResponse"),this.connectionTracker.increasePingResponseCount(),this.clearPingResponseTimer(),this.fsm.onPingResponse()},t.prototype.clearPingResponseTimer=function(){void 0!==this.pingResponseTimerId&&(clearTimeout(this.pingResponseTimerId),this.pingResponseTimerId=void 0)},t.prototype.buildQuery=function(t){for(var e=[],n=0,o=Object.keys(t);n<o.length;n++){var r=o[n];void 0!==t[r]&&e.push("".concat(r,"=").concat(t[r]))}return e.join("&")},t.prototype.appendConnectedClientIds=function(t,e){var n="";t.includes("ccid=")||(n="ccid=".concat(this.connectedClientId,"&")),this.domId&&(n+="dom=".concat(this.domId,"&")),n.length>0&&(n=n.slice(0,-1));var o=e||t.includes("?")?"&":"?";return this.appendCorrelationIds(t+o+n,e)},t.prototype.appendEndpointId=function(t,e){var n=e||t.includes("?")?"&":"?";return!t.includes("epid")&&this.options.endpointId?"".concat(t).concat(n,"epid=").concat(this.options.endpointId):t},t.prototype.appendCorrelationIds=function(t,e){var n=e||t.includes("?")?"&":"?";return t.includes("cor_id")?t:"".concat(t).concat(n,"cor_id=").concat(this.options.clientCorrelationID)+"&con_num=".concat(this.clientID,"_").concat(this.connectionAttempt)},t.prototype.safeString=function(t){return"string"==typeof t?t:""},t.prototype.sendResponse=function(t,e){var n,o,r;if(t.timedout)return this.logger.error("Request ".concat(t.id," already timed out")),1;if(t.replied)return this.logger.error("Response for request ".concat(t.id," already sent")),2;clearTimeout(t.timeoutTimerId),t.timeoutTimerId=void 0,t.replied=!0,e.headers=null!==(n=e.headers)&&void 0!==n?n:{};var s=t.correlationVector;this.logger.info("Sending response N ".concat(t.id," CV ").concat(s," with status ").concat(e.status)),s&&(e.headers[C]=s),(null===(o=t.headers)||void 0===o?void 0:o["trouter-request"])&&(e.headers["trouter-request"]=t.headers["trouter-request"]);var c=Date.now()-t.startTS;if(e.headers["trouter-client"]=(0,l.toJson)({cd:c}),(null===(r=t.headers)||void 0===r?void 0:r["trouter-is-broadcast"])&&(e.headers["trouter-is-broadcast"]=t.headers["trouter-is-broadcast"]),this.logger.debug("response: ".concat((0,l.toJson)(e))),!this.socket)return this.connectionTracker.sendResponseError("no socket",t,e),4;try{return this.socket.send((0,l.toJson)(e)),e.sentTS=Date.now(),t.incrementCorrelationVector(),this.connectionTracker.trackResponse(t,c,e),"websocket"===this.transportTypeName&&this.sendPingRequest(),0}catch(n){var a="unable to send data on response.end. Error: ".concat(i(n));return this.logger.error(a),this.connectionTracker.sendResponseError(a,t,e),4}},t.prototype.sendUserActivityStateMultiple=function(t){var e=this,n=new _("user.activity"),o=this.userActivityState.increaseCvAndGetEventObject();n.args=o,this.logger.debug("Sending user activity '".concat(this.userActivityState.toEventJSON(),"', remaining ").concat(t-1));var r=!1;this.sendDownstreamEvent(n,function(){if(!0!==r&&(e.logger.info("User activity state: ".concat(o.state,", cv: ").concat(o.cv," accepted")),e.manager.onUserActivityStateAccepted(o.cv),e.clearSentEventTimer(n.timeoutTimerId),t>1)){var i=setTimeout(function(){e.clearSentEventTimer(i),e.sendUserActivityStateMultiple(t-1)},e.options.userActivitySecondResendDelayMs);e.registerSentEventTimer(i,"user.activity/resend")}}),n.timeoutTimerId=setTimeout(function(){e.logger.error("Activity state response timeout is fired"),r=!0,e.fsm.onActivityStateResponseTimeout(),e.clearSentEventTimer(n.timeoutTimerId)},this.timeoutOptions.userActivityResponseTimeoutMs),this.registerSentEventTimer(n.timeoutTimerId,"user.activity/response")},t.prototype.sendDownstreamEvent=function(t,e){this.logger.debug("Sending downstream event ".concat(t.name)),this.socket&&this.socket.emit(t.name,t.args,e)},t.prototype.registerSentEventTimer=function(t,e){this.logger.debug("registering timer ".concat(t," -> ").concat(e)),this.pendingSentEventTimers[t]=e},t.prototype.clearSentEventTimer=function(t){var e=this.pendingSentEventTimers[t];this.logger.debug("clearing timer ".concat(t," -> ").concat(e)),delete this.pendingSentEventTimers[t],clearTimeout(t)},t.prototype.getRegistrationTtl=function(){var t,e,n=(0,l.calculateTtlInSec)(this.connectionExpireTimestampInSecs);if(this.logger.debug("Current connectionID will expire in ".concat(n," seconds")),(null===(t=this.options.registration)||void 0===t?void 0:t.registrarTtlSec)&&n>0){var o=this.options.registration.registrarTtlSec<n;return[Math.min(this.options.registration.registrarTtlSec,n),o]}return(null===(e=this.options.registration)||void 0===e?void 0:e.registrarTtlSec)?[this.options.registration.registrarTtlSec,!1]:n>0?[n,!1]:[3600,!1]},t.prototype.clearIncallModeTimerId=function(){void 0!==this.incallModeTimerId&&(this.logger.debug("Clearing in-call mode timer"),clearTimeout(this.incallModeTimerId),this.incallModeTimerId=void 0)},t.prototype.applyConnectionTrackerOptions=function(t){try{t.eventLogger&&"function"==typeof t.eventLogger.logEvent?(this.connectionTracker.mergeSettings(t.telemetrySettings),this.connectionTracker.enable(t.eventLogger)):this.logger.warn("Trouter client event logging disabled due to invalid configuration.")}catch(t){this.logger.warn("Trouter client event logging disabled. Error: ".concat(i(t))),this.connectionTracker.disable()}},t.prototype.canRetryTokenFetchRequest=function(t){var e=this.options.retryLimitOnTokenFetch;return null==e||t<e||(this.logger.warn("Reached limit on maximum number of token fetch request. Current count: ".concat(t,", retry limit: ").concat(e)),!1)},t})();e.TrouterConnection=U},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandlerRegistry=void 0;var o=n(1),r=n(0),i=(function(){function t(t){this.messageHandlers=[],this.logger=new r.Logger("MessageHandlers",t)}return t.prototype.register=function(t){if(this.messageHandlers.some(function(e){return e===t}))throw new Error("Registering the same handler twice is not allowed");this.messageHandlers.push(t)},t.prototype.clear=function(){this.logger.debug("Clearing message handlers"),this.messageHandlers=[]},t.prototype.active=function(){return this.messageHandlers.length>0},t.prototype.handleMessage=function(t){for(var e={resultCode:o.UNHANDLED_MESSAGE_ACK,isHandled:!1},n=0,r=this.messageHandlers;n<r.length;n++){var i=r[n],s=this.safeExecuteHandle(i,t);if(void 0!==s&&(void 0===s.isHandled||s.isHandled))return void 0===s.resultCode&&(s.resultCode=o.HANDLED_MESSAGE_ACK),s}return e},t.prototype.safeExecuteHandle=function(t,e){try{return t.handleMessage(e)}catch(t){return void this.logger.warn("Trouter message handler threw an exception: ".concat(t))}},t})();e.MessageHandlerRegistry=i},function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){function r(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{a(o.next(t))}catch(t){i(t)}}function c(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){t.done?n(t.value):r(t.value).then(s,c)}a((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){function n(t){return function(e){return o([t,e])}}function o(n){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,n[0]&&(a=0)),a;)try{if(r=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(s=(s=a.trys).length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(t){n=[6,t],i=0}finally{r=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,i,s,c,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};Object.defineProperty(e,"__esModule",{value:!0}),e.addCacheAsBackupTo=void 0,e.addCacheAsBackupTo=function(t){var e,n=this;return function(i){return o(n,void 0,void 0,function(){return r(this,function(n){return i&&(e=void 0),[2,new Promise(function(n,o){t(i).then(function(t){e=t,n(t)}).catch(function(t){void 0!==e&&e.length>0&&n(e),o(t)})})]})})}}},function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){function r(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{a(o.next(t))}catch(t){i(t)}}function c(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){t.done?n(t.value):r(t.value).then(s,c)}a((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){function n(t){return function(e){return o([t,e])}}function o(n){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,n[0]&&(a=0)),a;)try{if(r=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(s=(s=a.trys).length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(t){n=[6,t],i=0}finally{r=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,i,s,c,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};Object.defineProperty(e,"__esModule",{value:!0}),e.TrouterManager=e.AudienceSubscriptionState=e.UserActivityObject=void 0;var i=n(3),s=n(2),c=n(4),a=n(0),u=n(5),h=n(18),d=n(7),l=n(6),p=n(19),g=(function(){function t(t,e){this.state=t,this.correlationVector=void 0!==e?e:i.CorrelationVector.extend()}return t.prototype.getStateString=function(){switch(this.state){case s.UserActivityState.Active:return"active";case s.UserActivityState.Inactive:return"inactive";case s.UserActivityState.Unknown:return"unknown";default:return"undefined"}},t.prototype.increaseCvAndGetEventObject=function(){return this.correlationVector.increase(),this.toEventObject()},t.prototype.toEventObject=function(){return{state:this.getStateString(),cv:this.correlationVector.value()}},t.prototype.toEventJSON=function(){return(0,i.toJson)(this.toEventObject())},t})();e.UserActivityObject=g;var f=(function(){function t(t,e){void 0===e&&(e=i.CorrelationVector.extend()),this.audienceSubscriptionModel=t,this.correlationVector=e}return t.prototype.increaseCvAndGetEventObject=function(){return this.correlationVector.increase(),this.toEventObject()},t.prototype.toEventObject=function(){return{audiences:this.audienceSubscriptionModel.audienceSubscriptions,cv:this.correlationVector.value()}},t.prototype.toEventJSON=function(){return(0,i.toJson)(this.toEventObject())},t})();e.AudienceSubscriptionState=f;var v=(function(){function t(t,e,n,o,r,c){var h=this;this.logFunc=t,this.options=e,this.tokenProvider=n,this.usingLegacyTokenApi=o,this.listener=r,this.tokenTypeProtocolSelector=function(t,e){return h.options.forceV4aProtocol?"v4a":(0,u.usedProtocol)(t,e)},this.logger=new a.Logger("Manager",t),this.logger.info("Created TrouterManager with options ".concat((0,i.toJson)(this.options))),this.fsm=new p.TrouterManagerFsm(t,this),this.baseEndpointUrl="",this.processedMessageLoss={},this.userActivityObject=new g(s.UserActivityState.Unknown),this.protocolSelector=null!=c?c:this.tokenTypeProtocolSelector.bind(this)}return t.prototype.start=function(){this.fsm.start()},t.prototype.stop=function(t){this.fsm.stop(t)},t.prototype.configure=function(t){this.options=t,void 0!==this.firstConnection&&this.firstConnection.configure(t),void 0!==this.secondConnection&&this.secondConnection.configure(t),this.logger.info("Reconfigured TrouterManager with options ".concat((0,i.toJson)(this.options)))},t.prototype.checkConnection=function(t){void 0!==this.firstConnection&&this.firstConnection.checkConnection(t),void 0!==this.secondConnection&&this.secondConnection.checkConnection(t)},t.prototype.resendRegistration=function(){return o(this,void 0,void 0,function(){return r(this,function(t){return void 0!==this.secondConnection?(this.logger.info("Resending registration on the second/new connection"),[2,this.secondConnection.resendRegistration()]):void 0!==this.firstConnection?(this.logger.info("Resending registration on the first/current connection"),[2,this.firstConnection.resendRegistration()]):(this.logger.info("No connection to resend registration on, will be done upon (re)connect"),[2])})})},t.prototype.getServerState=function(){if(void 0!==this.firstConnection)return this.firstConnection.getServerState()},t.prototype.getState=function(){return this.fsm.getState()},t.prototype.isInTerminalState=function(){return this.fsm.getInternalState()===c.TrouterManagerState.TerminalError},t.prototype.reportStateInfo=function(){var t=this.firstConnection?l.State[this.firstConnection.getState()]:"Unknown",e=c.TrouterManagerState[this.fsm.getInternalState()];if(this.secondConnection){var n=l.State[this.secondConnection.getState()];return"Manager ".concat(e,"; 1st ").concat(t,"; 2nd ").concat(n)}return"Manager ".concat(e,"; Connection ").concat(t)},t.prototype.startFirstConnection=function(){var t=new d.TrouterConnection(this.logFunc,this.options,this.configuredTrouterManager(),this.tokenProvider,this.usingLegacyTokenApi,this.userActivityObject,this.protocolSelector,this.audienceSubscriptionState);this.firstConnection=t,this.getConnectionCache().then(function(e){t.start(e)}).catch(function(){})},t.prototype.startSecondConnection=function(t){var e=new d.TrouterConnection(this.logFunc,this.options,this.configuredTrouterManager(),this.tokenProvider,this.usingLegacyTokenApi,this.userActivityObject,this.protocolSelector,this.audienceSubscriptionState);this.secondConnection=e,void 0!==this.firstConnection&&this.firstConnection.disableRegistrationsAndAutoReconnect(),t?this.getConnectionCache().then(function(t){e.start(t)}).catch(function(){}):e.start()},t.prototype.stopFirstConnection=function(t){void 0!==this.firstConnection&&(this.storedFirstConnection=this.firstConnection,this.firstConnection.stop(t),this.firstConnection=void 0)},t.prototype.stopSecondConnection=function(t){void 0!==this.secondConnection&&(this.secondConnection.stop(t),this.secondConnection=void 0)},t.prototype.stopSecondConnectionDelayed=function(){if(void 0!==this.secondConnection){var t=this.secondConnection;this.secondConnection=void 0,this.logger.info("Closing an inactive connection in ".concat(Math.round(this.options.lingeringConnectionDelayMs/1e3),"s")),setTimeout(function(){t.stop(!0)},this.options.lingeringConnectionDelayMs)}},t.prototype.forceStopLingeringConnection=function(){this.storedFirstConnection&&(this.storedFirstConnection.stop(!1),this.storedFirstConnection=void 0)},t.prototype.switchConnections=function(){var t=this.firstConnection;this.firstConnection=this.secondConnection,this.secondConnection=t},t.prototype.doesSecondConnectionExist=function(){return void 0!==this.secondConnection},t.prototype.dispatchConnected=function(){if(void 0!==this.firstConnection){var t=this.firstConnection.getServerState(),e=t.url.endsWith("/")?t.url.slice(0,-1):t.url,n={baseEndpointUrl:e,newEndpointUrl:e!==this.baseEndpointUrl,c2cUrlBase:t.c2cUrlBase,clientId:t.connectedClientId,connectionId:t.connectionId,connectionTtlSec:t.getRemainingTtlInSec()};this.baseEndpointUrl=e,this.listener.onTrouterConnected(t.url,n)}},t.prototype.dispatchDisconnected=function(){this.listener.onTrouterDisconnected&&this.listener.onTrouterDisconnected()},t.prototype.dispatchTerminalError=function(){this.listener.onTrouterDisconnected&&this.listener.onTrouterDisconnected()},t.prototype.dispatchRegistrationState=function(t){this.options.registrationStateCallback&&this.options.registrationStateCallback(t)},t.prototype.expediteBackoffOnConnections=function(){var t;void 0!==this.lastExpediteBackoffCallAt&&Date.now()-this.lastExpediteBackoffCallAt<(null!==(t=this.options.expediteBackoffOnStartMinimumDelayMs)&&void 0!==t?t:1e4)?this.logger.info("Expedite backoff due to start() too frequent, skipping"):(this.lastExpediteBackoffCallAt=Date.now(),void 0!==this.firstConnection&&this.firstConnection.expediteBackoff(),void 0!==this.secondConnection&&this.secondConnection.expediteBackoff())},t.prototype.onDownstreamRequest=function(t,e,n){var o={id:e.id,method:e.method,path:"/".concat(e.shortUrl),body:e.body,headers:e.headers},r={id:e.id,status:0,headers:{},body:"",send:function(){return r.status<=100||r.status>=999?3:(n.writeHead(r.status,r.headers),n.end(r.body))}};this.listener.onTrouterRequest(o,r)},t.prototype.onConnected=function(t){this.fsm.onConnected(t===this.firstConnection)},t.prototype.onRegistered=function(t){this.fsm.onRegistered(t===this.firstConnection)},t.prototype.onUnregistered=function(t){this.fsm.onUnregistered(t===this.firstConnection||t===this.storedFirstConnection)},t.prototype.onReconnecting=function(t){this.fsm.onReconnecting(t===this.firstConnection)},t.prototype.onReconnectIsRequired=function(t,e,n){this.fsm.onReconnectionRequired(t===this.firstConnection,e,n)},t.prototype.onDisconnected=function(t){this.fsm.onDisconnected(t===this.firstConnection||t==this.storedFirstConnection),this.storedFirstConnection=void 0},t.prototype.onTerminalError=function(){this.fsm.onTerminalError(),this.storedFirstConnection=void 0},t.prototype.onUserActivityStateAccepted=function(t){this.listener.onTrouterUserActivityStateAccepted&&this.listener.onTrouterUserActivityStateAccepted(t)},t.prototype.onAudiencesSetResolved=function(t,e){var n,o;null===(o=(n=this.listener).onAudiencesSetResolved)||void 0===o||o.call(n,t,e)},t.prototype.onConnectionParametersUpdated=function(t){this.setConnectionCache(t)},t.prototype.setUserActivityState=function(t,e){return this.userActivityObject=new g(t,i.CorrelationVector.extend(e)),void 0!==this.secondConnection?(this.logger.info("Setting user activity ".concat(this.userActivityObject.toEventJSON()," on the second/new connection")),void this.secondConnection.setUserActivityState(this.userActivityObject)):void 0!==this.firstConnection?(this.logger.info("Setting user activity ".concat(this.userActivityObject.toEventJSON()," on the first/current connection")),void this.firstConnection.setUserActivityState(this.userActivityObject)):void 0},t.prototype.setAudienceSubscriptionsAsync=function(t,e,n){if(this.audienceSubscriptionState=new f(t,i.CorrelationVector.extend(n)),this.secondConnection)return this.logger.info("Setting audience subscriptions ".concat(this.audienceSubscriptionState.toEventJSON()," on second/new connection")),this.secondConnection.setAudienceSubscriptionsAsync(this.audienceSubscriptionState,e);if(this.firstConnection)return this.logger.info("Setting audience subscriptions ".concat(this.audienceSubscriptionState.toEventJSON()," on first/current connection")),this.firstConnection.setAudienceSubscriptionsAsync(this.audienceSubscriptionState,e);throw new Error("No connection found")},t.prototype.onTrouterMessageLost=function(t){var e=this;if(this.listener.onTrouterMessageLoss)if(null==t?void 0:t.length){var n=t.filter(function(t){return void 0!==e.processedMessageLoss["".concat(t.tag,"-").concat(t.etag)]});if(n.length&&(this.logger.info("onTrouterMessageLoss - immediately acknowledging ".concat(n.length," seen dropped indicators")),this.sendProcessedDroppedIndicators(n),!(t=t.filter(function(t){return void 0===e.processedMessageLoss["".concat(t.tag,"-").concat(t.etag)]})).length))return void this.logger.info("onTrouterMessageLoss - all declared dropped indicators have been seen before");var o=this.listener.onTrouterMessageLoss(t.map(function(t){return t.tag}));if(!o)return void this.logger.warn("onTrouterMessageLoss - some flow tag(s) have not been processed by listeners");t.forEach(function(t){e.processedMessageLoss["".concat(t.tag,"-").concat(t.etag)]=""}),this.sendProcessedDroppedIndicators(t)}else this.logger.warn("onTrouterMessageLoss - no flow tags have been provided")},t.prototype.getConnectionCache=function(){var t=this;return this.options.connectionCache?(this.logger.debug("Querying host's connection cache"),this.options.connectionCache.onGetTrouterConnectionCache().then(function(t){var e=t?JSON.parse(t):void 0;return"object"==typeof e?e:void 0}).catch(function(e){return t.logger.warn("Invalid connection cache content provided: ".concat(e)),t.connectionCache})):Promise.resolve(this.connectionCache)},t.prototype.setConnectionCache=function(t){if(this.connectionCache=t,this.options.connectionCache)try{this.options.connectionCache.onSetTrouterConnectionCache(JSON.stringify(t))}catch(t){this.logger.warn("Error setting external connection cache: ".concat(t))}},t.prototype.sendProcessedDroppedIndicators=function(t){return void 0!==this.firstConnection?void this.firstConnection.sendProcessedDroppedIndicators(t):void 0!==this.secondConnection?void this.secondConnection.sendProcessedDroppedIndicators(t):void 0},t.prototype.configuredTrouterManager=function(){return new h.RegistrationEnforcer(this,this.options.connectionDependsOnRegistration,this.options.delayEventsUntilRegistered)},t})();e.TrouterManager=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.TrouterUrlPromise=void 0;var o=n(0),r=(function(){function t(t){this.logger=new o.Logger("UrlPromise",t)}return t.prototype.getPromise=function(){var t=this;return void 0!==this.url?(this.logger.debug("returning previously resolved url: ".concat(this.url)),Promise.resolve(this.url)):(void 0===this.pendingPromise?(this.logger.debug("creating and returning promise"),this.pendingPromise=new Promise(function(e,n){t.pendingPromiseResolveRef=e,t.pendingPromiseRejectRef=n})):this.logger.debug("returning existing promise"),this.pendingPromise)},t.prototype.resolveUrl=function(t){this.url=t,this.logger.debug("got url: ".concat(this.url));var e=this.pendingPromiseResolveRef;this.pendingPromise=void 0,this.pendingPromiseResolveRef=void 0,this.pendingPromiseRejectRef=void 0,void 0!==e&&(this.logger.debug("resolving promise"),e(t))},t.prototype.rejectUrl=function(t){this.logger.debug("aborting");var e=this.pendingPromiseRejectRef;this.url=void 0,this.pendingPromise=void 0,this.pendingPromiseResolveRef=void 0,this.pendingPromiseRejectRef=void 0,void 0!==e&&(this.logger.debug("rejecting promise"),e(t))},t.prototype.resetUrl=function(){this.logger.debug("resetting url"),this.url=void 0},t})();e.TrouterUrlPromise=r},function(t,e,n){(function(t,n){!(function(t,e){var n=t;n.version="0.9.6",n.protocol=1,n.transports=[],n.j=[],n.sockets={},n.connect=function(t,o){var r,i,s=n.util.parseUri(t);e&&e.location&&(s.protocol=s.protocol||e.location.protocol.slice(0,-1),s.host=s.host||(e.document?e.document.domain:e.location.hostname),s.port=s.port||e.location.port),r=n.util.uniqueUri(s);var c={host:s.host,secure:"https"==s.protocol,port:s.port||("https"==s.protocol?443:80),query:s.query||""};return n.util.merge(c,o),!c["force new connection"]&&n.sockets[r]||(i=new n.Socket(c)),!c["force new connection"]&&i&&(n.sockets[r]=i),i=i||n.sockets[r],c["skipped handshake data"]?i.of(""):i.of(s.path.length>1?s.path:"")}})(n.exports,void 0===t?window:t);var o=n.exports;!(function(t,e){var n=t.util={},o=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];n.parseUri=function(t){for(var e=o.exec(t||""),n={},i=14;i--;)n[r[i]]=e[i]||"";return n},n.uniqueUri=function(t){var n=t.protocol,o=t.host,r=t.port;return"document"in e?(o=o||document.domain,r=r||("https"==n&&"https:"!==document.location.protocol?443:document.location.port)):(o=o||"localhost",r||"https"!=n||(r=443)),(n||"http")+"://"+o+":"+(r||80)},n.query=function(t,e){var o=n.chunkQuery(t||""),r=[];for(var i in n.merge(o,n.chunkQuery(e||"")),o)o.hasOwnProperty(i)&&r.push(i+"="+o[i]);return r.length?"?"+r.join("&"):""},n.chunkQuery=function(t){for(var e,n={},o=t.split("&"),r=0,i=o.length;r<i;++r)(e=o[r].split("="))[0]&&(n[e[0]]=e[1]);return n};var i=!1;n.load=function(t){if("document"in e&&"complete"===document.readyState||i)return t();n.on(e,"load",t,!1)},n.on=function(t,e,n,o){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener&&t.addEventListener(e,n,o)},n.request=function(t){if(t&&"undefined"!=typeof XDomainRequest)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&(!t||n.ua.hasCORS))return new XMLHttpRequest;if(!t)try{return new(window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}return null},"undefined"!=typeof window&&n.load(function(){i=!0}),n.defer=function(t){if(!n.ua.webkit||"undefined"!=typeof importScripts)return t();n.load(function(){setTimeout(t,100)})},n.merge=function(t,e,o,r){var i,s=r||[],c=void 0===o?2:o;for(i in e)e.hasOwnProperty(i)&&n.indexOf(s,i)<0&&("object"==typeof t[i]&&c?n.merge(t[i],e[i],c-1,s):(t[i]=e[i],s.push(e[i])));return t},n.mixin=function(t,e){n.merge(t.prototype,e.prototype)},n.inherit=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n},n.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},n.intersect=function(t,e){for(var o=[],r=t.length>e.length?t:e,i=t.length>e.length?e:t,s=0,c=i.length;s<c;s++)~n.indexOf(r,i[s])&&o.push(i[s]);return o},n.indexOf=function(t,e,n){for(var o=t.length,n=n<0?n+o<0?0:n+o:n||0;n<o&&t[n]!==e;n++);return o<=n?-1:n},n.toArray=function(t){for(var e=[],n=0,o=t.length;n<o;n++)e.push(t[n]);return e},n.ua={},n.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&(function(){try{var t=new XMLHttpRequest}catch(t){return!1}return null!=t.withCredentials})(),n.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent)})(void 0!==o?o:n.exports,void 0===t?window:t),(function(t,e){function n(){}t.EventEmitter=n,n.prototype.on=function(t,n){return this.$events||(this.$events={}),this.$events[t]?e.util.isArray(this.$events[t])?this.$events[t].push(n):this.$events[t]=[this.$events[t],n]:this.$events[t]=n,this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(t,e){function n(){o.removeListener(t,n),e.apply(this,arguments)}var o=this;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,n){if(this.$events&&this.$events[t]){var o=this.$events[t];if(e.util.isArray(o)){for(var r=-1,i=0,s=o.length;i<s;i++)if(o[i]===n||o[i].listener&&o[i].listener===n){r=i;break}if(r<0)return this;o.splice(r,1),o.length||delete this.$events[t]}else(o===n||o.listener&&o.listener===n)&&delete this.$events[t]}return this},n.prototype.removeAllListeners=function(t){return this.$events&&this.$events[t]&&(this.$events[t]=null),this},n.prototype.listeners=function(t){return this.$events||(this.$events={}),this.$events[t]||(this.$events[t]=[]),e.util.isArray(this.$events[t])||(this.$events[t]=[this.$events[t]]),this.$events[t]},n.prototype.emit=function(t){if(!this.$events)return!1;var n=this.$events[t];if(!n)return!1;var o=Array.prototype.slice.call(arguments,1);if("function"==typeof n)n.apply(this,o);else{if(!e.util.isArray(n))return!1;for(var r=n.slice(),i=0,s=r.length;i<s;i++)r[i].apply(this,o)}return!0}})(void 0!==o?o:n.exports,void 0!==o?o:n.parent.exports),(function(t,e){if(e&&e.parse)return t.JSON={parse:e.parse,stringify:e.stringify};throw new Error("JSON not available")})(void 0!==o?o:n.exports,"undefined"!=typeof JSON?JSON:void 0),(function(t,e){var n=t.parser={},o=n.packets=["disconnect","connect","heartbeat","message","json","event","ack","error","noop"],r=n.reasons=["transport not supported","client not handshaken","unauthorized"],i=n.advice=["reconnect"],s=e.JSON,c=e.util.indexOf;n.encodePacket=function(t){var e=c(o,t.type),n=t.id||"",a=t.endpoint||"",u=t.ack,h=null;switch(t.type){case"error":var d=t.reason?c(r,t.reason):"",l=t.advice?c(i,t.advice):"";""===d&&""===l||(h=d+(""!==l?"+"+l:""));break;case"message":""!==t.data&&(h=t.data);break;case"event":var p={name:t.name};t.args&&t.args.length&&(p.args=t.args),h=s.stringify(p);break;case"json":h=s.stringify(t.data);break;case"connect":t.qs&&(h=t.qs);break;case"ack":h=t.ackId+(t.args&&t.args.length?"+"+s.stringify(t.args):"")}var g=[e,n+("data"==u?"+":""),a];return null!=h&&g.push(h),g.join(":")},n.encodePayload=function(t){var e="";if(1==t.length)return t[0];for(var n=0,o=t.length;n<o;n++)e+="\ufffd"+t[n].length+"\ufffd"+t[n];return e};var a=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;n.decodePacket=function(t){var e=t.match(a);if(!e)return{};var n=e[2]||"",t=e[5]||"",c={type:o[e[1]],endpoint:e[4]||""};switch(n&&(c.id=n,e[3]?c.ack="data":c.ack=!0),c.type){case"error":var e=t.split("+");c.reason=r[e[0]]||"",c.advice=i[e[1]]||"";break;case"message":c.data=t||"";break;case"event":try{var u=s.parse(t);c.name=u.name,c.args=u.args}catch(t){}c.args=c.args||[];break;case"json":try{c.data=s.parse(t)}catch(t){}break;case"connect":c.qs=t||"";break;case"ack":var e=t.match(/^([0-9]+)(\+)?(.*)/);if(e&&(c.ackId=e[1],c.args=[],e[3]))try{c.args=e[3]?s.parse(e[3]):[]}catch(t){}break;case"disconnect":c.reason=t}return c},n.decodePayload=function(t){if("\ufffd"==t.charAt(0)){for(var e=[],o=1,r="";o<t.length;o++)"\ufffd"==t.charAt(o)?(e.push(n.decodePacket(t.substr(o+1).substr(0,r))),o+=Number(r)+1,r=""):r+=t.charAt(o);return e}return[n.decodePacket(t)]}})(void 0!==o?o:n.exports,void 0!==o?o:n.parent.exports),(function(t,e){function n(t,e){this.socket=t,this.sessid=e,this.connectErrorCallback=void 0,this.isOpened=!1}t.Transport=n,e.util.mixin(n,e.EventEmitter),n.prototype.onData=function(t){if(this.clearCloseTimeout(),(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout(),""!==t){var n=e.parser.decodePayload(t);if(n&&n.length)for(var o=0,r=n.length;o<r;o++)this.onPacket(n[o])}return this},n.prototype.onPacket=function(t){return this.socket.setHeartbeatTimeout(),"heartbeat"==t.type?this.onHeartbeat():("connect"==t.type&&""==t.endpoint&&this.onConnect(),"error"==t.type&&"reconnect"==t.advice&&(this.isOpened=!1),this.socket.onPacket(t),this)},n.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var t=this;this.closeTimeout=setTimeout(function(){t.onDisconnect()},this.socket.closeTimeout)}},n.prototype.onDisconnect=function(){return this.close&&this.isOpened&&this.close(),this.clearTimeouts(),this.socket.onDisconnect(),this},n.prototype.onConnect=function(){return this.socket.onConnect(),this.connectErrorCallback=void 0,this},n.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)},n.prototype.clearTimeouts=function(){this.clearCloseTimeout(),this.reopenTimeout&&clearTimeout(this.reopenTimeout)},n.prototype.packet=function(t){this.send(e.parser.encodePacket(t))},n.prototype.onHeartbeat=function(t){this.packet({type:"heartbeat"})},n.prototype.onOpen=function(){this.isOpened=!0,this.clearCloseTimeout(),this.socket.onOpen()},n.prototype.onClose=function(){this.isOpened=!1,this.socket.onClose(),this.onDisconnect()},n.prototype.prepareUrl=function(t){var n=this.socket.options;if(n["skipped handshake data"])return n.rewriteUrlForProxy(n["skipped handshake data"].websocketUrl+(t||""));var o=this.scheme()+"://"+n.host+":"+n.port+"/"+n.resource+"/"+e.protocol+"/"+this.name+"/"+this.sessid+(t||"");return n.rewriteUrlForProxy(o)},n.prototype.ready=function(t,e){e.call(this)},n.prototype.clearEventHandlers=function(){return this}})(void 0!==o?o:n.exports,void 0!==o?o:n.parent.exports),(function(t,e,n){function o(t){if(this.options={port:80,secure:!1,document:"document"in n&&document,resource:"socket.io",transports:e.transports.slice(),"connect timeout":1e4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":1/0,"reopen delay":3e3,"max reconnection attempts":10,"sync disconnect on unload":!0,"auto connect":!0,"flash policy port":10843},e.util.merge(this.options,t),this.connected=!1,this.open=!1,this.connecting=!1,this.reconnecting=!1,this.namespaces={},this.buffer=[],this.doBuffer=!1,this.disconnected=!1,this.options["sync disconnect on unload"]&&(!this.isXDomain()||e.util.ua.hasCORS)){var o=this;e.util.on(n,"unload",function(){o.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()}function r(){}t.Socket=o,e.util.mixin(o,e.EventEmitter),o.prototype.of=function(t){return this.namespaces[t]||(this.namespaces[t]=new e.SocketNamespace(this,t),""!==t&&this.namespaces[t].packet({type:"connect"})),this.namespaces[t]},o.prototype.publish=function(){var t;for(var e in this.emit.apply(this,arguments),this.namespaces)this.namespaces.hasOwnProperty(e)&&(t=this.of(e)).$emit.apply(t,arguments)},o.prototype.handshake=function(t){function n(e){e instanceof Error?o.onError(e.message):t.apply(null,e.split(":"))}var o=this,i=this.options;if(!o.disconnected){var s=i.rewriteUrlForProxy(["http"+(i.secure?"s":"")+":/",i.host+":"+i.port,i.resource,e.protocol,e.util.query(this.options.query,"t="+ +new Date)].join("/"));if(this.isXDomain()&&!e.util.ua.hasCORS){var c=document.getElementsByTagName("script")[0],a=document.createElement("script");a.src=s+"&jsonp="+e.j.length,c.parentNode.insertBefore(a,c),e.j.push(function(t){n(t),a.parentNode.removeChild(a)})}else{var u=e.util.request();u.open("GET",s,!0);var h=this.options.requestHeaders;void 0!==h&&Object.keys(h).forEach(function(t){u.setRequestHeader(t,h[t])}),u.onreadystatechange=function(){4==u.readyState&&(u.onreadystatechange=r,200==u.status?n(u.responseText):!o.reconnecting&&o.onError(u.responseText))},u.send(null)}}},o.prototype.getTransport=function(t){for(var n,o=t||this.transports,r=0;n=o[r];r++)if(e.Transport[n]&&e.Transport[n].check(this)&&(!this.isXDomain()||e.Transport[n].xdomainCheck()))return new e.Transport[n](this,this.sessionid);return null},o.prototype.connect=function(t){if(this.connecting||this.disconnected)return this;var n=this,o=function(o,r,i,s){function c(){if(!n.connected&&!n.disconnected)if(n.connecting=!1,clearTimeout(n.connectTimeoutTimer),n.options["try multiple transports"]){for(;n.remainingTransports.length>0&&n.remainingTransports.splice(0,1)[0]!=n.transport.name;);n.remainingTransports.length?a(n.remainingTransports):n.publish("connect_failed")}else n.publish("connect_failed")}function a(t){if(n.transport&&(n.transport.clearTimeouts(),n.transport.clearEventHandlers()),n.transport=n.getTransport(t),!n.transport||n.disconnected)return n.publish("connect_failed");n.transport.ready(n,function(){n.connecting=!0,n.publish("connecting",n.transport.name),n.transport.open(c),n.options["connect timeout"]&&(n.connectTimeoutTimer=setTimeout(function(){c()},n.options["connect timeout"]))})}n.sessionid=o,n.closeTimeout=1e3*i+2e3,n.heartbeatTimeout=1e3*r+2e3,n.transports=s?e.util.intersect(s.split(","),n.options.transports):n.options.transports,n.setHeartbeatTimeout(),n.remainingTransports=n.transports.slice(0),a(n.transports),n.once("connect",function(){clearTimeout(n.connectTimeoutTimer),t&&"function"==typeof t&&t()})};if(this.options["skipped handshake data"]){var r=this.options["skipped handshake data"];o("v4c-"+(new Date).getTime(),r.timeout,r.timeout,"websocket")}else this.handshake(o);return this},o.prototype.setHeartbeatTimeout=function(){clearTimeout(this.heartbeatTimeoutTimer);var t=this;this.heartbeatTimeoutTimer=setTimeout(function(){t.transport.onClose()},this.heartbeatTimeout)},o.prototype.packet=function(t){return this.connected&&!this.doBuffer?this.transport.packet(t):this.buffer.push(t),this},o.prototype.setBuffer=function(t){this.doBuffer=t,!t&&this.connected&&this.buffer.length&&(this.transport.payload(this.buffer),this.buffer=[])},o.prototype.disconnect=function(){return(this.connected||this.connecting)&&(this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted")),this.disconnected=!0,this},o.prototype.disconnectSync=function(){var t=e.util.request(),n=this.resource+"/"+e.protocol+"/"+this.sessionid;t.open("GET",n,!0),this.onDisconnect("booted")},o.prototype.isXDomain=function(){var t=n.location.port||("https:"==n.location.protocol?443:80);return this.options.host!==n.location.hostname||this.options.port!=t},o.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))},o.prototype.onOpen=function(){this.open=!0},o.prototype.onClose=function(){this.open=!1,clearTimeout(this.heartbeatTimeoutTimer)},o.prototype.onPacket=function(t){this.of(t.endpoint).onPacket(t)},o.prototype.onError=function(t){t&&t.advice&&"reconnect"===t.advice&&(this.connected||this.connecting)&&(this.disconnect(),this.options.reconnect&&this.reconnect()),this.publish("error",t&&t.reason?t.reason:t)},o.prototype.onDisconnect=function(t){var e=this.connected,n=this.connecting;this.connected=!1,this.connecting=!1,this.open=!1,(e||n)&&(this.transport.close(),this.transport.clearTimeouts(),e?(this.publish("disconnect",t),"booted"!=t&&this.options.reconnect&&!this.reconnecting&&this.reconnect()):this.publish("close_during_connecting",t))},o.prototype.reconnect=function(){function t(){if(n.connected){for(var t in n.namespaces)n.namespaces.hasOwnProperty(t)&&""!==t&&n.namespaces[t].packet({type:"connect"});n.publish("reconnect",n.transport.name,n.reconnectionAttempts)}clearTimeout(n.reconnectionTimer),n.removeListener("connect_failed",e),n.removeListener("connect",e),n.reconnecting=!1,delete n.reconnectionAttempts,delete n.reconnectionDelay,delete n.reconnectionTimer,delete n.redoTransports,n.options["try multiple transports"]=r}function e(){if(n.reconnecting)return n.connected?t():n.connecting&&n.reconnecting?n.reconnectionTimer=setTimeout(e,1e3):void(n.reconnectionAttempts++>=o?n.redoTransports?(n.publish("reconnect_failed"),t()):(n.on("connect_failed",e),n.options["try multiple transports"]=!0,n.transport=n.getTransport(),n.redoTransports=!0,n.connect()):(n.reconnectionDelay<i&&(n.reconnectionDelay*=2),n.connect(),n.publish("reconnecting",n.reconnectionDelay,n.reconnectionAttempts),n.reconnectionTimer=setTimeout(e,n.reconnectionDelay)))}this.reconnecting=!0,this.reconnectionAttempts=0,this.reconnectionDelay=this.options["reconnection delay"];var n=this,o=this.options["max reconnection attempts"],r=this.options["try multiple transports"],i=this.options["reconnection limit"];this.options["try multiple transports"]=!1,this.reconnectionTimer=setTimeout(e,this.reconnectionDelay),this.on("connect",e)}})(void 0!==o?o:n.exports,void 0!==o?o:n.parent.exports,void 0===t?window:t),(function(t,e){function n(t,e){this.socket=t,this.name=e||"",this.flags={},this.json=new o(this,"json"),this.ackPackets=0,this.acks={}}function o(t,e){this.namespace=t,this.name=e}t.SocketNamespace=n,e.util.mixin(n,e.EventEmitter),n.prototype.$emit=e.EventEmitter.prototype.emit,n.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)},n.prototype.packet=function(t){return t.endpoint=this.name,this.socket.packet(t),this.flags={},this},n.prototype.send=function(t,e){var n={type:this.flags.json?"json":"message",data:t};return"function"==typeof e&&(n.id=++this.ackPackets,n.ack=!0,this.acks[n.id]=e),this.packet(n)},n.prototype.emit=function(t){var e=Array.prototype.slice.call(arguments,1),n=e[e.length-1],o={type:"event",name:t};return"function"==typeof n&&(o.id=++this.ackPackets,o.ack="data",this.acks[o.id]=n,e=e.slice(0,e.length-1)),o.args=e,this.packet(o)},n.prototype.disconnect=function(){return""===this.name?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect")),this},n.prototype.onPacket=function(t){function n(){o.packet({type:"ack",args:e.util.toArray(arguments),ackId:t.id})}var o=this;switch(t.type){case"connect":this.$emit("connect");break;case"disconnect":""===this.name?this.socket.onDisconnect(t.reason||"booted"):this.$emit("disconnect",t.reason||"");break;case"message":case"json":var r=["message",t.data];"data"==t.ack?r.push(n):t.ack&&this.packet({type:"ack",ackId:t.id}),this.$emit.apply(this,r);break;case"event":var r=[t.name].concat(t.args);"data"==t.ack&&r.push(n),this.$emit.apply(this,r);break;case"ack":this.acks[t.ackId]&&(this.acks[t.ackId].apply(this,t.args),delete this.acks[t.ackId]);break;case"error":t.advice?this.socket.onError(t):"unauthorized"==t.reason?this.$emit("connect_failed",t.reason):this.$emit("error",t.reason)}},o.prototype.send=function(){this.namespace.flags[this.name]=!0,this.namespace.send.apply(this.namespace,arguments)},o.prototype.emit=function(){this.namespace.flags[this.name]=!0,this.namespace.emit.apply(this.namespace,arguments)}})(void 0!==o?o:n.exports,void 0!==o?o:n.parent.exports),(function(t,e,n){function o(t){e.Transport.apply(this,arguments)}function r(){}t.websocket=o,e.util.inherit(o,e.Transport),o.prototype.name="websocket",o.prototype.open=function(t){var o,r=e.util.query(this.socket.options.query),i=this;return this.connectErrorCallback=t,o||(o=n.MozWebSocket||n.WebSocket),this.websocket=new o(this.prepareUrl(r)),this.websocket.onopen=function(){i.onOpen(),i.socket.setBuffer(!1)},this.websocket.onmessage=function(t){i.onData(t.data)},this.websocket.onclose=function(){i.onClose(),i.socket.setBuffer(!0)},this.websocket.onerror=function(t){i.onError(t)},this},o.prototype.send=function(t){return this.websocket.send(t),this},o.prototype.payload=function(t){for(var e=0,n=t.length;e<n;e++)this.packet(t[e]);return this},o.prototype.close=function(){return this.websocket.close(),this},o.prototype.onError=function(t){void 0!==this.connectErrorCallback&&(this.connectErrorCallback(),this.connectErrorCallback=void 0),this.socket.onError(t)},o.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"},o.check=function(){return"WebSocket"in n&&!("__addTask"in WebSocket)||"MozWebSocket"in n},o.xdomainCheck=function(){return!0},o.prototype.clearEventHandlers=function(){return this.websocket&&(this.websocket.onopen=this.websocket.onmessage=this.websocket.onclose=this.websocket.onerror=r),this},e.transports.push("websocket")})(void 0!==o?o.Transport:n.exports,void 0!==o?o:n.parent.exports,void 0===t?window:t),(function(t,e,n){function o(t){t&&e.Transport.apply(this,arguments)}function r(){}t.XHR=o,e.util.inherit(o,e.Transport),o.prototype.open=function(){return this.socket.setBuffer(!1),this.onOpen(),this.get(),this.setCloseTimeout(),this},o.prototype.payload=function(t){for(var n=[],o=0,r=t.length;o<r;o++)n.push(e.parser.encodePacket(t[o]));this.send(e.parser.encodePayload(n))},o.prototype.send=function(t){return this.post(t),this},o.prototype.post=function(t){var e=this;this.socket.setBuffer(!0),this.sendXHR=this.request("POST"),n.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=function(){this.onload=r,e.socket.setBuffer(!1)}:this.sendXHR.onreadystatechange=function(){4==this.readyState&&(this.onreadystatechange=r,200==this.status?(clearTimeout(this.ackTimeoutTimer),e.socket.setBuffer(!1)):e.onClose())},this.sendXHR.send(t),e.sendXHR.ackTimeoutTimer=setTimeout(function(){e.onClose()},e.socket.options.ackTimeoutMs)},o.prototype.close=function(){return this.onClose(),this},o.prototype.request=function(t){var n=e.util.request(this.socket.isXDomain()),o=e.util.query(this.socket.options.query,"t="+ +new Date);n.open(t||"GET",this.prepareUrl(o),!0);var r=this.socket.options.requestHeaders;if(void 0!==r&&Object.keys(r).forEach(function(t){n.setRequestHeader(t,r[t])}),"POST"==t)try{n.setRequestHeader?n.setRequestHeader("Content-type","text/plain;charset=UTF-8"):n.contentType="text/plain"}catch(t){}return n},o.prototype.scheme=function(){return this.socket.options.secure?"https":"http"},o.check=function(t,o){try{var r=e.util.request(o),i=n.XDomainRequest&&r instanceof XDomainRequest,s=t&&t.options&&t.options.secure?"https:":"http:",c=s!=n.location.protocol;if(r&&(!i||!c))return!0}catch(t){}return!1},o.xdomainCheck=function(){return o.check(null,!0)},o.prototype.clearEventHandlers=function(){return this.sendXHR&&(this.sendXHR.onreadystatechange=this.sendXHR.onload=r),this}})(void 0!==o?o.Transport:n.exports,void 0!==o?o:n.parent.exports,void 0===t?window:t),(function(t,e,n){function o(){e.Transport.XHR.apply(this,arguments)}function r(){}t["xhr-polling"]=o,e.util.inherit(o,e.Transport.XHR),e.util.merge(o,e.Transport.XHR),o.prototype.name="xhr-polling",o.prototype.open=function(t){return this.connectErrorCallback=t,e.Transport.XHR.prototype.open.call(this),!1},o.prototype.get=function(){if(this.isOpened){var t=this;this.xhr=this.request(),n.XDomainRequest&&this.xhr instanceof XDomainRequest?(this.xhr.onload=function(){t.connectErrorCallback=void 0,this.onload=r,this.onerror=r,t.onData(this.responseText),t.get()},this.xhr.onerror=function(){t.onClose(),void 0!==t.connectErrorCallback&&(t.connectErrorCallback(),t.connectErrorCallback=void 0)}):this.xhr.onreadystatechange=function(){4==this.readyState&&(this.onreadystatechange=r,200==this.status?(t.connectErrorCallback=void 0,t.onData(this.responseText),t.get()):(t.onClose(),void 0!==t.connectErrorCallback&&(t.connectErrorCallback(),t.connectErrorCallback=void 0)))},this.xhr.send(null)}},o.prototype.onClose=function(){if(e.Transport.XHR.prototype.onClose.call(this),this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=r;try{this.xhr.abort()}catch(t){}this.xhr=null}},o.prototype.ready=function(t,n){var o=this;e.util.defer(function(){n.call(o)})},o.prototype.clearEventHandlers=function(){return e.Transport.XHR.prototype.clearEventHandlers.call(this),this.xhr&&(this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=r),this},e.transports.push("xhr-polling")})(void 0!==o?o.Transport:n.exports,void 0!==o?o:n.parent.exports,void 0===t?window:t),e.io=o}).call(e,n(13),n(14)(t))},function(t,e){var n;n=(function(){return this})();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionTracker=e.Properties=e.TrackerStep=e.ClientEventName=e.ResponseData=void 0;var o,r=n(3),i=n(1),s=n(0),c=function(t){this.id=t,this.status=200,this.headers={},this.body=""};e.ResponseData=c,(function(t){t.Connected="trouter_js_client_connected",t.Disconnected="trouter_js_client_disconnected",t.Error="trouter_js_client_error",t.Progress="trouter_js_client_progress",t.Response="trouter_js_client_response",t.Request="trouter_js_client_request",t.CheckConnection="trouter_js_client_check_connection",t.Registration="trouter_js_client_registration",t.Unregistration="trouter_js_client_unregistration"})(o||(e.ClientEventName=o={}));var a=function(t,e,n,o,r){this.stepName=t,this.operation=e,this.delta=n,this.ts=o,this.error=r};e.TrackerStep=a;var u=function(){};e.Properties=u;var h=function(){this.numberOfPingReplies=0,this.connectedTimestamp=0,this.isNewUrl=!1,this.transportType="",this.connectionNumber=0},d=function(){this.enabled=!1,this.numberOfStepsToMaintain=40,this.logHealthCheckError=!1,this.sendProgressTimeoutSecs=55,this.logSendPingError=!1,this.maxBackoffInMs=12e4,this.trouter_js_client_connected=!1,this.trouter_js_client_disconnected=!1,this.trouter_js_client_error=!1,this.trouter_js_client_progress=!1,this.trouter_js_client_response=!1,this.trouter_js_client_request=!1,this.trouter_js_client_registration=!1,this.trouter_js_client_unregistration=!1,this.trouter_js_client_check_connection=!0},l=(function(){function t(t,e,n,o,i,c,a){this.clientId=e,this.clientInfo=n,this.getServerState=o,this.endpointId=i,this.clientCorrelationID=c,this.environment=a,this.logger=new s.Logger("ConnectionTracker",t),this.clientCorrelationID=void 0!==c?c:"",this.steps=[],this.connectionAttempt=0,this.totalStepCount=0,this.beginTimestamp=new r.Timespan,this.eventLogSettings=new d,this.connectedInfo=new h}return t.prototype.enable=function(t){this.eventLogSettings.enabled=!0,this.eventLogger=t},t.prototype.disable=function(){this.eventLogSettings.enabled=!1},t.prototype.sendProgress=function(t){this.steps.length>0&&this.sendTelemetry(o.Progress,t,this.steps)},t.prototype.cancelProgressTimer=function(){void 0!==this.progressTimeout&&(clearTimeout(this.progressTimeout),this.progressTimeout=void 0)},t.prototype.resetProgressSendTimer=function(){var t=this;this.cancelProgressTimer(),void 0!==this.eventLogSettings.sendProgressTimeoutSecs&&this.eventLogSettings.sendProgressTimeoutSecs>0&&(this.progressTimeout=setTimeout(function(){t.sendProgress({reason:"timeout",timeoutSecs:t.eventLogSettings.sendProgressTimeoutSecs})},1e3*this.eventLogSettings.sendProgressTimeoutSecs))},t.prototype.setConnectedInfo=function(t,e){this.connectedInfo.numberOfPingReplies=0,this.connectedInfo.connectedTimestamp=Date.now(),this.connectedInfo.isNewUrl=t,this.connectedInfo.transportType=e,++this.connectedInfo.connectionNumber},t.prototype.clearConnectedInfo=function(){this.connectedInfo.numberOfPingReplies=0,this.connectedInfo.connectedTimestamp=0,this.connectedInfo.isNewUrl=!0,this.connectedInfo.transportType=""},t.prototype.copyProperties=function(t,e){for(var n=0,o=Object.keys(e);n<o.length;n++){var r=o[n];void 0!==e[r]&&(t[r.replace(/-/g,"_")]={value:e[r]})}},t.prototype.increasePingResponseCount=function(){++this.connectedInfo.numberOfPingReplies},t.prototype.sendTelemetry=function(t,e,n){try{if(!0===this.eventLogSettings.enabled&&!0===this.eventLogSettings[t]&&void 0!==this.eventLogger){var o=this.getServerState(),s={name:t,properties:{connectionAttempt:{value:this.connectionAttempt},epid:{value:this.endpointId},clientCorrelationID:{value:this.clientCorrelationID},steps:{value:(0,r.toJson)(n)},clientID:{value:this.clientId},eventVersion:{value:3},environment:{value:this.environment},cv:{value:i.CLIENT_VERSION},ua:{value:this.clientInfo.ua},connectionId:{value:o.connectionId},connectedClientId:{value:o.connectedClientId},domId:{value:o.domId},url:{value:o.unsecureUrl},surl:{value:o.url},ttlInSecs:{value:o.getRemainingTtlInSec()},numberOfPingReplies:{value:this.connectedInfo.numberOfPingReplies},connectedTimestamp:{value:this.connectedInfo.connectedTimestamp},isNewUrl:{value:this.connectedInfo.isNewUrl},transportType:{value:this.connectedInfo.transportType},connectionNumber:{value:this.connectedInfo.connectionNumber}}};this.copyProperties(s.properties,e),this.eventLogger.logEvent(s)}}catch(e){this.logger.warn("error in sending event ".concat(t,": ").concat((0,r.toJson)(e)))}},t.prototype.createStep=function(t,e,n){return new a(t,e,this.beginTimestamp.duration,Date.now(),n)},t.prototype.addStep=function(t,e,n){if(!1!==this.eventLogSettings.enabled&&(0===this.steps.length&&this.beginTimestamp.reset(),this.steps.push(this.createStep(t,e,n)),++this.totalStepCount,void 0!==this.eventLogSettings.numberOfStepsToMaintain&&this.steps.length>this.eventLogSettings.numberOfStepsToMaintain)){var r=this.steps.slice(0);this.steps.length=0,this.sendTelemetry(o.Progress,{reason:"flush"},r)}},t.prototype.trackStart=function(t){this.addStep(t,"start")},t.prototype.trackEnd=function(t){this.addStep(t,"end")},t.prototype.trackError=function(t,e,n,r){void 0===n&&(n=!0),"health"===t&&!0!==this.eventLogSettings.logHealthCheckError||"ping"===t&&!1===this.eventLogSettings.logSendPingError||(void 0===r&&(r="error"),!0===n&&this.addStep(t,r,e),this.sendTelemetry(o.Error,{},[this.createStep(t,r,e)]))},t.prototype.trackProgress=function(t,e){this.addStep(t,e)},t.prototype.trackConnected=function(t,e){this.setConnectedInfo(t,e);var n=this.steps.slice(0),r=this.totalStepCount,i=this.beginTimestamp.duration;this.steps.length=0,this.totalStepCount=0,this.sendTelemetry(o.Connected,{stepCount:n.length,totalStepCount:r,connectionEstablishmentMs_Total:i},n),this.cancelProgressTimer()},t.prototype.getSessionLength=function(){return Date.now()-this.connectedInfo.connectedTimestamp},t.prototype.trackDisconnected=function(t){t.sessionLengthMS=this.getSessionLength(),this.sendTelemetry(o.Disconnected,t,[]),this.resetProgressSendTimer()},t.prototype.trackNewConnection=function(){++this.connectionAttempt},t.prototype.trackRequest=function(t,e){var n={};void 0!==e&&(n.hasError=!0,n.error=e);try{if(t){n.requestID=t.id,n.httpMethod=t.method,n.url=t.url,n.bodyLength=t.body.length,n.shortUrl=t.shortUrl,n.requestTimeStamp=t.startTS,n.correlationVector=t.correlationVector;for(var i=t.headers,s=0,c=Object.keys(i);s<c.length;s++){var a=c[s];n[a]=i[a]}}}catch(t){n.hasError=!0,n.error="".concat(n.error," error creating request context ").concat((0,r.toJson)(t))}this.sendTelemetry(o.Request,n,[])},t.prototype.trackResponse=function(t,e,n,i){var s={};void 0!==i&&(s.hasError=!0,s.error=i);try{if(s.responseTimestamp=void 0!==n?n.sentTS:Date.now(),t){s.requestID=t.id,s.httpMethod=t.method,s.shortUrl=t.shortUrl,s.correlationVector=t.correlationVector;for(var c=t.headers,a=0,u=Object.keys(c);a<u.length;a++){var h=u[a];s[h]=c[h]}}n&&(s.latencyMS=e,s.responseCode=n.status,s.responseLength=n.body.length)}catch(t){s.hasError=!0,s.error="".concat(s.error," error creating response context ").concat((0,r.toJson)(t))}this.sendTelemetry(o.Response,s,[])},t.prototype.sendResponseError=function(t,e,n){this.trackResponse(e,void 0,n,t)},t.prototype.close=function(){this.sendProgress({reason:"closed"}),this.steps.length=0,this.cancelProgressTimer()},t.prototype.mergeSettings=function(t){if(t){this.eventLogSettings.numberOfStepsToMaintain=Math.min(40,Math.max(10,void 0!==t.numberOfStepsToMaintain?t.numberOfStepsToMaintain:0));var e=Math.min(3600,Math.max(55,void 0!==t.sendProgressTimeoutSecs?t.sendProgressTimeoutSecs:0));this.eventLogSettings.logHealthCheckError=t.logHealthCheckError,this.eventLogSettings.logSendPingError=t.logSendPingError;for(var n=0,r=Object.keys(o).map(function(t){return o[t]});n<r.length;n++){var i=r[n];void 0!==t[i]&&(this.eventLogSettings[i]=t[i])}this.eventLogSettings.sendProgressTimeoutSecs!==e&&(this.eventLogSettings.sendProgressTimeoutSecs=e,this.resetProgressSendTimer())}},t})();e.ConnectionTracker=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.DisconnectReason=void 0;var o=(function(){function t(t,e,n){this.reason=t,this.claims=e,this.details=n}return t.fromRawReason=function(e,n){if(""===e||"dup"===e)return new t(e);try{var o=JSON.parse(e);return"object"!=typeof o||void 0===o.reason?(null==n||n.error("invalid disconnect reason format"),new t("unknown",void 0,e)):new t(o.reason,o.claims,o.details)}catch(n){return new t("disconnect",void 0,e)}},t.fromSocketIoEventData=function(e,n){return"string"==typeof n?new t(e,void 0,n):void 0},t.prototype.toTelemetryString=function(){return"socketerror"===this.reason||"reconnecterror"===this.reason||"disconnect"===this.reason?this.details:this.reason},t})();e.DisconnectReason=o},function(t,e,n){function o(t,e,n){if(void 0===t||void 0===e)return!1;var o=Date.now()-t;return o>e*n.tolerance&&o>n.minimumWaitMs}Object.defineProperty(e,"__esModule",{value:!0}),e.ExponentialBackoff=void 0;var r=(function(){function t(t,e,n){void 0===n&&(n={tolerance:2,minimumWaitMs:1e4}),this.logger=t,this.maxBackoffInMs=e,this.gapDetectionSettings=n,this.backoffId=0,this.backoffCount=0}return t.calculateNextBackoffMs=function(t,e){var n=1+.4*(Math.random()-.5),o=1e3*Math.pow(2,t)*n;return o=Math.round(o),Math.min(e,o)},t.prototype.setMaxBackoffMs=function(t){this.maxBackoffInMs=t},t.prototype.backoff=function(e,n){var r=this;if(void 0!==this.timerHandle&&(this.logger.debug("Clearing current back off"),clearTimeout(this.timerHandle),this.timerHandle=void 0),void 0!==this.previousCompleteTime){var i=Date.now()-this.previousCompleteTime;i>this.maxBackoffInMs*this.gapDetectionSettings.tolerance&&i>this.gapDetectionSettings.minimumWaitMs&&(this.logger.info("Back off for ".concat(e," with ID ").concat(this.backoffId," will be reset due to a lot of time having passed since the previous backoff (").concat(i," ms)")),this.backoffCount=0,this.previousCompleteTime=void 0)}var s=t.calculateNextBackoffMs(this.backoffCount,this.maxBackoffInMs);this.backoffId++,this.backoffCount++,this.logger.info("Backing off ".concat(e," for ").concat(s," milliseconds with ID ").concat(this.backoffId)),this.callback=function(t,i){o(t,i,r.gapDetectionSettings)&&(r.logger.info("Back off for ".concat(e," with ID ").concat(r.backoffId," will be reset due to the wait (").concat(Date.now()-(null!=t?t:0)," ms) being longer than expected (").concat(i," ms)")),r.backoffCount=0),r.logger.info("Back off for ".concat(e," with ID ").concat(r.backoffId," complete, invoking handler")),r.timerHandle=void 0,r.callback=void 0,r.previousCompleteTime=Date.now(),n()};var c=Date.now();this.timerHandle=setTimeout(function(){var t;return null===(t=r.callback)||void 0===t?void 0:t.call(r,c,s)},s)},t.prototype.reset=function(){void 0!==this.timerHandle&&(this.logger.debug("Resetting back off with ID ".concat(this.backoffId)),clearTimeout(this.timerHandle),this.timerHandle=void 0,this.callback=void 0),this.backoffCount=0},t.prototype.expediteIfPending=function(){if(this.backoffCount=0,void 0!==this.timerHandle){this.logger.debug("Expediting back off with ID ".concat(this.backoffId)),clearTimeout(this.timerHandle),this.timerHandle=void 0;var t=this.callback;this.callback=void 0,t&&t()}},t})();e.ExponentialBackoff=r},function(t,e,n){var o=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.LoggingManagerConsumer=e.RegistrationEnforcer=void 0;var r=n(6),i=(function(){function t(t,e,n){this.wrapped=t,this.shouldConnectionDependOnRegistration=e,this.shouldHoldBackEvents=n,this.isRegistered=!1,this.heldBackEvents=[]}return t.prototype.onDownstreamRequest=function(t,e,n){this.passIfRegisteredOrNotNeeded("onDownstreamRequest",t,e,n)},t.prototype.onConnected=function(t){this.passIfRegisteredOrNotNeeded("onConnected",t)},t.prototype.onRegistered=function(t){this.isRegistered=!0,this.wrapped.onRegistered(t),this.fireHeldBackEvents()},t.prototype.onUnregistered=function(t){this.isRegistered=!1,this.wrapped.onUnregistered(t),t.getState()===r.State.Connected&&this.shouldConnectionDependOnRegistration()&&t.forceReconnectDueToNoRegistration()},t.prototype.onReconnecting=function(t){this.wrapped.onReconnecting(t)},t.prototype.onReconnectIsRequired=function(t,e,n){this.wrapped.onReconnectIsRequired(t,e,n)},t.prototype.onDisconnected=function(t){this.isRegistered=!1,this.dropHeldBackEvents(),this.wrapped.onDisconnected(t)},t.prototype.onTerminalError=function(t){this.wrapped.onTerminalError(t)},t.prototype.onConnectionParametersUpdated=function(t){this.wrapped.onConnectionParametersUpdated(t)},t.prototype.onTrouterMessageLost=function(t){this.passIfRegisteredOrNotNeeded("onTrouterMessageLost",t)},t.prototype.onUserActivityStateAccepted=function(t){this.passIfRegisteredOrNotNeeded("onUserActivityStateAccepted",t)},t.prototype.onAudiencesSetResolved=function(t,e){this.passIfRegisteredOrNotNeeded("onAudiencesSetResolved",t,e)},t.prototype.getState=function(){return this.wrapped.getState()},t.prototype.holdBackEvent=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.heldBackEvents.push({kind:t,args:e})},t.prototype.passIfRegisteredOrNotNeeded=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.shouldConnectionDependOnRegistration(),s=this.shouldHoldBackEvents();i&&s||this.fireHeldBackEvents(i?function(t){return"onConnected"!==t.kind}:void 0),this.isRegistered||!i||!1===s&&"onConnected"!==t?(e=this.wrapped)[t].apply(e,n):this.holdBackEvent.apply(this,o([t],n,!1))},t.prototype.fireHeldBackEvents=function(t){for(var e,n=0,o=this.heldBackEvents;n<o.length;n++){var r=o[n];(void 0===t||t(r))&&(e=this.wrapped)[r.kind].apply(e,r.args)}this.heldBackEvents=void 0===t?[]:this.heldBackEvents.filter(function(e){return!t(e)})},t.prototype.dropHeldBackEvents=function(){this.heldBackEvents=[]},t})();e.RegistrationEnforcer=i;var s=(function(){function t(t,e,n,o){this.wrapped=t,this.prefix=e,this.logger=n,this.onEventAction=o}return t.prototype.onEvent=function(t,e){var n;void 0!==this.onEventAction?this.onEventAction(t,e):(null!==(n=this.logger)&&void 0!==n?n:console).log("".concat(this.prefix," TracingEnforcer: ").concat(t,"(").concat(e,")"))},t.prototype.onDownstreamRequest=function(t,e,n){this.onEvent("onDownstreamRequest",JSON.stringify({request:e,response:n})),this.wrapped.onDownstreamRequest(t,e,n)},t.prototype.onConnected=function(t){this.onEvent("onConnected",t.getState().toString()),this.wrapped.onConnected(t)},t.prototype.onRegistered=function(t){this.onEvent("onRegistered",t.getState().toString()),this.wrapped.onRegistered(t)},t.prototype.onUnregistered=function(t){this.onEvent("onUnregistered",t.getState().toString()),this.wrapped.onUnregistered(t)},t.prototype.onReconnecting=function(t){this.onEvent("onReconnecting",t.getState().toString()),this.wrapped.onReconnecting(t)},t.prototype.onReconnectIsRequired=function(t,e,n){this.onEvent("onReconnectIsRequired",JSON.stringify({connection:t.getState().toString(),useConnectParamsFromCache:e,reason:n})),this.wrapped.onReconnectIsRequired(t,e,n)},t.prototype.onDisconnected=function(t){this.onEvent("onDisconnected",t.getState().toString()),this.wrapped.onDisconnected(t)},t.prototype.onTerminalError=function(t){this.onEvent("onTerminalError",JSON.stringify({connection:t})),this.wrapped.onTerminalError(t)},t.prototype.onConnectionParametersUpdated=function(t){this.onEvent("onConnectionParametersUpdated",JSON.stringify({connectParams:t})),this.wrapped.onConnectionParametersUpdated(t)},t.prototype.onTrouterMessageLost=function(t){this.onEvent("onTrouterMessageLost",JSON.stringify({flowTags:t})),this.wrapped.onTrouterMessageLost(t)},t.prototype.onUserActivityStateAccepted=function(t){this.onEvent("onUserActivityStateAccepted",JSON.stringify({cv:t})),this.wrapped.onUserActivityStateAccepted(t)},t.prototype.onAudiencesSetResolved=function(t,e){this.onEvent("onAudiencesSetResolved",JSON.stringify({audienceSubscriptionsResponse:t,cv:e})),this.wrapped.onAudiencesSetResolved(t,e)},t.prototype.getState=function(){return this.wrapped.getState()},t})();e.LoggingManagerConsumer=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.TrouterManagerFsm=void 0;var o=n(2),r=n(4),i=n(0),s=n(7),c=(function(){function t(t,e){this.worker=e,this.state=r.TrouterManagerState.Unknown,this.logger=new i.Logger("ManagerFsm",t)}return t.prototype.start=function(){this.state===r.TrouterManagerState.Unknown?(this.setState(r.TrouterManagerState.Disconnected),this.worker.forceStopLingeringConnection(),this.worker.startFirstConnection()):(this.logger.info("start called in state '".concat(r.TrouterManagerState[this.state],"', expediting pending backoffs, if any")),this.worker.expediteBackoffOnConnections())},t.prototype.stop=function(t){this.state!==r.TrouterManagerState.Unknown?(this.setState(r.TrouterManagerState.Unknown),this.worker.stopFirstConnection(!0===t),this.worker.stopSecondConnection(!0===t)):this.showIgnored("stop")},t.prototype.getState=function(){switch(this.state){case r.TrouterManagerState.Unknown:case r.TrouterManagerState.Connected:case r.TrouterManagerState.Disconnected:case r.TrouterManagerState.Switching:return this.state;case r.TrouterManagerState.TerminalError:return o.TrouterState.Disconnected}},t.prototype.getInternalState=function(){return this.state},t.prototype.onConnected=function(t){this.state===r.TrouterManagerState.Disconnected&&t?this.worker.doesSecondConnectionExist()?this.setState(r.TrouterManagerState.Switching):(this.setState(r.TrouterManagerState.Connected),this.worker.dispatchConnected()):this.showIgnored("onConnected(".concat(t,")"))},t.prototype.onRegistered=function(t){this.state!==r.TrouterManagerState.Disconnected||t?this.state!==r.TrouterManagerState.Switching||t?this.state===r.TrouterManagerState.Disconnected&&t&&(this.setState(r.TrouterManagerState.Connected),this.worker.dispatchConnected()):(this.setState(r.TrouterManagerState.Connected),this.worker.switchConnections(),this.worker.stopSecondConnectionDelayed(),this.worker.dispatchConnected()):(this.setState(r.TrouterManagerState.Connected),this.worker.switchConnections(),this.worker.stopSecondConnection(!0),this.worker.dispatchConnected()),this.worker.dispatchRegistrationState(!0)},t.prototype.onUnregistered=function(t){t&&this.worker.dispatchRegistrationState(!1)},t.prototype.onReconnecting=function(t){this.state!==r.TrouterManagerState.Connected&&this.state!==r.TrouterManagerState.Switching||!t?this.showIgnored("onReconnecting(".concat(t,")")):(this.setState(r.TrouterManagerState.Disconnected),this.worker.dispatchDisconnected())},t.prototype.onReconnectionRequired=function(t,e,n){this.state===r.TrouterManagerState.Connected&&t?(this.setState(r.TrouterManagerState.Switching),this.worker.startSecondConnection(e)):this.state===r.TrouterManagerState.Disconnected&&t?this.worker.startSecondConnection(e):this.state===r.TrouterManagerState.Switching&&t&&n===s.ReconnectReason.Configuration?(this.logger.debug("onReconnectionRequired: switch requested while already in Switching state"),this.worker.stopSecondConnection(!0),this.worker.startSecondConnection(e)):this.showIgnored("onReconnectionRequired(".concat(t,")"))},t.prototype.onDisconnected=function(t){this.state==r.TrouterManagerState.Unknown&&t?this.worker.dispatchDisconnected():this.state==r.TrouterManagerState.Switching&&t?(this.worker.switchConnections(),this.worker.stopSecondConnection(!1),this.setState(r.TrouterManagerState.Disconnected),this.worker.dispatchDisconnected()):this.showIgnored("onDisconnected(".concat(t,")"))},t.prototype.onTerminalError=function(){this.setState(r.TrouterManagerState.TerminalError),this.worker.dispatchTerminalError()},t.prototype.showIgnored=function(t){this.logger.info("Ignoring event '".concat(t,"' in state '").concat(r.TrouterManagerState[this.state],"'"))},t.prototype.setState=function(t){this.logger.info("Switching from state '".concat(r.TrouterManagerState[this.state],"' to state '").concat(r.TrouterManagerState[t],"'")),this.state!==t?this.state=t:this.logger.error("Attempt to switch to the current state '".concat(r.TrouterManagerState[t],"'"))},t})();e.TrouterManagerFsm=c},function(t,e,n){function o(t,e){if(!e)return t;var n=c(c({},t),{enabled:e.TelemetryEnabled});return void 0!==e.ClientTelemetryEventEnabled&&(n=c(c({},n),e.ClientTelemetryEventEnabled)),n}function r(t,e,n){var r,i,s,a,u,h,d,l,p,g,f=function(n){return t.proxyUrlRewrite?(e.info("Using rewritten URL for proxy"),t.proxyUrlRewrite(n)):n};return{clientInfo:{ua:t.trouterSettings.productName,v:t.trouterSettings.version},ioOptions:{ackTimeoutMs:5e3,rewriteUrlForProxy:f},clientCorrelationID:t.trouterSettings.sessionId,environment:t.trouterSettings.environment,telemetrySettings:o(t.telemetryConfig.settings,n),eventLogger:t.telemetryConfig.eventLogger,endpointId:t.trouterSettings.registrationId,trouterUrl:(null==n?void 0:n.TrouterConnectionUrl)||t.trouterSettings.trouterServiceUrl,registration:t.trouterSettings.registrarServiceUrl?{registrarUrl:t.trouterSettings.registrarServiceUrl,registrationId:null!==(r=t.trouterSettings.registrationId)&&void 0!==r?r:"",pnhAppId:null!==(i=t.trouterSettings.pnhAppId)&&void 0!==i?i:"",platform:null!==(s=t.trouterSettings.platform)&&void 0!==s?s:"",pnhTemplateKey:null!==(a=t.trouterSettings.pnhTemplate)&&void 0!==a?a:"",platformUIVersion:null!==(u=t.trouterSettings.platformUIVersion)&&void 0!==u?u:"",productContext:t.trouterSettings.pnhProductContext||void 0,context:null!==(h=t.trouterSettings.pnhContext)&&void 0!==h?h:"",registrarTtlSec:(null!==(d=t.trouterSettings.maxRegistrationTimeInMs)&&void 0!==d?d:0)/1e3}:void 0,connectionDependsOnRegistration:void 0===t.trouterSettings.registrarServiceUrl?function(){return!1}:null!==(l=t.trouterSettings.connectionDependsOnRegistration)&&void 0!==l?l:function(){return!1},delayEventsUntilRegistered:null!==(p=t.trouterSettings.delayEventsUntilRegistered)&&void 0!==p?p:function(){return!1},timeoutOptions:c({connectionTimeoutMs:t.trouterSettings.trouterConnectTimeoutInMs||3e4,fetchTimeoutMs:1e4,pingTimeoutMs:4e4,pongTimeoutMs:5e3,maxBackoffMs:"TeamsCDL"===t.trouterSettings.productName?3e5:3e4,requestTimeoutMs:5e3,userActivityResponseTimeoutMs:1e4},t.trouterSettings.timeoutOptions),incallTimeoutOptions:c({connectionTimeoutMs:1e4,fetchTimeoutMs:5e3,pingTimeoutMs:5e3,pongTimeoutMs:2e3,maxBackoffMs:"TeamsCDL"===t.trouterSettings.productName?3e5:1e4,requestTimeoutMs:5e3,userActivityResponseTimeoutMs:1e4},t.trouterSettings.incallTimeoutOptions),incallModeTimeoutMs:null!==(g=t.trouterSettings.incallModeTimeoutMs)&&void 0!==g?g:0,lingeringConnectionDelayMs:6e4,userActivitySecondResendDelayMs:t.trouterSettings.userActivitySecondResendDelayMs||1e4,duplicateDisconnectThresholdMs:1e4,connectionCache:t.connectionCache,registrationStateCallback:t.registrationStateCallbackForAcsDoNotUse,rewriteUrlForProxy:f,retryLimitOnTokenFetch:t.trouterSettings.retryLimitOnTokenFetch,extraConnectionHeaders:t.trouterSettings.extraConnectionHeaders,expediteBackoffOnStartMinimumDelayMs:1e4,toJSON:function(){return c(c({},this),{connectionCache:this.connectionCache?{}:this.connectionCache})}}}function i(t){var e=this;return function(n){return a(e,void 0,void 0,function(){var e;return u(this,function(o){switch(o.label){case 0:return e={},[4,t(n.needFresh)];case 1:return[2,(e.token=o.sent(),e.tokenType="skype",e)]}})})}}function s(t,e){var n,o=this;return function(r){return a(o,void 0,void 0,function(){var o,i,s;return u(this,function(c){switch(c.label){case 0:o=new Date,i=setInterval(function(){var e=Math.round((Date.now()-o.getTime())/6e4);t.warn("Note: Trouter auth token request promise from ".concat(o.toISOString()," has not been resolved for ").concat(e," minutes. The client is blocked from operating properly"))},3e5),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,e(r)];case 2:return s=c.sent(),r.needFresh&&s.token===n&&t.error("API violation: Trouter auth token provider got a request with needRefresh=true, but returned the same token as last time anyway. Please fix the host app"),n=s.token,[2,s];case 3:return clearInterval(i),[7];case 4:return[2]}})})}}var c=this&&this.__assign||function(){return(c=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__awaiter||function(t,e,n,o){function r(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{a(o.next(t))}catch(t){i(t)}}function c(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){t.done?n(t.value):r(t.value).then(s,c)}a((o=o.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){function n(t){return function(e){return o([t,e])}}function o(n){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,n[0]&&(a=0)),a;)try{if(r=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(s=(s=a.trys).length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(t){n=[6,t],i=0}finally{r=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,i,s,c,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};Object.defineProperty(e,"__esModule",{value:!0}),e.replaceTrouterUrlBase=e.getTrouterServiceVersion=e.createTrouterService=e.TrouterService=e.UserActivityState=e.TrouterState=void 0;var h=n(1),d=n(2);Object.defineProperty(e,"TrouterState",{enumerable:!0,get:function(){return d.TrouterState}}),Object.defineProperty(e,"UserActivityState",{enumerable:!0,get:function(){return d.UserActivityState}});var l=n(0),p=n(8),g=n(9),f=n(10),v=n(11),m=(function(){function t(t){this.logProvider=t,this.stateChangedListeners=[],this.logger=new l.Logger("Trouter",t),this.trouterUrlPromise=new v.TrouterUrlPromise(t),this.messageHandlers=new p.MessageHandlerRegistry(t),this.listeners={},this.connectionInfo=null,this.logger.info("Created TrouterService version ".concat(h.CLIENT_VERSION))}return t.prototype.start=function(t){var e;if(this.logger.info("Start"),!t.skypeTokenProvider&&!t.authTokenProvider)throw new Error("no token provider has been configured, either skypeTokenProvider or authTokenProvider must be populated");t.skypeTokenProvider&&!t.trouterSettings.disableInternalSkypeTokenCache&&(t.skypeTokenProvider=(0,g.addCacheAsBackupTo)(t.skypeTokenProvider)),this.trouterCfg=t;var n=r(t,this.logger,this.ecsCfg);!1===t.internalEnableV4cProtocol&&(n.forceV4aProtocol=!0);var o=s(this.logger,null!==(e=t.authTokenProvider)&&void 0!==e?e:i(t.skypeTokenProvider));void 0===this.trouterServer&&(this.trouterServer=new f.TrouterManager(this.logProvider,n,o,void 0===t.authTokenProvider,this)),void 0!==this.pendingActivityState&&(this.trouterServer.setUserActivityState(this.pendingActivityState[0],this.pendingActivityState[1]),this.pendingActivityState=void 0),this.trouterServer.start()},t.prototype.stop=function(t){this.logger.info("close connection"),this.trouterUrlPromise.rejectUrl(new Error("TrouterService is stopped")),void 0!==this.trouterServer&&this.trouterServer.stop(t)},t.prototype.setEcsConfig=function(t){return a(this,void 0,void 0,function(){var e=this;return u(this,function(n){return[2,new Promise(function(n){if(e.ecsCfg=t.TrouterJScriptClient,e.logger.info("Setting ECS configuration to ".concat(JSON.stringify(e.ecsCfg))),void 0!==e.trouterServer&&void 0!==e.trouterCfg){var o=r(e.trouterCfg,e.logger,e.ecsCfg);e.trouterServer.configure(o)}n()})]})})},t.prototype.checkConnection=function(t){void 0!==this.trouterServer&&this.trouterServer.checkConnection(null!=t&&t)},t.prototype.resendRegistration=function(){return a(this,void 0,void 0,function(){return u(this,function(t){if(!this.trouterServer)throw new Error("resendRegistration called too early");return[2,this.trouterServer.resendRegistration()]})})},t.prototype.registerListener=function(t,e){return""===e||!e.startsWith("/")||e.includes("?")||e.includes("#")?(this.logger.error("Listener path '".concat(e,"' is not valid")),!1):this.listeners[e]?(this.logger.error("Another listener is already registered for path '".concat(e,"'")),!1):(this.listeners[e]=t,this.logger.debug("Listener for path '".concat(e,"' registered")),this.connectionInfo&&t.onTrouterConnected(this.connectionInfo.baseEndpointUrl+e,this.connectionInfo),!0)},t.prototype.unregisterListener=function(t){for(var e=[],n=0,o=Object.keys(this.listeners);n<o.length;n++){var r=o[n];this.listeners[r]===t&&e.push(r)}if(0===e.length)return!1;for(var i=0,s=e;i<s.length;i++){var r=s[i];delete this.listeners[r]}return this.logger.debug("Listener for path(s) '".concat(e.join("', '"),"' unregistered")),!0},t.prototype.onTrouterConnected=function(t,e){this.logger.debug("Trouter is now connected");for(var n=0,o=Object.keys(this.listeners);n<o.length;n++){var r=o[n];try{this.listeners[r].onTrouterConnected(e.baseEndpointUrl+r,e)}catch(t){this.logger.error("Listener '".concat(r,"' threw an exception from onTrouterConnected(): ").concat(t))}}this.connectionInfo=e,this.trouterUrlPromise.resolveUrl(t),this.notifyStateChanged(d.TrouterState.Connected,{url:t,getRemainingTtlInSec:function(){return e.connectionTtlSec}})},t.prototype.onTrouterDisconnected=function(){this.logger.debug("Trouter is now disconnected"),this.connectionInfo=null;for(var t=0,e=Object.keys(this.listeners);t<e.length;t++){var n=e[t],o=this.listeners[n];if(o.onTrouterDisconnected)try{o.onTrouterDisconnected()}catch(t){this.logger.error("Listener '".concat(n,"' threw an exception from onTrouterDisconnected(): ").concat(t))}}this.notifyStateChanged(d.TrouterState.Disconnected)},t.prototype.onTrouterRequest=function(t,e){for(var n="",o=0,r=Object.keys(this.listeners);o<r.length;o++){var i=r[o];t.path.startsWith(i)&&i.length>n.length&&(n=i)}if(""===n)this.tryMessageHandlers(t,e)||(e.status=404,e.headers={"Trouter-Responder":"ClientLib"},e.send());else try{this.listeners[n].onTrouterRequest(t,e)}catch(t){this.logger.error("Listener '".concat(n,"' threw an exception from onTrouterRequest(): ").concat(t)),e.status=500,e.headers={"Trouter-Responder":"ClientLib"},e.send()}},t.prototype.onTrouterMessageLoss=function(t){this.logger.info("onTrouterMessageLoss called with tags [".concat(t,"]"));for(var e=!0,n=0,o=Object.keys(this.listeners);n<o.length;n++){var r=o[n],i=this.listeners[r];if(i.onTrouterMessageLoss)try{void 0===(e=i.onTrouterMessageLoss(t)&&e)&&(this.logger.error("Listener '".concat(r,"' did not return a boolean value from onTrouterMessageLoss()")),e=!1)}catch(t){this.logger.error("Listener '".concat(r,"' threw an exception from onTrouterMessageLoss(): ").concat(t)),e=!1}}return e},t.prototype.onTrouterUserActivityStateAccepted=function(t){this.logger.debug("onTrouterUserActivityStateAccepted cv: ".concat(t));for(var e=0,n=Object.keys(this.listeners);e<n.length;e++){var o=n[e],r=this.listeners[o];if(r.onTrouterUserActivityStateAccepted)try{r.onTrouterUserActivityStateAccepted(t)}catch(t){this.logger.error("Listener '".concat(o,"' threw an exception from onTrouterUserActivityStateAccepted(): ").concat(t))}}},t.prototype.onAudiencesSetResolved=function(t,e){this.logger.debug("onAudiencesSetResolved cv: ".concat(e));for(var n=0,o=Object.keys(this.listeners);n<o.length;n++){var r=o[n],i=this.listeners[r];if(i.onAudiencesSetResolved)try{i.onAudiencesSetResolved(t,e)}catch(t){this.logger.error("Listener '".concat(r,"' threw an exception from onAudienceSubscribed(): ").concat(t))}}},t.prototype.setUserActivityState=function(t,e){if(t!==d.UserActivityState.Active&&t!==d.UserActivityState.Inactive)throw new Error("setUserActivityState called with unsupported value ".concat(t));this.logger.info("setUserActivityState called with value ".concat(d.UserActivityState[t])),this.trouterServer&&this.state()!==d.TrouterState.Unknown?this.trouterServer.setUserActivityState(t,e):(this.pendingActivityState=[t,e],this.logger.warn("setUserActivityState called before start() or after stop()"))},t.prototype.setAudienceSubscriptions=function(t,e){if(t.audienceSubscriptions.length>1)throw new Error("Only singular audience subscription is supported");if(this.trouterServer&&this.state()!==d.TrouterState.Unknown)return this.trouterServer.setAudienceSubscriptionsAsync(t,15e3,e);throw new Error("audience subscribe called before start() or after stop()")},t.prototype.state=function(){return void 0!==this.trouterServer?this.trouterServer.getState():d.TrouterState.Unknown},t.prototype.isInTerminalState=function(){return void 0!==this.trouterServer&&this.trouterServer.isInTerminalState()},t.prototype.reportStateInfo=function(){return void 0===this.trouterServer?"":this.trouterServer.reportStateInfo()},t.prototype.getServerState=function(){if(void 0!==this.trouterServer)return this.trouterServer.getServerState()},t.prototype.getTrouterUrlAsync=function(){return void 0!==this.trouterServer?this.trouterUrlPromise.getPromise():Promise.reject(new Error("TrouterService has not been started"))},t.prototype.onStateChanged=function(t){if(this.logger.info("onStateChanged called"),void 0===t)this.stateChangedListeners=this.stateChangedListeners.filter(function(t){return void 0===t.wrappedCallback});else{this.offStateChanged(t);var e=function(e,n){t(e,n?n.url:"")};e.wrappedCallback=t,this.stateChangedListeners.push(e)}},t.prototype.offStateChanged=function(t){this.logger.info("offStateChanged called");var e=this.stateChangedListeners.length;return this.stateChangedListeners=this.stateChangedListeners.filter(function(e){return e.wrappedCallback!==t}),e>this.stateChangedListeners.length},t.prototype.addCallback=function(t){this.logger.info("addListener called"),-1===this.stateChangedListeners.indexOf(t,0)&&void 0!==t&&this.stateChangedListeners.push(t)},t.prototype.removeCallback=function(t){this.logger.info("removeListener called");var e=this.stateChangedListeners.indexOf(t,0);return e>-1&&(this.stateChangedListeners.splice(e,1),!0)},t.prototype.registerMessageHandler=function(t){this.logger.info("registerMessageHandler is called"),this.messageHandlers.register(t)},t.prototype.clearMessageHandlers=function(){this.logger.info("clearMessageHandlers is called"),this.messageHandlers.clear()},t.prototype.notifyStateChanged=function(t,e){var n=this;this.logger.info("notifyStateChanged called, will forward to ".concat(this.stateChangedListeners.length," listeners")),this.stateChangedListeners.forEach(function(o){try{o(t,e)}catch(t){n.logger.error("Error in callback ".concat(t))}})},t.prototype.tryMessageHandlers=function(t,e){if(!this.messageHandlers.active())return!1;var n,o=null;try{n=JSON.parse(t.body),o=n&&(n.evt||n.eventId)||null}catch(t){}var r={eventId:o,url:(this.connectionInfo?this.connectionInfo.baseEndpointUrl:"")+t.path,body:n,rawBody:t.body,headers:t.headers},i=this.messageHandlers.handleMessage(r);return!!i.isHandled&&(e.status=i.resultCode,i.responseHeaders&&(e.headers=i.responseHeaders),i.responseBody&&(e.body=i.responseBody),e.send(),!0)},t})();e.TrouterService=m,e.createTrouterService=function(t){return new m(t)},e.getTrouterServiceVersion=function(){return h.CLIENT_VERSION},e.replaceTrouterUrlBase=function(t,e){var n=t.indexOf("://");if(n>=0){var o=t.indexOf("/",n+3);if(o>=0)return e+t.substr(o)}return""}},function(t,e){t.exports=n}]))});d(g);var f=l(function(t,e){var n,o;Object.defineProperty(e,"__esModule",{value:!0}),e.EudbCountries=e.CloudPrefix=e.CloudType=e.PUBLIC_REGISTRAR_SERVICE_URL=e.PUBLIC_TROUTER_SERVICE_URL=e.EUDB_TROUTER_SERVICE_URL=e.INT_REGISTRAR_SERVICE_URL=e.INT_TROUTER_SERVICE_URL=e.DOD_REGISTRAR_SERVICE_URL=e.DOD_TROUTER_SERVICE_URL=e.GCC_TROUTER_SERVICE_URL=e.GCCHIGH_REGISTRAR_SERVICE_URL=e.GCCHIGH_TROUTER_SERVICE_URL=e.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES=void 0,e.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES=3,e.GCCHIGH_TROUTER_SERVICE_URL="https://go.trouter.gov.teams.microsoft.us/v4/a",e.GCCHIGH_REGISTRAR_SERVICE_URL="https://registrar.gov.teams.microsoft.us/V3/registrations",e.GCC_TROUTER_SERVICE_URL="https://go.trouter.gcc.teams.microsoft.com/v4/a",e.DOD_TROUTER_SERVICE_URL="https://go.trouter.dod.teams.microsoft.us/v4/a",e.DOD_REGISTRAR_SERVICE_URL="https://registrar.dod.teams.microsoft.us/V3/registrations",e.INT_TROUTER_SERVICE_URL="https://go.trouter-int.skype.net/v4/a",e.INT_REGISTRAR_SERVICE_URL="https://edge.skype.net/registrar/testenv/v3/registrations",e.EUDB_TROUTER_SERVICE_URL="https://go-eu.trouter.teams.microsoft.com/v4/a",e.PUBLIC_TROUTER_SERVICE_URL="https://go.trouter.teams.microsoft.com/v4/a",e.PUBLIC_REGISTRAR_SERVICE_URL="https://teams.microsoft.com/registrar/prod/v3/registrations",(function(t){t.Public="Public",t.GccHigh="GCC High",t.Dod="DoD"})(n||(e.CloudType=n={})),(function(t){t.OrgId="orgid",t.Acs="acs",t.Spool="spool",t.GccHigh="gcch",t.GccHighAcs="gcch-acs",t.Dod="dod",t.DodAcs="dod-acs"})(o||(e.CloudPrefix=o={})),e.EudbCountries=["europe","france","germany","norway","switzerland","sweden"]});d(f);f.EudbCountries,f.CloudPrefix,f.CloudType,f.PUBLIC_REGISTRAR_SERVICE_URL,f.PUBLIC_TROUTER_SERVICE_URL,f.EUDB_TROUTER_SERVICE_URL,f.INT_REGISTRAR_SERVICE_URL,f.INT_TROUTER_SERVICE_URL,f.DOD_REGISTRAR_SERVICE_URL,f.DOD_TROUTER_SERVICE_URL,f.GCC_TROUTER_SERVICE_URL,f.GCCHIGH_REGISTRAR_SERVICE_URL,f.GCCHIGH_TROUTER_SERVICE_URL,f.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES;var v=l(function(t,e){var n=h&&h.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{a(o.next(t))}catch(t){i(t)}}function c(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((o=o.apply(t,e||[])).next())})},o=h&&h.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return a([t,e])}}function a(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(s=0)),s;)try{if(n=1,o&&(r=2&c[0]?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,o=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){s.label=c[1];break}if(6===c[0]&&s.label<r[1]){s.label=r[1],r=c;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(c);break}r[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(t){c=[6,t],o=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.isEudbLocation=e.parseTokenCredential=e.base64decode=e.toTelemetrySender=e.toLogProvider=e.toMessageHandler=void 0,e.generateUuid=function(){return(0,a.v4)()};var r=new Map([["chatMessageReceived",200],["typingIndicatorReceived",245],["readReceiptReceived",246],["chatMessageEdited",247],["chatMessageDeleted",248],["chatThreadCreated",257],["chatThreadPropertiesUpdated",258],["chatThreadDeleted",259],["participantsAdded",260],["participantsRemoved",261]]);e.toMessageHandler=function(t,e,n,o){var s=r.get(t);return{handleMessage:function(r){var c=null;if((null==r?void 0:r.rawBody)&&(c=JSON.parse(r.rawBody)),null!==c&&c.eventId===s){var a=i(t,c,n,o);if(null!==a)return e(a),{isHandled:!0,resultCode:200}}}}};var i=function(t,e,n,o){if("chatMessageReceived"===t)return{threadId:(r=e).groupId,sender:s(r.senderId),senderDisplayName:r.senderDisplayName,recipient:s(r.recipientMri),id:r.messageId,createdOn:new Date(r.originalArrivalTime),version:r.version,type:r.messageType,message:r.messageBody,metadata:c(r.acsChatMessageMetadata)||{},attachments:p(c(r.attachments)||[],n,o)};if("chatMessageEdited"===t)return{threadId:(r=e).groupId,sender:s(r.senderId),senderDisplayName:r.senderDisplayName,recipient:s(r.recipientMri),id:r.messageId,createdOn:new Date(r.originalArrivalTime),version:r.version,message:r.messageBody,editedOn:new Date(r.edittime),type:r.messageType,metadata:c(r.acsChatMessageMetadata)||{},attachments:p(c(r.attachments)||[],n,o)};if("chatMessageDeleted"===t)return{threadId:(r=e).groupId,sender:s(r.senderId),senderDisplayName:r.senderDisplayName,recipient:s(r.recipientMri),id:r.messageId,createdOn:new Date(r.originalArrivalTime),version:r.version,deletedOn:new Date(r.deletetime),type:r.messageType};if("typingIndicatorReceived"===t)return{threadId:(r=e).groupId,sender:s(r.senderId),senderDisplayName:r.senderDisplayName,recipient:s(r.recipientMri),version:r.version,receivedOn:new Date(r.originalArrivalTime)};if("readReceiptReceived"===t){var r=e,i=JSON.parse(r.messageBody).consumptionhorizon.split(";");return{threadId:r.groupId,sender:s(r.senderId),senderDisplayName:"",recipient:s(r.recipientMri),chatMessageId:r.messageId,readOn:new Date(+i[1])}}if("chatThreadCreated"===t){r=e;var a=JSON.parse(unescape(r.createdBy)),u=JSON.parse(unescape(r.members)),h=JSON.parse(unescape(r.properties)),d={id:s(a.participantId),displayName:a.displayName},l=u.map(function(t){return{id:s(t.participantId),displayName:t.displayName}});return{threadId:r.threadId,createdOn:new Date(r.createTime),createdBy:d,version:r.version,participants:l,properties:h}}if("chatThreadPropertiesUpdated"===t){r=e;var g=JSON.parse(unescape(r.editedBy)),f=(h=JSON.parse(unescape(r.properties)),{id:s(g.participantId),displayName:g.displayName});return{threadId:r.threadId,updatedOn:new Date(r.editTime),updatedBy:f,version:r.version,properties:h}}if("chatThreadDeleted"===t){r=e;var v=JSON.parse(unescape(r.deletedBy)),m={id:s(v.participantId),displayName:v.displayName};return{threadId:r.threadId,deletedOn:new Date(r.deleteTime),deletedBy:m,version:r.version}}if("participantsAdded"===t){r=e;var y=JSON.parse(unescape(r.addedBy)),T=JSON.parse(unescape(r.participantsAdded)),S={id:s(y.participantId),displayName:y.displayName};l=T.map(function(t){return{id:s(t.participantId),displayName:t.displayName,shareHistoryTime:new Date(t.shareHistoryTime)}});return{threadId:r.threadId,addedOn:new Date(r.time),addedBy:S,version:r.version,participantsAdded:l}}if("participantsRemoved"===t){r=e;var k=JSON.parse(unescape(r.removedBy)),R=JSON.parse(unescape(r.participantsRemoved)),w={id:s(k.participantId),displayName:k.displayName};l=R.map(function(t){return{id:s(t.participantId),displayName:t.displayName,shareHistoryTime:new Date(t.shareHistoryTime)}});return{threadId:r.threadId,removedOn:new Date(r.time),removedBy:w,version:r.version,participantsRemoved:l}}return null};e.toLogProvider=function(t){return{log:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.info(e)},warn:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.warning(e)},error:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.error(e)},debug:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.verbose(e)},info:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.verbose(e)}}};e.toTelemetrySender=function(t){return{logEvent:function(e){return t.info(e)}}};var s=function(t){return t.startsWith("8:orgid:")?{kind:"microsoftTeamsUser",rawId:t,microsoftTeamsUserId:t.substring("8:orgid:".length),isAnonymous:!1,cloud:"public"}:t.startsWith("8:dod:")?{kind:"microsoftTeamsUser",rawId:t,microsoftTeamsUserId:t.substring("8:dod:".length),isAnonymous:!1,cloud:"dod"}:t.startsWith("8:gcch:")?{kind:"microsoftTeamsUser",rawId:t,microsoftTeamsUserId:t.substring("8:gcch:".length),isAnonymous:!1,cloud:"gcch"}:t.startsWith("8:teamsvisitor:")?{kind:"microsoftTeamsUser",rawId:t,microsoftTeamsUserId:t.substring("8:teamsvisitor:".length),isAnonymous:!0}:t.startsWith("4:")?{kind:"phoneNumber",rawId:t,phoneNumber:t.substring("4:".length)}:t.startsWith("8:acs:")||t.startsWith("8:gcch-acs:")||t.startsWith("8:dod-acs:")||t.startsWith("8:spool:")?{kind:"communicationUser",communicationUserId:t}:{kind:"unknown",id:t}},c=function(t){if(null!=t&&""!==t&&"null"!==t&&"{}"!==t&&"[]"!==t)return JSON.parse(t)},d=function(t,e,n){var o;try{"http:"!==(o=new URL(t)).protocol&&"https:"!==o.protocol||(o=new URL(o.pathname,e))}catch(n){try{o=new URL(t,e)}catch(e){return t}}return o.searchParams.set("api-version",n),o.toString()},l=function(t){var e;try{e=new URL(t)}catch(t){return!1}return"http:"===e.protocol||"https:"===e.protocol},p=function(t,e,n){return null!=e&&""!==e&&l(e)?(t.filter(function(t){return t.attachmentType.toLowerCase()==="image".toLowerCase()}).map(function(t){t.previewUrl&&(t.previewUrl=d(t.previewUrl,e,n)),t.url&&(t.url=d(t.url,e,n))}),t):t};e.base64decode=function(t){return u.isNodeLike?Buffer.from(t,"base64").toString():atob(t)};var g=function(t){var n=(null==t?void 0:t.split("."))[1];if(void 0===n)throw new Error("Invalid token");return n=n.replace(/-/g,"+").replace(/_/g,"/"),JSON.parse(decodeURIComponent(escape((0,e.base64decode)(n))))};e.parseTokenCredential=function(t){return n(void 0,void 0,void 0,function(){var e,n,r,i,s,c,a;return o(this,function(o){switch(o.label){case 0:return[4,t.getToken()];case 1:return e=o.sent(),n=null==e?void 0:e.token,r=g(n),i=r.skypeid,s=r.resourceId,c=v(i),a=r.resourceLocation||"",[2,{jwtToken:n,acsResourceId:s,identityMri:i,cloudType:c,resourceLocation:a}]}})})};function v(t){switch(t.substring(0,t.indexOf(":"))){case f.CloudPrefix.OrgId:case f.CloudPrefix.Acs:case f.CloudPrefix.Spool:return f.CloudType.Public;case f.CloudPrefix.GccHigh:case f.CloudPrefix.GccHighAcs:return f.CloudType.GccHigh;case f.CloudPrefix.Dod:case f.CloudPrefix.DodAcs:return f.CloudType.Dod;default:return f.CloudType.Public}}e.isEudbLocation=function(t){return!!t&&!!f.EudbCountries.find(function(e){return e===t})}});d(v);v.isEudbLocation,v.parseTokenCredential,v.base64decode,v.toTelemetrySender,v.toLogProvider,v.toMessageHandler,v.generateUuid;var m=l(function(t,e){var n=h&&h.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{a(o.next(t))}catch(t){i(t)}}function c(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((o=o.apply(t,e||[])).next())})},o=h&&h.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return a([t,e])}}function a(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(s=0)),s;)try{if(n=1,o&&(r=2&c[0]?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,o=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){s.label=c[1];break}if(6===c[0]&&s.label<r[1]){s.label=r[1],r=c;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(c);break}r[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(t){c=[6,t],o=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTelemetrySettings=e.createSettings=void 0;var r={version:"1.0.0",registrationId:"",sessionId:"",pnhAppId:"AcsWeb",pnhTemplate:"AcsWeb_Chat_1.8",platform:"SPOOL",platformUIVersion:"0.0.0",environment:"",productName:"acs-chat-web",trouterServiceUrl:f.PUBLIC_TROUTER_SERVICE_URL,registrarServiceUrl:f.PUBLIC_REGISTRAR_SERVICE_URL,registrarRefreshTimeoutInMs:35e4,timeoutOptions:{connectionTimeoutMs:2e4,fetchTimeoutMs:1e4,pingTimeoutMs:4e4,pongTimeoutMs:5e3,maxBackoffMs:5e4,requestTimeoutMs:5e3},maxRegistrationTimeInMs:72e5},i=function(){var t=r;return t.registrationId=(0,v.generateUuid)(),t.sessionId=(0,v.generateUuid)(),t},s=function(){var t=i();return t.pnhAppId="cns-e2e-test",t.pnhTemplate="cns-e2e-test:1.8",t.registrarServiceUrl=f.INT_REGISTRAR_SERVICE_URL,t.trouterServiceUrl=f.INT_TROUTER_SERVICE_URL,t},c=function(){var t=i();return t.registrarServiceUrl=f.PUBLIC_REGISTRAR_SERVICE_URL,t.trouterServiceUrl=f.GCC_TROUTER_SERVICE_URL,t},a=function(){var t=i();return t.registrarServiceUrl=f.GCCHIGH_REGISTRAR_SERVICE_URL,t.trouterServiceUrl=f.GCCHIGH_TROUTER_SERVICE_URL,t},u=function(){var t=i();return t.registrarServiceUrl=f.DOD_REGISTRAR_SERVICE_URL,t.trouterServiceUrl=f.DOD_TROUTER_SERVICE_URL,t},d=function(){var t=i();return t.registrarServiceUrl=f.PUBLIC_REGISTRAR_SERVICE_URL,t.trouterServiceUrl=f.EUDB_TROUTER_SERVICE_URL,t};e.createSettings=function(t,e){return n(void 0,void 0,void 0,function(){var n,h,l;return o(this,function(o){switch(o.label){case 0:return"INT"!==(null==e?void 0:e.environment)?[3,1]:(n=s(),[3,3]);case 1:return[4,(0,v.parseTokenCredential)(t)];case 2:h=o.sent(),n=h.cloudType===f.CloudType.GccHigh?a():h.cloudType===f.CloudType.Dod?u():"usgcc"===h.resourceLocation?c():h.cloudType===f.CloudType.Public&&(0,v.isEudbLocation)(h.resourceLocation)?d():i(),o.label=3;case 3:return n.maxRegistrationTimeInMs=null!==(l=null==e?void 0:e.registrationTimeInMs)&&void 0!==l?l:r.maxRegistrationTimeInMs,[2,n]}})})},e.defaultTelemetrySettings={enabled:!1}});d(m);m.defaultTelemetrySettings,m.createSettings;var y=l(function(t,e){var n,o=h&&h.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{a(o.next(t))}catch(t){i(t)}}function c(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((o=o.apply(t,e||[])).next())})},r=h&&h.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return a([t,e])}}function a(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(s=0)),s;)try{if(n=1,o&&(r=2&c[0]?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,o=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){s.label=c[1];break}if(6===c[0]&&s.label<r[1]){s.label=r[1],r=c;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(c);break}r[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(t){c=[6,t],o=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.CommunicationSignalingClient=e.ConnectionState=void 0,(function(t){t[t.Unknown=0]="Unknown",t[t.Connected=2]="Connected",t[t.Disconnected=3]="Disconnected",t[t.Switching=9]="Switching"})(n||(e.ConnectionState=n={}));var i=(function(){function t(t,e,n){this.credential=t,this.logger=e,this.options=n,this.stateChangedListener=null,this.tokenFetchRetries=0,this.trouter=(0,g.createTrouterService)((0,v.toLogProvider)(e))}return t.prototype.start=function(){return o(this,void 0,void 0,function(){var t,e,n,i,s=this;return r(this,function(c){switch(c.label){case 0:return this.resourceEndpoint=(null===(n=this.options)||void 0===n?void 0:n.resourceEndpoint)||"",this.gatewayApiVersion=(null===(i=this.options)||void 0===i?void 0:i.gatewayApiVersion)||"2024-03-07",void 0!==this.config?[3,2]:(t=this,e={},[4,(0,m.createSettings)(this.credential,this.options)]);case 1:t.config=(e.trouterSettings=c.sent(),e.skypeTokenProvider=function(t){return o(s,void 0,void 0,function(){var e,n;return r(this,function(o){switch(o.label){case 0:return t?(this.tokenFetchRetries+=1,this.tokenFetchRetries>f.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES?[4,this.stop(!0)]:[3,2]):[3,3];case 1:throw o.sent(),new Error("Access token is expired and failed to fetch a valid one after ".concat(f.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES," retries"));case 2:return[3,4];case 3:this.tokenFetchRetries=0,o.label=4;case 4:return n=(e=Promise).resolve,[4,this.credential.getToken()];case 5:return[2,n.apply(e,[o.sent().token])]}})})},e.telemetryConfig={eventLogger:(0,v.toTelemetrySender)(this.logger),settings:m.defaultTelemetrySettings},e),c.label=2;case 2:return this.trouter.start(this.config),this.trouter.setUserActivityState(g.UserActivityState.Active),[2]}})})},t.prototype.stop=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){return this.trouter.offStateChanged(this.stateChangedListener),this.trouter.clearMessageHandlers(),this.trouter.stop(null!=t?t:this.tokenFetchRetries>f.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES),[2]})})},t.prototype.on=function(t,e){if("connectionChanged"===t)return this.trouter.offStateChanged(this.stateChangedListener),this.stateChangedListener=function(t,n){return e(t)},void this.trouter.onStateChanged(this.stateChangedListener);this.trouter.registerMessageHandler((0,v.toMessageHandler)(t,e,this.resourceEndpoint,this.gatewayApiVersion))},t})();e.CommunicationSignalingClient=i});d(y);y.CommunicationSignalingClient,y.ConnectionState;var T=d(l(function(t,e){var n=h&&h.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&("get"in r?e.__esModule:!r.writable&&!r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),o=h&&h.__exportStar||function(t,e){for(var o in t)"default"===o||Object.prototype.hasOwnProperty.call(e,o)||n(e,t,o)};Object.defineProperty(e,"__esModule",{value:!0}),o(y,e)}));r.exports=T},884,[869,775]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=r(d[0]).default,(function(){if(void 0===typeof window)throw new Error("window object not found");"Microsoft"in window||(window.Microsoft={}),"CRM"in window.Microsoft||(window.Microsoft.CRM={}),"Omnichannel"in window.Microsoft.CRM||(window.Microsoft.CRM.Omnichannel={}),"AMSClient"in window.Microsoft.CRM.Omnichannel||(window.Microsoft.CRM.Omnichannel.AMS={SDK:{createAMSClient:r(d[0]).default,FramedClient:r(d[1]).default,FramedlessClient:r(d[2]).default}})})()},885,[886,888,896]);
__d(function(_g,r,i,a,m,_e,d){"use strict";var e=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(u,l){function c(e){try{s(o.next(e))}catch(e){l(e)}}function f(e){try{s(o.throw(e))}catch(e){l(e)}}function s(e){var t;e.done?u(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(c,f)}s((o=o.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,o,u,l,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return l={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function f(e){return function(t){return s([e,t])}}function s(l){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(u=2&l[0]?o.return:l[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,l[1])).done)return u;switch(o=0,u&&(l=[2&l[0],u.value]),l[0]){case 0:case 1:u=l;break;case 4:return c.label++,{value:l[1],done:!1};case 5:c.label++,o=l[1],l=[0];continue;case 7:l=c.ops.pop(),c.trys.pop();continue;default:if(!(u=(u=c.trys).length>0&&u[u.length-1])&&(6===l[0]||2===l[0])){c=0;continue}if(3===l[0]&&(!u||l[1]>u[0]&&l[1]<u[3])){c.label=l[1];break}if(6===l[0]&&c.label<u[1]){c.label=u[1],u=l;break}if(u&&c.label<u[2]){c.label=u[2],c.ops.push(l);break}u[2]&&c.ops.pop(),c.trys.pop();continue}l=t.call(e,c)}catch(e){l=[6,e],o=0}finally{n=u=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(_e,"__esModule",{value:!0});_e.default=function(n){return e(void 0,void 0,void 0,function(){var e,o,u;return t(this,function(t){switch(t.label){case 0:return n.debug&&console.log("[createAMSClient] "+(n.framedMode?'FramedClient':'FramedlessClient')),e=new(r(d[0]).default)(n.logger),o={multiClient:n.multiClient||!1},[4,(u=n.framedMode?new(r(d[1]).default)(e,o):new(r(d[2]).default)(e)).setup()];case 1:return t.sent(),n.debug&&u.setDebug(n.debug||!1),r(d[3]).default.debug=n.debug||!1,r(d[3]).default.silentError=n.silentError||!0,[2,u]}})})}},886,[887,888,896,891]);
__d(function(g,r,_i,a,m,e,d){"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var n,o=1,i=arguments.length;o<i;o++)for(var u in n=arguments[o])Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var n=(function(){function n(t){this.debug=!1,this.debug=!1,this.logger=t}return n.prototype.setDebug=function(t){this.debug=t},n.prototype.log=function(n,o,i){var u,s=t({Event:o},i);this.debug&&console.log(s),null===(u=this.logger)||void 0===u||u.logClientSdkTelemetryEvent(n,s)},n})();e.default=n},887,[]);
__d(function(_g,r,_i,a,m,_e,d){"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},t=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(s,o){function u(e){try{c(i.next(e))}catch(e){o(e)}}function l(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(u,l)}c((i=i.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){var n,i,s,o,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,i&&(s=2&o[0]?i.return:o[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,o[1])).done)return s;switch(i=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,i=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(s=(s=u.trys).length>0&&s[s.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){u.label=o[1];break}if(6===o[0]&&u.label<s[1]){u.label=s[1],s=o;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(o);break}s[2]&&u.ops.pop(),u.trys.pop();continue}o=t.call(e,u)}catch(e){o=[6,e],i=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(_e,"__esModule",{value:!0});var i='Microsoft_Omnichannel_AMSClient_Iframe_Window',s=(function(){function s(e,t){void 0===e&&(e=void 0),void 0===t&&(t=void 0),this.runtimeId=r(d[0]).uuidv4(),this.clientId=r(d[0]).uuidv4(),this.origin=window.location.origin,this.requestCallbacks={},this.debug=!1,this.iframeLoaded=!1,this.logger=e,this.iframeId=i,t&&t.multiClient&&(this.iframeId=this.clientId)}return s.prototype.setDebug=function(e){this.debug=e},s.prototype.setup=function(){return t(this,void 0,void 0,function(){var e=this;return n(this,function(t){switch(t.label){case 0:if(this.debug&&console.log("[FramedClient][initialize]"),this.onMessageEvent(function(t){return e.handleEvent(t)}),!r(d[1]).default.isBrowser())throw new Error('FramedMode was used in non-Web platform');return[4,this.loadIframe()];case 1:return t.sent(),this.iframeLoaded||!r(d[2]).default.silentError&&console.error('iframe not loaded'),[2]}})})},s.prototype.initialize=function(e){return t(this,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return this.debug&&console.log("[FramedClient][initialize]"),this.chatToken=e.chatToken,[4,this.skypeTokenAuth()];case 1:return t.sent(),[2]}})})},s.prototype.skypeTokenAuth=function(e){return void 0===e&&(e=null),t(this,void 0,void 0,function(){var t,i=this;return n(this,function(n){switch(n.label){case 0:return this.debug&&console.log("[FramedClient][skypeAuth]"),t={chatToken:e||this.chatToken},[4,this.loadIframe()];case 1:return n.sent(),[2,new Promise(function(e,n){i.postMessage(r(d[3]).default.Request,r(d[4]).default.SkypeTokenAuth,t,e,n)})]}})})},s.prototype.createObject=function(e,i,s,o){return void 0===s&&(s=null),void 0===o&&(o=[]),t(this,void 0,void 0,function(){var t,u=this;return n(this,function(n){switch(n.label){case 0:return this.debug&&console.log("[FramedClient][createObject]"),t={id:e,file:i,chatToken:s||this.chatToken,supportedImagesMimeTypes:o},[4,this.loadIframe()];case 1:return n.sent(),[2,new Promise(function(e,n){u.postMessage(r(d[3]).default.Request,r(d[4]).default.CreateObject,t,e,n)})]}})})},s.prototype.uploadDocument=function(e,i,s,o){return void 0===s&&(s=null),void 0===o&&(o=[]),t(this,void 0,void 0,function(){var t,u=this;return n(this,function(n){switch(n.label){case 0:return this.debug&&console.log("[FramedClient][uploadDocument]"),t={documentId:e,file:i,chatToken:s||this.chatToken,supportedImagesMimeTypes:o},[4,this.loadIframe()];case 1:return n.sent(),[2,new Promise(function(e,n){u.postMessage(r(d[3]).default.Request,r(d[4]).default.UploadDocument,t,e,n)})]}})})},s.prototype.getViewStatus=function(e,i,s){return void 0===i&&(i=null),void 0===s&&(s=[]),t(this,void 0,void 0,function(){var t,o=this;return n(this,function(n){switch(n.label){case 0:return t={fileMetadata:e,chatToken:i||this.chatToken,supportedImagesMimeTypes:s},[4,this.loadIframe()];case 1:return n.sent(),[2,new Promise(function(e,n){o.postMessage(r(d[3]).default.Request,r(d[4]).default.GetViewStatus,t,e,n)})]}})})},s.prototype.getView=function(e,i,s,o){return void 0===s&&(s=null),void 0===o&&(o=[]),t(this,void 0,void 0,function(){var t,u=this;return n(this,function(n){switch(n.label){case 0:return t={fileMetadata:e,viewLocation:i,chatToken:s||this.chatToken,supportedImagesMimeTypes:o},[4,this.loadIframe()];case 1:return n.sent(),[2,new Promise(function(e,n){u.postMessage(r(d[3]).default.Request,r(d[4]).default.GetView,t,e,n)})]}})})},s.prototype.fetchBlob=function(e){return t(this,void 0,void 0,function(){var t;return n(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,fetch(e)];case 1:return[4,n.sent().blob()];case 2:return[2,n.sent()];case 3:throw t=n.sent(),!r(d[2]).default.silentError&&console.log(t),new Error('fetchBlob');case 4:return[2]}})})},s.prototype.onMessageEvent=function(e){window.addEventListener("message",e,!0)},s.prototype.postMessage=function(t,n,i,s,o){void 0===i&&(i={}),void 0===s&&(s=function(e){return{}}),void 0===o&&(o=function(e){return{}});var u=r(d[0]).uuidv4();this.requestCallbacks[u]={resolve:s,reject:o},this.targetWindow?this.targetWindow.postMessage(e({runtimeId:this.runtimeId,clientId:this.clientId,requestId:u,eventType:t,eventName:n},i),'*'):!r(d[2]).default.silentError&&console.error('Target window not found!')},s.prototype.handleEvent=function(e){var i;return t(this,void 0,void 0,function(){var t;return n(this,function(n){return e.origin===this.origin||r(d[5]).baseUrl.includes(e.origin)?e.data.clientId!==this.clientId?[2]:(this.debug&&console.log(e),e.source&&(this.targetWindow=e.source),e.data.eventType===r(d[3]).default.Response&&(this.debug&&console.log("[FramedClient][Response]"),t=e.data,e.data.eventName===r(d[4]).default.SkypeTokenAuth?t.requestId in this.requestCallbacks&&(this.requestCallbacks[t.requestId].resolve(),delete this.requestCallbacks[t.requestId]):e.data.eventName===r(d[4]).default.CreateObject?t.eventStatus===r(d[6]).default.Success?t.requestId in this.requestCallbacks&&(this.requestCallbacks[t.requestId].resolve(t.response),delete this.requestCallbacks[t.requestId]):t.requestId in this.requestCallbacks&&(this.requestCallbacks[t.requestId].reject(),delete this.requestCallbacks[t.requestId]):e.data.eventName===r(d[4]).default.UploadDocument?t.eventStatus===r(d[6]).default.Success?t.requestId in this.requestCallbacks&&(this.requestCallbacks[t.requestId].resolve(t.response),delete this.requestCallbacks[t.requestId]):t.requestId in this.requestCallbacks&&(this.requestCallbacks[t.requestId].reject(),delete this.requestCallbacks[t.requestId]):e.data.eventName===r(d[4]).default.GetViewStatus?t.requestId in this.requestCallbacks&&(this.requestCallbacks[t.requestId].resolve(t.response),delete this.requestCallbacks[t.requestId]):e.data.eventName===r(d[4]).default.GetView?t.requestId in this.requestCallbacks&&(this.requestCallbacks[t.requestId].resolve(t.response),delete this.requestCallbacks[t.requestId]):e.data.eventName===r(d[4]).default.SendTelemetry&&(null===(i=this.logger)||void 0===i||i.log(t.logLevel,t.logData.Event,t.logData))),[2]):[2]})})},s.prototype.dispose=function(){var e;null===(e=document.getElementById(this.iframeId))||void 0===e||e.remove(),this.requestCallbacks={},this.iframeLoaded=!1},s.prototype.loadIframe=function(){return t(this,void 0,void 0,function(){var e=this;return n(this,function(t){return[2,new Promise(function(t,n){if(Array.from(document.getElementsByTagName('iframe')).filter(function(t){return t.id==e.iframeId}).length)return t();var i=document.createElement('iframe');i.id=e.iframeId,i.src=r(d[5]).baseUrl+"/"+r(d[5]).sdkVersion+"/iframe.html?clientId="+e.clientId+"&debug="+e.debug+"&telemetry=true",i.addEventListener('load',function(){e.debug&&console.log('iframe loaded!'),e.iframeLoaded=!0,t()}),i.addEventListener('error',function(){n()}),document.head.append(i)})]})})},s})();_e.default=s},888,[889,890,891,892,893,894,895]);
__d(function(g,_r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uuidv4=void 0;e.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(x){var t=16*Math.random()|0;return("x"===x?t:3&t|8).toString(16)})}},889,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isReactNative=e.isNode=e.isBrowser=void 0;e.isBrowser=function(){return'undefined'!=typeof window&&void 0!==window.document};e.isNode=function(){return'undefined'!=typeof process&&null!=process.versions&&null!=process.versions.node};e.isReactNative=function(){return'undefined'!=typeof navigator&&'ReactNative'==navigator.product},e.default={isBrowser:e.isBrowser,isNode:e.isNode,isReactNative:e.isReactNative}},890,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.silentError=!0,t.debug=!1,t})();e.default=t},891,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),(function(n){n.None="None",n.Request="Request",n.Response="Response"})(n||(n={})),e.default=n},892,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),(function(t){t.IframeLoaded="AMSIframeLoaded",t.SkypeTokenAuth="AMSSkypeTokenAuth",t.CreateObject="AMSCreateObject",t.UploadDocument="AMSUploadDocument",t.GetViewStatus="AMSGetViewStatus",t.GetView="AMSGetView",t.SendTelemetry="AMSSendTelemetry"})(t||(t={})),e.default=t},893,[]);
__d(function(g,r,i,a,m,e,d){e.baseUrl='https://comms.omnichannelengagementhub.com/ams',e.sdkVersion='0.1.6'},894,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),(function(u){u.None="None",u.Success="Success",u.Failure="Failure"})(u||(u={})),e.default=u},895,[]);
__d(function(_g2,r,i,a,m,_e2,d){"use strict";var t=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(u,l){function s(t){try{h(o.next(t))}catch(t){l(t)}}function c(t){try{h(o.throw(t))}catch(t){l(t)}}function h(t){var e;t.done?u(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}h((o=o.apply(t,e||[])).next())})},e=this&&this.__generator||function(t,e){var n,o,u,l,s={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return l={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(t){return function(e){return h([t,e])}}function h(l){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(u=2&l[0]?o.return:l[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,l[1])).done)return u;switch(o=0,u&&(l=[2&l[0],u.value]),l[0]){case 0:case 1:u=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,o=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!(u=(u=s.trys).length>0&&u[u.length-1])&&(6===l[0]||2===l[0])){s=0;continue}if(3===l[0]&&(!u||l[1]>u[0]&&l[1]<u[3])){s.label=l[1];break}if(6===l[0]&&s.label<u[1]){s.label=u[1],u=l;break}if(u&&s.label<u[2]){s.label=u[2],s.ops.push(l);break}u[2]&&s.ops.pop(),s.trys.pop();continue}l=e.call(t,s)}catch(t){l=[6,t],o=0}finally{n=u=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(_e2,"__esModule",{value:!0});var n=(function(){function n(t){void 0===t&&(t=void 0),this.runtimeId=r(d[0]).uuidv4(),this.debug=!1,this.logger=t,r(d[1]).default.isBrowser()&&console.error('FramedMode should be used on Web platform'),t&&(this.scenarioMarker=new(r(d[2]).default)(t),this.scenarioMarker.setRuntimeId(this.runtimeId))}return n.prototype.setDebug=function(t){this.debug=t},n.prototype.setup=function(){return t(this,void 0,void 0,function(){return e(this,function(t){return[2,Promise.resolve()]})})},n.prototype.initialize=function(n){return t(this,void 0,void 0,function(){return e(this,function(t){switch(t.label){case 0:return this.debug&&console.log("[FramedlessClient][initialize]"),this.chatToken=n.chatToken,[4,this.skypeTokenAuth()];case 1:return t.sent(),[2]}})})},n.prototype.skypeTokenAuth=function(n){var o,u,l,s,c,h,v,f;return void 0===n&&(n=null),t(this,void 0,void 0,function(){var t,p;return e(this,function(e){switch(e.label){case 0:null===(o=this.scenarioMarker)||void 0===o||o.startScenario(r(d[3]).default.SkypeTokenAuth,{AMSClientRuntimeId:this.runtimeId,ChatId:n?n.chatId:null===(u=this.chatToken)||void 0===u?void 0:u.chatId}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,r(d[4]).default.skypeTokenAuth(n||this.chatToken)];case 2:return(t=e.sent()).ok||null===(l=this.scenarioMarker)||void 0===l||l.failScenario(r(d[3]).default.SkypeTokenAuth,{AMSClientRuntimeId:this.runtimeId,ChatId:n?n.chatId:null===(s=this.chatToken)||void 0===s?void 0:s.chatId,ExceptionDetails:{status:t.status}}),null===(c=this.scenarioMarker)||void 0===c||c.completeScenario(r(d[3]).default.SkypeTokenAuth,{AMSClientRuntimeId:this.runtimeId,ChatId:n?n.chatId:null===(h=this.chatToken)||void 0===h?void 0:h.chatId}),[2,t];case 3:throw p=e.sent(),null===(v=this.scenarioMarker)||void 0===v||v.failScenario(r(d[3]).default.SkypeTokenAuth,{AMSClientRuntimeId:this.runtimeId,ChatId:n?n.chatId:null===(f=this.chatToken)||void 0===f?void 0:f.chatId,ExceptionDetails:p}),new Error('skypeTokenAuth');case 4:return[2]}})})},n.prototype.createObject=function(n,o,u,l){var s,c,h,v,f,p;return void 0===u&&(u=null),void 0===l&&(l=[]),t(this,void 0,void 0,function(){var t,I;return e(this,function(e){switch(e.label){case 0:null===(s=this.scenarioMarker)||void 0===s||s.startScenario(r(d[3]).default.CreateObject,{AMSClientRuntimeId:this.runtimeId,ChatId:u?u.chatId:null===(c=this.chatToken)||void 0===c?void 0:c.chatId,MimeType:o.type,FileExtension:r(d[5]).default(o.name)}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,r(d[4]).default.createObject(n,o,u||this.chatToken,l)];case 2:return t=e.sent(),null===(h=this.scenarioMarker)||void 0===h||h.completeScenario(r(d[3]).default.CreateObject,{AMSClientRuntimeId:this.runtimeId,ChatId:u?u.chatId:null===(v=this.chatToken)||void 0===v?void 0:v.chatId,DocumentId:null==t?void 0:t.id,MimeType:o.type,FileExtension:r(d[5]).default(o.name)}),[2,t];case 3:throw I=e.sent(),null===(f=this.scenarioMarker)||void 0===f||f.failScenario(r(d[3]).default.CreateObject,{AMSClientRuntimeId:this.runtimeId,ChatId:u?u.chatId:null===(p=this.chatToken)||void 0===p?void 0:p.chatId,MimeType:o.type,FileExtension:r(d[5]).default(o.name),ExceptionDetails:I}),new Error('createObject');case 4:return[2]}})})},n.prototype.uploadDocument=function(n,o,u,l){var s,c,h,v,f,p;return void 0===u&&(u=null),void 0===l&&(l=[]),t(this,void 0,void 0,function(){var t,I;return e(this,function(e){switch(e.label){case 0:null===(s=this.scenarioMarker)||void 0===s||s.startScenario(r(d[3]).default.UploadDocument,{AMSClientRuntimeId:this.runtimeId,ChatId:u?u.chatId:null===(c=this.chatToken)||void 0===c?void 0:c.chatId,DocumentId:n,MimeType:o.type,FileExtension:r(d[5]).default(o.name)}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,r(d[4]).default.uploadDocument(n,o,u||this.chatToken,l)];case 2:return t=e.sent(),null===(h=this.scenarioMarker)||void 0===h||h.completeScenario(r(d[3]).default.UploadDocument,{AMSClientRuntimeId:this.runtimeId,ChatId:u?u.chatId:null===(v=this.chatToken)||void 0===v?void 0:v.chatId,DocumentId:n,MimeType:o.type,FileExtension:r(d[5]).default(o.name)}),[2,t];case 3:throw I=e.sent(),null===(f=this.scenarioMarker)||void 0===f||f.failScenario(r(d[3]).default.UploadDocument,{AMSClientRuntimeId:this.runtimeId,ChatId:u?u.chatId:null===(p=this.chatToken)||void 0===p?void 0:p.chatId,DocumentId:n,MimeType:o.type,FileExtension:r(d[5]).default(o.name),ExceptionDetails:I}),new Error('uploadDocument');case 4:return[2]}})})},n.prototype.getViewStatus=function(n,o,u){var l,s,c,h,v,f;return void 0===o&&(o=null),void 0===u&&(u=[]),t(this,void 0,void 0,function(){var t,p;return e(this,function(e){switch(e.label){case 0:null===(l=this.scenarioMarker)||void 0===l||l.startScenario(r(d[3]).default.GetViewStatus,{AMSClientRuntimeId:this.runtimeId,ChatId:o?o.chatId:null===(s=this.chatToken)||void 0===s?void 0:s.chatId,DocumentId:null==n?void 0:n.id,MimeType:null==n?void 0:n.type,FileExtension:r(d[5]).default((null==n?void 0:n.name)||'')}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,r(d[4]).default.getViewStatus(n,o||this.chatToken,u)];case 2:return t=e.sent(),null===(c=this.scenarioMarker)||void 0===c||c.completeScenario(r(d[3]).default.GetViewStatus,{AMSClientRuntimeId:this.runtimeId,ChatId:o?o.chatId:null===(h=this.chatToken)||void 0===h?void 0:h.chatId,DocumentId:null==n?void 0:n.id,MimeType:null==n?void 0:n.type,FileExtension:r(d[5]).default((null==n?void 0:n.name)||'')}),[2,t];case 3:throw p=e.sent(),null===(v=this.scenarioMarker)||void 0===v||v.failScenario(r(d[3]).default.GetViewStatus,{AMSClientRuntimeId:this.runtimeId,ChatId:o?o.chatId:null===(f=this.chatToken)||void 0===f?void 0:f.chatId,DocumentId:null==n?void 0:n.id,MimeType:null==n?void 0:n.type,FileExtension:r(d[5]).default((null==n?void 0:n.name)||''),ExceptionDetails:p}),new Error('getViewStatus');case 4:return[2]}})})},n.prototype.getView=function(n,o,u,l){var s,c,h,v,f,p;return void 0===u&&(u=null),void 0===l&&(l=[]),t(this,void 0,void 0,function(){var t,I;return e(this,function(e){switch(e.label){case 0:null===(s=this.scenarioMarker)||void 0===s||s.startScenario(r(d[3]).default.GetView,{AMSClientRuntimeId:this.runtimeId,ChatId:u?u.chatId:null===(c=this.chatToken)||void 0===c?void 0:c.chatId,DocumentId:null==n?void 0:n.id,MimeType:null==n?void 0:n.type,FileExtension:r(d[5]).default((null==n?void 0:n.name)||'')}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,r(d[4]).default.getView(n,o,u||this.chatToken,l)];case 2:return t=e.sent(),null===(h=this.scenarioMarker)||void 0===h||h.completeScenario(r(d[3]).default.GetView,{AMSClientRuntimeId:this.runtimeId,ChatId:u?u.chatId:null===(v=this.chatToken)||void 0===v?void 0:v.chatId,DocumentId:null==n?void 0:n.id,MimeType:null==n?void 0:n.type,FileExtension:r(d[5]).default((null==n?void 0:n.name)||'')}),[2,t];case 3:throw I=e.sent(),null===(f=this.scenarioMarker)||void 0===f||f.failScenario(r(d[3]).default.GetView,{AMSClientRuntimeId:this.runtimeId,ChatId:u?u.chatId:null===(p=this.chatToken)||void 0===p?void 0:p.chatId,DocumentId:null==n?void 0:n.id,MimeType:null==n?void 0:n.type,FileExtension:r(d[5]).default((null==n?void 0:n.name)||''),ExceptionDetails:I}),new Error('getView');case 4:return[2]}})})},n.prototype.fetchBlob=function(n){return t(this,void 0,void 0,function(){var t;return e(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,fetch(n)];case 1:return[4,e.sent().blob()];case 2:return[2,e.sent()];case 3:throw t=e.sent(),console.log(t),new Error('fetchBlob');case 4:return[2]}})})},n})();_e2.default=n},896,[889,890,897,893,901,902]);
__d(function(g,r,_i,a,m,e,d){"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++)for(var o in n=arguments[s])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var n=(function(){function n(t){this.runtimeId='',this.sdkVersion='',this.logger=t,this.sdkVersion=r(d[0]).sdkVersion,this.telemetryEvents=new Map}return n.prototype.setRuntimeId=function(t){this.runtimeId=t},n.prototype.startScenario=function(n,s){if(void 0===s&&(s={}),!this.telemetryEvents.has(n)){var i=new(r(d[1]).default);i.start(),this.telemetryEvents.set(n,i)}var o=t({AMSClientRuntimeId:this.runtimeId,Event:r(d[2]).startEvent(n),AMSClientVersion:this.sdkVersion},s);this.logger.log(r(d[3]).default.INFO,n,o)},n.prototype.failScenario=function(n,s){if(void 0===s&&(s={}),this.telemetryEvents.has(n)){var i=this.telemetryEvents.get(n);this.telemetryEvents.delete(n);var o=t({AMSClientRuntimeId:this.runtimeId,Event:r(d[2]).failEvent(n),AMSClientVersion:this.sdkVersion,ElapsedTimeInMilliseconds:i.stop()},s);this.logger.log(r(d[3]).default.ERROR,n,o)}else console.warn("'"+n+"' event has not started.")},n.prototype.completeScenario=function(n,s){if(void 0===s&&(s={}),this.telemetryEvents.has(n)){var i=this.telemetryEvents.get(n);this.telemetryEvents.delete(n);var o=t({AMSClientRuntimeId:this.runtimeId,Event:r(d[2]).completeEvent(n),AMSClientVersion:this.sdkVersion,ElapsedTimeInMilliseconds:i.stop()},s);this.logger.log(r(d[3]).default.INFO,n,o)}else console.warn("'"+n+"' event has not started.")},n})();e.default=n},897,[894,898,899,900]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(){}return t.prototype.start=function(){this.timeStart=(new Date).getTime()},t.prototype.stop=function(){return(new Date).getTime()-this.timeStart},t})();e.default=t},898,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.failEvent=e.completeEvent=e.startEvent=void 0;e.startEvent=function(t){return t+"Started"};e.completeEvent=function(t){return t+"Completed"};e.failEvent=function(t){return t+"Failed"}},899,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var R;Object.defineProperty(e,"__esModule",{value:!0}),(function(R){R.INFO="INFO",R.DEBUG="DEBUG",R.WARN="WARN",R.ERROR="ERROR",R.LOG="LOG"})(R||(R={})),e.default=R},900,[]);
__d(function(_g,r,_i,a,m,_e,d){"use strict";var e,t,n,o,i,s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},c=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,s){function c(e){try{u(o.next(e))}catch(e){s(e)}}function l(e){try{u(o.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(c,l)}u((o=o.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var n,o,i,s,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(e){return function(t){return u([e,t])}}function u(s){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,o=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){c=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){c.label=s[1];break}if(6===s[0]&&c.label<i[1]){c.label=i[1],i=s;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(s);break}i[2]&&c.ops.pop(),c.trys.pop();continue}s=t.call(e,c)}catch(e){s=[6,e],o=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(_e,"__esModule",{value:!0}),(function(e){e.Create="Create",e.Upload="Upload"})(e||(e={})),(function(e){e.CreateDocumentType="sharing/file",e.UploadDocumentType="original",e.CreateImageType="pish/image",e.UploadImageType="imgpsh"})(t||(t={})),(function(e){e.Accept="Accept",e.AcceptEncoding="Accept-Encoding",e.BehaviorOverride="BehaviorOverride",e.Authorization="Authorization",e.ClientVersion="X-MS-Client-Version",e.ContentType="Content-Type"})(n||(n={})),(function(e){e.applicationFormUrlEncoded="application/x-www-form-urlencoded",e.applicationJson="application/json"})(o||(o={})),(function(e){e.Expired="expired",e.Failed="failed",e.InProgress="in progress",e.Malware="malware",e.Ready="ready"})(i||(i={}));var u=["image/jpeg","image/png","image/gif"],p=function(e){e.regionGTMS||(e.regionGTMS={ams:'https://us-api.asm.skype.com'})},f=function(e){var t;return(t={})[n.Authorization]="skype_token "+e,t[n.ClientVersion]='os=Windows; osVer=10; proc=Win32; lcid=en-us; deviceType=1; country=IN; clientName=swc; clientVer=912/0.106.0.34//swc',t},h=function(e){return e&&e.length>0?e:u},y=function(n,o,i){return h(i).includes(n.toLowerCase())?o===e.Create?t.CreateImageType:t.UploadImageType:o===e.Create?t.CreateDocumentType:t.UploadDocumentType};_e.default={skypeTokenAuth:function(e){return c(void 0,void 0,void 0,function(){var t,i,s,c,u;return l(this,function(l){switch(l.label){case 0:r(d[0]).default.debug&&console.log("[API][skypeTokenAuth]"),p(e),t=(e.amsEndpoint||(null===(u=e.regionGTMS)||void 0===u?void 0:u.ams))+"/v1/skypetokenauth",(c={})[n.Authorization]="skype_token "+e.token,c[n.Accept]=o.applicationJson,c[n.BehaviorOverride]='redirectAs404',c[n.ContentType]=o.applicationFormUrlEncoded,i={headers:c,method:'POST',body:"skypetoken="+e.token},l.label=1;case 1:return l.trys.push([1,3,,4]),[4,fetch(t,i)];case 2:return[2,l.sent()];case 3:throw s=l.sent(),!r(d[0]).default.silentError&&console.log(s),new Error('AMSAuth');case 4:return[2]}})})},createObject:function(t,i,u,h){return c(void 0,void 0,void 0,function(){var c,g,v,w,b,E,T,A,k,S,C;return l(this,function(l){switch(l.label){case 0:r(d[0]).default.debug&&console.log("[API][createObject]"),(k={})[t]=['read'],c=k,g=y(i.type,e.Create,h),v={filename:i.name,permissions:c,type:g},p(u),w=(u.amsEndpoint||(null===(C=null==u?void 0:u.regionGTMS)||void 0===C?void 0:C.ams))+"/v1/objects",b=s(s({},f(u.token)),((S={})[n.ContentType]=o.applicationJson,S)),E={headers:b,method:'POST',body:JSON.stringify(v),credentials:'include'},l.label=1;case 1:return l.trys.push([1,4,,5]),[4,fetch(w,E)];case 2:if(!(T=l.sent()).ok)throw new Error("AMSCreateObjectFailed");return[4,T.json()];case 3:return[2,l.sent()];case 4:throw A=l.sent(),!r(d[0]).default.silentError&&console.log(A),new Error('AMSCreateObjectFailed');case 5:return[2]}})})},uploadDocument:function(t,i,u,h){return c(void 0,void 0,void 0,function(){var c,g,v,w,b,E,T;return l(this,function(l){switch(l.label){case 0:r(d[0]).default.debug&&console.log("[API][uploadDocument]"),p(u),c=y(i.type,e.Upload,h),g=(u.amsEndpoint||(null===(T=null==u?void 0:u.regionGTMS)||void 0===T?void 0:T.ams))+"/v1/objects/"+t+"/content/"+c,v=s(s({},f(u.token)),((E={})[n.ContentType]=o.applicationFormUrlEncoded,E)),w={headers:v,method:'PUT',body:i.data?i.data:i},l.label=1;case 1:return l.trys.push([1,3,,4]),[4,fetch(g,w)];case 2:if(!l.sent().ok)throw new Error("AMSUploadDocumentFailed");return[2,{name:i.name,size:i.size,type:i.type,id:t,url:g,fileSharingProtocolType:0}];case 3:throw b=l.sent(),!r(d[0]).default.silentError&&console.log(b),new Error('AMSUploadDocumentFailed');case 4:return[2]}})})},getViewStatus:function(e,t,n){return c(void 0,void 0,void 0,function(){var o,s,c,u,y,g,v,w;return l(this,function(l){switch(l.label){case 0:r(d[0]).default.debug&&console.log("[API][getViewStatus]"),p(t),o=(t.amsEndpoint||(null===(w=null==t?void 0:t.regionGTMS)||void 0===w?void 0:w.ams))+"/v1/objects/"+e.id+"/views/"+(h(n).includes(e.type)?'imgpsh_fullsize_anim':'original')+"/status",s=f(t.token),c={headers:s,method:'GET'},l.label=1;case 1:return l.trys.push([1,4,,5]),[4,fetch(o,c)];case 2:return[4,l.sent().json()];case 3:if(u=l.sent(),y=u.content_state,g=u.view_state,!u.view_location)throw new Error('view_location is empty');if(g&&g!==i.Ready.toString()&&!r(d[0]).default.silentError&&console.error('view_state is not ready'),y===i.Expired.toString())throw new Error('content_state is expired');return[2,u];case 4:throw v=l.sent(),!r(d[0]).default.silentError&&console.log(v),new Error('AMSGetViewStatusFailed');case 5:return[2]}})})},getView:function(e,t,o,i){return c(void 0,void 0,void 0,function(){var s,c,u,y;return l(this,function(l){switch(l.label){case 0:r(d[0]).default.debug&&console.log("[API][getView]"),p(o),s=t,c=f(o.token),h(i).includes(e.type)&&(c[n.Accept]='image/webp,image/ *,*/*;q=0.8',c[n.AcceptEncoding]='gzip, deflate, sdch, br'),u={headers:c,method:'GET'},l.label=1;case 1:return l.trys.push([1,4,,5]),[4,fetch(s,u)];case 2:return[4,l.sent().blob()];case 3:return[2,l.sent()];case 4:throw y=l.sent(),!r(d[0]).default.silentError&&console.log(y),new Error('AMSGetViewFailed');case 5:return[2]}})})}}},901,[891]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){if(!t)return'';var n=t.split('.');if(n.length>2)return"."+n[n.length-1];if(2==n.length){var u=n[0],l=n[1];return!u&&l?'':u&&!l?'.':"."+n[n.length-1]}return''}},902,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCoreServicesOrgUrl=e.createCoreServicesOrgUrl=e.getCoreServicesGeoName=e.nonProductionDynamicsLocationCode=e.unqOrgUrlPattern=e.coreServicesOrgUrlPrefix=e.CoreServicesGeoNamesMapping=void 0,e.CoreServicesGeoNamesMapping={crm:"us",crm2:"br",crm3:"ca",crm4:"eu",crm5:"as",crm6:"au",crm7:"jp",crm8:"in",crm9:"gov",crm10:"preprod",crm11:"uk",crm12:"fr",crm14:"za",crm15:"ae",crm16:"de",crm17:"ch",crm19:"no",crm20:"sg",crm21:"kr",crm22:"se",crmtest:"test"},e.coreServicesOrgUrlPrefix="https://m-",e.unqOrgUrlPattern=/http[s]*:\/\/[\w-]*-(crmtest|crm[\d]*).[\w.]*/,e.nonProductionDynamicsLocationCode=["crm10","crmtest"];e.getCoreServicesGeoName=function(c){var o;return null!==(o=e.CoreServicesGeoNamesMapping[c])&&void 0!==o?o:""};e.createCoreServicesOrgUrl=function(c,o){var n="omnichannelengagementhub.com";return"gov"===o&&(n="omnichannelengagementhub.us"),"https://m-".concat(c,".").concat(o,".").concat(n)};e.isCoreServicesOrgUrl=function(c){return c.startsWith(e.coreServicesOrgUrlPrefix)}},903,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var n,u=1,i=arguments.length;u<i;u++)for(var o in n=arguments[u])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});e.default=function(n){var u=t({},r(d[0]).default);return n&&(u.useUnauthReconnectIdSigQueryParam=!0),u}},904,[905]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={getChatTokenRetryCount:5,getChatTokenTimeBetweenRetriesOnFailure:2e3,getChatTokenRetryOn429:!0,useUnauthReconnectIdSigQueryParam:!1}},905,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";var t=this&&this.__spreadArray||function(t,n,c){if(c||2===arguments.length)for(var o,s=0,i=n.length;s<i;s++)!o&&s in n||(o||(o=Array.prototype.slice.call(n,0,s)),o[s]=n[s]);return t.concat(o||Array.prototype.slice.call(n))};Object.defineProperty(e,"__esModule",{value:!0});e.default=function(n,c){var o=r(d[0]).version,s="omnichannel-chat-sdk/".concat(o);n.ocUserAgent||(n.ocUserAgent=[]),n.ocUserAgent=t([s],n.ocUserAgent,!0),c&&(n.ocUserAgent=t(t([],c,!0),n.ocUserAgent,!0))}},906,[419]);
__d(function(g,r,i,a,m,e,d){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),(function(t){t.Active="Active",t.Closed="Closed",t.Open="Open",t.Waiting="Waiting",t.WrapUp="WrapUp"})(t||(t={})),e.default=t},907,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseLowerCaseString=void 0;var t=function(t){return String(t).toLowerCase()};e.parseLowerCaseString=t,e.default={parseLowerCaseString:t}},908,[]);
__d(function(_g,r,i,a,m,_e,d){"use strict";var t=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(c,u){function l(t){try{f(o.next(t))}catch(t){u(t)}}function s(t){try{f(o.throw(t))}catch(t){u(t)}}function f(t){var e;t.done?c(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(l,s)}f((o=o.apply(t,e||[])).next())})},e=this&&this.__generator||function(t,e){var n,o,c,u={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=s(0),l.throw=s(1),l.return=s(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function s(t){return function(e){return f([t,e])}}function f(s){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,s[0]&&(u=0)),u;)try{if(n=1,o&&(c=2&s[0]?o.return:s[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,s[1])).done)return c;switch(o=0,c&&(s=[2&s[0],c.value]),s[0]){case 0:case 1:c=s;break;case 4:return u.label++,{value:s[1],done:!1};case 5:u.label++,o=s[1],s=[0];continue;case 7:s=u.ops.pop(),u.trys.pop();continue;default:if(!(c=(c=u.trys).length>0&&c[c.length-1])&&(6===s[0]||2===s[0])){u=0;continue}if(3===s[0]&&(!c||s[1]>c[0]&&s[1]<c[3])){u.label=s[1];break}if(6===s[0]&&u.label<c[1]){u.label=c[1],c=s;break}if(c&&u.label<c[2]){u.label=c[2],u.ops.push(s);break}c[2]&&u.ops.pop(),u.trys.pop();continue}s=e.call(t,u)}catch(t){s=[6,t],o=0}finally{n=c=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(_e,"__esModule",{value:!0}),_e.getLocationInfo=void 0;_e.getLocationInfo=function(n,o,c){return t(void 0,void 0,void 0,function(){var t;return e(this,function(e){return t=function(t,e){var u;console.error(t,e);try{u=JSON.stringify({Response:t,ExceptionalDetails:e})}catch(e){u=JSON.stringify({Response:t})}n.failScenario(r(d[0]).default.GetGeolocation,{RequestId:c,ChatId:o,ExceptionDetails:u})},[2,new Promise(function(e,u){n.startScenario(r(d[0]).default.GetGeolocation,{RequestId:c});var l={latitude:"",longitude:""};(r(d[1]).default.isNode()||r(d[1]).default.isReactNative()||!navigator.geolocation)&&(t("Unsupported"),e(l)),navigator.geolocation.getCurrentPosition(function(u){try{l.latitude=u.coords.latitude.toString(),l.longitude=u.coords.longitude.toString(),n.completeScenario(r(d[0]).default.GetGeolocation,{RequestId:c,ChatId:o}),e(l)}catch(n){t("GetGeolocationFailed",n),e(l)}},function(n){t("GetGeolocationFailed",n),e(l)})})]})})}},909,[767,743]);
__d(function(g,r,i,a,m,e,d){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),(function(t){t[t.WidgetUseOutsideOperatingHour=705]="WidgetUseOutsideOperatingHour",t[t.WidgetNotFound=701]="WidgetNotFound"})(t||(t={})),e.default=t},910,[]);
__d(function(g,r,_i,a,m,_e,d){"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var s,t=1,i=arguments.length;t<i;t++)for(var o in s=arguments[t])Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);return e}).apply(this,arguments)};Object.defineProperty(_e,"__esModule",{value:!0}),_e.suppressConversationDetailsRetrievalFailure=_e.suppressChatSDKError=void 0;_e.suppressChatSDKError=function(s,t,i,o,n,p){void 0===n&&(n={}),void 0===p&&(p="");var l={response:s};t&&(l.errorObject="".concat(t)),i.failScenario(o,e(e({},n),{ExceptionDetails:JSON.stringify(l)})),p&&(l.message=p,console.error(p))};_e.suppressConversationDetailsRetrievalFailure=function(e,s,t,i){void 0===i&&(i={}),(0,_e.suppressChatSDKError)(r(d[0]).ChatSDKErrorName.ConversationDetailsRetrievalFailure,e,s,t,i)},_e.default={suppressChatSDKError:_e.suppressChatSDKError,suppressConversationDetailsRetrievalFailure:_e.suppressConversationDetailsRetrievalFailure}},911,[452]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={IC3:'IC3',DirectLine:'DirectLine',ACS:'ACS'}},912,[]);
__d(function(_g,r,_i,a,m,_e,d){"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},t=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,l){function c(e){try{s(i.next(e))}catch(e){l(e)}}function u(e){try{s(i.throw(e))}catch(e){l(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(c,u)}s((i=i.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){var n,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=u(0),c.throw=u(1),c.return=u(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function u(e){return function(t){return s([e,t])}}function s(u){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(l=0)),l;)try{if(n=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return l.label++,{value:u[1],done:!1};case 5:l.label++,i=u[1],u=[0];continue;case 7:u=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){l=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){l.label=u[1];break}if(6===u[0]&&l.label<o[1]){l.label=o[1],o=u;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(u);break}o[2]&&l.ops.pop(),l.trys.pop();continue}u=t.call(e,l)}catch(e){u=[6,e],i=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,o=0,l=t.length;o<l;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(_e,"__esModule",{value:!0}),_e.createIC3Adapter=_e.createACSAdapter=_e.createDirectLine=void 0;var o=function(i,o,l,c,u,s){return t(void 0,void 0,void 0,function(){var t,f,p,v,h;return n(this,function(n){switch(n.label){case 0:t=i.DirectLine?i.DirectLine.options:{},f=r(d[0]).default.resolveChatAdapterUrl(o,l,c),null==u||u.setCDNPackages({DirectLine:f}),s.startScenario(r(d[1]).default.CreateDirectLine),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,r(d[2]).default.loadScript(f)];case 2:return n.sent(),[3,4];case 3:return p=n.sent(),r(d[3]).default.throwScriptLoadFailure(p,s,r(d[1]).default.CreateDirectLine),[3,4];case 4:try{return v=window.DirectLine,h=new v.DirectLine(e({},t)),s.completeScenario(r(d[1]).default.CreateDirectLine),[2,h]}catch(e){r(d[3]).default.throwChatAdapterInitializationFailure(e,s,r(d[1]).default.CreateDirectLine)}return[2]}})})};_e.createDirectLine=o;var l=function(o,l,c,u,s,f,p,v,h,C,A){return t(void 0,void 0,void 0,function(){var t,l,c,u,s,w,b,y,S,g,I,D,L;return n(this,function(n){t=o.ACSAdapter,l=t?t.options:{},c=[(0,r(d[4]).default)({widgetId:p.widgetId}),(0,r(d[5]).default)()],u=[(0,r(d[6]).default)()],!1===(null===(I=null==t?void 0:t.fileScan)||void 0===I?void 0:I.disabled)&&(u=i([(0,r(d[7]).default)()],u,!0)),s={notifyErrorEvent:function(n){var i;A.logEvent(r(d[8]).default.ERROR,e({},n)),(null==t?void 0:t.errorEventSubscriber)&&(null===(i=null==t?void 0:t.errorEventSubscriber)||void 0===i||i.notifyErrorEvent(n))}},w=(null==l?void 0:l.egressMiddleware)?i(i([],l.egressMiddleware,!0),c,!0):i([],c,!0),b=(null==l?void 0:l.ingressMiddleware)?i(i([],l.ingressMiddleware,!0),u,!0):i([],u,!0),y=e(e({enableAdaptiveCards:!0,enableThreadMemberUpdateNotification:!0,enableLeaveThreadOnWindowClosed:!1,enableSenderDisplayNameInTypingNotification:!0},l),{ingressMiddleware:b,egressMiddleware:w}),f.startScenario(r(d[1]).default.CreateACSAdapter);try{return S=(0,r(d[9]).createACSAdapter)(v.token,v.visitorId||'teamsvisitor',v.chatId,v.acsEndpoint,h,3e4,s,r(d[10]).default.Customer,C,A,y),f.completeScenario(r(d[1]).default.CreateACSAdapter),!1===(null===(L=null===(D=o.ACSAdapter)||void 0===D?void 0:D.fileScan)||void 0===L?void 0:L.disabled)&&(S.end&&(g=S.end,S.end=function(){S.fileManager.fileScanner.end(),g()}),window.chatAdapter=S),[2,S]}catch(e){r(d[3]).default.throwChatAdapterInitializationFailure(e,f,r(d[1]).default.CreateACSAdapter)}return[2]})})};_e.createACSAdapter=l;var c=function(i,o,l,c,u,s,f,p,v){return t(void 0,void 0,void 0,function(){var t,h,C,A,w;return n(this,function(n){switch(n.label){case 0:t=i.IC3Adapter?i.IC3Adapter.options:{},h=r(d[0]).default.resolveChatAdapterUrl(o,l,c),null==u||u.setCDNPackages({IC3Adapter:h}),s.startScenario(r(d[1]).default.CreateIC3Adapter),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,r(d[2]).default.loadScript(h)];case 2:return n.sent(),[3,4];case 3:return C=n.sent(),r(d[3]).default.throwScriptLoadFailure(C,s,r(d[1]).default.CreateACSAdapter),[3,4];case 4:A=e({chatToken:f,userDisplayName:'Customer',userId:f.visitorId||'teamsvisitor',sdkURL:r(d[0]).default.resolveIC3ClientUrl(o),sdk:p},t);try{return(w=new window.Microsoft.BotFramework.WebChat.IC3Adapter(A)).logger=v,s.completeScenario(r(d[1]).default.CreateIC3Adapter),[2,w]}catch(e){r(d[3]).default.throwChatAdapterInitializationFailure(e,s,r(d[1]).default.CreateIC3Adapter)}return[2]}})})};_e.createIC3Adapter=c,_e.default={createDirectLine:o,createACSAdapter:l,createIC3Adapter:c}},913,[914,767,765,744,916,917,918,919,751,920,698]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolveChatAdapterUrl=e.resolveIC3ClientUrl=void 0;var t=function(t){return t.ic3Config&&'ic3ClientCDNUrl'in t.ic3Config?t.ic3Config.ic3ClientCDNUrl:t.ic3Config&&'ic3ClientVersion'in t.ic3Config?r(d[0]).default.getIC3ClientCDNUrl(t.ic3Config.ic3ClientVersion):r(d[0]).default.getIC3ClientCDNUrl()};e.resolveIC3ClientUrl=t;var C=function(t){return t.chatAdapterConfig&&'webChatDirectLineCDNUrl'in t.chatAdapterConfig?t.chatAdapterConfig.webChatDirectLineCDNUrl:t.chatAdapterConfig&&'webChatDirectLineVersion'in t.chatAdapterConfig?r(d[0]).default.getDirectLineCDNUrl(t.chatAdapterConfig.webChatDirectLineVersion):r(d[0]).default.getDirectLineCDNUrl()},n=function(t){return t.chatAdapterConfig&&'webChatACSAdapterCDNUrl'in t.chatAdapterConfig?t.chatAdapterConfig.webChatACSAdapterCDNUrl:t.chatAdapterConfig&&'webChatACSAdapterVersion'in t.chatAdapterConfig?r(d[0]).default.getACSAdapterCDNUrl(t.chatAdapterConfig.webChatACSAdapterVersion):r(d[0]).default.getACSAdapterCDNUrl()},l=function(t){return t.chatAdapterConfig&&'webChatIC3AdapterCDNUrl'in t.chatAdapterConfig?t.chatAdapterConfig.webChatIC3AdapterCDNUrl:t.chatAdapterConfig&&'webChatIC3AdapterVersion'in t.chatAdapterConfig?r(d[0]).default.getIC3AdapterCDNUrl(t.chatAdapterConfig.webChatIC3AdapterVersion):r(d[0]).default.getIC3AdapterCDNUrl()},o=function(t,o,f){var c=[r(d[1]).default.ACS,r(d[1]).default.IC3,r(d[1]).default.DirectLine];if(f&&!c.includes(f))throw new Error("ChatAdapter for protocol ".concat(f," currently not supported"));return f===r(d[1]).default.DirectLine?C(t):f===r(d[1]).default.ACS||o===r(d[2]).default.V2?n(t):f===r(d[1]).default.IC3||o===r(d[2]).default.V1?l(t):''};e.resolveChatAdapterUrl=o,e.default={resolveIC3ClientUrl:t,resolveChatAdapterUrl:o}},914,[915,912,745]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDirectLineCDNUrl=e.getACSAdapterCDNUrl=e.getIC3AdapterCDNUrl=e.getIC3ClientCDNUrl=void 0;var t=function(t){return void 0===t&&(t=r(d[0]).ic3ClientVersion),"https://comms.omnichannelengagementhub.com/release/".concat(t,"/Scripts/SDK/SDK.min.js")};e.getIC3ClientCDNUrl=t;var n=function(t){return void 0===t&&(t=r(d[0]).webChatIC3AdapterVersion),"https://webchatic3.blob.core.windows.net/webchat-ic3adapter/".concat(t,"/botframework-webchat-adapter-ic3.production.min.js")};e.getIC3AdapterCDNUrl=n;var c=function(t){return void 0===t&&(t=r(d[0]).webChatACSAdapterVersion),"https://unpkg.com/acs_webchat-chat-adapter@".concat(t,"/dist/chat-adapter.js")};e.getACSAdapterCDNUrl=c;var o=function(t){return void 0===t&&(t=r(d[0]).webChatDirectLineVersion),"https://unpkg.com/botframework-directlinejs@".concat(t,"/dist/directline.js")};e.getDirectLineCDNUrl=o,e.default={getIC3ClientCDNUrl:t,getIC3AdapterCDNUrl:n,getACSAdapterCDNUrl:c,getDirectLineCDNUrl:o}},915,[740]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return function(){return function(n){return function(c){return c&&c.channelData&&(c.channelData.tags||(c.channelData.tags=[]),c.channelData.tags.includes(r(d[0]).channelIdTag)||c.channelData.tags.push(r(d[0]).channelIdTag),c.channelData.tags.includes(r(d[0]).customerMessageTag)||c.channelData.tags.push(r(d[0]).customerMessageTag),c.channelData.metadata||(c.channelData.metadata={}),c.channelData.metadata.deliveryMode||(c.channelData.metadata.deliveryMode=r(d[1]).DeliveryMode.Bridged),t.widgetId&&(c.channelData.metadata.widgetId=t.widgetId)),n(c)}}}}},916,[772,771]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(){return function(){return function(t){return function(n){var c=JSON.parse(JSON.stringify(n));if(c&&c.channelData&&c.channelData.tags){var f=c.channelData.tags;if('string'==typeof f)return t(n);if(f instanceof Array)c.channelData.tags=f.toString();else if('object'==typeof c.channelData.tags)try{c.channelData.tags=JSON.stringify(f)}catch(t){console.error(t)}}return t(c)}}}}},917,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(){return function(){return function(t){return function(n){var c=JSON.parse(JSON.stringify(n));if(c&&c.channelData&&c.channelData.tags){var u=c.channelData.tags;if('string'==typeof u)try{c.channelData.tags=JSON.parse(u)}catch(t){c.channelData.tags=u.split(',')}}return t(c)}}}}},918,[]);
__d(function(_g,r,_i,a,m,_e,d){"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},t=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,c){function u(e){try{f(i.next(e))}catch(e){c(e)}}function l(e){try{f(i.throw(e))}catch(e){c(e)}}function f(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(u,l)}f((i=i.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){var n,i,o,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=l(0),u.throw=l(1),u.return=l(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function l(e){return function(t){return f([e,t])}}function f(l){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,l[0]&&(c=0)),c;)try{if(n=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return c.label++,{value:l[1],done:!1};case 5:c.label++,i=l[1],l=[0];continue;case 7:l=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){c=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){c.label=l[1];break}if(6===l[0]&&c.label<o[1]){c.label=o[1],o=l;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(l);break}o[2]&&c.ops.pop(),c.trys.pop();continue}l=t.call(e,c)}catch(e){l=[6,e],i=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(_e,"__esModule",{value:!0});_e.default=function(){return function(){return function(i){return function(o){return t(void 0,void 0,void 0,function(){var t,c,u,l,f,s;return n(this,function(n){if(t=o.attachments,c=o.channelData,!t)return[2,i(o)];if(!(null===(f=null==c?void 0:c.metadata)||void 0===f?void 0:f.amsreferences)&&(null===(s=null==c?void 0:c.metadata)||void 0===s?void 0:s.amsReferences)&&(o.channelData.metadata.amsreferences=c.metadata.amsReferences),u=c.metadata.amsreferences)try{l=function(t){var n=window.chatAdapter.fileManager.fileScanner;if(!n)return i(o);var c=n.retrieveFileScanResult(t);if(c){var u=c.scan,l=c.fileMetadata,f=o.attachments.findIndex(function(e){return e.name===l.name});o.channelData.fileScan||(o.channelData.fileScan=[]),o.channelData.fileScan[f]=u}n.addNext(t,i),n.addActivity(t,e({},o))},JSON.parse(u).forEach(function(e){return l(e)})}catch(e){console.error(e)}return[2,i(o)]})})}}}}},919,[]);
__d(function(e,t,n,r,i,o,s){function a(e,n,r,i,o,a){return t(s[0])(t(s[1])(a?e.prototype:e),n,r,i,o)}function c(e,n,r,i){var o=t(s[2])(t(s[1])(1&i?e.prototype:e),n,r);return 2&i&&"function"==typeof o?function(e){return o.apply(r,e)}:o}function u(e,n,r){return n=t(s[1])(n),t(s[3])(e,l()?Reflect.construct(n,r||[],t(s[1])(e).constructor):n.apply(e,r))}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}var d,p;d=self,p=function(){return(function(){var n={2571:function(e,n,r){"use strict";r.d(n,{_:function(){return i}});var i=(function(e){function n(e){var r;return t(s[4])(this,n),(r=u(this,n,[e])).name="AbortError",r}return t(s[5])(n,e),t(s[6])(n)})(t(s[7])(Error))},181:function(e,t,n){"use strict";var r,i=(r=n(3401))&&"object"==typeof r&&"default"in r?r.default:r,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function a(e,t){return e(t={exports:{}},t.exports),t.exports}var c=a(function(e,t){e.exports=(function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)})([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithTimeout=function(e,t){var n,r=new Promise(function(t,r){fetch(e).then(function(e){clearTimeout(n),t(e)}).catch(function(e){clearTimeout(n),r(e)})});if(0!==t){var i=new Promise(function(r,i){n=setTimeout(i,t,new Error("Fetch for '"+e.url+"' timed out"))});return Promise.race([r,i])}return r},t.toJson=function(e){try{return JSON.stringify(e)}catch(t){return"Unable to serialize object of type "+typeof e}};var r=(function(){function e(){this.start=Date.now()}return Object.defineProperty(e.prototype,"duration",{get:function(){return Date.now()-this.start},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startTime",{get:function(){return this.start},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.start=Date.now()},e})();t.Timespan=r},function(e,t,n){var r=this&&this.__extends||(function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;c;)try{if(i=1,o&&(s=2&n[0]?o.return:n[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(!(s=(s=c.trys).length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,s,a,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),a=(function(e){function t(t){var n=e.call(this,t)||this;return n.name="CancelationError",n}return r(t,e),t})(Error),c=(function(){function e(t,n,r){this.logger=t,this.maxBackoffInMs=n,this.initialDelay=r,this.backoffCount=0,this.id=++e.idCounter}return e.prototype.delay=function(e){var t=this;if(void 0!==this.timerHandle)throw new Error("Retry sequence logical failure");if(-1===this.backoffCount)return new Promise(function(e,t){t(new a("Cancelled"))});var n=this.calculateNextBackoffMs();return this.backoffCount++,this.logger.info("[RegistrarClient] Backing off "+e+" for "+n+" milliseconds with ID "+this.id),new Promise(function(r,i){t.cancelFunc=i,t.timerHandle=setTimeout(function(){t.logger.info("[RegistrarClient] Back off for "+e+" with ID "+t.id+" complete"),t.timerHandle=void 0,r()},n)})},e.prototype.cancel=function(){void 0!==this.timerHandle&&(this.logger.debug("Resetting back off"),clearTimeout(this.timerHandle),void 0!==this.cancelFunc&&this.cancelFunc(new a("Cancelled"))),this.backoffCount=-1},e.prototype.calculateNextBackoffMs=function(){var e=1+.4*(Math.random()-.5),t=this.initialDelay*Math.pow(2,this.backoffCount)*e;return t=Math.round(t),Math.min(this.maxBackoffInMs,t)},e.idCounter=0,e})(),u=(function(){function e(e,t,n){this.logger=e,this.skypeTokenProvider=t,this.options=n,this.DEFAULT_MAX_RETRIES_FOR_GET_TOKEN=15,this.DEFAULT_MAX_BACKOFF_TIME_IN_MS=3e5,this.backoffs={},this.maxBackOffTime=this.options.maxRetryDelayMs>0?this.options.maxRetryDelayMs:this.DEFAULT_MAX_BACKOFF_TIME_IN_MS,this.maxRetriesForGetToken=void 0===n.maxRetriesForGetToken||null===n.maxRetriesForGetToken?this.DEFAULT_MAX_RETRIES_FOR_GET_TOKEN:n.maxRetriesForGetToken}return e.prototype.setTelemetryLogger=function(e){this.eventLogger=e},e.prototype.register=function(e,t){return i(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,this.performRegistration(e,t,"pr_set_registration")];case 1:return n.sent(),this.cachedRegistrationParams=[e,t],[2]}})})},e.prototype.unregister=function(){return i(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return this.logger.info("[RegistrarClient] sending unregister request"),e=new Request(this.options.registrarUrl+"/"+this.options.registrationId,{method:"DELETE",mode:"cors",headers:new Headers({accept:"application/json, text/javascript"})}),[4,this.callRegistrar(e,"pr_delete_registration")];case 1:return t.sent(),[2]}})})},e.prototype.cancelPendingRequests=function(){var e=this;Object.keys(this.backoffs).forEach(function(t){e.backoffs[t].cancel()}),this.backoffs={}},e.prototype.resendRegistration=function(){return i(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:if(!this.cachedRegistrationParams)throw new Error("Re-registration failed because there is no registration parameters cached");return[4,this.performRegistration(this.cachedRegistrationParams[0],this.cachedRegistrationParams[1],"pr_resend_registration")];case 1:return e.sent(),[2]}})})},e.prototype.performRegistration=function(e,t,n){return i(this,void 0,void 0,function(){var r,i;return o(this,function(o){switch(o.label){case 0:return this.logger.info("[RegistrarClient] Sending register request"),r={clientDescription:e,registrationId:this.options.registrationId,nodeId:"",transports:t},i=new Request(this.options.registrarUrl,{method:"POST",mode:"cors",headers:new Headers({"content-type":"application/json",accept:"application/json, text/javascript"}),body:s.toJson(r)}),[4,this.callRegistrar(i,n)];case 1:return o.sent(),[2]}})})},e.prototype.startBackoff=function(){var e=new c(this.logger,this.maxBackOffTime,this.options.initialRetryDelayMs);return this.backoffs[e.id]=e,e},e.prototype.stopBackoff=function(e){e.cancel(),delete this.backoffs[e.id]},e.prototype.getSkypeToken=function(){return i(this,void 0,void 0,function(){var e,t,n,r,i,s,a;return o(this,function(o){switch(o.label){case 0:e=this.startBackoff(),t=0,o.label=1;case 1:return o.trys.push([1,3,,8]),this.logger.info("[RegistrarClient] Asking for a new skypetoken"),[4,this.skypeTokenProvider(!0)];case 2:return n=o.sent(),this.stopBackoff(e),[2,n];case 3:r=o.sent(),o.label=4;case 4:return o.trys.push([4,6,,7]),t++,i=JSON.stringify(r),t>this.maxRetriesForGetToken?(s="[RegistrarClient] getSkypeToken retry limit hit. Will not retry now. Error: "+i,this.logger.error(s),this.stopBackoff(e),[2,Promise.reject(s)]):(this.logger.warn("[RegistrarClient] Retrying for a new skype token. Retry Count: "+t+" Error: "+i),[4,e.delay("Fetching a new skypetoken")]);case 5:return o.sent(),[3,8];case 6:throw a=o.sent(),this.stopBackoff(e),a;case 7:return[3,8];case 8:return[3,1];case 9:return[2]}})})},e.prototype.callRegistrar=function(e,t){return i(this,void 0,void 0,function(){var n,r,i,a,c,u,l,d,p,h,f,v,m,g,y;return o(this,function(o){switch(o.label){case 0:return n=this.startBackoff(),[4,this.skypeTokenProvider(!1)];case 1:r=o.sent(),this.setSkypeTokenHeader(e,r),i=new s.Timespan,a=0,o.label=2;case 2:c=void 0,o.label=3;case 3:return o.trys.push([3,8,13,14]),u=e.clone(),[4,s.fetchWithTimeout(u,this.options.requestTimeoutMs)];case 4:return 401!==(c=o.sent()).status?[3,6]:++a>this.maxRetriesForGetToken?(l="[RegistrarClient] getSkypeToken retry limit hit. Will not retry now. Request '"+e.url+"' failed with "+c.status+" "+c.statusText,this.logger.error(l),this.stopBackoff(n),[2,Promise.reject(l)]):(this.logger.warn("[RegistrarClient] Retry Count "+a+". Request '"+e.url+"' failed with "+c.status+" "+c.statusText),d=this.setSkypeTokenHeader,p=[e],[4,this.getSkypeToken()]);case 5:return d.apply(this,p.concat([o.sent()])),[3,20];case 6:if(c.status>=500&&c.status<600)throw new Error("Fetch for '"+e.url+"' failed with "+c.status+" "+c.statusText);o.label=7;case 7:return[3,14];case 8:h=o.sent(),this.logger.error("[RegistrarClient] Request failed with "+h),o.label=9;case 9:return o.trys.push([9,11,,12]),[4,n.delay("Registrar call retry")];case 10:return o.sent(),[3,20];case 11:throw f=o.sent(),this.logger.error("[RegistrarClient] Request cancelled"),this.stopBackoff(n),f;case 12:return[3,14];case 13:return this.sendTelemetryEvent(t,e,c,i),[7];case 14:return this.stopBackoff(n),c.ok?[2,c]:[3,15];case 15:v=void 0,o.label=16;case 16:return o.trys.push([16,18,,19]),g=(m=JSON).stringify,[4,c.json()];case 17:return v=g.apply(m,[o.sent()]),[3,19];case 18:return o.sent(),v="no details",[3,19];case 19:throw y="Fetch for '"+e.url+"' failed with "+c.status+" "+c.statusText+" ("+v+", MS-CV: "+c.headers.get("MS-CV")+")",this.logger.error("[RegistrarClient] "+y),new Error(y);case 20:return[3,2];case 21:return[2]}})})},e.prototype.setSkypeTokenHeader=function(e,t){e.headers.set("X-Skypetoken",t)},e.prototype.sendTelemetryEvent=function(e,t,n,r){if(void 0!==this.eventLogger){var i={name:e,properties:{url:{value:t.url},result_code:{value:void 0!==n?n.status:0},begin_timestamp:{value:r.startTime},elapsed:{value:r.duration}}};this.eventLogger.logEvent(i)}},e})();t.RegistrarClient=u,t.createRegistrarClient=function(e,t,n){return new u(e,t,n)}}])});s(c);var u=a(function(e,t){var n;e.exports=(n=c,(function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=19)})([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=(function(){function e(e,t){this.name=e,this.logger=t}return e.prototype.debug=function(e){this.logger.debug("["+this.name+"] "+e)},e.prototype.info=function(e){this.logger.info("["+this.name+"] "+e)},e.prototype.warn=function(e){this.logger.warn("["+this.name+"] "+e)},e.prototype.error=function(e){this.logger.error("["+this.name+"] "+e)},e})();t.Logger=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.constants={TROUTER_INIT:"trouterinit",TROUTER_READY_EVENT:"trouterReadyEvent",TROUTER_READY_TIMEOUT:"trouterReadyTimeout",TROUTER_TOKEN_REQUEST:"trouterTokenRequest",TROUTER_TOKEN_GET_SUCCEEDED:"trouterTokenGetSucceeded",TROUTER_TOKEN_GET_FAILED:"trouterTokenGetFailed",TROUTER_RECONNECTING:"trouterReconnecting",RENEWAL:"renewal",NEW_CONNECTION:"newConnection",ENDPOINT_REGISTRATION_FAILED:"endpointRegistrationFailed"},t.CLIENT_VERSION="2022.35.01.29",t.HANDLED_MESSAGE_ACK=200,t.UNHANDLED_MESSAGE_ACK=404,t.FAILED_MESSAGE_ACK=500},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e[e.Unknown=0]="Unknown",e[e.Active=1]="Active",e[e.Inactive=2]="Inactive"})(t.UserActivityState||(t.UserActivityState={}));t.HttpHeaders=function(){},(function(e){e[e.Unknown=0]="Unknown",e[e.Connected=2]="Connected",e[e.Disconnected=3]="Disconnected",e[e.Switching=9]="Switching"})(t.TrouterState||(t.TrouterState={}))},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;c;)try{if(i=1,o&&(s=2&n[0]?o.return:n[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(!(s=(s=c.trys).length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,s,a,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0}),t.toJson=function(e){try{return JSON.stringify(e)}catch(t){return"Unable to serialize object of type "+typeof e}},t.calculateTtlInSec=function(e){var t=Math.round((new Date).getTime()/1e3);return void 0!==e&&e>t?e-t:0},t.calculateExpireTsInSec=function(e){return Math.round((new Date).getTime()/1e3)+e},t.fetchWithTimeout=function(e,t){return r(this,void 0,void 0,function(){var n,r,o;return i(this,function(i){return r=new Promise(function(t,r){fetch(e).then(function(e){clearTimeout(n),t(e)}).catch(function(e){clearTimeout(n),r(e)})}),0!==t?(o=new Promise(function(r,i){var o=new URL(e.url),s=new Error(e.method+" "+o.origin+o.pathname+" timed out");n=setTimeout(i,t,s)}),[2,Promise.race([r,o])]):[2,r]})})};var o=(function(){function e(e){this.base=void 0!==e?e:this.createCorrelationVectorBase(),this.extension=0}return e.extend=function(t){return new e(t)},e.prototype.increase=function(){this.extension++},e.prototype.value=function(){return this.base+"."+this.extension},e.prototype.createCorrelationVectorBase=function(){for(var e="",t=0;t<21;t++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0987654321/+".charAt(Math.floor(64*Math.random()));return e+"AQgw".charAt(Math.floor(4*Math.random()))},e})();t.CorrelationVector=o;var s=(function(){function e(){this.start=Date.now()}return Object.defineProperty(e.prototype,"duration",{get:function(){return Date.now()-this.start},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startTime",{get:function(){return this.start},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.start=Date.now()},e})();t.Timespan=s},function(e,t){var n;n=(function(){return this})();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=(function(){function e(e,t,n,r,i,o,s){this.connectionId=e,this.connectedClientId=t,this.domId=n,this.unsecureUrl=r,this.url=i,this.c2cUrlBase=o,this.expirationTsSec=s}return e.prototype.getRemainingTtlInSec=function(){return r.calculateTtlInSec(this.expirationTsSec)},e})();t.ServerState=i,(function(e){e[e.Unknown=0]="Unknown",e[e.Modified=1]="Modified",e[e.Snapshot=2]="Snapshot",e[e.Connected=3]="Connected"})(t.UserActivityEventReason||(t.UserActivityEventReason={}))},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(20),s=n(12),a=n(3),c=n(15),u=n(1),l=n(16),d=n(2),p=n(5),h=n(0),f=n(17),v=n(11),m=function(){this.cv=u.CLIENT_VERSION,this.ua="",this.hr="",this.v=""},g=function(){this["force new connection"]=!0,this.reconnect=!1,this.query="",this.ackTimeoutMs=5e3},y="MS-CV",E=(function(){function e(e){this.cvCounter=0;var t=JSON.parse(e);this.startTS=t.hasOwnProperty("startTS")?t.startTS:0,this.url=t.hasOwnProperty("url")?t.url:"",this.shortUrl=t.hasOwnProperty("shortUrl")?t.shortUrl:"",this.body=t.hasOwnProperty("body")?t.body:"",this.headers=t.hasOwnProperty("headers")?t.headers:{},this.id=t.hasOwnProperty("id")&&"number"==typeof t.id?t.id:-1,this.method=t.hasOwnProperty("method")?t.method:"",this.replied=!1,this.timedout=!1,this.timeoutTimerId=0,this.receivedCv=this.headers[y],this.updateCvHeader()}return Object.defineProperty(e.prototype,"correlationVector",{get:function(){return this.receivedCv?this.receivedCv+"."+this.cvCounter:""},enumerable:!0,configurable:!0}),e.prototype.on=function(e,t){"data"===e?this.dataCallback=t:"end"===e&&("function"==typeof this.dataCallback&&this.dataCallback(this.body),t())},e.prototype.incrementCorrelationVector=function(){++this.cvCounter,this.updateCvHeader()},e.prototype.updateCvHeader=function(){var e=this.correlationVector;e&&(this.headers[y]=e)},e})(),S=(function(){function e(e,t,n){this.request=e,this.responseData=t,this.sendResponse=n}return e.prototype.writeHead=function(e,t){this.responseData.status=e,this.responseData.headers=t},e.prototype.write=function(e){this.responseData.body+=e},e.prototype.end=function(e){return e&&(this.responseData.body+=e),this.sendResponse(this.request,this.responseData)},e})(),T=function(e){this.name=e,this.args={},this.timeoutTimerId=0};!(function(e){e[e.Configuration=0]="Configuration",e[e.ServerInitiated=1]="ServerInitiated"})(i=t.ReconnectReason||(t.ReconnectReason={}));var C=(function(){function e(e,t,n,r,i){var s=this;this.options=t,this.manager=n,this.tokenProvider=r,this.connectionId="",this.inIncallMode=!1,this.connectionAttempt=0,this.connectedClientId="",this.isNavigatorOnline=!0,this.onNavigatorOnlineStatusUpdateBound=this.onNavigatorOnlineStatusUpdate.bind(this),this.c2cUrlBase="",this.allocationErrorsInRow=0,this.unauthorizedErrorCount=0,this.pendingTimers={},this.lastDisconnectReason="",this.UNKNOWN_TRANSPORT="unknown_transport",this.logger=new h.Logger("Connection",e),this.timeoutOptions=this.options.timeoutOptions,this.tokenBackoff=new l.ExponentialBackoff(this.logger,this.timeoutOptions.maxBackoffMs),this.clientID=Date.now(),"undefined"!=typeof window&&window.location&&(this.domId=window.location.hostname),this.clientInfo=new m,this.clientInfo.cv=u.CLIENT_VERSION,this.clientInfo.ua="",this.options&&this.options.clientInfo&&(this.clientInfo.ua=this.safeString(this.options.clientInfo.ua),this.clientInfo.v=this.safeString(this.options.clientInfo.v)),this.connectionTracker=new c.ConnectionTracker(e,this.clientID,this.clientInfo,function(){return s.getServerState()},this.options.endpointId,this.options.clientCorrelationID,this.options.environment),this.applyConnectionTrackerOptions(t);var a=this.options.incallModeTimeoutMs>0;if(this.fsm=new f.TrouterFsm(e,this,a),t.registration){var d={registrarUrl:t.registration.registrarUrl,registrationId:t.registration.registrationId,requestTimeoutMs:t.timeoutOptions.fetchTimeoutMs,initialRetryDelayMs:1e3,maxRetryDelayMs:t.timeoutOptions.maxBackoffMs};this.registrarClient=o.createRegistrarClient(e,this.tokenProvider,d)}this.userActivityState=i}return e.prototype.start=function(e){this.logger.info("Starting"),this.reconnectParams=e,"undefined"!=typeof window&&window.navigator?(this.isNavigatorOnline=window.navigator.onLine,window.addEventListener("online",this.onNavigatorOnlineStatusUpdateBound),window.addEventListener("offline",this.onNavigatorOnlineStatusUpdateBound),this.logger.debug("Registered for browser online notifications - current state: "+this.isNavigatorOnline)):this.isNavigatorOnline=!0,this.fsm.start()},e.prototype.stop=function(e){this.logger.info("Stopping"),"undefined"!=typeof window&&window.navigator&&(window.removeEventListener("online",this.onNavigatorOnlineStatusUpdateBound),window.removeEventListener("offline",this.onNavigatorOnlineStatusUpdateBound)),this.fsm.stop(e),this.connectionTracker.close()},e.prototype.configure=function(e){var t=this.options.trouterUrl!==e.trouterUrl;this.options=e,this.applyConnectionTrackerOptions(e),t&&(this.logger.info("Configuration changed. Reconnection required."),this.fsm.onReconnectRequired(!1,i.Configuration))},e.prototype.checkConnection=function(e){this.logger.info("checkConnection called with "+e),this.fsm.checkConnection(e),e&&this.connectionTracker.sendTelemetry(c.ClientEventName.CheckConnection,{disconnectDetected:e},[])},e.prototype.disableRegistrationsAndAutoReconnect=function(){this.stopRegisterTimer(),this.resetRegisterBackoff(),this.fsm.disableAutoReconnect()},e.prototype.getServerState=function(){return new p.ServerState(this.connectionId,this.connectedClientId,this.domId?this.domId:"",this.allocateResult?this.allocateResult.url:"",this.allocateResult?this.allocateResult.surl:"",this.c2cUrlBase,this.connectionExpireTimestampInSecs)},e.prototype.getToken=function(e,t,n){var r=this;void 0===n&&(n=0),this.logger.info("Getting token "+(t?"with backoff":"without backoff"));var i=function(){r.connectionTracker.trackStart("token"),r.tokenProvider(!e).then(function(e){r.logger.debug("token is received"),r.connectionTracker.trackEnd("token"),r.fsm.onTokenReceived(e)}).catch(function(t){var i=a.toJson(t.stack);if(r.logger.error("Getting token failed, will retry after timeout. Error: "+i),r.connectionTracker.trackError("token",i),!r.canRetryTokenFetchRequest(n+r.unauthorizedErrorCount))return r.connectionTracker.trackError("token","getToken retry limit hit, reached terminal error state"),r.resetTokenBackoff(),void r.fsm.onTerminalError();r.getToken(e,!0,n+1)})};t?this.tokenBackoff.backoff("getting token",i):(this.resetTokenBackoff(),i())},e.prototype.startConnectionTimer=function(){var e=this;this.stopConnectionTimer(),this.logger.debug("Starting connection timeout for "+this.timeoutOptions.connectionTimeoutMs+" ms"),this.connectionTimeoutId=setTimeout(function(){e.logger.info("Connection timeout is fired"),e.fsm.onConnectingTimeout()},this.timeoutOptions.connectionTimeoutMs)},e.prototype.stopConnectionTimer=function(){this.connectionTimeoutId&&(this.logger.debug("Stopping connection timeout"),clearTimeout(this.connectionTimeoutId),this.connectionTimeoutId=void 0)},e.prototype.startPingTimer=function(){var e=this;"websocket"===this.transportTypeName?(this.logger.debug("Starting ping timeout for "+this.timeoutOptions.pingTimeoutMs+" ms"),this.pingTimerId=setInterval(function(){e.logger.info("Ping interval fired"),e.fsm.onPingInterval()},this.timeoutOptions.pingTimeoutMs)):this.logger.debug("Not starting ping for transport "+this.transportTypeName)},e.prototype.stopPingTimer=function(){this.pingTimerId&&(this.logger.debug("Stopping ping timeout"),this.clearPingResponseTimer(),clearInterval(this.pingTimerId),this.pingTimerId=void 0)},e.prototype.shouldSkipRegistration=function(){return void 0===this.options.registration},e.prototype.hasCustomRegisterTtl=function(){return this.options.registration&&this.options.registration.registrarTtlSec},e.prototype.startRegisterTimer=function(){var e=this;void 0!==this.registrationTimerId&&this.stopRegisterTimer();var t=this.getRegistrationTtl(),n=t[0],r=(t[1],n-30);r<=0?this.logger.debug("Not starting registration timer, ttl too low("+n+" sec)"):(this.logger.debug("Starting registration timeout for "+r+" sec"),this.registrationTimerId=setTimeout(function(){e.logger.info("Registration timeout is fired"),e.registrationTimerId=setTimeout(function(){e.registrationTimerId=void 0,e.logger.debug("Re-registration did not happen in time"),e.dispatchUnregistered()},3e4),e.fsm.onRegistrationTimeout()},1e3*r))},e.prototype.stopRegisterTimer=function(){this.registrationTimerId&&(this.logger.debug("Stopping registration timeout"),clearTimeout(this.registrationTimerId),this.registrationTimerId=void 0)},e.prototype.resendRegistration=function(){if(!this.registrarClient)throw new Error("Trouter Client not configured to handle registrations");return this.registrarClient.resendRegistration()},e.prototype.buildSocketIoUrlParams=function(){if(!this.allocateResult)throw new Error("Allocate result is undefined in buildSocketIoUrlParams()");for(var e={},t=this.allocateResult.connectparams,n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];t.hasOwnProperty(i)&&void 0!==t[i]&&(e[i]=t[i])}return e.v="v4",e.tc=encodeURI(a.toJson(this.clientInfo)),e.timeout=this.timeoutOptions.pingTimeoutMs/1e3,e.auth="true",this.options.endpointId&&(e.epid=this.options.endpointId),this.userActivityState.state!==d.UserActivityState.Unknown&&(e.userActivity=encodeURI(a.toJson(this.userActivityState.toEventObject()))),this.appendConnectedClientIds(this.buildQuery(e),!0)},e.prototype.startSocketIo=function(){var e=this;if(this.logger.info("Starting socket io"),this.connectionTracker.trackStart("connectSocket"),!this.allocateResult)throw new Error("Allocate result is undefined in startSocketIo()");var t=this.options.ioOptions||new g;if(t["force new connection"]=!0,t.reconnect=!1,t.query=this.buildSocketIoUrlParams(),this.logger.info("connecting to "+this.allocateResult.socketio+"?"+t.query),this.stopSocketIo(),this.socket=(this.options.io||v).connect(this.allocateResult.socketio,t),void 0===this.socket)throw new Error("Can't create Socket.io object");this.socket.on("connecting",function(t){e.onSocketConnecting(t)}),this.socket.on("connect",function(){e.onSocketConnect()}),this.socket.on("connect_failed",function(t){e.onSocketConnectFailed(t)}),this.socket.on("disconnect",function(t){e.onSocketDisconnect(t)}),this.socket.on("reconnect",function(){e.onSocketReconnect()}),this.socket.on("reconnect_failed",function(t){e.onSocketReconnectFailed(t)}),this.socket.on("reconnecting",function(){e.onSocketReconnecting()}),this.socket.on("error",function(t){e.onSocketError(t)}),this.socket.on("message",function(t){e.onSocketMessage(t)}),this.socket.on("trouter.connected",function(t){e.onTrouterConnected(t)}),this.socket.on("trouter.reconnect",function(t){e.onTrouterReconnect(t)}),this.socket.on("trouter.message_loss",function(t){e.onTrouterMessageLoss(t)})},e.prototype.stopSocketIo=function(){if(this.socket){this.logger.info("clearing socket.io");try{for(var e=0,t=["connecting","connect","connect_failed","disconnect","reconnect","reconnect_failed","reconnecting","error","message","trouter.connected","trouter.reconnect","trouter.message_loss"];e<t.length;e++){var n=t[e];this.socket.removeAllListeners(n)}this.socket.disconnect(),this.logger.debug("cleared socket"),this.socket=void 0}catch(e){this.logger.error("exception in disconnecting previous socket. Error: "+a.toJson(e.stack))}}},e.prototype.dispatchConnected=function(){this.logger.info("dispatching connected"),this.manager.onConnected(this)},e.prototype.dispatchRegistered=function(){this.logger.info("dispatching registered"),this.manager.onRegistered(this)},e.prototype.dispatchUnregistered=function(){this.logger.info("dispatching unregistered"),this.manager.onUnregistered(this)},e.prototype.dispatchDownstreamRequest=function(e){var t=this;this.logger.info("dispatching downstream request");try{var n=new S(e,new c.ResponseData(e.id),function(e,n){return t.logger.info("sending response to downstream"),t.sendResponse(e,n)});this.manager.onDownstreamRequest(this,e,n)}catch(e){this.logger.error("exception in socket.on message. Error : "+a.toJson(e.stack))}},e.prototype.dispatchReconnecting=function(){this.logger.info("dispatching reconnecting"),this.manager.onReconnecting(this)},e.prototype.dispatchReconnectIsRequired=function(e,t){this.logger.info("dispatching reconnect is required by server"),this.manager.onReconnectIsRequired(this,e,t)},e.prototype.dispatchDisconnected=function(){this.logger.info("dispatching disconnected"),this.manager.onDisconnected(this)},e.prototype.dispatchTrouterMessageLost=function(e){this.logger.info("dispatching trouter lost message"),this.manager.onTrouterMessageLost(e)},e.prototype.sendProcessedDroppedIndicators=function(e){var t=this;try{this.logger.info("emitting processed flow tags to the server");var n=new T("trouter.processed_message_loss");n.args={droppedIndicators:e},this.sendDownstreamEvent(n,function(){t.logger.info("emitted processed flow tags to the server")})}catch(e){var r=a.toJson(e.stack);this.logger.error("unable to send processed message loss event. Error: "+r),this.connectionTracker.trackError("trouter.processed_message_loss",r,!1)}},e.prototype.sendAllocateRequest=function(e){var t=this;this.connectionAttempt++,this.connectionTracker.trackNewConnection();var n,i=this.options.trouterUrl,o=i,s=this.reconnectParams;s&&s.se&&parseInt(s.se,10)<=Date.now()+36e5&&(this.logger.warn("Dropping expired cached connection parameters: "+new Date(parseInt(s.se,10))),this.reconnectParams=s=void 0),s&&s.serviceUrl!==o&&(this.logger.warn("Dropping cached connection parameters for a different environment ("+s.serviceUrl+", now "+o+")"),this.reconnectParams=s=void 0),s&&s.reconnectUrl&&(o=s.reconnectUrl),n=s?r({},s,{serviceUrl:void 0,reconnectUrl:void 0}):null,o=this.appendCorrelationIds(o,!1),o=this.appendEndpointId(o,!1),n&&(o+="&"+this.buildQuery(n),n.v||(o+="&v=v4"));var c=new Request(o,{method:"POST",mode:"cors",headers:new Headers({"X-Skypetoken":e,"Content-Type":"text/plain"})});this.logger.info("sendAllocateRequest: POST "+o),this.connectionTracker.trackStart("allocation");var u=Date.now(),l=-1;a.fetchWithTimeout(c,this.timeoutOptions.fetchTimeoutMs).then(function(e){if(l=e.status,!e.ok)throw new Error(e.statusText);var n=e.headers.get("content-type");if(!n||"application/json"!==n&&"application/json;"!==n.substring(0,17))throw new Error("Content-type '"+n+"' is unexpected");return t.connectionTracker.trackEnd("allocation"),e.json()}).then(function(e){t.allocationErrorsInRow=0,t.unauthorizedErrorCount=0,t.onAllocationResponse(e,i)}).catch(function(e){t.allocationErrorsInRow++;var n=e+", status code "+l;if(t.logger.error(t.allocationErrorsInRow+" failed allocation attempt(s) in a row. Error: "+n),t.connectionTracker.trackError("allocation",n),401===l&&t.unauthorizedErrorCount++,!t.canRetryTokenFetchRequest(t.unauthorizedErrorCount))return t.connectionTracker.trackError("allocation","getToken retry limit hit, reached terminal error state"),void t.fsm.onTerminalError();if(-1!==l||t.isNavigatorOnline){if(t.reconnectParams&&t.allocationErrorsInRow>=3)if(l>=400&&l<=599)t.logger.warn(t.allocationErrorsInRow+" connection attempts, server-side failure: erasing cached connection parameters"),t.reconnectParams=void 0;else if(t.reconnectParams.reconnectUrl&&t.allocationErrorsInRow%3==0){t.logger.warn(t.allocationErrorsInRow+" connection attempts, testing nominal service URL");var r=Math.min(t.timeoutOptions.connectionTimeoutMs-(Date.now()-u)-500,t.timeoutOptions.fetchTimeoutMs);return void t.testNominalUrlConnectivity(r).then(function(e){t.connectionTracker.trackProgress("nomcheck",e?"ok":"failed"),e?(t.logger.warn("Nominal service URL is reachable, erasing cached reconnect URL"),t.reconnectParams&&delete t.reconnectParams.reconnectUrl):t.logger.warn("Nominal service URL is not reachable either, keeping cached reconnect URL"),t.fsm.onAllocationFailed(!1)},function(e){t.fsm.onAllocationFailed(!1)})}}else t.logger.info("Expected failure, the browser says it is not online at the moment");t.fsm.onAllocationFailed(401===l)})},e.prototype.testNominalUrlConnectivity=function(e){var t,n=this;if(e<1e3)return this.logger.warn("There is no time left to reasonably perform the nominal service URL connectivity check ("+e+" ms), falling back to assuming that the connectivity is fine"),s.Promise.resolve(!0);try{var r=new URL(this.options.trouterUrl);r.pathname="/",r.search="?"+this.buildQuery({check:Date.now(),cor_id:encodeURIComponent(this.options.clientCorrelationID),epid:encodeURIComponent(this.options.endpointId?this.options.endpointId:""),tc:encodeURIComponent(a.toJson(this.clientInfo))}),t=new Request(r.toString(),{method:"GET",headers:{Accept:"text/plain"}})}catch(e){return this.logger.warn("Nominal service URL connectivity test request could not be created ("+e+"), falling back to assuming that the connectivity is fine"),s.Promise.resolve(!0)}return a.fetchWithTimeout(t,e).then(function(e){if(200!==e.status)throw new Error("Not 200 OK: "+e.status+" "+e.statusText);return e.text()}).then(function(e){if("Trouter"!==e)throw new Error('Not "Trouter": '+e.substring(0,16)+(e.length>16?"...":""));return!0}).catch(function(e){return n.logger.error("Nominal service URL connectivity test failed: "+e),!1})},e.prototype.sendPingRequest=function(){var e=this;if(this.socket&&void 0===this.pingResponseTimerId)try{this.logger.info("emitting ping event");var t=!1;this.socket.emit("ping",function(){!0!==t&&e.onPingResponse()}),this.pingResponseTimerId=setTimeout(function(){e.logger.error("Ping response timeout is fired"),t=!0,e.clearPingResponseTimer(),e.fsm.onPingResponseTimeout()},this.timeoutOptions.pongTimeoutMs)}catch(e){var n=a.toJson(e.stack);this.logger.error("unable to send ping. Error: "+n),this.connectionTracker.trackError("ping",n,!1)}},e.prototype.setUserActivityState=function(e){var t=e.state!==this.userActivityState.state;this.userActivityState=e,this.fsm.onSetUserActivityState(e,t)},e.prototype.sendUserActivityState=function(e,t){this.userActivityState.state!==d.UserActivityState.Unknown&&("websocket"===this.transportTypeName&&t?e===p.UserActivityEventReason.Connected?this.sendUserActivityStateMultiple(2):this.sendUserActivityStateMultiple(1):"xhr-polling"===this.transportTypeName&&e===p.UserActivityEventReason.Modified&&this.fsm.forceReconnect("user activity/force reconnect"))},e.prototype.sendRegisterRequest=function(){var e=this;if(!this.options.registration||!this.registrarClient)throw new Error("Internal error - options.registration is undefined");if(!this.allocateResult)throw new Error("Allocate result is undefined in sendRegisterRequest()");this.logger.info("sending register request");var t=new a.Timespan;this.connectionTracker.trackStart("registration");var n=this.getRegistrationTtl(),r=n[0],i=n[1];this.registrarClient.register({appId:this.options.registration.pnhAppId,aesKey:"",languageId:"en-US",platform:this.options.registration.platform,templateKey:this.options.registration.pnhTemplateKey,platformUIVersion:this.options.registration.platformUIVersion,productContext:this.options.registration.productContext},{TROUTER:[{context:this.options.registration.context,path:this.allocateResult.surl,ttl:r}]}).then(function(){e.logger.info("Register request successful"),e.connectionTracker.trackEnd("registration"),e.fsm.onRegistrationSucceed(i),e.connectionTracker.sendTelemetry(c.ClientEventName.Registration,{duration:t.duration},[])}).catch(function(n){e.logger.error("Register request failed. Error: "+n),e.connectionTracker.trackError("registration",n.message),e.fsm.onRegistrationFailed(!1),e.connectionTracker.sendTelemetry(c.ClientEventName.Registration,{duration:t.duration},[])})},e.prototype.sendUnregisterRequest=function(){var e=this;this.logger.info("sending unregister request");var t=new a.Timespan;if(!this.options.registration||!this.registrarClient)throw new Error("Internal error - options.registration is undefined");this.connectionTracker.trackStart("unregistration"),this.registrarClient.unregister().then(function(){e.logger.info("Unregister request successful"),e.connectionTracker.trackEnd("unregistration"),e.fsm.onUnregistrationSucceed(),e.connectionTracker.sendTelemetry(c.ClientEventName.Unregistration,{duration:t.duration},[])}).catch(function(n){e.logger.error("Unregister request failed. Error: "+n),e.connectionTracker.trackError("unregistration",n.message),e.fsm.onUnregistrationFailed(!1),e.connectionTracker.sendTelemetry(c.ClientEventName.Unregistration,{duration:t.duration},[])})},e.prototype.resetTokenBackoff=function(){this.tokenBackoff.reset()},e.prototype.resetRegisterBackoff=function(){this.registrarClient&&this.registrarClient.cancelPendingRequests()},e.prototype.clearTimers=function(){this.logger.debug("Clearing all pending downstream events related timers");for(var e=0,t=Object.keys(this.pendingTimers);e<t.length;e++){var n=t[e];this.clearTimer(Number(n))}},e.prototype.restartIncallModeTimer=function(){var e=this;this.clearIncallModeTimerId(),this.logger.debug("Restarting incall mode timer"),this.incallModeTimerId=setTimeout(function(){e.logger.info("Call mode timer fired"),e.fsm.onIncallModeTimer()},this.options.incallModeTimeoutMs)},e.prototype.enterIncallMode=function(){this.logger.info("Entering incall mode"),this.timeoutOptions=this.options.incallTimeoutOptions,this.tokenBackoff.setMaxBackoffMs(this.timeoutOptions.maxBackoffMs),this.inIncallMode=!0},e.prototype.exitIncallMode=function(){this.logger.info("Exiting incall mode"),this.clearIncallModeTimerId(),this.timeoutOptions=this.options.timeoutOptions,this.tokenBackoff.setMaxBackoffMs(this.timeoutOptions.maxBackoffMs),this.inIncallMode=!1},e.prototype.isIncallMode=function(){return this.inIncallMode},e.prototype.sendDisconnectTelemetryEvent=function(e){var t={reason:e,serverClosed:!this.fsm.isActive()};this.connectionTracker.trackDisconnected(t),this.connectionTracker.clearConnectedInfo()},e.prototype.onSocketConnecting=function(e){this.logger.info("onSocketConnecting("+e+")"),this.transportTypeName=e,this.connectionTracker.trackProgress("connecting",this.transportTypeName),this.fsm.onConnecting()},e.prototype.onSocketConnect=function(){this.logger.info("onSocketConnect")},e.prototype.onSocketConnectFailed=function(e){this.logger.error("onSocketConnectFailed"),this.connectionTracker.trackError("connect_failed",e,!0,this.transportTypeName?this.transportTypeName:this.UNKNOWN_TRANSPORT),this.fsm.onConnectingFailed()},e.prototype.onSocketDisconnect=function(e){this.logger.error("onSocketDisconnect, reason: "+e);var t=this.connectionTracker.getSessionLength()||0;"dup"===e&&"dup"===this.lastDisconnectReason&&t<this.options.duplicateDisconnectThresholdMs&&(this.logger.warn("Socket was closed by server as Duplicate for the second time in a row after "+t+" ms which is below the threshold of "+this.options.duplicateDisconnectThresholdMs+" ms. Resetting cached connection parameters and making a new allocation."),this.reconnectParams=void 0),this.lastDisconnectReason=e,this.fsm.onSocketDisconnect(e),this.connectionExpireTimestampInSecs=void 0},e.prototype.onSocketReconnect=function(){this.logger.error("onSocketReconnect"),this.fsm.onTrouterConnected()},e.prototype.onSocketReconnectFailed=function(e){this.logger.error("onSocketReconnectFailed with '"+e+"'"),this.fsm.onSocketDisconnect("string"==typeof e?e:void 0)},e.prototype.onSocketReconnecting=function(){this.logger.error("onSocketReconnecting")},e.prototype.onSocketError=function(e){this.logger.error("onSocketError with '"+a.toJson(e)+"'"),this.connectionTracker.trackError("connectSocket",e),this.fsm.onSocketDisconnect("string"==typeof e?e:void 0)},e.prototype.onSocketMessage=function(e){var t,n=this;this.logger.info("onSocketMessage");try{var r=(t=new E(e)).headers&&t.headers["X-Microsoft-Skype-Chain-ID"],i=r?" Chain-Id "+r:"";this.logger.info("Received request N "+t.id+i+" CV "+t.correlationVector+" to '"+t.url+"'"),t.startTS=Date.now(),t.url&&this.urlPath&&0===t.url.indexOf(this.urlPath)&&(t.shortUrl=t.url.substring(this.urlPath.length))}catch(e){var o=a.toJson(e.stack);return this.logger.error("unable to parse request. Error: "+o),this.connectionTracker.trackRequest(void 0,o),void this.connectionTracker.sendResponseError("unable to parse request, error: "+e)}t.timeoutTimerId=setTimeout(function(){if(!t.replied){n.logger.error("Request "+t.id+" timed out");var e=new c.ResponseData(t.id);e.status=504,e.headers={"Trouter-Responder":"ClientLib"},n.sendResponse(t,e),t.timedout=!0}},this.timeoutOptions.requestTimeoutMs);try{this.connectionTracker.trackRequest(t),this.fsm.onDownstreamRequest(t)}catch(e){this.logger.error("exception in socket.on message. Error: "+a.toJson(e.stack)),this.connectionTracker.sendResponseError(e.message,t,void 0)}},e.prototype.onTrouterConnected=function(e){if(this.allocateResult){this.logger.info("onTrouterConnected: "+this.allocateResult.url),this.socket&&this.socket.socket&&this.socket.socket.options&&this.socket.socket.options.query&&(this.socket.socket.options.query+="&connected=true"),this.urlPath=this.allocateResult.url.replace(/https?:\/\/([A-z0-9\:\$\-\_\.\+\!\*\"\(\)\,]*)\//,"/");var t=this.connectedUrl!==this.allocateResult.url;this.connectedUrl=this.allocateResult.url,this.connectionExpireTimestampInSecs=a.calculateExpireTsInSec(e.ttl),this.connectionTracker.trackEnd("connectSocket"),this.connectionTracker.trackConnected(t,this.transportTypeName?this.transportTypeName:this.UNKNOWN_TRANSPORT),this.fsm.onTrouterConnected()}else this.logger.error("Invalid internal state - received onTrouterConnected while allocateResult is not set")},e.prototype.onTrouterReconnect=function(e){var t=e.target;this.logger.info("onTrouterReconnect target: "+t),"self"===t?this.fsm.onReconnectRequired(!0,i.ServerInitiated):this.fsm.onReconnectRequired(!1,i.ServerInitiated)},e.prototype.onTrouterMessageLoss=function(e){this.logger.info("onTrouterMessageLoss"),this.fsm.onTrouterMessageLost(e.droppedIndicators)},e.prototype.onNavigatorOnlineStatusUpdate=function(e){var t=window.navigator.onLine;this.logger.debug("Browser online status update - new state: "+t+", previously: "+this.isNavigatorOnline),t&&!this.isNavigatorOnline?(this.isNavigatorOnline=!0,this.tokenBackoff.expediteIfPending(),this.connectionTracker.trackProgress("browserNet","online")):!t&&this.isNavigatorOnline&&(this.isNavigatorOnline=!1,this.connectionTracker.trackProgress("browserNet","offline"))},e.prototype.onAllocationResponse=function(e,t){this.logger.info("Received allocation response "+JSON.stringify(e)),this.allocateResult=e,this.reconnectParams=r({serviceUrl:t,reconnectUrl:this.allocateResult.socketio+"v4/a"},e.connectparams);var n=+e.ttl;if(this.connectionExpireTimestampInSecs=a.calculateExpireTsInSec(n),this.connectionId=this.allocateResult.id||"",this.connectedClientId=this.allocateResult.ccid,this.logger.info("connected client id set {connectedClientId:"+this.connectedClientId+"}"),this.c2cUrlBase=e.curlb||"",""===this.c2cUrlBase){var i=e.surl.indexOf("://");i>=0&&(i=e.surl.indexOf("/",i+3))>=5&&":3443"===e.surl.substr(i-5,5)&&(this.c2cUrlBase=e.surl.substr(0,i-5))}this.manager.onConnectionParametersUpdated(this.reconnectParams),this.fsm.onAllocationSucceed()},e.prototype.onPingResponse=function(){this.logger.info("onPingResponse"),this.connectionTracker.increasePingResponseCount(),this.clearPingResponseTimer(),this.fsm.onPingResponse()},e.prototype.clearPingResponseTimer=function(){void 0!==this.pingResponseTimerId&&(clearTimeout(this.pingResponseTimerId),this.pingResponseTimerId=void 0)},e.prototype.buildQuery=function(e){for(var t=[],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];e.hasOwnProperty(i)&&void 0!==e[i]&&t.push(i+"="+e[i])}return t.join("&")},e.prototype.appendConnectedClientIds=function(e,t){var n="";e.indexOf("ccid=")<0&&(n="ccid="+this.connectedClientId+"&"),this.domId&&(n+="dom="+this.domId+"&"),n.length>0&&(n=n.slice(0,-1));var r=t||-1!==e.indexOf("?")?"&":"?";return this.appendCorrelationIds(e+r+n,t)},e.prototype.appendEndpointId=function(e,t){var n=t||-1!==e.indexOf("?")?"&":"?";return e.indexOf("epid")<0&&this.options.endpointId?""+e+n+"epid="+this.options.endpointId:e},e.prototype.appendCorrelationIds=function(e,t){var n=t||-1!==e.indexOf("?")?"&":"?";return e.indexOf("cor_id")<0?""+e+n+"cor_id="+this.options.clientCorrelationID+"&con_num="+this.clientID+"_"+this.connectionAttempt:e},e.prototype.safeString=function(e){return"string"==typeof e?e:""},e.prototype.sendResponse=function(e,t){if(e.timedout)return this.logger.error("Request "+e.id+" already timed out"),1;if(e.replied)return this.logger.error("Response for request "+e.id+" already sent"),2;clearTimeout(e.timeoutTimerId),e.timeoutTimerId=0,e.replied=!0,t.headers=t.headers||{};var n=e.correlationVector;this.logger.info("Sending response for request N "+e.id+" CV "+n+" with status "+t.status),n&&(t.headers[y]=n),e.headers&&e.headers["trouter-request"]&&!t.headers["trouter-request"]&&(t.headers["trouter-request"]=e.headers["trouter-request"]);var r=Date.now()-e.startTS;if(t.headers["trouter-client"]=a.toJson({cd:r}),this.logger.debug("response: "+a.toJson(t)),!this.socket)return this.connectionTracker.sendResponseError("no socket",e,t),4;try{return this.socket.send(a.toJson(t)),t.sentTS=Date.now(),e.incrementCorrelationVector(),this.connectionTracker.trackResponse(e,r,t),"websocket"===this.transportTypeName&&this.sendPingRequest(),0}catch(n){var i="unable to send data on response.end. Error: "+a.toJson(n.stack);return this.logger.error(i),this.connectionTracker.sendResponseError(i,e,t),4}},e.prototype.sendUserActivityStateMultiple=function(e){var t=this,n=new T("user.activity"),r=this.userActivityState.toEventObject();n.args=r,this.userActivityState.correlationVector.increase(),this.logger.debug("Sending user activity '"+this.userActivityState.toEventJSON()+"', remaining "+(e-1));var i=!1;this.sendDownstreamEvent(n,function(){if(!0!==i&&(t.logger.info("User activity state: "+r.state+", cv: "+r.cv+" accepted"),t.manager.onUserActivityStateAccepted&&t.manager.onUserActivityStateAccepted(r.cv),t.clearTimer(n.timeoutTimerId),e>1)){var o=setTimeout(function(){t.clearTimer(o),t.sendUserActivityStateMultiple(e-1)},t.options.userActivitySecondResendDelayMs);t.registerTimer(o,"user.activity/resend")}}),n.timeoutTimerId=setTimeout(function(){t.logger.error("Activity state response timeout is fired"),i=!0,t.fsm.onActivityStateResponseTimeout(),t.clearTimer(n.timeoutTimerId)},this.timeoutOptions.userActivityResponseTimeoutMs),this.registerTimer(n.timeoutTimerId,"user.activity/response")},e.prototype.sendDownstreamEvent=function(e,t){this.logger.info("Sending downstream event "+e.name),this.socket&&this.socket.emit(e.name,e.args,t)},e.prototype.registerTimer=function(e,t){this.logger.debug("registering timer "+e+" -> "+t),this.pendingTimers[e]=t},e.prototype.clearTimer=function(e){var t=this.pendingTimers[e];this.logger.debug("clearing timer "+e+" -> "+t),delete this.pendingTimers[e],clearTimeout(e)},e.prototype.getRegistrationTtl=function(){var e=a.calculateTtlInSec(this.connectionExpireTimestampInSecs);if(this.logger.debug("Current connectionID will expire in "+e+" seconds"),this.options.registration&&this.options.registration.registrarTtlSec&&e>0){var t=this.options.registration.registrarTtlSec<e;return[Math.min(this.options.registration.registrarTtlSec,e),t]}return this.options.registration&&this.options.registration.registrarTtlSec?[this.options.registration.registrarTtlSec,!1]:e>0?[e,!1]:[3600,!1]},e.prototype.clearIncallModeTimerId=function(){void 0!==this.incallModeTimerId&&(this.logger.debug("Clearing in-call mode timer"),clearTimeout(this.incallModeTimerId),this.incallModeTimerId=void 0)},e.prototype.applyConnectionTrackerOptions=function(e){try{e.eventLogger&&"function"==typeof e.eventLogger.logEvent?(this.connectionTracker.mergeSettings(e.telemetrySettings),this.connectionTracker.enable(e.eventLogger)):this.logger.warn("Trouter client event logging disabled due to invalid configuration.")}catch(e){this.logger.warn("Trouter client event logging disabled. Error: "+a.toJson(e.stack)),this.connectionTracker.disable()}},e.prototype.canRetryTokenFetchRequest=function(e){var t=this.options.retryLimitOnTokenFetch;return null==t||e<t||(this.logger.warn("Reached limit on maximum number of token fetch request. Current count: "+e+", retry limit: "+t),!1)},e})();t.TrouterConnection=C},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=(function(){function e(e){this.logger=e,this.messageHandlers=[]}return e.prototype.register=function(e){if(this.messageHandlers.some(function(t){return t===e}))throw new Error("Registering the same handler twice is not allowed");this.messageHandlers.push(e)},e.prototype.clear=function(){this.logger.debug("Clearing message handlers"),this.messageHandlers=[]},e.prototype.active=function(){return this.messageHandlers.length>0},e.prototype.handleMessage=function(e){for(var t={resultCode:r.UNHANDLED_MESSAGE_ACK,isHandled:!1},n=0,i=this.messageHandlers;n<i.length;n++){var o=i[n],s=this.safeExecuteHandle(o,e);if(void 0!==s&&(void 0===s.isHandled||s.isHandled))return void 0===s.resultCode&&(s.resultCode=r.HANDLED_MESSAGE_ACK),s}return t},e.prototype.safeExecuteHandle=function(e,t){try{return e.handleMessage(t)}catch(e){return void this.logger.warn("A trouter message handler is throwing exceptions. exception: "+e)}},e})();t.MessageHandlerRegistry=i},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;c;)try{if(i=1,o&&(s=2&n[0]?o.return:n[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(!(s=(s=c.trys).length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,s,a,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0}),t.addCacheAsBackupTo=function(e){var t,n=this;return function(o){return r(n,void 0,void 0,function(){return i(this,function(n){return o&&(t=void 0),[2,new Promise(function(n,r){e(o).then(function(e){t=e,n(e)}).catch(function(e){void 0!==t&&t.length>0&&n(t),r(e)})})]})})}}},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;c;)try{if(i=1,o&&(s=2&n[0]?o.return:n[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(!(s=(s=c.trys).length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,s,a,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),s=n(2),a=n(0),c=n(6),u=n(18),l=(function(){function e(e,t){this.state=e,this.correlationVector=void 0!==t?t:o.CorrelationVector.extend()}return e.prototype.getStateString=function(){switch(this.state){case s.UserActivityState.Active:return"active";case s.UserActivityState.Inactive:return"inactive";case s.UserActivityState.Unknown:return"unknown";default:return"undefined"}},e.prototype.toEventObject=function(){return{state:this.getStateString(),cv:this.correlationVector.value()}},e.prototype.toEventJSON=function(){return o.toJson(this.toEventObject())},e})();t.UserActivityObject=l;var d=(function(){function e(e,t,n,r){this.logFunc=e,this.options=t,this.tokenProvider=n,this.listener=r,this.logger=new a.Logger("Manager",e),this.logger.info("Created TrouterManager with options "+o.toJson(this.options)),this.fsm=new u.TrouterManagerFsm(e,this),this.baseEndpointUrl="",this.processedMessageLoss={},this.userActivityObject=new l(s.UserActivityState.Unknown)}return e.prototype.start=function(){this.fsm.start()},e.prototype.stop=function(e){this.fsm.stop(e)},e.prototype.configure=function(e){this.options=e,void 0!==this.firstConnection&&this.firstConnection.configure(e),void 0!==this.secondConnection&&this.secondConnection.configure(e),this.logger.info("Reconfigured TrouterManager with options "+o.toJson(this.options))},e.prototype.checkConnection=function(e){void 0!==this.firstConnection&&this.firstConnection.checkConnection(e),void 0!==this.secondConnection&&this.secondConnection.checkConnection(e)},e.prototype.resendRegistration=function(){return r(this,void 0,void 0,function(){return i(this,function(e){return void 0!==this.secondConnection?(this.logger.info("Resending registration on the second/new connection"),[2,this.secondConnection.resendRegistration()]):void 0!==this.firstConnection?(this.logger.info("Resending registration on the first/current connection"),[2,this.firstConnection.resendRegistration()]):(this.logger.info("No connection to resend registration on, will be done upon (re)connect"),[2])})})},e.prototype.getServerState=function(){if(void 0!==this.firstConnection)return this.firstConnection.getServerState()},e.prototype.getState=function(){return this.fsm.getState()},e.prototype.startFirstConnection=function(){var e=new c.TrouterConnection(this.logFunc,this.options,this,this.tokenProvider,this.userActivityObject);this.firstConnection=e,this.getConnectionCache().then(function(t){e.start(t)}).catch()},e.prototype.startSecondConnection=function(e){var t=new c.TrouterConnection(this.logFunc,this.options,this,this.tokenProvider,this.userActivityObject);this.secondConnection=t,void 0!==this.firstConnection&&this.firstConnection.disableRegistrationsAndAutoReconnect(),e?this.getConnectionCache().then(function(e){t.start(e)}).catch():t.start()},e.prototype.stopFirstConnection=function(e){void 0!==this.firstConnection&&(this.storedFirstConnection=this.firstConnection,this.firstConnection.stop(e),this.firstConnection=void 0)},e.prototype.stopSecondConnection=function(e){void 0!==this.secondConnection&&(this.secondConnection.stop(e),this.secondConnection=void 0)},e.prototype.stopSecondConnectionDelayed=function(){if(void 0!==this.secondConnection){var e=this.secondConnection;this.secondConnection=void 0,this.logger.info("Closing an inactive connection in "+Math.round(this.options.lingeringConnectionDelayMs/1e3)+"s"),setTimeout(function(){e.stop(!0)},this.options.lingeringConnectionDelayMs)}},e.prototype.forceStopLingeringConnection=function(){this.storedFirstConnection&&(this.storedFirstConnection.stop(!1),this.storedFirstConnection=void 0)},e.prototype.switchConnections=function(){var e=this.firstConnection;this.firstConnection=this.secondConnection,this.secondConnection=e},e.prototype.doesSecondConnectionExist=function(){return void 0!==this.secondConnection},e.prototype.dispatchConnected=function(){if(void 0!==this.firstConnection){var e=this.firstConnection.getServerState(),t="/"===e.url.slice(-1)?e.url.slice(0,-1):e.url,n={baseEndpointUrl:t,newEndpointUrl:t!==this.baseEndpointUrl,c2cUrlBase:e.c2cUrlBase,clientId:e.connectedClientId,connectionId:e.connectionId,connectionTtlSec:e.getRemainingTtlInSec()};this.baseEndpointUrl=t,this.listener.onTrouterConnected(e.url,n)}},e.prototype.dispatchReconnecting=function(){this.listener.onTrouterDisconnected&&this.listener.onTrouterDisconnected()},e.prototype.dispatchStopped=function(){this.listener.onTrouterDisconnected&&this.listener.onTrouterDisconnected()},e.prototype.dispatchRegistrationState=function(e){this.options.registrationStateCallback&&this.options.registrationStateCallback(e)},e.prototype.onDownstreamRequest=function(e,t,n){var r={id:t.id,method:t.method,path:"/"+t.shortUrl,body:t.body,headers:t.headers},i={id:t.id,status:0,headers:{},body:"",send:function(){return i.status<=100||i.status>=999?3:(n.writeHead(i.status,i.headers),n.end(i.body))}};this.listener.onTrouterRequest(r,i)},e.prototype.onConnected=function(e){this.fsm.onConnected(e===this.firstConnection)},e.prototype.onRegistered=function(e){this.fsm.onRegistered(e===this.firstConnection)},e.prototype.onUnregistered=function(e){this.fsm.onUnregistered(e===this.firstConnection||e===this.storedFirstConnection)},e.prototype.onReconnecting=function(e){this.fsm.onReconnecting(e===this.firstConnection)},e.prototype.onReconnectIsRequired=function(e,t,n){this.fsm.onReconnectionRequired(e===this.firstConnection,t,n)},e.prototype.onDisconnected=function(e){this.fsm.onDisconnected(e===this.storedFirstConnection),this.storedFirstConnection=void 0},e.prototype.onUserActivityStateAccepted=function(e){this.listener.onTrouterUserActivityStateAccepted&&this.listener.onTrouterUserActivityStateAccepted(e)},e.prototype.onConnectionParametersUpdated=function(e){this.setConnectionCache(e)},e.prototype.setUserActivityState=function(e,t){return this.userActivityObject=new l(e,o.CorrelationVector.extend(t)),void 0!==this.secondConnection?(this.logger.info("Setting user activity "+this.userActivityObject.toEventJSON()+" on the second/new connection"),void this.secondConnection.setUserActivityState(this.userActivityObject)):void 0!==this.firstConnection?(this.logger.info("Setting user activity "+this.userActivityObject.toEventJSON()+" on the first/current connection"),void this.firstConnection.setUserActivityState(this.userActivityObject)):void 0},e.prototype.onTrouterMessageLost=function(e){var t=this;if(this.listener.onTrouterMessageLoss)if(e&&e.length){var n=e.filter(function(e){return void 0!==t.processedMessageLoss[e.tag+"-"+e.etag]});if(n.length&&(this.logger.warn("onTrouterMessageLoss - removing duplicates and sending event to server"),this.sendProcessedDroppedIndicators(n),!(e=e.filter(function(e){return void 0===t.processedMessageLoss[e.tag+"-"+e.etag]})).length))return void this.logger.warn("onTrouterMessageLoss - All the data are duplicated");if(!this.listener.onTrouterMessageLoss(e.map(function(e){return e.tag})))return void this.logger.warn("onTrouterMessageLoss - flow tags have not been processed by listeners");e.forEach(function(e){t.processedMessageLoss[e.tag+"-"+e.etag]=""}),this.sendProcessedDroppedIndicators(e)}else this.logger.warn("onTrouterMessageLoss - no flow tags have been provided")},e.prototype.getConnectionCache=function(){var e=this;return this.options.connectionCache?(this.logger.debug("Querying host's connection cache"),this.options.connectionCache.onGetTrouterConnectionCache().then(function(e){return e?JSON.parse(e):void 0}).catch(function(t){return e.logger.warn("Invalid connection cache content provided: "+t),e.connectionCache})):Promise.resolve(this.connectionCache)},e.prototype.setConnectionCache=function(e){if(this.connectionCache=e,this.options.connectionCache)try{this.options.connectionCache.onSetTrouterConnectionCache(JSON.stringify(e))}catch(e){this.logger.warn("Error setting external connection cache: "+e)}},e.prototype.sendProcessedDroppedIndicators=function(e){return void 0!==this.firstConnection?void this.firstConnection.sendProcessedDroppedIndicators(e):void 0!==this.secondConnection?void this.secondConnection.sendProcessedDroppedIndicators(e):void 0},e})();t.TrouterManager=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=(function(){function e(e){this.logger=e}return e.prototype.getPromise=function(){var e=this;return void 0!==this.url?(this.logger.debug("[TrouterUrlPromise] returning previously resolved url: "+this.url),Promise.resolve(this.url)):(void 0===this.pendingPromise?(this.logger.debug("[TrouterUrlPromise] creating and returning promise"),this.pendingPromise=new Promise(function(t,n){e.pendingPromiseResolveRef=t,e.pendingPromiseRejectRef=n})):this.logger.debug("[TrouterUrlPromise] returning existing promise"),this.pendingPromise)},e.prototype.resolveUrl=function(e){this.url=e,this.logger.debug("[TrouterUrlPromise] got url: "+this.url);var t=this.pendingPromiseResolveRef;this.pendingPromise=void 0,this.pendingPromiseResolveRef=void 0,this.pendingPromiseRejectRef=void 0,void 0!==t&&(this.logger.debug("[TrouterUrlPromise] resolving promise"),t(e))},e.prototype.rejectUrl=function(e){this.logger.debug("[TrouterUrlPromise] aborting");var t=this.pendingPromiseRejectRef;this.url=void 0,this.pendingPromise=void 0,this.pendingPromiseResolveRef=void 0,this.pendingPromiseRejectRef=void 0,void 0!==t&&(this.logger.debug("[TrouterUrlPromise] rejecting promise"),t(e))},e.prototype.resetUrl=function(){this.logger.debug("[TrouterUrlPromise] resetting url"),this.url=void 0},e})();t.TrouterUrlPromise=r},function(e,t,n){(function(e,n){!(function(e,t){var n=e;n.version="0.9.6",n.protocol=1,n.transports=[],n.j=[],n.sockets={},n.connect=function(e,r){var i,o,s=n.util.parseUri(e);t&&t.location&&(s.protocol=s.protocol||t.location.protocol.slice(0,-1),s.host=s.host||(t.document?t.document.domain:t.location.hostname),s.port=s.port||t.location.port),i=n.util.uniqueUri(s);var a={host:s.host,secure:"https"==s.protocol,port:s.port||("https"==s.protocol?443:80),query:s.query||""};return n.util.merge(a,r),!a["force new connection"]&&n.sockets[i]||(o=new n.Socket(a)),!a["force new connection"]&&o&&(n.sockets[i]=o),(o=o||n.sockets[i]).of(s.path.length>1?s.path:"")}})(n.exports,void 0===e?window:e);var r=n.exports;!(function(e,t){var n=e.util={},r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];n.parseUri=function(e){for(var t=r.exec(e||""),n={},o=14;o--;)n[i[o]]=t[o]||"";return n},n.uniqueUri=function(e){var n=e.protocol,r=e.host,i=e.port;return"document"in t?(r=r||document.domain,i=i||("https"==n&&"https:"!==document.location.protocol?443:document.location.port)):(r=r||"localhost",i||"https"!=n||(i=443)),(n||"http")+"://"+r+":"+(i||80)},n.query=function(e,t){var r=n.chunkQuery(e||""),i=[];for(var o in n.merge(r,n.chunkQuery(t||"")),r)r.hasOwnProperty(o)&&i.push(o+"="+r[o]);return i.length?"?"+i.join("&"):""},n.chunkQuery=function(e){for(var t,n={},r=e.split("&"),i=0,o=r.length;i<o;++i)(t=r[i].split("="))[0]&&(n[t[0]]=t[1]);return n};var o=!1;n.load=function(e){if("document"in t&&"complete"===document.readyState||o)return e();n.on(t,"load",e,!1)},n.on=function(e,t,n,r){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,r)},n.request=function(e){if(e&&"undefined"!=typeof XDomainRequest)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&(!e||n.ua.hasCORS))return new XMLHttpRequest;if(!e)try{return new(window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}return null},"undefined"!=typeof window&&n.load(function(){o=!0}),n.defer=function(e){if(!n.ua.webkit||"undefined"!=typeof importScripts)return e();n.load(function(){setTimeout(e,100)})},n.merge=function(e,t,r,i){var o,s=i||[],a=void 0===r?2:r;for(o in t)t.hasOwnProperty(o)&&n.indexOf(s,o)<0&&("object"==typeof e[o]&&a?n.merge(e[o],t[o],a-1,s):(e[o]=t[o],s.push(t[o])));return e},n.mixin=function(e,t){n.merge(e.prototype,t.prototype)},n.inherit=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n.intersect=function(e,t){for(var r=[],i=e.length>t.length?e:t,o=e.length>t.length?t:e,s=0,a=o.length;s<a;s++)~n.indexOf(i,o[s])&&r.push(o[s]);return r},n.indexOf=function(e,t,n){var r=e.length;for(n=n<0?n+r<0?0:n+r:n||0;n<r&&e[n]!==t;n++);return r<=n?-1:n},n.toArray=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t},n.ua={},n.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&(function(){try{var e=new XMLHttpRequest}catch(e){return!1}return null!=e.withCredentials})(),n.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent)})(void 0!==r?r:n.exports,void 0===e?window:e),(function(e,t){function n(){}e.EventEmitter=n,n.prototype.on=function(e,n){return this.$events||(this.$events={}),this.$events[e]?t.util.isArray(this.$events[e])?this.$events[e].push(n):this.$events[e]=[this.$events[e],n]:this.$events[e]=n,this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(e,t){function n(){r.removeListener(e,n),t.apply(this,arguments)}var r=this;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,n){if(this.$events&&this.$events[e]){var r=this.$events[e];if(t.util.isArray(r)){for(var i=-1,o=0,s=r.length;o<s;o++)if(r[o]===n||r[o].listener&&r[o].listener===n){i=o;break}if(i<0)return this;r.splice(i,1),r.length||delete this.$events[e]}else(r===n||r.listener&&r.listener===n)&&delete this.$events[e]}return this},n.prototype.removeAllListeners=function(e){return this.$events&&this.$events[e]&&(this.$events[e]=null),this},n.prototype.listeners=function(e){return this.$events||(this.$events={}),this.$events[e]||(this.$events[e]=[]),t.util.isArray(this.$events[e])||(this.$events[e]=[this.$events[e]]),this.$events[e]},n.prototype.emit=function(e){if(!this.$events)return!1;var n=this.$events[e];if(!n)return!1;var r=Array.prototype.slice.call(arguments,1);if("function"==typeof n)n.apply(this,r);else{if(!t.util.isArray(n))return!1;for(var i=n.slice(),o=0,s=i.length;o<s;o++)i[o].apply(this,r)}return!0}})(void 0!==r?r:n.exports,void 0!==r?r:n.parent.exports),(function(e,t){if(t&&t.parse)return e.JSON={parse:t.parse,stringify:t.stringify};throw new Error("JSON not available")})(void 0!==r?r:n.exports,"undefined"!=typeof JSON?JSON:void 0),(function(e,t){var n=e.parser={},r=n.packets=["disconnect","connect","heartbeat","message","json","event","ack","error","noop"],i=n.reasons=["transport not supported","client not handshaken","unauthorized"],o=n.advice=["reconnect"],s=t.JSON,a=t.util.indexOf;n.encodePacket=function(e){var t=a(r,e.type),n=e.id||"",c=e.endpoint||"",u=e.ack,l=null;switch(e.type){case"error":var d=e.reason?a(i,e.reason):"",p=e.advice?a(o,e.advice):"";""===d&&""===p||(l=d+(""!==p?"+"+p:""));break;case"message":""!==e.data&&(l=e.data);break;case"event":var h={name:e.name};e.args&&e.args.length&&(h.args=e.args),l=s.stringify(h);break;case"json":l=s.stringify(e.data);break;case"connect":e.qs&&(l=e.qs);break;case"ack":l=e.ackId+(e.args&&e.args.length?"+"+s.stringify(e.args):"")}var f=[t,n+("data"==u?"+":""),c];return null!=l&&f.push(l),f.join(":")},n.encodePayload=function(e){var t="";if(1==e.length)return e[0];for(var n=0,r=e.length;n<r;n++)t+="\ufffd"+e[n].length+"\ufffd"+e[n];return t};var c=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;n.decodePacket=function(e){if(!(a=e.match(c)))return{};var t=a[2]||"",n=(e=a[5]||"",{type:r[a[1]],endpoint:a[4]||""});switch(t&&(n.id=t,a[3]?n.ack="data":n.ack=!0),n.type){case"error":var a=e.split("+");n.reason=i[a[0]]||"",n.advice=o[a[1]]||"";break;case"message":n.data=e||"";break;case"event":try{var u=s.parse(e);n.name=u.name,n.args=u.args}catch(e){}n.args=n.args||[];break;case"json":try{n.data=s.parse(e)}catch(e){}break;case"connect":n.qs=e||"";break;case"ack":if((a=e.match(/^([0-9]+)(\+)?(.*)/))&&(n.ackId=a[1],n.args=[],a[3]))try{n.args=a[3]?s.parse(a[3]):[]}catch(e){}break;case"disconnect":n.reason=e}return n},n.decodePayload=function(e){if("\ufffd"==e.charAt(0)){for(var t=[],r=1,i="";r<e.length;r++)"\ufffd"==e.charAt(r)?(t.push(n.decodePacket(e.substr(r+1).substr(0,i))),r+=Number(i)+1,i=""):i+=e.charAt(r);return t}return[n.decodePacket(e)]}})(void 0!==r?r:n.exports,void 0!==r?r:n.parent.exports),(function(e,t){function n(e,t){this.socket=e,this.sessid=t,this.connectErrorCallback=void 0,this.isOpened=!1}e.Transport=n,t.util.mixin(n,t.EventEmitter),n.prototype.onData=function(e){if(this.clearCloseTimeout(),(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout(),""!==e){var n=t.parser.decodePayload(e);if(n&&n.length)for(var r=0,i=n.length;r<i;r++)this.onPacket(n[r])}return this},n.prototype.onPacket=function(e){return this.socket.setHeartbeatTimeout(),"heartbeat"==e.type?this.onHeartbeat():("connect"==e.type&&""==e.endpoint&&this.onConnect(),"error"==e.type&&"reconnect"==e.advice&&(this.isOpened=!1),this.socket.onPacket(e),this)},n.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var e=this;this.closeTimeout=setTimeout(function(){e.onDisconnect()},this.socket.closeTimeout)}},n.prototype.onDisconnect=function(){return this.close&&this.isOpened&&this.close(),this.clearTimeouts(),this.socket.onDisconnect(),this},n.prototype.onConnect=function(){return this.socket.onConnect(),this.connectErrorCallback=void 0,this},n.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)},n.prototype.clearTimeouts=function(){this.clearCloseTimeout(),this.reopenTimeout&&clearTimeout(this.reopenTimeout)},n.prototype.packet=function(e){this.send(t.parser.encodePacket(e))},n.prototype.onHeartbeat=function(e){this.packet({type:"heartbeat"})},n.prototype.onOpen=function(){this.isOpened=!0,this.clearCloseTimeout(),this.socket.onOpen()},n.prototype.onClose=function(){this.isOpened=!1,this.socket.onClose(),this.onDisconnect()},n.prototype.prepareUrl=function(){var e=this.socket.options;return this.scheme()+"://"+e.host+":"+e.port+"/"+e.resource+"/"+t.protocol+"/"+this.name+"/"+this.sessid},n.prototype.ready=function(e,t){t.call(this)},n.prototype.clearEventHandlers=function(){return this}})(void 0!==r?r:n.exports,void 0!==r?r:n.parent.exports),(function(e,t,n){function r(e){if(this.options={port:80,secure:!1,document:"document"in n&&document,resource:"socket.io",transports:t.transports.slice(),"connect timeout":1e4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":1/0,"reopen delay":3e3,"max reconnection attempts":10,"sync disconnect on unload":!0,"auto connect":!0,"flash policy port":10843},t.util.merge(this.options,e),this.connected=!1,this.open=!1,this.connecting=!1,this.reconnecting=!1,this.namespaces={},this.buffer=[],this.doBuffer=!1,this.disconnected=!1,this.options["sync disconnect on unload"]&&(!this.isXDomain()||t.util.ua.hasCORS)){var r=this;t.util.on(n,"unload",function(){r.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()}function i(){}e.Socket=r,t.util.mixin(r,t.EventEmitter),r.prototype.of=function(e){return this.namespaces[e]||(this.namespaces[e]=new t.SocketNamespace(this,e),""!==e&&this.namespaces[e].packet({type:"connect"})),this.namespaces[e]},r.prototype.publish=function(){var e;for(var t in this.emit.apply(this,arguments),this.namespaces)this.namespaces.hasOwnProperty(t)&&(e=this.of(t)).$emit.apply(e,arguments)},r.prototype.handshake=function(e){function n(t){t instanceof Error?r.onError(t.message):e.apply(null,t.split(":"))}var r=this,o=this.options;if(!r.disconnected){var s=["http"+(o.secure?"s":"")+":/",o.host+":"+o.port,o.resource,t.protocol,t.util.query(this.options.query,"t="+ +new Date)].join("/");if(this.isXDomain()&&!t.util.ua.hasCORS){var a=document.getElementsByTagName("script")[0],c=document.createElement("script");c.src=s+"&jsonp="+t.j.length,a.parentNode.insertBefore(c,a),t.j.push(function(e){n(e),c.parentNode.removeChild(c)})}else{var u=t.util.request();u.open("GET",s,!0),u.onreadystatechange=function(){4==u.readyState&&(u.onreadystatechange=i,200==u.status?n(u.responseText):!r.reconnecting&&r.onError(u.responseText))},u.send(null)}}},r.prototype.getTransport=function(e){for(var n,r=e||this.transports,i=0;n=r[i];i++)if(t.Transport[n]&&t.Transport[n].check(this)&&(!this.isXDomain()||t.Transport[n].xdomainCheck()))return new t.Transport[n](this,this.sessionid);return null},r.prototype.connect=function(e){if(this.connecting||this.disconnected)return this;var n=this;return this.handshake(function(r,i,o,s){function a(){if(!n.connected&&!n.disconnected)if(n.connecting=!1,clearTimeout(n.connectTimeoutTimer),n.options["try multiple transports"]){for(;n.remainingTransports.length>0&&n.remainingTransports.splice(0,1)[0]!=n.transport.name;);n.remainingTransports.length?c(n.remainingTransports):n.publish("connect_failed")}else n.publish("connect_failed")}function c(e){if(n.transport&&(n.transport.clearTimeouts(),n.transport.clearEventHandlers()),n.transport=n.getTransport(e),!n.transport||n.disconnected)return n.publish("connect_failed");n.transport.ready(n,function(){n.connecting=!0,n.publish("connecting",n.transport.name),n.transport.open(a),n.options["connect timeout"]&&(n.connectTimeoutTimer=setTimeout(function(){a()},n.options["connect timeout"]))})}n.sessionid=r,n.closeTimeout=1e3*o+2e3,n.heartbeatTimeout=1e3*i+2e3,n.transports=s?t.util.intersect(s.split(","),n.options.transports):n.options.transports,n.setHeartbeatTimeout(),n.remainingTransports=n.transports.slice(0),c(n.transports),n.once("connect",function(){clearTimeout(n.connectTimeoutTimer),e&&"function"==typeof e&&e()})}),this},r.prototype.setHeartbeatTimeout=function(){clearTimeout(this.heartbeatTimeoutTimer);var e=this;this.heartbeatTimeoutTimer=setTimeout(function(){e.transport.onClose()},this.heartbeatTimeout)},r.prototype.packet=function(e){return this.connected&&!this.doBuffer?this.transport.packet(e):this.buffer.push(e),this},r.prototype.setBuffer=function(e){this.doBuffer=e,!e&&this.connected&&this.buffer.length&&(this.transport.payload(this.buffer),this.buffer=[])},r.prototype.disconnect=function(){return(this.connected||this.connecting)&&(this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted")),this.disconnected=!0,this},r.prototype.disconnectSync=function(){var e=t.util.request(),n=this.resource+"/"+t.protocol+"/"+this.sessionid;e.open("GET",n,!0),this.onDisconnect("booted")},r.prototype.isXDomain=function(){var e=n.location.port||("https:"==n.location.protocol?443:80);return this.options.host!==n.location.hostname||this.options.port!=e},r.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))},r.prototype.onOpen=function(){this.open=!0},r.prototype.onClose=function(){this.open=!1,clearTimeout(this.heartbeatTimeoutTimer)},r.prototype.onPacket=function(e){this.of(e.endpoint).onPacket(e)},r.prototype.onError=function(e){e&&e.advice&&"reconnect"===e.advice&&(this.connected||this.connecting)&&(this.disconnect(),this.options.reconnect&&this.reconnect()),this.publish("error",e&&e.reason?e.reason:e)},r.prototype.onDisconnect=function(e){var t=this.connected,n=this.connecting;this.connected=!1,this.connecting=!1,this.open=!1,(t||n)&&(this.transport.close(),this.transport.clearTimeouts(),t&&(this.publish("disconnect",e),"booted"!=e&&this.options.reconnect&&!this.reconnecting&&this.reconnect()))},r.prototype.reconnect=function(){function e(){if(n.connected){for(var e in n.namespaces)n.namespaces.hasOwnProperty(e)&&""!==e&&n.namespaces[e].packet({type:"connect"});n.publish("reconnect",n.transport.name,n.reconnectionAttempts)}clearTimeout(n.reconnectionTimer),n.removeListener("connect_failed",t),n.removeListener("connect",t),n.reconnecting=!1,delete n.reconnectionAttempts,delete n.reconnectionDelay,delete n.reconnectionTimer,delete n.redoTransports,n.options["try multiple transports"]=i}function t(){if(n.reconnecting)return n.connected?e():n.connecting&&n.reconnecting?n.reconnectionTimer=setTimeout(t,1e3):void(n.reconnectionAttempts++>=r?n.redoTransports?(n.publish("reconnect_failed"),e()):(n.on("connect_failed",t),n.options["try multiple transports"]=!0,n.transport=n.getTransport(),n.redoTransports=!0,n.connect()):(n.reconnectionDelay<o&&(n.reconnectionDelay*=2),n.connect(),n.publish("reconnecting",n.reconnectionDelay,n.reconnectionAttempts),n.reconnectionTimer=setTimeout(t,n.reconnectionDelay)))}this.reconnecting=!0,this.reconnectionAttempts=0,this.reconnectionDelay=this.options["reconnection delay"];var n=this,r=this.options["max reconnection attempts"],i=this.options["try multiple transports"],o=this.options["reconnection limit"];this.options["try multiple transports"]=!1,this.reconnectionTimer=setTimeout(t,this.reconnectionDelay),this.on("connect",t)}})(void 0!==r?r:n.exports,void 0!==r?r:n.parent.exports,void 0===e?window:e),(function(e,t){function n(e,t){this.socket=e,this.name=t||"",this.flags={},this.json=new r(this,"json"),this.ackPackets=0,this.acks={}}function r(e,t){this.namespace=e,this.name=t}e.SocketNamespace=n,t.util.mixin(n,t.EventEmitter),n.prototype.$emit=t.EventEmitter.prototype.emit,n.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)},n.prototype.packet=function(e){return e.endpoint=this.name,this.socket.packet(e),this.flags={},this},n.prototype.send=function(e,t){var n={type:this.flags.json?"json":"message",data:e};return"function"==typeof t&&(n.id=++this.ackPackets,n.ack=!0,this.acks[n.id]=t),this.packet(n)},n.prototype.emit=function(e){var t=Array.prototype.slice.call(arguments,1),n=t[t.length-1],r={type:"event",name:e};return"function"==typeof n&&(r.id=++this.ackPackets,r.ack="data",this.acks[r.id]=n,t=t.slice(0,t.length-1)),r.args=t,this.packet(r)},n.prototype.disconnect=function(){return""===this.name?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect")),this},n.prototype.onPacket=function(e){function n(){r.packet({type:"ack",args:t.util.toArray(arguments),ackId:e.id})}var r=this;switch(e.type){case"connect":this.$emit("connect");break;case"disconnect":""===this.name?this.socket.onDisconnect(e.reason||"booted"):this.$emit("disconnect",e.reason||"");break;case"message":case"json":var i=["message",e.data];"data"==e.ack?i.push(n):e.ack&&this.packet({type:"ack",ackId:e.id}),this.$emit.apply(this,i);break;case"event":i=[e.name].concat(e.args),"data"==e.ack&&i.push(n),this.$emit.apply(this,i);break;case"ack":this.acks[e.ackId]&&(this.acks[e.ackId].apply(this,e.args),delete this.acks[e.ackId]);break;case"error":e.advice?this.socket.onError(e):"unauthorized"==e.reason?this.$emit("connect_failed",e.reason):this.$emit("error",e.reason)}},r.prototype.send=function(){this.namespace.flags[this.name]=!0,this.namespace.send.apply(this.namespace,arguments)},r.prototype.emit=function(){this.namespace.flags[this.name]=!0,this.namespace.emit.apply(this.namespace,arguments)}})(void 0!==r?r:n.exports,void 0!==r?r:n.parent.exports),(function(e,t,n){function r(e){t.Transport.apply(this,arguments)}function i(){}e.websocket=r,t.util.inherit(r,t.Transport),r.prototype.name="websocket",r.prototype.open=function(e){var r,i=t.util.query(this.socket.options.query),o=this;return this.connectErrorCallback=e,r||(r=n.MozWebSocket||n.WebSocket),this.websocket=new r(this.prepareUrl()+i),this.websocket.onopen=function(){o.onOpen(),o.socket.setBuffer(!1)},this.websocket.onmessage=function(e){o.onData(e.data)},this.websocket.onclose=function(){o.onClose(),o.socket.setBuffer(!0)},this.websocket.onerror=function(e){o.onError(e)},this},r.prototype.send=function(e){return this.websocket.send(e),this},r.prototype.payload=function(e){for(var t=0,n=e.length;t<n;t++)this.packet(e[t]);return this},r.prototype.close=function(){return this.websocket.close(),this},r.prototype.onError=function(e){void 0!==this.connectErrorCallback&&(this.connectErrorCallback(),this.connectErrorCallback=void 0),this.socket.onError(e)},r.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"},r.check=function(){return"WebSocket"in n&&!("__addTask"in WebSocket)||"MozWebSocket"in n},r.xdomainCheck=function(){return!0},r.prototype.clearEventHandlers=function(){return this.websocket&&(this.websocket.onopen=this.websocket.onmessage=this.websocket.onclose=this.websocket.onerror=i),this},t.transports.push("websocket")})(void 0!==r?r.Transport:n.exports,void 0!==r?r:n.parent.exports,void 0===e?window:e),(function(e,t,n){function r(e){e&&(t.Transport.apply(this,arguments),this.sendBuffer=[])}function i(){}e.XHR=r,t.util.inherit(r,t.Transport),r.prototype.open=function(){return this.socket.setBuffer(!1),this.onOpen(),this.get(),this.setCloseTimeout(),this},r.prototype.payload=function(e){for(var n=[],r=0,i=e.length;r<i;r++)n.push(t.parser.encodePacket(e[r]));this.send(t.parser.encodePayload(n))},r.prototype.send=function(e){return this.post(e),this},r.prototype.post=function(e){var t=this;this.socket.setBuffer(!0),this.sendXHR=this.request("POST"),n.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=function(){this.onload=i,t.socket.setBuffer(!1)}:this.sendXHR.onreadystatechange=function(){4==this.readyState&&(this.onreadystatechange=i,t.posting=!1,200==this.status?(t.socket.setBuffer(!1),clearTimeout(t.sendXHR.ackTimeoutTimer)):t.onClose())},this.sendXHR.send(e),t.sendXHR.ackTimeoutTimer=setTimeout(function(){t.onClose()},t.socket.options.ackTimeoutMs)},r.prototype.close=function(){return this.onClose(),this},r.prototype.request=function(e){var n=t.util.request(this.socket.isXDomain()),r=t.util.query(this.socket.options.query,"t="+ +new Date);if(n.open(e||"GET",this.prepareUrl()+r,!0),"POST"==e)try{n.setRequestHeader?n.setRequestHeader("Content-type","text/plain;charset=UTF-8"):n.contentType="text/plain"}catch(e){}return n},r.prototype.scheme=function(){return this.socket.options.secure?"https":"http"},r.check=function(e,r){try{var i=t.util.request(r),o=n.XDomainRequest&&i instanceof XDomainRequest,s=(e&&e.options&&e.options.secure?"https:":"http:")!=n.location.protocol;if(i&&(!o||!s))return!0}catch(e){}return!1},r.xdomainCheck=function(){return r.check(null,!0)},r.prototype.clearEventHandlers=function(){return this.sendXHR&&(this.sendXHR.onreadystatechange=this.sendXHR.onload=i),this}})(void 0!==r?r.Transport:n.exports,void 0!==r?r:n.parent.exports,void 0===e?window:e),(function(e,t,n){function r(){t.Transport.XHR.apply(this,arguments)}function i(){}e["xhr-polling"]=r,t.util.inherit(r,t.Transport.XHR),t.util.merge(r,t.Transport.XHR),r.prototype.name="xhr-polling",r.prototype.open=function(e){return this.connectErrorCallback=e,t.Transport.XHR.prototype.open.call(this),!1},r.prototype.get=function(){if(this.isOpened){var e=this;this.xhr=this.request(),n.XDomainRequest&&this.xhr instanceof XDomainRequest?(this.xhr.onload=function(){e.connectErrorCallback=void 0,this.onload=i,this.onerror=i,e.onData(this.responseText),e.get()},this.xhr.onerror=function(){e.onClose(),void 0!==e.connectErrorCallback&&(e.connectErrorCallback(),e.connectErrorCallback=void 0)}):this.xhr.onreadystatechange=function(){4==this.readyState&&(this.onreadystatechange=i,200==this.status?(e.connectErrorCallback=void 0,e.onData(this.responseText),e.get()):(e.onClose(),void 0!==e.connectErrorCallback&&(e.connectErrorCallback(),e.connectErrorCallback=void 0)))},this.xhr.send(null)}},r.prototype.onClose=function(){if(t.Transport.XHR.prototype.onClose.call(this),this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=i;try{this.xhr.abort()}catch(e){}this.xhr=null}},r.prototype.ready=function(e,n){var r=this;t.util.defer(function(){n.call(r)})},r.prototype.clearEventHandlers=function(){return t.Transport.XHR.prototype.clearEventHandlers.call(this),this.xhr&&(this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=i),this},t.transports.push("xhr-polling")})(void 0!==r?r.Transport:n.exports,void 0!==r?r:n.parent.exports,void 0===e?window:e),t.io=r}).call(t,n(4),n(14)(e))},function(e,t,n){(function(t,r){!(function(t,n){e.exports=n()})(0,function(){function e(e){return"function"==typeof e}function i(){var e=setTimeout;return function(){return e(o,1)}}function o(){for(var e=0;e<b;e+=2)(0,N[e])(N[e+1]),N[e]=void 0,N[e+1]=void 0;b=0}function s(e,t){var n=arguments,r=this,i=new this.constructor(c);void 0===i[M]&&E(i);var o=r._state;return o?(function(){var e=n[o-1];A(function(){return y(o,i,e,r._result)})})():v(r,i,e,t),i}function a(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(c);return d(t,e),t}function c(){}function u(e){try{return e.then}catch(e){return q.error=e,q}}function l(t,n,r){n.constructor===t.constructor&&r===s&&n.constructor.resolve===a?(function(e,t){t._state===U?h(e,t._result):t._state===L?f(e,t._result):v(t,void 0,function(t){return d(e,t)},function(t){return f(e,t)})})(t,n):r===q?f(t,q.error):void 0===r?h(t,n):e(r)?(function(e,t,n){A(function(e){var r=!1,i=(function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}})(n,t,function(n){r||(r=!0,t!==n?d(e,n):h(e,n))},function(t){r||(r=!0,f(e,t))},e._label);!r&&i&&(r=!0,f(e,i))},e)})(t,n,r):h(t,n)}function d(e,t){e===t?f(e,new TypeError("You cannot resolve a promise with itself")):"function"==typeof t||"object"==typeof t&&null!==t?l(e,t,u(t)):h(e,t)}function p(e){e._onerror&&e._onerror(e._result),m(e)}function h(e,t){e._state===x&&(e._result=t,e._state=U,0!==e._subscribers.length&&A(m,e))}function f(e,t){e._state===x&&(e._state=L,e._result=t,A(p,e))}function v(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+U]=n,i[o+L]=r,0===o&&e._state&&A(m,e)}function m(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,s=0;s<t.length;s+=3)r=t[s],i=t[s+n],r?y(n,r,i,o):i(o);e._subscribers.length=0}}function g(){this.error=null}function y(t,n,r,i){var o=e(r),s=void 0,a=void 0,c=void 0,u=void 0;if(o){if((s=(function(e,t){try{return e(t)}catch(e){return j.error=e,j}})(r,i))===j?(u=!0,a=s.error,s=null):c=!0,n===s)return void f(n,new TypeError("A promises callback cannot return that same promise."))}else s=i,c=!0;n._state!==x||(o&&c?d(n,s):u?f(n,a):t===U?h(n,s):t===L&&f(n,s))}function E(e){e[M]=F++,e._state=void 0,e._result=void 0,e._subscribers=[]}function S(e,t){this._instanceConstructor=e,this.promise=new e(c),this.promise[M]||E(this.promise),C(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?h(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&h(this.promise,this._result))):f(this.promise,new Error("Array Methods must be provided an Array"))}function T(e){this[M]=F++,this._result=this._state=void 0,this._subscribers=[],c!==e&&("function"!=typeof e&&(function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")})(),this instanceof T?(function(e,t){try{t(function(t){d(e,t)},function(t){f(e,t)})}catch(t){f(e,t)}})(this,e):(function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")})())}var C=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},b=0,R=void 0,I=void 0,A=function(e,t){N[b]=e,N[b+1]=t,2===(b+=2)&&(I?I(o):D())},w="undefined"!=typeof window?window:void 0,_=w||{},O=_.MutationObserver||_.WebKitMutationObserver,k="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),P="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,N=new Array(1e3),D=void 0;D=k?function(){return t.nextTick(o)}:O?(function(){var e=0,t=new O(o),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}})():P?(function(){var e=new MessageChannel;return e.port1.onmessage=o,function(){return e.port2.postMessage(0)}})():void 0===w?(function(){try{var e=n(21);return void 0!==(R=e.runOnLoop||e.runOnContext)?function(){R(o)}:i()}catch(e){return i()}})():i();var M=Math.random().toString(36).substring(16),x=void 0,U=1,L=2,q=new g,j=new g,F=0;return S.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===x&&n<e;n++)this._eachEntry(t[n],n)},S.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===a){var i=u(e);if(i===s&&e._state!==x)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===T){var o=new n(c);l(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},S.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===x&&(this._remaining--,e===L?f(r,n):this._result[t]=n),0===this._remaining&&h(r,this._result)},S.prototype._willSettleAt=function(e,t){var n=this;v(e,void 0,function(e){return n._settledAt(U,t,e)},function(e){return n._settledAt(L,t,e)})},T.all=function(e){return new S(this,e).promise},T.race=function(e){var t=this;return new t(C(e)?function(n,r){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})},T.resolve=a,T.reject=function(e){var t=new this(c);return f(t,e),t},T._setScheduler=function(e){I=e},T._setAsap=function(e){A=e},T._asap=A,T.prototype={constructor:T,then:s,catch:function(e){return this.then(null,e)}},T.polyfill=function(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=T},T.Promise=T,T})}).call(t,n(13),n(4))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function o(){f&&p&&(f=!1,p.length?h=p.concat(h):v=-1,h.length&&s())}function s(){if(!f){var e=i(o);f=!0;for(var t=h.length;t;){for(p=h,h=[];++v<t;)p&&p[v].run();v=-1,t=h.length}p=null,f=!1,(function(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}})(e)}}function a(e,t){this.fun=e,this.array=t}function c(){}var u,l,d=e.exports={};!(function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(e){l=r}})();var p,h=[],f=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new a(e,t)),1!==h.length||f||i(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3),o=n(1),s=n(0);t.ResponseData=function(e){this.id=e,this.status=200,this.headers={},this.body=""},(function(e){e.Connected="trouter_js_client_connected",e.Disconnected="trouter_js_client_disconnected",e.Error="trouter_js_client_error",e.Progress="trouter_js_client_progress",e.Response="trouter_js_client_response",e.Request="trouter_js_client_request",e.CheckConnection="trouter_js_client_check_connection",e.Registration="trouter_js_client_registration",e.Unregistration="trouter_js_client_unregistration"})(r=t.ClientEventName||(t.ClientEventName={}));var a=function(e,t,n,r,i){this.stepName=e,this.operation=t,this.delta=n,this.ts=r,this.error=i};t.TrackerStep=a;t.Properties=function(){};var c=function(){this.numberOfPingReplies=0,this.connectedTimestamp=0,this.isNewUrl=!1,this.transportType="",this.connectionNumber=0},u=function(){this.enabled=!1,this.numberOfStepsToMaintain=40,this.logHealthCheckError=!1,this.sendProgressTimeoutSecs=55,this.logSendPingError=!1,this.maxBackoffInMs=12e4,this.trouter_js_client_connected=!1,this.trouter_js_client_disconnected=!1,this.trouter_js_client_error=!1,this.trouter_js_client_progress=!1,this.trouter_js_client_response=!1,this.trouter_js_client_request=!1,this.trouter_js_client_registration=!1,this.trouter_js_client_unregistration=!1,this.trouter_js_client_check_connection=!0},l=(function(){function e(e,t,n,r,o,a,l){this.clientId=t,this.clientInfo=n,this.getServerState=r,this.endpointId=o,this.clientCorrelationID=a,this.environment=l,this.logger=new s.Logger("ConnectionTracker",e),this.clientCorrelationID=void 0!==a?a:"",this.steps=[],this.connectionAttempt=0,this.totalStepCount=0,this.beginTimestamp=new i.Timespan,this.eventLogSettings=new u,this.connectedInfo=new c}return e.prototype.enable=function(e){this.eventLogSettings.enabled=!0,this.eventLogger=e},e.prototype.disable=function(){this.eventLogSettings.enabled=!1},e.prototype.sendProgress=function(e){this.steps.length>0&&this.sendTelemetry(r.Progress,e,this.steps)},e.prototype.cancelProgressTimer=function(){void 0!==this.progressTimeout&&(clearTimeout(this.progressTimeout),this.progressTimeout=void 0)},e.prototype.resetProgressSendTimer=function(){var e=this;this.cancelProgressTimer(),void 0!==this.eventLogSettings.sendProgressTimeoutSecs&&this.eventLogSettings.sendProgressTimeoutSecs>0&&(this.progressTimeout=setTimeout(function(){e.sendProgress({reason:"timeout",timeoutSecs:e.eventLogSettings.sendProgressTimeoutSecs})},1e3*this.eventLogSettings.sendProgressTimeoutSecs))},e.prototype.setConnectedInfo=function(e,t){this.connectedInfo.numberOfPingReplies=0,this.connectedInfo.connectedTimestamp=Date.now(),this.connectedInfo.isNewUrl=e,this.connectedInfo.transportType=t,++this.connectedInfo.connectionNumber},e.prototype.clearConnectedInfo=function(){this.connectedInfo.numberOfPingReplies=0,this.connectedInfo.connectedTimestamp=0,this.connectedInfo.isNewUrl=!0,this.connectedInfo.transportType=""},e.prototype.copyProperties=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];t.hasOwnProperty(i)&&void 0!==t[i]&&(e[i.replace(/-/g,"_")]={value:t[i]})}},e.prototype.increasePingResponseCount=function(){++this.connectedInfo.numberOfPingReplies},e.prototype.sendTelemetry=function(e,t,n){try{if(!0===this.eventLogSettings.enabled&&!0===this.eventLogSettings[e]&&void 0!==this.eventLogger){var r=this.getServerState(),s={name:e,properties:{connectionAttempt:{value:this.connectionAttempt},epid:{value:this.endpointId},clientCorrelationID:{value:this.clientCorrelationID},steps:{value:i.toJson(n)},clientID:{value:this.clientId},eventVersion:{value:3},environment:{value:this.environment},cv:{value:o.CLIENT_VERSION},ua:{value:this.clientInfo.ua},connectionId:{value:r.connectionId},connectedClientId:{value:r.connectedClientId},domId:{value:r.domId},url:{value:r.unsecureUrl},surl:{value:r.url},ttlInSecs:{value:r.getRemainingTtlInSec()},numberOfPingReplies:{value:this.connectedInfo.numberOfPingReplies},connectedTimestamp:{value:this.connectedInfo.connectedTimestamp},isNewUrl:{value:this.connectedInfo.isNewUrl},transportType:{value:this.connectedInfo.transportType},connectionNumber:{value:this.connectedInfo.connectionNumber}}};this.copyProperties(s.properties,t),this.eventLogger.logEvent(s)}}catch(t){this.logger.warn("error in sending event "+e+": "+i.toJson(t))}},e.prototype.createStep=function(e,t,n){return new a(e,t,this.beginTimestamp.duration,Date.now(),n)},e.prototype.addStep=function(e,t,n){if(!1!==this.eventLogSettings.enabled&&(0===this.steps.length&&this.beginTimestamp.reset(),this.steps.push(this.createStep(e,t,n)),++this.totalStepCount,void 0!==this.eventLogSettings.numberOfStepsToMaintain&&this.steps.length>this.eventLogSettings.numberOfStepsToMaintain)){var i=this.steps.slice(0);this.steps.length=0,this.sendTelemetry(r.Progress,{reason:"flush"},i)}},e.prototype.trackStart=function(e){this.addStep(e,"start")},e.prototype.trackEnd=function(e){this.addStep(e,"end")},e.prototype.trackError=function(e,t,n,i){void 0===n&&(n=!0),"health"===e&&!0!==this.eventLogSettings.logHealthCheckError||"ping"===e&&!1===this.eventLogSettings.logSendPingError||(void 0===i&&(i="error"),!0===n&&this.addStep(e,i,t),this.sendTelemetry(r.Error,{},[this.createStep(e,i,t)]))},e.prototype.trackProgress=function(e,t){this.addStep(e,t)},e.prototype.trackConnected=function(e,t){this.setConnectedInfo(e,t);var n=this.steps.slice(0),i=this.totalStepCount,o=this.beginTimestamp.duration;this.steps.length=0,this.totalStepCount=0,this.sendTelemetry(r.Connected,{stepCount:n.length,totalStepCount:i,connectionEstablishmentMs_Total:o},n),this.cancelProgressTimer()},e.prototype.getSessionLength=function(){return Date.now()-this.connectedInfo.connectedTimestamp},e.prototype.trackDisconnected=function(e){e.sessionLengthMS=this.getSessionLength(),this.sendTelemetry(r.Disconnected,e,[]),this.resetProgressSendTimer()},e.prototype.trackNewConnection=function(){++this.connectionAttempt},e.prototype.trackRequest=function(e,t){var n={};void 0!==t&&(n.hasError=!0,n.error=t);try{if(e){n.requestID=e.id,n.httpMethod=e.method,n.url=e.url,n.bodyLength=e.body.length,n.shortUrl=e.shortUrl,n.requestTimeStamp=e.startTS,n.correlationVector=e.correlationVector;for(var o=e.headers,s=0,a=Object.keys(o);s<a.length;s++){var c=a[s];o.hasOwnProperty(c)&&(n[c]=o[c])}}}catch(e){n.hasError=!0,n.error=n.error+" error creating request context "+i.toJson(e)}this.sendTelemetry(r.Request,n,[])},e.prototype.trackResponse=function(e,t,n,o){var s={};void 0!==o&&(s.hasError=!0,s.error=o);try{if(s.responseTimestamp=void 0!==n?n.sentTS:Date.now(),e){s.requestID=e.id,s.httpMethod=e.method,s.shortUrl=e.shortUrl,s.correlationVector=e.correlationVector;for(var a=e.headers,c=0,u=Object.keys(a);c<u.length;c++){var l=u[c];a.hasOwnProperty(l)&&(s[l]=a[l])}}n&&(s.latencyMS=t,s.responseCode=n.status,s.responseLength=n.body.length)}catch(e){s.hasError=!0,s.error=s.error+" error creating response context "+i.toJson(e)}this.sendTelemetry(r.Response,s,[])},e.prototype.sendResponseError=function(e,t,n){this.trackResponse(t,void 0,n,e)},e.prototype.close=function(){this.sendProgress({reason:"closed"}),this.steps.length=0,this.cancelProgressTimer()},e.prototype.mergeSettings=function(e){if(e){this.eventLogSettings.numberOfStepsToMaintain=Math.min(40,Math.max(10,void 0!==e.numberOfStepsToMaintain?e.numberOfStepsToMaintain:0));var t=Math.min(3600,Math.max(55,void 0!==e.sendProgressTimeoutSecs?e.sendProgressTimeoutSecs:0));this.eventLogSettings.logHealthCheckError=e.logHealthCheckError,this.eventLogSettings.logSendPingError=e.logSendPingError;for(var n=0,i=Object.keys(r).map(function(e){return r[e]});n<i.length;n++){var o=i[n];e.hasOwnProperty(o)&&void 0!==e[o]&&(this.eventLogSettings[o]=e[o])}this.eventLogSettings.sendProgressTimeoutSecs!==t&&(this.eventLogSettings.sendProgressTimeoutSecs=t,this.resetProgressSendTimer())}},e})();t.ConnectionTracker=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=(function(){function e(e,t){this.logger=e,this.maxBackoffInMs=t,this.backoffId=0,this.backoffCount=0}return e.calculateNextBackoffMs=function(e,t){var n=1+.4*(Math.random()-.5),r=1e3*Math.pow(2,e)*n;return r=Math.round(r),Math.min(t,r)},e.prototype.setMaxBackoffMs=function(e){this.maxBackoffInMs=e},e.prototype.backoff=function(t,n){var r=this;void 0!==this.timerHandle&&(this.logger.debug("Clearing current back off"),clearTimeout(this.timerHandle),this.timerHandle=void 0);var i=e.calculateNextBackoffMs(this.backoffCount,this.maxBackoffInMs);this.backoffId++,this.backoffCount++,this.logger.info("Backing off "+t+" for "+i+" milliseconds with ID "+this.backoffId),this.callback=function(){r.logger.info("Back off for "+t+" with ID "+r.backoffId+" complete, invoking handler"),r.timerHandle=void 0,r.callback=void 0,n()},this.timerHandle=setTimeout(this.callback,i)},e.prototype.reset=function(){void 0!==this.timerHandle&&(this.logger.debug("Resetting back off with ID "+this.backoffId),clearTimeout(this.timerHandle),this.timerHandle=void 0,this.callback=void 0),this.backoffCount=0},e.prototype.expediteIfPending=function(){if(this.backoffCount=0,void 0!==this.timerHandle){this.logger.debug("Expediting back off with ID "+this.backoffId),clearTimeout(this.timerHandle),this.timerHandle=void 0;var e=this.callback;this.callback=void 0,e&&e()}},e})();t.ExponentialBackoff=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=n(5),s=n(0);!(function(e){e[e.Initial=0]="Initial",e[e.RetrievingToken=1]="RetrievingToken",e[e.Allocating=2]="Allocating",e[e.Handshaking=3]="Handshaking",e[e.Connecting=4]="Connecting",e[e.Connected=5]="Connected",e[e.UnregisteringRetrievingToken=6]="UnregisteringRetrievingToken",e[e.Unregistering=7]="Unregistering",e[e.TerminalError=8]="TerminalError"})(r=t.State||(t.State={})),(function(e){e[e.Initial=0]="Initial",e[e.RetrievingToken=1]="RetrievingToken",e[e.Registering=2]="Registering",e[e.Registered=3]="Registered",e[e.NotRegistered=4]="NotRegistered"})(i||(i={}));var a=(function(){function e(e,t,n){this.worker=t,this.incallModeEnabled=n,this.state=r.Initial,this.autoReconnect=!0,this.logger=new s.Logger("ConnectionFsm",e),this.connectedSubstate=i.Initial}return e.prototype.getState=function(){return this.state},e.prototype.isActive=function(){return this.state===r.Allocating||this.state===r.Connected||this.state===r.Handshaking||this.state===r.Connecting||this.state===r.RetrievingToken},e.prototype.start=function(){return this.state===r.Initial?(this.setState(r.RetrievingToken),this.worker.getToken(!0,!1),!0):(this.showIgnored("start"),!1)},e.prototype.stop=function(e){e&&(this.connectedSubstate=i.Initial),this.worker.isIncallMode()&&this.worker.exitIncallMode(),this.worker.resetTokenBackoff(),this.worker.resetRegisterBackoff(),this.worker.stopConnectionTimer(),this.worker.stopPingTimer(),this.worker.clearTimers(),this.worker.stopRegisterTimer(),this.state!==r.Connecting&&this.state!==r.Handshaking&&this.state!==r.Connected||(this.worker.stopSocketIo(),this.state===r.Connected&&this.worker.sendDisconnectTelemetryEvent("connection stopped")),this.isRegistered()&&this.state!==r.UnregisteringRetrievingToken&&this.state!==r.Unregistering?(this.setState(r.UnregisteringRetrievingToken),this.worker.getToken(!0,!1)):(this.setState(r.Initial),this.worker.dispatchDisconnected())},e.prototype.onTokenReceived=function(e){this.state===r.RetrievingToken?(this.setState(r.Allocating),this.worker.startConnectionTimer(),this.worker.sendAllocateRequest(e)):this.state===r.Connected&&this.connectedSubstate===i.RetrievingToken?(this.connectedSubstate=i.Registering,this.worker.sendRegisterRequest()):this.state===r.UnregisteringRetrievingToken?(this.setState(r.Unregistering),this.worker.sendUnregisterRequest()):this.showIgnored("onTokenReceived")},e.prototype.checkConnection=function(e){e&&this.onPingInterval()},e.prototype.onAllocationSucceed=function(){return this.state===r.Allocating?(this.setState(r.Handshaking),this.connectedSubstate===i.Registered&&this.worker.dispatchUnregistered(),this.connectedSubstate=i.Initial,this.worker.startSocketIo(),!0):(this.showIgnored("onAllocationSucceed"),!1)},e.prototype.onAllocationFailed=function(e){this.state===r.Allocating?(this.setState(r.RetrievingToken),this.worker.stopConnectionTimer(),this.worker.getToken(!e,!0)):this.showIgnored("onAllocationFailed")},e.prototype.onConnectingTimeout=function(){this.state===r.Allocating||this.state===r.Connecting||this.state===r.Handshaking?(this.setState(r.RetrievingToken),this.worker.stopSocketIo(),this.worker.getToken(!0,!1)):this.showIgnored("onConnectingTimeout")},e.prototype.onConnecting=function(){this.state===r.Handshaking?this.setState(r.Connecting):this.showIgnored("onConnecting")},e.prototype.onConnectingFailed=function(){this.state===r.Connecting?this.onConnectingTimeout():this.state===r.Handshaking?(this.logger.error("Unexpected error in Socket.io - no valid transports"),this.onConnectingTimeout()):this.showIgnored("onConnectingFailed")},e.prototype.onSocketDisconnect=function(e){this.state===r.Handshaking||this.state===r.Connected?(this.worker.stopSocketIo(),this.worker.stopPingTimer(),this.worker.clearTimers(),this.worker.stopConnectionTimer(),this.state===r.Connected&&this.worker.sendDisconnectTelemetryEvent(e),this.autoReconnect?(this.setState(r.RetrievingToken),this.worker.resetRegisterBackoff(),this.worker.dispatchReconnecting(),this.worker.getToken(!0,!1)):(this.logger.debug("Socket error/disconnect occurred and automatic reconnect is disabled. Connection will stop."),this.stop(!0))):this.showIgnored("onSocketDisconnect")},e.prototype.onTrouterConnected=function(){this.state===r.Connecting?(this.setState(r.Connected),this.worker.resetTokenBackoff(),this.worker.stopConnectionTimer(),this.worker.sendUserActivityState(o.UserActivityEventReason.Connected,!0),this.worker.startPingTimer(),this.worker.dispatchConnected(),this.worker.shouldSkipRegistration()?(this.connectedSubstate=i.NotRegistered,this.worker.dispatchRegistered()):(this.connectedSubstate=i.RetrievingToken,this.worker.getToken(!0,!1))):this.showIgnored("onTrouterConnected")},e.prototype.onReconnectRequired=function(e,t){this.worker.dispatchReconnectIsRequired(e,t)},e.prototype.disableAutoReconnect=function(){this.autoReconnect=!1},e.prototype.onDownstreamRequest=function(e){this.state===r.Connected?(this.switchToIncallModeIfEnabled(),this.worker.dispatchDownstreamRequest(e)):this.showIgnored("onDownstreamRequest")},e.prototype.onTrouterMessageLost=function(e){this.state===r.Connected?this.worker.dispatchTrouterMessageLost(e):this.showIgnored("onTrouterMessageLost")},e.prototype.onPingInterval=function(){this.state===r.Connected?this.worker.sendPingRequest():this.showIgnored("onPingInterval")},e.prototype.onPingResponseTimeout=function(){this.onMissedResponse("onPingResponseTimeout")},e.prototype.onPingResponse=function(){this.state===r.Connected||this.showIgnored("onPingResponse")},e.prototype.onRegistrationFailed=function(e){this.state===r.Connected&&this.connectedSubstate===i.Registering?(this.connectedSubstate=i.RetrievingToken,this.worker.getToken(!e,!0)):this.showIgnored("onRegistrationFailed")},e.prototype.onRegistrationSucceed=function(e){this.state===r.Connected?(this.connectedSubstate===i.Registering&&(this.connectedSubstate=i.Registered,this.worker.dispatchRegistered()),e&&this.worker.startRegisterTimer()):this.showIgnored("onRegistrationSucceed")},e.prototype.onRegistrationTimeout=function(){this.state===r.Connected&&this.connectedSubstate!==i.NotRegistered?(this.connectedSubstate=i.RetrievingToken,this.worker.getToken(!0,!1)):this.showIgnored("onRegistrationTimeout")},e.prototype.onUnregistrationFailed=function(e){this.state===r.Unregistering?(this.setState(r.UnregisteringRetrievingToken),this.worker.getToken(!e,!e)):this.showIgnored("onUnregistrationFailed")},e.prototype.onUnregistrationSucceed=function(){this.state===r.Unregistering?(this.setState(r.Initial),this.worker.dispatchUnregistered(),this.worker.dispatchDisconnected()):this.showIgnored("onUnregistrationSucceed")},e.prototype.onIncallModeTimer=function(){this.worker.exitIncallMode(),this.state===r.Connected?(this.worker.stopPingTimer(),this.worker.startPingTimer()):this.showIgnored("onIncallModeTimer")},e.prototype.onSetUserActivityState=function(e,t){t?(this.logger.info("Changing user activity state to '"+e.toEventJSON()+"'"),this.worker.sendUserActivityState(o.UserActivityEventReason.Modified,this.state===r.Connected)):this.logger.debug("Not changing the same user activity state '"+e.toEventJSON()+"'")},e.prototype.onActivityStateResponseTimeout=function(){this.onMissedResponse("onActivityStateResponseTimeout")},e.prototype.forceReconnect=function(e){this.state===r.Connected&&this.worker.sendDisconnectTelemetryEvent(e),this.setState(r.RetrievingToken),this.worker.resetTokenBackoff(),this.worker.stopConnectionTimer(),this.worker.resetRegisterBackoff(),this.worker.stopPingTimer(),this.worker.clearTimers(),this.worker.stopSocketIo(),this.worker.dispatchReconnecting(),this.worker.getToken(!0,!1)},e.prototype.onTerminalError=function(){this.logger.error("Cannot proceed, reached terminal state. Switching from state '"+r[this.state]+"' to "+r[r.TerminalError]),this.setState(r.TerminalError)},e.prototype.onMissedResponse=function(e){this.state===r.Connected?(this.setState(r.RetrievingToken),this.worker.resetRegisterBackoff(),this.worker.stopPingTimer(),this.worker.clearTimers(),this.worker.stopSocketIo(),this.worker.sendDisconnectTelemetryEvent(e),this.worker.dispatchReconnecting(),this.worker.getToken(!0,!1)):this.showIgnored(e)},e.prototype.showIgnored=function(e){this.logger.debug("Ignoring event '"+e+"' in state '"+r[this.state]+"'")},e.prototype.setState=function(e){this.logger.info("Switching from state '"+r[this.state]+"' to state '"+r[e]+"'"),this.state!==e?this.state=e:this.logger.error("Attempt to switching into the current state '"+r[e]+"'")},e.prototype.isRegistered=function(){return this.connectedSubstate===i.Registered||this.connectedSubstate===i.Registering},e.prototype.switchToIncallModeIfEnabled=function(){this.incallModeEnabled&&(this.worker.isIncallMode()||(this.worker.enterIncallMode(),this.worker.stopPingTimer(),this.worker.startPingTimer()),this.worker.restartIncallModeTimer())},e})();t.TrouterFsm=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(0),o=n(6),s=(function(){function e(e,t){this.worker=t,this.state=r.TrouterState.Unknown,this.logger=new i.Logger("ManagerFsm",e)}return e.prototype.start=function(){this.state===r.TrouterState.Unknown?(this.setState(r.TrouterState.Disconnected),this.worker.forceStopLingeringConnection(),this.worker.startFirstConnection()):this.showIgnored("start")},e.prototype.stop=function(e){this.state!==r.TrouterState.Unknown?(this.setState(r.TrouterState.Unknown),this.worker.stopFirstConnection(!0===e),this.worker.stopSecondConnection(!0===e)):this.showIgnored("stop")},e.prototype.getState=function(){return this.state},e.prototype.onConnected=function(e){this.state===r.TrouterState.Disconnected&&e?this.worker.doesSecondConnectionExist()?this.setState(r.TrouterState.Switching):(this.setState(r.TrouterState.Connected),this.worker.dispatchConnected()):this.showIgnored("onConnected("+e+")")},e.prototype.onRegistered=function(e){this.state!==r.TrouterState.Disconnected||e?this.state!==r.TrouterState.Switching||e||(this.setState(r.TrouterState.Connected),this.worker.switchConnections(),this.worker.stopSecondConnectionDelayed(),this.worker.dispatchConnected()):(this.setState(r.TrouterState.Connected),this.worker.switchConnections(),this.worker.stopSecondConnection(!0),this.worker.dispatchConnected()),this.worker.dispatchRegistrationState(!0)},e.prototype.onUnregistered=function(e){e&&this.worker.dispatchRegistrationState(!1)},e.prototype.onReconnecting=function(e){this.state===r.TrouterState.Connected&&e||this.state===r.TrouterState.Switching&&e?(this.setState(r.TrouterState.Disconnected),this.worker.dispatchReconnecting()):this.showIgnored("onReconnecting("+e+")")},e.prototype.onReconnectionRequired=function(e,t,n){this.state===r.TrouterState.Connected&&e?(this.setState(r.TrouterState.Switching),this.worker.startSecondConnection(t)):this.state===r.TrouterState.Disconnected&&e?this.worker.startSecondConnection(t):this.state===r.TrouterState.Switching&&e&&n===o.ReconnectReason.Configuration?(this.logger.debug("onReconnectionRequired: switch requested while already in Switching state"),this.worker.stopSecondConnection(!0),this.worker.startSecondConnection(t)):this.showIgnored("onReconnectionRequired("+e+")")},e.prototype.onDisconnected=function(e){this.state===r.TrouterState.Unknown&&e?this.worker.dispatchStopped():this.showIgnored("onDisconnected("+e+")")},e.prototype.showIgnored=function(e){this.logger.info("Ignoring event '"+e+"' in state '"+r.TrouterState[this.state]+"'")},e.prototype.setState=function(e){this.logger.info("Switching from state '"+r.TrouterState[this.state]+"' to state '"+r.TrouterState[e]+"'"),this.state!==e?this.state=e:this.logger.error("Attempt to switching into the current state '"+r.TrouterState[e]+"'")},e})();t.TrouterManagerFsm=s},function(e,t,n){function r(e,t){if(!t)return e;var n=o({},e,{enabled:t.TelemetryEnabled});return void 0!==t.ClientTelemetryEventEnabled&&(n=o({},n,t.ClientTelemetryEventEnabled)),n}function i(e,t){return{clientInfo:{ua:e.trouterSettings.productName,v:e.trouterSettings.version},ioOptions:{ackTimeoutMs:5e3},clientCorrelationID:e.trouterSettings.sessionId,environment:e.trouterSettings.environment,telemetrySettings:r(e.telemetryConfig.settings,t),eventLogger:e.telemetryConfig.eventLogger,endpointId:e.trouterSettings.registrationId,trouterUrl:t&&t.TrouterConnectionUrl||e.trouterSettings.trouterServiceUrl,registration:e.trouterSettings.registrarServiceUrl?{registrarUrl:e.trouterSettings.registrarServiceUrl,registrationId:e.trouterSettings.registrationId||"",pnhAppId:e.trouterSettings.pnhAppId||"",platform:e.trouterSettings.platform||"",pnhTemplateKey:e.trouterSettings.pnhTemplate||"",platformUIVersion:e.trouterSettings.platformUIVersion||"",productContext:e.trouterSettings.pnhProductContext||void 0,context:e.trouterSettings.pnhContext||"",registrarTtlSec:(e.trouterSettings.maxRegistrationTimeInMs||0)/1e3}:void 0,timeoutOptions:o({connectionTimeoutMs:e.trouterSettings.trouterConnectTimeoutInMs||3e4,fetchTimeoutMs:1e4,pingTimeoutMs:4e4,pongTimeoutMs:5e3,maxBackoffMs:"TeamsCDL"===e.trouterSettings.productName?3e5:3e4,requestTimeoutMs:5e3,userActivityResponseTimeoutMs:1e4},e.trouterSettings.timeoutOptions),incallTimeoutOptions:o({connectionTimeoutMs:1e4,fetchTimeoutMs:5e3,pingTimeoutMs:5e3,pongTimeoutMs:2e3,maxBackoffMs:"TeamsCDL"===e.trouterSettings.productName?3e5:1e4,requestTimeoutMs:5e3,userActivityResponseTimeoutMs:1e4},e.trouterSettings.incallTimeoutOptions),incallModeTimeoutMs:e.trouterSettings.incallModeTimeoutMs||0,lingeringConnectionDelayMs:6e4,userActivitySecondResendDelayMs:e.trouterSettings.userActivitySecondResendDelayMs||1e4,duplicateDisconnectThresholdMs:1e4,connectionCache:e.connectionCache,registrationStateCallback:e.registrationStateCallbackForAcsDoNotUse,retryLimitOnTokenFetch:"TeamsCDL"===e.trouterSettings.productName?15:e.trouterSettings.retryLimitOnTokenFetch}}var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;c;)try{if(i=1,o&&(s=2&n[0]?o.return:n[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(!(s=(s=c.trys).length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,s,a,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var c=n(1),u=n(2);t.TrouterState=u.TrouterState,t.UserActivityState=u.UserActivityState;var l=n(0),d=n(7),p=n(8),h=n(9),f=n(10),v=(function(){function e(e){this.logProvider=e,this.stateChangedListeners=[],this.logger=new l.Logger("Trouter",e),this.trouterUrlPromise=new f.TrouterUrlPromise(e),this.messageHandlers=new d.MessageHandlerRegistry(e),this.listeners={},this.connectionInfo=null,this.logger.info("Created TrouterService version "+c.CLIENT_VERSION)}return e.prototype.start=function(e){if(this.logger.info("Start"),!e.trouterSettings.disableInternalSkypeTokenCache){var t=e.skypeTokenProvider;e.skypeTokenProvider=p.addCacheAsBackupTo(t)}this.trouterCfg=e;var n=i(e,this.ecsCfg);void 0===this.trouterServer&&(this.trouterServer=new h.TrouterManager(this.logProvider,n,e.skypeTokenProvider,this)),this.trouterServer.start()},e.prototype.stop=function(e){this.logger.info("close connection"),this.trouterUrlPromise.rejectUrl(new Error("TrouterService is stopped")),void 0!==this.trouterServer&&this.trouterServer.stop(e)},e.prototype.setEcsConfig=function(e){return s(this,void 0,void 0,function(){var t=this;return a(this,function(n){return[2,new Promise(function(n,r){if(t.ecsCfg=e.TrouterJScriptClient,t.logger.info("Setting ECS configuration to "+JSON.stringify(t.ecsCfg)),void 0!==t.trouterServer&&void 0!==t.trouterCfg){var o=i(t.trouterCfg,t.ecsCfg);t.trouterServer.configure(o)}n()})]})})},e.prototype.checkConnection=function(e){void 0!==this.trouterServer&&this.trouterServer.checkConnection(e||!1)},e.prototype.resendRegistration=function(){return s(this,void 0,void 0,function(){return a(this,function(e){if(!this.trouterServer)throw new Error("resendRegistration called too early");return[2,this.trouterServer.resendRegistration()]})})},e.prototype.registerListener=function(e,t){return""===t||"/"!==t[0]||t.indexOf("?")>=0||t.indexOf("#")>=0?(this.logger.error("Listener path '"+t+"' is not valid"),!1):this.listeners[t]?(this.logger.error("Another listener is already registered for path '"+t+"'"),!1):(this.listeners[t]=e,this.logger.debug("Listener for path '"+t+"' registered"),this.connectionInfo&&e.onTrouterConnected(this.connectionInfo.baseEndpointUrl+t,this.connectionInfo),!0)},e.prototype.unregisterListener=function(e){for(var t=[],n=0,r=Object.keys(this.listeners);n<r.length;n++){var i=r[n];this.listeners[i]===e&&t.push(i)}if(0===t.length)return!1;for(var o=0,s=t;o<s.length;o++)i=s[o],delete this.listeners[i];return this.logger.debug("Listener for path(s) '"+t.join("', '")+"' unregistered"),!0},e.prototype.onTrouterConnected=function(e,t){this.logger.debug("Trouter is now connected");for(var n=0,r=Object.keys(this.listeners);n<r.length;n++){var i=r[n];try{this.listeners[i].onTrouterConnected(t.baseEndpointUrl+i,t)}catch(e){this.logger.error("Listener '"+i+"' threw an exception from onTrouterConnected(): "+e)}}this.connectionInfo=t,this.trouterUrlPromise.resolveUrl(e),this.notifyStateChanged(u.TrouterState.Connected,{url:e,getRemainingTtlInSec:function(){return t.connectionTtlSec}})},e.prototype.onTrouterDisconnected=function(){this.logger.debug("Trouter is now disconnected"),this.connectionInfo=null;for(var e=0,t=Object.keys(this.listeners);e<t.length;e++){var n=t[e],r=this.listeners[n];if(r.onTrouterDisconnected)try{r.onTrouterDisconnected()}catch(e){this.logger.error("Listener '"+n+"' threw an exception from onTrouterDisconnected(): "+e)}}this.notifyStateChanged(u.TrouterState.Disconnected)},e.prototype.onTrouterRequest=function(e,t){for(var n="",r=0,i=Object.keys(this.listeners);r<i.length;r++){var o=i[r];e.path.substring(0,o.length)===o&&o.length>n.length&&(n=o)}if(""===n)this.tryMessageHandlers(e,t)||(t.status=404,t.headers={"Trouter-Responder":"ClientLib"},t.send());else try{this.listeners[n].onTrouterRequest(e,t)}catch(e){this.logger.error("Listener '"+n+"' threw an exception from onTrouterRequest(): "+e),t.status=500,t.headers={"Trouter-Responder":"ClientLib"},t.send()}},e.prototype.onTrouterMessageLoss=function(e){this.logger.info("onTrouterMessageLoss called with value "+e);for(var t=!0,n=0,r=Object.keys(this.listeners);n<r.length;n++){var i=r[n],o=this.listeners[i];if(o.onTrouterMessageLoss)try{void 0===(t=o.onTrouterMessageLoss(e)&&t)&&(this.logger.error("Listener '"+i+"' did not response with boolean value onTrouterMessageLoss()"),t=!1)}catch(e){this.logger.error("Listener '"+i+"' threw an exception from onTrouterMessageLoss(): "+e),t=!1}}return t},e.prototype.onTrouterUserActivityStateAccepted=function(e){this.logger.debug("onTrouterUserActivityStateAccepted cv: "+e);for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.listeners[r];if(i.onTrouterUserActivityStateAccepted)try{i.onTrouterUserActivityStateAccepted(e)}catch(e){this.logger.error("Listener '"+r+"' threw an exception from onTrouterUserActivityStateAccepted(): "+e)}}},e.prototype.setUserActivityState=function(e,t){if(e!==u.UserActivityState.Active&&e!==u.UserActivityState.Inactive)throw new Error("setUserActivityState called with unsupported value "+e);if(this.logger.info("setUserActivityState called with value "+u.UserActivityState[e]),!this.trouterServer||this.state()===u.TrouterState.Unknown)throw new Error("setUserActivityState called too early");this.trouterServer.setUserActivityState(e,t)},e.prototype.state=function(){return void 0!==this.trouterServer?this.trouterServer.getState():u.TrouterState.Unknown},e.prototype.getServerState=function(){if(void 0!==this.trouterServer)return this.trouterServer.getServerState()},e.prototype.getTrouterUrlAsync=function(){return void 0!==this.trouterServer?this.trouterUrlPromise.getPromise():Promise.reject(new Error("TrouterService has not been started"))},e.prototype.onStateChanged=function(e){if(this.logger.info("onStateChanged called"),void 0===e)this.stateChangedListeners=this.stateChangedListeners.filter(function(e){return void 0===e.wrappedCallback});else{this.offStateChanged(e);var t=function(t,n){e(t,n?n.url:"")};t.wrappedCallback=e,this.stateChangedListeners.push(t)}},e.prototype.offStateChanged=function(e){this.logger.info("offStateChanged called");var t=this.stateChangedListeners.length;return this.stateChangedListeners=this.stateChangedListeners.filter(function(t){return t.wrappedCallback!==e}),t>this.stateChangedListeners.length},e.prototype.addCallback=function(e){this.logger.info("addListener called"),-1===this.stateChangedListeners.indexOf(e,0)&&void 0!==e&&this.stateChangedListeners.push(e)},e.prototype.removeCallback=function(e){this.logger.info("removeListener called");var t=this.stateChangedListeners.indexOf(e,0);return t>-1&&(this.stateChangedListeners.splice(t,1),!0)},e.prototype.registerMessageHandler=function(e){this.logger.info("registerMessageHandler is called"),this.messageHandlers.register(e)},e.prototype.clearMessageHandlers=function(){this.logger.info("clearMessageHandlers is called"),this.messageHandlers.clear()},e.prototype.notifyStateChanged=function(e,t){var n=this;this.logger.info("notifyStateChanged called, will forward to "+this.stateChangedListeners.length+" listeners"),this.stateChangedListeners.forEach(function(r){try{r(e,t)}catch(e){n.logger.error("Error in callback "+e)}})},e.prototype.tryMessageHandlers=function(e,t){if(!this.messageHandlers.active())return!1;var n,r=null;try{r=(n=JSON.parse(e.body))&&(n.evt||n.eventId)||null}catch(e){}var i={eventId:r,url:(this.connectionInfo?this.connectionInfo.baseEndpointUrl:"")+e.path,body:n,rawBody:e.body,headers:e.headers},o=this.messageHandlers.handleMessage(i);return!!o.isHandled&&(t.status=o.resultCode,o.responseHeaders&&(t.headers=o.responseHeaders),o.responseBody&&(t.body=o.responseBody),t.send(),!0)},e})();t.TrouterService=v,t.createTrouterService=function(e){return new v(e)},t.getTrouterServiceVersion=function(){return c.CLIENT_VERSION},t.replaceTrouterUrlBase=function(e,t){var n=e.indexOf("://");if(n>=0){var r=e.indexOf("/",n+3);if(r>=0)return t+e.substr(r)}return""}},function(e,t){e.exports=n},function(e,t){}]))});s(u);var l=a(function(e,t){var n,r;t.__esModule=!0,t.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES=3,t.GCCHIGH_TROUTER_SERVICE_URL="https://go.trouter.gov.teams.microsoft.us/v4/a",t.GCCHIGH_REGISTRAR_SERVICE_URL="https://registrar.gov.teams.microsoft.us/V3/registrations",t.GCC_TROUTER_SERVICE_URL="https://go.trouter.gcc.teams.microsoft.com/v4/a",t.DOD_TROUTER_SERVICE_URL="https://go.trouter.dod.teams.microsoft.us/v4/a",t.DOD_REGISTRAR_SERVICE_URL="https://registrar.dod.teams.microsoft.us/V3/registrations",t.INT_TROUTER_SERVICE_URL="https://go.trouter-int.skype.net/v4/a",t.INT_REGISTRAR_SERVICE_URL="https://edge.skype.net/registrar/testenv/v3/registrations",t.EUDB_TROUTER_SERVICE_URL="https://go-eu.trouter.teams.microsoft.com/v4/a",t.PUBLIC_TROUTER_SERVICE_URL="https://go.trouter.teams.microsoft.com/v4/a",t.PUBLIC_REGISTRAR_SERVICE_URL="https://teams.microsoft.com/registrar/prod/v3/registrations",(r=t.CloudType||(t.CloudType={})).Public="Public",r.GccHigh="GCC High",r.Dod="DoD",(n=t.CloudPrefix||(t.CloudPrefix={})).OrgId="orgid",n.Acs="acs",n.Spool="spool",n.GccHigh="gcch",n.GccHighAcs="gcch-acs",n.Dod="dod",n.DodAcs="dod-acs",t.EudbCountries=["europe","france","germany","norway","switzerland","sweden"]});s(l),l.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES,l.GCCHIGH_TROUTER_SERVICE_URL,l.GCCHIGH_REGISTRAR_SERVICE_URL,l.GCC_TROUTER_SERVICE_URL,l.DOD_TROUTER_SERVICE_URL,l.DOD_REGISTRAR_SERVICE_URL,l.INT_TROUTER_SERVICE_URL,l.INT_REGISTRAR_SERVICE_URL,l.EUDB_TROUTER_SERVICE_URL,l.PUBLIC_TROUTER_SERVICE_URL,l.PUBLIC_REGISTRAR_SERVICE_URL,l.CloudType,l.CloudPrefix,l.EudbCountries;var d=a(function(e,t){var n=o&&o.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})},r=o&&o.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return(function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,a])}}};t.__esModule=!0;var s=new Map([["chatMessageReceived",200],["typingIndicatorReceived",245],["readReceiptReceived",246],["chatMessageEdited",247],["chatMessageDeleted",248],["chatThreadCreated",257],["chatThreadPropertiesUpdated",258],["chatThreadDeleted",259],["participantsAdded",260],["participantsRemoved",261]]);t.toMessageHandler=function(e,t,n){var r=s.get(e);return{handleMessage:function(i){var o=null;if((null==i?void 0:i.rawBody)&&(o=JSON.parse(i.rawBody)),null!==o&&o.eventId===r){var s=a(e,o,n);if(null!==s)return t(s),{isHandled:!0,resultCode:200}}}}};var a=function(e,t,n){if("chatMessageReceived"===e)return{threadId:(r=t).groupId,sender:c(r.senderId),senderDisplayName:r.senderDisplayName,recipient:c(r.recipientMri),id:r.messageId,createdOn:new Date(r.originalArrivalTime),version:r.version,type:r.messageType,message:r.messageBody,metadata:u(r.acsChatMessageMetadata)||{},attachments:p(u(r.attachments)||[],n)};if("chatMessageEdited"===e)return{threadId:(r=t).groupId,sender:c(r.senderId),senderDisplayName:r.senderDisplayName,recipient:c(r.recipientMri),id:r.messageId,createdOn:new Date(r.originalArrivalTime),version:r.version,message:r.messageBody,editedOn:new Date(r.edittime),type:r.messageType,metadata:u(r.acsChatMessageMetadata)||{},attachments:p(u(r.attachments)||[],n)};if("chatMessageDeleted"===e)return{threadId:(r=t).groupId,sender:c(r.senderId),senderDisplayName:r.senderDisplayName,recipient:c(r.recipientMri),id:r.messageId,createdOn:new Date(r.originalArrivalTime),version:r.version,deletedOn:new Date(r.deletetime),type:r.messageType};if("typingIndicatorReceived"===e)return{threadId:(r=t).groupId,sender:c(r.senderId),senderDisplayName:r.senderDisplayName,recipient:c(r.recipientMri),version:r.version,receivedOn:new Date(r.originalArrivalTime)};if("readReceiptReceived"===e){var r=t,i=JSON.parse(r.messageBody).consumptionhorizon.split(";");return{threadId:r.groupId,sender:c(r.senderId),senderDisplayName:"",recipient:c(r.recipientMri),chatMessageId:r.messageId,readOn:new Date(+i[1])}}if("chatThreadCreated"===e){r=t;var o=JSON.parse(unescape(r.createdBy)),s=JSON.parse(unescape(r.members)),a=JSON.parse(unescape(r.properties)),l={id:c(o.participantId),displayName:o.displayName},d=s.map(function(e){return{id:c(e.participantId),displayName:e.displayName}});return{threadId:r.threadId,createdOn:new Date(r.createTime),createdBy:l,version:r.version,participants:d,properties:a}}if("chatThreadPropertiesUpdated"===e){r=t;var h=JSON.parse(unescape(r.editedBy)),f=(a=JSON.parse(unescape(r.properties)),{id:c(h.participantId),displayName:h.displayName});return{threadId:r.threadId,updatedOn:new Date(r.editTime),updatedBy:f,version:r.version,properties:a}}if("chatThreadDeleted"===e){r=t;var v=JSON.parse(unescape(r.deletedBy)),m={id:c(v.participantId),displayName:v.displayName};return{threadId:r.threadId,deletedOn:new Date(r.deleteTime),deletedBy:m,version:r.version}}if("participantsAdded"===e){r=t;var g=JSON.parse(unescape(r.addedBy)),y=JSON.parse(unescape(r.participantsAdded)),E={id:c(g.participantId),displayName:g.displayName};return d=y.map(function(e){return{id:c(e.participantId),displayName:e.displayName,shareHistoryTime:new Date(e.shareHistoryTime)}}),{threadId:r.threadId,addedOn:new Date(r.time),addedBy:E,version:r.version,participantsAdded:d}}if("participantsRemoved"===e){r=t;var S=JSON.parse(unescape(r.removedBy)),T=JSON.parse(unescape(r.participantsRemoved)),C={id:c(S.participantId),displayName:S.displayName};return d=T.map(function(e){return{id:c(e.participantId),displayName:e.displayName,shareHistoryTime:new Date(e.shareHistoryTime)}}),{threadId:r.threadId,removedOn:new Date(r.time),removedBy:C,version:r.version,participantsRemoved:d}}return null};t.toLogProvider=function(e){return{log:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.info(t)},warn:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.warning(t)},error:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.error(t)},debug:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.verbose(t)},info:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.verbose(t)}}},t.toTelemetrySender=function(e){return{logEvent:function(t){return e.info(t)}}};var c=function(e){return e.startsWith("8:orgid:")?{kind:"microsoftTeamsUser",rawId:e,microsoftTeamsUserId:e.substring(8),isAnonymous:!1,cloud:"public"}:e.startsWith("8:dod:")?{kind:"microsoftTeamsUser",rawId:e,microsoftTeamsUserId:e.substring(6),isAnonymous:!1,cloud:"dod"}:e.startsWith("8:gcch:")?{kind:"microsoftTeamsUser",rawId:e,microsoftTeamsUserId:e.substring(7),isAnonymous:!1,cloud:"gcch"}:e.startsWith("8:teamsvisitor:")?{kind:"microsoftTeamsUser",rawId:e,microsoftTeamsUserId:e.substring(15),isAnonymous:!0}:e.startsWith("4:")?{kind:"phoneNumber",rawId:e,phoneNumber:e.substring(2)}:e.startsWith("8:acs:")||e.startsWith("8:gcch-acs:")||e.startsWith("8:dod-acs:")||e.startsWith("8:spool:")?{kind:"communicationUser",communicationUserId:e}:{kind:"unknown",id:e}},u=function(e){if(null!=e&&""!==e&&"null"!==e&&"{}"!==e&&"[]"!==e)return JSON.parse(e)},d=function(e,t){var n=new URL(t).origin,r=new URL(e).origin;return e.replace(r,n)},p=function(e,t){return null!=t&&""!==t&&(function(e){var t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol})(t)?(e.filter(function(e){return e.attachmentType.toLowerCase()==="teamsInlineImage".toLowerCase()||e.attachmentType.toLowerCase()==="teamsImage".toLowerCase()}).map(function(e){e.previewUrl&&(e.previewUrl=d(e.previewUrl,t)),e.url&&(e.url=d(e.url,t))}),e):e};t.base64decode=function(e){return i.isNode?Buffer.from(e,"base64").toString():atob(e)},t.parseTokenCredential=function(e){return n(void 0,void 0,void 0,function(){var n,i,o,s,a,c,u;return r(this,function(r){switch(r.label){case 0:return[4,e.getToken()];case 1:return n=r.sent(),i=null==n?void 0:n.token,o=(function(e){var n=(null==i?void 0:i.split("."))[1];if(void 0===n)throw new Error("Invalid token");return n=n.replace(/-/g,"+").replace(/_/g,"/"),JSON.parse(decodeURIComponent(escape(t.base64decode(n))))})(),s=o.skypeid,a=o.resourceId,c=(function(e){switch(e.substring(0,e.indexOf(":"))){case l.CloudPrefix.OrgId:case l.CloudPrefix.Acs:case l.CloudPrefix.Spool:return l.CloudType.Public;case l.CloudPrefix.GccHigh:case l.CloudPrefix.GccHighAcs:return l.CloudType.GccHigh;case l.CloudPrefix.Dod:case l.CloudPrefix.DodAcs:return l.CloudType.Dod;default:return l.CloudType.Public}})(s),u=o.resourceLocation||"",[2,{jwtToken:i,acsResourceId:a,identityMri:s,cloudType:c,resourceLocation:u}]}})})},t.isEudbLocation=function(e){return!!e&&!!l.EudbCountries.find(function(t){return t===e})}});s(d),d.toMessageHandler,d.toLogProvider,d.toTelemetrySender,d.base64decode,d.parseTokenCredential,d.isEudbLocation;var p=a(function(e,t){var n=o&&o.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})},r=o&&o.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return(function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,a])}}};t.__esModule=!0;var s={version:"1.0.0",registrationId:"",sessionId:"",pnhAppId:"AcsWeb",pnhTemplate:"AcsWeb_Chat_1.6",platform:"SPOOL",platformUIVersion:"0.0.0",environment:"",productName:"acs-chat-web",trouterServiceUrl:l.PUBLIC_TROUTER_SERVICE_URL,registrarServiceUrl:l.PUBLIC_REGISTRAR_SERVICE_URL,registrarRefreshTimeoutInMs:35e4,timeoutOptions:{connectionTimeoutMs:2e4,fetchTimeoutMs:1e4,pingTimeoutMs:4e4,pongTimeoutMs:5e3,maxBackoffMs:5e4,requestTimeoutMs:5e3},maxRegistrationTimeInMs:72e5},a=function(){var e=s;return e.registrationId=i.generateUuid(),e.sessionId=i.generateUuid(),e};t.createSettings=function(e,t){return n(void 0,void 0,void 0,function(){var n,i,o;return r(this,function(r){switch(r.label){case 0:return"INT"!==(null==t?void 0:t.environment)?[3,1]:(n=(function(){var e=a();return e.pnhAppId="cns-e2e-test",e.pnhTemplate="cns-e2e-test:1.6",e.registrarServiceUrl=l.INT_REGISTRAR_SERVICE_URL,e.trouterServiceUrl=l.INT_TROUTER_SERVICE_URL,e})(),[3,3]);case 1:return[4,d.parseTokenCredential(e)];case 2:i=r.sent(),n=i.cloudType===l.CloudType.GccHigh?(function(){var e=a();return e.registrarServiceUrl=l.GCCHIGH_REGISTRAR_SERVICE_URL,e.trouterServiceUrl=l.GCCHIGH_TROUTER_SERVICE_URL,e})():i.cloudType===l.CloudType.Dod?(function(){var e=a();return e.registrarServiceUrl=l.DOD_REGISTRAR_SERVICE_URL,e.trouterServiceUrl=l.DOD_TROUTER_SERVICE_URL,e})():"usgcc"===i.resourceLocation?(function(){var e=a();return e.registrarServiceUrl=l.PUBLIC_REGISTRAR_SERVICE_URL,e.trouterServiceUrl=l.GCC_TROUTER_SERVICE_URL,e})():i.cloudType===l.CloudType.Public&&d.isEudbLocation(i.resourceLocation)?(function(){var e=a();return e.registrarServiceUrl=l.PUBLIC_REGISTRAR_SERVICE_URL,e.trouterServiceUrl=l.EUDB_TROUTER_SERVICE_URL,e})():a(),r.label=3;case 3:return n.maxRegistrationTimeInMs=null!==(o=null==t?void 0:t.registrationTimeInMs)&&void 0!==o?o:s.maxRegistrationTimeInMs,[2,n]}})})},t.defaultTelemetrySettings={enabled:!1}});s(p),p.createSettings,p.defaultTelemetrySettings;var h=a(function(e,t){var n=o&&o.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})},r=o&&o.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return(function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,a])}}};t.__esModule=!0;var i=(function(){function e(e,t,n){this.credential=e,this.logger=t,this.options=n,this.stateChangedListener=null,this.tokenFetchRetries=0,this.trouter=u.createTrouterService(d.toLogProvider(t))}return e.prototype.start=function(){var e;return n(this,void 0,void 0,function(){var t,i,o=this;return r(this,function(s){switch(s.label){case 0:return this.resourceEndpoint=(null===(e=this.options)||void 0===e?void 0:e.resourceEndpoint)||"",void 0!==this.config?[3,2]:(t=this,i={},[4,p.createSettings(this.credential,this.options)]);case 1:t.config=(i.trouterSettings=s.sent(),i.skypeTokenProvider=function(e){return n(o,void 0,void 0,function(){var t,n;return r(this,function(r){switch(r.label){case 0:return e?(this.tokenFetchRetries+=1,this.tokenFetchRetries>l.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES?[4,this.stop(!0)]:[3,2]):[3,3];case 1:throw r.sent(),new Error("Access token is expired and failed to fetch a valid one after "+l.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES+" retries");case 2:return[3,4];case 3:this.tokenFetchRetries=0,r.label=4;case 4:return n=(t=Promise).resolve,[4,this.credential.getToken()];case 5:return[2,n.apply(t,[r.sent().token])]}})})},i.telemetryConfig={eventLogger:d.toTelemetrySender(this.logger),settings:p.defaultTelemetrySettings},i),s.label=2;case 2:return this.trouter.start(this.config),this.trouter.setUserActivityState(u.UserActivityState.Active),[2]}})})},e.prototype.stop=function(e){return n(this,void 0,void 0,function(){return r(this,function(t){return this.trouter.offStateChanged(this.stateChangedListener),this.trouter.clearMessageHandlers(),this.trouter.stop(null!=e?e:this.tokenFetchRetries>l.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES),[2]})})},e.prototype.on=function(e,t){if("connectionChanged"===e)return this.trouter.offStateChanged(this.stateChangedListener),this.stateChangedListener=function(e,n){return t(e)},void this.trouter.onStateChanged(this.stateChangedListener);this.trouter.registerMessageHandler(d.toMessageHandler(e,t,this.resourceEndpoint))},e})();t.CommunicationSignalingClient=i});s(h),h.CommunicationSignalingClient;var f=s(a(function(e,t){t.__esModule=!0,(function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])})(h)}));e.exports=f},3401:function(e,n,r){"use strict";function i(e){return e.toLowerCase()}function o(e){if(e&&"object"==typeof e){var t=e;if("function"==typeof t.rawHeaders&&"function"==typeof t.clone&&"function"==typeof t.get&&"function"==typeof t.set&&"function"==typeof t.contains&&"function"==typeof t.remove&&"function"==typeof t.headersArray&&"function"==typeof t.headerValues&&"function"==typeof t.headerNames&&"function"==typeof t.toJson)return!0}return!1}r.r(n),r.d(n,{AccessTokenRefresher:function(){return Bn},ApiKeyCredentials:function(){return Kn},BaseRequestPolicy:function(){return me},BasicAuthenticationCredentials:function(){return Wn},Constants:function(){return ze},DefaultHttpClient:function(){return oe},ExpiringAccessTokenCache:function(){return Hn},HttpHeaders:function(){return a},HttpPipelineLogLevel:function(){return ie},MapperType:function(){return q},QueryCollectionFormat:function(){return ct},RequestPolicyOptions:function(){return ge},RestError:function(){return re},RetryMode:function(){return Ke},Serializer:function(){return _},ServiceClient:function(){return Mn},TopicCredentials:function(){return Jn},URLBuilder:function(){return H},URLQuery:function(){return G},WebResource:function(){return j},XML_ATTRKEY:function(){return d},XML_CHARKEY:function(){return p},applyMixins:function(){return R},bearerTokenAuthenticationPolicy:function(){return dt},createPipelineFromOptions:function(){return Un},createSpanFunction:function(){return Gn},delay:function(){return We},deserializationPolicy:function(){return Ie},deserializeResponseBody:function(){return ke},disableResponseDecompressionPolicy:function(){return ht},encodeUri:function(){return m},executePromisesSequentially:function(){return T},exponentialRetryPolicy:function(){return $e},flattenResponse:function(){return Fn},generateClientRequestIdPolicy:function(){return ft},generateUuid:function(){return S},getDefaultProxySettings:function(){return Et},getDefaultUserAgentValue:function(){return st},isDuration:function(){return A},isNode:function(){return v},isTokenCredential:function(){return it},isValidUuid:function(){return E},keepAlivePolicy:function(){return Ne},logPolicy:function(){return et},operationOptionsToRequestOptionsBase:function(){return le},parseXML:function(){return Se},promiseToCallback:function(){return C},promiseToServiceCallback:function(){return b},proxyPolicy:function(){return St},redirectPolicy:function(){return Ue},serializeObject:function(){return L},signingPolicy:function(){return It},stringifyXML:function(){return Ce},stripRequest:function(){return y},stripResponse:function(){return g},systemErrorRetryPolicy:function(){return wt},throttlingRetryPolicy:function(){return Nt},tracingPolicy:function(){return Nn},userAgentPolicy:function(){return at}});var a=(function(){function e(n){if(t(s[4])(this,e),this._headersMap={},n)for(var r in n)this.set(r,n[r])}return t(s[6])(e,[{key:"set",value:function(e,t){this._headersMap[i(e)]={name:e,value:t.toString()}}},{key:"get",value:function(e){var t=this._headersMap[i(e)];return t?t.value:void 0}},{key:"contains",value:function(e){return!!this._headersMap[i(e)]}},{key:"remove",value:function(e){var t=this.contains(e);return delete this._headersMap[i(e)],t}},{key:"rawHeaders",value:function(){return this.toJson({preserveCase:!0})}},{key:"headersArray",value:function(){var e=[];for(var t in this._headersMap)e.push(this._headersMap[t]);return e}},{key:"headerNames",value:function(){for(var e=[],t=this.headersArray(),n=0;n<t.length;++n)e.push(t[n].name);return e}},{key:"headerValues",value:function(){for(var e=[],t=this.headersArray(),n=0;n<t.length;++n)e.push(t[n].value);return e}},{key:"toJson",value:function(){var e={};if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preserveCase)for(var t in this._headersMap){var n=this._headersMap[t];e[n.name]=n.value}else for(var r in this._headersMap){var o=this._headersMap[r];e[i(o.name)]=o.value}return e}},{key:"toString",value:function(){return JSON.stringify(this.toJson({preserveCase:!0}))}},{key:"clone",value:function(){var t={};for(var n in this._headersMap){var r=this._headersMap[n];t[r.name]=r.value}return new e(t)}}])})();function c(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}function l(e){for(var t=atob(e),n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}var d="$",p="_",h=r(4586),f=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i,v="undefined"!=typeof process&&!!process.version&&!!process.versions&&!!process.versions.node;function m(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/"/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}function g(e){var t={};return t.body=e.bodyAsText,t.headers=e.headers,t.status=e.status,t}function y(e){var t=e.clone();return t.headers&&t.headers.remove("authorization"),t}function E(e){return f.test(e)}function S(){return(0,h.Z)()}function T(e,t){var n=Promise.resolve(t);return e.forEach(function(e){n=n.then(e)}),n}function C(e){if("function"!=typeof e.then)throw new Error("The provided input is not a Promise.");return function(t){e.then(function(e){return t(void 0,e)}).catch(function(e){t(e)})}}function b(e){if("function"!=typeof e.then)throw new Error("The provided input is not a Promise.");return function(t){e.then(function(e){return process.nextTick(t,void 0,e.parsedBody,e.request,e)}).catch(function(e){process.nextTick(t,e)})}}function R(e,t){var n=e;t.forEach(function(e){Object.getOwnPropertyNames(e.prototype).forEach(function(t){n.prototype[t]=e.prototype[t]})})}var I=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function A(e){return I.test(e)}function w(e,t,n){return e&&t?e.split(t).join(n||""):e}var _=(function(){return t(s[6])(function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;t(s[4])(this,e),this.modelMappers=n,this.isXML=r},[{key:"validateConstraints",value:function(e,t,n){var r=function(e,r){throw new Error("\""+n+"\" with value \""+t+"\" should satisfy the constraint \""+e+"\": "+r+".")};if(e.constraints&&null!=t){var i=t,o=e.constraints,s=o.ExclusiveMaximum,a=o.ExclusiveMinimum,c=o.InclusiveMaximum,u=o.InclusiveMinimum,l=o.MaxItems,d=o.MaxLength,p=o.MinItems,h=o.MinLength,f=o.MultipleOf,v=o.Pattern,m=o.UniqueItems;null!=s&&i>=s&&r("ExclusiveMaximum",s),null!=a&&i<=a&&r("ExclusiveMinimum",a),null!=c&&i>c&&r("InclusiveMaximum",c),null!=u&&i<u&&r("InclusiveMinimum",u);var g=t;if(null!=l&&g.length>l&&r("MaxItems",l),null!=d&&g.length>d&&r("MaxLength",d),null!=p&&g.length<p&&r("MinItems",p),null!=h&&g.length<h&&r("MinLength",h),null!=f&&i%f!=0&&r("MultipleOf",f),v){var y="string"==typeof v?new RegExp(v):v;"string"==typeof t&&null!==t.match(y)||r("Pattern",v)}m&&g.some(function(e,t,n){return n.indexOf(e)!==t})&&r("UniqueItems",m)}}},{key:"serialize",value:function(e,n,r){var i,o,a,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l={rootName:null!==(i=u.rootName)&&void 0!==i?i:"",includeRoot:null!==(o=u.includeRoot)&&void 0!==o&&o,xmlCharKey:null!==(a=u.xmlCharKey)&&void 0!==a?a:p},h={},f=e.type.name;r||(r=e.serializedName),null!==f.match(/^Sequence$/i)&&(h=[]),e.isConstant&&(n=e.defaultValue);var v=e.required,m=e.nullable;if(v&&m&&void 0===n)throw new Error(r+" cannot be undefined.");if(v&&!m&&null==n)throw new Error(r+" cannot be null or undefined.");if(!v&&!1===m&&null===n)throw new Error(r+" cannot be null.");return null==n||null!==f.match(/^any$/i)?h=n:null!==f.match(/^(Number|String|Boolean|Object|Stream|Uuid)$/i)?h=(function(e,t,n){if(null!=n)if(null!==e.match(/^Number$/i)){if("number"!=typeof n)throw new Error(t+" with value "+n+" must be of type number.")}else if(null!==e.match(/^String$/i)){if("string"!=typeof n.valueOf())throw new Error(t+" with value \""+n+"\" must be of type string.")}else if(null!==e.match(/^Uuid$/i)){if("string"!=typeof n.valueOf()||!E(n))throw new Error(t+" with value \""+n+"\" must be of type string and a valid uuid.")}else if(null!==e.match(/^Boolean$/i)){if("boolean"!=typeof n)throw new Error(t+" with value "+n+" must be of type boolean.")}else if(null!==e.match(/^Stream$/i)){var r=typeof n;if(!("string"===r||"function"===r||n instanceof ArrayBuffer||ArrayBuffer.isView(n)||("function"==typeof Blob||"object"==typeof Blob)&&n instanceof Blob))throw new Error(t+" must be a string, Blob, ArrayBuffer, ArrayBufferView, or a function returning NodeJS.ReadableStream.")}return n})(f,r,n):null!==f.match(/^Enum$/i)?h=(function(e,t,n){if(!t)throw new Error("Please provide a set of allowedValues to validate "+e+" as an Enum Type.");if(!t.some(function(e){return"string"==typeof e.valueOf()?e.toLowerCase()===n.toLowerCase():e===n}))throw new Error(n+" is not a valid value for "+e+". The valid values are: "+JSON.stringify(t)+".");return n})(r,e.type.allowedValues,n):null!==f.match(/^(Date|DateTime|TimeSpan|DateTimeRfc1123|UnixTime)$/i)?h=(function(e,t,n){if(null!=t)if(null!==e.match(/^Date$/i)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(n+" must be an instanceof Date or a string in ISO8601 format.");t=t instanceof Date?t.toISOString().substring(0,10):new Date(t).toISOString().substring(0,10)}else if(null!==e.match(/^DateTime$/i)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(n+" must be an instanceof Date or a string in ISO8601 format.");t=t instanceof Date?t.toISOString():new Date(t).toISOString()}else if(null!==e.match(/^DateTimeRfc1123$/i)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(n+" must be an instanceof Date or a string in RFC-1123 format.");t=t instanceof Date?t.toUTCString():new Date(t).toUTCString()}else if(null!==e.match(/^UnixTime$/i)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(n+" must be an instanceof Date or a string in RFC-1123/ISO8601 format for it to be serialized in UnixTime/Epoch format.");t=(function(e){if(e)return"string"==typeof e.valueOf()&&(e=new Date(e)),Math.floor(e.getTime()/1e3)})(t)}else if(null!==e.match(/^TimeSpan$/i)&&!A(t))throw new Error(n+" must be a string in ISO 8601 format. Instead was \""+t+"\".");return t})(f,n,r):null!==f.match(/^ByteArray$/i)?h=(function(e,t){var n="";if(null!=t){if(!(t instanceof Uint8Array))throw new Error(e+" must be of type Uint8Array.");n=c(t)}return n})(r,n):null!==f.match(/^Base64Url$/i)?h=(function(e,t){var n="";if(null!=t){if(!(t instanceof Uint8Array))throw new Error(e+" must be of type Uint8Array.");n=(function(e){if(e){if(!(e instanceof Uint8Array))throw new Error("Please provide an input of type Uint8Array for converting to Base64Url.");return(function(e,t){for(var n=e.length;n-1>=0&&"="===e[n-1];)--n;return e.substr(0,n)})(c(e)).replace(/\+/g,"-").replace(/\//g,"_")}})(t)||""}return n})(r,n):null!==f.match(/^Sequence$/i)?h=(function(e,n,r,i,o,a){if(!Array.isArray(r))throw new Error(i+" must be of type Array.");var c=n.type.element;if(!c||"object"!=typeof c)throw new Error("element\" metadata for an Array must be defined in the mapper and it must of type \"object\" in "+i+".");for(var u=[],l=0;l<r.length;l++){var p=e.serialize(c,r[l],i,a);if(o&&c.xmlNamespace){var h=c.xmlNamespacePrefix?"xmlns:"+c.xmlNamespacePrefix:"xmlns";"Composite"===c.type.name?(u[l]=Object.assign({},p),u[l][d]=t(s[8])({},h,c.xmlNamespace)):(u[l]={},u[l][a.xmlCharKey]=p,u[l][d]=t(s[8])({},h,c.xmlNamespace))}else u[l]=p}return u})(this,e,n,r,Boolean(this.isXML),l):null!==f.match(/^Dictionary$/i)?h=(function(e,n,r,i,o,a){if("object"!=typeof r)throw new Error(i+" must be of type object.");var c=n.type.value;if(!c||"object"!=typeof c)throw new Error("\"value\" metadata for a Dictionary must be defined in the mapper and it must of type \"object\" in "+i+".");var u={};for(var l of Object.keys(r)){var p=e.serialize(c,r[l],i,a);u[l]=N(c,p,o,a)}if(o&&n.xmlNamespace){var h=n.xmlNamespacePrefix?"xmlns:"+n.xmlNamespacePrefix:"xmlns",f=u;return f[d]=t(s[8])({},h,n.xmlNamespace),f}return u})(this,e,n,r,Boolean(this.isXML),l):null!==f.match(/^Composite$/i)&&(h=(function(e,n,r,i,o,a){if(x(e,n)&&(n=M(e,n,r,"clientName")),null!=r){var c={},u=P(e,n,i);for(var l of Object.keys(u)){var p=u[l];if(!p.readOnly){var h=void 0,f=c;if(e.isXML)h=p.xmlIsWrapped?p.xmlName:p.xmlElementName||p.xmlName;else{var v=O(p.serializedName);for(var m of(h=v.pop(),v))null!=f[m]||null==r[l]&&void 0===p.defaultValue||(f[m]={}),f=f[m]}if(null!=f){if(o&&n.xmlNamespace){var g=n.xmlNamespacePrefix?"xmlns:"+n.xmlNamespacePrefix:"xmlns";f[d]=Object.assign(Object.assign({},f[d]),t(s[8])({},g,n.xmlNamespace))}var y=""!==p.serializedName?i+"."+p.serializedName:i,E=r[l],S=x(e,n);S&&S.clientName===l&&null==E&&(E=n.serializedName);var T=e.serialize(p,E,y,a);if(void 0!==T&&null!=h){var C=N(p,T,o,a);o&&p.xmlIsAttribute?(f[d]=f[d]||{},f[d][h]=T):o&&p.xmlIsWrapped?f[h]=t(s[8])({},p.xmlElementName,C):f[h]=C}}}}var b=(function(e,t,n){var r=t.type.additionalProperties;if(!r&&t.type.className){var i=k(e,t,n);return null==i?void 0:i.type.additionalProperties}return r})(e,n,i);if(b){var R=Object.keys(u),I=function(t){R.every(function(e){return e!==t})&&(c[t]=e.serialize(b,r[t],i+'["'+t+'"]',a))};for(var A in r)I(A)}return c}return r})(this,e,n,r,Boolean(this.isXML),l)),h}},{key:"deserialize",value:function(e,n,r){var i,o,a,c,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},h={rootName:null!==(i=u.rootName)&&void 0!==i?i:"",includeRoot:null!==(o=u.includeRoot)&&void 0!==o&&o,xmlCharKey:null!==(a=u.xmlCharKey)&&void 0!==a?a:p};if(null==n)return this.isXML&&"Sequence"===e.type.name&&!e.xmlIsWrapped&&(n=[]),void 0!==e.defaultValue&&(n=e.defaultValue),n;var f=e.type.name;if(r||(r=e.serializedName),null!==f.match(/^Composite$/i))c=(function(e,n,r,i,o){var a,c,u=null!==(a=o.xmlCharKey)&&void 0!==a?a:p;x(e,n)&&(n=M(e,n,r,"serializedName"));var l=P(e,n,i),h={},f=[];for(var v of Object.keys(l)){var m=l[v],g=O(l[v].serializedName);f.push(g[0]);var y=m.serializedName,E=m.xmlName,S=m.xmlElementName,T=i;""!==y&&void 0!==y&&(T=i+"."+y);var C=m.headerCollectionPrefix;if(C){var b={};for(var R of Object.keys(r))R.startsWith(C)&&(b[R.substring(C.length)]=e.deserialize(m.type.value,r[R],T,o)),f.push(R);h[v]=b}else if(e.isXML)if(m.xmlIsAttribute&&r[d])h[v]=e.deserialize(m,r[d][E],T,o);else if(m.xmlIsMsText)void 0!==r[u]?h[v]=r[u]:"string"==typeof r&&(h[v]=r);else{var I=S||E||y;if(m.xmlIsWrapped){var A=r[E],w=null!==(c=null==A?void 0:A[S])&&void 0!==c?c:[];h[v]=e.deserialize(m,w,T,o)}else{var _=r[I];h[v]=e.deserialize(m,_,T,o)}}else{var k=void 0,N=r;for(var U of g){if(!N)break;N=N[U]}k=N;var L=n.type.polymorphicDiscriminator,q=void 0;if(L&&v===L.clientName&&null==k&&(k=n.serializedName),Array.isArray(r[v])&&""===l[v].serializedName){k=r[v];var j=e.deserialize(m,k,T,o);for(var F of Object.entries(h)){var G=t(s[9])(F,2),H=G[0],B=G[1];Object.prototype.hasOwnProperty.call(j,H)||(j[H]=B)}h=j}else void 0===k&&void 0===m.defaultValue||(q=e.deserialize(m,k,T,o),h[v]=q)}}var z=n.type.additionalProperties;if(z){var V=function(e){for(var t in l)if(O(l[t].serializedName)[0]===e)return!1;return!0};for(var W in r)V(W)&&(h[W]=e.deserialize(z,r[W],i+'["'+W+'"]',o))}else if(r)for(var K of Object.keys(r))void 0!==h[K]||f.includes(K)||D(K,o)||(h[K]=r[K]);return h})(this,e,n,r,h);else{if(this.isXML){var v=h.xmlCharKey,m=n;null!=m[d]&&null!=m[v]&&(n=m[v])}null!==f.match(/^Number$/i)?(c=parseFloat(n),isNaN(c)&&(c=n)):null!==f.match(/^Boolean$/i)?c="true"===n||"false"!==n&&n:null!==f.match(/^(String|Enum|Object|Stream|Uuid|TimeSpan|any)$/i)?c=n:null!==f.match(/^(Date|DateTime|DateTimeRfc1123)$/i)?c=new Date(n):null!==f.match(/^UnixTime$/i)?c=(function(e){if(n)return new Date(1e3*n)})():null!==f.match(/^ByteArray$/i)?c=l(n):null!==f.match(/^Base64Url$/i)?c=(function(e){if(e){if(e&&"string"!=typeof e.valueOf())throw new Error("Please provide an input of type string for converting to Uint8Array");return l(e=e.replace(/-/g,"+").replace(/_/g,"/"))}})(n):null!==f.match(/^Sequence$/i)?c=(function(e,t,n,r,i){var o=t.type.element;if(!o||"object"!=typeof o)throw new Error("element\" metadata for an Array must be defined in the mapper and it must of type \"object\" in "+r);if(n){Array.isArray(n)||(n=[n]);for(var s=[],a=0;a<n.length;a++)s[a]=e.deserialize(o,n[a],r+"["+a+"]",i);return s}return n})(this,e,n,r,h):null!==f.match(/^Dictionary$/i)&&(c=(function(e,t,n,r,i){var o=t.type.value;if(!o||"object"!=typeof o)throw new Error("\"value\" metadata for a Dictionary must be defined in the mapper and it must of type \"object\" in "+r);if(n){var s={};for(var a of Object.keys(n))s[a]=e.deserialize(o,n[a],r,i);return s}return n})(this,e,n,r,h))}return e.isConstant&&(c=e.defaultValue),c}}])})();function O(e){var t=[],n="";if(e){var r=e.split(".");for(var i of r)"\\"===i.charAt(i.length-1)?n+=i.substr(0,i.length-1)+".":(n+=i,t.push(n),n="")}return t}function k(e,t,n){var r=t.type.className;if(!r)throw new Error("Class name for model \""+n+"\" is not provided in the mapper \""+JSON.stringify(t,void 0,2)+"\".");return e.modelMappers[r]}function P(e,t,n){var r=t.type.modelProperties;if(!r){var i=k(e,t,n);if(!i)throw new Error("mapper() cannot be null or undefined for model \""+t.type.className+"\".");if(!(r=null==i?void 0:i.type.modelProperties))throw new Error("modelProperties cannot be null or undefined in the mapper \""+JSON.stringify(i)+"\" of type \""+t.type.className+"\" for object \""+n+"\".")}return r}function N(e,n,r,i){if(!r||!e.xmlNamespace)return n;var o=t(s[8])({},e.xmlNamespacePrefix?"xmlns:"+e.xmlNamespacePrefix:"xmlns",e.xmlNamespace);if(["Composite"].includes(e.type.name)){if(n[d])return n;var a=Object.assign({},n);return a[d]=o,a}var c={};return c[i.xmlCharKey]=n,c[d]=o,c}function D(e,t){return[d,t.xmlCharKey].includes(e)}function M(e,t,n,r){var i=x(e,t);if(i){var o=i[r];if(null!=o){var s=n[o];if(null!=s){var a=t.type.uberParent||t.type.className,c=s===a?s:a+"."+s,u=e.modelMappers.discriminators[c];u&&(t=u)}}}return t}function x(e,t){return t.type.polymorphicDiscriminator||U(e,t.type.uberParent)||U(e,t.type.className)}function U(e,t){return t&&e.modelMappers[t]&&e.modelMappers[t].type.polymorphicDiscriminator}function L(e){var t=e;if(null!=e){if(e instanceof Uint8Array)return c(e);if(e instanceof Date)return e.toISOString();if(Array.isArray(e)){for(var n=[],r=0;r<e.length;r++)n.push(L(e[r]));return n}if("object"==typeof e){var i={};for(var o in e)i[o]=L(t[o]);return i}return e}}var q=(function(e){var t={};for(var n of["Base64Url","Boolean","ByteArray","Composite","Date","DateTime","DateTimeRfc1123","Dictionary","Enum","Number","Object","Sequence","String","Stream","TimeSpan","UnixTime"])t[n]=n;return t})(),j=(function(){function e(n,r,i,c,u,l,d,p,h,f,v,m,g,y,E){t(s[4])(this,e),this.streamResponseBody=l,this.streamResponseStatusCodes=E,this.url=n||"",this.method=r||"GET",this.headers=o(u)?u:new a(u),this.body=i,this.query=c,this.formData=void 0,this.withCredentials=d||!1,this.abortSignal=p,this.timeout=h||0,this.onUploadProgress=f,this.onDownloadProgress=v,this.proxySettings=m,this.keepAlive=g,this.decompressResponse=y,this.requestId=this.headers.get("x-ms-client-request-id")||S()}return t(s[6])(e,[{key:"validateRequestProperties",value:function(){if(!this.method)throw new Error("WebResource.method is required.");if(!this.url)throw new Error("WebResource.url is required.")}},{key:"prepare",value:function(e){if(!e)throw new Error("options object is required");if(void 0===e.method||null===e.method||"string"!=typeof e.method.valueOf())throw new Error("options.method must be a string.");if(e.url&&e.pathTemplate)throw new Error("options.url and options.pathTemplate are mutually exclusive. Please provide exactly one of them.");if(!(void 0!==e.pathTemplate&&null!==e.pathTemplate&&"string"==typeof e.pathTemplate.valueOf()||void 0!==e.url&&null!==e.url&&"string"==typeof e.url.valueOf()))throw new Error("Please provide exactly one of options.pathTemplate or options.url.");if(e.url){if("string"!=typeof e.url)throw new Error('options.url must be of type "string".');this.url=e.url}if(e.method){var t=["GET","PUT","HEAD","DELETE","OPTIONS","POST","PATCH","TRACE"];if(-1===t.indexOf(e.method.toUpperCase()))throw new Error('The provided method "'+e.method+'" is invalid. Supported HTTP methods are: '+JSON.stringify(t))}if(this.method=e.method.toUpperCase(),e.pathTemplate){var n=e.pathTemplate,r=e.pathParameters;if("string"!=typeof n)throw new Error('options.pathTemplate must be of type "string".');e.baseUrl||(e.baseUrl="https://management.azure.com");var i=e.baseUrl,o=i+(i.endsWith("/")?"":"/")+(n.startsWith("/")?n.slice(1):n),s=o.match(/({[\w-]*\s*[\w-]*})/gi);if(s&&s.length){if(!r)throw new Error("pathTemplate: "+n+" has been provided. Hence, options.pathParameters must also be provided.");s.forEach(function(e){var t=e.slice(1,-1),i=r[t];if(null==i||"string"!=typeof i&&"object"!=typeof i){var s=JSON.stringify(r,void 0,2);throw new Error("pathTemplate: "+n+" contains the path parameter "+t+" however, it is not present in parameters: "+s+".The value of the path parameter can either be a \"string\" of the form { "+t+": \"some sample value\" } or it can be an \"object\" of the form { \""+t+"\": { value: \"some sample value\", skipUrlEncoding: true } }.")}if("string"==typeof i.valueOf()&&(o=o.replace(e,encodeURIComponent(i))),"object"==typeof i.valueOf()){if(!i.value)throw new Error("options.pathParameters["+t+"] is of type \"object\" but it does not contain a \"value\" property.");o=i.skipUrlEncoding?o.replace(e,i.value):o.replace(e,encodeURIComponent(i.value))}})}this.url=o}if(e.queryParameters){var a=e.queryParameters;if("object"!=typeof a)throw new Error('options.queryParameters must be of type object. It should be a JSON object of "query-parameter-name" as the key and the "query-parameter-value" as the value. The "query-parameter-value" may be fo type "string" or an "object" of the form { value: "query-parameter-value", skipUrlEncoding: true }.');this.url&&-1===this.url.indexOf("?")&&(this.url+="?");var c=[];for(var u in this.query={},a){var l=a[u];if(l)if("string"==typeof l)c.push(u+"="+encodeURIComponent(l)),this.query[u]=encodeURIComponent(l);else if("object"==typeof l){if(!l.value)throw new Error("options.queryParameters["+u+"] is of type \"object\" but it does not contain a \"value\" property.");l.skipUrlEncoding?(c.push(u+"="+l.value),this.query[u]=l.value):(c.push(u+"="+encodeURIComponent(l.value)),this.query[u]=encodeURIComponent(l.value))}}this.url+=c.join("&")}if(e.headers){var d=e.headers;for(var p of Object.keys(e.headers))this.headers.set(p,d[p])}return this.headers.get("accept-language")||this.headers.set("accept-language","en-US"),this.headers.get("x-ms-client-request-id")||e.disableClientRequestId||this.headers.set("x-ms-client-request-id",this.requestId),this.headers.get("Content-Type")||this.headers.set("Content-Type","application/json; charset=utf-8"),this.body=e.body,void 0!==e.body&&null!==e.body&&(e.bodyIsStream?(this.headers.get("Transfer-Encoding")||this.headers.set("Transfer-Encoding","chunked"),"application/octet-stream"!==this.headers.get("Content-Type")&&this.headers.set("Content-Type","application/octet-stream")):(e.serializationMapper&&(this.body=new _(e.mappers).serialize(e.serializationMapper,e.body,"requestBody")),e.disableJsonStringifyOnBody||(this.body=JSON.stringify(e.body)))),e.spanOptions&&(this.spanOptions=e.spanOptions),e.tracingContext&&(this.tracingContext=e.tracingContext),this.abortSignal=e.abortSignal,this.onDownloadProgress=e.onDownloadProgress,this.onUploadProgress=e.onUploadProgress,this}},{key:"clone",value:function(){var t=new e(this.url,this.method,this.body,this.query,this.headers&&this.headers.clone(),this.streamResponseBody,this.withCredentials,this.abortSignal,this.timeout,this.onUploadProgress,this.onDownloadProgress,this.proxySettings,this.keepAlive,this.decompressResponse,this.streamResponseStatusCodes);return this.formData&&(t.formData=this.formData),this.operationSpec&&(t.operationSpec=this.operationSpec),this.shouldDeserialize&&(t.shouldDeserialize=this.shouldDeserialize),this.operationResponseGetter&&(t.operationResponseGetter=this.operationResponseGetter),t}}])})(),F=r(2571),G=(function(){function e(){t(s[4])(this,e),this._rawQuery={}}return t(s[6])(e,[{key:"any",value:function(){return Object.keys(this._rawQuery).length>0}},{key:"keys",value:function(){return Object.keys(this._rawQuery)}},{key:"set",value:function(e,t){var n=t;if(e)if(null!=n){var r=Array.isArray(n)?n:n.toString();this._rawQuery[e]=r}else delete this._rawQuery[e]}},{key:"get",value:function(e){return e?this._rawQuery[e]:void 0}},{key:"toString",value:function(){var e="";for(var t in this._rawQuery){e&&(e+="&");var n=this._rawQuery[t];if(Array.isArray(n)){var r=[];for(var i of n)r.push(t+"="+i);e+=r.join("&")}else e+=t+"="+n}return e}}],[{key:"parse",value:function(t){var n=new e;if(t){t.startsWith("?")&&(t=t.substring(1));for(var r="ParameterName",i="",o="",s=0;s<t.length;++s){var a=t[s];switch(r){case"ParameterName":switch(a){case"=":r="ParameterValue";break;case"&":i="",o="";break;default:i+=a}break;case"ParameterValue":"&"===a?(n.set(i,o),i="",o="",r="ParameterName"):o+=a;break;default:throw new Error("Unrecognized URLQuery parse state: "+r)}}"ParameterValue"===r&&n.set(i,o)}return n}}])})(),H=(function(){function e(){t(s[4])(this,e)}return t(s[6])(e,[{key:"setScheme",value:function(e){e?this.set(e,"SCHEME"):this._scheme=void 0}},{key:"getScheme",value:function(){return this._scheme}},{key:"setHost",value:function(e){e?this.set(e,"SCHEME_OR_HOST"):this._host=void 0}},{key:"getHost",value:function(){return this._host}},{key:"setPort",value:function(e){null==e||""===e?this._port=void 0:this.set(e.toString(),"PORT")}},{key:"getPort",value:function(){return this._port}},{key:"setPath",value:function(e){if(e){var t=e.indexOf("://");if(-1!==t){var n=e.lastIndexOf("/",t);this.set(-1===n?e:e.substr(n+1),"SCHEME")}else this.set(e,"PATH")}else this._path=void 0}},{key:"appendPath",value:function(e){if(e){var t=this.getPath();t&&(t.endsWith("/")||(t+="/"),e.startsWith("/")&&(e=e.substring(1)),e=t+e),this.set(e,"PATH")}}},{key:"getPath",value:function(){return this._path}},{key:"setQuery",value:function(e){this._query=e?G.parse(e):void 0}},{key:"setQueryParameter",value:function(e,t){e&&(this._query||(this._query=new G),this._query.set(e,t))}},{key:"getQueryParameterValue",value:function(e){return this._query?this._query.get(e):void 0}},{key:"getQuery",value:function(){return this._query?this._query.toString():void 0}},{key:"set",value:function(e,t){for(var n=new z(e,t);n.next();){var r=n.current(),i=void 0;if(r)switch(r.type){case"SCHEME":this._scheme=r.text||void 0;break;case"HOST":this._host=r.text||void 0;break;case"PORT":this._port=r.text||void 0;break;case"PATH":i=r.text||void 0,this._path&&"/"!==this._path&&"/"===i||(this._path=i);break;case"QUERY":this._query=G.parse(r.text);break;default:throw new Error("Unrecognized URLTokenType: "+r.type)}}}},{key:"toString",value:function(){var e="";return this._scheme&&(e+=this._scheme+"://"),this._host&&(e+=this._host),this._port&&(e+=":"+this._port),this._path&&(this._path.startsWith("/")||(e+="/"),e+=this._path),this._query&&this._query.any()&&(e+="?"+this._query.toString()),e}},{key:"replaceAll",value:function(e,t){e&&(this.setScheme(w(this.getScheme(),e,t)),this.setHost(w(this.getHost(),e,t)),this.setPort(w(this.getPort(),e,t)),this.setPath(w(this.getPath(),e,t)),this.setQuery(w(this.getQuery(),e,t)))}}],[{key:"parse",value:function(t){var n=new e;return n.set(t,"SCHEME_OR_HOST"),n}}])})(),B=(function(){function e(n,r){t(s[4])(this,e),this.text=n,this.type=r}return t(s[6])(e,null,[{key:"scheme",value:function(t){return new e(t,"SCHEME")}},{key:"host",value:function(t){return new e(t,"HOST")}},{key:"port",value:function(t){return new e(t,"PORT")}},{key:"path",value:function(t){return new e(t,"PATH")}},{key:"query",value:function(t){return new e(t,"QUERY")}}])})(),z=(function(){return t(s[6])(function e(n,r){t(s[4])(this,e),this._text=n,this._textLength=n?n.length:0,this._currentState=null!=r?r:"SCHEME_OR_HOST",this._currentIndex=0},[{key:"current",value:function(){return this._currentToken}},{key:"next",value:function(){if(V(this))switch(this._currentState){case"SCHEME":t=(function(e){return $(e,function(e){return(function(e){var t=e.charCodeAt(0);return 48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122})(e)})})(e=this),e._currentToken=B.scheme(t),V(e)?e._currentState="HOST":e._currentState="DONE";break;case"SCHEME_OR_HOST":!(function(e){var t=Y(e,":","/","?");V(e)?":"===W(e)?"://"===J(e,3)?(e._currentToken=B.scheme(t),e._currentState="HOST"):(e._currentToken=B.host(t),e._currentState="PORT"):(e._currentToken=B.host(t),"/"===W(e)?e._currentState="PATH":e._currentState="QUERY"):(e._currentToken=B.host(t),e._currentState="DONE")})(this);break;case"HOST":!(function(e){"://"===J(e,3)&&K(e,3);var t=Y(e,":","/","?");e._currentToken=B.host(t),V(e)?":"===W(e)?e._currentState="PORT":"/"===W(e)?e._currentState="PATH":e._currentState="QUERY":e._currentState="DONE"})(this);break;case"PORT":!(function(e){":"===W(e)&&K(e);var t=Y(e,"/","?");e._currentToken=B.port(t),V(e)?"/"===W(e)?e._currentState="PATH":e._currentState="QUERY":e._currentState="DONE"})(this);break;case"PATH":!(function(e){var t=Y(e,"?");e._currentToken=B.path(t),V(e)?e._currentState="QUERY":e._currentState="DONE"})(this);break;case"QUERY":!(function(e){"?"===W(e)&&K(e);var t=(function(e){var t="";return e._currentIndex<e._textLength&&(t=e._text.substring(e._currentIndex),e._currentIndex=e._textLength),t})(e);e._currentToken=B.query(t),e._currentState="DONE"})(this);break;default:throw new Error("Unrecognized URLTokenizerState: "+this._currentState)}else this._currentToken=void 0;var e,t;return!!this._currentToken}}])})();function V(e){return e._currentIndex<e._textLength}function W(e){return e._text[e._currentIndex]}function K(e,t){V(e)&&(t||(t=1),e._currentIndex+=t)}function J(e,t){var n=e._currentIndex+t;return e._textLength<n&&(n=e._textLength),e._text.substring(e._currentIndex,n)}function $(e,t){for(var n="";V(e);){var r=W(e);if(!t(r))break;n+=r,K(e)}return n}function Y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $(e,function(e){return-1===n.indexOf(e)})}var X="REDACTED",Q=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],Z=["api-version"],ee=(function(){return t(s[6])(function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.allowedHeaderNames,i=void 0===r?[]:r,o=n.allowedQueryParameters,a=void 0===o?[]:o;t(s[4])(this,e),i=Array.isArray(i)?Q.concat(i):Q,a=Array.isArray(a)?Z.concat(a):Z,this.allowedHeaderNames=new Set(i.map(function(e){return e.toLowerCase()})),this.allowedQueryParameters=new Set(a.map(function(e){return e.toLowerCase()}))},[{key:"sanitize",value:function(e){var t=this,n=new Set;return JSON.stringify(e,function(e,r){if(r instanceof Error)return Object.assign(Object.assign({},r),{name:r.name,message:r.message});if("_headersMap"===e)return t.sanitizeHeaders(r);if("url"===e)return t.sanitizeUrl(r);if("query"===e)return t.sanitizeQuery(r);if("body"!==e&&"response"!==e&&"operationSpec"!==e){if(Array.isArray(r)||!("object"!=typeof(i=r)||null===i||Array.isArray(i)||i instanceof RegExp||i instanceof Date)){if(n.has(r))return"[Circular]";n.add(r)}var i;return r}},2)}},{key:"sanitizeHeaders",value:function(e){return this.sanitizeObject(e,this.allowedHeaderNames,function(e,t){return e[t].value})}},{key:"sanitizeQuery",value:function(e){return this.sanitizeObject(e,this.allowedQueryParameters,function(e,t){return e[t]})}},{key:"sanitizeObject",value:function(e,t,n){if("object"!=typeof e||null===e)return e;var r={};for(var i of Object.keys(e))t.has(i.toLowerCase())?r[i]=n(e,i):r[i]=X;return r}},{key:"sanitizeUrl",value:function(e){if("string"!=typeof e||null===e)return e;var t=H.parse(e),n=t.getQuery();if(!n)return e;var r=G.parse(n);for(var i of r.keys())this.allowedQueryParameters.has(i.toLowerCase())||r.set(i,X);return t.setQuery(r.toString()),t.toString()}}])})(),te={},ne=new ee,re=(function(e){function n(e,r,i,o,a){var c;return t(s[4])(this,n),(c=u(this,n,[e])).name="RestError",c.code=r,c.statusCode=i,c.request=o,c.response=a,Object.setPrototypeOf(t(s[10])(c),n.prototype),c}return t(s[5])(n,e),t(s[6])(n,[{key:te,value:function(){return"RestError: "+this.message+" \n "+ne.sanitize(this)}}])})(t(s[7])(Error));re.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR",re.PARSE_ERROR="PARSE_ERROR";var ie,oe=(function(){return t(s[6])(function e(){t(s[4])(this,e)},[{key:"sendRequest",value:function(e){var t,n=new XMLHttpRequest;if(e.proxySettings)throw new Error("HTTP proxy is not supported in browser environment");var r=e.abortSignal;if(r){if(r.aborted)return Promise.reject(new F._("The operation was aborted."));var i=function(){n.abort()};r.addEventListener("abort",i),n.addEventListener("readystatechange",function(){n.readyState===XMLHttpRequest.DONE&&r.removeEventListener("abort",i)})}if(se(n.upload,e.onUploadProgress),se(n,e.onDownloadProgress),e.formData){var o=e.formData,s=new FormData,a=function(e,t){t&&Object.prototype.hasOwnProperty.call(t,"value")&&Object.prototype.hasOwnProperty.call(t,"options")?s.append(e,t.value,t.options):s.append(e,t)};for(var c of Object.keys(o)){var u=o[c];if(Array.isArray(u))for(var l=0;l<u.length;l++)a(c,u[l]);else a(c,u)}e.body=s,e.formData=void 0;var d=e.headers.get("Content-Type");d&&-1!==d.indexOf("multipart/form-data")&&e.headers.remove("Content-Type")}for(var p of(n.open(e.method,e.url),n.timeout=e.timeout,n.withCredentials=e.withCredentials,e.headers.headersArray()))n.setRequestHeader(p.name,p.value);return n.responseType=(null===(t=e.streamResponseStatusCodes)||void 0===t?void 0:t.size)||e.streamResponseBody?"blob":"text",n.send(void 0===e.body?null:e.body),"blob"===n.responseType?new Promise(function(t,r){!(function(e,t,n,r){e.addEventListener("readystatechange",function(){var i;if(e.readyState===XMLHttpRequest.HEADERS_RECEIVED)if(t.streamResponseBody||(null===(i=t.streamResponseStatusCodes)||void 0===i?void 0:i.has(e.status))){var o=new Promise(function(n,r){e.addEventListener("load",function(){n(e.response)}),ce(t,e,r)});n({request:t,status:e.status,headers:ae(e),blobBody:o})}else e.addEventListener("load",function(){if(e.response){var i=new FileReader;i.onload=function(r){var i,o=null===(i=r.target)||void 0===i?void 0:i.result;n({request:t,status:e.status,headers:ae(e),bodyAsText:o})},i.onerror=function(e){r(i.error)},i.readAsText(e.response,"UTF-8")}else n({request:t,status:e.status,headers:ae(e)})})})})(n,e,t,r),ce(e,n,r)}):new Promise(function(t,r){n.addEventListener("load",function(){return t({request:e,status:n.status,headers:ae(n),bodyAsText:n.responseText})}),ce(e,n,r)})}}])})();function se(e,t){t&&e.addEventListener("progress",function(e){return t({loadedBytes:e.loaded})})}function ae(e){var t=new a,n=e.getAllResponseHeaders().trim().split(/[\r\n]+/);for(var r of n){var i=r.indexOf(":"),o=r.slice(0,i),s=r.slice(i+2);t.set(o,s)}return t}function ce(e,t,n){t.addEventListener("error",function(){return n(new re("Failed to send request to "+e.url,re.REQUEST_SEND_ERROR,void 0,e))});var r=new F._("The operation was aborted.");t.addEventListener("abort",function(){return n(r)}),t.addEventListener("timeout",function(){return n(r)})}!(function(e){e[e.OFF=0]="OFF",e[e.ERROR=1]="ERROR",e[e.WARNING=2]="WARNING",e[e.INFO=3]="INFO"})(ie||(ie={}));var ue=r(7582);function le(e){var t=e.requestOptions,n=e.tracingOptions,r=(0,ue._T)(e,["requestOptions","tracingOptions"]);return t&&(r=Object.assign(Object.assign({},r),t)),n&&(r.tracingContext=n.tracingContext,r.spanOptions=null==n?void 0:n.spanOptions),r}var de,pe,he,fe,ve,me=(function(){return t(s[6])(function e(n,r){t(s[4])(this,e),this._nextPolicy=n,this._options=r},[{key:"shouldLog",value:function(e){return this._options.shouldLog(e)}},{key:"log",value:function(e,t){this._options.log(e,t)}}])})(),ge=(function(){return t(s[6])(function e(n){t(s[4])(this,e),this._logger=n},[{key:"shouldLog",value:function(e){return!!this._logger&&e!==ie.OFF&&e<=this._logger.minimumLogLevel}},{key:"log",value:function(e,t){this._logger&&this.shouldLog(e)&&this._logger.log(e,t)}}])})();if(!(self.document&&self.DOMParser&&self.Node&&self.XMLSerializer))throw new Error('This library depends on the following DOM objects: ["document", "DOMParser", "Node", "XMLSerializer"] to parse XML, but some of these are undefined. You may provide a polyfill to make these globally available in order to support your environment. For more information, please refer to https://aka.ms/azsdk/js/web-workers. ');function ye(){return de||(de=document.implementation.createDocument(null,null,null)),de}function Ee(){return pe||(pe=new DOMParser),pe}function Se(e){var t,n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var s,a={rootName:null!==(t=o.rootName)&&void 0!==t?t:"",includeRoot:null!==(n=o.includeRoot)&&void 0!==n&&n,xmlCharKey:null!==(r=o.xmlCharKey)&&void 0!==r?r:p},c=Ee().parseFromString(null!==(i=null==fe?void 0:fe.createHTML(e))&&void 0!==i?i:e,"application/xml");return(function(e){var t=c.getElementsByTagName("parsererror");if(t.length>0&&(function(){var e,t;if(void 0===ve)try{var n=null!==(e=null==fe?void 0:fe.createHTML("INVALID"))&&void 0!==e?e:"INVALID";ve=null!==(t=Ee().parseFromString(n,"text/xml").getElementsByTagName("parsererror")[0].namespaceURI)&&void 0!==t?t:""}catch(e){ve=""}return ve})())for(var n=0;n<t.length;n++)if(t[n].namespaceURI===ve)throw new Error(t[n].innerHTML)})(),s=Te(a.includeRoot?c:c.childNodes[0],a),Promise.resolve(s)}catch(e){return Promise.reject(e)}}function Te(e,t){var n={},r=e.childNodes.length,i=e.childNodes[0],o=i&&1===r&&i.nodeType===Node.TEXT_NODE&&i.nodeValue||void 0,s=(function(e){return(function(e){return!!e.attributes})(e)&&e.hasAttributes()?e:void 0})(e);if(s){n[d]={};for(var a=0;a<s.attributes.length;a++){var c=s.attributes[a];n[d][c.nodeName]=c.nodeValue}o&&(n[t.xmlCharKey]=o)}else 0===r?n="":o&&(n=o);if(!o)for(var u=0;u<r;u++){var l=e.childNodes[u];if(l.nodeType!==Node.TEXT_NODE){var p=Te(l,t);n[l.nodeName]?Array.isArray(n[l.nodeName])?n[l.nodeName].push(p):n[l.nodeName]=[n[l.nodeName],p]:n[l.nodeName]=p}}return n}function Ce(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={rootName:null!==(t=i.rootName)&&void 0!==t?t:"root",includeRoot:null!==(n=i.includeRoot)&&void 0!==n&&n,xmlCharKey:null!==(r=i.xmlCharKey)&&void 0!==r?r:p},s=Re(e,o.rootName,o)[0];return'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+(he||(he=new XMLSerializer),he).serializeToString(s)}function be(e){var t=[];for(var n of Object.keys(e)){var r=ye().createAttribute(n);r.value=e[n].toString(),t.push(r)}return t}function Re(e,t,n){if(null==e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e){var r=ye().createElement(t);return r.textContent=null==e?"":e.toString(),[r]}if(Array.isArray(e)){var i=[];for(var o of e)for(var s of Re(o,t,n))i.push(s);return i}if("object"==typeof e){var a=ye().createElement(t);for(var c of Object.keys(e))if(c===d)for(var u of be(e[c]))a.attributes.setNamedItem(u);else if(c===n.xmlCharKey)a.textContent=e[c].toString();else for(var l of Re(e[c],c,n))a.appendChild(l);return[a]}throw new Error("Illegal value passed to buildObject: "+e)}function Ie(e,t){return{create:function(n,r){return new Oe(n,r,e,t)}}}void 0!==self.trustedTypes&&(fe=self.trustedTypes.createPolicy("@azure/core-http#xml.browser",{createHTML:function(e){return e}}));var Ae=["application/json","text/json"],we=["application/xml","application/atom+xml"],_e={expectedContentTypes:{json:Ae,xml:we}},Oe=(function(e){function n(e,r,i){var o,a,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t(s[4])(this,n),(o=u(this,n,[e,r])).jsonContentTypes=i&&i.json||Ae,o.xmlContentTypes=i&&i.xml||we,o.xmlCharKey=null!==(a=c.xmlCharKey)&&void 0!==a?a:p,o}return t(s[5])(n,e),t(s[6])(n,[{key:"sendRequest",value:(function(){var e=t(s[11])(function*(e){var t=this;return this._nextPolicy.sendRequest(e).then(function(e){return ke(t.jsonContentTypes,t.xmlContentTypes,e,{xmlCharKey:t.xmlCharKey})})});return function(t){return e.apply(this,arguments)}})()}])})(me);function ke(e,t,n){var r,i,o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a={rootName:null!==(r=s.rootName)&&void 0!==r?r:"",includeRoot:null!==(i=s.includeRoot)&&void 0!==i&&i,xmlCharKey:null!==(o=s.xmlCharKey)&&void 0!==o?o:p};return(function(e,t,n,r){var i,o=function(e){var t="Error \""+e+"\" occurred while parsing the response body - "+n.bodyAsText+".",r=e.code||re.PARSE_ERROR,i=new re(t,r,n.status,n.request,n);return Promise.reject(i)};if(!((null===(i=n.request.streamResponseStatusCodes)||void 0===i?void 0:i.has(n.status))||n.request.streamResponseBody)&&n.bodyAsText){var s=n.bodyAsText,a=n.headers.get("Content-Type")||"",c=a?a.split(";").map(function(e){return e.toLowerCase()}):[];if(0===c.length||c.some(function(t){return-1!==e.indexOf(t)}))return new Promise(function(e){n.parsedBody=JSON.parse(s),e(n)}).catch(o);if(c.some(function(e){return-1!==t.indexOf(e)}))return Se(s,r).then(function(e){return n.parsedBody=e,n}).catch(o)}return Promise.resolve(n)})(e,t,n,a).then(function(e){if(!(function(e){var t=e.request.shouldDeserialize;return void 0===t||("boolean"==typeof t?t:t(e))})(e))return e;var t=e.request.operationSpec;if(!t||!t.responses)return e;var r=(function(e){var t,n=e.request,r=n.operationSpec;if(r){var i=n.operationResponseGetter;t=i?i(r,e):r.responses[e.status]}return t})(e),i=(function(e,t,n){var r,i=200<=e.status&&e.status<300;if((function(e){var t=Object.keys(e.responses);return 0===t.length||1===t.length&&"default"===t[0]})(t)?i:!!n){if(!n)return{error:null,shouldReturnResponse:!1};if(!n.isError)return{error:null,shouldReturnResponse:!1}}var o=null!=n?n:t.responses.default,s=(null===(r=e.request.streamResponseStatusCodes)||void 0===r?void 0:r.has(e.status))||e.request.streamResponseBody?"Unexpected status code: "+e.status:e.bodyAsText,a=new re(s,void 0,e.status,e.request,e);if(!o)throw a;var c=o.bodyMapper,u=o.headersMapper;try{if(e.parsedBody){var l,d=e.parsedBody;if(c){var p=d;t.isXML&&c.type.name===q.Sequence&&(p="object"==typeof d?d[c.xmlElementName]:[]),l=t.serializer.deserialize(c,p,"error.response.parsedBody")}var h=d.error||l||d;a.code=h.code,h.message&&(a.message=h.message),c&&(a.response.parsedBody=l)}e.headers&&u&&(a.response.parsedHeaders=t.serializer.deserialize(u,e.headers.toJson(),"operationRes.parsedHeaders"))}catch(t){a.message="Error \""+t.message+"\" occurred in deserializing the responseBody - \""+e.bodyAsText+"\" for the default response."}return{error:a,shouldReturnResponse:!1}})(e,t,r),o=i.error,a=i.shouldReturnResponse;if(o)throw o;if(a)return e;if(r){if(r.bodyMapper){var c=e.parsedBody;t.isXML&&r.bodyMapper.type.name===q.Sequence&&(c="object"==typeof c?c[r.bodyMapper.xmlElementName]:[]);try{e.parsedBody=t.serializer.deserialize(r.bodyMapper,c,"operationRes.parsedBody",s)}catch(t){throw new re("Error "+t+" occurred in deserializing the responseBody - "+e.bodyAsText,void 0,e.status,e.request,e)}}else"HEAD"===t.httpMethod&&(e.parsedBody=n.status>=200&&n.status<300);r.headersMapper&&(e.parsedHeaders=t.serializer.deserialize(r.headersMapper,e.headers.toJson(),"operationRes.parsedHeaders",s))}return e})}var Pe={enable:!0};function Ne(e){return{create:function(t,n){return new De(t,n,e||Pe)}}}var De=(function(e){function n(e,r,i){var o;return t(s[4])(this,n),(o=u(this,n,[e,r])).keepAliveOptions=i,o}return t(s[5])(n,e),t(s[6])(n,[{key:"sendRequest",value:(function(){var e=t(s[11])(function*(e){return e.keepAlive=this.keepAliveOptions.enable,this._nextPolicy.sendRequest(e)});return function(t){return e.apply(this,arguments)}})()}])})(me),Me=["GET","HEAD"],xe={handleRedirects:!0,maxRetries:20};function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return{create:function(t,n){return new Le(t,n,e)}}}var Le=(function(e){function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return t(s[4])(this,n),(i=u(this,n,[e,r])).maxRetries=o,i}return t(s[5])(n,e),t(s[6])(n,[{key:"sendRequest",value:function(e){var t=this;return this._nextPolicy.sendRequest(e).then(function(e){return qe(t,e,0)})}}])})(me);function qe(e,t,n){var r=t.request,i=t.status,o=t.headers.get("location");if(o&&(300===i||301===i&&Me.includes(r.method)||302===i&&Me.includes(r.method)||303===i&&"POST"===r.method||307===i)&&(!e.maxRetries||n<e.maxRetries)){var s=H.parse(r.url);return s.setPath(o),r.url=s.toString(),303===i&&(r.method="GET",delete r.body),e._nextPolicy.sendRequest(r).then(function(t){return qe(e,t,n+1)})}return Promise.resolve(t)}var je=3e4,Fe=9e4;function Ge(e){return"number"==typeof e}function He(e,t,n,r,i){return!!t(r,i)&&n.retryCount<e}function Be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{retryCount:0,retryInterval:0},n=arguments.length>2?arguments[2]:void 0;n&&(t.error&&(n.innerError=t.error),t.error=n),t.retryCount++;var r=Math.pow(2,t.retryCount-1)-1;return r*=.8*e.retryInterval+Math.floor(Math.random()*(.4*e.retryInterval)),t.retryInterval=Math.min(e.minRetryInterval+r,e.maxRetryInterval),t}var ze={coreHttpVersion:"2.3.2",HTTP:"http:",HTTPS:"https:",HTTP_PROXY:"HTTP_PROXY",HTTPS_PROXY:"HTTPS_PROXY",NO_PROXY:"NO_PROXY",ALL_PROXY:"ALL_PROXY",HttpConstants:{HttpVerbs:{PUT:"PUT",GET:"GET",DELETE:"DELETE",POST:"POST",MERGE:"MERGE",HEAD:"HEAD",PATCH:"PATCH"},StatusCodes:{TooManyRequests:429,ServiceUnavailable:503}},HeaderConstants:{AUTHORIZATION:"authorization",AUTHORIZATION_SCHEME:"Bearer",RETRY_AFTER:"Retry-After",USER_AGENT:"User-Agent"}},Ve="The delay was aborted.";function We(e,t){var n,r=null!=t?t:{},i=r.abortSignal,o=r.abortErrorMsg;return(function(t,r){var i=null!=r?r:{},o=i.cleanupBeforeAbort,s=i.abortSignal,a=i.abortErrorMsg;return new Promise(function(t,r){function i(){r(new F._(null!=a?a:"The operation was aborted."))}function c(){null==s||s.removeEventListener("abort",u)}function u(){null==o||o(),c(),i()}if(null==s?void 0:s.aborted)return i();try{!(function(t){n=setTimeout(t,e)})(function(e){c(),t(e)})}catch(e){r(e)}null==s||s.addEventListener("abort",u)})})(0,{cleanupBeforeAbort:function(){return clearTimeout(n)},abortSignal:i,abortErrorMsg:null!=o?o:Ve})}var Ke,Je=(0,r(901).YR)("core-http");function $e(e,t,n){return{create:function(r,i){return new Xe(r,i,e,t,n)}}}!(function(e){e[e.Exponential=0]="Exponential"})(Ke||(Ke={}));var Ye={maxRetries:3,retryDelayInMs:je,maxRetryDelayInMs:Fe},Xe=(function(e){function n(e,r,i,o,a){var c;return t(s[4])(this,n),(c=u(this,n,[e,r])).retryCount=Ge(i)?i:3,c.retryInterval=Ge(o)?o:je,c.maxRetryInterval=Ge(a)?a:Fe,c}return t(s[5])(n,e),t(s[6])(n,[{key:"sendRequest",value:function(e){var t=this;return this._nextPolicy.sendRequest(e.clone()).then(function(n){return Qe(t,e,n)}).catch(function(n){return Qe(t,e,n.response,void 0,n)})}}])})(me);function Qe(e,t,n,r,i){return Ze.apply(this,arguments)}function Ze(){return(Ze=t(s[11])(function*(e,t,n,r,i){r=Be({retryInterval:e.retryInterval,minRetryInterval:0,maxRetryInterval:e.maxRetryInterval},r,i);var o=t.abortSignal&&t.abortSignal.aborted;if(o||!He(e.retryCount,function(e){var t=null==e?void 0:e.status;return!(503===t&&(null==n?void 0:n.headers.get(ze.HeaderConstants.RETRY_AFTER))||void 0===t||t<500&&408!==t||501===t||505===t)},r,n)){if(o||i||!n)throw r.error||new re("Failed to send the request.",re.REQUEST_SEND_ERROR,n&&n.status,n&&n.request,n);return n}Je.info("Retrying request in "+r.retryInterval);try{return yield We(r.retryInterval),Qe(e,t,yield e._nextPolicy.sendRequest(t.clone()),r)}catch(i){return Qe(e,t,n,r,i)}})).apply(this,arguments)}function et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{create:function(t,n){return new tt(t,n,e)}}}var tt=(function(e){function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.logger,c=void 0===a?Je.info:a,l=o.allowedHeaderNames,d=void 0===l?[]:l,p=o.allowedQueryParameters,h=void 0===p?[]:p;return t(s[4])(this,n),(i=u(this,n,[e,r])).logger=c,i.sanitizer=new ee({allowedHeaderNames:d,allowedQueryParameters:h}),i}return t(s[5])(n,e),t(s[6])(n,[{key:"allowedHeaderNames",get:function(){return this.sanitizer.allowedHeaderNames},set:function(e){this.sanitizer.allowedHeaderNames=e}},{key:"allowedQueryParameters",get:function(){return this.sanitizer.allowedQueryParameters},set:function(e){this.sanitizer.allowedQueryParameters=e}},{key:"sendRequest",value:function(e){var t=this;return this.logger.enabled?(this.logRequest(e),this._nextPolicy.sendRequest(e).then(function(e){return t.logResponse(e)})):this._nextPolicy.sendRequest(e)}},{key:"logRequest",value:function(e){this.logger("Request: "+this.sanitizer.sanitize(e))}},{key:"logResponse",value:function(e){return this.logger("Response status code: "+e.status),this.logger("Headers: "+this.sanitizer.sanitize(e.headers)),e}}])})(me);function nt(e){return rt(e.parameterPath,e.mapper)}function rt(e,t){return"string"==typeof e?e:Array.isArray(e)?e.join("."):t.serializedName}function it(e){var t=e;return t&&"function"==typeof t.getToken&&(void 0===t.signRequest||t.getToken.length>0)}var ot=function(){return"x-ms-useragent"};function st(){var e=[{key:"core-http",value:ze.coreHttpVersion}],t=(function(){var e=self.navigator;return[{key:"OS",value:(e.oscpu||e.platform).replace(" ","")}]})();return(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/";return e.map(function(e){var t=e.value?""+n+e.value:"";return""+e.key+t}).join(t)})(e.concat(t))}function at(e){var t=e&&void 0!==e.key&&null!==e.key?e.key:"x-ms-useragent",n=e&&void 0!==e.value&&null!==e.value?e.value:st();return{create:function(e,r){return new ut(e,r,t,n)}}}var ct,ut=(function(e){function n(e,r,i,o){var a;return t(s[4])(this,n),(a=u(this,n,[e,r]))._nextPolicy=e,a._options=r,a.headerKey=i,a.headerValue=o,a}return t(s[5])(n,e),t(s[6])(n,[{key:"sendRequest",value:function(e){return this.addUserAgentHeader(e),this._nextPolicy.sendRequest(e)}},{key:"addUserAgentHeader",value:function(e){e.headers||(e.headers=new a),!e.headers.get(this.headerKey)&&this.headerValue&&e.headers.set(this.headerKey,this.headerValue)}}])})(me);!(function(e){e.Csv=",",e.Ssv=" ",e.Tsv="\t",e.Pipes="|",e.Multi="Multi"})(ct||(ct={}));var lt={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:12e4};function dt(e,n){var r=(function(e,n,r){var i,o=null,a=null,c=Object.assign(Object.assign({},lt),void 0),u={get isRefreshing(){return null!==o},get shouldRefresh(){var e;return!u.isRefreshing&&(null!==(e=null==a?void 0:a.expiresOnTimestamp)&&void 0!==e?e:0)-c.refreshWindowInMs<Date.now()},get mustRefresh(){return null===a||a.expiresOnTimestamp-c.forcedRefreshWindowInMs<Date.now()}};function l(r){var i,l;return u.isRefreshing||(o=(l=t(s[11])(function*(e,n,r){function i(){return o.apply(this,arguments)}function o(){return(o=t(s[11])(function*(){if(!(Date.now()<r)){var t=yield e();if(null===t)throw new Error("Failed to refresh access token.");return t}try{return yield e()}catch(e){return null}})).apply(this,arguments)}for(var a=yield i();null===a;)yield We(n),a=yield i();return a}),function(e,t,n){return l.apply(this,arguments)})(function(){return e.getToken(n,r)},c.retryIntervalInMs,null!==(i=null==a?void 0:a.expiresOnTimestamp)&&void 0!==i?i:Date.now()).then(function(e){return o=null,a=e}).catch(function(e){throw o=null,a=null,e})),o}return i=t(s[11])(function*(e){return u.mustRefresh?l(e):(u.shouldRefresh&&l(e),a)}),function(e){return i.apply(this,arguments)}})(e,n),i=(function(e){function n(e,r){return t(s[4])(this,n),u(this,n,[e,r])}return t(s[5])(n,e),t(s[6])(n,[{key:"sendRequest",value:(function(){var e=t(s[11])(function*(e){if(!e.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");var t=(yield r({abortSignal:e.abortSignal,tracingOptions:{tracingContext:e.tracingContext}})).token;return e.headers.set(ze.HeaderConstants.AUTHORIZATION,"Bearer "+t),this._nextPolicy.sendRequest(e)});return function(t){return e.apply(this,arguments)}})()}])})(me);return{create:function(e,t){return new i(e,t)}}}var pt=new Error("DisableResponseDecompressionPolicy is not supported in browser environment");function ht(){return{create:function(e,t){throw pt}}}function ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x-ms-client-request-id";return{create:function(t,n){return new mt(t,n,e)}}}var vt,mt=(function(e){function n(e,r,i){var o;return t(s[4])(this,n),(o=u(this,n,[e,r]))._requestIdHeaderName=i,o}return t(s[5])(n,e),t(s[6])(n,[{key:"sendRequest",value:function(e){return e.headers.contains(this._requestIdHeaderName)||e.headers.set(this._requestIdHeaderName,e.requestId),this._nextPolicy.sendRequest(e)}}])})(me),gt=(function(e){function n(e,r){return t(s[4])(this,n),u(this,n,[e,r])}return t(s[5])(n,e),t(s[6])(n,[{key:"sendRequest",value:(function(){var e=t(s[11])(function*(e){if("string"==typeof e.body&&e.body.startsWith("[")){var t=JSON.parse(e.body);Array.isArray(t)&&(e.body=t.map(function(e){return JSON.stringify(e)+"\n"}).join(""))}return this._nextPolicy.sendRequest(e)});return function(t){return e.apply(this,arguments)}})()}])})(me),yt=new Error("ProxyPolicy is not supported in browser environment");function Et(e){}function St(e){return{create:function(e,t){throw yt}}}var Tt=(function(e){function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;return t(s[4])(this,n),(i=u(this,n,[e,r]))._retryTimeout=o,i}return t(s[5])(n,e),t(s[6])(n,[{key:"sendRequest",value:function(e){var n=this;return this._nextPolicy.sendRequest(e.clone()).then(function(r){return(function(e,n,r){if(409===r.status){var i=(function(e){var t,n;if(e){try{n=JSON.parse(e)}catch(e){}if(n&&n.error&&n.error.message&&n.error.code&&"MissingSubscriptionRegistration"===n.error.code){var r=n.error.message.match(/.*'(.*)'/i);r&&(t=r.pop())}}return t})(r.bodyAsText);if(i){var o=(function(e){var t=e.match(/.*\/subscriptions\/[a-f0-9-]+\//gi);if(!t||!t[0])throw new Error("Unable to extract subscriptionId from the given url - "+e+".");return t[0]})(n.url);return(a=t(s[11])(function*(e,t,n,r){var i=t+"providers/"+n+"/register?api-version=2016-02-01",o=t+"providers/"+n+"?api-version=2016-02-01",s=Ct(r);if(s.method="POST",s.url=i,200!==(yield e._nextPolicy.sendRequest(s)).status)throw new Error("Autoregistration of "+n+" failed. Please try registering manually.");return bt(e,o,r)}),function(e,t,n,r){return a.apply(this,arguments)})(e,o,i,n).catch(function(){return!1}).then(function(t){return t?(n.headers.set("x-ms-client-request-id",S()),e._nextPolicy.sendRequest(n.clone())):r})}}var a;return Promise.resolve(r)})(n,e,r)})}}])})(me);function Ct(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.clone();return t&&(n.url=e.url),n.headers.set("x-ms-client-request-id",S()),n.headers.set("Content-Type","application/json; charset=utf-8"),n}function bt(e,t,n){return Rt.apply(this,arguments)}function Rt(){return(Rt=t(s[11])(function*(e,t,n){var r=Ct(n);r.url=t,r.method="GET";var i=yield e._nextPolicy.sendRequest(r),o=i.parsedBody;return!(!i.parsedBody||!o.registrationState||"Registered"!==o.registrationState)||(yield We(1e3*e._retryTimeout),bt(e,t,n))})).apply(this,arguments)}function It(e){return{create:function(t,n){return new At(t,n,e)}}}var At=(function(e){function n(e,r,i){var o;return t(s[4])(this,n),(o=u(this,n,[e,r])).authenticationProvider=i,o}return t(s[5])(n,e),t(s[6])(n,[{key:"signRequest",value:function(e){return this.authenticationProvider.signRequest(e)}},{key:"sendRequest",value:function(e){var t=this;return this.signRequest(e).then(function(e){return t._nextPolicy.sendRequest(e)})}}])})(me);function wt(e,t,n,r){return{create:function(i,o){return new _t(i,o,e,t,n,r)}}}var _t=(function(e){function n(e,r,i,o,a,c){var l;return t(s[4])(this,n),(l=u(this,n,[e,r])).retryCount=Ge(i)?i:3,l.retryInterval=Ge(o)?o:je,l.minRetryInterval=Ge(a)?a:3e3,l.maxRetryInterval=Ge(c)?c:Fe,l}return t(s[5])(n,e),t(s[6])(n,[{key:"sendRequest",value:function(e){var t=this;return this._nextPolicy.sendRequest(e.clone()).catch(function(n){return Ot(t,e,n.response,n)})}}])})(me);function Ot(e,t,n,r,i){return kt.apply(this,arguments)}function kt(){return(kt=t(s[11])(function*(e,t,n,r,i){if(i=Be(e,i,r),!He(e.retryCount,function(e,t){return!(!t||!t.code||"ETIMEDOUT"!==t.code&&"ESOCKETTIMEDOUT"!==t.code&&"ECONNREFUSED"!==t.code&&"ECONNRESET"!==t.code&&"ENOENT"!==t.code)},i,n,r))return r?Promise.reject(i.error):n;try{return yield We(i.retryInterval),e._nextPolicy.sendRequest(t.clone())}catch(r){return Ot(e,t,n,r,i)}})).apply(this,arguments)}var Pt=ze.HttpConstants.StatusCodes;function Nt(){return{create:function(e,t){return new Mt(e,t)}}}var Dt="The operation was aborted.",Mt=(function(e){function n(e,r,i){var o;return t(s[4])(this,n),(o=u(this,n,[e,r])).numberOfRetries=0,o._handleResponse=i||o._defaultResponseHandler,o}return t(s[5])(n,e),t(s[6])(n,[{key:"sendRequest",value:(function(){var e=t(s[11])(function*(e){var t=yield this._nextPolicy.sendRequest(e.clone());return t.status!==Pt.TooManyRequests&&t.status!==Pt.ServiceUnavailable?t:this._handleResponse(e,t)});return function(t){return e.apply(this,arguments)}})()},{key:"_defaultResponseHandler",value:(function(){var e=t(s[11])(function*(e,t){var r,i=t.headers.get(ze.HeaderConstants.RETRY_AFTER);if(i){var o=n.parseRetryAfterHeader(i);if(o){if(this.numberOfRetries+=1,yield We(o,{abortSignal:e.abortSignal,abortErrorMsg:Dt}),null===(r=e.abortSignal)||void 0===r?void 0:r.aborted)throw new F._(Dt);return this.numberOfRetries<3?this.sendRequest(e):this._nextPolicy.sendRequest(e)}}return t});return function(t,n){return e.apply(this,arguments)}})()}],[{key:"parseRetryAfterHeader",value:function(e){var t=Number(e);return Number.isNaN(t)?n.parseDateRetryAfterHeader(e):1e3*t}},{key:"parseDateRetryAfterHeader",value:function(e){try{var t=Date.now(),n=Date.parse(e)-t;return Number.isNaN(n)?void 0:n}catch(e){return}}}])})(me),xt="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof r.g?r.g:{},Ut="1.4.1",Lt=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,qt=(function(e){var t=new Set([e]),n=new Set,r=e.match(Lt);if(!r)return function(){return!1};var i=+r[1],o=+r[2],s=+r[3];if(null!=r[4])return function(t){return t===e};function a(e){return n.add(e),!1}function c(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var r=e.match(Lt);if(!r)return a(e);var u=+r[1],l=+r[2],d=+r[3];return null!=r[4]||i!==u?a(e):0===i?o===l&&s<=d?c(e):a(e):o<=l?c(e):a(e)}})(Ut),jt=Ut.split(".")[0],Ft=Symbol.for("opentelemetry.js.api."+jt),Gt=xt;function Ht(e,t,n,r){var i;void 0===r&&(r=!1);var o=Gt[Ft]=null!==(i=Gt[Ft])&&void 0!==i?i:{version:Ut};if(!r&&o[e]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(s.stack||s.message),!1}return o.version!==Ut?(s=new Error("@opentelemetry/api: Registration of version v"+o.version+" for "+e+" does not match previously registered API v"+Ut),n.error(s.stack||s.message),!1):(o[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+Ut+"."),!0)}function Bt(e){var t,n,r=null===(t=Gt[Ft])||void 0===t?void 0:t.version;if(r&&qt(r))return null===(n=Gt[Ft])||void 0===n?void 0:n[e]}function zt(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Ut+".");var n=Gt[Ft];n&&delete n[e]}var Vt,Wt=new(function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var i=new e(n._currentContext);return i._currentContext.set(t,r),i},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}}),Kt=(function(){function e(){}return e.prototype.active=function(){return Wt},e.prototype.with=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return t.call.apply(t,(function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))})([n],(function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s})(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e})(),Jt=(function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $t("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $t("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $t("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $t("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $t("verbose",this._namespace,e)},e})();function $t(e,t,n){var r=Bt("diag");if(r)return n.unshift(t),r[e].apply(r,(function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))})([],(function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s})(n),!1))}!(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(Vt||(Vt={}));var Yt,Xt=(function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Bt("diag");if(r)return r[e].apply(r,(function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))})([],(function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s})(t),!1))}}var t=this;t.setLogger=function(e,n){var r,i,o;if(void 0===n&&(n={logLevel:Vt.INFO}),e===t){var s=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(r=s.stack)&&void 0!==r?r:s.message),!1}"number"==typeof n&&(n={logLevel:n});var a=Bt("diag"),c=(function(e,t){function n(n,r){var i=t[n];return"function"==typeof i&&e>=r?i.bind(t):function(){}}return e<Vt.NONE?e=Vt.NONE:e>Vt.ALL&&(e=Vt.ALL),t=t||{},{error:n("error",Vt.ERROR),warn:n("warn",Vt.WARN),info:n("info",Vt.INFO),debug:n("debug",Vt.DEBUG),verbose:n("verbose",Vt.VERBOSE)}})(null!==(i=n.logLevel)&&void 0!==i?i:Vt.INFO,e);if(a&&!n.suppressOverrideMessage){var u=null!==(o=(new Error).stack)&&void 0!==o?o:"<failed to generate stacktrace>";a.warn("Current logger will be overwritten from "+u),c.warn("Current logger will overwrite one already registered from "+u)}return Ht("diag",c,t,!0)},t.disable=function(){zt("diag",t)},t.createComponentLogger=function(e){return new Jt(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e})(),Qt="context",Zt=new Kt,en=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return Ht(Qt,e,Xt.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return(r=this._getContextManager()).with.apply(r,(function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))})([e,t,n],(function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s})(i),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return Bt(Qt)||Zt},e.prototype.disable=function(){this._getContextManager().disable(),zt(Qt,Xt.instance())},e})();!(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(Yt||(Yt={}));var tn="0000000000000000",nn="00000000000000000000000000000000",rn={traceId:nn,spanId:tn,traceFlags:Yt.NONE},on=(function(){function e(e){void 0===e&&(e=rn),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e})(),sn=Symbol.for("OpenTelemetry Context Key SPAN");function an(e){return e.getValue(sn)||void 0}function cn(){return an(en.getInstance().active())}function un(e,t){return e.setValue(sn,t)}function ln(e){return e.deleteValue(sn)}function dn(e,t){return un(e,new on(t))}function pn(e){var t;return null===(t=an(e))||void 0===t?void 0:t.spanContext()}var hn=/^([0-9a-f]{32})$/i,fn=/^[0-9a-f]{16}$/i;function vn(e){return n=e.traceId,hn.test(n)&&n!==nn&&(t=e.spanId,fn.test(t)&&t!==tn);var t,n}function mn(e){return new on(e)}var gn,yn=en.getInstance(),En=(function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=yn.active()),Boolean(null==t?void 0:t.root))return new on;var r,i=n&&pn(n);return"object"==typeof(r=i)&&"string"==typeof r.spanId&&"string"==typeof r.traceId&&"number"==typeof r.traceFlags&&vn(i)?new on(i):new on},e.prototype.startActiveSpan=function(e,t,n,r){var i,o,s;if(!(arguments.length<2)){2===arguments.length?s=t:3===arguments.length?(i=t,s=n):(i=t,o=n,s=r);var a=null!=o?o:yn.active(),c=this.startSpan(e,i,a),u=un(a,c);return yn.with(u,s,void 0,c)}},e})(),Sn=new En,Tn=(function(){function e(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Sn},e})(),Cn=new((function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new En},e})()),bn=(function(){function e(){}return e.prototype.getTracer=function(e,t,n){var r;return null!==(r=this.getDelegateTracer(e,t,n))&&void 0!==r?r:new Tn(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:Cn},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(e,t,n)},e})(),Rn="trace",In=(function(){function e(){this._proxyTracerProvider=new bn,this.wrapSpanContext=mn,this.isSpanContextValid=vn,this.deleteSpan=ln,this.getSpan=an,this.getActiveSpan=cn,this.getSpanContext=pn,this.setSpan=un,this.setSpanContext=dn}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=Ht(Rn,this._proxyTracerProvider,Xt.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return Bt(Rn)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){zt(Rn,Xt.instance()),this._proxyTracerProvider=new bn},e})().getInstance(),An=en.getInstance();function wn(e,t){return In.setSpan(e,t)}!(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(gn||(gn={}));var _n,On=An;function kn(e){return function(t,n){var r,i=In.getTracer("azure/core-tracing",void 0),o=(null==n?void 0:n.tracingOptions)||{},s=Object.assign({kind:gn.INTERNAL},o.spanOptions),a=e.packagePrefix?e.packagePrefix+"."+t:t;r=(function(){var e;if("undefined"==typeof process)return!1;var t=null===(e=process.env.AZURE_TRACING_DISABLED)||void 0===e?void 0:e.toLowerCase();return"false"!==t&&"0"!==t&&Boolean(t)})()?In.wrapSpanContext(rn):i.startSpan(a,s,o.tracingContext),e.namespace&&r.setAttribute("az.namespace",e.namespace);var c=o.spanOptions||{};r.isRecording()&&e.namespace&&(c=Object.assign(Object.assign({},o.spanOptions),{attributes:Object.assign(Object.assign({},s.attributes),{"az.namespace":e.namespace})}));var u=Object.assign(Object.assign({},o),{spanOptions:c,tracingContext:wn(o.tracingContext||On.active(),r)});return{span:r,updatedOptions:Object.assign(Object.assign({},n),{tracingOptions:u})}}}!(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(_n||(_n={}));var Pn=kn({packagePrefix:"",namespace:""});function Nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{create:function(t,n){return new Dn(t,n,e)}}}var Dn=(function(e){function n(e,r,i){var o;return t(s[4])(this,n),(o=u(this,n,[e,r])).userAgent=i.userAgent,o}return t(s[5])(n,e),t(s[6])(n,[{key:"sendRequest",value:(function(){var e=t(s[11])(function*(e){if(!e.tracingContext)return this._nextPolicy.sendRequest(e);var t=this.tryCreateSpan(e);if(!t)return this._nextPolicy.sendRequest(e);try{var n=yield this._nextPolicy.sendRequest(e);return this.tryProcessResponse(t,n),n}catch(e){throw this.tryProcessError(t,e),e}});return function(t){return e.apply(this,arguments)}})()},{key:"tryCreateSpan",value:function(e){var t;try{var n=Pn("HTTP "+e.method,{tracingOptions:{spanOptions:Object.assign(Object.assign({},e.spanOptions),{kind:gn.CLIENT}),tracingContext:e.tracingContext}}).span;if(!n.isRecording())return void n.end();var r=null===(t=e.tracingContext)||void 0===t?void 0:t.getValue(Symbol.for("az.namespace"));"string"==typeof r&&n.setAttribute("az.namespace",r),n.setAttributes({"http.method":e.method,"http.url":e.url,requestId:e.requestId}),this.userAgent&&n.setAttribute("http.user_agent",this.userAgent);var i=n.spanContext(),o=(function(e){var t=[];if(e.traceId||t.push("traceId"),e.spanId||t.push("spanId"),!t.length){var n=(e.traceFlags||0).toString(16),r=1===n.length?"0"+n:n;return"00-"+e.traceId+"-"+e.spanId+"-"+r}})(i);if(o&&(function(e){return In.isSpanContextValid(e)})(i)){e.headers.set("traceparent",o);var s=i.traceState&&i.traceState.serialize();s&&e.headers.set("tracestate",s)}return n}catch(e){return void Je.warning("Skipping creating a tracing span due to an error: "+e.message)}}},{key:"tryProcessError",value:function(e,t){try{e.setStatus({code:_n.ERROR,message:t.message}),t.statusCode&&e.setAttribute("http.status_code",t.statusCode),e.end()}catch(e){Je.warning("Skipping tracing span processing due to an error: "+e.message)}}},{key:"tryProcessResponse",value:function(e,t){try{e.setAttribute("http.status_code",t.status);var n=t.headers.get("x-ms-request-id");n&&e.setAttribute("serviceRequestId",n),e.setStatus({code:_n.OK}),e.end()}catch(e){Je.warning("Skipping tracing span processing due to an error: "+e.message)}}}])})(me),Mn=(function(){return t(s[6])(function e(n,r){var i,o=this;if(t(s[4])(this,e),r||(r={}),this._withCredentials=r.withCredentials||!1,this._httpClient=r.httpClient||(vt||(vt=new oe),vt),this._requestPolicyOptions=new ge(r.httpPipelineLogger),Array.isArray(r.requestPolicyFactories))Je.info("ServiceClient: using custom request policies"),i=r.requestPolicyFactories;else{var a;if(it(n))Je.info("ServiceClient: creating bearer token authentication policy from provided credentials"),a=(function(){var e,t=o,i=r;return{create:function(r,o){var s=(function(e,t){if(null==e?void 0:e.credentialScopes){var n=e.credentialScopes;return Array.isArray(n)?n.map(function(e){return new URL(e).toString()}):new URL(n).toString()}if(t)return t+"/.default"})(i,t.baseUri);if(!s)throw new Error("When using credential, the ServiceClient must contain a baseUri or a credentialScopes in ServiceClientOptions. Unable to create a bearerTokenAuthenticationPolicy");return null==e&&(e=dt(n,s)),e.create(r,o)}}})();else if(n&&"function"==typeof n.signRequest)Je.info("ServiceClient: creating signing policy from provided credentials"),a=It(n);else if(null!=n)throw new Error("The credentials argument must implement the TokenCredential interface");if(Je.info("ServiceClient: using default request policies"),i=(function(e,t){var n=[];t.generateClientRequestIdHeader&&n.push(ft(t.clientRequestIdHeaderName)),e&&n.push(e);var r=xn(t.userAgentHeaderName,ot),i=xn(t.userAgent,st);return r&&i&&n.push(at({key:r,value:i})),n.push(Ue()),n.push((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;return{create:function(t,n){return new Tt(t,n,e)}}})(t.rpRegistrationRetryTimeout)),t.noRetryPolicy||(n.push($e()),n.push(wt()),n.push(Nt())),n.push(Ie(t.deserializationContentTypes)),v&&n.push(St(t.proxySettings)),n.push(et({logger:Je.info})),n})(a,r),r.requestPolicyFactories){var c=r.requestPolicyFactories(i);c&&(i=c)}}this._requestPolicyFactories=i},[{key:"sendRequest",value:function(e){if(null==e||"object"!=typeof e)throw new Error("options cannot be null or undefined and it must be of type object.");var t;try{!(function(e){if(e&&"object"==typeof e){var t=e;if("string"==typeof t.url&&"string"==typeof t.method&&"object"==typeof t.headers&&o(t.headers)&&"function"==typeof t.validateRequestProperties&&"function"==typeof t.prepare&&"function"==typeof t.clone)return!0}return!1})(e)?t=(t=new j).prepare(e):(e.validateRequestProperties(),t=e)}catch(e){return Promise.reject(e)}var n=this._httpClient;if(this._requestPolicyFactories&&this._requestPolicyFactories.length>0)for(var r=this._requestPolicyFactories.length-1;r>=0;--r)n=this._requestPolicyFactories[r].create(n,this._requestPolicyOptions);return n.sendRequest(t)}},{key:"sendOperationRequest",value:(function(){var e=t(s[11])(function*(e,n,r){var i;"function"==typeof e.options&&(r=e.options,e.options=void 0);var o,a=null===(i=e.options)||void 0===i?void 0:i.serializerOptions,c=new j;try{var u=n.baseUrl||this.baseUri;if(!u)throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a baseUri string property that contains the base URL to use.");c.method=n.httpMethod,c.operationSpec=n;var l=H.parse(u);if(n.path&&l.appendPath(n.path),n.urlParameters&&n.urlParameters.length>0)for(var h of n.urlParameters){var f=Ln(this,e,h,n.serializer);f=n.serializer.serialize(h.mapper,f,nt(h),a),h.skipEncoding||(f=encodeURIComponent(f)),l.replaceAll("{"+(h.mapper.serializedName||nt(h))+"}",f)}if(n.queryParameters&&n.queryParameters.length>0)for(var v of n.queryParameters){var m=Ln(this,e,v,n.serializer);if(null!=m){if(m=n.serializer.serialize(v.mapper,m,nt(v),a),void 0!==v.collectionFormat&&null!==v.collectionFormat)if(v.collectionFormat===ct.Multi){if(0===m.length)continue;for(var g in m){var y=m[g];m[g]=null==y?"":y.toString()}}else v.collectionFormat!==ct.Ssv&&v.collectionFormat!==ct.Tsv||(m=m.join(v.collectionFormat));if(!v.skipEncoding)if(Array.isArray(m))for(var E in m)void 0!==m[E]&&null!==m[E]&&(m[E]=encodeURIComponent(m[E]));else m=encodeURIComponent(m);void 0!==v.collectionFormat&&null!==v.collectionFormat&&v.collectionFormat!==ct.Multi&&v.collectionFormat!==ct.Ssv&&v.collectionFormat!==ct.Tsv&&(m=m.join(v.collectionFormat)),l.setQueryParameter(v.mapper.serializedName||nt(v),m)}}c.url=l.toString();var S=n.contentType||this.requestContentType;if(S&&n.requestBody&&c.headers.set("Content-Type",S),n.headerParameters)for(var T of n.headerParameters){var C=Ln(this,e,T,n.serializer);if(null!=C){C=n.serializer.serialize(T.mapper,C,nt(T),a);var b=T.mapper.headerCollectionPrefix;if(b)for(var R of Object.keys(C))c.headers.set(b+R,C[R]);else c.headers.set(T.mapper.serializedName||nt(T),C)}}var I,A,w=e.options;if(w){if(w.customHeaders)for(var _ in w.customHeaders)c.headers.set(_,w.customHeaders[_]);w.abortSignal&&(c.abortSignal=w.abortSignal),w.timeout&&(c.timeout=w.timeout),w.onUploadProgress&&(c.onUploadProgress=w.onUploadProgress),w.onDownloadProgress&&(c.onDownloadProgress=w.onDownloadProgress),w.spanOptions&&(c.spanOptions=w.spanOptions),w.tracingContext&&(c.tracingContext=w.tracingContext),void 0!==w.shouldDeserialize&&null!==w.shouldDeserialize&&(c.shouldDeserialize=w.shouldDeserialize)}c.withCredentials=this._withCredentials,(function(e,n,r,i){var o,a,c,u,l,h,f=null!==(a=null===(o=r.options)||void 0===o?void 0:o.serializerOptions)&&void 0!==a?a:{},v={rootName:null!==(c=f.rootName)&&void 0!==c?c:"",includeRoot:null!==(u=f.includeRoot)&&void 0!==u&&u,xmlCharKey:null!==(l=f.xmlCharKey)&&void 0!==l?l:p},m=f.xmlCharKey;if(i.requestBody&&i.requestBody.mapper){n.body=Ln(e,r,i.requestBody,i.serializer);var g=i.requestBody.mapper,y=g.required,E=g.xmlName,S=g.xmlElementName,T=g.serializedName,C=g.xmlNamespace,b=g.xmlNamespacePrefix,R=g.type.name;try{if(void 0!==n.body&&null!==n.body||y){var I=nt(i.requestBody);n.body=i.serializer.serialize(g,n.body,I,v);var A=R===q.Stream;if(i.isXML){var w=b?"xmlns:"+b:"xmlns",_=(function(e,n,r,i,o){if(e&&!["Composite","Sequence","Dictionary"].includes(r)){var a={};return a[o.xmlCharKey]=i,a[d]=t(s[8])({},n,e),a}return i})(C,w,R,n.body,v);R===q.Sequence?n.body=Ce((function(e,n,r,i){if(Array.isArray(e)||(e=[e]),!r||!i)return t(s[8])({},n,e);var o=t(s[8])({},n,e);return o[d]=t(s[8])({},r,i),o})(_,S||E||T,w,C),{rootName:E||T,xmlCharKey:m}):A||(n.body=Ce(_,{rootName:E||T,xmlCharKey:m}))}else{if(R===q.String&&((null===(h=i.contentType)||void 0===h?void 0:h.match("text/plain"))||"text"===i.mediaType))return;A||(n.body=JSON.stringify(n.body))}}}catch(e){throw new Error("Error \""+e.message+"\" occurred in serializing the payload - "+JSON.stringify(T,void 0,"  ")+".")}}else if(i.formDataParameters&&i.formDataParameters.length>0)for(var O of(n.formData={},i.formDataParameters)){var k=Ln(e,r,O,i.serializer);if(null!=k){var P=O.mapper.serializedName||nt(O);n.formData[P]=i.serializer.serialize(O.mapper,k,nt(O),v)}}})(this,c,e,n),void 0===c.streamResponseStatusCodes&&(c.streamResponseStatusCodes=(function(e){var t=new Set;for(var n in e.responses){var r=e.responses[n];r.bodyMapper&&r.bodyMapper.type.name===q.Stream&&t.add(Number(n))}return t})(n));try{I=yield this.sendRequest(c)}catch(e){A=e}A?(A.response&&(A.details=Fn(A.response,n.responses[A.statusCode]||n.responses.default)),o=Promise.reject(A)):o=Promise.resolve(Fn(I,n.responses[I.status]))}catch(e){o=Promise.reject(e)}var O=r;return O&&o.then(function(e){return O(null,e._response.parsedBody,e._response.request,e._response)}).catch(function(e){return O(e)}),o});return function(t,n,r){return e.apply(this,arguments)}})()}])})();function xn(e,t){var n;return"string"==typeof e?n=e:(n=t(),"function"==typeof e&&(n=e(n))),n}function Un(e,t){var n,r=[];if(e.sendStreamingJson&&r.push({create:function(e,t){return new gt(e,t)}}),e.userAgentOptions&&e.userAgentOptions.userAgentPrefix){var i=[];i.push(e.userAgentOptions.userAgentPrefix);var o=st();-1===i.indexOf(o)&&i.push(o),n=i.join(" ")}var s=Object.assign(Object.assign({},Pe),e.keepAliveOptions),a=Object.assign(Object.assign({},Ye),e.retryOptions),c=Object.assign(Object.assign({},xe),e.redirectOptions);v&&r.push(St(e.proxyOptions));var u=Object.assign(Object.assign({},_e),e.deserializationOptions),l=Object.assign({},e.loggingOptions);return r.push(Nn({userAgent:n}),Ne(s),at({value:n}),ft(),Ie(u.expectedContentTypes),Nt(),wt(),$e(a.maxRetries,a.retryDelayInMs,a.maxRetryDelayInMs)),c.handleRedirects&&r.push(Ue(c.maxRetries)),t&&r.push(t),r.push(et(l)),v&&!1===e.decompressResponse&&r.push(ht()),{httpClient:e.httpClient,requestPolicyFactories:r}}function Ln(e,t,n,r){return qn(e,t,n.parameterPath,n.mapper,r)}function qn(e,t,n,r,i){var o,s;"string"==typeof n&&(n=[n]);var a=null===(o=t.options)||void 0===o?void 0:o.serializerOptions;if(Array.isArray(n)){if(n.length>0){if(r.isConstant)s=r.defaultValue;else{var c=jn(t,n);c.propertyFound||(c=jn(e,n));var u=!1;c.propertyFound||(u=r.required||"options"===n[0]&&2===n.length),s=u?r.defaultValue:c.propertyValue}var l=rt(n,r);i.serialize(r,s,l,a)}}else for(var d in r.required&&(s={}),n){var p=r.type.modelProperties[d],h=n[d],f=qn(e,t,h,p,i),v=rt(h,p);i.serialize(p,f,v,a),null!=f&&(s||(s={}),s[d]=f)}return s}function jn(e,t){for(var n={propertyFound:!1},r=0;r<t.length;++r){var i=t[r];if(null==e||!(i in e))break;e=e[i]}return r===t.length&&(n.propertyValue=e,n.propertyFound=!0),n}function Fn(e,n){var r,i=e.parsedHeaders,o=n&&n.bodyMapper,a=function(t){return Object.defineProperty(t,"_response",{value:e})};if(o){var c=o.type.name;if("Stream"===c)return a(Object.assign(Object.assign({},i),{blobBody:e.blobBody,readableStreamBody:e.readableStreamBody}));var u="Composite"===c&&o.type.modelProperties||{},l=Object.keys(u).some(function(e){return""===u[e].serializedName});if("Sequence"===c||l){var d=t(s[12])(e.parsedBody||[]);for(var p of Object.keys(u))u[p].serializedName&&(d[p]=e.parsedBody[p]);if(i)for(var h of Object.keys(i))d[h]=i[h];return a(d),d}if("Composite"===c||"Dictionary"===c)return a(Object.assign(Object.assign({},i),e.parsedBody))}return o||"HEAD"===e.request.method||"object"!=typeof(r=e.parsedBody)&&"function"!=typeof r||null===r?a(Object.assign(Object.assign({},i),{body:e.parsedBody})):a(Object.assign(Object.assign({},i),e.parsedBody))}function Gn(e){return kn(e)}var Hn=(function(){return t(s[6])(function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12e4;t(s[4])(this,e),this.cachedToken=void 0,this.tokenRefreshBufferMs=n},[{key:"setCachedToken",value:function(e){this.cachedToken=e}},{key:"getCachedToken",value:function(){return this.cachedToken&&Date.now()+this.tokenRefreshBufferMs>=this.cachedToken.expiresOnTimestamp&&(this.cachedToken=void 0),this.cachedToken}}])})(),Bn=(function(){return t(s[6])(function e(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4;t(s[4])(this,e),this.credential=n,this.scopes=r,this.requiredMillisecondsBeforeNewRefresh=i,this.lastCalled=0},[{key:"isReady",value:function(){return!this.lastCalled||Date.now()-this.lastCalled>this.requiredMillisecondsBeforeNewRefresh}},{key:"getToken",value:(function(){var e=t(s[11])(function*(e){this.lastCalled=Date.now();var t=yield this.credential.getToken(this.scopes,e);return this.promise=void 0,t||void 0});return function(t){return e.apply(this,arguments)}})()},{key:"refresh",value:function(e){return this.promise||(this.promise=this.getToken(e)),this.promise}}])})(),zn=ze.HeaderConstants,Vn="Basic",Wn=(function(){return t(s[6])(function e(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vn;if(t(s[4])(this,e),this.authorizationScheme=Vn,null==n||"string"!=typeof n.valueOf())throw new Error("userName cannot be null or undefined and must be of type string.");if(null==r||"string"!=typeof r.valueOf())throw new Error("password cannot be null or undefined and must be of type string.");this.userName=n,this.password=r,this.authorizationScheme=i},[{key:"signRequest",value:function(e){var t=this.userName+":"+this.password,n=this.authorizationScheme+" "+btoa(t);return e.headers||(e.headers=new a),e.headers.set(zn.AUTHORIZATION,n),Promise.resolve(e)}}])})(),Kn=(function(){return t(s[6])(function e(n){if(t(s[4])(this,e),!n||n&&!n.inHeader&&!n.inQuery)throw new Error('options cannot be null or undefined. Either "inHeader" or "inQuery" property of the options object needs to be provided.');this.inHeader=n.inHeader,this.inQuery=n.inQuery},[{key:"signRequest",value:function(e){if(!e)return Promise.reject(new Error('webResource cannot be null or undefined and must be of type "object".'));if(this.inHeader)for(var t in e.headers||(e.headers=new a),this.inHeader)e.headers.set(t,this.inHeader[t]);if(this.inQuery){if(!e.url)return Promise.reject(new Error("url cannot be null in the request object."));for(var n in e.url.indexOf("?")<0&&(e.url+="?"),this.inQuery)e.url.endsWith("?")||(e.url+="&"),e.url+=n+"="+this.inQuery[n]}return Promise.resolve(e)}}])})(),Jn=(function(e){function n(e){if(t(s[4])(this,n),!e||e&&"string"!=typeof e)throw new Error("topicKey cannot be null or undefined and must be of type string.");return u(this,n,[{inHeader:{"aeg-sas-key":e}}])}return t(s[5])(n,e),t(s[6])(n)})(Kn)},901:function(e,t,n){"use strict";n.d(t,{YR:function(){return T}});var r,i="undefined"!=typeof process&&process.env&&process.env.DEBUG||void 0,o=[],s=[],a=[];i&&u(i);var c=Object.assign(function(e){return d(e)},{enable:u,enabled:l,disable:function(){var e=r||"";return u(""),e},log:function(){if(arguments.length>0){var e,t,n,r,i=String(arguments.length<=0?void 0:arguments[0]);i.includes(":error")?(e=console).error.apply(e,arguments):i.includes(":warning")?(t=console).warn.apply(t,arguments):i.includes(":info")?(n=console).info.apply(n,arguments):(i.includes(":verbose"),(r=console).debug.apply(r,arguments))}}});function u(e){r=e,o=[],s=[];var t=/\*/g,n=e.split(",").map(function(e){return e.trim().replace(t,".*?")});for(var i of n)i.startsWith("-")?s.push(new RegExp("^"+i.substr(1)+"$")):o.push(new RegExp("^"+i+"$"));for(var c of a)c.enabled=l(c.namespace)}function l(e){if(e.endsWith("*"))return!0;for(var t of s)if(t.test(e))return!1;for(var n of o)if(n.test(e))return!0;return!1}function d(e){var t=Object.assign(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.enabled&&(r.length>0&&(r[0]=e+" "+r[0]),t.log.apply(t,r))},{enabled:l(e),destroy:p,log:c.log,namespace:e,extend:h});return a.push(t),t}function p(){var e=a.indexOf(this);return e>=0&&(a.splice(e,1),!0)}function h(e){var t=d(this.namespace+":"+e);return t.log=this.log,t}var f,v=c,m=new Set,g="undefined"!=typeof process&&process.env&&process.env.AZURE_LOG_LEVEL||void 0,y=v("azure");y.log=function(){v.log.apply(v,arguments)};var E=["verbose","info","warning","error"];g&&(I(g)?(function(e){if(e&&!I(e))throw new Error("Unknown log level '"+e+"'. Acceptable values: "+E.join(","));f=e;var t=[];for(var n of m)R(n)&&t.push(n.namespace);v.enable(t.join(","))})(g):console.error("AZURE_LOG_LEVEL set to unknown log level '"+g+"'; logging is not enabled. Acceptable values: "+E.join(", ")+"."));var S={verbose:400,info:300,warning:200,error:100};function T(e){var t=y.extend(e);return C(y,t),{error:b(t,"error"),warning:b(t,"warning"),info:b(t,"info"),verbose:b(t,"verbose")}}function C(e,t){t.log=function(){e.log.apply(e,arguments)}}function b(e,t){var n=Object.assign(e.extend(t),{level:t});if(C(e,n),R(n)){var r=v.disable();v.enable(r+","+n.namespace)}return m.add(n),n}function R(e){return Boolean(f&&S[e.level]<=S[f])}function I(e){return E.includes(e)}},7187:function(e){"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&(function(e,t,n){"function"==typeof e.on&&v(e,"error",t,{once:!0})})(e,i)})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,o,s,u;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?(function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t})(i):f(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)})}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var u=c.length,l=f(c,u);for(n=0;n<u;++n)r(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():(function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()})(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},8652:function(e){var t="undefined"!=typeof window?window:self;e.exports=t.crypto||t.msCrypto},5499:function(e,t,n){e.exports=(function(e){if(!e)return Math.random;var t=Math.pow(2,32),n=new Uint32Array(1);return function(){return e.getRandomValues(n)[0]/t}})(n(8652))},4586:function(e,t,n){"use strict";var r;n.d(t,{Z:function(){return l}});var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}for(var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,a=[],c=0;c<256;++c)a.push((c+256).toString(16).substr(1));var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase();if(!(function(e){return"string"==typeof e&&s.test(e)})(n))throw TypeError("Stringified UUID is invalid");return n},l=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return u(r)}},8458:function(e,t,n){"use strict";n(752),n(228),n(3964),n(1694),n(5530),n(5694),n(7815),n(9029),n(6237),n(1954),n(7152),n(9667),n(9118),n(3256),n(5625),n(914),n(4494),n(9468),n(6265);var r=n(496);e.exports=r.AsyncIterator},7467:function(e,t,n){"use strict";var r=n(2877);e.exports=r},7309:function(e,t,n){"use strict";var r=n(1491);n(4947),n(546),n(2586),n(8134),e.exports=r},8587:function(e,t,n){"use strict";n(6101);var r=n(496);e.exports=r.Object.is},1666:function(e,t,n){"use strict";n(4338),n(228),n(9749),n(8373),n(6544),n(6157),n(2529),n(4254),n(4155),n(3531),n(5906),n(549),n(6285),n(8200),n(9373),n(6793),n(4578),n(7629),n(7509),n(6034);var r=n(496);e.exports=r.Symbol},3300:function(e,t,n){"use strict";n(1473)},4187:function(e,t,n){"use strict";e.exports=n(9861)},323:function(e,t,n){"use strict";e.exports=n(5840)},9946:function(e,t,n){"use strict";n(6574)},1473:function(e,t,n){"use strict";var r=n(8458);n(7299),n(2411),e.exports=r},9861:function(e,t,n){"use strict";var r=n(7467);e.exports=r},5840:function(e,t,n){"use strict";n(6314),n(4767),n(228),n(1694),n(6265);var r=n(496);e.exports=r.Observable},6574:function(e,t,n){"use strict";var r=n(7309);n(6019),n(5749),n(8799),n(4767),n(5010),n(4835),n(7041),n(2981),n(5044),e.exports=r},509:function(e,t,n){"use strict";var r=n(9985),i=n(3691),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a function")}},2655:function(e,t,n){"use strict";var r=n(9429),i=n(3691),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a constructor")}},3550:function(e,t,n){"use strict";var r=n(9985),i=String,o=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw new o("Can't set "+i(e)+" as a prototype")}},7370:function(e,t,n){"use strict";var r=n(4201),i=n(5391),o=n(2560).f,s=r("unscopables"),a=Array.prototype;void 0===a[s]&&o(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},767:function(e,t,n){"use strict";var r=n(3622),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new i("Incorrect invocation")}},5027:function(e,t,n){"use strict";var r=n(8999),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not an object")}},4328:function(e,t,n){"use strict";var r=n(5290),i=n(7578),o=n(6310),s=function(e){return function(t,n,s){var a,c=r(t),u=o(c),l=i(s,u);if(e&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},2960:function(e,t,n){"use strict";var r=n(4071),i=n(8844),o=n(4413),s=n(690),a=n(6310),c=n(7120),u=i([].push),l=function(e){var t=1===e,n=2===e,i=3===e,l=4===e,d=6===e,p=7===e,h=5===e||d;return function(f,v,m,g){for(var y,E,S=s(f),T=o(S),C=a(T),b=r(v,m),R=0,I=g||c,A=t?I(f,C):n||p?I(f,0):void 0;C>R;R++)if((h||R in T)&&(E=b(y=T[R],R,S),e))if(t)A[R]=E;else if(E)switch(e){case 3:return!0;case 5:return y;case 6:return R;case 2:u(A,y)}else switch(e){case 4:return!1;case 7:u(A,y)}return d?-1:i||l?l:A}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},9042:function(e,t,n){"use strict";var r=n(3689),i=n(4201),o=n(3615),s=i("species");e.exports=function(e){return o>=51||!r(function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},9015:function(e,t,n){"use strict";var r=n(7578),i=n(6310),o=n(6522),s=Array,a=Math.max;e.exports=function(e,t,n){for(var c=i(e),u=r(t,c),l=r(void 0===n?c:n,c),d=s(a(l-u,0)),p=0;u<l;u++,p++)o(d,p,e[u]);return d.length=p,d}},6004:function(e,t,n){"use strict";var r=n(8844);e.exports=r([].slice)},5271:function(e,t,n){"use strict";var r=n(2297),i=n(9429),o=n(8999),s=n(4201)("species"),a=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===a||r(t.prototype))||o(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?a:t}},7120:function(e,t,n){"use strict";var r=n(5271);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},9019:function(e,t,n){"use strict";var r=n(2615),i=n(5027),o=n(5391),s=n(4849),a=n(6045),c=n(618),u=n(6058),l=n(3070),d=n(7807),p=u("Promise"),h="AsyncFromSyncIterator",f=c.set,v=c.getterFor(h),m=function(e,t,n){var r=e.done;p.resolve(e.value).then(function(e){t(d(e,r))},n)},g=function(e){e.type=h,f(this,e)};g.prototype=a(o(l),{next:function(){var e=v(this);return new p(function(t,n){var o=i(r(e.next,e.iterator));m(o,t,n)})},return:function(){var e=v(this).iterator;return new p(function(t,n){var o=s(e,"return");if(void 0===o)return t(d(void 0,!0));var a=i(r(o,e));m(a,t,n)})}}),e.exports=g},2399:function(e,t,n){"use strict";var r=n(2615),i=n(6058),o=n(4849);e.exports=function(e,t,n,s){try{var a=o(e,"return");if(a)return i("Promise").resolve(r(a,e)).then(function(){t(n)},function(e){s(e)})}catch(e){return s(e)}t(n)}},7394:function(e,t,n){"use strict";var r=n(2615),i=n(9302),o=n(5027),s=n(5391),a=n(5773),c=n(6045),u=n(4201),l=n(618),d=n(6058),p=n(4849),h=n(3070),f=n(7807),v=n(2125),m=d("Promise"),g=u("toStringTag"),y="AsyncIteratorHelper",E="WrapForValidAsyncIterator",S=l.set,T=function(e){var t=!e,n=l.getterFor(e?E:y),a=function(e){var r=i(function(){return n(e)}),o=r.error,s=r.value;return o||t&&s.done?{exit:!0,value:o?m.reject(s):m.resolve(f(void 0,!0))}:{exit:!1,value:s}};return c(s(h),{next:function(){var e=a(this),t=e.value;if(e.exit)return t;var n=i(function(){return o(t.nextHandler(m))}),r=n.error,s=n.value;return r&&(t.done=!0),r?m.reject(s):m.resolve(s)},return:function(){var t=a(this),n=t.value;if(t.exit)return n;n.done=!0;var s,c,u=n.iterator,l=i(function(){if(n.inner)try{v(n.inner.iterator,"normal")}catch(e){return v(u,"throw",e)}return p(u,"return")});return s=c=l.value,l.error?m.reject(c):void 0===s?m.resolve(f(void 0,!0)):(c=(l=i(function(){return r(s,u)})).value,l.error?m.reject(c):e?m.resolve(c):m.resolve(c).then(function(e){return o(e),f(void 0,!0)}))}})},C=T(!0),b=T(!1);a(b,g,"Async Iterator Helper"),e.exports=function(e,t){var n=function(n,r){r?(r.iterator=n.iterator,r.next=n.next):r=n,r.type=t?E:y,r.nextHandler=e,r.counter=0,r.done=!1,S(this,r)};return n.prototype=t?C:b,n}},164:function(e,t,n){"use strict";var r=n(2615),i=n(2412),o=function(e,t){return[t,e]};e.exports=function(){return r(i,this,o)}},2489:function(e,t,n){"use strict";var r=n(2615),i=n(509),o=n(5027),s=n(8999),a=n(5565),c=n(6058),u=n(2302),l=n(2399),d=function(e){var t=0===e,n=1===e,d=2===e,p=3===e;return function(e,h,f){o(e);var v=void 0!==h;!v&&t||i(h);var m=u(e),g=c("Promise"),y=m.iterator,E=m.next,S=0;return new g(function(e,i){var c=function(e){l(y,i,e,i)},u=function(){try{if(v)try{a(S)}catch(e){c(e)}g.resolve(o(r(E,y))).then(function(r){try{if(o(r).done)t?(f.length=S,e(f)):e(!p&&(d||void 0));else{var a=r.value;try{if(v){var m=h(a,S),E=function(r){if(n)u();else if(d)r?u():l(y,e,!1,i);else if(t)try{f[S++]=r,u()}catch(e){c(e)}else r?l(y,e,p||a,i):u()};s(m)?g.resolve(m).then(E,c):E(m)}else f[S++]=a,u()}catch(e){c(e)}}}catch(e){i(e)}},i)}catch(e){i(e)}};u()})}};e.exports={toArray:d(0),forEach:d(1),every:d(2),some:d(3),find:d(4)}},2412:function(e,t,n){"use strict";var r=n(2615),i=n(509),o=n(5027),s=n(8999),a=n(2302),c=n(7394),u=n(7807),l=n(2399),d=c(function(e){var t=this,n=t.iterator,i=t.mapper;return new e(function(a,c){var d=function(e){t.done=!0,c(e)},p=function(e){l(n,d,e,d)};e.resolve(o(r(t.next,n))).then(function(n){try{if(o(n).done)t.done=!0,a(u(void 0,!0));else{var r=n.value;try{var c=i(r,t.counter++),l=function(e){a(u(e,!1))};s(c)?e.resolve(c).then(l,p):l(c)}catch(e){p(e)}}}catch(e){d(e)}},d)})});e.exports=function(e){return o(this),i(e),new d(a(this),{mapper:e})}},3070:function(e,t,n){"use strict";var r,i,o=n(9037),s=n(4091),a=n(9985),c=n(5391),u=n(1868),l=n(1880),d=n(4201),p=n(3931),h="USE_FUNCTION_CONSTRUCTOR",f=d("asyncIterator"),v=o.AsyncIterator,m=s.AsyncIteratorPrototype;if(m)r=m;else if(a(v))r=v.prototype;else if(s[h]||o[h])try{u(i=u(u(u(Function("return async function*(){}()")()))))===Object.prototype&&(r=i)}catch(e){}r?p&&(r=c(r)):r={},a(r[f])||l(r,f,function(){return this}),e.exports=r},219:function(e,t,n){"use strict";var r=n(2615),i=n(7394);e.exports=i(function(){return r(this.next,this.iterator)},!0)},6431:function(e,t,n){"use strict";var r=n(4201)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,function(){throw 2})}catch(e){}e.exports=function(e,t){try{if(!t&&!i)return!1}catch(e){return!1}var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},6648:function(e,t,n){"use strict";var r=n(8844),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},926:function(e,t,n){"use strict";var r=n(3043),i=n(9985),o=n(6648),s=n(4201)("toStringTag"),a=Object,c="Arguments"===o((function(){return arguments})());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(function(e,t){try{return e[t]}catch(e){}})(t=a(e),s))?n:c?o(t):"Object"===(r=o(t))&&i(t.callee)?"Arguments":r}},8758:function(e,t,n){"use strict";var r=n(6812),i=n(9152),o=n(2474),s=n(2560);e.exports=function(e,t,n){for(var a=i(t),c=s.f,u=o.f,l=0;l<a.length;l++){var d=a[l];r(e,d)||n&&r(n,d)||c(e,d,u(t,d))}}},1748:function(e,t,n){"use strict";var r=n(3689);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},7807:function(e){"use strict";e.exports=function(e,t){return{value:e,done:t}}},5773:function(e,t,n){"use strict";var r=n(7697),i=n(2560),o=n(5684);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},5684:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6522:function(e,t,n){"use strict";var r=n(8360),i=n(2560),o=n(5684);e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},2148:function(e,t,n){"use strict";var r=n(8702),i=n(2560);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},1880:function(e,t,n){"use strict";var r=n(9985),i=n(2560),o=n(8702),s=n(5014);e.exports=function(e,t,n,a){a||(a={});var c=a.enumerable,u=void 0!==a.name?a.name:t;if(r(n)&&o(n,u,a),a.global)c?e[t]=n:s(t,n);else{try{a.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},6045:function(e,t,n){"use strict";var r=n(1880);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},5014:function(e,t,n){"use strict";var r=n(9037),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},7697:function(e,t,n){"use strict";var r=n(3689);e.exports=!r(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},2659:function(e){"use strict";var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},6420:function(e,t,n){"use strict";var r=n(9037),i=n(8999),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},5565:function(e){"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},6338:function(e){"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3265:function(e,t,n){"use strict";var r=n(6420)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},2532:function(e,t,n){"use strict";var r=n(8563),i=n(806);e.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},8563:function(e){"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},3221:function(e,t,n){"use strict";var r=n(71);e.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},4764:function(e,t,n){"use strict";var r=n(71);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},806:function(e,t,n){"use strict";var r=n(9037),i=n(6648);e.exports="process"===i(r.process)},7486:function(e,t,n){"use strict";var r=n(71);e.exports=/web0s(?!.*chrome)/i.test(r)},71:function(e){"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3615:function(e,t,n){"use strict";var r,i,o=n(9037),s=n(71),a=o.process,c=o.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},2739:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9989:function(e,t,n){"use strict";var r=n(9037),i=n(2474).f,o=n(5773),s=n(1880),a=n(5014),c=n(8758),u=n(5266);e.exports=function(e,t){var n,l,d,p,h,f=e.target,v=e.global,m=e.stat;if(n=v?r:m?r[f]||a(f,{}):(r[f]||{}).prototype)for(l in t){if(p=t[l],d=e.dontCallGetSet?(h=i(n,l))&&h.value:n[l],!u(v?l:f+(m?".":"#")+l,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;c(p,d)}(e.sham||d&&d.sham)&&o(p,"sham",!0),s(n,l,p,e)}}},3689:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},1735:function(e,t,n){"use strict";var r=n(7215),i=Function.prototype,o=i.apply,s=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(o):function(){return s.apply(o,arguments)})},4071:function(e,t,n){"use strict";var r=n(6576),i=n(509),o=n(7215),s=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?s(e,t):function(){return e.apply(t,arguments)}}},7215:function(e,t,n){"use strict";var r=n(3689);e.exports=!r(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})},2615:function(e,t,n){"use strict";var r=n(7215),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},1236:function(e,t,n){"use strict";var r=n(7697),i=n(6812),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&"something"===function(){}.name,u=a&&(!r||r&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},2743:function(e,t,n){"use strict";var r=n(8844),i=n(509);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},6576:function(e,t,n){"use strict";var r=n(6648),i=n(8844);e.exports=function(e){if("Function"===r(e))return i(e)}},8844:function(e,t,n){"use strict";var r=n(7215),i=Function.prototype,o=i.call,s=r&&i.bind.bind(o,o);e.exports=r?s:function(e){return function(){return o.apply(e,arguments)}}},1427:function(e,t,n){"use strict";var r=n(2615),i=n(9985),o=n(5027),s=n(2302),a=n(1664),c=n(4849),u=n(4201),l=n(9019),d=u("asyncIterator");e.exports=function(e){var t,n=o(e),u=!0,p=c(n,d);return i(p)||(p=a(n),u=!1),void 0!==p?t=r(p,n):(t=n,u=!0),o(t),s(u?t:new l(s(t)))}},6058:function(e,t,n){"use strict";var r=n(9037),i=n(9985);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},2302:function(e){"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},1664:function(e,t,n){"use strict";var r=n(926),i=n(4849),o=n(981),s=n(9478),a=n(4201)("iterator");e.exports=function(e){if(!o(e))return i(e,a)||i(e,"@@iterator")||s[r(e)]}},5185:function(e,t,n){"use strict";var r=n(2615),i=n(509),o=n(5027),s=n(3691),a=n(1664),c=TypeError;e.exports=function(e,t){var n=arguments.length<2?a(e):t;if(i(n))return o(r(n,e));throw new c(s(e)+" is not iterable")}},2643:function(e,t,n){"use strict";var r=n(8844),i=n(2297),o=n(9985),s=n(6648),a=n(4327),c=r([].push);e.exports=function(e){if(o(e))return e;if(i(e)){for(var t=e.length,n=[],r=0;r<t;r++){var u=e[r];"string"==typeof u?c(n,u):"number"!=typeof u&&"Number"!==s(u)&&"String"!==s(u)||c(n,a(u))}var l=n.length,d=!0;return function(e,t){if(d)return d=!1,t;if(i(this))return t;for(var r=0;r<l;r++)if(n[r]===e)return t}}}},4849:function(e,t,n){"use strict";var r=n(509),i=n(981);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},9037:function(e,t,n){"use strict";var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||(function(){return this})()||Function("return this")()},6812:function(e,t,n){"use strict";var r=n(8844),i=n(690),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},7248:function(e){"use strict";e.exports={}},920:function(e){"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},2688:function(e,t,n){"use strict";var r=n(6058);e.exports=r("document","documentElement")},8506:function(e,t,n){"use strict";var r=n(7697),i=n(3689),o=n(6420);e.exports=!r&&!i(function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},4413:function(e,t,n){"use strict";var r=n(8844),i=n(3689),o=n(6648),s=Object,a=r("".split);e.exports=i(function(){return!s("z").propertyIsEnumerable(0)})?function(e){return"String"===o(e)?a(e,""):s(e)}:s},6738:function(e,t,n){"use strict";var r=n(8844),i=n(9985),o=n(4091),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},618:function(e,t,n){"use strict";var r,i,o,s=n(9834),a=n(9037),c=n(8999),u=n(5773),l=n(6812),d=n(4091),p=n(2713),h=n(7248),f="Object already initialized",v=a.TypeError,m=a.WeakMap;if(s||d.state){var g=d.state||(d.state=new m);g.get=g.get,g.has=g.has,g.set=g.set,r=function(e,t){if(g.has(e))throw new v(f);return t.facade=e,g.set(e,t),t},i=function(e){return g.get(e)||{}},o=function(e){return g.has(e)}}else{var y=p("state");h[y]=!0,r=function(e,t){if(l(e,y))throw new v(f);return t.facade=e,u(e,y,t),t},i=function(e){return l(e,y)?e[y]:{}},o=function(e){return l(e,y)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw new v("Incompatible receiver, "+e+" required");return n}}}},3292:function(e,t,n){"use strict";var r=n(4201),i=n(9478),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},2297:function(e,t,n){"use strict";var r=n(6648);e.exports=Array.isArray||function(e){return"Array"===r(e)}},9985:function(e,t,n){"use strict";var r=n(2659),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},9429:function(e,t,n){"use strict";var r=n(8844),i=n(3689),o=n(9985),s=n(926),a=n(6058),c=n(6738),u=function(){},l=[],d=a("Reflect","construct"),p=/^\s*(?:class|function)\b/,h=r(p.exec),f=!p.test(u),v=function(e){if(!o(e))return!1;try{return d(u,l,e),!0}catch(e){return!1}},m=function(e){if(!o(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!h(p,c(e))}catch(e){return!0}};m.sham=!0,e.exports=!d||i(function(){var e;return v(v.call)||!v(Object)||!v(function(){e=!0})||e})?m:v},5266:function(e,t,n){"use strict";var r=n(3689),i=n(9985),o=/#|\.prototype\./,s=function(e,t){var n=c[a(e)];return n===l||n!==u&&(i(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},981:function(e){"use strict";e.exports=function(e){return null==e}},8999:function(e,t,n){"use strict";var r=n(9985),i=n(2659),o=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===o}:function(e){return"object"==typeof e?null!==e:r(e)}},3931:function(e){"use strict";e.exports=!1},734:function(e,t,n){"use strict";var r=n(6058),i=n(9985),o=n(3622),s=n(9525),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,a(e))}},8734:function(e,t,n){"use strict";var r=n(4071),i=n(2615),o=n(5027),s=n(3691),a=n(3292),c=n(6310),u=n(3622),l=n(5185),d=n(1664),p=n(2125),h=TypeError,f=function(e,t){this.stopped=e,this.result=t},v=f.prototype;e.exports=function(e,t,n){var m,g,y,E,S,T,C,b=n&&n.that,R=!(!n||!n.AS_ENTRIES),I=!(!n||!n.IS_RECORD),A=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),_=r(t,b),O=function(e){return m&&p(m,"normal",e),new f(!0,e)},k=function(e){return R?(o(e),w?_(e[0],e[1],O):_(e[0],e[1])):w?_(e,O):_(e)};if(I)m=e.iterator;else if(A)m=e;else{if(!(g=d(e)))throw new h(s(e)+" is not iterable");if(a(g)){for(y=0,E=c(e);E>y;y++)if((S=k(e[y]))&&u(v,S))return S;return new f(!1)}m=l(e,g)}for(T=I?e.next:m.next;!(C=i(T,m)).done;){try{S=k(C.value)}catch(e){p(m,"throw",e)}if("object"==typeof S&&S&&u(v,S))return S}return new f(!1)}},2125:function(e,t,n){"use strict";var r=n(2615),i=n(5027),o=n(4849);e.exports=function(e,t,n){var s,a;i(e);try{if(!(s=o(e,"return"))){if("throw"===t)throw n;return n}s=r(s,e)}catch(e){a=!0,s=e}if("throw"===t)throw n;if(a)throw s;return i(s),n}},974:function(e,t,n){"use strict";var r=n(2013).IteratorPrototype,i=n(5391),o=n(5684),s=n(5997),a=n(9478),c=function(){return this};e.exports=function(e,t,n,u){var l=t+" Iterator";return e.prototype=i(r,{next:o(+!u,n)}),s(e,l,!1,!0),a[l]=c,e}},1934:function(e,t,n){"use strict";var r=n(9989),i=n(2615),o=n(3931),s=n(1236),a=n(9985),c=n(974),u=n(1868),l=n(9385),d=n(5997),p=n(5773),h=n(1880),f=n(4201),v=n(9478),m=n(2013),g=s.PROPER,y=s.CONFIGURABLE,E=m.IteratorPrototype,S=m.BUGGY_SAFARI_ITERATORS,T=f("iterator"),C="keys",b="values",R="entries",I=function(){return this};e.exports=function(e,t,n,s,f,m,A){c(n,t,s);var w,_,O,k=function(e){if(e===f&&x)return x;if(!S&&e&&e in D)return D[e];switch(e){case C:case b:case R:return function(){return new n(this,e)}}return function(){return new n(this)}},P=t+" Iterator",N=!1,D=e.prototype,M=D[T]||D["@@iterator"]||f&&D[f],x=!S&&M||k(f),U="Array"===t&&D.entries||M;if(U&&(w=u(U.call(new e)))!==Object.prototype&&w.next&&(o||u(w)===E||(l?l(w,E):a(w[T])||h(w,T,I)),d(w,P,!0,!0),o&&(v[P]=I)),g&&f===b&&M&&M.name!==b&&(!o&&y?p(D,"name",b):(N=!0,x=function(){return i(M,this)})),f)if(_={values:k(b),keys:m?x:k(C),entries:k(R)},A)for(O in _)(S||N||!(O in D))&&h(D,O,_[O]);else r({target:t,proto:!0,forced:S||N},_);return o&&!A||D[T]===x||h(D,T,x,{name:f}),v[t]=x,_}},2013:function(e,t,n){"use strict";var r,i,o,s=n(3689),a=n(9985),c=n(8999),u=n(5391),l=n(1868),d=n(1880),p=n(4201),h=n(3931),f=p("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(r=i):v=!0),!c(r)||s(function(){var e={};return r[f].call(e)!==e})?r={}:h&&(r=u(r)),a(r[f])||d(r,f,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},9478:function(e){"use strict";e.exports={}},6310:function(e,t,n){"use strict";var r=n(3126);e.exports=function(e){return r(e.length)}},8702:function(e,t,n){"use strict";var r=n(8844),i=n(3689),o=n(9985),s=n(6812),a=n(7697),c=n(1236).CONFIGURABLE,u=n(6738),l=n(618),d=l.enforce,p=l.get,h=String,f=Object.defineProperty,v=r("".slice),m=r("".replace),g=r([].join),y=a&&!i(function(){return 8!==f(function(){},"length",{value:8}).length}),E=String(String).split("String"),S=e.exports=function(e,t,n){"Symbol("===v(h(t),0,7)&&(t="["+m(h(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||c&&e.name!==t)&&(a?f(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&s(n,"arity")&&e.length!==n.arity&&f(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=d(e);return s(r,"source")||(r.source=g(E,"string"==typeof t?t:"")),e};Function.prototype.toString=S(function(){return o(this)&&p(this).source||u(this)},"toString")},8828:function(e){"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},231:function(e,t,n){"use strict";var r,i,o,s,a,c=n(9037),u=n(4071),l=n(2474).f,d=n(9886).set,p=n(4410),h=n(4764),f=n(3221),v=n(7486),m=n(806),g=c.MutationObserver||c.WebKitMutationObserver,y=c.document,E=c.process,S=c.Promise,T=l(c,"queueMicrotask"),C=T&&T.value;if(!C){var b=new p,R=function(){var e,t;for(m&&(e=E.domain)&&e.exit();t=b.get();)try{t()}catch(e){throw b.head&&r(),e}e&&e.enter()};h||m||v||!g||!y?!f&&S&&S.resolve?((s=S.resolve(void 0)).constructor=S,a=u(s.then,s),r=function(){a(R)}):m?r=function(){E.nextTick(R)}:(d=u(d,c),r=function(){d(R)}):(i=!0,o=y.createTextNode(""),new g(R).observe(o,{characterData:!0}),r=function(){o.data=i=!i}),C=function(e){b.head||r(),b.add(e)}}e.exports=C},8742:function(e,t,n){"use strict";var r=n(509),i=TypeError,o=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw new i("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},4654:function(e){"use strict";var t=RangeError;e.exports=function(e){if(e==e)return e;throw new t("NaN is not allowed")}},5391:function(e,t,n){"use strict";var r,i=n(5027),o=n(8920),s=n(2739),a=n(7248),c=n(2688),u=n(6420),l=n(2713),d="prototype",p=l("IE_PROTO"),h=function(){},f=function(e){return"<script>"+e+"<\/script>"},v=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;m="undefined"!=typeof document?document.domain&&r?v(r):("javascript:",(t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):v(r);for(var n=s.length;n--;)delete m[d][s[n]];return m()};a[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h[d]=i(e),n=new h,h[d]=null,n[p]=e):n=m(),void 0===t?n:o.f(n,t)}},8920:function(e,t,n){"use strict";var r=n(7697),i=n(5648),o=n(2560),s=n(5027),a=n(5290),c=n(300);t.f=r&&!i?Object.defineProperties:function(e,t){s(e);for(var n,r=a(t),i=c(t),u=i.length,l=0;u>l;)o.f(e,n=i[l++],r[n]);return e}},2560:function(e,t,n){"use strict";var r=n(7697),i=n(8506),o=n(5648),s=n(5027),a=n(8360),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",h="writable";t.f=r?o?function(e,t,n){if(s(e),t=a(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&h in n&&!n[h]){var r=l(e,t);r&&r[h]&&(e[t]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:d in n?n[d]:r[d],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(s(e),t=a(t),s(n),i)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},2474:function(e,t,n){"use strict";var r=n(7697),i=n(2615),o=n(9556),s=n(5684),a=n(5290),c=n(8360),u=n(6812),l=n(8506),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=a(e),t=c(t),l)try{return d(e,t)}catch(e){}if(u(e,t))return s(!i(o.f,e,t),e[t])}},6062:function(e,t,n){"use strict";var r=n(6648),i=n(5290),o=n(2741).f,s=n(9015),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"Window"===r(e)?(function(e){try{return o(e)}catch(e){return s(a)}})(e):o(i(e))}},2741:function(e,t,n){"use strict";var r=n(4948),i=n(2739).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},7518:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},1868:function(e,t,n){"use strict";var r=n(6812),i=n(9985),o=n(690),s=n(2713),a=n(1748),c=s("IE_PROTO"),u=Object,l=u.prototype;e.exports=a?u.getPrototypeOf:function(e){var t=o(e);if(r(t,c))return t[c];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof u?l:null}},3622:function(e,t,n){"use strict";var r=n(8844);e.exports=r({}.isPrototypeOf)},4948:function(e,t,n){"use strict";var r=n(8844),i=n(6812),o=n(5290),s=n(4328).indexOf,a=n(7248),c=r([].push);e.exports=function(e,t){var n,r=o(e),u=0,l=[];for(n in r)!i(a,n)&&i(r,n)&&c(l,n);for(;t.length>u;)i(r,n=t[u++])&&(~s(l,n)||c(l,n));return l}},300:function(e,t,n){"use strict";var r=n(4948),i=n(2739);e.exports=Object.keys||function(e){return r(e,i)}},9556:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},9385:function(e,t,n){"use strict";var r=n(2743),i=n(5027),o=n(3550);e.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}})():void 0)},5073:function(e,t,n){"use strict";var r=n(3043),i=n(926);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},5899:function(e,t,n){"use strict";var r=n(2615),i=n(9985),o=n(8999),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&i(n=e.toString)&&!o(a=r(n,e)))return a;if(i(n=e.valueOf)&&!o(a=r(n,e)))return a;if("string"!==t&&i(n=e.toString)&&!o(a=r(n,e)))return a;throw new s("Can't convert object to primitive value")}},9152:function(e,t,n){"use strict";var r=n(6058),i=n(8844),o=n(2741),s=n(7518),a=n(5027),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=s.f;return n?c(t,n(e)):t}},496:function(e,t,n){"use strict";var r=n(9037);e.exports=r},9302:function(e){"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},7073:function(e,t,n){"use strict";var r=n(9037),i=n(7919),o=n(9985),s=n(5266),a=n(6738),c=n(4201),u=n(2532),l=n(8563),d=n(3931),p=n(3615),h=i&&i.prototype,f=c("species"),v=!1,m=o(r.PromiseRejectionEvent),g=s("Promise",function(){var e=a(i),t=e!==String(i);if(!t&&66===p)return!0;if(d&&(!h.catch||!h.finally))return!0;if(!p||p<51||!/native code/.test(e)){var n=new i(function(e){e(1)}),r=function(e){e(function(){},function(){})};if((n.constructor={})[f]=r,!(v=n.then(function(){})instanceof r))return!0}return!t&&(u||l)&&!m});e.exports={CONSTRUCTOR:g,REJECTION_EVENT:m,SUBCLASSING:v}},7919:function(e,t,n){"use strict";var r=n(9037);e.exports=r.Promise},2945:function(e,t,n){"use strict";var r=n(5027),i=n(8999),o=n(8742);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},562:function(e,t,n){"use strict";var r=n(7919),i=n(6431),o=n(7073).CONSTRUCTOR;e.exports=o||!i(function(e){r.all(e).then(void 0,function(){})})},4410:function(e){"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},4684:function(e,t,n){"use strict";var r=n(981),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},953:function(e){"use strict";e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},4241:function(e,t,n){"use strict";var r=n(6058),i=n(2148),o=n(4201),s=n(7697),a=o("species");e.exports=function(e){var t=r(e);s&&t&&!t[a]&&i(t,a,{configurable:!0,get:function(){return this}})}},5997:function(e,t,n){"use strict";var r=n(2560).f,i=n(6812),o=n(4201)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},2713:function(e,t,n){"use strict";var r=n(3430),i=n(4630),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},4091:function(e,t,n){"use strict";var r=n(9037),i=n(5014),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},3430:function(e,t,n){"use strict";var r=n(3931),i=n(4091);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.34.0",mode:r?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6373:function(e,t,n){"use strict";var r=n(5027),i=n(2655),o=n(981),s=n(4201)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||o(n=r(a)[s])?t:i(n)}},730:function(e,t,n){"use strict";var r=n(8844),i=n(8700),o=n(4327),s=n(4684),a=r("".charAt),c=r("".charCodeAt),u=r("".slice),l=function(e){return function(t,n){var r,l,d=o(s(t)),p=i(n),h=d.length;return p<0||p>=h?e?"":void 0:(r=c(d,p))<55296||r>56319||p+1===h||(l=c(d,p+1))<56320||l>57343?e?a(d,p):r:e?u(d,p,p+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},146:function(e,t,n){"use strict";var r=n(3615),i=n(3689),o=n(9037).String;e.exports=!!Object.getOwnPropertySymbols&&!i(function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41})},3032:function(e,t,n){"use strict";var r=n(2615),i=n(6058),o=n(4201),s=n(1880);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,a=o("toPrimitive");t&&!t[a]&&s(t,a,function(e){return r(n,this)},{arity:1})}},8992:function(e,t,n){"use strict";var r=n(6058),i=n(8844),o=r("Symbol"),s=o.keyFor,a=i(o.prototype.valueOf);e.exports=o.isRegisteredSymbol||function(e){try{return void 0!==s(a(e))}catch(e){return!1}}},8957:function(e,t,n){"use strict";for(var r=n(3430),i=n(6058),o=n(8844),s=n(734),a=n(4201),c=i("Symbol"),u=c.isWellKnownSymbol,l=i("Object","getOwnPropertyNames"),d=o(c.prototype.valueOf),p=r("wks"),h=0,f=l(c),v=f.length;h<v;h++)try{var m=f[h];s(c[m])&&a(m)}catch(e){}e.exports=function(e){if(u&&u(e))return!0;try{for(var t=d(e),n=0,r=l(p),i=r.length;n<i;n++)if(p[r[n]]==t)return!0}catch(e){}return!1}},6549:function(e,t,n){"use strict";var r=n(146);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},9886:function(e,t,n){"use strict";var r,i,o,s,a=n(9037),c=n(1735),u=n(4071),l=n(9985),d=n(6812),p=n(3689),h=n(2688),f=n(6004),v=n(6420),m=n(1500),g=n(4764),y=n(806),E=a.setImmediate,S=a.clearImmediate,T=a.process,C=a.Dispatch,b=a.Function,R=a.MessageChannel,I=a.String,A=0,w={},_="onreadystatechange";p(function(){r=a.location});var O=function(e){if(d(w,e)){var t=w[e];delete w[e],t()}},k=function(e){return function(){O(e)}},P=function(e){O(e.data)},N=function(e){a.postMessage(I(e),r.protocol+"//"+r.host)};E&&S||(E=function(e){m(arguments.length,1);var t=l(e)?e:b(e),n=f(arguments,1);return w[++A]=function(){c(t,void 0,n)},i(A),A},S=function(e){delete w[e]},y?i=function(e){T.nextTick(k(e))}:C&&C.now?i=function(e){C.now(k(e))}:R&&!g?(s=(o=new R).port2,o.port1.onmessage=P,i=u(s.postMessage,s)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&r&&"file:"!==r.protocol&&!p(N)?(i=N,a.addEventListener("message",P,!1)):i=_ in v("script")?function(e){h.appendChild(v("script"))[_]=function(){h.removeChild(this),O(e)}}:function(e){setTimeout(k(e),0)}),e.exports={set:E,clear:S}},7578:function(e,t,n){"use strict";var r=n(8700),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},5290:function(e,t,n){"use strict";var r=n(4413),i=n(4684);e.exports=function(e){return r(i(e))}},8700:function(e,t,n){"use strict";var r=n(8828);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},3126:function(e,t,n){"use strict";var r=n(8700),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},690:function(e,t,n){"use strict";var r=n(4684),i=Object;e.exports=function(e){return i(r(e))}},5904:function(e,t,n){"use strict";var r=n(8700),i=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw new i("The argument can't be less than 0");return t}},8732:function(e,t,n){"use strict";var r=n(2615),i=n(8999),o=n(734),s=n(4849),a=n(5899),c=n(4201),u=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,c=s(e,l);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!i(n)||o(n))return n;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},8360:function(e,t,n){"use strict";var r=n(8732),i=n(734);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},3043:function(e,t,n){"use strict";var r={};r[n(4201)("toStringTag")]="z",e.exports="[object z]"===String(r)},4327:function(e,t,n){"use strict";var r=n(926),i=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},3691:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},4630:function(e,t,n){"use strict";var r=n(8844),i=0,o=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+o,36)}},9525:function(e,t,n){"use strict";var r=n(146);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5648:function(e,t,n){"use strict";var r=n(7697),i=n(3689);e.exports=r&&i(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},1500:function(e){"use strict";var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},9834:function(e,t,n){"use strict";var r=n(9037),i=n(9985),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},5405:function(e,t,n){"use strict";var r=n(496),i=n(6812),o=n(6145),s=n(2560).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||s(t,e,{value:o.f(e)})}},6145:function(e,t,n){"use strict";var r=n(4201);t.f=r},4201:function(e,t,n){"use strict";var r=n(9037),i=n(3430),o=n(6812),s=n(4630),a=n(146),c=n(9525),u=r.Symbol,l=i("wks"),d=c?u.for||u:u&&u.withoutSetter||s;e.exports=function(e){return o(l,e)||(l[e]=a&&o(u,e)?u[e]:d("Symbol."+e)),l[e]}},4338:function(e,t,n){"use strict";var r=n(9989),i=n(3689),o=n(2297),s=n(8999),a=n(690),c=n(6310),u=n(5565),l=n(6522),d=n(7120),p=n(9042),h=n(4201),f=n(3615),v=h("isConcatSpreadable"),m=f>=51||!i(function(){var e=[];return e[v]=!1,e.concat()[0]!==e}),g=function(e){if(!s(e))return!1;var t=e[v];return void 0!==t?!!t:o(e)};r({target:"Array",proto:!0,arity:1,forced:!m||!p("concat")},{concat:function(e){var t,n,r,i,o,s=a(this),p=d(s,0),h=0;for(t=-1,r=arguments.length;t<r;t++)if(g(o=-1===t?s:arguments[t]))for(i=c(o),u(h+i),n=0;n<i;n++,h++)n in o&&l(p,h,o[n]);else u(h+1),l(p,h++,o);return p.length=h,p}})},752:function(e,t,n){"use strict";var r=n(5290),i=n(7370),o=n(9478),s=n(618),a=n(2560).f,c=n(1934),u=n(7807),l=n(3931),d=n(7697),p="Array Iterator",h=s.set,f=s.getterFor(p);e.exports=c(Array,"Array",function(e,t){h(this,{type:p,target:r(e),index:0,kind:t})},function(){var e=f(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,u(void 0,!0);switch(e.kind){case"keys":return u(n,!1);case"values":return u(t[n],!1)}return u([n,t[n]],!1)},"values");var v=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!l&&d&&"values"!==v.name)try{a(v,"name",{value:"values"})}catch(e){}},8324:function(e,t,n){"use strict";var r=n(9989),i=n(6058),o=n(1735),s=n(2615),a=n(8844),c=n(3689),u=n(9985),l=n(734),d=n(6004),p=n(2643),h=n(146),f=String,v=i("JSON","stringify"),m=a(/./.exec),g=a("".charAt),y=a("".charCodeAt),E=a("".replace),S=a(1..toString),T=/[\uD800-\uDFFF]/g,C=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,R=!h||c(function(){var e=i("Symbol")("stringify detection");return"[null]"!==v([e])||"{}"!==v({a:e})||"{}"!==v(Object(e))}),I=c(function(){return"\"\\udf06\\ud834\""!==v("\udf06\ud834")||"\"\\udead\""!==v("\udead")}),A=function(e,t){var n=d(arguments),r=p(t);if(u(r)||void 0!==e&&!l(e))return n[1]=function(e,t){if(u(r)&&(t=s(r,this,f(e),t)),!l(t))return t},o(v,null,n)},w=function(e,t,n){var r=g(n,t-1),i=g(n,t+1);return m(C,e)&&!m(b,i)||m(b,e)&&!m(C,r)?"\\u"+S(y(e,0),16):e};v&&r({target:"JSON",stat:!0,arity:3,forced:R||I},{stringify:function(e,t,n){var r=d(arguments),i=o(R?A:v,null,r);return I&&"string"==typeof i?E(i,T,w):i}})},7629:function(e,t,n){"use strict";var r=n(9037);n(5997)(r.JSON,"JSON",!0)},7509:function(e,t,n){"use strict";n(5997)(Math,"Math",!0)},9434:function(e,t,n){"use strict";var r=n(9989),i=n(146),o=n(3689),s=n(7518),a=n(690);r({target:"Object",stat:!0,forced:!i||o(function(){s.f(1)})},{getOwnPropertySymbols:function(e){var t=s.f;return t?t(a(e)):[]}})},6101:function(e,t,n){"use strict";n(9989)({target:"Object",stat:!0},{is:n(953)})},228:function(e,t,n){"use strict";var r=n(3043),i=n(1880),o=n(5073);r||i(Object.prototype,"toString",o,{unsafe:!0})},1692:function(e,t,n){"use strict";var r=n(9989),i=n(2615),o=n(509),s=n(8742),a=n(9302),c=n(8734);r({target:"Promise",stat:!0,forced:n(562)},{all:function(e){var t=this,n=s.f(t),r=n.resolve,u=n.reject,l=a(function(){var n=o(t.resolve),s=[],a=0,l=1;c(e,function(e){var o=a++,c=!1;l++,i(n,t,e).then(function(e){c||(c=!0,s[o]=e,--l||r(s))},u)}),--l||r(s)});return l.error&&u(l.value),n.promise}})},5089:function(e,t,n){"use strict";var r=n(9989),i=n(3931),o=n(7073).CONSTRUCTOR,s=n(7919),a=n(6058),c=n(9985),u=n(1880),l=s&&s.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&c(s)){var d=a("Promise").prototype.catch;l.catch!==d&&u(l,"catch",d,{unsafe:!0})}},6697:function(e,t,n){"use strict";var r,i,o,s=n(9989),a=n(3931),c=n(806),u=n(9037),l=n(2615),d=n(1880),p=n(9385),h=n(5997),f=n(4241),v=n(509),m=n(9985),g=n(8999),y=n(767),E=n(6373),S=n(9886).set,T=n(231),C=n(920),b=n(9302),R=n(4410),I=n(618),A=n(7919),w=n(7073),_=n(8742),O="Promise",k=w.CONSTRUCTOR,P=w.REJECTION_EVENT,N=w.SUBCLASSING,D=I.getterFor(O),M=I.set,x=A&&A.prototype,U=A,L=x,q=u.TypeError,j=u.document,F=u.process,G=_.f,H=G,B=!!(j&&j.createEvent&&u.dispatchEvent),z="unhandledrejection",V=function(e){var t;return!(!g(e)||!m(t=e.then))&&t},W=function(e,t){var n,r,i,o=t.value,s=1===t.state,a=s?e.ok:e.fail,c=e.resolve,u=e.reject,d=e.domain;try{a?(s||(2===t.rejection&&X(t),t.rejection=1),!0===a?n=o:(d&&d.enter(),n=a(o),d&&(d.exit(),i=!0)),n===e.promise?u(new q("Promise-chain cycle")):(r=V(n))?l(r,n,c,u):c(n)):u(o)}catch(e){d&&!i&&d.exit(),u(e)}},K=function(e,t){e.notified||(e.notified=!0,T(function(){for(var n,r=e.reactions;n=r.get();)W(n,e);e.notified=!1,t&&!e.rejection&&$(e)}))},J=function(e,t,n){var r,i;B?((r=j.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!P&&(i=u["on"+e])?i(r):e===z&&C("Unhandled promise rejection",n)},$=function(e){l(S,u,function(){var t,n=e.facade,r=e.value;if(Y(e)&&(t=b(function(){c?F.emit("unhandledRejection",r,n):J(z,n,r)}),e.rejection=c||Y(e)?2:1,t.error))throw t.value})},Y=function(e){return 1!==e.rejection&&!e.parent},X=function(e){l(S,u,function(){var t=e.facade;c?F.emit("rejectionHandled",t):J("rejectionhandled",t,e.value)})},Q=function(e,t,n){return function(r){e(t,r,n)}},Z=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,K(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new q("Promise can't be resolved itself");var r=V(t);r?T(function(){var n={done:!1};try{l(r,t,Q(ee,n,e),Q(Z,n,e))}catch(t){Z(n,t,e)}}):(e.value=t,e.state=1,K(e,!1))}catch(t){Z({done:!1},t,e)}}};if(k&&(L=(U=function(e){y(this,L),v(e),l(r,this);var t=D(this);try{e(Q(ee,t),Q(Z,t))}catch(e){Z(t,e)}}).prototype,(r=function(e){M(this,{type:O,done:!1,notified:!1,parent:!1,reactions:new R,rejection:!1,state:0,value:void 0})}).prototype=d(L,"then",function(e,t){var n=D(this),r=G(E(this,U));return n.parent=!0,r.ok=!m(e)||e,r.fail=m(t)&&t,r.domain=c?F.domain:void 0,0===n.state?n.reactions.add(r):T(function(){W(r,n)}),r.promise}),i=function(){var e=new r,t=D(e);this.promise=e,this.resolve=Q(ee,t),this.reject=Q(Z,t)},_.f=G=function(e){return e===U||void 0===e?new i(e):H(e)},!a&&m(A)&&x!==Object.prototype)){o=x.then,N||d(x,"then",function(e,t){var n=this;return new U(function(e,t){l(o,n,e,t)}).then(e,t)},{unsafe:!0});try{delete x.constructor}catch(e){}p&&p(x,L)}s({global:!0,constructor:!0,wrap:!0,forced:k},{Promise:U}),h(U,O,!1,!0),f(O)},3964:function(e,t,n){"use strict";n(6697),n(1692),n(5089),n(8829),n(2092),n(7905)},8829:function(e,t,n){"use strict";var r=n(9989),i=n(2615),o=n(509),s=n(8742),a=n(9302),c=n(8734);r({target:"Promise",stat:!0,forced:n(562)},{race:function(e){var t=this,n=s.f(t),r=n.reject,u=a(function(){var s=o(t.resolve);c(e,function(e){i(s,t,e).then(n.resolve,r)})});return u.error&&r(u.value),n.promise}})},2092:function(e,t,n){"use strict";var r=n(9989),i=n(2615),o=n(8742);r({target:"Promise",stat:!0,forced:n(7073).CONSTRUCTOR},{reject:function(e){var t=o.f(this);return i(t.reject,void 0,e),t.promise}})},7905:function(e,t,n){"use strict";var r=n(9989),i=n(6058),o=n(3931),s=n(7919),a=n(7073).CONSTRUCTOR,c=n(2945),u=i("Promise"),l=o&&!a;r({target:"Promise",stat:!0,forced:o||a},{resolve:function(e){return c(l&&this===u?s:this,e)}})},6034:function(e,t,n){"use strict";var r=n(9989),i=n(9037),o=n(5997);r({global:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)},1694:function(e,t,n){"use strict";var r=n(730).charAt,i=n(4327),o=n(618),s=n(1934),a=n(7807),c="String Iterator",u=o.set,l=o.getterFor(c);s(String,"String",function(e){u(this,{type:c,string:i(e),index:0})},function(){var e,t=l(this),n=t.string,i=t.index;return i>=n.length?a(void 0,!0):(e=r(n,i),t.index+=e.length,a(e,!1))})},8373:function(e,t,n){"use strict";n(5405)("asyncIterator")},7855:function(e,t,n){"use strict";var r=n(9989),i=n(9037),o=n(2615),s=n(8844),a=n(3931),c=n(7697),u=n(146),l=n(3689),d=n(6812),p=n(3622),h=n(5027),f=n(5290),v=n(8360),m=n(4327),g=n(5684),y=n(5391),E=n(300),S=n(2741),T=n(6062),C=n(7518),b=n(2474),R=n(2560),I=n(8920),A=n(9556),w=n(1880),_=n(2148),O=n(3430),k=n(2713),P=n(7248),N=n(4630),D=n(4201),M=n(6145),x=n(5405),U=n(3032),L=n(5997),q=n(618),j=n(2960).forEach,F=k("hidden"),G="Symbol",H="prototype",B=q.set,z=q.getterFor(G),V=Object[H],W=i.Symbol,K=W&&W[H],J=i.RangeError,$=i.TypeError,Y=i.QObject,X=b.f,Q=R.f,Z=T.f,ee=A.f,te=s([].push),ne=O("symbols"),re=O("op-symbols"),ie=O("wks"),oe=!Y||!Y[H]||!Y[H].findChild,se=function(e,t,n){var r=X(V,t);r&&delete V[t],Q(e,t,n),r&&e!==V&&Q(V,t,r)},ae=c&&l(function(){return 7!==y(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a})?se:Q,ce=function(e,t){var n=ne[e]=y(K);return B(n,{type:G,tag:e,description:t}),c||(n.description=t),n},ue=function(e,t,n){e===V&&ue(re,t,n),h(e);var r=v(t);return h(n),d(ne,r)?(n.enumerable?(d(e,F)&&e[F][r]&&(e[F][r]=!1),n=y(n,{enumerable:g(0,!1)})):(d(e,F)||Q(e,F,g(1,{})),e[F][r]=!0),ae(e,r,n)):Q(e,r,n)},le=function(e,t){h(e);var n=f(t),r=E(n).concat(fe(n));return j(r,function(t){c&&!o(de,n,t)||ue(e,t,n[t])}),e},de=function(e){var t=v(e),n=o(ee,this,t);return!(this===V&&d(ne,t)&&!d(re,t))&&(!(n||!d(this,t)||!d(ne,t)||d(this,F)&&this[F][t])||n)},pe=function(e,t){var n=f(e),r=v(t);if(n!==V||!d(ne,r)||d(re,r)){var i=X(n,r);return!i||!d(ne,r)||d(n,F)&&n[F][r]||(i.enumerable=!0),i}},he=function(e){var t=Z(f(e)),n=[];return j(t,function(e){d(ne,e)||d(P,e)||te(n,e)}),n},fe=function(e){var t=e===V,n=Z(t?re:f(e)),r=[];return j(n,function(e){!d(ne,e)||t&&!d(V,e)||te(r,ne[e])}),r};u||(w(K=(W=function(){if(p(K,this))throw new $("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,t=N(e),n=function(e){var r=void 0===this?i:this;r===V&&o(n,re,e),d(r,F)&&d(r[F],t)&&(r[F][t]=!1);var s=g(1,e);try{ae(r,t,s)}catch(e){if(!(e instanceof J))throw e;se(r,t,s)}};return c&&oe&&ae(V,t,{configurable:!0,set:n}),ce(t,e)})[H],"toString",function(){return z(this).tag}),w(W,"withoutSetter",function(e){return ce(N(e),e)}),A.f=de,R.f=ue,I.f=le,b.f=pe,S.f=T.f=he,C.f=fe,M.f=function(e){return ce(D(e),e)},c&&(_(K,"description",{configurable:!0,get:function(){return z(this).description}}),a||w(V,"propertyIsEnumerable",de,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:W}),j(E(ie),function(e){x(e)}),r({target:G,stat:!0,forced:!u},{useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(e,t){return void 0===t?y(e):le(y(e),t)},defineProperty:ue,defineProperties:le,getOwnPropertyDescriptor:pe}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:he}),U(),L(W,G),P[F]=!0},6544:function(e,t,n){"use strict";var r=n(9989),i=n(7697),o=n(9037),s=n(8844),a=n(6812),c=n(9985),u=n(3622),l=n(4327),d=n(2148),p=n(8758),h=o.Symbol,f=h&&h.prototype;if(i&&c(h)&&(!("description"in f)||void 0!==h().description)){var v={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=u(f,this)?new h(e):void 0===e?h():h(e);return""===e&&(v[t]=!0),t};p(m,h),m.prototype=f,f.constructor=m;var g="Symbol(description detection)"===String(h("description detection")),y=s(f.valueOf),E=s(f.toString),S=/^Symbol\((.*)\)[^)]+$/,T=s("".replace),C=s("".slice);d(f,"description",{configurable:!0,get:function(){var e=y(this);if(a(v,e))return"";var t=E(e),n=g?C(t,7,-1):T(t,S,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:m})}},3975:function(e,t,n){"use strict";var r=n(9989),i=n(6058),o=n(6812),s=n(4327),a=n(3430),c=n(6549),u=a("string-to-symbol-registry"),l=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=s(e);if(o(u,t))return u[t];var n=i("Symbol")(t);return u[t]=n,l[n]=t,n}})},6157:function(e,t,n){"use strict";n(5405)("hasInstance")},2529:function(e,t,n){"use strict";n(5405)("isConcatSpreadable")},4254:function(e,t,n){"use strict";n(5405)("iterator")},9749:function(e,t,n){"use strict";n(7855),n(3975),n(1445),n(8324),n(9434)},1445:function(e,t,n){"use strict";var r=n(9989),i=n(6812),o=n(734),s=n(3691),a=n(3430),c=n(6549),u=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(e){if(!o(e))throw new TypeError(s(e)+" is not a symbol");if(i(u,e))return u[e]}})},3531:function(e,t,n){"use strict";n(5405)("matchAll")},4155:function(e,t,n){"use strict";n(5405)("match")},5906:function(e,t,n){"use strict";n(5405)("replace")},549:function(e,t,n){"use strict";n(5405)("search")},6285:function(e,t,n){"use strict";n(5405)("species")},8200:function(e,t,n){"use strict";n(5405)("split")},9373:function(e,t,n){"use strict";var r=n(5405),i=n(3032);r("toPrimitive"),i()},6793:function(e,t,n){"use strict";var r=n(6058),i=n(5405),o=n(5997);i("toStringTag"),o(r("Symbol"),"Symbol")},4578:function(e,t,n){"use strict";n(5405)("unscopables")},7299:function(e,t,n){"use strict";n(9989)({target:"AsyncIterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:n(164)})},5694:function(e,t,n){"use strict";var r=n(2615),i=n(1880),o=n(6058),s=n(4849),a=n(6812),c=n(4201),u=n(3070),l=c("asyncDispose"),d=o("Promise");a(u,l)||i(u,l,function(){var e=this;return new d(function(t,n){var i=s(e,"return");i?d.resolve(r(i,e)).then(function(){t(void 0)},n):t(void 0)})})},5530:function(e,t,n){"use strict";var r=n(9989),i=n(767),o=n(1868),s=n(5773),a=n(6812),c=n(4201),u=n(3070),l=n(3931),d=c("toStringTag"),p=TypeError,h=function(){if(i(this,u),o(this)===u)throw new p("Abstract class AsyncIterator not directly constructable")};h.prototype=u,a(u,d)||s(u,d,"AsyncIterator"),!l&&a(u,"constructor")&&u.constructor!==Object||s(u,"constructor",h),r({global:!0,constructor:!0,forced:l},{AsyncIterator:h})},7815:function(e,t,n){"use strict";var r=n(9989),i=n(2615),o=n(5027),s=n(2302),a=n(4654),c=n(5904),u=n(7394),l=n(7807),d=n(3931),p=u(function(e){var t=this;return new e(function(n,r){var s=function(e){t.done=!0,r(e)},a=function(){try{e.resolve(o(i(t.next,t.iterator))).then(function(e){try{o(e).done?(t.done=!0,n(l(void 0,!0))):t.remaining?(t.remaining--,a()):n(l(e.value,!1))}catch(e){s(e)}},s)}catch(e){s(e)}};a()})});r({target:"AsyncIterator",proto:!0,real:!0,forced:d},{drop:function(e){o(this);var t=c(a(+e));return new p(s(this),{remaining:t})}})},9029:function(e,t,n){"use strict";var r=n(9989),i=n(2489).every;r({target:"AsyncIterator",proto:!0,real:!0},{every:function(e){return i(this,e)}})},6237:function(e,t,n){"use strict";var r=n(9989),i=n(2615),o=n(509),s=n(5027),a=n(8999),c=n(2302),u=n(7394),l=n(7807),d=n(2399),p=n(3931),h=u(function(e){var t=this,n=t.iterator,r=t.predicate;return new e(function(o,c){var u=function(e){t.done=!0,c(e)},p=function(e){d(n,u,e,u)},h=function(){try{e.resolve(s(i(t.next,n))).then(function(n){try{if(s(n).done)t.done=!0,o(l(void 0,!0));else{var i=n.value;try{var c=r(i,t.counter++),d=function(e){e?o(l(i,!1)):h()};a(c)?e.resolve(c).then(d,p):d(c)}catch(e){p(e)}}}catch(e){u(e)}},u)}catch(e){u(e)}};h()})});r({target:"AsyncIterator",proto:!0,real:!0,forced:p},{filter:function(e){return s(this),o(e),new h(c(this),{predicate:e})}})},1954:function(e,t,n){"use strict";var r=n(9989),i=n(2489).find;r({target:"AsyncIterator",proto:!0,real:!0},{find:function(e){return i(this,e)}})},7152:function(e,t,n){"use strict";var r=n(9989),i=n(2615),o=n(509),s=n(5027),a=n(8999),c=n(2302),u=n(7394),l=n(7807),d=n(1427),p=n(2399),h=n(3931),f=u(function(e){var t=this,n=t.iterator,r=t.mapper;return new e(function(o,c){var u=function(e){t.done=!0,c(e)},h=function(e){p(n,u,e,u)},f=function(){try{e.resolve(s(i(t.next,n))).then(function(n){try{if(s(n).done)t.done=!0,o(l(void 0,!0));else{var i=n.value;try{var c=r(i,t.counter++),p=function(e){try{t.inner=d(e),v()}catch(e){h(e)}};a(c)?e.resolve(c).then(p,h):p(c)}catch(e){h(e)}}}catch(e){u(e)}},u)}catch(e){u(e)}},v=function(){var n=t.inner;if(n)try{e.resolve(s(i(n.next,n.iterator))).then(function(e){try{s(e).done?(t.inner=null,f()):o(l(e.value,!1))}catch(e){h(e)}},h)}catch(e){h(e)}else f()};v()})});r({target:"AsyncIterator",proto:!0,real:!0,forced:h},{flatMap:function(e){return s(this),o(e),new f(c(this),{mapper:e,inner:null})}})},9667:function(e,t,n){"use strict";var r=n(9989),i=n(2489).forEach;r({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(e){return i(this,e)}})},9118:function(e,t,n){"use strict";var r=n(9989),i=n(690),o=n(3622),s=n(1427),a=n(3070),c=n(219);r({target:"AsyncIterator",stat:!0,forced:n(3931)},{from:function(e){var t=s("string"==typeof e?i(e):e);return o(a,t.iterator)?t.iterator:new c(t)}})},2411:function(e,t,n){"use strict";n(9989)({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{indexed:n(164)})},3256:function(e,t,n){"use strict";var r=n(9989),i=n(2412);r({target:"AsyncIterator",proto:!0,real:!0,forced:n(3931)},{map:i})},5625:function(e,t,n){"use strict";var r=n(9989),i=n(2615),o=n(509),s=n(5027),a=n(8999),c=n(6058),u=n(2302),l=n(2399),d=c("Promise"),p=TypeError;r({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(e){s(this),o(e);var t=u(this),n=t.iterator,r=t.next,c=arguments.length<2,h=c?void 0:arguments[1],f=0;return new d(function(t,o){var u=function(e){l(n,o,e,o)},v=function(){try{d.resolve(s(i(r,n))).then(function(n){try{if(s(n).done)c?o(new p("Reduce of empty iterator with no initial value")):t(h);else{var r=n.value;if(c)c=!1,h=r,v();else try{var i=e(h,r,f),l=function(e){h=e,v()};a(i)?d.resolve(i).then(l,u):l(i)}catch(e){u(e)}}f++}catch(e){o(e)}},o)}catch(e){o(e)}};v()})}})},914:function(e,t,n){"use strict";var r=n(9989),i=n(2489).some;r({target:"AsyncIterator",proto:!0,real:!0},{some:function(e){return i(this,e)}})},4494:function(e,t,n){"use strict";var r=n(9989),i=n(2615),o=n(5027),s=n(2302),a=n(4654),c=n(5904),u=n(7394),l=n(7807),d=n(3931),p=u(function(e){var t,n=this,r=n.iterator;if(!n.remaining--){var s=l(void 0,!0);return n.done=!0,void 0!==(t=r.return)?e.resolve(i(t,r,void 0)).then(function(){return s}):s}return e.resolve(i(n.next,r)).then(function(e){return o(e).done?(n.done=!0,l(void 0,!0)):l(e.value,!1)}).then(null,function(e){throw n.done=!0,e})});r({target:"AsyncIterator",proto:!0,real:!0,forced:d},{take:function(e){o(this);var t=c(a(+e));return new p(s(this),{remaining:t})}})},9468:function(e,t,n){"use strict";var r=n(9989),i=n(2489).toArray;r({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return i(this,void 0,[])}})},4947:function(e,t,n){"use strict";var r=n(4201),i=n(2560).f,o=r("metadata"),s=Function.prototype;void 0===s[o]&&i(s,o,{value:null})},3503:function(e,t,n){"use strict";var r=n(9989),i=n(2615),o=n(7697),s=n(4241),a=n(509),c=n(5027),u=n(767),l=n(9985),d=n(981),p=n(8999),h=n(4849),f=n(1880),v=n(6045),m=n(2148),g=n(920),y=n(4201),E=n(618),S=y("observable"),T="Observable",C="Subscription",b="SubscriptionObserver",R=E.getterFor,I=E.set,A=R(T),w=R(C),_=R(b),O=function(e){this.observer=c(e),this.cleanup=void 0,this.subscriptionObserver=void 0};O.prototype={type:C,clean:function(){var e=this.cleanup;if(e){this.cleanup=void 0;try{e()}catch(e){g(e)}}},close:function(){if(!o){var e=this.facade,t=this.subscriptionObserver;e.closed=!0,t&&(t.closed=!0)}this.observer=void 0},isClosed:function(){return void 0===this.observer}};var k=function(e,t){var n,r=I(this,new O(e));o||(this.closed=!1);try{(n=h(e,"start"))&&i(n,e,this)}catch(e){g(e)}if(!r.isClosed()){var s=r.subscriptionObserver=new P(r);try{var c=t(s),u=c;d(c)||(r.cleanup=l(c.unsubscribe)?function(){u.unsubscribe()}:a(c))}catch(e){return void s.error(e)}r.isClosed()&&r.clean()}};k.prototype=v({},{unsubscribe:function(){var e=w(this);e.isClosed()||(e.close(),e.clean())}}),o&&m(k.prototype,"closed",{configurable:!0,get:function(){return w(this).isClosed()}});var P=function(e){I(this,{type:b,subscriptionState:e}),o||(this.closed=!1)};P.prototype=v({},{next:function(e){var t=_(this).subscriptionState;if(!t.isClosed()){var n=t.observer;try{var r=h(n,"next");r&&i(r,n,e)}catch(e){g(e)}}},error:function(e){var t=_(this).subscriptionState;if(!t.isClosed()){var n=t.observer;t.close();try{var r=h(n,"error");r?i(r,n,e):g(e)}catch(e){g(e)}t.clean()}},complete:function(){var e=_(this).subscriptionState;if(!e.isClosed()){var t=e.observer;e.close();try{var n=h(t,"complete");n&&i(n,t)}catch(e){g(e)}e.clean()}}}),o&&m(P.prototype,"closed",{configurable:!0,get:function(){return _(this).subscriptionState.isClosed()}});var N=function(e){u(this,D),I(this,{type:T,subscriber:a(e)})},D=N.prototype;v(D,{subscribe:function(e){var t=arguments.length;return new k(l(e)?{next:e,error:t>1?arguments[1]:void 0,complete:t>2?arguments[2]:void 0}:p(e)?e:{},A(this).subscriber)}}),f(D,S,function(){return this}),r({global:!0,constructor:!0,forced:!0},{Observable:N}),s(T)},9818:function(e,t,n){"use strict";var r=n(9989),i=n(6058),o=n(2615),s=n(5027),a=n(9429),c=n(5185),u=n(4849),l=n(8734),d=n(4201)("observable");r({target:"Observable",stat:!0,forced:!0},{from:function(e){var t=a(this)?this:i("Observable"),n=u(s(e),d);if(n){var r=s(o(n,e));return r.constructor===t?r:new t(function(e){return r.subscribe(e)})}var p=c(e);return new t(function(e){l(p,function(t,n){if(e.next(t),e.closed)return n()},{IS_ITERATOR:!0,INTERRUPTED:!0}),e.complete()})}})},6314:function(e,t,n){"use strict";n(3503),n(9818),n(8771)},8771:function(e,t,n){"use strict";var r=n(9989),i=n(6058),o=n(9429),s=i("Array");r({target:"Observable",stat:!0,forced:!0},{of:function(){for(var e=o(this)?this:i("Observable"),t=arguments.length,n=s(t),r=0;r<t;)n[r]=arguments[r++];return new e(function(e){for(var r=0;r<t;r++)if(e.next(n[r]),e.closed)return;e.complete()})}})},546:function(e,t,n){"use strict";var r=n(9037),i=n(5405),o=n(2560).f,s=n(2474).f,a=r.Symbol;if(i("asyncDispose"),a){var c=s(a,"asyncDispose");c.enumerable&&c.configurable&&c.writable&&o(a,"asyncDispose",{value:c.value,enumerable:!1,configurable:!1,writable:!1})}},2586:function(e,t,n){"use strict";var r=n(9037),i=n(5405),o=n(2560).f,s=n(2474).f,a=r.Symbol;if(i("dispose"),a){var c=s(a,"dispose");c.enumerable&&c.configurable&&c.writable&&o(a,"dispose",{value:c.value,enumerable:!1,configurable:!1,writable:!1})}},6019:function(e,t,n){"use strict";n(9989)({target:"Symbol",stat:!0},{isRegisteredSymbol:n(8992)})},5010:function(e,t,n){"use strict";n(9989)({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:n(8992)})},5749:function(e,t,n){"use strict";n(9989)({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:n(8957)})},4835:function(e,t,n){"use strict";n(9989)({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:n(8957)})},8799:function(e,t,n){"use strict";n(5405)("matcher")},7041:function(e,t,n){"use strict";n(5405)("metadataKey")},8134:function(e,t,n){"use strict";n(5405)("metadata")},4767:function(e,t,n){"use strict";n(5405)("observable")},2981:function(e,t,n){"use strict";n(5405)("patternMatch")},5044:function(e,t,n){"use strict";n(5405)("replaceAll")},6265:function(e,t,n){"use strict";var r=n(9037),i=n(6338),o=n(3265),s=n(752),a=n(5773),c=n(5997),u=n(4201)("iterator"),l=s.values,d=function(e,t){if(e){if(e[u]!==l)try{a(e,u,l)}catch(t){e[u]=l}if(c(e,t,!0),i[t])for(var n in s)if(e[n]!==s[n])try{a(e,n,s[n])}catch(t){e[n]=s[n]}}};for(var p in i)d(r[p]&&r[p].prototype,p);d(o,"DOMTokenList")},2877:function(e,t,n){"use strict";var r=n(8587);e.exports=r},1491:function(e,t,n){"use strict";var r=n(1666);n(6265),e.exports=r},7582:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function i(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})}function o(e){return this instanceof o?(this.v=e,this):new o(e)}function s(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){s.push([e,t,n,r])>1||c(e,t)})})}function c(e,t){try{(n=i[e](t)).value instanceof o?Promise.resolve(n.value.v).then(u,l):d(s[0][2],n)}catch(e){d(s[0][3],e)}var n}function u(e){c("next",e)}function l(e){c("throw",e)}function d(e,t){e(t),s.shift(),s.length&&c(s[0][0],s[0][1])}}function a(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:o(e[r](t)),done:!1}:i?i(t):t}:i}}function c(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=(function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")})(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){!(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}}n.d(t,{FC:function(){return s},KL:function(){return c},V2:function(){return a},_T:function(){return r},mG:function(){return i},qq:function(){return o}}),Object.create,Object.create}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={exports:{}};return n[e].call(o.exports,o,o.exports,i),o.exports}i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=(function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}})(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(function(){"use strict";i.r(o),i.d(o,{ActivityType:function(){return Wr},BOT_ADAPTIVE_CARD_METADATA_KEY:function(){return Si},BOT_ADAPTIVE_CARD_METADATA_VALUE:function(){return Ti},ChannelDataTypes:function(){return ii},LogEvent:function(){return Te},LogLevel:function(){return ve},Logger:function(){return be},OneDriveFileManager:function(){return Li},ReadyState:function(){return n},Role:function(){return Kr},StateKey:function(){return fe},createACSAdapter:function(){return qi}});var n,r={};i.r(r),i.d(r,{AddChatParticipantsRequest:function(){return xn},AddChatParticipantsResult:function(){return Un},ChatError:function(){return In},ChatMessage:function(){return kn},ChatMessageContent:function(){return Pn},ChatMessageReadReceipt:function(){return En},ChatMessageReadReceiptsCollection:function(){return yn},ChatMessagesCollection:function(){return On},ChatParticipant:function(){return Nn},ChatParticipantsCollection:function(){return Mn},ChatThreadItem:function(){return Gn},ChatThreadProperties:function(){return jn},ChatThreadsItemCollection:function(){return Fn},CommunicationErrorResponse:function(){return Rn},CommunicationIdentifierModel:function(){return Sn},CommunicationUserIdentifierModel:function(){return Tn},CreateChatThreadRequest:function(){return Ln},CreateChatThreadResult:function(){return qn},MicrosoftTeamsUserIdentifierModel:function(){return bn},PhoneNumberIdentifierModel:function(){return Cn},SendChatMessageRequest:function(){return wn},SendChatMessageResult:function(){return _n},SendReadReceiptRequest:function(){return An},SendTypingNotificationRequest:function(){return Bn},UpdateChatMessageRequest:function(){return Dn},UpdateChatThreadRequest:function(){return Hn}}),(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSED=2]="CLOSED"})(n||(n={})),"function"==typeof Symbol&&Symbol.observable;var l=function(){return Math.random().toString(36).substring(7).split("").join(".")};function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function p(e,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return function(r){return function(o){var a=r(o);if(Object.getPrototypeOf(a)!==Object.prototype)throw new Error("One of the enhancer is returning the adapter as a class object. This is not supported.");var c=function(){throw new Error("Calling function while constructing your middleware is not allowed. Other middleware would not be applied to this function.")},u=n((function(e){return{close:function(){return e.close.apply(e,arguments)},egress:function(){return e.egress.apply(e,arguments)},getReadyState:function(){return e.getReadyState.apply(e,arguments)},getState:function(t){return e.getState(t)},ingress:function(){return e.ingress.apply(e,arguments)},setReadyState:function(){return e.setReadyState.apply(e,arguments)},setState:function(t,n){return e.setState(t,n)},subscribe:function(){return e.subscribe.apply(e,arguments)}}})(a),function(){return c.apply(void 0,arguments)}),l=i.map(function(e){return e(u)});if(l.some(function(e){return"function"!=typeof e}))throw new Error("All middlewares must return a function after caling with middleware API.");return c=d.apply(void 0,t(s[12])(l))(e(a)),Object.assign(Object.assign({},a),n(a,c))}}}}l(),l();var h=i(7582);function f(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}i(9946),i(3300);var v=i(4187),m=i.n(v),g=Symbol();function y(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e)throw new TypeError(E(t,r))}function E(e,t){var n=0;return e.replace(/%[os]/g,function(){return S(t[n++])})}function S(e){return"object"!=typeof e||null===e?String(e):Object.prototype.toString.call(e)}var T="undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==e?e:"undefined"!=typeof globalThis?globalThis:void 0,C=(function(){return t(s[6])(function e(n,r){t(s[4])(this,e),this.code=n,this.message=r},[{key:"warn",value:function(){var e;try{for(var t,n=(null!==(e=(new Error).stack)&&void 0!==e?e:"").replace(/^(?:(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+?\n){2}/g,"\n"),r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];(t=console).warn.apply(t,[this.message].concat(i,[n]))}catch(i){}}}])})(),b=new C("W01","Unable to initialize event under dispatching."),R=new C("W02","Assigning any falsy value to 'cancelBubble' property has no effect."),I=new C("W03","Assigning any truthy value to 'returnValue' property has no effect."),A=new C("W04","Unable to preventDefault on non-cancelable events."),w=new C("W05","Unable to preventDefault inside passive event listener invocation."),_=new C("W06","An event listener wasn't added because it has been added already: %o, %o"),O=new C("W07","The %o option value was abandoned because the event listener wasn't added as duplicated."),k=new C("W08","The 'callback' argument must be a function or an object that has 'handleEvent' method: %o"),P=new C("W09","Event attribute handler must be a function: %o"),N=(function(){return t(s[6])(function e(n,r){t(s[4])(this,e),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});var i=null!=r?r:{};L.set(this,{type:String(n),bubbles:Boolean(i.bubbles),cancelable:Boolean(i.cancelable),composed:Boolean(i.composed),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1,inPassiveListenerFlag:!1,dispatchFlag:!1,timeStamp:Date.now()})},[{key:"type",get:function(){return q(this).type}},{key:"target",get:function(){return q(this).target}},{key:"srcElement",get:function(){return q(this).target}},{key:"currentTarget",get:function(){return q(this).currentTarget}},{key:"composedPath",value:function(){var e=q(this).currentTarget;return e?[e]:[]}},{key:"NONE",get:function(){return D}},{key:"CAPTURING_PHASE",get:function(){return M}},{key:"AT_TARGET",get:function(){return x}},{key:"BUBBLING_PHASE",get:function(){return U}},{key:"eventPhase",get:function(){return q(this).dispatchFlag?2:0}},{key:"stopPropagation",value:function(){q(this).stopPropagationFlag=!0}},{key:"cancelBubble",get:function(){return q(this).stopPropagationFlag},set:function(e){e?q(this).stopPropagationFlag=!0:R.warn()}},{key:"stopImmediatePropagation",value:function(){var e=q(this);e.stopPropagationFlag=e.stopImmediatePropagationFlag=!0}},{key:"bubbles",get:function(){return q(this).bubbles}},{key:"cancelable",get:function(){return q(this).cancelable}},{key:"returnValue",get:function(){return!q(this).canceledFlag},set:function(e){e?I.warn():j(q(this))}},{key:"preventDefault",value:function(){j(q(this))}},{key:"defaultPrevented",get:function(){return q(this).canceledFlag}},{key:"composed",get:function(){return q(this).composed}},{key:"isTrusted",get:function(){return!1}},{key:"timeStamp",get:function(){return q(this).timeStamp}},{key:"initEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=q(this);r.dispatchFlag?b.warn():L.set(this,Object.assign({},r,{type:String(e),bubbles:Boolean(t),cancelable:Boolean(n),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1}))}}],[{key:"NONE",get:function(){return D}},{key:"CAPTURING_PHASE",get:function(){return M}},{key:"AT_TARGET",get:function(){return x}},{key:"BUBBLING_PHASE",get:function(){return U}}])})(),D=0,M=1,x=2,U=3,L=new WeakMap;function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"this",n=L.get(e);return y(null!=n,"'%s' must be an object that Event constructor created, but got another one: %o",t,e),n}function j(e){e.inPassiveListenerFlag?w.warn():e.cancelable?e.canceledFlag=!0:A.warn()}Object.defineProperty(N,"NONE",{enumerable:!0}),Object.defineProperty(N,"CAPTURING_PHASE",{enumerable:!0}),Object.defineProperty(N,"AT_TARGET",{enumerable:!0}),Object.defineProperty(N,"BUBBLING_PHASE",{enumerable:!0});for(var F,G=Object.getOwnPropertyNames(N.prototype),H=0;H<G.length;++H)"constructor"!==G[H]&&Object.defineProperty(N.prototype,G[H],{enumerable:!0});void 0!==T&&void 0!==T.Event&&Object.setPrototypeOf(N.prototype,T.Event.prototype);var B={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};function z(e){for(var t=Object.keys(B),n=function(){var n=t[r],i=B[n];Object.defineProperty(e,n,{get:function(){return i},configurable:!0,enumerable:!0})},r=0;r<t.length;++r)n()}var V=(function(e){function n(e){var r;t(s[4])(this,n),r=u(this,n,[e.type,{bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}]),e.cancelBubble&&c((t(s[10])(r),n),"stopPropagation",r,3)([]),e.defaultPrevented&&c((t(s[10])(r),n),"preventDefault",r,3)([]),W.set(t(s[10])(r),{original:e});for(var i=Object.keys(e),o=0;o<i.length;++o){var a=i[o];a in r||Object.defineProperty(r,a,Y(e,a))}return r}return t(s[5])(n,e),t(s[6])(n,[{key:"stopPropagation",value:function(){c(n,"stopPropagation",this,3)([]);var e=K(this).original;"stopPropagation"in e&&e.stopPropagation()}},{key:"cancelBubble",get:function(){return c(n,"cancelBubble",this,1)},set:function(e){a(n,"cancelBubble",e,this,1,1);var t=K(this).original;"cancelBubble"in t&&(t.cancelBubble=e)}},{key:"stopImmediatePropagation",value:function(){c(n,"stopImmediatePropagation",this,3)([]);var e=K(this).original;"stopImmediatePropagation"in e&&e.stopImmediatePropagation()}},{key:"returnValue",get:function(){return c(n,"returnValue",this,1)},set:function(e){a(n,"returnValue",e,this,1,1);var t=K(this).original;"returnValue"in t&&(t.returnValue=e)}},{key:"preventDefault",value:function(){c(n,"preventDefault",this,3)([]);var e=K(this).original;"preventDefault"in e&&e.preventDefault()}},{key:"timeStamp",get:function(){var e=K(this).original;return"timeStamp"in e?e.timeStamp:c(n,"timeStamp",this,1)}}],[{key:"wrap",value:function(e){return new($(e))(e)}}])})(N),W=new WeakMap;function K(e){var t=W.get(e);return y(null!=t,"'this' is expected an Event object, but got",e),t}var J=new WeakMap;function $(e){var n=Object.getPrototypeOf(e);if(null==n)return V;var r=J.get(n);return null==r&&(r=(function(e,n){for(var r=(function(e){function n(){return t(s[4])(this,n),u(this,n,arguments)}return t(s[5])(n,e),t(s[6])(n)})(e),i=Object.keys(n),o=0;o<i.length;++o)Object.defineProperty(r.prototype,i[o],Y(n,i[o]));return r})($(n),n),J.set(n,r)),r}function Y(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return{get:function(){var e=K(this).original,n=e[t];return"function"==typeof n?n.bind(e):n},set:function(e){K(this).original[t]=e},configurable:n.configurable,enumerable:n.enumerable}}function X(e){return 1==(1&e.flags)}function Q(e){return 2==(2&e.flags)}function Z(e){return 4==(4&e.flags)}function ee(e){return 8==(8&e.flags)}function te(e,t,n){var r=e.callback;try{"function"==typeof r?r.call(t,n):"function"==typeof r.handleEvent&&r.handleEvent(n)}catch(r){!(function(e){try{var t=e instanceof Error?e:new Error(S(e));if("function"==typeof dispatchEvent&&"function"==typeof ErrorEvent)dispatchEvent(new ErrorEvent("error",{error:t,message:t.message}));else if("undefined"!=typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)}catch(e){}})(r)}}function ne(e,t,n){for(var r=e.listeners,i=0;i<r.length;++i)if(r[i].callback===t&&X(r[i])===n)return i;return-1}function re(e,n,r,i,o,a){var c;a&&(c=ie.bind(null,e,n,r),a.addEventListener("abort",c));var u=(function(e,t,n,r,i,o){return{callback:e,flags:(t?1:0)|(n?2:0)|(r?4:0),signal:i,signalListener:c}})(n,r,i,o,a);return e.cow?(e.cow=!1,e.listeners=[].concat(t(s[12])(e.listeners),[u])):e.listeners.push(u),u}function ie(e,t,n){var r=ne(e,t,n);return-1!==r&&oe(e,r)}function oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.listeners[t];return r.flags|=8,r.signal&&r.signal.removeEventListener("abort",r.signalListener),e.cow&&!n?(e.cow=!1,e.listeners=e.listeners.filter(function(e,n){return n!==t}),!1):(e.listeners.splice(t,1),!0)}function se(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e[t]={attrCallback:void 0,attrListener:void 0,cow:!1,listeners:[]}}J.set(Object.prototype,V),void 0!==T&&void 0!==T.Event&&J.set(T.Event.prototype,V);var ae=(function(){return t(s[6])(function e(){t(s[4])(this,e),ce.set(this,Object.create(null))},[{key:"addEventListener",value:function(e,t,n){var r=ue(this),i=(function(e,t,n){var r;return le(t),"object"==typeof n&&null!==n?{type:String(e),callback:null!=t?t:void 0,capture:Boolean(n.capture),passive:Boolean(n.passive),once:Boolean(n.once),signal:null!==(r=n.signal)&&void 0!==r?r:void 0}:{type:String(e),callback:null!=t?t:void 0,capture:Boolean(n),passive:!1,once:!1,signal:void 0}})(e,t,n),o=i.callback,s=i.capture,a=i.once,c=i.passive,u=i.signal,l=i.type;if(null!=o&&(null==u||!u.aborted)){var d=se(r,l),p=ne(d,o,s);-1===p?re(d,o,s,c,a,u):(function(e,t,n,r){_.warn(X(e)?"capture":"bubble",e.callback),Q(e)!==t&&O.warn("passive"),Z(e)!==n&&O.warn("once"),e.signal!==r&&O.warn("signal")})(d.listeners[p],c,a,u)}}},{key:"removeEventListener",value:function(e,t,n){var r=ue(this),i=(function(e,t,n){return le(t),"object"==typeof n&&null!==n?{type:String(e),callback:null!=t?t:void 0,capture:Boolean(n.capture)}:{type:String(e),callback:null!=t?t:void 0,capture:Boolean(n)}})(e,t,n),o=i.callback,s=i.capture,a=r[i.type];null!=o&&a&&ie(a,o,s)}},{key:"dispatchEvent",value:function(e){var n=ue(this)[String(e.type)];if(null==n)return!0;var r,i=e instanceof N?e:V.wrap(e),o=q(i,"event");if(o.dispatchFlag)throw r="This event has been in dispatching.",T.DOMException?new T.DOMException(r,"InvalidStateError"):(null==F&&(F=(function(e){function n(e){var r;return t(s[4])(this,n),r=u(this,n,[e]),Error.captureStackTrace&&Error.captureStackTrace(t(s[10])(r),n),r}return t(s[5])(n,e),t(s[6])(n,[{key:"code",get:function(){return 11}},{key:"name",get:function(){return"InvalidStateError"}}])})(t(s[7])(Error)),Object.defineProperties(F.prototype,{code:{enumerable:!0},name:{enumerable:!0}}),z(F),z(F.prototype)),new F(r));if(o.dispatchFlag=!0,o.target=o.currentTarget=this,!o.stopPropagationFlag){var a=n.cow,c=n.listeners;n.cow=!0;for(var l=0;l<c.length;++l){var d=c[l];if(!ee(d)&&(Z(d)&&oe(n,l,!a)&&(l-=1),o.inPassiveListenerFlag=Q(d),te(d,this,i),o.inPassiveListenerFlag=!1,o.stopImmediatePropagationFlag))break}a||(n.cow=!1)}return o.target=null,o.currentTarget=null,o.stopImmediatePropagationFlag=!1,o.stopPropagationFlag=!1,o.dispatchFlag=!1,!o.canceledFlag}}])})(),ce=new WeakMap;function ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"this",n=ce.get(e);return y(null!=n,"'%s' must be an object that EventTarget constructor created, but got another one: %o",t,e),n}function le(e){if("function"!=typeof e&&("object"!=typeof e||null===e||"function"!=typeof e.handleEvent)){if(null!=e&&"object"!=typeof e)throw new TypeError(E(k.message,[e]));k.warn(e)}}for(var de=Object.getOwnPropertyNames(ae.prototype),pe=0;pe<de.length;++pe)"constructor"!==de[pe]&&Object.defineProperty(ae.prototype,de[pe],{enumerable:!0});function he(e,t,n){Object.defineProperty(e,"on"+t,{get:function(){return(function(e,t){var n,r;return null!==(r=null===(n=ue(e,"target")[t])||void 0===n?void 0:n.attrCallback)&&void 0!==r?r:null})(this,t)},set:function(e){!(function(e,t,n){null!=n&&"function"!=typeof n&&P.warn(n),"function"==typeof n||"object"==typeof n&&null!==n?(function(e,t,n){var r=se(ue(e,"target"),String(t));r.attrCallback=n,null==r.attrListener&&(r.attrListener=re(r,(function(e){return function(t){var n=e.attrCallback;"function"==typeof n&&n.call(this,t)}})(r),!1,!1,!1,void 0))})(e,t,n):(function(e,t){var n=ue(e,"target")[String(t)];n&&n.attrListener&&(ie(n,n.attrListener.callback,!1),n.attrCallback=n.attrListener=void 0)})(e,t)})(this,t,e)},configurable:!0,enumerable:!0})}void 0!==T&&void 0!==T.EventTarget&&Object.setPrototypeOf(ae.prototype,T.EventTarget.prototype);var fe,ve,me=ae,ge=function(e){return function(t){return e(t)}},ye=i(323),Ee=i.n(ye);function Se(e){var n,r=[];return new(Ee())(function(i){return r=[].concat(t(s[12])(r),[i]),n||(n=e.subscribe({complete:function(){return r.forEach(function(e){return e.complete()})},error:function(e){return r.forEach(function(t){return t.error(e)})},next:function(e){return r.forEach(function(t){return t.next(e)})}})),function(){(r=r.filter(function(e){return e!==i})).length||(n.unsubscribe(),n=void 0)}})}!(function(e){e.BotId="acs.botId",e.ChatClient="acs.chatClient",e.ChatThreadClient="acs.chatThreadClient",e.Reconnect="acs.reconnect",e.UserId="acs.userId",e.UserDisplayName="acs.userDisplayName",e.AuthConfig="acs.authConfig",e.ConnectionStatusObserverReady="dl.connectionStatusObserverReady",e.ThreadId="acs.threadId",e.DisconnectUTC="acs.disconnectUTC",e.AdapterOptions="acs.adapterOptions",e.EventManager="acs.eventManager",e.EnvironmentUrl="acs.environmentUrl",e.Token="acs.token",e.FileManager="fileManager",e.PollingInterval="pollingInterval",e.WebChatStatus="webChatStatus",e.MessagePollingHandleInstance="messagePollingHandleInstance"})(fe||(fe={})),(function(e){e.INFO="INFO",e.DEBUG="DEBUG",e.WARN="WARN",e.ERROR="ERROR"})(ve||(ve={}));var Te,Ce,be={loggerInstance:void 0,setInstance:function(e){be.loggerInstance=e},logEvent:function(e,t){void 0!==be.loggerInstance&&be.loggerInstance.logEvent(e,t)}};function Re(e){return new Promise(function(t){return setTimeout(function(){t()},e)})}!(function(e){e.ADAPTER_STATE_UPDATE="ADAPTER_STATE_UPDATE",e.ACS_SDK_START_INIT="ACS_SDK_START_INIT",e.ACS_SDK_START_INIT_ERROR="ACS_SDK_START_INIT_ERROR",e.ACS_SDK_CHATCLIENT_ERROR="ACS_SDK_CHATCLIENT_ERROR",e.ACS_SDK_JOINTHREAD_ERROR="ACS_SDK_JOINTHREAD_ERROR",e.ACS_SDK_CHATCLIENT_RECONNECT_ERROR="ACS_SDK_CHATCLIENT_RECONNECT_ERROR",e.ACS_ADAPTER_ATTACHMENT_DOWNLOADED="ACS_ADAPTER_ATTACHMENT_DOWNLOADED",e.ACS_ADAPTER_ATTACHMENT_DOWNLOAD_ERROR="ACS_ADAPTER_ATTACHMENT_DOWNLOAD_ERROR",e.ACS_ADAPTER_ATTACHMENT_NEW="ACS_ADAPTER_ATTACHMENT_NEW",e.ACS_ADAPTER_ATTACHMENT_ALREADY_DOWNLOADED="ACS_ADAPTER_ATTACHMENT_ALREADY_DOWNLOADED",e.ACS_ADAPTER_PROCESSED_ATTACHMENTS="ACS_ADAPTER_PROCESSED_ATTACHMENTS",e.ACS_ADAPTER_CONVERT_HISTORY="ACS_ADAPTER_CONVERT_HISTORY",e.ACS_ADAPTER_CONVERT_TYPING_MESSAGE="ACS_ADAPTER_CONVERT_TYPING_MESSAGE",e.ACS_ADAPTER_CONVERT_MESSAGE="ACS_ADAPTER_CONVERT_MESSAGE",e.ACS_ADAPTER_CONVERT_EDITED_MESSAGE="ACS_ADAPTER_CONVERT_EDITED_MESSAGE",e.ACS_ADAPTER_CONVERT_THREAD_UPDATED="ACS_ADAPTER_CONVERT_THREAD_UPDATED",e.ACS_ADAPTER_CONVERT_THREAD_DELETED="ACS_ADAPTER_CONVERT_THREAD_DELETED",e.ACS_ADAPTER_INGRESS_MESSAGE="ACS_ADAPTER_INGRESS_MESSAGE",e.ACS_ADAPTER_INGRESS_FAILED="ACS_ADAPTER_INGRESS_FAILED",e.ACS_ADAPTER_EGRESS_MESSAGE="ACS_ADAPTER_EGRESS_MESSAGE",e.ACS_ADAPTER_EGRESS_SEND_MESSAGE="ACS_ADAPTER_EGRESS_SEND_MESSAGE",e.ACS_ADAPTER_EGRESS_FAILED="ACS_ADAPTER_EGRESS_FAILED",e.ACS_ADAPTER_REQUEST_DOWNLOAD_ATTACHMENTS="ACS_ADAPTER_REQUEST_DOWNLOAD_ATTACHMENTS",e.ACS_ADAPTER_SEND_MESSAGE_FAILED="ACS_ADAPTER_SEND_MESSAGE_FAILED",e.ACS_ADAPTER_SEND_MESSAGE_SUCCESS="ACS_ADAPTER_SEND_MESSAGE_SUCCESS",e.ACS_ADAPTER_SEND_MESSAGE_RETRY="ACS_ADAPTER_SEND_MESSAGE_RETRY",e.ACS_ADAPTER_INGRESS_TYPING_FAILED="ACS_ADAPTER_INGRESS_TYPING_FAILED",e.ACS_ADAPTER_INGRESS_TYPING_SUCCESS="ACS_ADAPTER_INGRESS_TYPING_SUCCESS",e.ACS_ADAPTER_EGRESS_TYPING_SENDING_REQUEST="ACS_ADAPTER_EGRESS_TYPING_SENDING_REQUEST",e.ACS_ADAPTER_EGRESS_TYPING_FAILED="ACS_ADAPTER_EGRESS_TYPING_FAILED",e.ACS_ADAPTER_EGRESS_TYPING_SUCCESS="ACS_ADAPTER_EGRESS_TYPING_SUCCESS",e.ACS_ADAPTER_REALTIME_NOTIFICATION_CONNECTED="ACS_ADAPTER_REALTIME_NOTIFICATION_CONNECTED",e.ACS_ADAPTER_REALTIME_NOTIFICATION_DISCONNECTED="ACS_ADAPTER_REALTIME_NOTIFICATION_DISCONNECTED",e.ACS_PROCESSING_POLLED_MESSAGE="ACS_PROCESSING_POLLED_MESSAGE",e.ACS_PROCESSING_NEW_MESSAGE="ACS_PROCESSING_NEW_MESSAGE",e.ACS_PROCESSING_EDITED_MESSAGE="ACS_PROCESSING_EDITED_MESSAGE",e.ACS_SKIP_POLLED_MESSAGE="ACS_SKIP_POLLED_MESSAGE",e.ACS_CANCEL_POLLING_CALLBACK="ACS_CANCEL_POLLING_CALLBACK",e.ACS_CREATE_POLLING_CALLBACK="ACS_CREATE_POLLING_CALLBACK",e.ACS_ADAPTER_POLLING_STATUSCODE="ACS_ADAPTER_POLLING_STATUSCODE",e.ACS_SEND_POLLING_REQUEST="ACS_SEND_POLLING_REQUEST",e.ACS_ADAPTER_POLLING_SKIPPED="ACS_ADAPTER_POLLING_SKIPPED",e.ACS_ADAPTER_POLLING_STOPPED="ACS_ADAPTER_POLLING_STOPPED",e.ACS_SKIP_NEW_MESSAGE="ACS_SKIP_NEW_MESSAGE",e.ACS_SKIP_EDITED_MESSAGE="ACS_SKIP_EDITED_MESSAGE",e.ACS_ADAPTER_POST_ACTIVITY="ACS_ADAPTER_POST_ACTIVITY",e.ACS_ADAPTER_POST_FILE_ACTIVITY="ACS_ADAPTER_POST_FILE_ACTIVITY",e.ACS_SDK_RECONNECT="ACS_SDK_RECONNECT",e.MESSAGE_RECEIVED="ADAPTER_MESSAGE_RECEIVED",e.PROCESS_CACHED_PAGED_HISTORY_MESSAGE="PROCESS_CACHED_PAGED_HISTORY_MESSAGE",e.PROCESS_CACHED_HISTORY_MESSAGE="PROCESS_CACHED_HISTORY_MESSAGE",e.PROCESS_CACHED_NEW_MESSAGE="PROCESS_CACHED_NEW_MESSAGE",e.CACHE_PAGED_HISTORY_MESSAGE="CACHE_PAGED_HISTORY_MESSAGE",e.CACHE_POLLED_HISTORY_MESSAGE="CACHE_POLLED_HISTORY_MESSAGE",e.CACHE_NEW_MESSAGE="CACHE_NEW_MESSAGE",e.TYPING_MESSAGE_RECEIVED="ADAPTER_TYPING_MESSAGE_RECEIVED",e.THREAD_THREAD_UPDATED="ADAPTER_THREAD_UPDATED_RECEIVED",e.THREAD_DELETED_RECEIVED="ADAPTER_THREAD_DELETED_RECEIVED",e.PARTICIPANT_REMOVED_RECEIVED="ADAPTER_PARTICIPANT_REMOVED_RECEIVED",e.PARTICIPANT_ADDED_RECEIVED="ADAPTER_PARTICIPANT_ADDED_RECEIVED",e.MESSAGE_EDIT_RECEIVED="ADAPTER_MESSAGE_EDIT_RECEIVED",e.REGISTER_ON_NEW_MESSAGE="ADAPTER_REGISTER_ON_NEW_MESSAGE",e.REGISTER_ON_TYPING_INDICATOR="ADAPTER_REGISTER_ON_TYPING_INDICATOR",e.REGISTER_ON_MESSAGE_EDIT="ADAPTER_REGISTER_ON_MESSAGE_EDIT",e.REGISTER_ON_THREAD_DELETED="ADAPTER_REGISTER_ON_THREAD_DELETED",e.REGISTER_ON_THREAD_UPDATED="ADAPTER_REGISTER_ON_THREAD_UPDATED",e.REGISTER_ON_PARTICIPANT_ADDED="ADAPTER_REGISTER_ON_PARTICIPANT_ADDED",e.REGISTER_ON_PARTICIPANT_REMOVED="ADAPTER_REGISTER_ON_PARTICIPANT_REMOVED",e.REGISTER_ON_REALTIME_NOTIFICATION_CONNECTED="ADAPTER_REGISTER_ON_REALTIME_NOTIFICATION_CONNECTED",e.REGISTER_ON_REALTIME_NOTIFICATION_DISCONNECTED="ADAPTER_REGISTER_ON_REALTIME_NOTIFICATION_DISCONNECTED",e.NETWORK_ONLINE="NETWORK_ONLINE",e.NETWORK_OFFLINE="NETWORK_OFFLINE",e.FILEMANAGER_DOWNLOAD_FILE_FAILED="FILEMANAGER_DOWNLOAD_FILE_FAILED",e.FILEMANAGER_UPLOAD_FILE_FAILED="FILEMANAGER_UPLOAD_FILE_FAILED",e.FILEMANAGER_UPLOAD_FILE_REQUEST="FILEMANAGER_UPLOAD_FILE_REQUEST",e.WEBCHAT_SUBSCRIPTION_TIMEOUT="WEBCHAT_SUBSCRIPTION_TIMEOUT",e.WEBCHAT_SUBSCRIPTION_SUCCESS="WEBCHAT_SUBSCRIPTION_SUCCESS",e.WEBCHAT_STATUS_CONNECTED="WEBCHAT_STATUS_CONNECTED"})(Te||(Te={})),(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.FailedToConnect=4]="FailedToConnect"})(Ce||(Ce={}));var Ie=function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge,o={},a=!1,c=i(function(){var r=new me,i=[],u=n.CONNECTING;return{addEventListener:r.addEventListener.bind(r),dispatchEvent:r.dispatchEvent.bind(r),removeEventListener:r.removeEventListener.bind(r),activities:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).signal,n=(function(){var e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(function(e){var t=new Error("aborted");if(e&&e.aborted)return Promise.reject(t);var n=f(),r=function(){e.removeEventListener("abort",r),n.reject(t)};return e&&e.addEventListener("abort",r),n.promise})(r.signal),o=[];return i.catch(function(){}),{iterable:t(s[8])({},Symbol.asyncIterator,function(){return(0,h.FC)(this,arguments,function*(){if(e)throw new Error("asyncIterableQueue: You can only iterate once. The iteration has already started or finished.");for(e=!0;;){o.length?yield(0,h.qq)(r.signal&&r.signal.aborted&&i):(yield(0,h.qq)(Promise.race([i,(n||(n=f())).promise])),n=null);var t=o.shift();if(m()(t,g))break;yield yield(0,h.qq)(t)}})}),end:function(){o.push(g)},push:function(e){o.push(e),n&&n.resolve()},watermark:function(){return o.length}}})({signal:e});return i.push(n),e&&e.addEventListener("abort",function(){var e=i.indexOf(n);~e||i.splice(e,1)}),n.iterable},close:function(){i.forEach(function(e){return e.end()}),i.splice(0,1/0),e&&e.unsubscribe(),e=null},egress:function(){return Promise.resolve()},getState:function(e){return o[e]},getReadyState:function(){return u},ingress:function(e){i.forEach(function(t){return t.push(e)})},setState:function(e,t){if(a&&!(e in o))throw new Error("Cannot set config \""+String(e)+"\" because it was not set before being sealed.");o[e]=t},setReadyState:function(t){if(t!==u){if(u===n.CLOSED)throw new Error('Cannot change "readyState" after it is CLOSED.');if(t!==n.CLOSED&&t!==n.CONNECTING&&t!==n.OPEN)throw new Error('"readyState" must be either CLOSED, CONNECTING or OPEN.');u=t,t===n.CLOSED&&(e&&e.unsubscribe(),e=null),r.dispatchEvent(new N(t===n.OPEN?"open":"error"))}},subscribe:function(t){var n;(e&&e.unsubscribe(),e=null,t)&&t.subscribe({start:function(t){e=t,n=t},complete:function(){e===n&&(e=null)},error:function(){e===n&&(e=null)},next:function(e){c.ingress(e)}})}}})(r);if(Object.getPrototypeOf(c)!==Object.prototype)throw new Error("Object returned from enhancer must not be a class object.");var u=(function(e,t){var n=e.getReadyState,r=(0,h._T)(e,["getReadyState"]),i=Object.assign(Object.assign({},r),{readyState:-1}),o=function(e){Object.defineProperty(i,e,{enumerable:!0,get:function(){return t[e]}})};for(var s in t)o(s);return Object.defineProperty(i,"readyState",{get:function(){return n()}}),Object.seal(i)})(c,o);return a=!0,u},Ae=n,we=(Ae.CLOSED,Ae.CONNECTING,Ae.OPEN,function(e){return(function(e){return"string"==typeof e.communicationUserId})(e)?Object.assign(Object.assign({},e),{kind:"communicationUser"}):(function(e){return"string"==typeof e.phoneNumber})(e)?Object.assign(Object.assign({},e),{kind:"phoneNumber"}):(function(e){return"string"==typeof e.microsoftTeamsUserId})(e)?Object.assign(Object.assign({},e),{kind:"microsoftTeamsUser"}):Object.assign(Object.assign({},e),{kind:"unknown"})}),_e=function(e){var t=we(e);switch(t.kind){case"communicationUser":return t.communicationUserId;case"microsoftTeamsUser":var n=t.microsoftTeamsUserId,r=t.rawId,i=t.cloud,o=t.isAnonymous;if(r)return r;if(o)return"8:teamsvisitor:"+n;switch(i){case"dod":return"8:dod:"+n;case"gcch":return"8:gcch:"+n;case"public":return"8:orgid:"+n}return"8:orgid:"+n;case"phoneNumber":var s=t.phoneNumber;return t.rawId||"4:"+s;case"unknown":return t.id}},Oe=function(e,t){var n=Object.keys(e)[0],r=e[n];if(t in r)return r[t];throw new Error("Property "+t+" is required for identifier of type "+n+".")},ke=function(e){var t,n,r,i,o=we(e);switch(o.kind){case"communicationUser":return{rawId:_e(o),communicationUser:{id:o.communicationUserId}};case"phoneNumber":return{rawId:null!==(t=o.rawId)&&void 0!==t?t:_e(o),phoneNumber:{value:o.phoneNumber}};case"microsoftTeamsUser":return{rawId:null!==(n=o.rawId)&&void 0!==n?n:_e(o),microsoftTeamsUser:{userId:o.microsoftTeamsUserId,isAnonymous:null!==(r=o.isAnonymous)&&void 0!==r&&r,cloud:null!==(i=o.cloud)&&void 0!==i?i:"public"}};case"unknown":return{rawId:o.id};default:throw new Error("Can't serialize an identifier with kind "+o.kind)}},Pe=function(e){var t;!(function(e){var t=[];if(void 0!==e.communicationUser&&t.push("communicationUser"),void 0!==e.microsoftTeamsUser&&t.push("microsoftTeamsUser"),void 0!==e.phoneNumber&&t.push("phoneNumber"),t.length>1)throw new Error("Only one of the properties in "+JSON.stringify(t)+" should be present.")})(e);var n=e.communicationUser,r=e.microsoftTeamsUser,i=e.phoneNumber,o=null!==(t=e.kind)&&void 0!==t?t:(function(e){return e.communicationUser?"communicationUser":e.phoneNumber?"phoneNumber":e.microsoftTeamsUser?"microsoftTeamsUser":"unknown"})(e);return"communicationUser"===o&&n?{kind:"communicationUser",communicationUserId:Oe({communicationUser:n},"id")}:"phoneNumber"===o&&i?{kind:"phoneNumber",phoneNumber:Oe({phoneNumber:i},"value"),rawId:Oe({phoneNumber:e},"rawId")}:"microsoftTeamsUser"===o&&r?{kind:"microsoftTeamsUser",microsoftTeamsUserId:Oe({microsoftTeamsUser:r},"userId"),isAnonymous:Oe({microsoftTeamsUser:r},"isAnonymous"),cloud:Oe({microsoftTeamsUser:r},"cloud"),rawId:Oe({microsoftTeamsUser:e},"rawId")}:{kind:"unknown",id:Oe({unknown:e},"rawId")}},Ne=function(e){var t=e.id,n=(0,h._T)(e,["id"]);return Object.assign(Object.assign({},n),{communicationIdentifier:ke(t)})},De=function(e){var t=e.communicationIdentifier,n=(0,h._T)(e,["communicationIdentifier"]);return Object.assign(Object.assign({},n),{id:Pe(t)})},Me=function(e){var t=e.participants,n=e.initiatorCommunicationIdentifier,r=(0,h._T)(e,["participants","initiatorCommunicationIdentifier"]),i=Object.assign({},r);if(n){var o=Pe(n);i=Object.assign(Object.assign({},i),{initiator:o})}return t&&(i=Object.assign(Object.assign({},i),{participants:null==t?void 0:t.map(function(e){return De(e)})})),i},xe=function(e){var t=e.content,n=e.senderCommunicationIdentifier,r=(0,h._T)(e,["content","senderCommunicationIdentifier"]),i=Object.assign({},r);if(t&&(i=Object.assign(Object.assign({},i),{content:Me(t)})),n){var o=Pe(n);i=Object.assign(Object.assign({},i),{sender:o})}return i},Ue=function(e){var t=e.createdByCommunicationIdentifier,n=(0,h._T)(e,["createdByCommunicationIdentifier"]);return t?Object.assign(Object.assign({},n),{createdBy:Pe(t)}):Object.assign({},n)},Le=function(e){var t=e.senderCommunicationIdentifier,n=(0,h._T)(e,["senderCommunicationIdentifier"]);return Object.assign(Object.assign({},n),{sender:Pe(t)})};function qe(e){return e.toLowerCase()}var je,Fe=(function(){return t(s[6])(function e(n){if(t(s[4])(this,e),this._headersMap=new Map,n)for(var r of Object.keys(n))this.set(r,n[r])},[{key:"set",value:function(e,t){this._headersMap.set(qe(e),{name:e,value:String(t)})}},{key:"get",value:function(e){var t;return null===(t=this._headersMap.get(qe(e)))||void 0===t?void 0:t.value}},{key:"has",value:function(e){return this._headersMap.has(qe(e))}},{key:"delete",value:function(e){this._headersMap.delete(qe(e))}},{key:"toJSON",value:function(){var e={};if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preserveCase)for(var n of this._headersMap.values())e[n.name]=n.value;else for(var r of this._headersMap){var i=t(s[9])(r,2),o=i[0],a=i[1];e[o]=a.value}return e}},{key:"toString",value:function(){return JSON.stringify(this.toJSON({preserveCase:!0}))}},{key:Symbol.iterator,value:function(){return(function*(e){for(var t of e.values())yield[t.name,t.value]})(this._headersMap)}}])})();function Ge(e){return new Fe(e)}var He="function"==typeof(null===(je=null===globalThis||void 0===globalThis?void 0:globalThis.crypto)||void 0===je?void 0:je.randomUUID)?globalThis.crypto.randomUUID.bind(globalThis.crypto):function(){for(var e="",t=0;t<32;t++){var n=Math.floor(16*Math.random());e+=12===t?"4":16===t?3&n|8:n.toString(16),7!==t&&11!==t&&15!==t&&19!==t||(e+="-")}return e},Be=t(s[6])(function e(n){var r,i,o,a,c,u,l;t(s[4])(this,e),this.url=n.url,this.body=n.body,this.headers=null!==(r=n.headers)&&void 0!==r?r:Ge(),this.method=null!==(i=n.method)&&void 0!==i?i:"GET",this.timeout=null!==(o=n.timeout)&&void 0!==o?o:0,this.formData=n.formData,this.disableKeepAlive=null!==(a=n.disableKeepAlive)&&void 0!==a&&a,this.proxySettings=n.proxySettings,this.streamResponseStatusCodes=n.streamResponseStatusCodes,this.withCredentials=null!==(c=n.withCredentials)&&void 0!==c&&c,this.abortSignal=n.abortSignal,this.tracingOptions=n.tracingOptions,this.onUploadProgress=n.onUploadProgress,this.onDownloadProgress=n.onDownloadProgress,this.requestId=n.requestId||He(),this.allowInsecureConnection=null!==(u=n.allowInsecureConnection)&&void 0!==u&&u,this.enableBrowserStreams=null!==(l=n.enableBrowserStreams)&&void 0!==l&&l}),ze="$",Ve="_";function We(e){return!("object"!=typeof e||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}function Ke(e){if(We(e)){var t="string"==typeof e.name,n="string"==typeof e.message;return t&&n}return!1}function Je(e){if(Ke(e))return e.message;var t;try{t="object"==typeof e&&e?JSON.stringify(e):String(e)}catch(e){t="[unable to stringify input]"}return"Unknown error "+t}var $e={},Ye="REDACTED",Xe=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],Qe=["api-version"],Ze=(function(){return t(s[6])(function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.additionalAllowedHeaderNames,i=void 0===r?[]:r,o=n.additionalAllowedQueryParameters,a=void 0===o?[]:o;t(s[4])(this,e),i=Xe.concat(i),a=Qe.concat(a),this.allowedHeaderNames=new Set(i.map(function(e){return e.toLowerCase()})),this.allowedQueryParameters=new Set(a.map(function(e){return e.toLowerCase()}))},[{key:"sanitize",value:function(e){var t=this,n=new Set;return JSON.stringify(e,function(e,r){if(r instanceof Error)return Object.assign(Object.assign({},r),{name:r.name,message:r.message});if("headers"===e)return t.sanitizeHeaders(r);if("url"===e)return t.sanitizeUrl(r);if("query"===e)return t.sanitizeQuery(r);if("body"!==e&&"response"!==e&&"operationSpec"!==e){if(Array.isArray(r)||We(r)){if(n.has(r))return"[Circular]";n.add(r)}return r}},2)}},{key:"sanitizeHeaders",value:function(e){var t={};for(var n of Object.keys(e))this.allowedHeaderNames.has(n.toLowerCase())?t[n]=e[n]:t[n]=Ye;return t}},{key:"sanitizeQuery",value:function(e){if("object"!=typeof e||null===e)return e;var t={};for(var n of Object.keys(e))this.allowedQueryParameters.has(n.toLowerCase())?t[n]=e[n]:t[n]=Ye;return t}},{key:"sanitizeUrl",value:function(e){if("string"!=typeof e||null===e)return e;var n=new URL(e);if(!n.search)return e;for(var r of n.searchParams){var i=t(s[9])(r,1)[0];this.allowedQueryParameters.has(i.toLowerCase())||n.searchParams.set(i,Ye)}return n.toString()}}])})(),et=new Ze,tt=(function(e){function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t(s[4])(this,n),(r=u(this,n,[e])).name="RestError",r.code=i.code,r.statusCode=i.statusCode,r.request=i.request,r.response=i.response,Object.setPrototypeOf(t(s[10])(r),n.prototype),r}return t(s[5])(n,e),t(s[6])(n,[{key:$e,value:function(){return"RestError: "+this.message+" \n "+et.sanitize(this)}}])})(t(s[7])(Error));function nt(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}function rt(e){for(var t=atob(e),n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}tt.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR",tt.PARSE_ERROR="PARSE_ERROR";var it=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,ot=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i;function st(e,t){var n,r,i=e.parsedHeaders;if("HEAD"===e.request.method)return Object.assign(Object.assign({},i),{body:e.parsedBody});var o=t&&t.bodyMapper,s=Boolean(null==o?void 0:o.nullable),a=null==o?void 0:o.type.name;if("Stream"===a)return Object.assign(Object.assign({},i),{blobBody:e.blobBody,readableStreamBody:e.readableStreamBody});var c,u,l="Composite"===a&&o.type.modelProperties||{},d=Object.keys(l).some(function(e){return""===l[e].serializedName});if("Sequence"===a||d){var p=null!==(n=e.parsedBody)&&void 0!==n?n:[];for(var h of Object.keys(l))l[h].serializedName&&(p[h]=null===(r=e.parsedBody)||void 0===r?void 0:r[h]);if(i)for(var f of Object.keys(i))p[f]=i[f];return!s||e.parsedBody||i||0!==Object.getOwnPropertyNames(l).length?p:null}return(function(e){var t=Object.assign(Object.assign({},e.headers),e.body);return e.hasNullableType&&0===Object.getOwnPropertyNames(t).length?e.shouldWrapBody?{body:null}:null:e.shouldWrapBody?Object.assign(Object.assign({},e.headers),{body:e.body}):t})({body:e.parsedBody,headers:i,hasNullableType:s,shouldWrapBody:(c=e.parsedBody,u=a,"Composite"!==u&&"Dictionary"!==u&&("string"==typeof c||"number"==typeof c||"boolean"==typeof c||null!==(null==u?void 0:u.match(/^(Date|DateTime|DateTimeRfc1123|UnixTime|ByteArray|Base64Url)$/i))||null==c))})}var at=(function(){return t(s[6])(function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t(s[4])(this,e),this.modelMappers=n,this.isXML=r},[{key:"validateConstraints",value:function(e,t,n){var r=function(e,r){throw new Error("\""+n+"\" with value \""+t+"\" should satisfy the constraint \""+e+"\": "+r+".")};if(e.constraints&&null!=t){var i=e.constraints,o=i.ExclusiveMaximum,s=i.ExclusiveMinimum,a=i.InclusiveMaximum,c=i.InclusiveMinimum,u=i.MaxItems,l=i.MaxLength,d=i.MinItems,p=i.MinLength,h=i.MultipleOf,f=i.Pattern,v=i.UniqueItems;if(void 0!==o&&t>=o&&r("ExclusiveMaximum",o),void 0!==s&&t<=s&&r("ExclusiveMinimum",s),void 0!==a&&t>a&&r("InclusiveMaximum",a),void 0!==c&&t<c&&r("InclusiveMinimum",c),void 0!==u&&t.length>u&&r("MaxItems",u),void 0!==l&&t.length>l&&r("MaxLength",l),void 0!==d&&t.length<d&&r("MinItems",d),void 0!==p&&t.length<p&&r("MinLength",p),void 0!==h&&t%h!=0&&r("MultipleOf",h),f){var m="string"==typeof f?new RegExp(f):f;"string"==typeof t&&null!==t.match(m)||r("Pattern",f)}v&&t.some(function(e,t,n){return n.indexOf(e)!==t})&&r("UniqueItems",v)}}},{key:"serialize",value:function(e,n,r){var i,o,a,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{xml:{}},u={xml:{rootName:null!==(i=c.xml.rootName)&&void 0!==i?i:"",includeRoot:null!==(o=c.xml.includeRoot)&&void 0!==o&&o,xmlCharKey:null!==(a=c.xml.xmlCharKey)&&void 0!==a?a:Ve}},l={},d=e.type.name;r||(r=e.serializedName),null!==d.match(/^Sequence$/i)&&(l=[]),e.isConstant&&(n=e.defaultValue);var p=e.required,h=e.nullable;if(p&&h&&void 0===n)throw new Error(r+" cannot be undefined.");if(p&&!h&&null==n)throw new Error(r+" cannot be null or undefined.");if(!p&&!1===h&&null===n)throw new Error(r+" cannot be null.");return null==n||null!==d.match(/^any$/i)?l=n:null!==d.match(/^(Number|String|Boolean|Object|Stream|Uuid)$/i)?l=(function(e,t,n){if(null!=n)if(null!==e.match(/^Number$/i)){if("number"!=typeof n)throw new Error(t+" with value "+n+" must be of type number.")}else if(null!==e.match(/^String$/i)){if("string"!=typeof n.valueOf())throw new Error(t+" with value \""+n+"\" must be of type string.")}else if(null!==e.match(/^Uuid$/i)){if("string"!=typeof n.valueOf()||(i=n,!ot.test(i)))throw new Error(t+" with value \""+n+"\" must be of type string and a valid uuid.")}else if(null!==e.match(/^Boolean$/i)){if("boolean"!=typeof n)throw new Error(t+" with value "+n+" must be of type boolean.")}else if(null!==e.match(/^Stream$/i)){var r=typeof n;if(!("string"===r||"function"==typeof n.pipe||n instanceof ArrayBuffer||ArrayBuffer.isView(n)||("function"==typeof Blob||"object"==typeof Blob)&&n instanceof Blob||"function"===r))throw new Error(t+" must be a string, Blob, ArrayBuffer, ArrayBufferView, NodeJS.ReadableStream, or () => NodeJS.ReadableStream.")}var i;return n})(d,r,n):null!==d.match(/^Enum$/i)?l=(function(e,t,n){if(!t)throw new Error("Please provide a set of allowedValues to validate "+e+" as an Enum Type.");if(!t.some(function(e){return"string"==typeof e.valueOf()?e.toLowerCase()===n.toLowerCase():e===n}))throw new Error(n+" is not a valid value for "+e+". The valid values are: "+JSON.stringify(t)+".");return n})(r,e.type.allowedValues,n):null!==d.match(/^(Date|DateTime|TimeSpan|DateTimeRfc1123|UnixTime)$/i)?l=(function(e,t,n){if(null!=t)if(null!==e.match(/^Date$/i)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(n+" must be an instanceof Date or a string in ISO8601 format.");t=t instanceof Date?t.toISOString().substring(0,10):new Date(t).toISOString().substring(0,10)}else if(null!==e.match(/^DateTime$/i)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(n+" must be an instanceof Date or a string in ISO8601 format.");t=t instanceof Date?t.toISOString():new Date(t).toISOString()}else if(null!==e.match(/^DateTimeRfc1123$/i)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(n+" must be an instanceof Date or a string in RFC-1123 format.");t=t instanceof Date?t.toUTCString():new Date(t).toUTCString()}else if(null!==e.match(/^UnixTime$/i)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(n+" must be an instanceof Date or a string in RFC-1123/ISO8601 format for it to be serialized in UnixTime/Epoch format.");t=(function(e){if(e)return"string"==typeof e.valueOf()&&(e=new Date(e)),Math.floor(e.getTime()/1e3)})(t)}else if(null!==e.match(/^TimeSpan$/i)&&!(function(e){return it.test(e)})(t))throw new Error(n+" must be a string in ISO 8601 format. Instead was \""+t+"\".");return t})(d,n,r):null!==d.match(/^ByteArray$/i)?l=(function(e,t){if(null!=t){if(!(t instanceof Uint8Array))throw new Error(r+" must be of type Uint8Array.");t=nt(t)}return t})(0,n):null!==d.match(/^Base64Url$/i)?l=(function(e,t){if(null!=t){if(!(t instanceof Uint8Array))throw new Error(r+" must be of type Uint8Array.");t=(function(e){if(e){if(!(e instanceof Uint8Array))throw new Error("Please provide an input of type Uint8Array for converting to Base64Url.");return(function(e,t){for(var n=e.length;n-1>=0&&"="===e[n-1];)--n;return e.substr(0,n)})(nt(e)).replace(/\+/g,"-").replace(/\//g,"_")}})(t)}return t})(0,n):null!==d.match(/^Sequence$/i)?l=(function(e,n,r,i,o,a){var c;if(!Array.isArray(r))throw new Error(i+" must be of type Array.");var u=n.type.element;if(!u||"object"!=typeof u)throw new Error("element\" metadata for an Array must be defined in the mapper and it must of type \"object\" in "+i+".");"Composite"===u.type.name&&u.type.className&&(u=null!==(c=e.modelMappers[u.type.className])&&void 0!==c?c:u);for(var l=[],d=0;d<r.length;d++){var p=e.serialize(u,r[d],i,a);if(o&&u.xmlNamespace){var h=u.xmlNamespacePrefix?"xmlns:"+u.xmlNamespacePrefix:"xmlns";"Composite"===u.type.name?(l[d]=Object.assign({},p),l[d][ze]=t(s[8])({},h,u.xmlNamespace)):(l[d]={},l[d][a.xml.xmlCharKey]=p,l[d][ze]=t(s[8])({},h,u.xmlNamespace))}else l[d]=p}return l})(this,e,n,r,Boolean(this.isXML),u):null!==d.match(/^Dictionary$/i)?l=(function(e,n,r,i,o,a){if("object"!=typeof r)throw new Error(i+" must be of type object.");var c=n.type.value;if(!c||"object"!=typeof c)throw new Error("\"value\" metadata for a Dictionary must be defined in the mapper and it must of type \"object\" in "+i+".");var u={};for(var l of Object.keys(r)){var d=e.serialize(c,r[l],i,a);u[l]=pt(c,d,o,a)}if(o&&n.xmlNamespace){var p=n.xmlNamespacePrefix?"xmlns:"+n.xmlNamespacePrefix:"xmlns",h=u;return h[ze]=t(s[8])({},p,n.xmlNamespace),h}return u})(this,e,n,r,Boolean(this.isXML),u):null!==d.match(/^Composite$/i)&&(l=(function(e,n,r,i,o,a){if(vt(e,n)&&(n=ft(e,n,r,"clientName")),null!=r){var c={},u=dt(e,n,i);for(var l of Object.keys(u)){var d=u[l];if(!d.readOnly){var p=void 0,h=c;if(e.isXML)p=d.xmlIsWrapped?d.xmlName:d.xmlElementName||d.xmlName;else{var f=ut(d.serializedName);for(var v of(p=f.pop(),f))null==h[v]&&(void 0!==r[l]&&null!==r[l]||void 0!==d.defaultValue)&&(h[v]={}),h=h[v]}if(null!=h){if(o&&n.xmlNamespace){var m=n.xmlNamespacePrefix?"xmlns:"+n.xmlNamespacePrefix:"xmlns";h[ze]=Object.assign(Object.assign({},h[ze]),t(s[8])({},m,n.xmlNamespace))}var g=""!==d.serializedName?i+"."+d.serializedName:i,y=r[l],E=vt(e,n);E&&E.clientName===l&&null==y&&(y=n.serializedName);var S=e.serialize(d,y,g,a);if(void 0!==S&&null!=p){var T=pt(d,S,o,a);o&&d.xmlIsAttribute?(h[ze]=h[ze]||{},h[ze][p]=S):o&&d.xmlIsWrapped?h[p]=t(s[8])({},d.xmlElementName,T):h[p]=T}}}}var C=(function(e,t,n){var r=t.type.additionalProperties;if(!r&&t.type.className){var i=lt(e,t,n);return null==i?void 0:i.type.additionalProperties}return r})(e,n,i);if(C){var b=Object.keys(u),R=function(t){b.every(function(e){return e!==t})&&(c[t]=e.serialize(C,r[t],i+'["'+t+'"]',a))};for(var I in r)R(I)}return c}return r})(this,e,n,r,Boolean(this.isXML),u)),l}},{key:"deserialize",value:function(e,n,r){var i,o,a,c,u,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{xml:{}},d={xml:{rootName:null!==(i=l.xml.rootName)&&void 0!==i?i:"",includeRoot:null!==(o=l.xml.includeRoot)&&void 0!==o&&o,xmlCharKey:null!==(a=l.xml.xmlCharKey)&&void 0!==a?a:Ve},ignoreUnknownProperties:null!==(c=l.ignoreUnknownProperties)&&void 0!==c&&c};if(null==n)return this.isXML&&"Sequence"===e.type.name&&!e.xmlIsWrapped&&(n=[]),void 0!==e.defaultValue&&(n=e.defaultValue),n;var p=e.type.name;if(r||(r=e.serializedName),null!==p.match(/^Composite$/i))u=(function(e,n,r,i,o){var a,c,u=null!==(a=o.xml.xmlCharKey)&&void 0!==a?a:Ve;vt(e,n)&&(n=ft(e,n,r,"serializedName"));var l=dt(e,n,i),d={},p=[];for(var h of Object.keys(l)){var f=l[h],v=ut(l[h].serializedName);p.push(v[0]);var m=f.serializedName,g=f.xmlName,y=f.xmlElementName,E=i;""!==m&&void 0!==m&&(E=i+"."+m);var S=f.headerCollectionPrefix;if(S){var T={};for(var C of Object.keys(r))C.startsWith(S)&&(T[C.substring(S.length)]=e.deserialize(f.type.value,r[C],E,o)),p.push(C);d[h]=T}else if(e.isXML)if(f.xmlIsAttribute&&r[ze])d[h]=e.deserialize(f,r[ze][g],E,o);else if(f.xmlIsMsText)void 0!==r[u]?d[h]=r[u]:"string"==typeof r&&(d[h]=r);else{var b=y||g||m;if(f.xmlIsWrapped){var R=r[g],I=null!==(c=null==R?void 0:R[y])&&void 0!==c?c:[];d[h]=e.deserialize(f,I,E,o),p.push(g)}else{var A=r[b];d[h]=e.deserialize(f,A,E,o),p.push(b)}}else{var w=void 0,_=r,O=0;for(var k of v){if(!_)break;O++,_=_[k]}null===_&&O<v.length&&(_=void 0),w=_;var P=n.type.polymorphicDiscriminator,N=void 0;if(P&&h===P.clientName&&null==w&&(w=n.serializedName),Array.isArray(r[h])&&""===l[h].serializedName){w=r[h];var D=e.deserialize(f,w,E,o);for(var M of Object.entries(d)){var x=t(s[9])(M,2),U=x[0],L=x[1];Object.prototype.hasOwnProperty.call(D,U)||(D[U]=L)}d=D}else void 0===w&&void 0===f.defaultValue||(N=e.deserialize(f,w,E,o),d[h]=N)}}var q=n.type.additionalProperties;if(q){var j=function(e){for(var t in l)if(ut(l[t].serializedName)[0]===e)return!1;return!0};for(var F in r)j(F)&&(d[F]=e.deserialize(q,r[F],i+'["'+F+'"]',o))}else if(r&&!o.ignoreUnknownProperties)for(var G of Object.keys(r))void 0!==d[G]||p.includes(G)||ht(G,o)||(d[G]=r[G]);return d})(this,e,n,r,d);else{if(this.isXML){var h=d.xml.xmlCharKey;void 0!==n[ze]&&void 0!==n[h]&&(n=n[h])}null!==p.match(/^Number$/i)?(u=parseFloat(n),isNaN(u)&&(u=n)):null!==p.match(/^Boolean$/i)?u="true"===n||"false"!==n&&n:null!==p.match(/^(String|Enum|Object|Stream|Uuid|TimeSpan|any)$/i)?u=n:null!==p.match(/^(Date|DateTime|DateTimeRfc1123)$/i)?u=new Date(n):null!==p.match(/^UnixTime$/i)?u=(function(e){if(n)return new Date(1e3*n)})():null!==p.match(/^ByteArray$/i)?u=rt(n):null!==p.match(/^Base64Url$/i)?u=(function(e){if(e){if(e&&"string"!=typeof e.valueOf())throw new Error("Please provide an input of type string for converting to Uint8Array");return rt(e=e.replace(/-/g,"+").replace(/_/g,"/"))}})(n):null!==p.match(/^Sequence$/i)?u=(function(e,t,n,r,i){var o,s=t.type.element;if(!s||"object"!=typeof s)throw new Error("element\" metadata for an Array must be defined in the mapper and it must of type \"object\" in "+r);if(n){Array.isArray(n)||(n=[n]),"Composite"===s.type.name&&s.type.className&&(s=null!==(o=e.modelMappers[s.type.className])&&void 0!==o?o:s);for(var a=[],c=0;c<n.length;c++)a[c]=e.deserialize(s,n[c],r+"["+c+"]",i);return a}return n})(this,e,n,r,d):null!==p.match(/^Dictionary$/i)&&(u=(function(e,t,n,r,i){var o=t.type.value;if(!o||"object"!=typeof o)throw new Error("\"value\" metadata for a Dictionary must be defined in the mapper and it must of type \"object\" in "+r);if(n){var s={};for(var a of Object.keys(n))s[a]=e.deserialize(o,n[a],r,i);return s}return n})(this,e,n,r,d))}return e.isConstant&&(u=e.defaultValue),u}}])})();function ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new at(e,t)}function ut(e){var t=[],n="";if(e){var r=e.split(".");for(var i of r)"\\"===i.charAt(i.length-1)?n+=i.substr(0,i.length-1)+".":(n+=i,t.push(n),n="")}return t}function lt(e,t,n){var r=t.type.className;if(!r)throw new Error("Class name for model \""+n+"\" is not provided in the mapper \""+JSON.stringify(t,void 0,2)+"\".");return e.modelMappers[r]}function dt(e,t,n){var r=t.type.modelProperties;if(!r){var i=lt(e,t,n);if(!i)throw new Error("mapper() cannot be null or undefined for model \""+t.type.className+"\".");if(!(r=null==i?void 0:i.type.modelProperties))throw new Error("modelProperties cannot be null or undefined in the mapper \""+JSON.stringify(i)+"\" of type \""+t.type.className+"\" for object \""+n+"\".")}return r}function pt(e,n,r,i){if(!r||!e.xmlNamespace)return n;var o=t(s[8])({},e.xmlNamespacePrefix?"xmlns:"+e.xmlNamespacePrefix:"xmlns",e.xmlNamespace);if(["Composite"].includes(e.type.name)){if(n[ze])return n;var a=Object.assign({},n);return a[ze]=o,a}var c={};return c[i.xml.xmlCharKey]=n,c[ze]=o,c}function ht(e,t){return[ze,t.xml.xmlCharKey].includes(e)}function ft(e,n,r,i){var o,a=vt(e,n);if(a){var c=a[i];if(c){"serializedName"===i&&(c=c.replace(/\\/gi,""));var u=r[c],l=null!==(o=n.type.uberParent)&&void 0!==o?o:n.type.className;if("string"==typeof u&&l){var d=(function(e,n,r){for(var i=[l];i.length;){var o=i.shift(),a=n===o?n:o+"."+n;if(Object.prototype.hasOwnProperty.call(e,a))return e[a];for(var c of Object.entries(e)){var u=t(s[9])(c,2),d=u[0],p=u[1];d.startsWith(o+".")&&p.type.uberParent===o&&p.type.className&&i.push(p.type.className)}}})(e.modelMappers.discriminators,u);d&&(n=d)}}}return n}function vt(e,t){return t.type.polymorphicDiscriminator||mt(e,t.type.uberParent)||mt(e,t.type.className)}function mt(e,t){return t&&e.modelMappers[t]&&e.modelMappers[t].type.polymorphicDiscriminator}var gt="Sequence",yt="String",Et="Stream";function St(e,t,n){var r,i=t.parameterPath,o=t.mapper;if("string"==typeof i&&(i=[i]),Array.isArray(i)){if(i.length>0)if(o.isConstant)r=o.defaultValue;else{var s=Tt(e,i);!s.propertyFound&&n&&(s=Tt(n,i));var a=!1;s.propertyFound||(a=o.required||"options"===i[0]&&2===i.length),r=a?o.defaultValue:s.propertyValue}}else for(var c in o.required&&(r={}),i){var u=o.type.modelProperties[c],l=St(e,{parameterPath:i[c],mapper:u},n);void 0!==l&&(r||(r={}),r[c]=l)}return r}function Tt(e,t){for(var n={propertyFound:!1},r=0;r<t.length;++r){var i=t[r];if(!(e&&i in e))break;e=e[i]}return r===t.length&&(n.propertyValue=e,n.propertyFound=!0),n}var Ct=new WeakMap,bt=Symbol.for("@azure/core-client original request");function Rt(e){if((function(e){return bt in e})(e))return Rt(e[bt]);var t=Ct.get(e);return t||(t={},Ct.set(e,t)),t}var It=["application/json","text/json"],At=["application/xml","application/atom+xml"],wt=i(901),_t=(0,wt.YR)("core-rest-pipeline"),Ot=new Set(["Deserialize","Serialize","Retry","Sign"]),kt=(function(){function e(n){var r;t(s[4])(this,e),this._policies=[],this._policies=null!==(r=null==n?void 0:n.slice(0))&&void 0!==r?r:[],this._orderedPolicies=void 0}return t(s[6])(e,[{key:"addPolicy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.phase&&t.afterPhase)throw new Error("Policies inside a phase cannot specify afterPhase.");if(t.phase&&!Ot.has(t.phase))throw new Error("Invalid phase name: "+t.phase);if(t.afterPhase&&!Ot.has(t.afterPhase))throw new Error("Invalid afterPhase name: "+t.afterPhase);this._policies.push({policy:e,options:t}),this._orderedPolicies=void 0}},{key:"removePolicy",value:function(e){var t=[];return this._policies=this._policies.filter(function(n){return!(e.name&&n.policy.name===e.name||e.phase&&n.options.phase===e.phase)||(t.push(n.policy),!1)}),this._orderedPolicies=void 0,t}},{key:"sendRequest",value:function(e,t){return this.getOrderedPolicies().reduceRight(function(e,t){return function(n){return t.sendRequest(n,e)}},function(t){return e.sendRequest(t)})(t)}},{key:"getOrderedPolicies",value:function(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}},{key:"clone",value:function(){return new e(this._policies)}},{key:"orderPolicies",value:function(){var e=[],t=new Map;function n(e){return{name:e,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}var r=n("Serialize"),i=n("None"),o=n("Deserialize"),s=n("Retry"),a=n("Sign"),c=[r,i,o,s,a];function u(e){return"Retry"===e?s:"Serialize"===e?r:"Deserialize"===e?o:"Sign"===e?a:i}for(var l of this._policies){var d=l.policy,p=l.options,h=d.name;if(t.has(h))throw new Error("Duplicate policy names not allowed in pipeline");var f={policy:d,dependsOn:new Set,dependants:new Set};p.afterPhase&&(f.afterPhase=u(p.afterPhase),f.afterPhase.hasAfterPolicies=!0),t.set(h,f),u(p.phase).policies.add(f)}for(var v of this._policies){var m=v.policy,g=v.options,y=m.name,E=t.get(y);if(!E)throw new Error("Missing node for policy "+y);if(g.afterPolicies)for(var S of g.afterPolicies){var T=t.get(S);T&&(E.dependsOn.add(T),T.dependants.add(E))}if(g.beforePolicies)for(var C of g.beforePolicies){var b=t.get(C);b&&(b.dependsOn.add(E),E.dependants.add(b))}}function R(n){for(var r of(n.hasRun=!0,n.policies))if((!r.afterPhase||r.afterPhase.hasRun&&!r.afterPhase.policies.size)&&0===r.dependsOn.size){for(var i of(e.push(r.policy),r.dependants))i.dependsOn.delete(r);t.delete(r.policy.name),n.policies.delete(r)}}function I(){for(var e of c){if(R(e),e.policies.size>0&&e!==i)return void(i.hasRun||R(i));e.hasAfterPolicies&&R(i)}}for(var A=0;t.size>0;){A++;var w=e.length;if(I(),e.length<=w&&A>1)throw new Error("Cannot satisfy policy dependencies due to requirements cycle.")}return e}}],[{key:"create",value:function(){return new e}}])})(),Pt="1.11.0",Nt=3;function Dt(e){var n=new Map;n.set("core-rest-pipeline",Pt),(function(e){var t,n,r,i=globalThis.navigator;e.set("OS",(null!==(r=null!==(n=null===(t=null==i?void 0:i.userAgentData)||void 0===t?void 0:t.platform)&&void 0!==n?n:null==i?void 0:i.platform)&&void 0!==r?r:"unknown").replace(" ",""))})(n);var r=(function(e){var n=[];for(var r of e){var i=t(s[9])(r,2),o=i[0],a=i[1],c=a?o+"/"+a:o;n.push(c)}return n.join(" ")})(n);return e?e+" "+r:r}var Mt="x-ms-useragent";new Error("decompressResponsePolicy is not supported in browser environment");var xt=i(2571),Ut="The operation was aborted.";function Lt(e,t,n){return new Promise(function(r,i){var o,s,a=function(){return i(new xt._((null==n?void 0:n.abortErrorMsg)?null==n?void 0:n.abortErrorMsg:Ut))},c=function(){(null==n?void 0:n.abortSignal)&&s&&n.abortSignal.removeEventListener("abort",s)};if(s=function(){return o&&clearTimeout(o),c(),a()},(null==n?void 0:n.abortSignal)&&n.abortSignal.aborted)return a();o=setTimeout(function(){c(),r(t)},e),(null==n?void 0:n.abortSignal)&&n.abortSignal.addEventListener("abort",s)})}function qt(e,t){var n=e.headers.get(t);if(n){var r=Number(n);return Number.isNaN(r)?void 0:r}}var jt="Retry-After",Ft=["retry-after-ms","x-ms-retry-after-ms",jt];function Gt(e){if(e&&[429,503].includes(e.status))try{for(var t of Ft){var n=qt(e,t);if(0===n||n)return n*(t===jt?1e3:1)}var r=e.headers.get(jt);if(!r)return;var i=Date.parse(r)-Date.now();return Number.isFinite(i)?Math.max(0,i):void 0}catch(e){return}}var Ht=1e3,Bt=64e3;function zt(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=null!==(e=n.retryDelayInMs)&&void 0!==e?e:Ht,i=null!==(t=n.maxRetryDelayInMs)&&void 0!==t?t:Bt,o=r;return{name:"exponentialRetryStrategy",retry:function(e){var t,r=e.retryCount,s=e.response,a=e.responseError,c=!!(t=a)&&("ETIMEDOUT"===t.code||"ESOCKETTIMEDOUT"===t.code||"ECONNREFUSED"===t.code||"ECONNRESET"===t.code||"ENOENT"===t.code),u=c&&n.ignoreSystemErrors,l=(function(e){return Boolean(e&&void 0!==e.status&&(e.status>=500||408===e.status)&&501!==e.status&&505!==e.status)})(s),d=l&&n.ignoreHttpStatusCodes;if(s&&((function(e){return Number.isFinite(Gt(e))})(s)||!l)||d||u)return{skipStrategy:!0};if(a&&!c&&!l)return{errorToThrow:a};var p,h,f=o*Math.pow(2,r),v=Math.min(i,f);return{retryAfterInMs:o=v/2+(p=0,h=v/2,p=Math.ceil(p),h=Math.floor(h),Math.floor(Math.random()*(h-p+1))+p)}}}}var Vt=(0,wt.YR)("core-rest-pipeline retryPolicy"),Wt="retryPolicy";function Kt(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxRetries:Nt},r=n.logger||Vt;return{name:Wt,sendRequest:(function(){var i=t(s[11])(function*(t,i){var o,s,a,c,u=-1;e:for(;;){u+=1,a=void 0,c=void 0;try{r.info("Retry "+u+": Attempting to send request",t.requestId),a=yield i(t),r.info("Retry "+u+": Received a response from request",t.requestId)}catch(e){if(r.error("Retry "+u+": Received an error from request",t.requestId),c=e,!e||"RestError"!==c.name)throw e;a=c.response}if(null===(o=t.abortSignal)||void 0===o?void 0:o.aborted)throw r.error("Retry "+u+": Request aborted."),new xt._;if(u>=(null!==(s=n.maxRetries)&&void 0!==s?s:Nt)){if(r.info("Retry "+u+": Maximum retries reached. Returning the last received response, or throwing the last received error."),c)throw c;if(a)return a;throw new Error("Maximum retries reached with no response or error to throw")}for(var l of(r.info("Retry "+u+": Processing "+e.length+" retry strategies."),e)){var d=l.logger||Vt;d.info("Retry "+u+": Processing retry strategy "+l.name+".");var p=l.retry({retryCount:u,response:a,responseError:c});if(p.skipStrategy)d.info("Retry "+u+": Skipped.");else{var h=p.errorToThrow,f=p.retryAfterInMs,v=p.redirectTo;if(h)throw d.error("Retry "+u+": Retry strategy "+l.name+" throws error:",h),h;if(f||0===f){d.info("Retry "+u+": Retry strategy "+l.name+" retries after "+f),yield Lt(f,void 0,{abortSignal:t.abortSignal});continue e}if(v){d.info("Retry "+u+": Retry strategy "+l.name+" redirects to "+v),t.url=v;continue e}}}if(c)throw r.info("None of the retry strategies could work with the received error. Throwing it."),c;if(a)return r.info("None of the retry strategies could work with the received response. Returning it."),a}});return function(e,t){return i.apply(this,arguments)}})()}}new Error("proxyPolicy is not supported in browser environment");var Jt={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};function $t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Xt(e.parentContext);return e.span&&(t=t.setValue(Jt.span,e.span)),e.namespace&&(t=t.setValue(Jt.namespace,e.namespace)),t}var Yt,Xt=(function(){function e(n){t(s[4])(this,e),this._contextMap=n instanceof e?new Map(n._contextMap):new Map}return t(s[6])(e,[{key:"setValue",value:function(t,n){var r=new e(this);return r._contextMap.set(t,n),r}},{key:"getValue",value:function(e){return this._contextMap.get(e)}},{key:"deleteValue",value:function(t){var n=new e(this);return n._contextMap.delete(t),n}}])})();function Qt(){return Yt||(Yt={createRequestHeaders:function(){return{}},parseTraceparentHeader:function(){},startSpan:function(e,t){return{span:{end:function(){},isRecording:function(){return!1},recordException:function(){},setAttribute:function(){},setStatus:function(){}},tracingContext:$t({parentContext:t.tracingContext})}},withContext:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return t.apply(void 0,r)}}),Yt}function Zt(e){var n=e.namespace,r=e.packageName,i=e.packageVersion;function o(e,t,o){var s,a=Qt().startSpan(e,Object.assign(Object.assign({},o),{packageName:r,packageVersion:i,tracingContext:null===(s=null==t?void 0:t.tracingOptions)||void 0===s?void 0:s.tracingContext})),c=a.tracingContext,u=a.span;return c.getValue(Jt.namespace)||(c=c.setValue(Jt.namespace,n)),u.setAttribute("az.namespace",c.getValue(Jt.namespace)),{span:u,updatedOptions:Object.assign({},t,{tracingOptions:Object.assign(Object.assign({},null==t?void 0:t.tracingOptions),{tracingContext:c})})}}function a(e,t){for(var n,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return(n=Qt()).withContext.apply(n,[e,t].concat(i))}return{startSpan:o,withSpan:(function(){var e=t(s[11])(function*(e,t,n,r){var i=o(e,t,r),s=i.span,c=i.updatedOptions;try{var u=yield a(c.tracingOptions.tracingContext,function(){return Promise.resolve(n(c,s))});return s.setStatus({status:"success"}),u}catch(e){throw s.setStatus({status:"error",error:e}),e}finally{s.end()}});return function(t,n,r,i){return e.apply(this,arguments)}})(),withContext:a,parseTraceparentHeader:function(e){return Qt().parseTraceparentHeader(e)},createRequestHeaders:function(e){return Qt().createRequestHeaders(e)}}}var en="tracingPolicy";function tn(e){var n=kt.create();return n.addPolicy({name:"formDataPolicy",sendRequest:(function(){var e=t(s[11])(function*(e,t){if(e.formData){var n=e.formData,r=new FormData;for(var i of Object.keys(n)){var o=n[i];if(Array.isArray(o))for(var s of o)r.append(i,s);else r.append(i,o)}e.body=r,e.formData=void 0;var a=e.headers.get("Content-Type");a&&-1!==a.indexOf("application/x-www-form-urlencoded")?e.body=new URLSearchParams(r).toString():a&&-1!==a.indexOf("multipart/form-data")&&e.headers.delete("Content-Type")}return t(e)});return function(t,n){return e.apply(this,arguments)}})()}),n.addPolicy((function(){var e=Dt((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).userAgentPrefix);return{name:"userAgentPolicy",sendRequest:(function(){var n=t(s[11])(function*(t,n){return t.headers.has(Mt)||t.headers.set(Mt,e),n(t)});return function(e,t){return n.apply(this,arguments)}})()}})(e.userAgentOptions)),n.addPolicy((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x-ms-client-request-id";return{name:"setClientRequestIdPolicy",sendRequest:(function(){var n=t(s[11])(function*(t,n){return t.headers.has(e)||t.headers.set(e,t.requestId),n(t)});return function(e,t){return n.apply(this,arguments)}})()}})()),n.addPolicy((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"defaultRetryPolicy",sendRequest:Kt([{name:"throttlingRetryStrategy",retry:function(e){var t=Gt(e.response);return Number.isFinite(t)?{retryAfterInMs:t}:{skipStrategy:!0}}},zt(t)],{maxRetries:null!==(e=t.maxRetries)&&void 0!==e?e:Nt}).sendRequest}})(e.retryOptions),{phase:"Retry"}),n.addPolicy((function(){var e=Dt((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).userAgentPrefix),n=(function(){try{return Zt({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:Pt})}catch(e){return void _t.warning("Error when creating the TracingClient: "+Je(e))}})();return{name:en,sendRequest:(function(){var r=t(s[11])(function*(r,i){var o,a;if(!n||!(null===(o=r.tracingOptions)||void 0===o?void 0:o.tracingContext))return i(r);var c=null!==(a=(function(e,n,r){try{var i=e.startSpan("HTTP "+n.method,{tracingOptions:n.tracingOptions},{spanKind:"client",spanAttributes:{"http.method":n.method,"http.url":n.url,requestId:n.requestId}}),o=i.span,a=i.updatedOptions;if(!o.isRecording())return void o.end();r&&o.setAttribute("http.user_agent",r);var c=e.createRequestHeaders(a.tracingOptions.tracingContext);for(var u of Object.entries(c)){var l=t(s[9])(u,2),d=l[0],p=l[1];n.headers.set(d,p)}return{span:o,tracingContext:a.tracingOptions.tracingContext}}catch(e){return void _t.warning("Skipping creating a tracing span due to an error: "+Je(e))}})(n,r,e))&&void 0!==a?a:{},u=c.span,l=c.tracingContext;if(!u||!l)return i(r);try{var d=yield n.withContext(l,i,r);return(function(e,t){try{e.setAttribute("http.status_code",t.status);var n=t.headers.get("x-ms-request-id");n&&e.setAttribute("serviceRequestId",n),e.setStatus({status:"success"}),e.end()}catch(e){_t.warning("Skipping tracing span processing due to an error: "+Je(e))}})(u,d),d}catch(r){throw(function(e,t){try{e.setStatus({status:"error",error:Ke(t)?t:void 0}),(function(e){return e instanceof tt||Ke(e)&&"RestError"===e.name})(t)&&t.statusCode&&e.setAttribute("http.status_code",t.statusCode),e.end()}catch(e){_t.warning("Skipping tracing span processing due to an error: "+Je(e))}})(u,r),r}});return function(e,t){return r.apply(this,arguments)}})()}})(e.userAgentOptions),{afterPhase:"Retry"}),n.addPolicy((function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=null!==(e=n.logger)&&void 0!==e?e:_t.info,i=new Ze({additionalAllowedHeaderNames:n.additionalAllowedHeaderNames,additionalAllowedQueryParameters:n.additionalAllowedQueryParameters});return{name:"logPolicy",sendRequest:(function(){var e=t(s[11])(function*(e,t){if(!r.enabled)return t(e);r("Request: "+i.sanitize(e));var n=yield t(e);return r("Response status code: "+n.status),r("Headers: "+i.sanitize(n.headers)),n});return function(t,n){return e.apply(this,arguments)}})()}})(e.loggingOptions),{afterPhase:"Sign"}),n}var nn={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:12e4};function rn(e){return on.apply(this,arguments)}function on(){return(on=t(s[11])(function*(e){var t=e.scopes,n=e.getAccessToken,r=e.request,i=yield n(t,{abortSignal:r.abortSignal,tracingOptions:r.tracingOptions});i&&e.request.headers.set("Authorization","Bearer "+i.token)})).apply(this,arguments)}function sn(e){var n,r=e.credential,i=e.scopes,o=e.challengeCallbacks,a=e.logger||_t,c=Object.assign({authorizeRequest:null!==(n=null==o?void 0:o.authorizeRequest)&&void 0!==n?n:rn,authorizeRequestOnChallenge:null==o?void 0:o.authorizeRequestOnChallenge},o),u=r?(function(e,n){var r,i,o=null,a=null,c=Object.assign(Object.assign({},nn),void 0),u={get isRefreshing(){return null!==o},get shouldRefresh(){var e;return!u.isRefreshing&&(null!==(e=null==a?void 0:a.expiresOnTimestamp)&&void 0!==e?e:0)-c.refreshWindowInMs<Date.now()},get mustRefresh(){return null===a||a.expiresOnTimestamp-c.forcedRefreshWindowInMs<Date.now()}};function l(n,i){var l,d;return u.isRefreshing||(o=(d=t(s[11])(function*(e,n,r){function i(){return o.apply(this,arguments)}function o(){return(o=t(s[11])(function*(){if(!(Date.now()<r)){var t=yield e();if(null===t)throw new Error("Failed to refresh access token.");return t}try{return yield e()}catch(e){return null}})).apply(this,arguments)}for(var a=yield i();null===a;)yield Lt(n),a=yield i();return a}),function(e,t,n){return d.apply(this,arguments)})(function(){return e.getToken(n,i)},c.retryIntervalInMs,null!==(l=null==a?void 0:a.expiresOnTimestamp)&&void 0!==l?l:Date.now()).then(function(e){return o=null,a=e,r=i.tenantId,a}).catch(function(e){throw o=null,a=null,r=void 0,e})),o}return i=t(s[11])(function*(e,t){return r!==t.tenantId||Boolean(t.claims)||u.mustRefresh?l(e,t):(u.shouldRefresh&&l(e,t),a)}),function(e,t){return i.apply(this,arguments)}})(r):function(){return Promise.resolve(null)};return{name:"bearerTokenAuthenticationPolicy",sendRequest:(function(){var e=t(s[11])(function*(e,t){if(!e.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");var n,r;yield c.authorizeRequest({scopes:Array.isArray(i)?i:[i],request:e,getAccessToken:u,logger:a});try{n=yield t(e)}catch(e){r=e,n=e.response}if(c.authorizeRequestOnChallenge&&401===(null==n?void 0:n.status)&&(function(e){var t=e.headers.get("WWW-Authenticate");if(401===e.status&&t)return t})(n)&&(yield c.authorizeRequestOnChallenge({scopes:Array.isArray(i)?i:[i],request:e,response:n,getAccessToken:u,logger:a})))return t(e);if(r)throw r;return n});return function(t,n){return e.apply(this,arguments)}})()}}function an(e){var t=e.parameterPath,n=e.mapper;return"string"==typeof t?t:Array.isArray(t)?t.join("."):n.serializedName}function cn(e){return Boolean(e&&"function"==typeof e.getReader&&"function"==typeof e.tee)}var un,ln=(function(){return t(s[6])(function e(){t(s[4])(this,e)},[{key:"sendRequest",value:(function(){var e=t(s[11])(function*(e){if("https:"!==new URL(e.url).protocol&&!e.allowInsecureConnection)throw new Error("Cannot connect to "+e.url+" while allowInsecureConnection is false.");if(e.proxySettings)throw new Error("HTTP proxy is not supported in browser environment");try{return yield(n=t(s[11])(function*(e){var n,r,i=(function(e){var t,n,r=new AbortController;if(e.abortSignal){if(e.abortSignal.aborted)throw new xt._("The operation was aborted.");n=function(e){"abort"===e.type&&r.abort()},e.abortSignal.addEventListener("abort",n),t=function(){var t;n&&(null===(t=e.abortSignal)||void 0===t||t.removeEventListener("abort",n))}}return e.timeout>0&&setTimeout(function(){r.abort()},e.timeout),{abortController:r,abortControllerCleanup:t}})(e),o=i.abortController,a=i.abortControllerCleanup;try{var c=(function(e){var n=new Headers;for(var r of e){var i=t(s[9])(r,2),o=i[0],a=i[1];n.append(o,a)}return n})(e.headers),u=(function(e){var t="function"==typeof e.body?e.body():e.body;if(t&&"function"==typeof t.pipe)throw new Error("Node streams are not supported in browser environment.");return cn(t)?dn(t,e.onUploadProgress):t})(e),l=yield fetch(e.url,{body:u,method:e.method,headers:c,signal:o.signal,credentials:e.withCredentials?"include":"same-origin",cache:"no-store"});return r=e.body,("function"==typeof Blob||"object"==typeof Blob)&&r instanceof Blob&&e.onUploadProgress&&e.onUploadProgress({loadedBytes:e.body.size}),(n=t(s[11])(function*(e,n){var r,i,o={request:n,headers:(function(e){var n=Ge();for(var r of e.headers){var i=t(s[9])(r,2),o=i[0],a=i[1];n.set(o,a)}return n})(e),status:e.status},a=cn(e.body)?dn(e.body,n.onDownloadProgress):e.body;if((null===(r=n.streamResponseStatusCodes)||void 0===r?void 0:r.has(Number.POSITIVE_INFINITY))||(null===(i=n.streamResponseStatusCodes)||void 0===i?void 0:i.has(o.status)))if(n.enableBrowserStreams)o.browserStreamBody=null!=a?a:void 0;else{var c=new Response(a);o.blobBody=c.blob()}else{var u=new Response(a);o.bodyAsText=yield u.text()}return o}),function(e,t){return n.apply(this,arguments)})(l,e)}finally{a&&a()}}),function(e){return n.apply(this,arguments)})(e)}catch(t){throw(function(e,t){var n;return e&&"AbortError"===(null==e?void 0:e.name)?e:new tt("Error sending request: "+e.message,{code:null!==(n=null==e?void 0:e.code)&&void 0!==n?n:tt.REQUEST_SEND_ERROR,request:t})})(t,e)}var n});return function(t){return e.apply(this,arguments)}})()}])})();function dn(e,n){var r=0;if((function(e){return void 0!==e.pipeThrough&&void 0!==self.TransformStream})(e))return e.pipeThrough(new TransformStream({transform:function(e,t){null!==e?(t.enqueue(e),r+=e.length,n&&n({loadedBytes:r})):t.terminate()}}));var i=e.getReader();return new ReadableStream({pull:(function(){var e=t(s[11])(function*(e){var t,o=yield i.read(),s=o.done,a=o.value;if(s||!a)return e.close(),void i.releaseLock();r+=null!==(t=null==a?void 0:a.length)&&void 0!==t?t:0,e.enqueue(a),n&&n({loadedBytes:r})});return function(t){return e.apply(this,arguments)}})()})}var pn={CSV:",",SSV:" ",Multi:"Multi",TSV:"\t",Pipes:"|"};function hn(e,n,r,i){var o=(function(e,t,n){var r,i=new Map;if(null===(r=e.urlParameters)||void 0===r?void 0:r.length)for(var o of e.urlParameters){var s=St(t,o,n),a=an(o);s=e.serializer.serialize(o.mapper,s,a),o.skipEncoding||(s=encodeURIComponent(s)),i.set("{"+(o.mapper.serializedName||a)+"}",s)}return i})(n,r,i),a=!1,c=fn(e,o);if(n.path){var u=fn(n.path,o);"/{nextLink}"===n.path&&u.startsWith("/")&&(u=u.substring(1)),u.includes("://")?(c=u,a=!0):c=(function(e,t){if(!t)return c;var n=new URL(c),r=n.pathname;r.endsWith("/")||(r+="/"),t.startsWith("/")&&(t=t.substring(1));var i=t.indexOf("?");if(-1!==i){var o=t.substring(0,i),s=t.substring(i+1);r+=o,s&&(n.search=n.search?n.search+"&"+s:s)}else r+=t;return n.pathname=r,n.toString()})(0,u)}var l=(function(e,t,n){var r,i=new Map,o=new Set;if(null===(r=e.queryParameters)||void 0===r?void 0:r.length)for(var s of e.queryParameters){"Sequence"===s.mapper.type.name&&s.mapper.serializedName&&o.add(s.mapper.serializedName);var a=St(t,s,n);if(null!=a||s.mapper.required){a=e.serializer.serialize(s.mapper,a,an(s));var c=s.collectionFormat?pn[s.collectionFormat]:"";if(Array.isArray(a)&&(a=a.map(function(e){return null==e?"":e})),"Multi"===s.collectionFormat&&0===a.length)continue;!Array.isArray(a)||"SSV"!==s.collectionFormat&&"TSV"!==s.collectionFormat||(a=a.join(c)),s.skipEncoding||(a=Array.isArray(a)?a.map(function(e){return encodeURIComponent(e)}):encodeURIComponent(a)),!Array.isArray(a)||"CSV"!==s.collectionFormat&&"Pipes"!==s.collectionFormat||(a=a.join(c)),i.set(s.mapper.serializedName||an(s),a)}}return{queryParams:i,sequenceParams:o}})(n,r,i);return c=(function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0===n.size)return e;var o=new URL(e),a=(function(e){var n=new Map;if(!e||"?"!==e[0])return n;var r=(e=e.slice(1)).split("&");for(var i of r){var o=i.split("=",2),a=t(s[9])(o,2),c=a[0],u=a[1],l=n.get(c);l?Array.isArray(l)?l.push(u):n.set(c,[l,u]):n.set(c,u)}return n})(o.search);for(var c of n){var u=t(s[9])(c,2),l=u[0],d=u[1],p=a.get(l);if(Array.isArray(p))if(Array.isArray(d)){p.push.apply(p,t(s[12])(d));var h=new Set(p);a.set(l,Array.from(h))}else p.push(d);else p?(Array.isArray(d)?d.unshift(p):r.has(l)&&a.set(l,[p,d]),i||a.set(l,d)):a.set(l,d)}var f=[];for(var v of a){var m=t(s[9])(v,2),g=m[0],y=m[1];if("string"==typeof y)f.push(g+"="+y);else if(Array.isArray(y))for(var E of y)f.push(g+"="+E);else f.push(g+"="+y)}return o.search=f.length?"?"+f.join("&"):"",o.toString()})(c,l.queryParams,l.sequenceParams,a)}function fn(e,n){var r=e;for(var i of n){var o=t(s[9])(i,2),a=o[0],c=o[1];r=r.split(a).join(c)}return r}var vn=(0,wt.YR)("core-client"),mn=(function(){return t(s[6])(function e(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t(s[4])(this,e),this._requestContentType=i.requestContentType,this._endpoint=null!==(n=i.endpoint)&&void 0!==n?n:i.baseUri,i.baseUri&&vn.warning("The baseUri option for SDK Clients has been deprecated, please use endpoint instead."),this._allowInsecureConnection=i.allowInsecureConnection,this._httpClient=i.httpClient||(un||(un=new ln),un),this.pipeline=i.pipeline||(function(e){var n=(function(e){if(e.credentialScopes)return e.credentialScopes;if(e.endpoint)return e.endpoint+"/.default";if(e.baseUri)return e.baseUri+"/.default";if(e.credential&&!e.credentialScopes)throw new Error("When using credentials, the ServiceClientOptions must contain either a endpoint or a credentialScopes. Unable to create a bearerTokenAuthenticationPolicy")})(e),r=e.credential&&n?{credentialScopes:n,credential:e.credential}:void 0;return(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=tn(null!=e?e:{});return e.credentialOptions&&n.addPolicy(sn({credential:e.credentialOptions.credential,scopes:e.credentialOptions.credentialScopes})),n.addPolicy((function(){var e,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).stringifyXML;return{name:"serializationPolicy",sendRequest:(e=t(s[11])(function*(e,r){var i=Rt(e),o=null==i?void 0:i.operationSpec,a=null==i?void 0:i.operationArguments;return o&&a&&((function(e,t,n){var r,i;if(n.headerParameters)for(var o of n.headerParameters){var s=St(t,o);if(null!=s||o.mapper.required){s=n.serializer.serialize(o.mapper,s,an(o));var a=o.mapper.headerCollectionPrefix;if(a)for(var c of Object.keys(s))e.headers.set(a+c,s[c]);else e.headers.set(o.mapper.serializedName||an(o),s)}}var u=null===(i=null===(r=t.options)||void 0===r?void 0:r.requestOptions)||void 0===i?void 0:i.customHeaders;if(u)for(var l of Object.keys(u))e.headers.set(l,u[l])})(e,a,o),(function(e,n,r){var i,o,a,c,u,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){throw new Error("XML serialization unsupported!")},d=null===(i=n.options)||void 0===i?void 0:i.serializerOptions,p={xml:{rootName:null!==(o=null==d?void 0:d.xml.rootName)&&void 0!==o?o:"",includeRoot:null!==(a=null==d?void 0:d.xml.includeRoot)&&void 0!==a&&a,xmlCharKey:null!==(c=null==d?void 0:d.xml.xmlCharKey)&&void 0!==c?c:Ve}},h=p.xml.xmlCharKey;if(r.requestBody&&r.requestBody.mapper){e.body=St(n,r.requestBody);var f=r.requestBody.mapper,v=f.required,m=f.serializedName,g=f.xmlName,y=f.xmlElementName,E=f.xmlNamespace,S=f.xmlNamespacePrefix,T=f.nullable,C=f.type.name;try{if(void 0!==e.body&&null!==e.body||T&&null===e.body||v){var b=an(r.requestBody);e.body=r.serializer.serialize(f,e.body,b,p);var R=C===Et;if(r.isXML){var I=S?"xmlns:"+S:"xmlns",A=(function(e,n,r,i,o){if(e&&!["Composite","Sequence","Dictionary"].includes(r)){var a={};return a[o.xml.xmlCharKey]=i,a[ze]=t(s[8])({},n,e),a}return i})(E,I,C,e.body,p);C===gt?e.body=l((function(e,n,r,i){if(Array.isArray(e)||(e=[e]),!r||!i)return t(s[8])({},n,e);var o=t(s[8])({},n,e);return o[ze]=t(s[8])({},r,i),o})(A,y||g||m,I,E),{rootName:g||m,xmlCharKey:h}):R||(e.body=l(A,{rootName:g||m,xmlCharKey:h}))}else{if(C===yt&&((null===(u=r.contentType)||void 0===u?void 0:u.match("text/plain"))||"text"===r.mediaType))return;R||(e.body=JSON.stringify(e.body))}}}catch(e){throw new Error("Error \""+e.message+"\" occurred in serializing the payload - "+JSON.stringify(m,void 0,"  ")+".")}}else if(r.formDataParameters&&r.formDataParameters.length>0)for(var w of(e.formData={},r.formDataParameters)){var _=St(n,w);if(null!=_){var O=w.mapper.serializedName||an(w);e.formData[O]=r.serializer.serialize(w.mapper,_,an(w),p)}}})(e,a,o,n)),r(e)}),function(t,n){return e.apply(this,arguments)})}})(e.serializationOptions),{phase:"Serialize"}),n.addPolicy((function(){var e,n,r,i,o,a,c,u,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=null!==(n=null===(e=l.expectedContentTypes)||void 0===e?void 0:e.json)&&void 0!==n?n:It,p=null!==(i=null===(r=l.expectedContentTypes)||void 0===r?void 0:r.xml)&&void 0!==i?i:At,h=l.parseXML,f=l.serializerOptions,v={xml:{rootName:null!==(o=null==f?void 0:f.xml.rootName)&&void 0!==o?o:"",includeRoot:null!==(a=null==f?void 0:f.xml.includeRoot)&&void 0!==a&&a,xmlCharKey:null!==(c=null==f?void 0:f.xml.xmlCharKey)&&void 0!==c?c:Ve}};return{name:"deserializationPolicy",sendRequest:(u=t(s[11])(function*(e,n){var r,i=yield n(e);return(r=t(s[11])(function*(e,n,r,i,o){var a,c=yield(a=t(s[11])(function*(e,t,n,r,i){var o;if(!(null===(o=n.request.streamResponseStatusCodes)||void 0===o?void 0:o.has(n.status))&&n.bodyAsText){var s=n.bodyAsText,a=n.headers.get("Content-Type")||"",c=a?a.split(";").map(function(e){return e.toLowerCase()}):[];try{if(0===c.length||c.some(function(t){return-1!==e.indexOf(t)}))return n.parsedBody=JSON.parse(s),n;if(c.some(function(e){return-1!==t.indexOf(e)})){if(!i)throw new Error("Parsing XML not supported.");var u=yield i(s,r.xml);return n.parsedBody=u,n}}catch(e){var l="Error \""+e+"\" occurred while parsing the response body - "+n.bodyAsText+".",d=e.code||tt.PARSE_ERROR;throw new tt(l,{code:d,statusCode:n.status,request:n.request,response:n})}}return n}),function(e,t,n,r,i){return a.apply(this,arguments)})(e,n,r,i,o);if(!(function(e){var t=Rt(e.request),n=null==t?void 0:t.shouldDeserialize;return void 0===n||("boolean"==typeof n?n:n(e))})(c))return c;var u=Rt(c.request),l=null==u?void 0:u.operationSpec;if(!l||!l.responses)return c;var d=(function(e){var t,n=Rt(e.request),r=null==n?void 0:n.operationSpec;return r&&(t=(null==n?void 0:n.operationResponseGetter)?null==n?void 0:n.operationResponseGetter(r,e):r.responses[e.status]),t})(c),p=(function(e,t,n,r){var i,o=200<=e.status&&e.status<300;if((function(e){var t=Object.keys(e.responses);return 0===t.length||1===t.length&&"default"===t[0]})(t)?o:n){if(!n)return{error:null,shouldReturnResponse:!1};if(!n.isError)return{error:null,shouldReturnResponse:!1}}var s=null!=n?n:t.responses.default,a=(null===(i=e.request.streamResponseStatusCodes)||void 0===i?void 0:i.has(e.status))?"Unexpected status code: "+e.status:e.bodyAsText,c=new tt(a,{statusCode:e.status,request:e.request,response:e});if(!s)throw c;var u=s.bodyMapper,l=s.headersMapper;try{if(e.parsedBody){var d,p=e.parsedBody;if(u){var h=p;if(t.isXML&&u.type.name===gt){h=[];var f=u.xmlElementName;"object"==typeof p&&f&&(h=p[f])}d=t.serializer.deserialize(u,h,"error.response.parsedBody",r)}var v=p.error||d||p;c.code=v.code,v.message&&(c.message=v.message),u&&(c.response.parsedBody=d)}e.headers&&l&&(c.response.parsedHeaders=t.serializer.deserialize(l,e.headers.toJSON(),"operationRes.parsedHeaders"))}catch(t){c.message="Error \""+t.message+"\" occurred in deserializing the responseBody - \""+e.bodyAsText+"\" for the default response."}return{error:c,shouldReturnResponse:!1}})(c,l,d,i),h=p.error,f=p.shouldReturnResponse;if(h)throw h;if(f)return c;if(d){if(d.bodyMapper){var v=c.parsedBody;l.isXML&&d.bodyMapper.type.name===gt&&(v="object"==typeof v?v[d.bodyMapper.xmlElementName]:[]);try{c.parsedBody=l.serializer.deserialize(d.bodyMapper,v,"operationRes.parsedBody",i)}catch(e){throw new tt("Error "+e+" occurred in deserializing the responseBody - "+c.bodyAsText,{statusCode:c.status,request:c.request,response:c})}}else"HEAD"===l.httpMethod&&(c.parsedBody=r.status>=200&&r.status<300);d.headersMapper&&(c.parsedHeaders=l.serializer.deserialize(d.headersMapper,c.headers.toJSON(),"operationRes.parsedHeaders",{xml:{},ignoreUnknownProperties:!0}))}return c}),function(e,t,n,i,o){return r.apply(this,arguments)})(d,p,i,v,h)}),function(e,t){return u.apply(this,arguments)})}})(e.deserializationOptions),{phase:"Deserialize"}),n})(Object.assign(Object.assign({},e),{credentialOptions:r}))})(i),null===(r=i.additionalPolicies)||void 0===r?void 0:r.length)for(var o of i.additionalPolicies){var a=o.policy,c="perRetry"===o.position?"Sign":void 0;this.pipeline.addPolicy(a,{afterPhase:c})}},[{key:"sendRequest",value:(function(){var e=t(s[11])(function*(e){return this.pipeline.sendRequest(this._httpClient,e)});return function(t){return e.apply(this,arguments)}})()},{key:"sendOperationRequest",value:(function(){var e=t(s[11])(function*(e,t){var n=t.baseUrl||this._endpoint;if(!n)throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a endpoint string property that contains the base URL to use.");var r=(function(e){return new Be(e)})({url:hn(n,t,e,this)});r.method=t.httpMethod;var i=Rt(r);i.operationSpec=t,i.operationArguments=e;var o=t.contentType||this._requestContentType;o&&t.requestBody&&r.headers.set("Content-Type",o);var s=e.options;if(s){var a=s.requestOptions;a&&(a.timeout&&(r.timeout=a.timeout),a.onUploadProgress&&(r.onUploadProgress=a.onUploadProgress),a.onDownloadProgress&&(r.onDownloadProgress=a.onDownloadProgress),void 0!==a.shouldDeserialize&&(i.shouldDeserialize=a.shouldDeserialize),a.allowInsecureConnection&&(r.allowInsecureConnection=!0)),s.abortSignal&&(r.abortSignal=s.abortSignal),s.tracingOptions&&(r.tracingOptions=s.tracingOptions)}this._allowInsecureConnection&&(r.allowInsecureConnection=!0),void 0===r.streamResponseStatusCodes&&(r.streamResponseStatusCodes=(function(e){var t=new Set;for(var n in e.responses){var r=e.responses[n];r.bodyMapper&&r.bodyMapper.type.name===Et&&t.add(Number(n))}return t})(t));try{var c=yield this.sendRequest(r),u=st(c,t.responses[c.status]);return(null==s?void 0:s.onResponse)&&s.onResponse(c,u),u}catch(e){if("object"==typeof e&&(null==e?void 0:e.response)){var l=e.response,d=st(l,t.responses[e.statusCode]||t.responses.default);e.details=d,(null==s?void 0:s.onResponse)&&s.onResponse(l,d,e)}throw e}});return function(t,n){return e.apply(this,arguments)}})()}])})(),gn=Zt({namespace:"Azure.Communication",packageName:"@azure/communication-chat",packageVersion:"1.3.2"}),yn={type:{name:"Composite",className:"ChatMessageReadReceiptsCollection",modelProperties:{value:{serializedName:"value",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ChatMessageReadReceipt"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},En={type:{name:"Composite",className:"ChatMessageReadReceipt",modelProperties:{senderCommunicationIdentifier:{serializedName:"senderCommunicationIdentifier",type:{name:"Composite",className:"CommunicationIdentifierModel"}},chatMessageId:{serializedName:"chatMessageId",required:!0,type:{name:"String"}},readOn:{serializedName:"readOn",required:!0,type:{name:"DateTime"}}}}},Sn={type:{name:"Composite",className:"CommunicationIdentifierModel",modelProperties:{rawId:{serializedName:"rawId",type:{name:"String"}},communicationUser:{serializedName:"communicationUser",type:{name:"Composite",className:"CommunicationUserIdentifierModel"}},phoneNumber:{serializedName:"phoneNumber",type:{name:"Composite",className:"PhoneNumberIdentifierModel"}},microsoftTeamsUser:{serializedName:"microsoftTeamsUser",type:{name:"Composite",className:"MicrosoftTeamsUserIdentifierModel"}}}}},Tn={type:{name:"Composite",className:"CommunicationUserIdentifierModel",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}}}}},Cn={type:{name:"Composite",className:"PhoneNumberIdentifierModel",modelProperties:{value:{serializedName:"value",required:!0,type:{name:"String"}}}}},bn={type:{name:"Composite",className:"MicrosoftTeamsUserIdentifierModel",modelProperties:{userId:{serializedName:"userId",required:!0,type:{name:"String"}},isAnonymous:{serializedName:"isAnonymous",type:{name:"Boolean"}},cloud:{serializedName:"cloud",type:{name:"String"}}}}},Rn={type:{name:"Composite",className:"CommunicationErrorResponse",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ChatError"}}}}},In={type:{name:"Composite",className:"ChatError",modelProperties:{code:{serializedName:"code",required:!0,type:{name:"String"}},message:{serializedName:"message",required:!0,type:{name:"String"}},target:{serializedName:"target",readOnly:!0,type:{name:"String"}},details:{serializedName:"details",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ChatError"}}}},innerError:{serializedName:"innererror",type:{name:"Composite",className:"ChatError"}}}}},An={type:{name:"Composite",className:"SendReadReceiptRequest",modelProperties:{chatMessageId:{serializedName:"chatMessageId",required:!0,type:{name:"String"}}}}},wn={type:{name:"Composite",className:"SendChatMessageRequest",modelProperties:{content:{serializedName:"content",required:!0,type:{name:"String"}},senderDisplayName:{serializedName:"senderDisplayName",type:{name:"String"}},type:{serializedName:"type",type:{name:"Enum",allowedValues:["text","html","topicUpdated","participantAdded","participantRemoved"]}},metadata:{serializedName:"metadata",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},_n={type:{name:"Composite",className:"SendChatMessageResult",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}}}}},On={type:{name:"Composite",className:"ChatMessagesCollection",modelProperties:{value:{serializedName:"value",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ChatMessage"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},kn={type:{name:"Composite",className:"ChatMessage",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},type:{serializedName:"type",required:!0,type:{name:"Enum",allowedValues:["text","html","topicUpdated","participantAdded","participantRemoved"]}},sequenceId:{serializedName:"sequenceId",required:!0,type:{name:"String"}},version:{serializedName:"version",required:!0,type:{name:"String"}},content:{serializedName:"content",type:{name:"Composite",className:"ChatMessageContent"}},senderDisplayName:{serializedName:"senderDisplayName",type:{name:"String"}},createdOn:{serializedName:"createdOn",required:!0,type:{name:"DateTime"}},senderCommunicationIdentifier:{serializedName:"senderCommunicationIdentifier",type:{name:"Composite",className:"CommunicationIdentifierModel"}},deletedOn:{serializedName:"deletedOn",type:{name:"DateTime"}},editedOn:{serializedName:"editedOn",type:{name:"DateTime"}},metadata:{serializedName:"metadata",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},Pn={type:{name:"Composite",className:"ChatMessageContent",modelProperties:{message:{serializedName:"message",type:{name:"String"}},topic:{serializedName:"topic",type:{name:"String"}},participants:{serializedName:"participants",type:{name:"Sequence",element:{type:{name:"Composite",className:"ChatParticipant"}}}},initiatorCommunicationIdentifier:{serializedName:"initiatorCommunicationIdentifier",type:{name:"Composite",className:"CommunicationIdentifierModel"}}}}},Nn={type:{name:"Composite",className:"ChatParticipant",modelProperties:{communicationIdentifier:{serializedName:"communicationIdentifier",type:{name:"Composite",className:"CommunicationIdentifierModel"}},displayName:{serializedName:"displayName",type:{name:"String"}},shareHistoryTime:{serializedName:"shareHistoryTime",type:{name:"DateTime"}}}}},Dn={type:{name:"Composite",className:"UpdateChatMessageRequest",modelProperties:{content:{serializedName:"content",type:{name:"String"}},metadata:{serializedName:"metadata",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},Mn={type:{name:"Composite",className:"ChatParticipantsCollection",modelProperties:{value:{serializedName:"value",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ChatParticipant"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},xn={type:{name:"Composite",className:"AddChatParticipantsRequest",modelProperties:{participants:{serializedName:"participants",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ChatParticipant"}}}}}}},Un={type:{name:"Composite",className:"AddChatParticipantsResult",modelProperties:{invalidParticipants:{serializedName:"invalidParticipants",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ChatError"}}}}}}},Ln={type:{name:"Composite",className:"CreateChatThreadRequest",modelProperties:{topic:{serializedName:"topic",required:!0,type:{name:"String"}},participants:{serializedName:"participants",type:{name:"Sequence",element:{type:{name:"Composite",className:"ChatParticipant"}}}}}}},qn={type:{name:"Composite",className:"CreateChatThreadResult",modelProperties:{chatThread:{serializedName:"chatThread",type:{name:"Composite",className:"ChatThreadProperties"}},invalidParticipants:{serializedName:"invalidParticipants",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ChatError"}}}}}}},jn={type:{name:"Composite",className:"ChatThreadProperties",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},topic:{serializedName:"topic",required:!0,type:{name:"String"}},createdOn:{serializedName:"createdOn",required:!0,type:{name:"DateTime"}},createdByCommunicationIdentifier:{serializedName:"createdByCommunicationIdentifier",type:{name:"Composite",className:"CommunicationIdentifierModel"}},deletedOn:{serializedName:"deletedOn",type:{name:"DateTime"}}}}},Fn={type:{name:"Composite",className:"ChatThreadsItemCollection",modelProperties:{value:{serializedName:"value",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ChatThreadItem"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},Gn={type:{name:"Composite",className:"ChatThreadItem",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},topic:{serializedName:"topic",required:!0,type:{name:"String"}},deletedOn:{serializedName:"deletedOn",type:{name:"DateTime"}},lastMessageReceivedOn:{serializedName:"lastMessageReceivedOn",readOnly:!0,type:{name:"DateTime"}}}}},Hn={type:{name:"Composite",className:"UpdateChatThreadRequest",modelProperties:{topic:{serializedName:"topic",type:{name:"String"}}}}},Bn={type:{name:"Composite",className:"SendTypingNotificationRequest",modelProperties:{senderDisplayName:{serializedName:"senderDisplayName",type:{name:"String"}}}}},zn={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},Vn={parameterPath:"endpoint",mapper:{serializedName:"endpoint",required:!0,type:{name:"String"}},skipEncoding:!0},Wn={parameterPath:"chatThreadId",mapper:{serializedName:"chatThreadId",required:!0,type:{name:"String"}}},Kn={parameterPath:["options","maxPageSize"],mapper:{serializedName:"maxPageSize",type:{name:"Number"}}},Jn={parameterPath:["options","skip"],mapper:{serializedName:"skip",type:{name:"Number"}}},$n={parameterPath:"apiVersion",mapper:{defaultValue:"2021-09-07",isConstant:!0,serializedName:"api-version",type:{name:"String"}}},Yn={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},Xn={parameterPath:"sendReadReceiptRequest",mapper:An},Qn={parameterPath:"sendChatMessageRequest",mapper:wn},Zn={parameterPath:["options","startTime"],mapper:{serializedName:"startTime",type:{name:"DateTime"}}},er={parameterPath:"chatMessageId",mapper:{serializedName:"chatMessageId",required:!0,type:{name:"String"}}},tr={parameterPath:["options","contentType"],mapper:{defaultValue:"application/merge-patch+json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},nr={parameterPath:"updateChatMessageRequest",mapper:Dn},rr={parameterPath:"participantCommunicationIdentifier",mapper:Sn},ir={parameterPath:"addChatParticipantsRequest",mapper:xn},or={parameterPath:"updateChatThreadRequest",mapper:Hn},sr={parameterPath:["options","sendTypingNotificationRequest"],mapper:Bn},ar={parameterPath:"nextLink",mapper:{serializedName:"nextLink",required:!0,type:{name:"String"}},skipEncoding:!0},cr={parameterPath:"createChatThreadRequest",mapper:Ln},ur=(function(){return t(s[6])(function e(n){t(s[4])(this,e),this.client=n},[{key:"listChatReadReceipts",value:(function(){var e=t(s[11])(function*(e,n){var r,i=this;return gn.withSpan("ChatApiClient.listChatReadReceipts",null!=n?n:{},(r=t(s[11])(function*(t){return i.client.sendOperationRequest({chatThreadId:e,options:t},dr)}),function(e){return r.apply(this,arguments)}))});return function(t,n){return e.apply(this,arguments)}})()},{key:"sendChatReadReceipt",value:(function(){var e=t(s[11])(function*(e,n,r){var i,o=this;return gn.withSpan("ChatApiClient.sendChatReadReceipt",null!=r?r:{},(i=t(s[11])(function*(t){return o.client.sendOperationRequest({chatThreadId:e,sendReadReceiptRequest:n,options:t},pr)}),function(e){return i.apply(this,arguments)}))});return function(t,n,r){return e.apply(this,arguments)}})()},{key:"sendChatMessage",value:(function(){var e=t(s[11])(function*(e,n,r){var i,o=this;return gn.withSpan("ChatApiClient.sendChatMessage",null!=r?r:{},(i=t(s[11])(function*(t){return o.client.sendOperationRequest({chatThreadId:e,sendChatMessageRequest:n,options:t},hr)}),function(e){return i.apply(this,arguments)}))});return function(t,n,r){return e.apply(this,arguments)}})()},{key:"listChatMessages",value:(function(){var e=t(s[11])(function*(e,n){var r,i=this;return gn.withSpan("ChatApiClient.listChatMessages",null!=n?n:{},(r=t(s[11])(function*(t){return i.client.sendOperationRequest({chatThreadId:e,options:t},fr)}),function(e){return r.apply(this,arguments)}))});return function(t,n){return e.apply(this,arguments)}})()},{key:"getChatMessage",value:(function(){var e=t(s[11])(function*(e,n,r){var i,o=this;return gn.withSpan("ChatApiClient.getChatMessage",null!=r?r:{},(i=t(s[11])(function*(t){return o.client.sendOperationRequest({chatThreadId:e,chatMessageId:n,options:t},vr)}),function(e){return i.apply(this,arguments)}))});return function(t,n,r){return e.apply(this,arguments)}})()},{key:"updateChatMessage",value:(function(){var e=t(s[11])(function*(e,n,r,i){var o,a=this;return gn.withSpan("ChatApiClient.updateChatMessage",null!=i?i:{},(o=t(s[11])(function*(t){return a.client.sendOperationRequest({chatThreadId:e,chatMessageId:n,updateChatMessageRequest:r,options:t},mr)}),function(e){return o.apply(this,arguments)}))});return function(t,n,r,i){return e.apply(this,arguments)}})()},{key:"deleteChatMessage",value:(function(){var e=t(s[11])(function*(e,n,r){var i,o=this;return gn.withSpan("ChatApiClient.deleteChatMessage",null!=r?r:{},(i=t(s[11])(function*(t){return o.client.sendOperationRequest({chatThreadId:e,chatMessageId:n,options:t},gr)}),function(e){return i.apply(this,arguments)}))});return function(t,n,r){return e.apply(this,arguments)}})()},{key:"listChatParticipants",value:(function(){var e=t(s[11])(function*(e,n){var r,i=this;return gn.withSpan("ChatApiClient.listChatParticipants",null!=n?n:{},(r=t(s[11])(function*(t){return i.client.sendOperationRequest({chatThreadId:e,options:t},yr)}),function(e){return r.apply(this,arguments)}))});return function(t,n){return e.apply(this,arguments)}})()},{key:"removeChatParticipant",value:(function(){var e=t(s[11])(function*(e,n,r){var i,o=this;return gn.withSpan("ChatApiClient.removeChatParticipant",null!=r?r:{},(i=t(s[11])(function*(t){return o.client.sendOperationRequest({chatThreadId:e,participantCommunicationIdentifier:n,options:t},Er)}),function(e){return i.apply(this,arguments)}))});return function(t,n,r){return e.apply(this,arguments)}})()},{key:"addChatParticipants",value:(function(){var e=t(s[11])(function*(e,n,r){var i,o=this;return gn.withSpan("ChatApiClient.addChatParticipants",null!=r?r:{},(i=t(s[11])(function*(t){return o.client.sendOperationRequest({chatThreadId:e,addChatParticipantsRequest:n,options:t},Sr)}),function(e){return i.apply(this,arguments)}))});return function(t,n,r){return e.apply(this,arguments)}})()},{key:"updateChatThreadProperties",value:(function(){var e=t(s[11])(function*(e,n,r){var i,o=this;return gn.withSpan("ChatApiClient.updateChatThreadProperties",null!=r?r:{},(i=t(s[11])(function*(t){return o.client.sendOperationRequest({chatThreadId:e,updateChatThreadRequest:n,options:t},Tr)}),function(e){return i.apply(this,arguments)}))});return function(t,n,r){return e.apply(this,arguments)}})()},{key:"getChatThreadProperties",value:(function(){var e=t(s[11])(function*(e,n){var r,i=this;return gn.withSpan("ChatApiClient.getChatThreadProperties",null!=n?n:{},(r=t(s[11])(function*(t){return i.client.sendOperationRequest({chatThreadId:e,options:t},Cr)}),function(e){return r.apply(this,arguments)}))});return function(t,n){return e.apply(this,arguments)}})()},{key:"sendTypingNotification",value:(function(){var e=t(s[11])(function*(e,n){var r,i=this;return gn.withSpan("ChatApiClient.sendTypingNotification",null!=n?n:{},(r=t(s[11])(function*(t){return i.client.sendOperationRequest({chatThreadId:e,options:t},br)}),function(e){return r.apply(this,arguments)}))});return function(t,n){return e.apply(this,arguments)}})()},{key:"listChatReadReceiptsNext",value:(function(){var e=t(s[11])(function*(e,n,r){var i,o=this;return gn.withSpan("ChatApiClient.listChatReadReceiptsNext",null!=r?r:{},(i=t(s[11])(function*(t){return o.client.sendOperationRequest({chatThreadId:e,nextLink:n,options:t},Rr)}),function(e){return i.apply(this,arguments)}))});return function(t,n,r){return e.apply(this,arguments)}})()},{key:"listChatMessagesNext",value:(function(){var e=t(s[11])(function*(e,n,r){var i,o=this;return gn.withSpan("ChatApiClient.listChatMessagesNext",null!=r?r:{},(i=t(s[11])(function*(t){return o.client.sendOperationRequest({chatThreadId:e,nextLink:n,options:t},Ir)}),function(e){return i.apply(this,arguments)}))});return function(t,n,r){return e.apply(this,arguments)}})()},{key:"listChatParticipantsNext",value:(function(){var e=t(s[11])(function*(e,n,r){var i,o=this;return gn.withSpan("ChatApiClient.listChatParticipantsNext",null!=r?r:{},(i=t(s[11])(function*(t){return o.client.sendOperationRequest({chatThreadId:e,nextLink:n,options:t},Ar)}),function(e){return i.apply(this,arguments)}))});return function(t,n,r){return e.apply(this,arguments)}})()}])})(),lr=ct(r,!1),dr={path:"/chat/threads/{chatThreadId}/readReceipts",httpMethod:"GET",responses:{200:{bodyMapper:yn},401:{bodyMapper:Rn,isError:!0},403:{bodyMapper:Rn,isError:!0},429:{bodyMapper:Rn,isError:!0},503:{bodyMapper:Rn,isError:!0}},queryParameters:[Kn,Jn,$n],urlParameters:[Vn,Wn],headerParameters:[zn],serializer:lr},pr={path:"/chat/threads/{chatThreadId}/readReceipts",httpMethod:"POST",responses:{200:{},401:{bodyMapper:Rn,isError:!0},403:{bodyMapper:Rn,isError:!0},429:{bodyMapper:Rn,isError:!0},503:{bodyMapper:Rn,isError:!0}},requestBody:Xn,queryParameters:[$n],urlParameters:[Vn,Wn],headerParameters:[zn,Yn],mediaType:"json",serializer:lr},hr={path:"/chat/threads/{chatThreadId}/messages",httpMethod:"POST",responses:{201:{bodyMapper:_n},401:{bodyMapper:Rn,isError:!0},403:{bodyMapper:Rn,isError:!0},429:{bodyMapper:Rn,isError:!0},503:{bodyMapper:Rn,isError:!0}},requestBody:Qn,queryParameters:[$n],urlParameters:[Vn,Wn],headerParameters:[zn,Yn],mediaType:"json",serializer:lr},fr={path:"/chat/threads/{chatThreadId}/messages",httpMethod:"GET",responses:{200:{bodyMapper:On},401:{bodyMapper:Rn,isError:!0},403:{bodyMapper:Rn,isError:!0},429:{bodyMapper:Rn,isError:!0},503:{bodyMapper:Rn,isError:!0}},queryParameters:[Kn,$n,Zn],urlParameters:[Vn,Wn],headerParameters:[zn],serializer:lr},vr={path:"/chat/threads/{chatThreadId}/messages/{chatMessageId}",httpMethod:"GET",responses:{200:{bodyMapper:kn},401:{bodyMapper:Rn,isError:!0},403:{bodyMapper:Rn,isError:!0},429:{bodyMapper:Rn,isError:!0},503:{bodyMapper:Rn,isError:!0}},queryParameters:[$n],urlParameters:[Vn,Wn,er],headerParameters:[zn],serializer:lr},mr={path:"/chat/threads/{chatThreadId}/messages/{chatMessageId}",httpMethod:"PATCH",responses:{204:{},401:{bodyMapper:Rn,isError:!0},403:{bodyMapper:Rn,isError:!0},429:{bodyMapper:Rn,isError:!0},503:{bodyMapper:Rn,isError:!0}},requestBody:nr,queryParameters:[$n],urlParameters:[Vn,Wn,er],headerParameters:[zn,tr],mediaType:"json",serializer:lr},gr={path:"/chat/threads/{chatThreadId}/messages/{chatMessageId}",httpMethod:"DELETE",responses:{204:{},401:{bodyMapper:Rn,isError:!0},403:{bodyMapper:Rn,isError:!0},429:{bodyMapper:Rn,isError:!0},503:{bodyMapper:Rn,isError:!0}},queryParameters:[$n],urlParameters:[Vn,Wn,er],headerParameters:[zn],serializer:lr},yr={path:"/chat/threads/{chatThreadId}/participants",httpMethod:"GET",responses:{200:{bodyMapper:Mn},401:{bodyMapper:Rn,isError:!0},403:{bodyMapper:Rn,isError:!0},429:{bodyMapper:Rn,isError:!0},503:{bodyMapper:Rn,isError:!0}},queryParameters:[Kn,Jn,$n],urlParameters:[Vn,Wn],headerParameters:[zn],serializer:lr},Er={path:"/chat/threads/{chatThreadId}/participants/:remove",httpMethod:"POST",responses:{204:{},401:{bodyMapper:Rn,isError:!0},403:{bodyMapper:Rn,isError:!0},429:{bodyMapper:Rn,isError:!0},503:{bodyMapper:Rn,isError:!0}},requestBody:rr,queryParameters:[$n],urlParameters:[Vn,Wn],headerParameters:[zn,Yn],mediaType:"json",serializer:lr},Sr={path:"/chat/threads/{chatThreadId}/participants/:add",httpMethod:"POST",responses:{201:{bodyMapper:Un},401:{bodyMapper:Rn,isError:!0},403:{bodyMapper:Rn,isError:!0},429:{bodyMapper:Rn,isError:!0},503:{bodyMapper:Rn,isError:!0}},requestBody:ir,queryParameters:[$n],urlParameters:[Vn,Wn],headerParameters:[zn,Yn],mediaType:"json",serializer:lr},Tr={path:"/chat/threads/{chatThreadId}",httpMethod:"PATCH",responses:{204:{},401:{bodyMapper:Rn,isError:!0},403:{bodyMapper:Rn,isError:!0},429:{bodyMapper:Rn,isError:!0},503:{bodyMapper:Rn,isError:!0}},requestBody:or,queryParameters:[$n],urlParameters:[Vn,Wn],headerParameters:[zn,tr],mediaType:"json",serializer:lr},Cr={path:"/chat/threads/{chatThreadId}",httpMethod:"GET",responses:{200:{bodyMapper:jn},401:{bodyMapper:Rn,isError:!0},403:{bodyMapper:Rn,isError:!0},429:{bodyMapper:Rn,isError:!0},503:{bodyMapper:Rn,isError:!0}},queryParameters:[$n],urlParameters:[Vn,Wn],headerParameters:[zn],serializer:lr},br={path:"/chat/threads/{chatThreadId}/typing",httpMethod:"POST",responses:{200:{},401:{bodyMapper:Rn,isError:!0},403:{bodyMapper:Rn,isError:!0},429:{bodyMapper:Rn,isError:!0},503:{bodyMapper:Rn,isError:!0}},requestBody:sr,queryParameters:[$n],urlParameters:[Vn,Wn],headerParameters:[zn,Yn],mediaType:"json",serializer:lr},Rr={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:yn},401:{bodyMapper:Rn,isError:!0},403:{bodyMapper:Rn,isError:!0},429:{bodyMapper:Rn,isError:!0},503:{bodyMapper:Rn,isError:!0}},queryParameters:[Kn,Jn,$n],urlParameters:[Vn,Wn,ar],headerParameters:[zn],serializer:lr},Ir={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:On},401:{bodyMapper:Rn,isError:!0},403:{bodyMapper:Rn,isError:!0},429:{bodyMapper:Rn,isError:!0},503:{bodyMapper:Rn,isError:!0}},queryParameters:[Kn,$n,Zn],urlParameters:[Vn,Wn,ar],headerParameters:[zn],serializer:lr},Ar={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:Mn},401:{bodyMapper:Rn,isError:!0},403:{bodyMapper:Rn,isError:!0},429:{bodyMapper:Rn,isError:!0},503:{bodyMapper:Rn,isError:!0}},queryParameters:[Kn,Jn,$n],urlParameters:[Vn,Wn,ar],headerParameters:[zn],serializer:lr},wr=(function(){return t(s[6])(function e(n){t(s[4])(this,e),this.client=n},[{key:"createChatThread",value:(function(){var e=t(s[11])(function*(e,n){var r,i=this;return gn.withSpan("ChatApiClient.createChatThread",null!=n?n:{},(r=t(s[11])(function*(t){return i.client.sendOperationRequest({createChatThreadRequest:e,options:t},Or)}),function(e){return r.apply(this,arguments)}))});return function(t,n){return e.apply(this,arguments)}})()},{key:"listChatThreads",value:(function(){var e=t(s[11])(function*(e){var n,r=this;return gn.withSpan("ChatApiClient.listChatThreads",null!=e?e:{},(n=t(s[11])(function*(e){return r.client.sendOperationRequest({options:e},kr)}),function(e){return n.apply(this,arguments)}))});return function(t){return e.apply(this,arguments)}})()},{key:"deleteChatThread",value:(function(){var e=t(s[11])(function*(e,n){var r,i=this;return gn.withSpan("ChatApiClient.deleteChatThread",null!=n?n:{},(r=t(s[11])(function*(t){return i.client.sendOperationRequest({chatThreadId:e,options:t},Pr)}),function(e){return r.apply(this,arguments)}))});return function(t,n){return e.apply(this,arguments)}})()},{key:"listChatThreadsNext",value:(function(){var e=t(s[11])(function*(e,n){var r,i=this;return gn.withSpan("ChatApiClient.listChatThreadsNext",null!=n?n:{},(r=t(s[11])(function*(t){return i.client.sendOperationRequest({nextLink:e,options:t},Nr)}),function(e){return r.apply(this,arguments)}))});return function(t,n){return e.apply(this,arguments)}})()}])})(),_r=ct(r,!1),Or={path:"/chat/threads",httpMethod:"POST",responses:{201:{bodyMapper:qn},401:{bodyMapper:Rn,isError:!0},403:{bodyMapper:Rn,isError:!0},429:{bodyMapper:Rn,isError:!0},503:{bodyMapper:Rn,isError:!0}},requestBody:cr,queryParameters:[$n],urlParameters:[Vn],headerParameters:[zn,Yn,{parameterPath:["options","repeatabilityRequestId"],mapper:{serializedName:"repeatability-request-id",type:{name:"String"}}}],mediaType:"json",serializer:_r},kr={path:"/chat/threads",httpMethod:"GET",responses:{200:{bodyMapper:Fn},401:{bodyMapper:Rn,isError:!0},403:{bodyMapper:Rn,isError:!0},429:{bodyMapper:Rn,isError:!0},503:{bodyMapper:Rn,isError:!0}},queryParameters:[Kn,$n,Zn],urlParameters:[Vn],headerParameters:[zn],serializer:_r},Pr={path:"/chat/threads/{chatThreadId}",httpMethod:"DELETE",responses:{204:{},401:{bodyMapper:Rn,isError:!0},403:{bodyMapper:Rn,isError:!0},429:{bodyMapper:Rn,isError:!0},503:{bodyMapper:Rn,isError:!0}},queryParameters:[$n],urlParameters:[Vn,Wn],headerParameters:[zn],serializer:_r},Nr={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:Fn},401:{bodyMapper:Rn,isError:!0},403:{bodyMapper:Rn,isError:!0},429:{bodyMapper:Rn,isError:!0},503:{bodyMapper:Rn,isError:!0}},queryParameters:[Kn,$n,Zn],urlParameters:[Vn,ar],headerParameters:[zn],serializer:_r},Dr=(function(e){function n(e,r){var i,o,a;if(t(s[4])(this,n),void 0===e)throw new Error("'endpoint' cannot be null");r||(r={});var c=r.userAgentOptions&&r.userAgentOptions.userAgentPrefix?r.userAgentOptions.userAgentPrefix+" azsdk-js-communication-chat/1.3.2":"azsdk-js-communication-chat/1.3.2";return(i=u(this,n,[Object.assign(Object.assign(Object.assign({},{requestContentType:"application/json; charset=utf-8"}),r),{userAgentOptions:{userAgentPrefix:c},baseUri:null!==(a=null!==(o=r.endpoint)&&void 0!==o?o:r.baseUri)&&void 0!==a?a:"{endpoint}"})])).endpoint=e,i.apiVersion=r.apiVersion||"2021-09-07",i.chatThread=new ur(t(s[10])(i)),i.chat=new wr(t(s[10])(i)),i.addCustomApiVersionPolicy(r.apiVersion),i}return t(s[5])(n,e),t(s[6])(n,[{key:"addCustomApiVersionPolicy",value:function(e){if(e){var n={name:"CustomApiVersionPolicy",sendRequest:(function(){var n=t(s[11])(function*(t,n){var r=t.url.split("?");if(r.length>1){var i=r[1].split("&").map(function(t){return t.indexOf("api-version")>-1?"api-version="+e:t});t.url=r[0]+"?"+i.join("&")}return n(t)});return function(e,t){return n.apply(this,arguments)}})()};this.pipeline.addPolicy(n)}}}])})(mn),Mr=(0,wt.YR)("communication-chat"),xr=function(e){return sn({credential:{getToken:function(t,n){return e.getToken({abortSignal:null==n?void 0:n.abortSignal})}},scopes:[]})},Ur=(function(){return t(s[6])(function e(n,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t(s[4])(this,e),this.endpoint=n,this.timeOfLastTypingRequest=void 0,this.threadId=r,this.tokenCredential=i;var a=Object.assign(Object.assign({},o),{loggingOptions:{logger:Mr.info}});this.client=new Dr(this.endpoint,Object.assign({endpoint:this.endpoint},a));var c=xr(this.tokenCredential);this.client.pipeline.addPolicy(c)},[{key:"getProperties",value:function(){var e,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return gn.withSpan("ChatClient-GetProperties",r,(e=t(s[11])(function*(e){var t=yield n.client.chatThread.getChatThreadProperties(n.threadId,e);return Ue(t)}),function(t){return e.apply(this,arguments)}))}},{key:"updateTopic",value:function(e){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return gn.withSpan("ChatThreadClient-UpdateTopic",i,(n=t(s[11])(function*(t){yield r.client.chatThread.updateChatThreadProperties(r.threadId,{topic:e},t)}),function(e){return n.apply(this,arguments)}))}},{key:"sendMessage",value:function(e){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return gn.withSpan("ChatThreadClient-SendMessage",i,(n=t(s[11])(function*(t){return r.timeOfLastTypingRequest=void 0,yield r.client.chatThread.sendChatMessage(r.threadId,Object.assign(Object.assign({},e),i),t)}),function(e){return n.apply(this,arguments)}))}},{key:"getMessage",value:function(e){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return gn.withSpan("ChatThreadClient-GetMessage",i,(n=t(s[11])(function*(t){var n=yield r.client.chatThread.getChatMessage(r.threadId,e,t);return xe(n)}),function(e){return n.apply(this,arguments)}))}},{key:"listMessagesPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,h.FC)(this,arguments,function*(){if(!e.continuationToken){var n=yield(0,h.qq)(this.client.chatThread.listChatMessages(this.threadId,t));e.continuationToken=n.nextLink,n.value&&(yield yield(0,h.qq)(n.value.map(xe,this)))}for(;e.continuationToken;){var r=yield(0,h.qq)(this.client.chatThread.listChatMessagesNext(this.threadId,e.continuationToken,t));if(e.continuationToken=r.nextLink,!r.value)break;yield yield(0,h.qq)(r.value.map(xe,this))}})}},{key:"listMessagesAll",value:function(e){return(0,h.FC)(this,arguments,function*(){var t,n,r,i;try{for(var o,s=!0,a=(0,h.KL)(this.listMessagesPage({},e));!(t=(o=yield(0,h.qq)(a.next())).done);){i=o.value,s=!1;try{var c=i;yield(0,h.qq)(yield*(0,h.V2)((0,h.KL)(c)))}finally{s=!0}}}catch(e){n={error:e}}finally{try{s||t||!(r=a.return)||(yield(0,h.qq)(r.call(a)))}finally{if(n)throw n.error}}})}},{key:"listMessages",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=gn.startSpan("ChatThreadClient-ListMessages",n),i=r.span,o=r.updatedOptions;try{var a=this.listMessagesAll(o);return t(s[8])(t(s[8])({next:function(){return a.next()}},Symbol.asyncIterator,function(){return this}),"byPage",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.listMessagesPage(t,o)})}catch(n){throw i.setStatus({status:"error",error:n}),n}finally{i.end()}}},{key:"deleteMessage",value:function(e){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return gn.withSpan("ChatThreadClient-DeleteMessage",i,(n=t(s[11])(function*(t){yield r.client.chatThread.deleteChatMessage(r.threadId,e,t)}),function(e){return n.apply(this,arguments)}))}},{key:"updateMessage",value:(function(){var e=t(s[11])(function*(e){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return gn.withSpan("ChatThreadClient-UpdateMessage",i,(n=t(s[11])(function*(t){yield r.client.chatThread.updateChatMessage(r.threadId,e,i,t)}),function(e){return n.apply(this,arguments)}))});return function(t){return e.apply(this,arguments)}})()},{key:"addParticipants",value:(function(){var e=t(s[11])(function*(e){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return gn.withSpan("ChatThreadClient-AddParticipants",i,(n=t(s[11])(function*(t){return yield r.client.chatThread.addChatParticipants(r.threadId,(function(e){var t;return{participants:null===(t=e.participants)||void 0===t?void 0:t.map(function(e){return Ne(e)})}})(e),t)}),function(e){return n.apply(this,arguments)}))});return function(t){return e.apply(this,arguments)}})()},{key:"listParticipantsPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,h.FC)(this,arguments,function*(){if(!e.continuationToken){var n=yield(0,h.qq)(this.client.chatThread.listChatParticipants(this.threadId,t));e.continuationToken=n.nextLink,n.value&&(yield yield(0,h.qq)(n.value.map(De,this)))}for(;e.continuationToken;){var r=yield(0,h.qq)(this.client.chatThread.listChatParticipantsNext(this.threadId,e.continuationToken,t));if(e.continuationToken=r.nextLink,!r.value)break;yield yield(0,h.qq)(r.value.map(De,this))}})}},{key:"listParticipantsAll",value:function(e){return(0,h.FC)(this,arguments,function*(){var t,n,r,i;try{for(var o,s=!0,a=(0,h.KL)(this.listParticipantsPage({},e));!(t=(o=yield(0,h.qq)(a.next())).done);){i=o.value,s=!1;try{var c=i;yield(0,h.qq)(yield*(0,h.V2)((0,h.KL)(c)))}finally{s=!0}}}catch(e){n={error:e}}finally{try{s||t||!(r=a.return)||(yield(0,h.qq)(r.call(a)))}finally{if(n)throw n.error}}})}},{key:"listParticipants",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=gn.startSpan("ChatThreadClient-ListParticipants",n),i=r.span,o=r.updatedOptions;try{var a=this.listParticipantsAll(o);return t(s[8])(t(s[8])({next:function(){return a.next()}},Symbol.asyncIterator,function(){return this}),"byPage",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.listParticipantsPage(t,o)})}catch(n){throw i.setStatus({status:"error",error:n}),n}finally{i.end()}}},{key:"removeParticipant",value:(function(){var e=t(s[11])(function*(e){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return gn.withSpan("ChatThreadClient-RemoveParticipant",i,(n=t(s[11])(function*(t){yield r.client.chatThread.removeChatParticipant(r.threadId,ke(e),t)}),function(e){return n.apply(this,arguments)}))});return function(t){return e.apply(this,arguments)}})()},{key:"sendTypingNotification",value:(function(){var e=t(s[11])(function*(){var e,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return gn.withSpan("ChatThreadClient-SendTypingNotification",r,(e=t(s[11])(function*(e){var t=new Date,r=e.senderDisplayName,i=(0,h._T)(e,["senderDisplayName"]);return n.canPostTypingNotification(t)?(n.timeOfLastTypingRequest=t,yield n.client.chatThread.sendTypingNotification(n.threadId,Object.assign({sendTypingNotificationRequest:{senderDisplayName:r}},i)),!0):(Mr.info("Typing Notification NOT Send. [thread_id="+n.threadId+"]"),!1)}),function(t){return e.apply(this,arguments)}))});return function(){return e.apply(this,arguments)}})()},{key:"sendReadReceipt",value:(function(){var e=t(s[11])(function*(e){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return gn.withSpan("ChatThreadClient-SendReadReceipt",i,(n=t(s[11])(function*(t){yield r.client.chatThread.sendChatReadReceipt(r.threadId,e,t)}),function(e){return n.apply(this,arguments)}))});return function(t){return e.apply(this,arguments)}})()},{key:"listReadReceiptsPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,h.FC)(this,arguments,function*(){if(!e.continuationToken){var n=yield(0,h.qq)(this.client.chatThread.listChatReadReceipts(this.threadId,t));e.continuationToken=n.nextLink,n.value&&(yield yield(0,h.qq)(n.value.map(Le,this)))}for(;e.continuationToken;){var r=yield(0,h.qq)(this.client.chatThread.listChatReadReceiptsNext(this.threadId,e.continuationToken,t));if(e.continuationToken=r.nextLink,!r.value)break;yield yield(0,h.qq)(r.value.map(Le,this))}})}},{key:"listReadReceiptsAll",value:function(e){return(0,h.FC)(this,arguments,function*(){var t,n,r,i;try{for(var o,s=!0,a=(0,h.KL)(this.listReadReceiptsPage({},e));!(t=(o=yield(0,h.qq)(a.next())).done);){i=o.value,s=!1;try{var c=i;yield(0,h.qq)(yield*(0,h.V2)((0,h.KL)(c)))}finally{s=!0}}}catch(e){n={error:e}}finally{try{s||t||!(r=a.return)||(yield(0,h.qq)(r.call(a)))}finally{if(n)throw n.error}}})}},{key:"listReadReceipts",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=gn.startSpan("ChatThreadClient-ListChatReadReceipts",n),i=r.span,o=r.updatedOptions;try{var a=this.listReadReceiptsAll(o);return t(s[8])(t(s[8])({next:function(){return a.next()}},Symbol.asyncIterator,function(){return this}),"byPage",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.listReadReceiptsPage(t,o)})}catch(n){throw i.setStatus({status:"error",error:n}),n}finally{i.end()}}},{key:"canPostTypingNotification",value:function(e){return!(this.timeOfLastTypingRequest&&e.getTime()-this.timeOfLastTypingRequest.getTime()<8e3&&(Mr.info("Typing interval check failed. [last_request="+this.timeOfLastTypingRequest+"]"),1))}}])})(),Lr=i(7187),qr=i(4586),jr=i(181),Fr=(function(){return t(s[6])(function e(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t(s[4])(this,e),this.endpoint=n,this.signalingClient=void 0,this.emitter=new Lr.EventEmitter,this.isRealtimeNotificationsStarted=!1,this.tokenCredential=r,this.clientOptions=Object.assign({},i);var o=Object.assign(Object.assign({},i),{loggingOptions:{logger:Mr.info}});this.client=new Dr(this.endpoint,Object.assign({endpoint:this.endpoint},o));var a=xr(this.tokenCredential);this.client.pipeline.addPolicy(a),this.signalingClient=(function(e,t,n){var r;return new jr.CommunicationSignalingClient(e,t,{environment:null!==(r=null==n?void 0:n.environment)&&void 0!==r?r:void 0})})(r,Mr,i.signalingClientOptions)},[{key:"getChatThreadClient",value:function(e){return new Ur(this.endpoint,e,this.tokenCredential,this.clientOptions)}},{key:"createChatThread",value:(function(){var e=t(s[11])(function*(e){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return gn.withSpan("ChatClient-CreateChatThread",i,(n=t(s[11])(function*(t){var n,o;t.idempotencyToken=null!==(n=t.idempotencyToken)&&void 0!==n?n:(0,qr.Z)();var s=(function(e){e.participants;var t=e.idempotencyToken,n=(0,h._T)(e,["participants","idempotencyToken"]);return Object.assign({repeatabilityRequestId:t},n)})(t);return(function(e){var t=e.chatThread,n=(0,h._T)(e,["chatThread"]);return t?Object.assign(Object.assign({},n),{chatThread:Ue(t)}):Object.assign({},n)})(yield r.client.chat.createChatThread({topic:e.topic,participants:null===(o=i.participants)||void 0===o?void 0:o.map(function(e){return Ne(e)})},s))}),function(e){return n.apply(this,arguments)}))});return function(t){return e.apply(this,arguments)}})()},{key:"listChatThreadsPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,h.FC)(this,arguments,function*(){if(!e.continuationToken){var n=yield(0,h.qq)(this.client.chat.listChatThreads(t));e.continuationToken=n.nextLink,n.value&&(yield yield(0,h.qq)(n.value))}for(;e.continuationToken;){var r=yield(0,h.qq)(this.client.chat.listChatThreadsNext(e.continuationToken,t));if(e.continuationToken=r.nextLink,!r.value)break;yield yield(0,h.qq)(r.value)}})}},{key:"listChatThreadsAll",value:function(e){return(0,h.FC)(this,arguments,function*(){var t,n,r,i;try{for(var o,s=!0,a=(0,h.KL)(this.listChatThreadsPage({},e));!(t=(o=yield(0,h.qq)(a.next())).done);){i=o.value,s=!1;try{var c=i;yield(0,h.qq)(yield*(0,h.V2)((0,h.KL)(c)))}finally{s=!0}}}catch(e){n={error:e}}finally{try{s||t||!(r=a.return)||(yield(0,h.qq)(r.call(a)))}finally{if(n)throw n.error}}})}},{key:"listChatThreads",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=gn.startSpan("ChatClient-ListChatThreads",n),i=r.span,o=r.updatedOptions;try{var a=this.listChatThreadsAll(o);return t(s[8])(t(s[8])({next:function(){return a.next()}},Symbol.asyncIterator,function(){return this}),"byPage",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.listChatThreadsPage(t,o)})}catch(n){throw i.setStatus({error:n,status:"error"}),n}finally{i.end()}}},{key:"deleteChatThread",value:(function(){var e=t(s[11])(function*(e){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return gn.withSpan("ChatClient-DeleteChatThread",i,(n=t(s[11])(function*(t){yield r.client.chat.deleteChatThread(e,t)}),function(e){return n.apply(this,arguments)}))});return function(t){return e.apply(this,arguments)}})()},{key:"startRealtimeNotifications",value:(function(){var e=t(s[11])(function*(){if(void 0===this.signalingClient)throw new Error("Realtime notifications are not supported in node js.");this.isRealtimeNotificationsStarted||(this.isRealtimeNotificationsStarted=!0,yield this.signalingClient.start(),this.subscribeToSignalingEvents())});return function(){return e.apply(this,arguments)}})()},{key:"stopRealtimeNotifications",value:(function(){var e=t(s[11])(function*(){if(void 0===this.signalingClient)throw new Error("Realtime notifications are not supported in node js.");this.isRealtimeNotificationsStarted=!1,yield this.signalingClient.stop(),this.emitter.removeAllListeners()});return function(){return e.apply(this,arguments)}})()},{key:"on",value:function(e,t){if(void 0===this.signalingClient)throw new Error("Realtime notifications are only supported in the browser.");if(!this.isRealtimeNotificationsStarted&&"realTimeNotificationConnected"!==e&&"realTimeNotificationDisconnected"!==e)throw new Error("You must call startRealtimeNotifications before you can subscribe to events.");this.emitter.on(e,t)}},{key:"off",value:function(e,t){if(void 0===this.signalingClient)throw new Error("Realtime notifications are only supported in the browser.");this.emitter.removeListener(e,t)}},{key:"subscribeToSignalingEvents",value:function(){var e=this;if(void 0===this.signalingClient)throw new Error("Realtime notifications are only supported in the browser.");this.signalingClient.on("connectionChanged",function(t){2===t?e.emitter.emit("realTimeNotificationConnected"):3===t&&e.emitter.emit("realTimeNotificationDisconnected")}),this.signalingClient.on("chatMessageReceived",function(t){e.emitter.emit("chatMessageReceived",t)}),this.signalingClient.on("chatMessageEdited",function(t){e.emitter.emit("chatMessageEdited",t)}),this.signalingClient.on("chatMessageDeleted",function(t){e.emitter.emit("chatMessageDeleted",t)}),this.signalingClient.on("typingIndicatorReceived",function(t){e.emitter.emit("typingIndicatorReceived",t)}),this.signalingClient.on("readReceiptReceived",function(t){e.emitter.emit("readReceiptReceived",t)}),this.signalingClient.on("chatThreadCreated",function(t){e.emitter.emit("chatThreadCreated",t)}),this.signalingClient.on("chatThreadDeleted",function(t){e.emitter.emit("chatThreadDeleted",t)}),this.signalingClient.on("chatThreadPropertiesUpdated",function(t){e.emitter.emit("chatThreadPropertiesUpdated",t)}),this.signalingClient.on("participantsAdded",function(t){e.emitter.emit("participantsAdded",t)}),this.signalingClient.on("participantsRemoved",function(t){e.emitter.emit("participantsRemoved",t)})}}])})();function Gr(e){this.message=e}Gr.prototype=new Error,Gr.prototype.name="InvalidCharacterError";var Hr="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Gr("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,o=0,s="";r=t.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?s+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};function Br(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(Hr(t).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}catch(e){return Hr(t)}}function zr(e){this.message=e}zr.prototype=new Error,zr.prototype.name="InvalidTokenError";var Vr,Wr,Kr,Jr=function(e){return{token:e,expiresOnTimestamp:1e3*(function(e,t){if("string"!=typeof e)throw new zr("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(Br(e.split(".")[n]))}catch(e){throw new zr("Invalid token specified: "+e.message)}})(e).exp}},$r={token:"",expiresOnTimestamp:-10},Yr=(function(){return t(s[6])(function e(n){t(s[4])(this,e),this.expiringSoonIntervalInMs=6e5,this.refreshAfterLifetimePercentage=.5,this.activeTokenFetching=null,this.activeTokenUpdating=null,this.disposed=!1;var r=n.tokenRefresher,i=n.token,o=n.refreshProactively;this.refresh=r,this.currentToken=i?Jr(i):$r,this.refreshProactively=null!=o&&o,this.refreshProactively&&this.scheduleRefresh()},[{key:"getToken",value:(function(){var e=t(s[11])(function*(e){if(!this.isTokenExpiringSoon(this.currentToken))return this.currentToken;this.isTokenValid(this.currentToken)||(yield this.updateTokenAndReschedule(null==e?void 0:e.abortSignal));return this.currentToken});return function(t){return e.apply(this,arguments)}})()},{key:"dispose",value:function(){this.disposed=!0,this.activeTokenFetching=null,this.activeTokenUpdating=null,this.currentToken=$r,this.activeTimeout&&clearTimeout(this.activeTimeout)}},{key:"updateTokenAndReschedule",value:(function(){var e=t(s[11])(function*(e){if(this.activeTokenUpdating)return this.activeTokenUpdating;this.activeTokenUpdating=this.refreshTokenAndReschedule(e);try{yield this.activeTokenUpdating}finally{this.activeTokenUpdating=null}});return function(t){return e.apply(this,arguments)}})()},{key:"refreshTokenAndReschedule",value:(function(){var e=t(s[11])(function*(e){var t=yield this.refreshToken(e);if(!this.isTokenValid(t))throw new Error("The token returned from the tokenRefresher is expired.");this.currentToken=t,this.refreshProactively&&this.scheduleRefresh()});return function(t){return e.apply(this,arguments)}})()},{key:"refreshToken",value:(function(){var e=t(s[11])(function*(e){try{return this.activeTokenFetching||(this.activeTokenFetching=this.refresh(e)),Jr(yield this.activeTokenFetching)}finally{this.activeTokenFetching=null}});return function(t){return e.apply(this,arguments)}})()},{key:"scheduleRefresh",value:function(){var e=this;if(!this.disposed){this.activeTimeout&&clearTimeout(this.activeTimeout);var t,n=this.currentToken.expiresOnTimestamp-Date.now();t=this.isTokenExpiringSoon(this.currentToken)?n*this.refreshAfterLifetimePercentage:n-this.expiringSoonIntervalInMs,this.activeTimeout=setTimeout(function(){return e.updateTokenAndReschedule()},t)}}},{key:"isTokenValid",value:function(e){return e&&Date.now()<e.expiresOnTimestamp}},{key:"isTokenExpiringSoon",value:function(e){return!e||Date.now()>=e.expiresOnTimestamp-this.expiringSoonIntervalInMs}}])})(),Xr=(function(){return t(s[6])(function e(n){t(s[4])(this,e),this.token=n},[{key:"getToken",value:(function(){var e=t(s[11])(function*(){return this.token});return function(){return e.apply(this,arguments)}})()},{key:"dispose",value:function(){}}])})(),Qr=(function(){return t(s[6])(function e(n){t(s[4])(this,e),this.disposed=!1,this.tokenCredential="string"==typeof n?new Xr(Jr(n)):new Yr(n)},[{key:"getToken",value:(function(){var e=t(s[11])(function*(e){this.throwIfDisposed();var t=yield this.tokenCredential.getToken(e);return this.throwIfDisposed(),t});return function(t){return e.apply(this,arguments)}})()},{key:"dispose",value:function(){this.disposed=!0,this.tokenCredential.dispose()}},{key:"throwIfDisposed",value:function(){if(this.disposed)throw new Error("User credential is disposed")}}])})(),Zr={id:"",environmentUrl:"",token:""},ei={displayName:""},ti={errorEventSubscriberInstance:void 0,setInstance:function(e){ti.errorEventSubscriberInstance=e},notifyErrorEvent:function(e){void 0!==ti.errorEventSubscriberInstance&&ti.errorEventSubscriberInstance.notifyErrorEvent(e)}};!(function(e){e.EDITED_MESSAGE_ATTACHMENT_DOWNLOAD_FAILED="EDITED_MESSAGE_ATTACHMENT_DOWNLOAD_FAILED",e.HISTORY_MESSAGE_METADATA_FILEID_FETCH_FAILED="HISTORY_MESSAGE_METADATA_FILEID_FETCH_FAILED",e.NEW_MESSAGE_DOWNLOAD_ATTACHMENT_FAILED="NEW_MESSAGE_DOWNLOAD_ATTACHMENT_FAILED",e.MESSAGE_POLLING_FAILED="MESSAGE_POLLING_FAILED",e.INGRESS_MESSAGE_INVALID_JSON="INGRESS_MESSAGE_INVALID_JSON",e.EGRESS_ATTACHMENT_UPLOAD_FAILED="EGRESS_ATTACHMENT_UPLOAD_FAILED",e.EGRESS_SEND_MESSAGE_FAILED="EGRESS_SEND_MESSAGE_FAILED",e.ADAPTER_INIT_TOKEN_MISSING_ERROR="ADAPTER_INIT_TOKEN_MISSING_ERROR",e.ADAPTER_INIT_THREAD_ID_MISSING_ERROR="ADAPTER_INIT_THREAD_ID_MISSING_ERROR",e.ADAPTER_INIT_EXCEPTION="ADAPTER_INIT_EXCEPTION",e.ADAPTER_RECONNECT_FAILED="ADAPTER_RECONNECT_FAILED"})(Vr||(Vr={}));var ni=(function(e){function n(e,r){var i;return t(s[4])(this,n),(i=u(this,n,[e])).detail=r,i}return t(s[5])(n,e),t(s[6])(n)})(N),ri=(function(e){function n(){var e;return t(s[4])(this,n),(e=u(this,n)).handleOnline=function(){return(0,h.mG)(t(s[10])(e),void 0,void 0,function*(){this.raiseCustomEvent("online")})},e.handleOffline=function(){return(0,h.mG)(t(s[10])(e),void 0,void 0,function*(){return this.raiseCustomEvent("offline")})},e.handleLeaveChat=function(){return(0,h.mG)(t(s[10])(e),void 0,void 0,function*(){return this.raiseCustomEvent("acs-adapter-leavechat")})},e.handleAcsChatOnline=function(){return(0,h.mG)(t(s[10])(e),void 0,void 0,function*(){return this.raiseCustomEvent("acschat-online")})},e.handleBeforeunload=function(){e.raiseCustomEvent("beforeunload")},e.handleError=function(n){return(0,h.mG)(t(s[10])(e),void 0,void 0,function*(){this.raiseCustomEvent("error",n)})},e.handleLoadMoreHistoryMessages=function(){return(0,h.mG)(t(s[10])(e),void 0,void 0,function*(){this.raiseCustomEvent("acs-adapter-loadnextpage")})},window.addEventListener("online",e.handleOnline),window.addEventListener("offline",e.handleOffline),window.addEventListener("beforeunload",e.handleBeforeunload),window.addEventListener("acs-adapter-leavechat",e.handleLeaveChat),window.addEventListener("acs-adapter-loadnextpage",e.handleLoadMoreHistoryMessages),e}return t(s[5])(n,e),t(s[6])(n,[{key:"raiseCustomEvent",value:function(e,t){var n=t?{payload:t}:void 0,r=null;try{r=new ni(e,n)}catch(e){}this.dispatchEvent(r)}},{key:"end",value:function(){window.removeEventListener("online",this.handleOnline),window.removeEventListener("offline",this.handleOffline),window.removeEventListener("beforeunload",this.handleBeforeunload),window.removeEventListener("acs-adapter-leavechat",this.handleLeaveChat),window.removeEventListener("acs-adapter-loadnextpage",this.handleLoadMoreHistoryMessages)}}])})(me);he(ri.prototype,"online"),he(ri.prototype,"offline"),he(ri.prototype,"error"),he(ri.prototype,"beforeunload"),he(ri.prototype,"leavechat"),(function(e){e.Message="message",e.Typing="typing"})(Wr||(Wr={})),(function(e){e.Bot="bot",e.Channel="channel",e.Unknown="",e.User="user"})(Kr||(Kr={}));var ii,oi={},si=function(e,t){oi[e]=t},ai=function(e){return oi[e]},ci=JSON.parse('{"i8":"0.0.35-beta.30.1","HO":{"lU":"^1.3.2"}}'),ui={requestOptions:{customHeaders:{"x-ms-useragent":"acs-webchat-adapter-"+ci.i8+" azsdk-js-communication-chat/"+ci.HO.lU}}},li={requestOptions:{customHeaders:{"x-ms-useragent":"acs-webchat-adapter-"+ci.i8+" azsdk-js-communication-chat/"+ci.HO.lU}}},di={ACS_CHANNEL:"ACS_CHANNEL",API_Version:"2020-09-21-preview2"},pi=function(e){var t=we(e);switch(t.kind){case"communicationUser":return t.communicationUserId;case"microsoftTeamsUser":return t.microsoftTeamsUserId;case"phoneNumber":return t.phoneNumber;case"unknown":return t.id}},hi=function(e,t,n,r){return(0,h.mG)(void 0,void 0,void 0,function*(){try{var i;return i=t?e.map(function(e,n){return{fileId:e,metadata:t[n]}}):e.map(function(e){return{fileId:e}}),yield n.downloadFiles(i)}catch(e){be.logEvent(ve.ERROR,{Event:Te.FILEMANAGER_DOWNLOAD_FILE_FAILED,Description:"Downloading attachment for message failed.",ExceptionDetails:e}),r.handleError(e)}})},fi=function(e){return(0,h.mG)(void 0,void 0,void 0,function*(){return Promise.all(e.map(function(e){return(0,h.mG)(void 0,void 0,void 0,function*(){if(e){var t=yield(function(e){return new Promise(function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})})(e);return{contentType:e.type,contentUrl:t,name:e.name,thumbnailUrl:e.type.match("(image|video|audio).*")?t:void 0}}})}))})},vi=function(e){return e.map(function(e){return null==e?void 0:e.size})},mi=i(5499),gi=i.n(mi);function yi(){return gi()().toString(36).substr(2)}!(function(e){e.THREAD="Thread",e.ERROR="Error"})(ii||(ii={}));var Ei,Si="microsoft.azure.communication.chat.bot.contenttype",Ti="azurebotservice.adaptivecard";function Ci(e,t,n,r,i,o,s,a,c,u,l,d,p,f){return(0,h.mG)(this,void 0,void 0,function*(){var h,v,m,g,y,E=pi(i);if((l?l["microsoft.azure.communication.chat.bot.contenttype"]:void 0)===Ti)try{var S=JSON.parse(n);c&&S.attachments&&(h=(h=[]).concat(S.attachments),y=S.attachmentLayout),g=S?S.suggestedActions:void 0,m=S?S.text:void 0}catch(E){var T="Valid JSON object is expected.";if(be.logEvent(ve.ERROR,{Event:Te.ACS_ADAPTER_INGRESS_FAILED,Description:T,ACSRequesterUserId:s,MessageSender:i.communicationUserId,TimeStamp:r.toISOString(),ChatThreadId:a,ChatMessageId:t,ExceptionDetails:E}),ti.notifyErrorEvent({ErrorType:Vr.INGRESS_MESSAGE_INVALID_JSON,ErrorMessage:E.message,ErrorStack:E.stack,ErrorDetails:null==E?void 0:E.details,Timestamp:r.toISOString(),AcsChatDetails:{MessageId:t,ThreadId:a,MessageSenderId:i.communicationUserId,RequesterUserId:s},AdditionalParams:{SenderDisplayName:o,MessageText:n,Metadata:l}}),u){var C=new Error(T);C.details={type:"MESSAGE_PARSING_FAILED",actualMessage:n},e.handleError(C)}}else m=n;d&&!h&&(h=yield fi(d),v=vi(d));var b,R=ai(t);return void 0===R&&(R=null==l?void 0:l.clientActivityId),f&&Math.sign(parseInt(f))>0&&(b=parseInt(f)),{attachments:h,channelId:di.ACS_CHANNEL,channelData:{"webchat:sequence-id":b,attachmentSizes:v,fromUserId:E,clientActivityID:R,messageId:t,state:"sent",tags:p,metadata:l},conversation:{id:a},from:{id:E,name:o||void 0,role:E===s?Kr.User:Kr.Bot},id:t||yi(),text:m,timestamp:new Date(r).toISOString(),type:Wr.Message,messageid:t||"",value:void 0,suggestedActions:g,attachmentLayout:y}})}!(function(e){e[e.READ=0]="READ",e[e.WRITE=1]="WRITE"})(Ei||(Ei={}));var bi,Ri,Ii,Ai=function(e){return new Promise(function(t){return setTimeout(t,e)})},wi=function(e,n,r){var i=null==e?void 0:e.get(n);if(i){var o=i.content===r.content,a=i.updatedOn!==r.updatedOn,c=i.fileIds?new Set(i.fileIds):void 0,u=r.fileIds?new Set(r.fileIds):void 0,l=!c&&!u||c.size===u.size&&t(s[12])(c).every(function(e){return u.has(e)});return o&&!a&&l}return!1},_i=function(e,t,n){return(0,h.mG)(void 0,void 0,void 0,function*(){var r,i,o=e.detail.payload,s=o.chatMessage,a=o.options,c=n(fe.EventManager),u=n(fe.FileManager);try{i=u.getFileIds(s.metadata);var l=u.getFileMetadata(s.metadata);if(i){var d=Oi(t,s.id,i,l);if((null==d?void 0:d.length)<=0)return;be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_CONVERT_HISTORY,Description:"ACS Adapter: attachments download queued: "+d.map(function(e){return e.fileId}).join(","),ACSRequesterUserId:n(fe.UserId),MessageSender:s.sender.communicationUserId,TimeStamp:s.createdOn.toISOString(),ChatMessageId:s.id}),r=yield(function(e,t,n,r,i){return(0,h.mG)(void 0,void 0,void 0,function*(){try{if(r){i||(i=9e4);var o=new Promise(function(e,t){setTimeout(function(){t(new Error("Attachment download timed out."))},i)});return Promise.race([t.downloadFiles(e),o])}return yield t.downloadFiles(e)}catch(e){be.logEvent(ve.ERROR,{Event:Te.FILEMANAGER_DOWNLOAD_FILE_FAILED,Description:"Downloading attachment for message failed.",ExceptionDetails:e}),n.handleError(e)}})})(d,u,this,null==a?void 0:a.shouldFileAttachmentDownloadTimeout,null==a?void 0:a.fileAttachmentDownloadTimeout),be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_CONVERT_HISTORY,Description:"ACS Adapter: attachments downloaded: ",ACSRequesterUserId:n(fe.UserId),MessageSender:s.sender.communicationUserId,TimeStamp:s.createdOn.toISOString(),ChatMessageId:s.id}),c.raiseCustomEvent("acs-attachment-downloaded",{chatMessage:s,files:r})}}catch(e){be.logEvent(ve.ERROR,{Event:Te.ACS_ADAPTER_ATTACHMENT_DOWNLOAD_ERROR,Description:"ACS Adapter: Failed to download attachments",ACSRequesterUserId:n(fe.UserId),MessageSender:s.sender.communicationUserId,TimeStamp:s.createdOn.toISOString(),ChatMessageId:s.id,ExceptionDetails:e}),(null==a?void 0:a.enableMessageErrorHandler)&&(new Error("Failed to download attachments.").details={type:"ATTACHMENT_DOWNLOAD_FAILED",actualMessage:i},c.handleError(e))}})},Oi=function(e,n,r,i){var o=[];if(e&&be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_PROCESSED_ATTACHMENTS,Description:"ACS Adapter: Attachments processed on this thread "+t(s[12])(Object.keys(e)),TimeStamp:(new Date).toISOString(),ChatMessageId:n}),Object.prototype.hasOwnProperty.call(e,n))for(var a=0;a<r.length;++a)e[n].has(r[a])||(o.push({fileId:r[a],metadata:i[a]}),e[n].set(r[a],i[a]));else{e[n]=new Map,be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_ATTACHMENT_NEW,Description:"ACS Adapter: New attachment download "+(null==r?void 0:r.join(",")),TimeStamp:(new Date).toISOString(),ChatMessageId:n});for(var c=0;c<r.length;++c)o.push({fileId:r[c],metadata:i[c]}),e[n].set(r[c],i[c])}return o},ki=[],Pi={requestOptions:{customHeaders:{"x-ms-useragent":"acs-webchat-adapter-"+ci.i8+" azsdk-js-communication-chat/"+ci.HO.lU}}};function Ni(){var e=this;return(function(){return p(function(e){return e.setState},function(e,t){return Object.assign(Object.assign({},e),{setState:t})}).apply(void 0,arguments)})(function(t){var r=t.getState,i=t.setState,o=t.getReadyState,s=t.setReadyState,a=t.subscribe,c=function(t){return(0,h.mG)(e,void 0,void 0,function*(){var e=yield(function(e){var t=this,n={getState:r}.getState;return function(){return function(e){return(0,h.mG)(t,void 0,void 0,function*(){var t,r,i,o=n(fe.ChatClient),s=n(fe.AdapterOptions),a=n(fe.FileManager),c=n(fe.EventManager),u=n(fe.UserId);if(!o){var l="ACS Adapter: Failed to ingress message without an active chatClient.";throw be.logEvent(ve.ERROR,{Event:Te.ACS_ADAPTER_INGRESS_FAILED,Description:l,ACSRequesterUserId:n(fe.UserId),MessageSender:e.sender.communicationUserId,TimeStamp:e.createdOn.toISOString(),ChatThreadId:e.threadId,ChatMessageId:e.id}),new Error(l)}if(e.metadata&&0!==Object.keys(e.metadata).length){var d;r=e.metadata;try{be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_REQUEST_DOWNLOAD_ATTACHMENTS,Description:"Preparing to download attachments",ACSRequesterUserId:n(fe.UserId),MessageSender:e.sender.communicationUserId,TimeStamp:e.createdOn.toISOString(),ChatThreadId:e.threadId,ChatMessageId:e.id}),d=a.getFileIds(e.metadata);var p=a.getFileMetadata(e.metadata);d&&(i=yield hi(d,p,a,c))}catch(o){if(be.logEvent(ve.ERROR,{Event:Te.ACS_ADAPTER_CONVERT_HISTORY,Description:"Failed to download attachments",ACSRequesterUserId:n(fe.UserId),MessageSender:e.sender.communicationUserId,TimeStamp:e.createdOn.toISOString(),ChatThreadId:e.threadId,ChatMessageId:e.id,ExceptionDetails:o}),ti.notifyErrorEvent({ErrorType:Vr.NEW_MESSAGE_DOWNLOAD_ATTACHMENT_FAILED,ErrorMessage:o.message,ErrorStack:o.stack,ErrorDetails:null==o?void 0:o.details,Timestamp:e.createdOn.toISOString(),AcsChatDetails:{MessageId:e.id,ThreadId:e.threadId,MessageSenderId:e.sender.communicationUserId,RequesterUserId:u},AdditionalParams:{SenderDisplayName:e.senderDisplayName,MessageText:e.message,Metadata:e.metadata}}),null==s?void 0:s.enableMessageErrorHandler){var h=new Error("Failed to download attachments.");h.details={type:"ATTACHMENT_DOWNLOAD_FAILED",actualMessage:d},c.handleError(h)}}}return yield Ci(c,e.id,e.message,e.createdOn,e.sender,e.senderDisplayName,u,e.threadId,null==s?void 0:s.enableAdaptiveCards,null==s?void 0:s.enableMessageErrorHandler,r,i,null===(t=e.metadata)||void 0===t?void 0:t.tags,e.id)})}}})()()(t);return be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_CONVERT_MESSAGE,Description:"ACS Adapter: convert normal message",CustomProperties:t,MessageSender:t.sender.communicationUserId,TimeStamp:t.createdOn.toISOString(),ChatThreadId:t.threadId,ChatMessageId:t.id}),e})},u=function(t){return(0,h.mG)(e,void 0,void 0,function*(){var e=yield(function(e){var t=this,n={getState:r}.getState;return function(){return function(e){return(0,h.mG)(t,void 0,void 0,function*(){var t,r,i,o=n(fe.ChatClient),s=n(fe.AdapterOptions),a=n(fe.FileManager),c=n(fe.EventManager),u=n(fe.ThreadId),l=n(fe.UserId);if(!o){var d="ACS Adapter: Failed to ingress history message without an active chatClient.";throw be.logEvent(ve.ERROR,{Event:Te.ACS_ADAPTER_INGRESS_FAILED,Description:d,ACSRequesterUserId:n(fe.UserId),MessageSender:e.sender.communicationUserId,TimeStamp:e.createdOn.toISOString(),ChatMessageId:e.id}),new Error(d)}try{if(i=a.getFileIds(e.metadata))return c.raiseCustomEvent("queue-attachment-download",{chatMessage:e,options:s}),null}catch(t){be.logEvent(ve.ERROR,{Event:Te.ACS_ADAPTER_CONVERT_HISTORY,Description:"Failed to queue attachments download",ACSRequesterUserId:n(fe.UserId),MessageSender:e.sender.communicationUserId,TimeStamp:e.createdOn.toISOString(),ChatMessageId:e.id,ExceptionDetails:t}),ti.notifyErrorEvent({ErrorType:Vr.HISTORY_MESSAGE_METADATA_FILEID_FETCH_FAILED,ErrorMessage:t.message,ErrorStack:t.stack,ErrorDetails:null==t?void 0:t.details,Timestamp:e.createdOn.toISOString(),AcsChatDetails:{MessageId:e.id,ThreadId:u,MessageSenderId:e.sender.communicationUserId,RequesterUserId:n(fe.UserId)},AdditionalParams:{MessageDetails:e}}),(null==s?void 0:s.enableMessageErrorHandler)&&(new Error("Failed to download attachments.").details={type:"QUEUE_ATTACHMENT_DOWNLOAD_FAILED",actualMessage:i},c.handleError(t))}return yield Ci(c,e.id,null===(t=e.content)||void 0===t?void 0:t.message,e.createdOn,e.sender,e.senderDisplayName,l,u,null==s?void 0:s.enableAdaptiveCards,null==s?void 0:s.enableMessageErrorHandler,e.metadata,void 0,null===(r=e.metadata)||void 0===r?void 0:r.tags,e.id)})}}})()()(t);return be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_CONVERT_HISTORY,Description:"ACS Adapter: convert history message:",CustomProperties:t,MessageSender:t.sender.communicationUserId,TimeStamp:t.createdOn.toISOString(),ChatMessageId:t.id}),e})},l=function(t,n){return(0,h.mG)(e,void 0,void 0,function*(){var e=yield(function(e){var t=this,n={getState:r}.getState;return function(){return function(e){var r=e.message,i=e.files;return(0,h.mG)(t,void 0,void 0,function*(){var e,t,o=n(fe.AdapterOptions),s=n(fe.EventManager),a=n(fe.ThreadId),c=n(fe.UserId);return i?yield Ci(s,r.id,null===(e=r.content)||void 0===e?void 0:e.message,r.createdOn,r.sender,r.senderDisplayName,c,a,null==o?void 0:o.enableAdaptiveCards,null==o?void 0:o.enableMessageErrorHandler,r.metadata,i,null===(t=r.metadata)||void 0===t?void 0:t.tags,r.id):null})}}})()()({message:t,files:n});return be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_CONVERT_HISTORY,Description:"ACS Adapter: convert attachment history message:",CustomProperties:t,MessageSender:t.sender.communicationUserId,TimeStamp:t.createdOn.toISOString(),ChatMessageId:t.id}),e})},d=function(t){return(0,h.mG)(e,void 0,void 0,function*(){var e=yield(function(e){var t=this,n={getState:r}.getState;return function(){return function(e){return(0,h.mG)(t,void 0,void 0,function*(){var t,r,i=n(fe.ChatClient),o=n(fe.FileManager),s=n(fe.EventManager);if(!i){var a="ACS Adapter: Failed to ingress edited message without an active chatClient.";throw be.logEvent(ve.ERROR,{Event:Te.ACS_ADAPTER_INGRESS_FAILED,Description:a,ACSRequesterUserId:n(fe.UserId),MessageSender:e.sender.communicationUserId,TimeStamp:e.editedOn.toISOString(),ChatThreadId:e.threadId,ChatMessageId:e.id}),new Error(a)}var c=pi(e.sender),u={channelId:di.ACS_CHANNEL,channelData:{"webchat:sequence-id":parseInt(e.id)},conversation:{id:n(fe.UserId)},from:{id:c,name:e.senderDisplayName,role:c===n(fe.UserId)?Kr.User:Kr.Bot},messageid:e.id,id:e.id?e.id:yi(),text:e.message,timestamp:e.editedOn.toISOString(),type:Wr.Message};if(e.metadata&&0!==Object.keys(e.metadata).length){var l,d,p;try{var h=o.getFileIds(e.metadata),f=o.getFileMetadata(e.metadata);h&&(l=yield hi(h,f,o,s),d=yield fi(l),p=vi(l))}catch(t){be.logEvent(ve.ERROR,{Event:Te.ACS_ADAPTER_CONVERT_HISTORY,Description:"Failed to parse ChatMessage metadata",ACSRequesterUserId:n(fe.UserId),MessageSender:e.sender.communicationUserId,TimeStamp:e.editedOn.toISOString(),ChatThreadId:e.threadId,ChatMessageId:e.id,ExceptionDetails:t}),ti.notifyErrorEvent({ErrorType:Vr.EDITED_MESSAGE_ATTACHMENT_DOWNLOAD_FAILED,ErrorMessage:t.message,ErrorStack:t.stack,ErrorDetails:null==t?void 0:t.details,Timestamp:e.editedOn.toISOString(),AcsChatDetails:{MessageId:e.id,ThreadId:e.threadId,MessageSenderId:e.sender.communicationUserId,RequesterUserId:n(fe.UserId)},AdditionalParams:{MessageEditedEvent:e}}),s.handleError(t)}u.channelData.metadata=e.metadata,d&&(u.attachments=d,u.channelData.attachmentSizes=p),(null===(t=e.metadata)||void 0===t?void 0:t.tags)&&(u.channelData.tags=null===(r=e.metadata)||void 0===r?void 0:r.tags)}return u})}}})()()(t);return be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_CONVERT_EDITED_MESSAGE,Description:"ACS Adapter: convert edited message",CustomProperties:t,MessageSender:t.sender.communicationUserId,TimeStamp:t.editedOn.toISOString(),ChatThreadId:t.threadId,ChatMessageId:t.id}),e})},p=function(t){return(0,h.mG)(e,void 0,void 0,function*(){var e=yield(function(e){var t=this,n={getState:r}.getState;return function(){return function(e){return(0,h.mG)(t,void 0,void 0,function*(){return(function(e,t,n){var r={message:e.message,stack:e.stack,details:null==e?void 0:e.details};return{channelId:di.ACS_CHANNEL,conversation:{id:void 0},channelData:{type:ii.ERROR},from:{id:void 0,name:void 0,role:Kr.Channel},id:t,timestamp:n,type:Wr.Message,messageid:void 0,text:JSON.stringify(r)}})(e,n(fe.UserId),(new Date).toISOString())})}}})()()(t);return be.logEvent(ve.ERROR,{Event:Te.ACS_SDK_CHATCLIENT_ERROR,Description:"ACS Adapter: convert error message",ExceptionDetails:t.message}),e})},f=function(t){return(0,h.mG)(e,void 0,void 0,function*(){var e=yield(function(e){var t=this,n={getState:r}.getState;return function(){return function(e){return(0,h.mG)(t,void 0,void 0,function*(){if(!n(fe.ChatClient)){var t="ACS Adapter: Failed to ingress typing message without an active chatClient.";throw be.logEvent(ve.ERROR,{Event:Te.ACS_ADAPTER_INGRESS_FAILED,Description:t,ACSRequesterUserId:n(fe.UserId),MessageSender:e.sender.communicationUserId,TimeStamp:e.receivedOn.toISOString(),ChatThreadId:e.threadId}),new Error(t)}var r=e.receivedOn,i=e.sender,o=pi(i);return{channelId:di.ACS_CHANNEL,conversation:{id:n(fe.UserId)},from:{id:o,name:e.senderDisplayName,role:o===n(fe.UserId)?Kr.User:Kr.Bot},timestamp:new Date(r).toISOString(),type:Wr.Typing}})}}})()()(t);return be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_CONVERT_TYPING_MESSAGE,Description:"ACS Adapter: convert typing message.",MessageSender:t.sender.communicationUserId,TimeStamp:t.receivedOn.toISOString(),ChatThreadId:t.threadId}),e})},v=function(t){return(0,h.mG)(e,void 0,void 0,function*(){var e=yield(function(e){var t=this,n={getState:r}.getState;return function(){return function(e){return(0,h.mG)(t,void 0,void 0,function*(){return(function(e,t,n){return{channelId:di.ACS_CHANNEL,conversation:{id:void 0},channelData:{type:ii.THREAD,members:[{id:e.id,displayName:e.displayName,tag:e.tag}]},from:{id:void 0,name:void 0,role:Kr.Channel},id:t,timestamp:n,type:Wr.Message,messageid:void 0,text:JSON.stringify(e.displayName+" "+e.tag+" chat")}})(e,n(fe.UserId),(new Date).toISOString())})}}})()()(t);return be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_CONVERT_THREAD_UPDATED,Description:"ACS Adapter: convert thread update"}),e})},m=function(t){return(0,h.mG)(e,void 0,void 0,function*(){var e=yield(function(e){var t=this,n={getState:r}.getState;return function(){return function(e){return(0,h.mG)(t,void 0,void 0,function*(){return(function(e,t){return{channelId:di.ACS_CHANNEL,conversation:{id:void 0},channelData:{type:ii.THREAD,properties:{deleteTime:e.deletedOn.toISOString(),isDeleted:"True"}},from:{id:void 0,name:void 0,role:Kr.Channel},id:t,timestamp:e.deletedOn.toISOString(),type:Wr.Message,messageid:void 0}})(e,n(fe.UserId))})}}})()()(t);return be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_CONVERT_THREAD_DELETED,Description:"ACS Adapter: convert thread delete",ACSRequesterUserId:t.deletedBy.id.communicationUserId,TimeStamp:t.deletedOn.toISOString(),ChatThreadId:t.threadId}),e})},g=function(t,n,r){return(0,h.mG)(e,void 0,void 0,function*(){var e=yield p(r);!t&&n(e)})},y=function(t,n,i){var o=n.unsubscribed,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return(0,h.mG)(e,void 0,void 0,function*(){if(void 0===a)for(var e=t.listMessages(Object.assign(Object.assign({},Pi),{startTime:s})),n=yield e.next();!n.done;){var c=n.value;if("text"===c.type)if(r(fe.WebChatStatus)===Ce.Connected){n=yield e.next();var l=yield u(c);!o&&i(l)}else be.logEvent(ve.INFO,{Event:Te.CACHE_PAGED_HISTORY_MESSAGE,Description:"ACS Adapter: Cache paged history message",TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),ACSRequesterUserId:r(fe.UserId),ChatMessageId:c.id}),ki.push(c),n=yield e.next();else n=yield e.next()}else{var d=Ri;void 0===d&&(d=t.listMessages(Object.assign(Object.assign({},Pi),{maxPageSize:a,startTime:s})).byPage());for(var p=0;p<a;){var h=bi,f=!1;if(h&&!f){for(var v=Ii>=0?Ii:0;v<h.value.length;v++){var m=h.value[v];if("text"===m.type)if(r(fe.WebChatStatus)===Ce.Connected){var g=yield u(m);!o&&i(g),p++}else be.logEvent(ve.INFO,{Event:Te.CACHE_PAGED_HISTORY_MESSAGE,Description:"ACS Adapter: Cache paged history message  (with pagesize limit next page)",TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),ACSRequesterUserId:r(fe.UserId),ChatMessageId:m.id}),ki.push(m),p++}f=!0}var y=yield d.next();if(y.done)break;for(var E=0;E<y.value.length;E++){if(p>=a){Ri=d,Ii=E,bi=y;break}var S=y.value[E];if("text"===S.type)if(r(fe.WebChatStatus)===Ce.Connected){var T=yield u(S);!o&&i(T),p++}else be.logEvent(ve.INFO,{Event:Te.CACHE_PAGED_HISTORY_MESSAGE,Description:"ACS Adapter: Cache paged history message  (with pagesize limit)",TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),ACSRequesterUserId:r(fe.UserId),ChatMessageId:S.id}),ki.push(S),p++}}}})},E=function(t,n,i){var o=n.unsubscribed,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return(0,h.mG)(e,void 0,void 0,function*(){var e=r(fe.EventManager);null==e||e.addEventListener("acs-adapter-loadnextpage",function(){y(t,{unsubscribed:o},i,void 0,s)})})},S=function(t,n){var i=t.unsubscribed;return(0,h.mG)(e,void 0,void 0,function*(){var e=r(fe.EventManager);null==e||e.addEventListener("error",function(e){var t;g(i,n,null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.payload)})})},T=function(t,n){var i=t.unsubscribed;return(0,h.mG)(e,void 0,void 0,function*(){var e=r(fe.EventManager);null==e||e.addEventListener("acs-adapter-leavechat",function(){var e=r(fe.UserId);!i&&n.removeParticipant({communicationUserId:e},Pi)})})};return function(t){return function(p,g){return(0,h.mG)(e,void 0,void 0,function*(){var e=this;return(p===fe.ChatThreadClient&&g||p===fe.Reconnect&&g)&&a(new(Ee())(function(t){var a,p,C=r(fe.ChatClient),b=r(fe.AdapterOptions),R=r(fe.MessagePollingHandleInstance),I=r(fe.FileManager),A=t.next.bind(t),w=!0,_={},O={unsubscribed:!1},k=!0===g?r(fe.ChatThreadClient):g,P=new Map,N=[],D=[],M=function(t,i,c,l){var d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return(0,h.mG)(e,void 0,void 0,function*(){var e,p,f,v=this,m=b&&b.serverPageSizeLimit;if(o()!==n.CLOSED)try{if(!w)return void be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_POLLING_SKIPPED,Description:"ACS Adapter: Polling call issued too soon: skipping",TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),ACSRequesterUserId:r(fe.UserId)});if(!(null==R?void 0:R.getIsPollingEnabled()))return void be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_POLLING_SKIPPED,Description:"ACS Adapter: Polling call disabled from the client: skipping",TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),ACSRequesterUserId:r(fe.UserId)});be.logEvent(ve.INFO,{Event:Te.ACS_SEND_POLLING_REQUEST,Description:"ACS Adapter: Send polling request",TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),ACSRequesterUserId:r(fe.UserId)});for(var g=i.listMessages(Object.assign(Object.assign({},Pi),{startTime:c,maxPageSize:m})),y=yield g.next();!y.done;){var E=y.value;if("text"===E.type&&E.sequenceId!==l)if(I||(I=r(fe.FileManager)),wi(P,E.id,{content:E.content.message,createdOn:E.createdOn,updatedOn:E.editedOn,fileIds:null==I?void 0:I.getFileIds(E.metadata)}))be.logEvent(ve.INFO,{Event:Te.ACS_SKIP_POLLED_MESSAGE,Description:"ACS Adapter: Skipping polled message, already processed",TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),ChatMessageId:E.id,ACSRequesterUserId:r(fe.UserId)});else{if(be.logEvent(ve.INFO,{Event:Te.ACS_PROCESSING_POLLED_MESSAGE,Description:"ACS Adapter: Processing polled message "+E.id,TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),ChatMessageId:E.id,ACSRequesterUserId:r(fe.UserId)}),r(fe.WebChatStatus)!==Ce.Connected){be.logEvent(ve.INFO,{Event:Te.CACHE_POLLED_HISTORY_MESSAGE,Description:"ACS Adapter: Cache polled history message",TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),ACSRequesterUserId:r(fe.UserId),ChatMessageId:E.id}),D.push(E),y=yield g.next();continue}P.set(E.id,{content:E.content.message,createdOn:E.createdOn,updatedOn:E.editedOn,fileIds:null==I?void 0:I.getFileIds(E.metadata)});var S=yield u(E);S&&(be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_POST_ACTIVITY,Description:"ACS Adapter: Post activity, messageId: "+S.messageid,MessageSender:E.sender.communicationUserId,TimeStamp:E.createdOn.toISOString(),ChatMessageId:E.id,ACSRequesterUserId:r(fe.UserId)}),S.channelData.fromList=!0,A(S))}(!c||parseInt(E.sequenceId)>parseInt(l))&&(c=E.createdOn,l=E.sequenceId),y=yield g.next()}}catch(t){f=t,be.logEvent(ve.ERROR,{Event:Te.ACS_SDK_CHATCLIENT_ERROR,Description:"ACS Adapter: Polling message fetch failed.",TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),ExceptionDetails:t}),ti.notifyErrorEvent({StatusCode:null===(e=t.response)||void 0===e?void 0:e.status,ErrorType:Vr.MESSAGE_POLLING_FAILED,ErrorMessage:t.message,ErrorStack:t.stack,ErrorDetails:null==t?void 0:t.details,Timestamp:(new Date).toISOString(),AcsChatDetails:{ThreadId:r(fe.ThreadId)}})}finally{var T=null===(p=null==f?void 0:f.response)||void 0===p?void 0:p.status;w=!1,window.setTimeout(function(){return w=!0},15e3),(null==R?void 0:R.stopPolling())||f&&!x(T)?((null==R?void 0:R.stopPolling())&&be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_POLLING_STOPPED,Description:"ACS Adapter: Polling call stopped from the client",TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),ACSRequesterUserId:r(fe.UserId)}),s(n.CLOSED)):(a&&(be.logEvent(ve.INFO,{Event:Te.ACS_CANCEL_POLLING_CALLBACK,Description:"ACS Adapter: Canceling polling callback with Id "+a,TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),ACSRequesterUserId:r(fe.UserId)}),clearTimeout(a)),a=window.setTimeout(function(){return(0,h.mG)(v,void 0,void 0,function*(){yield M(t,i,c,l,d+1)})},d<=2?15e3:t),be.logEvent(ve.INFO,{Event:Te.ACS_CREATE_POLLING_CALLBACK,Description:"ACS Adapter: Created polling callback with Id "+a,TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),ACSRequesterUserId:r(fe.UserId)}))}else be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_POLLING_SKIPPED,Description:"ACS Adapter: Polling skipped because of thread deletion.",TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),ACSRequesterUserId:r(fe.UserId)})})},x=function(e){return be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_POLLING_STATUSCODE,Description:"ACS Adapter: Polling status code "+e,TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),ACSRequesterUserId:r(fe.UserId)}),!(401===e||403===e||404===e)},U=function(t){return(0,h.mG)(e,void 0,void 0,function*(){if(t.threadId===r(fe.ThreadId)){if(be.logEvent(ve.DEBUG,{Event:Te.MESSAGE_RECEIVED,Description:"ACS Adapter: Received a message with id "+t.id,MessageSender:t.sender.communicationUserId,TimeStamp:t.createdOn.toISOString(),ChatThreadId:t.threadId,ChatMessageId:t.id}),I||(I=r(fe.FileManager)),r(fe.WebChatStatus)!==Ce.Connected)return be.logEvent(ve.INFO,{Event:Te.CACHE_NEW_MESSAGE,Description:"ACS Adapter: Cache new message",TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),ACSRequesterUserId:r(fe.UserId),ChatMessageId:t.id}),void N.push(t);if(wi(P,t.id,{content:t.message,createdOn:t.createdOn,updatedOn:void 0,fileIds:null==I?void 0:I.getFileIds(t.metadata)}))return void be.logEvent(ve.INFO,{Event:Te.ACS_SKIP_NEW_MESSAGE,Description:"ACS Adapter: Skipping RTN message, already processed",MessageSender:t.sender.communicationUserId,TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),ChatMessageId:t.id});be.logEvent(ve.INFO,{Event:Te.ACS_PROCESSING_NEW_MESSAGE,Description:"ACS Adapter: Processing new message",MessageSender:t.sender.communicationUserId,TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),ChatMessageId:t.id}),P.set(t.id,{content:t.message,createdOn:t.createdOn,fileIds:null==I?void 0:I.getFileIds(t.metadata)});var e=yield c(t);e&&A(e)}})},L=function(t){return(0,h.mG)(e,void 0,void 0,function*(){if(pi(t.sender)!==r(fe.UserId)&&t.threadId===r(fe.ThreadId)){be.logEvent(ve.DEBUG,{Event:Te.TYPING_MESSAGE_RECEIVED,Description:"ACS Adapter: Received a typing message",MessageSender:t.sender.communicationUserId,TimeStamp:t.receivedOn.toISOString(),ChatThreadId:t.threadId});var e=yield f(t);A(e)}})},q=function(t){return(0,h.mG)(e,void 0,void 0,function*(){if(t.threadId===r(fe.ThreadId)){if(be.logEvent(ve.DEBUG,{Event:Te.MESSAGE_EDIT_RECEIVED,Description:"ACS Adapter: Received a message edit event with id "+t.id,MessageSender:t.sender.communicationUserId,TimeStamp:t.editedOn.toISOString(),ChatThreadId:t.threadId,ChatMessageId:t.id}),I||(I=r(fe.FileManager)),wi(P,t.id,{content:t.message,createdOn:t.createdOn,updatedOn:t.editedOn,fileIds:null==I?void 0:I.getFileIds(t.metadata)}))return void be.logEvent(ve.INFO,{Event:Te.ACS_SKIP_EDITED_MESSAGE,Description:"ACS Adapter: Skipping edited RTN message, already processed",TimeStamp:(new Date).toISOString(),MessageSender:t.sender.communicationUserId,ChatThreadId:r(fe.ThreadId),ChatMessageId:t.id});be.logEvent(ve.INFO,{Event:Te.ACS_PROCESSING_EDITED_MESSAGE,Description:"ACS Adapter: Processing edited RTN message",TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),MessageSender:t.sender.communicationUserId,ChatMessageId:t.id}),P.set(t.id,{content:t.message,createdOn:t.createdOn,updatedOn:t.editedOn,fileIds:null==I?void 0:I.getFileIds(t.metadata)});var e=yield d(t);e&&A(e)}})},j=function(t){return(0,h.mG)(e,void 0,void 0,function*(){var e=this;t.threadId===r(fe.ThreadId)&&(be.logEvent(ve.DEBUG,{Event:Te.PARTICIPANT_ADDED_RECEIVED,Description:"ACS Adapter: Received a participant added event",ACSRequesterUserId:t.addedBy.id.communicationUserId,TimeStamp:t.addedOn.toISOString(),ChatThreadId:t.threadId,UserAdded:t.participantsAdded.map(function(e){return e.id.communicationUserId})}),t.participantsAdded.forEach(function(t){return(0,h.mG)(e,void 0,void 0,function*(){var e=pi(t.id),n={displayName:t.displayName,tag:"joined",id:e},r=yield v(n);A(r)})}))})},F=function(t){return(0,h.mG)(e,void 0,void 0,function*(){var e=this;t.threadId===r(fe.ThreadId)&&(be.logEvent(ve.DEBUG,{Event:Te.PARTICIPANT_REMOVED_RECEIVED,Description:"ACS Adapter: Received a participant removed event",ACSRequesterUserId:t.removedBy.id.communicationUserId,TimeStamp:t.removedOn.toISOString(),ChatThreadId:t.threadId,UserRemoved:t.participantsRemoved.map(function(e){return e.id.communicationUserId})}),t.participantsRemoved.forEach(function(t){return(0,h.mG)(e,void 0,void 0,function*(){var e=pi(t.id),n={displayName:t.displayName,tag:"left",id:e},r=yield v(n);A(r)})}))})},G=function(t){return(0,h.mG)(e,void 0,void 0,function*(){if(t.threadId===r(fe.ThreadId)){be.logEvent(ve.DEBUG,{Event:Te.THREAD_DELETED_RECEIVED,Description:"ACS Adapter: Received a thread deleted event",ACSRequesterUserId:t.deletedBy.id.communicationUserId,TimeStamp:t.deletedOn.toISOString(),ChatThreadId:t.threadId});var e=yield m(t);A(e)}})};return C.on("chatMessageReceived",U),be.logEvent(ve.DEBUG,{Event:Te.REGISTER_ON_NEW_MESSAGE,Description:"ACS Adapter: Registering on new message success"}),C.on("typingIndicatorReceived",L),be.logEvent(ve.DEBUG,{Event:Te.REGISTER_ON_TYPING_INDICATOR,Description:"ACS Adapter: Registering on typing indicator success"}),C.on("chatMessageEdited",q),be.logEvent(ve.DEBUG,{Event:Te.REGISTER_ON_MESSAGE_EDIT,Description:"ACS Adapter: Registering on message edit success"}),C.on("chatThreadDeleted",G),be.logEvent(ve.DEBUG,{Event:Te.REGISTER_ON_THREAD_DELETED,Description:"ACS Adapter: Registering on thread delete success"}),C.on("realTimeNotificationConnected",function(){return(0,h.mG)(e,void 0,void 0,function*(){be.logEvent(ve.DEBUG,{Event:Te.ACS_ADAPTER_REALTIME_NOTIFICATION_CONNECTED,Description:"ACS Adapter: Realtime notification connected",TimeStamp:(new Date).toISOString()}),yield(0,h.mG)(e,void 0,void 0,function*(){a&&(be.logEvent(ve.INFO,{Event:Te.ACS_CANCEL_POLLING_CALLBACK,Description:"ACS Adapter: Canceling polling in RTN connected callback Id "+a,TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),ACSRequesterUserId:r(fe.UserId)}),clearTimeout(a)),yield M(r(fe.PollingInterval),k)})})}),be.logEvent(ve.DEBUG,{Event:Te.REGISTER_ON_REALTIME_NOTIFICATION_CONNECTED,Description:"ACS Adapter: Registering on realtime notification connected"}),C.on("realTimeNotificationDisconnected",function(){return(0,h.mG)(e,void 0,void 0,function*(){p=new Date,be.logEvent(ve.DEBUG,{Event:Te.ACS_ADAPTER_REALTIME_NOTIFICATION_DISCONNECTED,Description:"ACS Adapter: Realtime notification disconnected",TimeStamp:p.toISOString()})})}),be.logEvent(ve.DEBUG,{Event:Te.REGISTER_ON_REALTIME_NOTIFICATION_DISCONNECTED,Description:"ACS Adapter: Registering on realtime notification disconnected"}),(null==b?void 0:b.enableThreadMemberUpdateNotification)&&(C.on("participantsAdded",j),be.logEvent(ve.DEBUG,{Event:Te.REGISTER_ON_PARTICIPANT_ADDED,Description:"ACS Adapter: Registering on participant added success"}),C.on("participantsRemoved",F),be.logEvent(ve.DEBUG,{Event:Te.REGISTER_ON_PARTICIPANT_REMOVED,Description:"ACS Adapter: Registering on participant removed success"})),(null==b?void 0:b.enableLeaveThreadOnWindowClosed)&&r(fe.EventManager).addEventListener("beforeunload",function(){var e=r(fe.Token),t=r(fe.EnvironmentUrl),n=r(fe.ThreadId),i=r(fe.UserId);fetch(t+"/chat/threads/"+n+"/members/"+i+"?api-version="+di.API_Version,{keepalive:!0,method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}})}),S(O,A),(0,h.mG)(e,void 0,void 0,function*(){var e=this,t=r(fe.EventManager);null==t||t.addEventListener("queue-attachment-download",function(t){return(0,h.mG)(e,void 0,void 0,function*(){yield _i(t,_,r)})})}),(0,h.mG)(e,void 0,void 0,function*(){var e=this,t=r(fe.EventManager);null==t||t.addEventListener("acs-attachment-downloaded",function(t){return(0,h.mG)(e,void 0,void 0,function*(){var e=t.detail.payload,n=e.chatMessage,r=e.files;be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_ATTACHMENT_DOWNLOADED,Description:"ACS Adapter: Attachment downloaded "+(null==r?void 0:r.map(function(e){return e.name}).join(",")),MessageSender:n.sender.communicationUserId,TimeStamp:n.createdOn.toISOString(),ChatMessageId:n.id});var i=yield l(n,r);i&&(be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_POST_FILE_ACTIVITY,Description:"ACS Adapter: Post file attachment activity, messageId: "+i.messageid,MessageSender:n.sender.communicationUserId,TimeStamp:n.createdOn.toISOString(),ChatMessageId:n.id}),A(i))})})}),(0,h.mG)(e,void 0,void 0,function*(){var e=this,t=r(fe.EventManager);null==t||t.addEventListener("webchat-status-connected",function(){return(0,h.mG)(e,void 0,void 0,function*(){for(be.logEvent(ve.DEBUG,{Event:Te.WEBCHAT_STATUS_CONNECTED,Description:"ACS Adapter: Event Webchat connected received"});ki.length>0;){var e=ki.pop();be.logEvent(ve.DEBUG,{Event:Te.PROCESS_CACHED_PAGED_HISTORY_MESSAGE,Description:"ACS Adapter: Process cached history message with id "+e.id,MessageSender:e.sender.communicationUserId,TimeStamp:e.createdOn.toISOString(),ChatThreadId:r(fe.ThreadId),ChatMessageId:e.id});var t=yield u(e);t&&(be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_POST_ACTIVITY,Description:"ACS Adapter: Post activity, paged history message with Id: "+t.messageid,MessageSender:e.sender.communicationUserId,TimeStamp:e.createdOn.toISOString(),ChatMessageId:e.id,ACSRequesterUserId:r(fe.UserId)}),t.channelData.fromList=!0,A(t))}for(;D.length>0;){var n=D.pop();be.logEvent(ve.DEBUG,{Event:Te.PROCESS_CACHED_HISTORY_MESSAGE,Description:"ACS Adapter: Process polled cached history message with Id "+n.id,MessageSender:n.sender.communicationUserId,TimeStamp:n.createdOn.toISOString(),ChatThreadId:r(fe.ThreadId),ChatMessageId:n.id}),P.set(n.id,{content:n.content.message,createdOn:n.createdOn,updatedOn:n.editedOn,fileIds:null==I?void 0:I.getFileIds(n.metadata)});var i=yield u(n);i&&(be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_POST_ACTIVITY,Description:"ACS Adapter: Post activity, history messageId: "+i.messageid,MessageSender:n.sender.communicationUserId,TimeStamp:n.createdOn.toISOString(),ChatMessageId:n.id,ACSRequesterUserId:r(fe.UserId)}),i.channelData.fromList=!0,A(i))}for(;N.length>0;){var o=N.pop();be.logEvent(ve.DEBUG,{Event:Te.PROCESS_CACHED_NEW_MESSAGE,Description:"ACS Adapter: Process cached new message with id "+o.id,MessageSender:o.sender.communicationUserId,TimeStamp:o.createdOn.toISOString(),ChatThreadId:o.threadId,ChatMessageId:o.id}),yield U(o)}})})}),T(O,k),(function(t){(0,h.mG)(e,void 0,void 0,function*(){var e=this,n=r(fe.EventManager);null==n||n.addEventListener("online",function(){return(0,h.mG)(e,void 0,void 0,function*(){var e=r(fe.DisconnectUTC);be.logEvent(ve.DEBUG,{Event:Te.NETWORK_ONLINE,Description:"ACS Adapter: ACS Chat reconnected event since disconnect at "+e,TimeStamp:(new Date).toISOString()}),e&&(i(fe.DisconnectUTC,void 0),a&&(be.logEvent(ve.INFO,{Event:Te.ACS_CANCEL_POLLING_CALLBACK,Description:"ACS Adapter: Canceling polling in network connected Id "+a,TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),ACSRequesterUserId:r(fe.UserId)}),clearTimeout(a)),w=!0,yield M(r(fe.PollingInterval),t,e))})})})})(k),b.historyPageSizeLimit?(y(g,O,A,void 0,b&&b.historyPageSizeLimit),E(g,O,A,b&&b.historyPageSizeLimit)):(a&&(be.logEvent(ve.INFO,{Event:Te.ACS_CANCEL_POLLING_CALLBACK,Description:"ACS Adapter: Canceling polling, if any, at the start "+a,TimeStamp:(new Date).toISOString(),ChatThreadId:r(fe.ThreadId),ACSRequesterUserId:r(fe.UserId)}),clearTimeout(a)),M(r(fe.PollingInterval),k)),function(){O.unsubscribed=!0,C.off("chatMessageReceived",U),C.off("typingIndicatorReceived",L),C.off("chatMessageEdited",q),C.off("participantsAdded",j),C.off("participantsRemoved",F),C.off("chatThreadDeleted",G)}})),t(p,g)})}}})}var Di={requestOptions:{customHeaders:{"x-ms-useragent":"acs-webchat-adapter-"+ci.i8+"  azsdk-js-communication-chat/"+ci.HO.lU}}},Mi=(function(){return t(s[6])(function e(){t(s[4])(this,e)},null,[{key:"isACSConnected",value:function(e,t){var n,r;return(0,h.mG)(this,void 0,void 0,function*(){for(var i=0;i<5;)try{return t&&e?(yield t.getProperties(Di),!0):(be.logEvent(ve.ERROR,{Event:Te.ACS_SDK_CHATCLIENT_RECONNECT_ERROR,Description:"Trying to reconnect failed as ACS Client is in uninitialized state"}),!1)}catch(e){i++;var o=null===(n=null==e?void 0:e.response)||void 0===n?void 0:n.status;if(i>=5||o&&this.isNotRetryable(o))return be.logEvent(ve.ERROR,{Event:Te.ACS_SDK_CHATCLIENT_RECONNECT_ERROR,Description:"Trying to reconnect failed with status "+o+" after retries "+i,ExceptionDetails:e}),ti.notifyErrorEvent({StatusCode:null===(r=null==e?void 0:e.response)||void 0===r?void 0:r.status,ErrorType:Vr.ADAPTER_RECONNECT_FAILED,ErrorMessage:null==e?void 0:e.message,ErrorStack:null==e?void 0:e.stack,ErrorDetails:null==e?void 0:e.details,Timestamp:(new Date).toISOString()}),!1;yield Ai(1e3*Math.pow(2,i))}return!1})}},{key:"isNotRetryable",value:function(e){return 401===e||403===e||404===e}}])})(),xi=t(s[6])(function e(n){var r=this;t(s[4])(this,e),this.getIsPollingEnabled=function(){return!r.messagePoller||r.messagePoller.getIsPollingEnabled()},this.stopPolling=function(){return!!r.messagePoller&&r.messagePoller.stopPolling()},this.messagePoller=n});function Ui(e,r,i,o,a,c,u,l,f,v,m){return d(function(t){return function(s){be.setInstance(v),ti.setInstance(u);var d=new xi(m.messagePollingHandle),p=t(s),g=new ri;return p.setState(fe.BotId,void 0),p.setState(fe.ChatClient,void 0),p.setState(fe.UserId,void 0),p.setState(fe.AuthConfig,void 0),p.setState(fe.ChatThreadClient,void 0),p.setState(fe.UserDisplayName,void 0),p.setState(fe.ConnectionStatusObserverReady,!1),p.setState(fe.DisconnectUTC,void 0),p.setState(fe.EventManager,g),p.setState(fe.AdapterOptions,m),p.setState(fe.EnvironmentUrl,void 0),p.setState(fe.ThreadId,void 0),p.setState(fe.Token,void 0),p.setState(fe.Reconnect,!1),p.setState(fe.FileManager,void 0),p.setState(fe.PollingInterval,c),p.setState(fe.MessagePollingHandleInstance,d),(function(){(0,h.mG)(this,void 0,void 0,function*(){var t=this,s=yield(function(e,t,n,r,i,o){return(0,h.mG)(void 0,void 0,void 0,function*(){var s={chatClient:void 0,chatThreadClient:void 0};try{e||(be.logEvent(ve.ERROR,{Event:Te.ACS_SDK_START_INIT_ERROR,ChatThreadId:n,ACSRequesterUserId:t,Description:"ACS Adapter: ACS Adapter start init error. Token is null."}),ti.notifyErrorEvent({ErrorType:Vr.ADAPTER_INIT_TOKEN_MISSING_ERROR,Timestamp:(new Date).toISOString(),AcsChatDetails:{ThreadId:n,RequesterUserId:t}})),n||(be.logEvent(ve.ERROR,{Event:Te.ACS_SDK_START_INIT_ERROR,ChatThreadId:n,ACSRequesterUserId:t,Description:"ACS Adapter: ACS Adapter start init error. ThreadId is null."}),ti.notifyErrorEvent({ErrorType:Vr.ADAPTER_INIT_THREAD_ID_MISSING_ERROR,Timestamp:(new Date).toISOString(),AcsChatDetails:{RequesterUserId:t}})),Zr.id=t,Zr.environmentUrl=r,Zr.token=e,ei.displayName=null!=i?i:"",be.logEvent(ve.INFO,{Event:Te.ACS_SDK_START_INIT,ChatThreadId:n,ACSRequesterUserId:t,Description:"ACS Adapter: ACS Adapter start init."});var a=new Qr(e);return s.chatClient=null!=o?o:new Fr(Zr.environmentUrl,a),s.chatClient||be.logEvent(ve.ERROR,{Event:Te.ACS_SDK_CHATCLIENT_ERROR,Description:"ACS Adapter: ACS ChatClient failed to init."}),s.chatThreadClient=s.chatClient.getChatThreadClient(n),s.chatThreadClient||be.logEvent(ve.ERROR,{Event:Te.ACS_SDK_JOINTHREAD_ERROR,Description:"ACS Adapter: failed to join the thread."}),yield s.chatClient.startRealtimeNotifications(),s}catch(e){be.logEvent(ve.ERROR,{Event:Te.ACS_SDK_START_INIT_ERROR,ChatThreadId:n,ACSRequesterUserId:t,Description:"ACS Adapter: ACS Adapter start init error.",ExceptionDetails:e}),ti.notifyErrorEvent({ErrorType:Vr.ADAPTER_INIT_EXCEPTION,ErrorMessage:e.message,ErrorStack:e.stack,ErrorDetails:null==e?void 0:e.details,Timestamp:(new Date).toISOString(),AcsChatDetails:{RequesterUserId:t,ThreadId:t}})}})})(e,r,i,o,l,f);p.setState(fe.ThreadId,i),p.setState(fe.ChatClient,s.chatClient),p.setState(fe.ChatThreadClient,s.chatThreadClient),p.setState(fe.UserId,Zr.id),p.setState(fe.UserDisplayName,l),p.setState(fe.AuthConfig,Zr),p.setState(fe.EnvironmentUrl,o),p.setState(fe.Token,e),p.setState(fe.FileManager,a),p.setReadyState(n.OPEN),g.addEventListener("online",function(){return(0,h.mG)(t,void 0,void 0,function*(){(yield Mi.isACSConnected(s.chatClient,s.chatThreadClient))?(p.setReadyState(n.OPEN),be.logEvent(ve.INFO,{Event:Te.ACS_SDK_RECONNECT,Description:"ACS Adapter: Reconnect to network."})):g.handleError(new Error("ACS Chat client could not reconnect"))})}),g.addEventListener("offline",function(){p.setReadyState(n.CONNECTING),p.setState(fe.DisconnectUTC,new Date)})})})(),p}},(function(e){return d(function(){return p(function(e){return e.ingress},function(e,t){return Object.assign(Object.assign({},e),{ingress:t})}).apply(void 0,arguments)}.apply(void 0,t(s[12])(e&&e.ingressMiddleware?e.ingressMiddleware:[])),Ni())})(m),(function(e){return function(){return p(function(e){return e.egress},function(e,t){return Object.assign(Object.assign({},e),{egress:t})}).apply(void 0,arguments)}.apply(void 0,t(s[12])(e&&e.egressMiddleware?e.egressMiddleware:[]).concat([(function(){var e=this;return function(t){var n=t.getState;return function(t){return function(r){return(0,h.mG)(e,void 0,void 0,function*(){if(r.type!==Wr.Message||!(r.attachments||[]).length)return t(r);var e=r.attachments,i=n(fe.FileManager),o=n(fe.EventManager);r.channelData=Object.assign(Object.assign({},r.channelData),{uploadedFiles:[]}),be.logEvent(ve.ERROR,{Event:Te.FILEMANAGER_UPLOAD_FILE_FAILED,Description:"Sending upload file request",ACSRequesterUserId:n(fe.UserId),TimeStamp:r.timestamp,ChatThreadId:n(fe.ThreadId)});try{var s=yield i.uploadFiles(e);r.channelData.uploadedFiles=s}catch(e){be.logEvent(ve.ERROR,{Event:Te.FILEMANAGER_UPLOAD_FILE_FAILED,Description:"Uploading file failed",ACSRequesterUserId:n(fe.UserId),TimeStamp:r.timestamp,ChatThreadId:n(fe.ThreadId),ExceptionDetails:e}),ti.notifyErrorEvent({ErrorType:Vr.EGRESS_ATTACHMENT_UPLOAD_FAILED,ErrorMessage:e.message,ErrorStack:e.stack,ErrorDetails:null==e?void 0:e.details,Timestamp:r.timestamp,AcsChatDetails:{ThreadId:n(fe.ThreadId),RequesterUserId:n(fe.UserId)},AdditionalParams:{activity:r}}),o.handleError(e)}t(r)})}}}})(),(function(){var e=this;return function(t){var n=t.getState;return function(t){return function(r){return(0,h.mG)(e,void 0,void 0,function*(){var e,i,o,s,a,c,u,l;if(r.type!==Wr.Message)return t(r);var d=n(fe.ChatThreadClient),p=n(fe.UserDisplayName),h=n(fe.EventManager),f=n(fe.FileManager);if(!d){var v="ACS Adapter: Failed to egress message without an active chatThreadClient.";throw be.logEvent(ve.ERROR,{Event:Te.ACS_ADAPTER_EGRESS_FAILED,Description:v,ACSRequesterUserId:n(fe.UserId),TimeStamp:r.timestamp,ChatThreadId:n(fe.ThreadId),ChatMessageId:r.messageid}),new Error(v)}be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_EGRESS_MESSAGE,Description:"Convert activity to egress ACS message",ACSRequesterUserId:n(fe.UserId),TimeStamp:r.timestamp,ChatThreadId:n(fe.ThreadId),ChatMessageId:r.messageid});var m=r.text,g=r.value,y=Date.now().toString();r.clientmessageid=y;var E=m||"",S={},T=null===(i=null===(e=r.channelData)||void 0===e?void 0:e.uploadedFiles)||void 0===i?void 0:i.map(function(e){return null==e?void 0:e.fileId}),C=T?f.createFileIdProperty(T):void 0,b=null===(s=null===(o=r.channelData)||void 0===o?void 0:o.uploadedFiles)||void 0===s?void 0:s.map(function(e){return null==e?void 0:e.metadata}),R=b?f.createFileMetadataProperty(b):void 0,I=f.createBotAttachment(Object.assign(Object.assign({},C),R));I&&0!==Object.keys(I).length&&(S.attachments=[I]);var A=null===(a=r.channelData)||void 0===a?void 0:a.tags,w=A?{tags:A}:void 0,_=null===(c=r.channelData)||void 0===c?void 0:c.metadata;(null===(u=r.channelData)||void 0===u?void 0:u.clientActivityID)&&(_=Object.assign(Object.assign({},_),{clientActivityId:r.channelData.clientActivityID.toString()})),g&&(S.value=g),r.attachmentLayout&&(S.attachmentLayout=r.attachmentLayout),"{}"!==JSON.stringify(S)&&(m&&(S.text=m),E=JSON.stringify(S),_=Object.assign(Object.assign({},_),{"microsoft.azure.communication.chat.bot.contenttype":"azurebotservice.adaptivecard"}));var O=Object.assign(Object.assign({},ui),{senderDisplayName:p||void 0});(_||A||T)&&(O.metadata=Object.assign(Object.assign(Object.assign(Object.assign({},_),w),C),R));var k={content:E};try{be.logEvent(ve.INFO,{Event:Te.ACS_ADAPTER_EGRESS_SEND_MESSAGE,Description:"Convert activity to egress ACS message",ACSRequesterUserId:n(fe.UserId),TimeStamp:r.timestamp,ChatThreadId:n(fe.ThreadId),ChatMessageId:r.messageid});var P=yield d.sendMessage(k,O);si(P.id,r.channelData.clientActivityID),be.logEvent(ve.DEBUG,{Event:Te.ACS_ADAPTER_SEND_MESSAGE_SUCCESS,Description:"Adapter: Successfully sent a message with messageid "+P.id+".",CustomProperties:k,ACSRequesterUserId:n(fe.UserId),TimeStamp:(new Date).toISOString(),ChatThreadId:n(fe.ThreadId),ChatMessageId:r.messageid,ClientActivityId:null==r?void 0:r.channelData.clientActivityID})}catch(e){be.logEvent(ve.ERROR,{Event:Te.ACS_ADAPTER_SEND_MESSAGE_FAILED,Description:"Send message failed.",CustomProperties:k,ACSRequesterUserId:n(fe.UserId),TimeStamp:(new Date).toISOString(),ChatThreadId:n(fe.ThreadId),ChatMessageId:r.messageid,ClientActivityId:null==r?void 0:r.channelData.clientActivityID,ExceptionDetails:e}),ti.notifyErrorEvent({StatusCode:null===(l=e.response)||void 0===l?void 0:l.status,ErrorType:Vr.EGRESS_SEND_MESSAGE_FAILED,ErrorMessage:e.message,ErrorStack:e.stack,ErrorDetails:null==e?void 0:e.details,Timestamp:(new Date).toISOString(),AcsChatDetails:{ThreadId:n(fe.ThreadId),RequesterUserId:n(fe.UserId)},AdditionalParams:{activity:r,sendMessageRequest:k,sendMessageOptions:O}}),h.handleError(e)}})}}}})(),(function(){var e=this;return function(t){var n=t.getState;return function(t){return function(r){return(0,h.mG)(e,void 0,void 0,function*(){var e;if(r.type!==Wr.Typing)return t(r);var i=n(fe.ChatThreadClient),o=n(fe.AdapterOptions);if(!i){var s="ACS Adapter: Failed to egress typing activity with an undefined chatThreadClient.";throw be.logEvent(ve.ERROR,{Event:Te.ACS_ADAPTER_EGRESS_TYPING_FAILED,Description:s,ACSRequesterUserId:n(fe.UserId),TimeStamp:r.timestamp,ChatThreadId:n(fe.ThreadId)}),new Error(s)}var a=(null==o?void 0:o.enableSenderDisplayNameInTypingNotification)?Object.assign(Object.assign({},li),{senderDisplayName:n(fe.UserDisplayName)}):Object.assign({},li);try{be.logEvent(ve.DEBUG,{Event:Te.ACS_ADAPTER_EGRESS_TYPING_SENDING_REQUEST,Description:"ACS Adapter: Request sending a typing indication",ACSRequesterUserId:n(fe.UserId),TimeStamp:r.timestamp,ChatThreadId:n(fe.ThreadId)}),yield i.sendTypingNotification(a),be.logEvent(ve.DEBUG,{Event:Te.ACS_ADAPTER_INGRESS_TYPING_SUCCESS,Description:"ACS Adapter: Successfully sent a typing indication",ACSRequesterUserId:n(fe.UserId),TimeStamp:r.timestamp,ChatThreadId:n(fe.ThreadId)})}catch(t){be.logEvent(ve.ERROR,{Event:Te.ACS_ADAPTER_SEND_MESSAGE_FAILED,Description:"Send message failed.",CustomProperties:a,ACSRequesterUserId:n(fe.UserId),TimeStamp:(new Date).toISOString(),ChatThreadId:n(fe.ThreadId),ChatMessageId:r.messageid,ClientActivityId:null==r?void 0:r.channelData.clientActivityID,ExceptionDetails:t}),ti.notifyErrorEvent({StatusCode:null===(e=t.response)||void 0===e?void 0:e.status,ErrorType:Vr.EGRESS_SEND_MESSAGE_FAILED,ErrorMessage:t.message,ErrorStack:t.stack,ErrorDetails:null==t?void 0:t.details,Timestamp:(new Date).toISOString(),AcsChatDetails:{ThreadId:n(fe.ThreadId),RequesterUserId:n(fe.UserId)},AdditionalParams:{activity:r}})}})}}}})()]))})(m))}var Li=(function(){return t(s[6])(function e(n,r,i){t(s[4])(this,e),this.accessToken=n,this.downloadUrl=r,this.uploadUrl=i},[{key:"downloadBlob",value:function(e){return(0,h.mG)(this,void 0,void 0,function*(){var t=yield fetch(e);if(!t.ok)throw new Error("Failed to fetch file contents.");return yield t.blob()})}},{key:"downloadDriveItem",value:function(e){var t;return(0,h.mG)(this,void 0,void 0,function*(){var n=this.downloadUrl(e),r={method:"GET",headers:{Authorization:"Bearer "+this.accessToken,"Content-Type":"application/json"}},i=yield fetch(n,r),o=yield i.json();if(!i.ok)throw new Error("Failed to download drive item from OneDrive: "+(null===(t=o.error)||void 0===t?void 0:t.message));return o})}},{key:"downloadDriveItemContents",value:function(e){var t;return(0,h.mG)(this,void 0,void 0,function*(){var n=yield fetch(e);if(!n.ok){var r=yield n.json();throw new Error("Failed to download drive item contents from OneDrive: "+(null===(t=r.error)||void 0===t?void 0:t.message))}return yield n.blob()})}},{key:"uploadFiles",value:function(e){return(0,h.mG)(this,void 0,void 0,function*(){var t=this;return Promise.all(e.map(function(e){return(0,h.mG)(t,void 0,void 0,function*(){var t=yield this.downloadBlob(e.contentUrl),n=this.uploadUrl(e.name),r={method:"PUT",headers:{Authorization:"Bearer "+this.accessToken,"Content-Type":e.contentType},body:t},i=yield(yield fetch(n,r)).json();if(i.error)throw new Error("Failed to upload file to OneDrive. "+i.error.message);return{fileId:i.id,metadata:{filename:e.name}}})}))})}},{key:"downloadFiles",value:function(e){return(0,h.mG)(this,void 0,void 0,function*(){var t=this;return Promise.all(e.map(function(e){return(0,h.mG)(t,void 0,void 0,function*(){var t,n,r=yield this.downloadDriveItem(e.fileId),i=r["@microsoft.graph.downloadUrl"],o=yield this.downloadDriveItemContents(i);return e.metadata&&console.log("File name: "+(null===(t=e.metadata)||void 0===t?void 0:t.name)),new File([o],r.name,{type:null===(n=r.file)||void 0===n?void 0:n.mimeType,lastModified:r.lastModifiedDateTime})})}))})}},{key:"updatePermissions",value:function(){return(0,h.mG)(this,void 0,void 0,function*(){throw new Error("Method not implemented.")})}},{key:"getFileIds",value:function(e){if(null==e?void 0:e.onedriveReferences)try{return JSON.parse(null==e?void 0:e.onedriveReferences)}catch(e){throw new Error("Failed to parse onedriveReferences in ChatMessage metadata.")}}},{key:"createFileIdProperty",value:function(e){return{onedriveReferences:JSON.stringify(e)}}},{key:"getFileMetadata",value:function(e){if(null==e?void 0:e.onedriveMetadata)try{return JSON.parse(null==e?void 0:e.onedriveMetadata)}catch(e){throw new Error("Failed to parse onedriveMetadata in ChatMessage metadata.")}}},{key:"createFileMetadataProperty",value:function(e){return{onedriveMetadata:JSON.stringify(e)}}},{key:"createBotAttachment",value:function(e){if(!e||0===Object.keys(e).length)return null;var t,n,r=this.getFileMetadata(e),i=this.getFileIds(e);return i&&i.length>0&&(t=i[0]),r&&r.length>0&&(n=r[0]),t?{contentType:null==n?void 0:n.contentType,name:null==n?void 0:n.fileName,content:{uniqueId:t}}:null}}])})(),qi=function(e,t,r,i,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3e4,a=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,p=arguments.length>10?arguments[10]:void 0;return s=s>=5e3?s:5e3,Ie(p,d((function(){var e=this;return function(t){return function(r){var i,o=t(r);o.setState(fe.WebChatStatus,Ce.Uninitialized),o.addEventListener("open",function(){return(0,h.mG)(e,void 0,void 0,function*(){var e=o.getState(fe.EventManager);if(be.logEvent(ve.INFO,{Event:Te.ADAPTER_STATE_UPDATE,Description:"Adapter state has been changed to open"}),i)be.logEvent(ve.INFO,{Event:Te.WEBCHAT_SUBSCRIPTION_SUCCESS,Description:"WebChat already connected"}),i.next(Ce.Connected),o.setState(fe.WebChatStatus,Ce.Connected),e.raiseCustomEvent("webchat-status-connected",{});else{for(var t=5,n=(null==r?void 0:r.webChatInitTimeout)?null==r?void 0:r.webChatInitTimeout:2e3;!i&&t<n;)yield Re(t),t*=2;i?(be.logEvent(ve.INFO,{Event:Te.WEBCHAT_SUBSCRIPTION_SUCCESS,Description:"WebChat subscribed to connection status changes in "+t+" ms"}),i.next(Ce.Connected),o.setState(fe.WebChatStatus,Ce.Connected),e.raiseCustomEvent("webchat-status-connected",{})):(be.logEvent(ve.ERROR,{Event:Te.WEBCHAT_SUBSCRIPTION_TIMEOUT,Description:"WebChat couldn't subscribe to connection status changes in "+n+" ms"}),e.handleError(new Error("WebChat subscription timeout to connection status changes")),o.setState(fe.WebChatStatus,Ce.FailedToConnect))}})}),o.addEventListener("error",function(){be.logEvent(ve.INFO,{Event:Te.ADAPTER_STATE_UPDATE,Description:"Adapter state has been changed to error"});var e=o.getReadyState()===n.CLOSED?Ce.FailedToConnect:Ce.Connecting;i.next(e),o.setState(fe.WebChatStatus,e)});var s=!0;return Object.assign(Object.assign({},o),{activity$:Se(new(Ee())(function(e){var t=new AbortController;return(function(){var n,r,i,s;(0,h.mG)(this,void 0,void 0,function*(){try{try{for(var a,c=!0,u=(0,h.KL)(o.activities({signal:t.signal}));a=yield u.next(),!(n=a.done);){s=a.value,c=!1;try{var l=s;e.next(l)}finally{c=!0}}}catch(e){r={error:e}}finally{try{c||n||!(i=u.return)||(yield i.call(u))}finally{if(r)throw r.error}}e.complete()}catch(t){e.error(t)}})})(),s?s=!1:(o.setReadyState(n.CONNECTING),o.setReadyState(n.OPEN),o.setState(fe.Reconnect,!0)),function(){t.abort()}})),connectionStatus$:Se(new(Ee())(function(e){return e.next(Ce.Uninitialized),e.next(Ce.Connecting),i=e,function(){i=void 0}})),end:function(){o.close()},postActivity:function(e){return new(Ee())(function(t){!(function(){(0,h.mG)(this,void 0,void 0,function*(){yield o.egress(e,{progress:function(e){var n=e.id;return n&&t.next(n)}}),t.complete()})})()})}})}}})(),Ui(e,t,r,i,o,s,a,c,u,l,p)))}})(),o})()},"object"==typeof o&&"object"==typeof i?i.exports=p():"function"==typeof define&&define.amd?define([],p):"object"==typeof o?o.ChatAdapter=p():d.ChatAdapter=p()},920,[921,44,73,45,12,47,13,49,240,22,46,270,6]);
__d(function(g,_r,_i,a,m,_e,d){function e(t,r,n,o){return(e="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,r,n){var o,f=_r(d[0])(e,t);if(f){if((o=Object.getOwnPropertyDescriptor(f,t)).set)return o.set.call(n,r),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(n,t)){if(!o.writable)return!1;o.value=r,Object.defineProperty(n,t,o)}else _r(d[1])(n,t,r);return!0})(t,r,n,o)}m.exports=function(t,r,n,o,f){if(!e(t,r,n,o||t)&&f)throw new TypeError("failed to set property");return n},m.exports.__esModule=!0,m.exports.default=m.exports},921,[74,240]);
__d(function(_g2,r,_i,a,m,_e2,d){"use strict";var e,t,i,n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,l){function s(e){try{u(n.next(e))}catch(e){l(e)}}function c(e){try{u(n.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,c)}u((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var i,n,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(e){return function(t){return u([e,t])}}function u(c){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(l=0)),l;)try{if(i=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return l.label++,{value:c[1],done:!1};case 5:l.label++,n=c[1],c=[0];continue;case 7:c=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){l=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){l.label=c[1];break}if(6===c[0]&&l.label<o[1]){l.label=o[1],o=c;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(c);break}o[2]&&l.ops.pop(),l.trys.pop();continue}c=t.call(e,l)}catch(e){c=[6,e],n=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.AMSViewScanStatus=void 0,(function(e){e[e.READ=0]="READ",e[e.WRITE=1]="WRITE"})(e||(e={})),(function(e){e.AMSUpload="AMSUpload",e.AMSDownload="AMSDownload",e.GetFileIds="GetFileIds",e.CreateFileIdProperty="CreateFileIdProperty",e.GetFileMetadata="GetFileMetadata",e.CreateFileMetadataProperty="CreateFileMetadataProperty"})(t||(t={})),(function(e){e.PASSED="passed",e.MALWARE="malware",e.INPROGRESS="in progress"})(i||(_e2.AMSViewScanStatus=i={}));var s=["image/jpeg","image/png","image/gif","image/heic","image/webp"],c=(function(){function e(e,t,i){var o;if(void 0===t&&(t=null),void 0===i&&(i={}),this.supportedImagesMimeTypes=s,this.logger=t,this.amsClient=e,this.options=i,this.omnichannelChatToken=null,!1===(null===(o=this.options.fileScan)||void 0===o?void 0:o.disabled)){var l=n({},this.options.fileScan);this.fileScanner=new(r(d[0]).default)(this.amsClient,l)}}return e.prototype.uploadFiles=function(e){return o(this,void 0,void 0,function(){var t=this;return l(this,function(i){return[2,Promise.all(e.map(function(e){return o(t,void 0,void 0,function(){return l(this,function(t){return[2,this.uploadFileToAMS(e)]})})}))]})})},e.prototype.downloadFiles=function(e){return o(this,void 0,void 0,function(){var t=this;return l(this,function(i){return[2,Promise.all(e.map(function(e){return o(t,void 0,void 0,function(){return l(this,function(t){return[2,this.downloadFileFromAMS(e)]})})}))]})})},e.prototype.updatePermissions=function(){return o(this,void 0,void 0,function(){return l(this,function(e){return[2,void 0]})})},e.prototype.getFileIds=function(e){var i,n,o;if(e&&(e.amsReferences||e.amsreferences)){null===(i=this.logger)||void 0===i||i.startScenario(t.GetFileIds);try{var l=void 0;return(null==e?void 0:e.amsReferences)&&(l=JSON.parse(null==e?void 0:e.amsReferences)),(null==e?void 0:e.amsreferences)&&(l=JSON.parse(null==e?void 0:e.amsreferences)),null===(n=this.logger)||void 0===n||n.completeScenario(t.GetFileIds),l}catch(i){var s={metadata:"".concat(e),errorObject:"".concat(i)};return void(null===(o=this.logger)||void 0===o||o.failScenario(t.GetFileIds,{ExceptionDetails:JSON.stringify(s)}))}}},e.prototype.createFileIdProperty=function(e){var i,n,o;if(e){null===(i=this.logger)||void 0===i||i.startScenario(t.CreateFileIdProperty);try{var l={amsReferences:JSON.stringify(e),amsreferences:JSON.stringify(e)};return null===(n=this.logger)||void 0===n||n.completeScenario(t.CreateFileIdProperty),l}catch(i){var s={fileIds:"".concat(e),errorObject:"".concat(i)};return void(null===(o=this.logger)||void 0===o||o.failScenario(t.CreateFileIdProperty,{ExceptionDetails:JSON.stringify(s)}))}}},e.prototype.getFileMetadata=function(e){var i,n,o;if(e&&e.amsMetadata){null===(i=this.logger)||void 0===i||i.startScenario(t.GetFileMetadata);try{var l=JSON.parse(null==e?void 0:e.amsMetadata);return null===(n=this.logger)||void 0===n||n.completeScenario(t.GetFileMetadata),l}catch(i){var s={metadata:"".concat(e),errorObject:"".concat(i)};return void(null===(o=this.logger)||void 0===o||o.failScenario(t.GetFileMetadata,{ExceptionDetails:JSON.stringify(s)}))}}},e.prototype.createFileMetadataProperty=function(e){var i,n,o;if(e){null===(i=this.logger)||void 0===i||i.startScenario(t.CreateFileMetadataProperty);try{var l={amsMetadata:JSON.stringify(e)};return null===(n=this.logger)||void 0===n||n.completeScenario(t.CreateFileMetadataProperty),l}catch(i){var s={metadata:"".concat(e),errorObject:"".concat(i)};return void(null===(o=this.logger)||void 0===o||o.failScenario(t.CreateFileMetadataProperty,{ExceptionDetails:JSON.stringify(s)}))}}},e.prototype.createBotAttachment=function(e){return e&&Object.keys(e).length,null},e.prototype.uploadFileToAMS=function(e){return o(this,void 0,void 0,function(){var i,n,o,s,c,u,p,f,h,v,g,S;return l(this,function(l){switch(l.label){case 0:if(null===(f=this.logger)||void 0===f||f.startScenario(t.AMSUpload),!e.contentUrl||!e.name)return[3,12];i=void 0,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.amsClient.fetchBlob(e.contentUrl)];case 2:return i=l.sent(),[3,4];case 3:throw n=l.sent(),p={response:'AMSFetchBlobFailure',errorObject:"".concat(n)},null===(h=this.logger)||void 0===h||h.failScenario(t.AMSUpload,{ExceptionDetails:JSON.stringify(p)}),n;case 4:o=new File([i],e.name,{type:e.contentType}),s=void 0,l.label=5;case 5:return l.trys.push([5,7,,8]),[4,this.amsClient.createObject(this.amsClient.chatToken.chatId,o,this.omnichannelChatToken,this.supportedImagesMimeTypes)];case 6:return s=l.sent(),[3,8];case 7:throw c=l.sent(),p={response:'AMSCreateObjectFailure',errorObject:"".concat(c)},null===(v=this.logger)||void 0===v||v.failScenario(t.AMSUpload,{ExceptionDetails:JSON.stringify(p)}),c;case 8:return l.trys.push([8,10,,11]),[4,this.amsClient.uploadDocument(s.id,o,this.omnichannelChatToken,this.supportedImagesMimeTypes)];case 9:return l.sent(),[3,11];case 10:throw u=l.sent(),p={response:'AMSUploadDocumentFailure',errorObject:"".concat(u)},null===(g=this.logger)||void 0===g||g.failScenario(t.AMSUpload,{ExceptionDetails:JSON.stringify(p)}),u;case 11:return null===(S=this.logger)||void 0===S||S.completeScenario(t.AMSUpload),[2,{fileId:s.id,metadata:{contentType:e.contentType,fileName:e.name}}];case 12:return[2]}})})},e.prototype.downloadFileFromAMS=function(e){return o(this,void 0,void 0,function(){var n,o,s,c,u,p,f,h,v,g,S,y,M,F,b,w;return l(this,function(l){switch(l.label){case 0:if(null===(S=this.logger)||void 0===S||S.startScenario(t.AMSDownload),!(e.fileId&&e.metadata&&e.metadata.fileName))return[3,9];n={id:e.fileId,type:e.metadata.contentType,name:e.metadata.fileName},o=void 0,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.amsClient.getViewStatus(n,this.omnichannelChatToken,this.supportedImagesMimeTypes)];case 2:return o=l.sent(),[3,4];case 3:return s=l.sent(),v={response:'AMSGetViewStatusFailure',errorObject:"".concat(s)},null===(y=this.logger)||void 0===y||y.failScenario(t.AMSDownload,{ExceptionDetails:JSON.stringify(v)}),[2,void 0];case 4:if(c=void 0,u=o.view_location,p=o.scan,!1===(null===(M=this.options.fileScan)||void 0===M?void 0:M.disabled)&&p&&(null==p?void 0:p.status)!==i.PASSED)return f=new File([c],e.metadata.fileName,{type:e.metadata.contentType}),v={response:"InvalidFileScanResult"},this.fileScanner.addOrUpdateFile(n.id,n,p),null===(F=this.logger)||void 0===F||F.failScenario(t.AMSDownload,{ExceptionDetails:JSON.stringify(v)}),[2,f];l.label=5;case 5:return l.trys.push([5,7,,8]),[4,this.amsClient.getView(n,u,this.omnichannelChatToken,this.supportedImagesMimeTypes)];case 6:return c=l.sent(),[3,8];case 7:return h=l.sent(),v={response:'AMSGetViewFailure',errorObject:"".concat(h)},null===(b=this.logger)||void 0===b||b.failScenario(t.AMSDownload,{ExceptionDetails:JSON.stringify(v)}),[2,void 0];case 8:return g=new File([c],e.metadata.fileName,{type:e.metadata.contentType}),null===(w=this.logger)||void 0===w||w.completeScenario(t.AMSDownload),[2,g];case 9:return[2]}})})},e})();_e2.default=c},922,[923]);
__d(function(_g,r,_i,a,m,_e,d){"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},e=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(s,u){function c(t){try{l(i.next(t))}catch(t){u(t)}}function o(t){try{l(i.throw(t))}catch(t){u(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,o)}l((i=i.apply(t,e||[])).next())})},n=this&&this.__generator||function(t,e){var n,i,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=o(0),c.throw=o(1),c.return=o(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function o(t){return function(e){return l([t,e])}}function l(o){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,o[0]&&(u=0)),u;)try{if(n=1,i&&(s=2&o[0]?i.return:o[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,o[1])).done)return s;switch(i=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,i=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(s=(s=u.trys).length>0&&s[s.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){u.label=o[1];break}if(6===o[0]&&u.label<s[1]){u.label=s[1],s=o;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(o);break}s[2]&&u.ops.pop(),u.trys.pop();continue}o=e.call(t,u)}catch(t){o=[6,t],i=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(_e,"__esModule",{value:!0});var i=(function(){function i(t,e){void 0===e&&(e={}),this.scanResults=null,this.amsClient=t,this.scanResults=new Map,this.shouldQueueScan=!1,this.test=!1,this.options=e,this.queueScan()}return i.prototype.queueScan=function(){return e(this,void 0,void 0,function(){var t,e;return n(this,function(n){switch(n.label){case 0:this.shouldQueueScan=!0,n.label=1;case 1:return n.trys.push([1,3,4,8]),[4,this.scanFiles()];case 2:return n.sent(),[3,8];case 3:return t=n.sent(),console.error(t),[3,8];case 4:return[4,r(d[0]).default.sleep((null===(e=this.options)||void 0===e?void 0:e.pollingInterval)||7e3)];case 5:return n.sent(),this.shouldQueueScan&&!this.test?[4,this.queueScan()]:[3,7];case 6:n.sent(),n.label=7;case 7:return[7];case 8:return[2]}})})},i.prototype.retrieveFileScanResult=function(t){var e;return null===(e=this.scanResults)||void 0===e?void 0:e.get(t)},i.prototype.addOrUpdateFile=function(e,n,i){var s,u=this.retrieveFileScanResult(e);null===(s=this.scanResults)||void 0===s||s.set(e,t(t({},u||{}),{fileMetadata:n,scan:i}))},i.prototype.addNext=function(e,n){var i,s,u=null===(i=this.scanResults)||void 0===i?void 0:i.get(e);u&&(null===(s=this.scanResults)||void 0===s||s.set(e,t(t({},u),{next:n})))},i.prototype.addActivity=function(e,n){var i,s,u=null===(i=this.scanResults)||void 0===i?void 0:i.get(e);u&&(null===(s=this.scanResults)||void 0===s||s.set(e,t(t({},u),{activity:n})))},i.prototype.scanFileCallback=function(t,i){return e(this,void 0,void 0,function(){var e,s,u,c,o,l,h,f,v;return n(this,function(n){switch(n.label){case 0:if(e=t.fileMetadata,s=t.next,u=t.activity,(null==(c=t.scan)?void 0:c.status)!==r(d[1]).AMSViewScanStatus.INPROGRESS)return[3,10];n.label=1;case 1:return n.trys.push([1,7,,8]),[4,this.amsClient.getViewStatus(e)];case 2:return o=n.sent(),l=o.view_location,h=o.scan,this.addOrUpdateFile(i,t.fileMetadata,h),h.status===r(d[1]).AMSViewScanStatus.PASSED&&s&&u?[4,this.renderAttachmentActivity(t,l)]:[3,4];case 3:n.sent(),n.label=4;case 4:return h.status===r(d[1]).AMSViewScanStatus.MALWARE&&s&&u?[4,this.renderMalwareActivity(t)]:[3,6];case 5:n.sent(),n.label=6;case 6:return[3,8];case 7:return f=n.sent(),console.error(f),[3,8];case 8:return[4,r(d[0]).default.sleep((null===(v=this.options)||void 0===v?void 0:v.scanStatusRetrievalDelay)||1e3)];case 9:n.sent(),n.label=10;case 10:return[2]}})})},i.prototype.scanFiles=function(){var t=this;return new Promise(function(i){return e(t,void 0,void 0,function(){var t,s=this;return n(this,function(u){return null===(t=this.scanResults)||void 0===t||t.forEach(function(t,i){return e(s,void 0,void 0,function(){return n(this,function(e){switch(e.label){case 0:return[4,this.scanFileCallback(t,i)];case 1:return e.sent(),[2]}})})}),i(),[2]})})})},i.prototype.end=function(){this.shouldQueueScan=!1},i.prototype.retrieveFileBlob=function(t,i){return e(this,void 0,void 0,function(){var e,s;return n(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.amsClient.getView(t,i)];case 1:return e=n.sent(),[3,3];case 2:return s=n.sent(),console.error(s),[3,3];case 3:return[2,e]}})})},i.prototype.addAttachmentToActivity=function(t,i){return e(this,void 0,void 0,function(){var e,s,u;return n(this,function(n){switch(n.label){case 0:return[4,r(d[2]).default.getAttachments([i])];case 1:return e=n.sent(),[4,r(d[2]).default.getAttachmentSizes([i])];case 2:return s=n.sent(),u=t.attachments.findIndex(function(t){return t.name===i.name}),t.attachments[u]=e[0],t.channelData.attachmentSizes[u]=s[0],[2]}})})},i.prototype.renderAttachmentActivity=function(t,i){return e(this,void 0,void 0,function(){var e,s,u,c,o,l,h,f=this;return n(this,function(n){switch(n.label){case 0:return e=t.fileMetadata,s=t.next,u=t.activity,[4,this.retrieveFileBlob(e,i)];case 1:return c=n.sent(),o=new File([c],e.name,{type:e.type}),[4,this.addAttachmentToActivity(u,o)];case 2:return n.sent(),l=u.attachments.findIndex(function(t){return t.name===o.name}),u.channelData.fileScan[l]={status:r(d[1]).AMSViewScanStatus.PASSED},l>0&&(h=u.channelData.metadata.amsreferences,JSON.parse(h).forEach(function(t){f.addActivity(t,u)})),s(u),[2]}})})},i.prototype.renderMalwareActivity=function(t){return e(this,void 0,void 0,function(){var e,i,s,u;return n(this,function(n){return e=t.fileMetadata,i=t.next,s=t.activity,u=s.attachments.findIndex(function(t){return t.name===e.name}),s.channelData.fileScan[u]={status:r(d[1]).AMSViewScanStatus.MALWARE},i(s),[2]})})},i})();_e.default=i},923,[765,922,924]);
__d(function(_g,r,i,a,m,_e,d){"use strict";var t=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(u,c){function l(t){try{f(o.next(t))}catch(t){c(t)}}function s(t){try{f(o.throw(t))}catch(t){c(t)}}function f(t){var e;t.done?u(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(l,s)}f((o=o.apply(t,e||[])).next())})},e=this&&this.__generator||function(t,e){var n,o,u,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=s(0),l.throw=s(1),l.return=s(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function s(t){return function(e){return f([t,e])}}function f(s){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,s[0]&&(c=0)),c;)try{if(n=1,o&&(u=2&s[0]?o.return:s[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,s[1])).done)return u;switch(o=0,u&&(s=[2&s[0],u.value]),s[0]){case 0:case 1:u=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,o=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(!(u=(u=c.trys).length>0&&u[u.length-1])&&(6===s[0]||2===s[0])){c=0;continue}if(3===s[0]&&(!u||s[1]>u[0]&&s[1]<u[3])){c.label=s[1];break}if(6===s[0]&&c.label<u[1]){c.label=u[1],u=s;break}if(u&&c.label<u[2]){c.label=u[2],c.ops.push(s);break}u[2]&&c.ops.pop(),c.trys.pop();continue}s=e.call(t,c)}catch(t){s=[6,t],o=0}finally{n=u=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(_e,"__esModule",{value:!0}),_e.getAttachmentSizes=_e.getAttachments=_e.getDataURL=void 0;_e.getDataURL=function(n){return t(void 0,void 0,void 0,function(){return e(this,function(t){return[2,new Promise(function(t){var e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(n)})]})})};_e.getAttachments=function(n){return t(void 0,void 0,void 0,function(){return e(this,function(o){return[2,Promise.all(n.map(function(n){return t(void 0,void 0,void 0,function(){var t;return e(this,function(e){switch(e.label){case 0:return n?[4,(0,_e.getDataURL)(n)]:[3,2];case 1:return t=e.sent(),[2,{contentType:n.type,contentUrl:t,name:n.name,thumbnailUrl:n.type.match("(image|video|audio).*")?t:void 0}];case 2:return[2]}})})}))]})})};_e.getAttachmentSizes=function(t){return t.map(function(t){return t.size})},_e.default={getDataURL:_e.getDataURL,getAttachments:_e.getAttachments,getAttachmentSizes:_e.getAttachmentSizes}},924,[]);
__d(function(_g2,r,_i2,a,m,_e2,d){"use strict";var e,t,n,i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,l){function c(e){try{u(i.next(e))}catch(e){l(e)}}function s(e){try{u(i.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(c,s)}u((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=s(0),c.throw=s(1),c.return=s(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function s(e){return function(t){return u([e,t])}}function u(s){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,s[0]&&(l=0)),l;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return l.label++,{value:s[1],done:!1};case 5:l.label++,i=s[1],s=[0];continue;case 7:s=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){l=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){l.label=s[1];break}if(6===s[0]&&l.label<o[1]){l.label=o[1],o=s;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(s);break}o[2]&&l.ops.pop(),l.trys.pop();continue}s=t.call(e,l)}catch(e){s=[6,e],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},l=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,o=0,l=t.length;o<l;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.VoiceVideoCallingProxy=void 0,(function(e){e[e.Voice=19237e4]="Voice",e[e.Video=19238e4]="Video",e[e.Cobrowse=19239e4]="Cobrowse"})(e||(e={})),(function(e){e.Accept="accept",e.Reject="reject",e.Connect="connect",e.End="end"})(t||(t={})),(function(e){e.CallAdded="callAdded",e.LocalVideoStreamAdded="localVideoStreamAdded",e.LocalVideoStreamRemoved="localVideoStreamRemoved",e.RemoteVideoStreamAdded="remoteVideoStreamAdded",e.RemoteVideoStreamRemoved="remoteVideoStreamRemoved",e.CallDisconnected="callDisconnected",e.ParticipantDisconnected="participantDisconnected",e.IncomingCallEnded="incomingCallEnded"})(n||(n={}));var c=(function(){function l(){this.debug=!1,this.callClientName='ElevateToVoiceVideo',this.proxy=window["Microsoft.Omnichannel.Calling.SDK"].VoiceVideoCalling,this.proxyInstance=this.proxy.getInstance()}return l.getInstance=function(){return this._instance||(this._instance=new l),this._instance},l.prototype.setDebug=function(e){this.debug=e},l.prototype.useScenarioMarker=function(e){this.scenarioMarker=e},l.prototype.load=function(){return i(this,arguments,void 0,function(e){return void 0===e&&(e={}),o(this,function(t){return e.logger&&(this.logger=e.logger),this.proxyInstance.load(e),[2]})})},l.prototype.isInitialized=function(){return this.proxyInstance.isInitialized()},l.prototype.initialize=function(e){return i(this,void 0,void 0,function(){var t,n,i,l,c,s,u,h,p;return o(this,function(o){switch(o.label){case 0:return this.debug&&console.debug("[VoiceVideoCallingProxy] VoiceVideoCallingParams: ".concat(JSON.stringify(e))),this.callingParams=e,null===(n=this.scenarioMarker)||void 0===n||n.startScenario(r(d[0]).default.InitializeVoiceVideoCallingSDK),this.debug&&console.debug("[VoiceVideoCallingProxy][initialize] _isLoaded: ".concat(this.proxyInstance._isLoaded)),this.proxyInstance._isLoaded?[3,2]:[4,this.proxyInstance.load({logger:this.logger||void 0})];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.proxyInstance.initialize({callClientName:this.callClientName,accesstoken:(null===(l=null===(i=this.callingParams)||void 0===i?void 0:i.chatToken.voiceVideoCallToken)||void 0===l?void 0:l.Token)||(null===(c=this.callingParams)||void 0===c?void 0:c.chatToken.token),selfVideoHTMLElementId:null===(s=this.callingParams)||void 0===s?void 0:s.selfVideoHTMLElementId,remoteVideoHTMLElementId:null===(u=this.callingParams)||void 0===u?void 0:u.remoteVideoHTMLElementId})];case 3:return o.sent(),null===(h=this.scenarioMarker)||void 0===h||h.completeScenario(r(d[0]).default.InitializeVoiceVideoCallingSDK),[3,5];case 4:return t=o.sent(),console.log(t),null===(p=this.scenarioMarker)||void 0===p||p.failScenario(r(d[0]).default.InitializeVoiceVideoCallingSDK),[3,5];case 5:return[2]}})})},l.prototype.addEventListener=function(e,t){var i=this;this.proxyInstance.registerEvent(e,function(o){var l=o.callId;e===n.CallAdded&&(i.callId=l),i.debug&&console.debug("[VoiceVideoCallingProxy][".concat(e,"] callId: ").concat(l)),l===i.callId&&t(o)})},l.prototype.isMicrophoneMuted=function(){var e=this.callClientName,t=this.callId;return this.proxyInstance.isMicrophoneMuted({callClientName:e,callId:t})},l.prototype.acceptCall=function(){return i(this,arguments,void 0,function(n){var i,l,c,s,u,h,p,C,v,y,f;return void 0===n&&(n={}),o(this,function(o){switch(o.label){case 0:l=(i=this).callClientName,c=i.callId,null===(h=this.scenarioMarker)||void 0===h||h.startScenario(n.withVideo?r(d[0]).default.AcceptVideoCall:r(d[0]).default.AcceptVoiceCall,{CallId:c||''}),this.debug&&console.debug("[VoiceVideoCallingProxy][acceptCall] callId: ".concat(c)),this.debug&&console.debug(n),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.proxyInstance.acceptCall({callClientName:l,callId:c,withVideo:n.withVideo||!1})];case 2:return o.sent(),[3,4];case 3:return o.sent(),u={response:n.withVideo?"AcceptVideoCallFailed":"AcceptVoiceCallFailed"},null===(p=this.scenarioMarker)||void 0===p||p.failScenario(n.withVideo?r(d[0]).default.AcceptVideoCall:r(d[0]).default.AcceptVoiceCall,{CallId:c||'',ExceptionDetails:JSON.stringify(u)}),[3,4];case 4:s={SecondaryChannelType:n.withVideo?e.Video:e.Voice,SecondaryChannelEventType:t.Accept};try{null===(C=this.callingParams)||void 0===C||C.OCClient.makeSecondaryChannelEventRequest(null===(v=this.callingParams)||void 0===v?void 0:v.chatToken.requestId,s),null===(y=this.scenarioMarker)||void 0===y||y.completeScenario(n.withVideo?r(d[0]).default.AcceptVideoCall:r(d[0]).default.AcceptVoiceCall,{CallId:c||''}),this.debug&&console.debug("[VoiceVideoCallingProxy][acceptCall][makeSecondaryChannelEventRequest]")}catch(e){u={response:"OCClientMakeSecondaryChannelEventRequestFailed"},null===(f=this.scenarioMarker)||void 0===f||f.failScenario(n.withVideo?r(d[0]).default.AcceptVideoCall:r(d[0]).default.AcceptVoiceCall,{CallId:c||'',ExceptionDetails:JSON.stringify(u)}),console.error("[VoiceVideoCallingProxy][acceptCall][makeSecondaryChannelEventRequest] Failure ".concat(e))}return[2]}})})},l.prototype.rejectCall=function(){return i(this,void 0,void 0,function(){var n,i,l,c,s,u,h,p,C,v,y;return o(this,function(o){switch(o.label){case 0:i=(n=this).callClientName,l=n.callId,null===(u=this.scenarioMarker)||void 0===u||u.startScenario(r(d[0]).default.RejectCall,{CallId:l||''}),this.debug&&console.debug("[VoiceVideoCallingProxy][rejectCall] callId: ".concat(l)),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.proxyInstance.rejectCall({callClientName:i,callId:l})];case 2:return o.sent(),null===(h=this.scenarioMarker)||void 0===h||h.completeScenario(r(d[0]).default.RejectCall,{CallId:l||''}),[3,4];case 3:return o.sent(),s={response:"RejectCallFailed"},null===(p=this.scenarioMarker)||void 0===p||p.failScenario(r(d[0]).default.RejectCall,{CallId:l||'',ExceptionDetails:JSON.stringify(s)}),[3,4];case 4:c={SecondaryChannelType:this.isRemoteVideoEnabled()?e.Video:e.Voice,SecondaryChannelEventType:t.Reject};try{null===(C=this.callingParams)||void 0===C||C.OCClient.makeSecondaryChannelEventRequest(null===(v=this.callingParams)||void 0===v?void 0:v.chatToken.requestId,c),this.debug&&console.debug("[VoiceVideoCallingProxy][rejectCall][makeSecondaryChannelEventRequest]")}catch(e){s={response:"OCClientMakeSecondaryChannelEventRequestFailed"},null===(y=this.scenarioMarker)||void 0===y||y.failScenario(r(d[0]).default.RejectCall,{CallId:l||'',ExceptionDetails:JSON.stringify(s)}),console.error("[VoiceVideoCallingProxy][rejectCall][makeSecondaryChannelEventRequest] Failure ".concat(e))}return[2]}})})},l.prototype.stopCall=function(){return i(this,void 0,void 0,function(){var e,t,n,i,l,c,s,u,h;return o(this,function(o){switch(o.label){case 0:t=(e=this).callClientName,n=e.callId,null===(l=this.scenarioMarker)||void 0===l||l.startScenario(r(d[0]).default.StopCall,{CallId:n||''}),this.debug&&console.debug("[VoiceVideoCallingProxy][stopCall] callId: ".concat(n)),i=!(null===(s=null===(c=this.callingParams)||void 0===c?void 0:c.chatToken.voiceVideoCallToken)||void 0===s||!s.Token),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.proxyInstance.stopCall({callClientName:t,callId:n,forEveryone:i})];case 2:return o.sent(),null===(u=this.scenarioMarker)||void 0===u||u.completeScenario(r(d[0]).default.StopCall,{CallId:n||''}),[3,4];case 3:return o.sent(),null===(h=this.scenarioMarker)||void 0===h||h.failScenario(r(d[0]).default.StopCall,{CallId:n||''}),[3,4];case 4:return[2]}})})},l.prototype.toggleMute=function(){return i(this,void 0,void 0,function(){var e,t,n;return o(this,function(i){return t=(e=this).callClientName,n=e.callId,[2,this.proxyInstance.toggleMute({callClientName:t,callId:n})]})})},l.prototype.isRemoteVideoEnabled=function(){var e=this.callClientName,t=this.callId;return this.proxyInstance.isRemoteVideoEnabled({callClientName:e,callId:t})},l.prototype.isLocalVideoEnabled=function(){var e=this.callClientName,t=this.callId;return this.proxyInstance.isLocalVideoEnabled({callClientName:e,callId:t})},l.prototype.toggleLocalVideo=function(){return i(this,void 0,void 0,function(){var e,t,n;return o(this,function(i){return t=(e=this).callClientName,n=e.callId,[2,this.proxyInstance.toggleLocalVideo({callClientName:t,callId:n})]})})},l.prototype.isInACall=function(){var e=this.callClientName,t=this.callId;return this.proxyInstance.isInACall({callClientName:e,callId:t})},l.prototype.renderVideoStreams=function(){var e=this.callClientName,t=this.callId;return this.proxyInstance.renderVideoStreams({callClientName:e,callId:t})},l.prototype.disposeVideoRenderers=function(){var e=this.callClientName,t=this.callId;return this.proxyInstance.disposeVideoRenderers({callClientName:e,callId:t})},l.prototype.close=function(){this.debug&&console.debug("[VoiceVideoCallingProxy][close]"),this.proxyInstance.dispose(),this.callingParams=void 0,this.callId=void 0},l.prototype.onCallAdded=function(e){var t=n.CallAdded;this.debug&&console.debug("[VoiceVideoCallingProxy][".concat(t,"]")),this.addEventListener(t,e)},l.prototype.onLocalVideoStreamAdded=function(e){var t=n.LocalVideoStreamAdded;this.debug&&console.debug("[VoiceVideoCallingProxy][".concat(t,"]")),this.addEventListener(t,e)},l.prototype.onLocalVideoStreamRemoved=function(e){var t=n.LocalVideoStreamRemoved;this.debug&&console.debug("[VoiceVideoCallingProxy][".concat(t,"]")),this.addEventListener(t,e)},l.prototype.onRemoteVideoStreamAdded=function(e){var t=n.RemoteVideoStreamAdded;this.debug&&console.debug("[VoiceVideoCallingProxy][".concat(t,"]")),this.addEventListener(t,e)},l.prototype.onRemoteVideoStreamRemoved=function(e){var t=n.RemoteVideoStreamRemoved;this.debug&&console.debug("[VoiceVideoCallingProxy][".concat(t,"]")),this.addEventListener(t,e)},l.prototype.onCallDisconnected=function(l){var c=this,s=n.CallDisconnected;this.debug&&console.debug("[VoiceVideoCallingProxy][".concat(s,"]")),this.addEventListener(s,function(n){return i(c,void 0,void 0,function(){var i,c,s,u,h,p,C;return o(this,function(o){i={SecondaryChannelType:e.Voice,SecondaryChannelEventType:t.End},null===(s=this.scenarioMarker)||void 0===s||s.startScenario(r(d[0]).default.OnCallDisconnected,{CallId:this.callId||''});try{null===(u=this.callingParams)||void 0===u||u.OCClient.makeSecondaryChannelEventRequest(null===(h=this.callingParams)||void 0===h?void 0:h.chatToken.requestId,i),this.debug&&console.debug("[VoiceVideoCallingProxy][onCallDisconnected][makeSecondaryChannelEventRequest]"),null===(p=this.scenarioMarker)||void 0===p||p.completeScenario(r(d[0]).default.OnCallDisconnected,{CallId:this.callId||''})}catch(e){console.error("[VoiceVideoCallingProxy][onCallDisconnected][makeSecondaryChannelEventRequest] Failure ".concat(e)),c={response:'OCClientMakeSecondaryChannelEventRequestFailed'},null===(C=this.scenarioMarker)||void 0===C||C.failScenario(r(d[0]).default.OnCallDisconnected,{CallId:this.callId||'',ExceptionDetails:JSON.stringify(c)})}return this.clearRemoteVideoElementChildren(),l(n),[2]})})})},l.prototype.clearRemoteVideoElementChildren=function(){var e,t;if(null===(e=this.callingParams)||void 0===e?void 0:e.remoteVideoHTMLElementId)for(var n=document.getElementById(null===(t=this.callingParams)||void 0===t?void 0:t.remoteVideoHTMLElementId);null==n?void 0:n.firstChild;)this.debug&&console.debug('[VoiceVideoCallingProxy][clearRemoteVideoElement]'),n.firstChild.remove()},l})();_e2.VoiceVideoCallingProxy=c;_e2.default=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(void 0,l([],e,!0),void 0,function(e){var t;return void 0===e&&(e={}),o(this,function(n){switch(n.label){case 0:return[4,(t=c.getInstance()).load({logger:e.logger||void 0})];case 1:return n.sent(),[2,Promise.resolve(t)]}})})}},925,[767]);
__d(function(g,r,i,a,m,e,d){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),(function(t){t[t.LiveChat=19235e4]="LiveChat",t[t.PersistentChat=192350001]="PersistentChat"})(t||(t={})),e.default=t},926,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCoreServicesOrgUrlDNSError=void 0;e.isCoreServicesOrgUrlDNSError=function(o,s,t){return!!(o.isAxiosError&&o.code==r(d[0]).default.ERR_NETWORK&&s&&t)}},927,[928]);
__d(function(g,r,i,a,m,e,d){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),(function(t){t.ERR_NETWORK="ERR_NETWORK"})(t||(t={})),e.default=t},928,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.handleError=void 0;var o=r(d[0])(r(d[1]));e.handleError=function(n,t){var v=t.message;void 0===v&&(v="");var s={eventName:n,errorMessage:v};o.default.onError(JSON.stringify(s))}},929,[3,410]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.startChat=void 0;var t,n=r(d[0])(r(d[1])),l=r(d[0])(r(d[2]));e.startChat=(t=(0,n.default)(function*(t){try{yield r(d[3]).chatSDKObj.startChat(t);var n=yield r(d[3]).chatSDKObj.getCurrentLiveChatContext(),s=(r(d[4]).TelemetryHelper.addSessionDataToTelemetry(n,r(d[4]).TelemetryHelper.InternalTelemetryData),{eventName:r(d[5]).OCEvents.startChat});l.default.onResponse(JSON.stringify(s))}catch(t){(0,r(d[6]).handleError)(r(d[5]).OCEvents.startChat,t)}}),function(n){return t.apply(this,arguments)})},930,[3,270,410,409,413,408,929]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.onNewMessage=void 0;var n,s=r(d[0])(r(d[1])),o=r(d[0])(r(d[2]));e.onNewMessage=(n=(0,s.default)(function*(n){try{yield r(d[3]).chatSDKObj.onNewMessage((t=(0,s.default)(function*(n){console.log("[onNewMessage] Received message: '"+n.content+"'");var s={eventName:r(d[4]).OCEvents.onNewMessage,response:n};o.default.onResponse(JSON.stringify(s))}),function(n){return t.apply(this,arguments)}),{onNewMessageOptionalParams:n})}catch(n){(0,r(d[5]).handleError)(r(d[4]).OCEvents.onNewMessage,n)}var t}),function(s){return n.apply(this,arguments)})},931,[3,270,410,409,408,929]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.sendMessage=void 0;var s,n=r(d[0])(r(d[1])),t=r(d[0])(r(d[2]));e.sendMessage=(s=(0,n.default)(function*(s,n){try{yield r(d[3]).chatSDKObj.sendMessage(s);var o={eventName:r(d[4]).OCEvents.sendMessage,response:{id:n,message:s.content}};t.default.onResponse(JSON.stringify(o))}catch(s){var f={eventName:r(d[4]).OCEvents.sendMessage,errorMessage:s.message,id:n};t.default.onError(JSON.stringify(f))}}),function(n,t){return s.apply(this,arguments)})},932,[3,270,410,409,408]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.onAgentEndSession=e.endChat=void 0;var n,t,o=r(d[0])(r(d[1])),s=r(d[0])(r(d[2]));e.endChat=(n=(0,o.default)(function*(){try{yield r(d[3]).chatSDKObj.endChat();var n={eventName:r(d[4]).OCEvents.endChat};s.default.onResponse(JSON.stringify(n))}catch(n){(0,r(d[5]).handleError)(r(d[4]).OCEvents.endChat,n)}}),function(){return n.apply(this,arguments)}),e.onAgentEndSession=(t=(0,o.default)(function*(){try{yield r(d[3]).chatSDKObj.onAgentEndSession((n=(0,o.default)(function*(n){var t={eventName:r(d[4]).OCEvents.onAgentEndSession,response:n};s.default.onResponse(JSON.stringify(t))}),function(t){return n.apply(this,arguments)}))}catch(n){(0,r(d[5]).handleError)(r(d[4]).OCEvents.onAgentEndSession,n)}var n}),function(){return t.apply(this,arguments)})},933,[3,270,410,409,408,929]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.sendTyping=e.onAgentTyping=void 0;var n,t,o=r(d[0])(r(d[1])),s=r(d[0])(r(d[2]));e.sendTyping=(n=(0,o.default)(function*(){try{yield r(d[3]).chatSDKObj.sendTypingEvent();var n={eventName:r(d[4]).OCEvents.sendTyping};s.default.onResponse(JSON.stringify(n))}catch(n){(0,r(d[5]).handleError)(r(d[4]).OCEvents.sendTyping,n)}}),function(){return n.apply(this,arguments)}),e.onAgentTyping=(t=(0,o.default)(function*(){var n,t=null,p=function(n){var t={eventName:r(d[4]).OCEvents.onAgentTyping,response:n};s.default.onResponse(JSON.stringify(t))};try{yield r(d[3]).chatSDKObj.onTypingEvent((n=(0,o.default)(function*(n){t&&clearTimeout(t),p(n);var o={status:"Agent stopped typing!"};t=setTimeout(function(){p(o)},5e3)}),function(t){return n.apply(this,arguments)}))}catch(n){(0,r(d[5]).handleError)(r(d[4]).OCEvents.onAgentTyping,n)}}),function(){return t.apply(this,arguments)})},934,[3,270,410,409,408,929]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessages=void 0;var s,t=r(d[0])(r(d[1])),n=r(d[0])(r(d[2]));e.getMessages=(s=(0,t.default)(function*(){try{var s=yield r(d[3]).chatSDKObj.getMessages(),t={eventName:r(d[4]).OCEvents.getMessages,response:s};n.default.onResponse(JSON.stringify(t))}catch(s){(0,r(d[5]).handleError)(r(d[4]).OCEvents.getMessages,s)}}),function(){return s.apply(this,arguments)})},935,[3,270,410,409,408,929]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getConversationDetails=void 0;var t,n=r(d[0])(r(d[1])),s=r(d[0])(r(d[2]));e.getConversationDetails=(t=(0,n.default)(function*(t){try{var n,l,o;if(null!=t&&null!=(n=t.liveChatContext)&&n.requestId)if(r(d[3]).chatSDKObj.requestId!==(null==t?void 0:null==(l=t.liveChatContext)?void 0:l.requestId))r(d[3]).chatSDKObj.cachedRequestId=r(d[3]).chatSDKObj.requestId,r(d[3]).chatSDKObj.requestId=null==t?void 0:null==(o=t.liveChatContext)?void 0:o.requestId;var u=yield r(d[3]).chatSDKObj.getConversationDetails(t),c={eventName:r(d[4]).OCEvents.getConversationDetails,response:u};0!==Object.keys(u).length&&null!=u.state&&'Closed'!==u.state&&'WrapUp'!==u.state||(r(d[3]).chatSDKObj.requestId=r(d[3]).chatSDKObj.cachedRequestId,r(d[3]).chatSDKObj.cachedRequestId=null),s.default.onResponse(JSON.stringify(c))}catch(t){(0,r(d[5]).handleError)(r(d[4]).OCEvents.getConversationDetails,t),r(d[3]).chatSDKObj.requestId=r(d[3]).chatSDKObj.cachedRequestId}}),function(n){return t.apply(this,arguments)})},936,[3,270,410,409,408,929]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getPreChatSurvey=void 0;var t,n=r(d[0])(r(d[1])),u=r(d[0])(r(d[2]));e.getPreChatSurvey=(t=(0,n.default)(function*(){try{var t=yield r(d[3]).chatSDKObj.getPreChatSurvey(!1),n={eventName:r(d[4]).OCEvents.getPreChatSurvey,response:t};u.default.onResponse(JSON.stringify(n))}catch(t){(0,r(d[5]).handleError)(r(d[4]).OCEvents.getPreChatSurvey,t)}}),function(){return t.apply(this,arguments)})},937,[3,270,410,409,408,929]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.downloadFileAttachment=void 0;var t,n=r(d[0])(r(d[1])),o=r(d[0])(r(d[2]));e.downloadFileAttachment=(t=(0,n.default)(function*(t){try{var n=yield r(d[3]).chatSDKObj.downloadFileAttachment(t),l=new FileReader;l.readAsDataURL(n),l.onloadend=function(){var n=l.result,c={eventName:r(d[4]).OCEvents.downloadFileAttachment,response:{Data:n,id:t.id,name:t.name,type:t.type}};o.default.onResponse(JSON.stringify(c))}}catch(t){(0,r(d[5]).handleError)(r(d[4]).OCEvents.downloadFileAttachment,t)}}),function(n){return t.apply(this,arguments)})},938,[3,270,410,409,408,929]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.uploadFileAttachment=void 0;var t,n=r(d[0])(r(d[1])),s=r(d[0])(r(d[2]));e.uploadFileAttachment=(t=(0,n.default)(function*(t,n,o){try{var l=n,p=Buffer.from(l,'base64'),u={name:t.name,type:t.type,size:t.size,data:p},c=yield r(d[3]).chatSDKObj.uploadFileAttachment(u),f={eventName:r(d[4]).OCEvents.uploadFileAttachment,response:{name:u.name,type:u.type,size:u.size,id:o,message:c}};s.default.onResponse(JSON.stringify(f))}catch(n){var y={eventName:r(d[4]).OCEvents.uploadFileAttachment,errorMessage:n.message,id:o,name:t.name,type:t.type};s.default.onError(JSON.stringify(y))}}),function(n,s,o){return t.apply(this,arguments)})},939,[3,270,410,409,408]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getLiveChatTranscript=e.getLiveChatConfig=e.getCurrentLiveChatContext=e.getChatReconnectContext=void 0;var t,n,o,C,s=r(d[0])(r(d[1])),c=r(d[0])(r(d[2]));e.getLiveChatTranscript=(t=(0,s.default)(function*(t){try{var n=yield r(d[3]).chatSDKObj.getLiveChatTranscript(t),o={eventName:r(d[4]).OCEvents.getLiveChatTranscript,response:n};c.default.onResponse(JSON.stringify(o))}catch(t){(0,r(d[5]).handleError)(r(d[4]).OCEvents.getLiveChatTranscript,t)}}),function(n){return t.apply(this,arguments)}),e.getLiveChatConfig=(n=(0,s.default)(function*(t){try{var n=yield r(d[3]).chatSDKObj.getLiveChatConfig(t),o={eventName:r(d[4]).OCEvents.getLiveChatConfig,response:n};c.default.onResponse(JSON.stringify(o))}catch(t){(0,r(d[5]).handleError)(r(d[4]).OCEvents.getLiveChatConfig,t)}}),function(t){return n.apply(this,arguments)}),e.getCurrentLiveChatContext=(o=(0,s.default)(function*(){try{var t=yield r(d[3]).chatSDKObj.getCurrentLiveChatContext(),n={eventName:r(d[4]).OCEvents.getCurrentLiveChatContext,response:t};return c.default.onResponse(JSON.stringify(n)),t}catch(t){(0,r(d[5]).handleError)(r(d[4]).OCEvents.getCurrentLiveChatContext,t)}}),function(){return o.apply(this,arguments)}),e.getChatReconnectContext=(C=(0,s.default)(function*(t){try{var n=yield r(d[3]).chatSDKObj.getChatReconnectContext(t),o={eventName:r(d[4]).OCEvents.getChatReconnectContext,response:n};c.default.onResponse(JSON.stringify(o))}catch(t){(0,r(d[5]).handleError)(r(d[4]).OCEvents.getChatReconnectContext,t)}}),function(t){return C.apply(this,arguments)})},940,[3,270,410,409,408,929]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.emailLiveChatTranscript=void 0;var t,n=r(d[0])(r(d[1])),s=r(d[0])(r(d[2]));e.emailLiveChatTranscript=(t=(0,n.default)(function*(t,n){try{var c=yield r(d[3]).chatSDKObj.emailLiveChatTranscript(t,n),l={eventName:r(d[4]).OCEvents.emailLiveChatTranscript,response:c};s.default.onResponse(JSON.stringify(l))}catch(t){(0,r(d[5]).handleError)(r(d[4]).OCEvents.emailLiveChatTranscript,t)}}),function(n,s){return t.apply(this,arguments)})},941,[3,270,410,409,408,929]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getAgentAvailability=void 0;var t,n=r(d[0])(r(d[1])),l=r(d[0])(r(d[2]));e.getAgentAvailability=(t=(0,n.default)(function*(t){try{var n=yield r(d[3]).chatSDKObj.getAgentAvailability(t),v={eventName:r(d[4]).OCEvents.getAgentAvailability,response:n};l.default.onResponse(JSON.stringify(v))}catch(t){(0,r(d[5]).handleError)(r(d[4]).OCEvents.getAgentAvailability,t)}}),function(n){return t.apply(this,arguments)})},942,[3,270,410,409,408,929]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getChatToken=void 0;var t,n=r(d[0])(r(d[1])),o=r(d[0])(r(d[2]));e.getChatToken=(t=(0,n.default)(function*(t){try{var n=yield r(d[3]).chatSDKObj.getChatToken(t),h={eventName:r(d[4]).OCEvents.getChatToken,response:n};o.default.onResponse(JSON.stringify(h))}catch(t){(0,r(d[5]).handleError)(r(d[4]).OCEvents.getChatToken,t)}}),function(n){return t.apply(this,arguments)})},943,[3,270,410,409,408,929]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getDataMaskingRules=void 0;var t,n=r(d[0])(r(d[1])),s=r(d[0])(r(d[2]));e.getDataMaskingRules=(t=(0,n.default)(function*(){try{var t=yield r(d[3]).chatSDKObj.getDataMaskingRules(),n={eventName:r(d[4]).OCEvents.getDataMaskingRules,response:t};s.default.onResponse(JSON.stringify(n))}catch(t){(0,r(d[5]).handleError)(r(d[4]).OCEvents.getDataMaskingRules,t)}}),function(){return t.apply(this,arguments)})},944,[3,270,410,409,408,929]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getPostChatSurveyContext=void 0;var t,n=r(d[0])(r(d[1])),o=r(d[0])(r(d[2]));e.getPostChatSurveyContext=(t=(0,n.default)(function*(){try{var t=yield r(d[3]).chatSDKObj.getPostChatSurveyContext(),n={eventName:r(d[4]).OCEvents.getPostChatSurveyContext,response:t};o.default.onResponse(JSON.stringify(n))}catch(t){(0,r(d[5]).handleError)(r(d[4]).OCEvents.getPostChatSurveyContext,t)}}),function(){return t.apply(this,arguments)})},945,[3,270,410,409,408,929]);
__d(function(n,a,e,i,d,m,t){d.exports={name:"NativeOmnichannelSdk",displayName:"NativeOmnichannelSdk"}},946,[]);
__r(38);
__r(0);